var rD=Object.defineProperty;var K_=n=>{throw TypeError(n)};var iD=(n,e,t)=>e in n?rD(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var Be=(n,e,t)=>iD(n,typeof e!="symbol"?e+"":e,t),Aw=(n,e,t)=>e.has(n)||K_("Cannot "+t);var m=(n,e,t)=>(Aw(n,e,"read from private field"),t?t.call(n):e.get(n)),H=(n,e,t)=>e.has(n)?K_("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,t),F=(n,e,t,r)=>(Aw(n,e,"write to private field"),r?r.call(n,t):e.set(n,t),t),z=(n,e,t)=>(Aw(n,e,"access private method"),t);var Mr=(n,e,t,r)=>({set _(i){F(n,e,i,t)},get _(){return m(n,e,r)}});function sD(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in n)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(n,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function t(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=t(i);fetch(i.href,s)}})();var Gm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function dg(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function oD(n){if(n.__esModule)return n;var e=n.default;if(typeof e=="function"){var t=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(n).forEach(function(r){var i=Object.getOwnPropertyDescriptor(n,r);Object.defineProperty(t,r,i.get?i:{enumerable:!0,get:function(){return n[r]}})}),t}var kw={exports:{}},xh={},Rw={exports:{}},Ue={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Q_;function aD(){if(Q_)return Ue;Q_=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),a=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),p=Symbol.iterator;function g(U){return U===null||typeof U!="object"?null:(U=p&&U[p]||U["@@iterator"],typeof U=="function"?U:null)}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,w={};function C(U,Z,re){this.props=U,this.context=Z,this.refs=w,this.updater=re||y}C.prototype.isReactComponent={},C.prototype.setState=function(U,Z){if(typeof U!="object"&&typeof U!="function"&&U!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,U,Z,"setState")},C.prototype.forceUpdate=function(U){this.updater.enqueueForceUpdate(this,U,"forceUpdate")};function x(){}x.prototype=C.prototype;function A(U,Z,re){this.props=U,this.context=Z,this.refs=w,this.updater=re||y}var E=A.prototype=new x;E.constructor=A,b(E,C.prototype),E.isPureReactComponent=!0;var _=Array.isArray,k=Object.prototype.hasOwnProperty,M={current:null},T={key:!0,ref:!0,__self:!0,__source:!0};function N(U,Z,re){var le,se={},ce=null,ee=null;if(Z!=null)for(le in Z.ref!==void 0&&(ee=Z.ref),Z.key!==void 0&&(ce=""+Z.key),Z)k.call(Z,le)&&!T.hasOwnProperty(le)&&(se[le]=Z[le]);var oe=arguments.length-2;if(oe===1)se.children=re;else if(1<oe){for(var de=Array(oe),pe=0;pe<oe;pe++)de[pe]=arguments[pe+2];se.children=de}if(U&&U.defaultProps)for(le in oe=U.defaultProps,oe)se[le]===void 0&&(se[le]=oe[le]);return{$$typeof:n,type:U,key:ce,ref:ee,props:se,_owner:M.current}}function W(U,Z){return{$$typeof:n,type:U.type,key:Z,ref:U.ref,props:U.props,_owner:U._owner}}function P(U){return typeof U=="object"&&U!==null&&U.$$typeof===n}function V(U){var Z={"=":"=0",":":"=2"};return"$"+U.replace(/[=:]/g,function(re){return Z[re]})}var X=/\/+/g;function Y(U,Z){return typeof U=="object"&&U!==null&&U.key!=null?V(""+U.key):Z.toString(36)}function D(U,Z,re,le,se){var ce=typeof U;(ce==="undefined"||ce==="boolean")&&(U=null);var ee=!1;if(U===null)ee=!0;else switch(ce){case"string":case"number":ee=!0;break;case"object":switch(U.$$typeof){case n:case e:ee=!0}}if(ee)return ee=U,se=se(ee),U=le===""?"."+Y(ee,0):le,_(se)?(re="",U!=null&&(re=U.replace(X,"$&/")+"/"),D(se,Z,re,"",function(pe){return pe})):se!=null&&(P(se)&&(se=W(se,re+(!se.key||ee&&ee.key===se.key?"":(""+se.key).replace(X,"$&/")+"/")+U)),Z.push(se)),1;if(ee=0,le=le===""?".":le+":",_(U))for(var oe=0;oe<U.length;oe++){ce=U[oe];var de=le+Y(ce,oe);ee+=D(ce,Z,re,de,se)}else if(de=g(U),typeof de=="function")for(U=de.call(U),oe=0;!(ce=U.next()).done;)ce=ce.value,de=le+Y(ce,oe++),ee+=D(ce,Z,re,de,se);else if(ce==="object")throw Z=String(U),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys(U).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.");return ee}function G(U,Z,re){if(U==null)return U;var le=[],se=0;return D(U,le,"","",function(ce){return Z.call(re,ce,se++)}),le}function j(U){if(U._status===-1){var Z=U._result;Z=Z(),Z.then(function(re){(U._status===0||U._status===-1)&&(U._status=1,U._result=re)},function(re){(U._status===0||U._status===-1)&&(U._status=2,U._result=re)}),U._status===-1&&(U._status=0,U._result=Z)}if(U._status===1)return U._result.default;throw U._result}var q={current:null},$={transition:null},B={ReactCurrentDispatcher:q,ReactCurrentBatchConfig:$,ReactCurrentOwner:M};function K(){throw Error("act(...) is not supported in production builds of React.")}return Ue.Children={map:G,forEach:function(U,Z,re){G(U,function(){Z.apply(this,arguments)},re)},count:function(U){var Z=0;return G(U,function(){Z++}),Z},toArray:function(U){return G(U,function(Z){return Z})||[]},only:function(U){if(!P(U))throw Error("React.Children.only expected to receive a single React element child.");return U}},Ue.Component=C,Ue.Fragment=t,Ue.Profiler=i,Ue.PureComponent=A,Ue.StrictMode=r,Ue.Suspense=u,Ue.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=B,Ue.act=K,Ue.cloneElement=function(U,Z,re){if(U==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+U+".");var le=b({},U.props),se=U.key,ce=U.ref,ee=U._owner;if(Z!=null){if(Z.ref!==void 0&&(ce=Z.ref,ee=M.current),Z.key!==void 0&&(se=""+Z.key),U.type&&U.type.defaultProps)var oe=U.type.defaultProps;for(de in Z)k.call(Z,de)&&!T.hasOwnProperty(de)&&(le[de]=Z[de]===void 0&&oe!==void 0?oe[de]:Z[de])}var de=arguments.length-2;if(de===1)le.children=re;else if(1<de){oe=Array(de);for(var pe=0;pe<de;pe++)oe[pe]=arguments[pe+2];le.children=oe}return{$$typeof:n,type:U.type,key:se,ref:ce,props:le,_owner:ee}},Ue.createContext=function(U){return U={$$typeof:a,_currentValue:U,_currentValue2:U,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},U.Provider={$$typeof:s,_context:U},U.Consumer=U},Ue.createElement=N,Ue.createFactory=function(U){var Z=N.bind(null,U);return Z.type=U,Z},Ue.createRef=function(){return{current:null}},Ue.forwardRef=function(U){return{$$typeof:l,render:U}},Ue.isValidElement=P,Ue.lazy=function(U){return{$$typeof:h,_payload:{_status:-1,_result:U},_init:j}},Ue.memo=function(U,Z){return{$$typeof:d,type:U,compare:Z===void 0?null:Z}},Ue.startTransition=function(U){var Z=$.transition;$.transition={};try{U()}finally{$.transition=Z}},Ue.unstable_act=K,Ue.useCallback=function(U,Z){return q.current.useCallback(U,Z)},Ue.useContext=function(U){return q.current.useContext(U)},Ue.useDebugValue=function(){},Ue.useDeferredValue=function(U){return q.current.useDeferredValue(U)},Ue.useEffect=function(U,Z){return q.current.useEffect(U,Z)},Ue.useId=function(){return q.current.useId()},Ue.useImperativeHandle=function(U,Z,re){return q.current.useImperativeHandle(U,Z,re)},Ue.useInsertionEffect=function(U,Z){return q.current.useInsertionEffect(U,Z)},Ue.useLayoutEffect=function(U,Z){return q.current.useLayoutEffect(U,Z)},Ue.useMemo=function(U,Z){return q.current.useMemo(U,Z)},Ue.useReducer=function(U,Z,re){return q.current.useReducer(U,Z,re)},Ue.useRef=function(U){return q.current.useRef(U)},Ue.useState=function(U){return q.current.useState(U)},Ue.useSyncExternalStore=function(U,Z,re){return q.current.useSyncExternalStore(U,Z,re)},Ue.useTransition=function(){return q.current.useTransition()},Ue.version="18.3.1",Ue}var Z_;function Cc(){return Z_||(Z_=1,Rw.exports=aD()),Rw.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var J_;function lD(){if(J_)return xh;J_=1;var n=Cc(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function a(l,u,d){var h,p={},g=null,y=null;d!==void 0&&(g=""+d),u.key!==void 0&&(g=""+u.key),u.ref!==void 0&&(y=u.ref);for(h in u)r.call(u,h)&&!s.hasOwnProperty(h)&&(p[h]=u[h]);if(l&&l.defaultProps)for(h in u=l.defaultProps,u)p[h]===void 0&&(p[h]=u[h]);return{$$typeof:e,type:l,key:g,ref:y,props:p,_owner:i.current}}return xh.Fragment=t,xh.jsx=a,xh.jsxs=a,xh}var eA;function cD(){return eA||(eA=1,kw.exports=lD()),kw.exports}var L=cD(),I=Cc();const ct=dg(I),vx=sD({__proto__:null,default:ct},[I]);var Xm={},Tw={exports:{}},fr={},Pw={exports:{}},Mw={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tA;function uD(){return tA||(tA=1,function(n){function e($,B){var K=$.length;$.push(B);e:for(;0<K;){var U=K-1>>>1,Z=$[U];if(0<i(Z,B))$[U]=B,$[K]=Z,K=U;else break e}}function t($){return $.length===0?null:$[0]}function r($){if($.length===0)return null;var B=$[0],K=$.pop();if(K!==B){$[0]=K;e:for(var U=0,Z=$.length,re=Z>>>1;U<re;){var le=2*(U+1)-1,se=$[le],ce=le+1,ee=$[ce];if(0>i(se,K))ce<Z&&0>i(ee,se)?($[U]=ee,$[ce]=K,U=ce):($[U]=se,$[le]=K,U=le);else if(ce<Z&&0>i(ee,K))$[U]=ee,$[ce]=K,U=ce;else break e}}return B}function i($,B){var K=$.sortIndex-B.sortIndex;return K!==0?K:$.id-B.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var a=Date,l=a.now();n.unstable_now=function(){return a.now()-l}}var u=[],d=[],h=1,p=null,g=3,y=!1,b=!1,w=!1,C=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E($){for(var B=t(d);B!==null;){if(B.callback===null)r(d);else if(B.startTime<=$)r(d),B.sortIndex=B.expirationTime,e(u,B);else break;B=t(d)}}function _($){if(w=!1,E($),!b)if(t(u)!==null)b=!0,j(k);else{var B=t(d);B!==null&&q(_,B.startTime-$)}}function k($,B){b=!1,w&&(w=!1,x(N),N=-1),y=!0;var K=g;try{for(E(B),p=t(u);p!==null&&(!(p.expirationTime>B)||$&&!V());){var U=p.callback;if(typeof U=="function"){p.callback=null,g=p.priorityLevel;var Z=U(p.expirationTime<=B);B=n.unstable_now(),typeof Z=="function"?p.callback=Z:p===t(u)&&r(u),E(B)}else r(u);p=t(u)}if(p!==null)var re=!0;else{var le=t(d);le!==null&&q(_,le.startTime-B),re=!1}return re}finally{p=null,g=K,y=!1}}var M=!1,T=null,N=-1,W=5,P=-1;function V(){return!(n.unstable_now()-P<W)}function X(){if(T!==null){var $=n.unstable_now();P=$;var B=!0;try{B=T(!0,$)}finally{B?Y():(M=!1,T=null)}}else M=!1}var Y;if(typeof A=="function")Y=function(){A(X)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,G=D.port2;D.port1.onmessage=X,Y=function(){G.postMessage(null)}}else Y=function(){C(X,0)};function j($){T=$,M||(M=!0,Y())}function q($,B){N=C(function(){$(n.unstable_now())},B)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function($){$.callback=null},n.unstable_continueExecution=function(){b||y||(b=!0,j(k))},n.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):W=0<$?Math.floor(1e3/$):5},n.unstable_getCurrentPriorityLevel=function(){return g},n.unstable_getFirstCallbackNode=function(){return t(u)},n.unstable_next=function($){switch(g){case 1:case 2:case 3:var B=3;break;default:B=g}var K=g;g=B;try{return $()}finally{g=K}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function($,B){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var K=g;g=$;try{return B()}finally{g=K}},n.unstable_scheduleCallback=function($,B,K){var U=n.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?U+K:U):K=U,$){case 1:var Z=-1;break;case 2:Z=250;break;case 5:Z=1073741823;break;case 4:Z=1e4;break;default:Z=5e3}return Z=K+Z,$={id:h++,callback:B,priorityLevel:$,startTime:K,expirationTime:Z,sortIndex:-1},K>U?($.sortIndex=K,e(d,$),t(u)===null&&$===t(d)&&(w?(x(N),N=-1):w=!0,q(_,K-U))):($.sortIndex=Z,e(u,$),b||y||(b=!0,j(k))),$},n.unstable_shouldYield=V,n.unstable_wrapCallback=function($){var B=g;return function(){var K=g;g=B;try{return $.apply(this,arguments)}finally{g=K}}}}(Mw)),Mw}var nA;function dD(){return nA||(nA=1,Pw.exports=uD()),Pw.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rA;function hD(){if(rA)return fr;rA=1;var n=Cc(),e=dD();function t(o){for(var c="https://reactjs.org/docs/error-decoder.html?invariant="+o,f=1;f<arguments.length;f++)c+="&args[]="+encodeURIComponent(arguments[f]);return"Minified React error #"+o+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function s(o,c){a(o,c),a(o+"Capture",c)}function a(o,c){for(i[o]=c,o=0;o<c.length;o++)r.add(c[o])}var l=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),u=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h={},p={};function g(o){return u.call(p,o)?!0:u.call(h,o)?!1:d.test(o)?p[o]=!0:(h[o]=!0,!1)}function y(o,c,f,v){if(f!==null&&f.type===0)return!1;switch(typeof c){case"function":case"symbol":return!0;case"boolean":return v?!1:f!==null?!f.acceptsBooleans:(o=o.toLowerCase().slice(0,5),o!=="data-"&&o!=="aria-");default:return!1}}function b(o,c,f,v){if(c===null||typeof c>"u"||y(o,c,f,v))return!0;if(v)return!1;if(f!==null)switch(f.type){case 3:return!c;case 4:return c===!1;case 5:return isNaN(c);case 6:return isNaN(c)||1>c}return!1}function w(o,c,f,v,S,R,O){this.acceptsBooleans=c===2||c===3||c===4,this.attributeName=v,this.attributeNamespace=S,this.mustUseProperty=f,this.propertyName=o,this.type=c,this.sanitizeURL=R,this.removeEmptyString=O}var C={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(o){C[o]=new w(o,0,!1,o,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(o){var c=o[0];C[c]=new w(c,1,!1,o[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(o){C[o]=new w(o,2,!1,o.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(o){C[o]=new w(o,2,!1,o,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(o){C[o]=new w(o,3,!1,o.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(o){C[o]=new w(o,3,!0,o,null,!1,!1)}),["capture","download"].forEach(function(o){C[o]=new w(o,4,!1,o,null,!1,!1)}),["cols","rows","size","span"].forEach(function(o){C[o]=new w(o,6,!1,o,null,!1,!1)}),["rowSpan","start"].forEach(function(o){C[o]=new w(o,5,!1,o.toLowerCase(),null,!1,!1)});var x=/[\-:]([a-z])/g;function A(o){return o[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(o){var c=o.replace(x,A);C[c]=new w(c,1,!1,o,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(o){var c=o.replace(x,A);C[c]=new w(c,1,!1,o,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(o){var c=o.replace(x,A);C[c]=new w(c,1,!1,o,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(o){C[o]=new w(o,1,!1,o.toLowerCase(),null,!1,!1)}),C.xlinkHref=new w("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(o){C[o]=new w(o,1,!1,o.toLowerCase(),null,!0,!0)});function E(o,c,f,v){var S=C.hasOwnProperty(c)?C[c]:null;(S!==null?S.type!==0:v||!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(b(c,f,S,v)&&(f=null),v||S===null?g(c)&&(f===null?o.removeAttribute(c):o.setAttribute(c,""+f)):S.mustUseProperty?o[S.propertyName]=f===null?S.type===3?!1:"":f:(c=S.attributeName,v=S.attributeNamespace,f===null?o.removeAttribute(c):(S=S.type,f=S===3||S===4&&f===!0?"":""+f,v?o.setAttributeNS(v,c,f):o.setAttribute(c,f))))}var _=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,k=Symbol.for("react.element"),M=Symbol.for("react.portal"),T=Symbol.for("react.fragment"),N=Symbol.for("react.strict_mode"),W=Symbol.for("react.profiler"),P=Symbol.for("react.provider"),V=Symbol.for("react.context"),X=Symbol.for("react.forward_ref"),Y=Symbol.for("react.suspense"),D=Symbol.for("react.suspense_list"),G=Symbol.for("react.memo"),j=Symbol.for("react.lazy"),q=Symbol.for("react.offscreen"),$=Symbol.iterator;function B(o){return o===null||typeof o!="object"?null:(o=$&&o[$]||o["@@iterator"],typeof o=="function"?o:null)}var K=Object.assign,U;function Z(o){if(U===void 0)try{throw Error()}catch(f){var c=f.stack.trim().match(/\n( *(at )?)/);U=c&&c[1]||""}return`
`+U+o}var re=!1;function le(o,c){if(!o||re)return"";re=!0;var f=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(c)if(c=function(){throw Error()},Object.defineProperty(c.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(c,[])}catch(ae){var v=ae}Reflect.construct(o,[],c)}else{try{c.call()}catch(ae){v=ae}o.call(c.prototype)}else{try{throw Error()}catch(ae){v=ae}o()}}catch(ae){if(ae&&v&&typeof ae.stack=="string"){for(var S=ae.stack.split(`
`),R=v.stack.split(`
`),O=S.length-1,Q=R.length-1;1<=O&&0<=Q&&S[O]!==R[Q];)Q--;for(;1<=O&&0<=Q;O--,Q--)if(S[O]!==R[Q]){if(O!==1||Q!==1)do if(O--,Q--,0>Q||S[O]!==R[Q]){var J=`
`+S[O].replace(" at new "," at ");return o.displayName&&J.includes("<anonymous>")&&(J=J.replace("<anonymous>",o.displayName)),J}while(1<=O&&0<=Q);break}}}finally{re=!1,Error.prepareStackTrace=f}return(o=o?o.displayName||o.name:"")?Z(o):""}function se(o){switch(o.tag){case 5:return Z(o.type);case 16:return Z("Lazy");case 13:return Z("Suspense");case 19:return Z("SuspenseList");case 0:case 2:case 15:return o=le(o.type,!1),o;case 11:return o=le(o.type.render,!1),o;case 1:return o=le(o.type,!0),o;default:return""}}function ce(o){if(o==null)return null;if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case T:return"Fragment";case M:return"Portal";case W:return"Profiler";case N:return"StrictMode";case Y:return"Suspense";case D:return"SuspenseList"}if(typeof o=="object")switch(o.$$typeof){case V:return(o.displayName||"Context")+".Consumer";case P:return(o._context.displayName||"Context")+".Provider";case X:var c=o.render;return o=o.displayName,o||(o=c.displayName||c.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case G:return c=o.displayName||null,c!==null?c:ce(o.type)||"Memo";case j:c=o._payload,o=o._init;try{return ce(o(c))}catch{}}return null}function ee(o){var c=o.type;switch(o.tag){case 24:return"Cache";case 9:return(c.displayName||"Context")+".Consumer";case 10:return(c._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return o=c.render,o=o.displayName||o.name||"",c.displayName||(o!==""?"ForwardRef("+o+")":"ForwardRef");case 7:return"Fragment";case 5:return c;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ce(c);case 8:return c===N?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof c=="function")return c.displayName||c.name||null;if(typeof c=="string")return c}return null}function oe(o){switch(typeof o){case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function de(o){var c=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(c==="checkbox"||c==="radio")}function pe(o){var c=de(o)?"checked":"value",f=Object.getOwnPropertyDescriptor(o.constructor.prototype,c),v=""+o[c];if(!o.hasOwnProperty(c)&&typeof f<"u"&&typeof f.get=="function"&&typeof f.set=="function"){var S=f.get,R=f.set;return Object.defineProperty(o,c,{configurable:!0,get:function(){return S.call(this)},set:function(O){v=""+O,R.call(this,O)}}),Object.defineProperty(o,c,{enumerable:f.enumerable}),{getValue:function(){return v},setValue:function(O){v=""+O},stopTracking:function(){o._valueTracker=null,delete o[c]}}}}function me(o){o._valueTracker||(o._valueTracker=pe(o))}function ge(o){if(!o)return!1;var c=o._valueTracker;if(!c)return!0;var f=c.getValue(),v="";return o&&(v=de(o)?o.checked?"true":"false":o.value),o=v,o!==f?(c.setValue(o),!0):!1}function Re(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}function be(o,c){var f=c.checked;return K({},c,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:f??o._wrapperState.initialChecked})}function je(o,c){var f=c.defaultValue==null?"":c.defaultValue,v=c.checked!=null?c.checked:c.defaultChecked;f=oe(c.value!=null?c.value:f),o._wrapperState={initialChecked:v,initialValue:f,controlled:c.type==="checkbox"||c.type==="radio"?c.checked!=null:c.value!=null}}function mt(o,c){c=c.checked,c!=null&&E(o,"checked",c,!1)}function Dt(o,c){mt(o,c);var f=oe(c.value),v=c.type;if(f!=null)v==="number"?(f===0&&o.value===""||o.value!=f)&&(o.value=""+f):o.value!==""+f&&(o.value=""+f);else if(v==="submit"||v==="reset"){o.removeAttribute("value");return}c.hasOwnProperty("value")?yn(o,c.type,f):c.hasOwnProperty("defaultValue")&&yn(o,c.type,oe(c.defaultValue)),c.checked==null&&c.defaultChecked!=null&&(o.defaultChecked=!!c.defaultChecked)}function Tt(o,c,f){if(c.hasOwnProperty("value")||c.hasOwnProperty("defaultValue")){var v=c.type;if(!(v!=="submit"&&v!=="reset"||c.value!==void 0&&c.value!==null))return;c=""+o._wrapperState.initialValue,f||c===o.value||(o.value=c),o.defaultValue=c}f=o.name,f!==""&&(o.name=""),o.defaultChecked=!!o._wrapperState.initialChecked,f!==""&&(o.name=f)}function yn(o,c,f){(c!=="number"||Re(o.ownerDocument)!==o)&&(f==null?o.defaultValue=""+o._wrapperState.initialValue:o.defaultValue!==""+f&&(o.defaultValue=""+f))}var St=Array.isArray;function ut(o,c,f,v){if(o=o.options,c){c={};for(var S=0;S<f.length;S++)c["$"+f[S]]=!0;for(f=0;f<o.length;f++)S=c.hasOwnProperty("$"+o[f].value),o[f].selected!==S&&(o[f].selected=S),S&&v&&(o[f].defaultSelected=!0)}else{for(f=""+oe(f),c=null,S=0;S<o.length;S++){if(o[S].value===f){o[S].selected=!0,v&&(o[S].defaultSelected=!0);return}c!==null||o[S].disabled||(c=o[S])}c!==null&&(c.selected=!0)}}function Te(o,c){if(c.dangerouslySetInnerHTML!=null)throw Error(t(91));return K({},c,{value:void 0,defaultValue:void 0,children:""+o._wrapperState.initialValue})}function Yn(o,c){var f=c.value;if(f==null){if(f=c.children,c=c.defaultValue,f!=null){if(c!=null)throw Error(t(92));if(St(f)){if(1<f.length)throw Error(t(93));f=f[0]}c=f}c==null&&(c=""),f=c}o._wrapperState={initialValue:oe(f)}}function Yt(o,c){var f=oe(c.value),v=oe(c.defaultValue);f!=null&&(f=""+f,f!==o.value&&(o.value=f),c.defaultValue==null&&o.defaultValue!==f&&(o.defaultValue=f)),v!=null&&(o.defaultValue=""+v)}function qn(o){var c=o.textContent;c===o._wrapperState.initialValue&&c!==""&&c!==null&&(o.value=c)}function or(o){switch(o){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ar(o,c){return o==null||o==="http://www.w3.org/1999/xhtml"?or(c):o==="http://www.w3.org/2000/svg"&&c==="foreignObject"?"http://www.w3.org/1999/xhtml":o}var Cr,_r=function(o){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(c,f,v,S){MSApp.execUnsafeLocalFunction(function(){return o(c,f,v,S)})}:o}(function(o,c){if(o.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in o)o.innerHTML=c;else{for(Cr=Cr||document.createElement("div"),Cr.innerHTML="<svg>"+c.valueOf().toString()+"</svg>",c=Cr.firstChild;o.firstChild;)o.removeChild(o.firstChild);for(;c.firstChild;)o.appendChild(c.firstChild)}});function Kn(o,c){if(c){var f=o.firstChild;if(f&&f===o.lastChild&&f.nodeType===3){f.nodeValue=c;return}}o.textContent=c}var et={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Bi=["Webkit","ms","Moz","O"];Object.keys(et).forEach(function(o){Bi.forEach(function(c){c=c+o.charAt(0).toUpperCase()+o.substring(1),et[c]=et[o]})});function Hi(o,c,f){return c==null||typeof c=="boolean"||c===""?"":f||typeof c!="number"||c===0||et.hasOwnProperty(o)&&et[o]?(""+c).trim():c+"px"}function Wa(o,c){o=o.style;for(var f in c)if(c.hasOwnProperty(f)){var v=f.indexOf("--")===0,S=Hi(f,c[f],v);f==="float"&&(f="cssFloat"),v?o.setProperty(f,S):o[f]=S}}var De=K({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function st(o,c){if(c){if(De[o]&&(c.children!=null||c.dangerouslySetInnerHTML!=null))throw Error(t(137,o));if(c.dangerouslySetInnerHTML!=null){if(c.children!=null)throw Error(t(60));if(typeof c.dangerouslySetInnerHTML!="object"||!("__html"in c.dangerouslySetInnerHTML))throw Error(t(61))}if(c.style!=null&&typeof c.style!="object")throw Error(t(62))}}function Ot(o,c){if(o.indexOf("-")===-1)return typeof c.is=="string";switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Xr=null;function Po(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var Od=null,Mo=null,Io=null;function Ig(o){if(o=oh(o)){if(typeof Od!="function")throw Error(t(280));var c=o.stateNode;c&&(c=am(c),Od(o.stateNode,o.type,c))}}function Fd(o){Mo?Io?Io.push(o):Io=[o]:Mo=o}function Ng(){if(Mo){var o=Mo,c=Io;if(Io=Mo=null,Ig(o),c)for(o=0;o<c.length;o++)Ig(c[o])}}function Lg(o,c){return o(c)}function Dg(){}var zd=!1;function Og(o,c,f){if(zd)return o(c,f);zd=!0;try{return Lg(o,c,f)}finally{zd=!1,(Mo!==null||Io!==null)&&(Dg(),Ng())}}function Ua(o,c){var f=o.stateNode;if(f===null)return null;var v=am(f);if(v===null)return null;f=v[c];e:switch(c){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(v=!v.disabled)||(o=o.type,v=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!v;break e;default:o=!1}if(o)return null;if(f&&typeof f!="function")throw Error(t(231,c,typeof f));return f}var $d=!1;if(l)try{var Va={};Object.defineProperty(Va,"passive",{get:function(){$d=!0}}),window.addEventListener("test",Va,Va),window.removeEventListener("test",Va,Va)}catch{$d=!1}function Dv(o,c,f,v,S,R,O,Q,J){var ae=Array.prototype.slice.call(arguments,3);try{c.apply(f,ae)}catch(fe){this.onError(fe)}}var Ga=!1,Tc=null,Pc=!1,Bd=null,Ov={onError:function(o){Ga=!0,Tc=o}};function Fv(o,c,f,v,S,R,O,Q,J){Ga=!1,Tc=null,Dv.apply(Ov,arguments)}function Fg(o,c,f,v,S,R,O,Q,J){if(Fv.apply(this,arguments),Ga){if(Ga){var ae=Tc;Ga=!1,Tc=null}else throw Error(t(198));Pc||(Pc=!0,Bd=ae)}}function ji(o){var c=o,f=o;if(o.alternate)for(;c.return;)c=c.return;else{o=c;do c=o,(c.flags&4098)!==0&&(f=c.return),o=c.return;while(o)}return c.tag===3?f:null}function zg(o){if(o.tag===13){var c=o.memoizedState;if(c===null&&(o=o.alternate,o!==null&&(c=o.memoizedState)),c!==null)return c.dehydrated}return null}function $g(o){if(ji(o)!==o)throw Error(t(188))}function zv(o){var c=o.alternate;if(!c){if(c=ji(o),c===null)throw Error(t(188));return c!==o?null:o}for(var f=o,v=c;;){var S=f.return;if(S===null)break;var R=S.alternate;if(R===null){if(v=S.return,v!==null){f=v;continue}break}if(S.child===R.child){for(R=S.child;R;){if(R===f)return $g(S),o;if(R===v)return $g(S),c;R=R.sibling}throw Error(t(188))}if(f.return!==v.return)f=S,v=R;else{for(var O=!1,Q=S.child;Q;){if(Q===f){O=!0,f=S,v=R;break}if(Q===v){O=!0,v=S,f=R;break}Q=Q.sibling}if(!O){for(Q=R.child;Q;){if(Q===f){O=!0,f=R,v=S;break}if(Q===v){O=!0,v=R,f=S;break}Q=Q.sibling}if(!O)throw Error(t(189))}}if(f.alternate!==v)throw Error(t(190))}if(f.tag!==3)throw Error(t(188));return f.stateNode.current===f?o:c}function Bg(o){return o=zv(o),o!==null?Hg(o):null}function Hg(o){if(o.tag===5||o.tag===6)return o;for(o=o.child;o!==null;){var c=Hg(o);if(c!==null)return c;o=o.sibling}return null}var jg=e.unstable_scheduleCallback,Wg=e.unstable_cancelCallback,Ug=e.unstable_shouldYield,$v=e.unstable_requestPaint,Ft=e.unstable_now,Bv=e.unstable_getCurrentPriorityLevel,Hd=e.unstable_ImmediatePriority,Vg=e.unstable_UserBlockingPriority,Mc=e.unstable_NormalPriority,Hv=e.unstable_LowPriority,jd=e.unstable_IdlePriority,Ic=null,Yr=null;function jv(o){if(Yr&&typeof Yr.onCommitFiberRoot=="function")try{Yr.onCommitFiberRoot(Ic,o,void 0,(o.current.flags&128)===128)}catch{}}var Ar=Math.clz32?Math.clz32:Vv,Wv=Math.log,Uv=Math.LN2;function Vv(o){return o>>>=0,o===0?32:31-(Wv(o)/Uv|0)|0}var As=64,Nc=4194304;function Xa(o){switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return o&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return o}}function No(o,c){var f=o.pendingLanes;if(f===0)return 0;var v=0,S=o.suspendedLanes,R=o.pingedLanes,O=f&268435455;if(O!==0){var Q=O&~S;Q!==0?v=Xa(Q):(R&=O,R!==0&&(v=Xa(R)))}else O=f&~S,O!==0?v=Xa(O):R!==0&&(v=Xa(R));if(v===0)return 0;if(c!==0&&c!==v&&(c&S)===0&&(S=v&-v,R=c&-c,S>=R||S===16&&(R&4194240)!==0))return c;if((v&4)!==0&&(v|=f&16),c=o.entangledLanes,c!==0)for(o=o.entanglements,c&=v;0<c;)f=31-Ar(c),S=1<<f,v|=o[f],c&=~S;return v}function Gv(o,c){switch(o){case 1:case 2:case 4:return c+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Xv(o,c){for(var f=o.suspendedLanes,v=o.pingedLanes,S=o.expirationTimes,R=o.pendingLanes;0<R;){var O=31-Ar(R),Q=1<<O,J=S[O];J===-1?((Q&f)===0||(Q&v)!==0)&&(S[O]=Gv(Q,c)):J<=c&&(o.expiredLanes|=Q),R&=~Q}}function Lc(o){return o=o.pendingLanes&-1073741825,o!==0?o:o&1073741824?1073741824:0}function kE(){var o=As;return As<<=1,(As&4194240)===0&&(As=64),o}function Yv(o){for(var c=[],f=0;31>f;f++)c.push(o);return c}function Wd(o,c,f){o.pendingLanes|=c,c!==536870912&&(o.suspendedLanes=0,o.pingedLanes=0),o=o.eventTimes,c=31-Ar(c),o[c]=f}function C2(o,c){var f=o.pendingLanes&~c;o.pendingLanes=c,o.suspendedLanes=0,o.pingedLanes=0,o.expiredLanes&=c,o.mutableReadLanes&=c,o.entangledLanes&=c,c=o.entanglements;var v=o.eventTimes;for(o=o.expirationTimes;0<f;){var S=31-Ar(f),R=1<<S;c[S]=0,v[S]=-1,o[S]=-1,f&=~R}}function qv(o,c){var f=o.entangledLanes|=c;for(o=o.entanglements;f;){var v=31-Ar(f),S=1<<v;S&c|o[v]&c&&(o[v]|=c),f&=~S}}var ft=0;function RE(o){return o&=-o,1<o?4<o?(o&268435455)!==0?16:536870912:4:1}var TE,Kv,PE,ME,IE,Qv=!1,Gg=[],Lo=null,Do=null,Oo=null,Ud=new Map,Vd=new Map,Fo=[],_2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function NE(o,c){switch(o){case"focusin":case"focusout":Lo=null;break;case"dragenter":case"dragleave":Do=null;break;case"mouseover":case"mouseout":Oo=null;break;case"pointerover":case"pointerout":Ud.delete(c.pointerId);break;case"gotpointercapture":case"lostpointercapture":Vd.delete(c.pointerId)}}function Gd(o,c,f,v,S,R){return o===null||o.nativeEvent!==R?(o={blockedOn:c,domEventName:f,eventSystemFlags:v,nativeEvent:R,targetContainers:[S]},c!==null&&(c=oh(c),c!==null&&Kv(c)),o):(o.eventSystemFlags|=v,c=o.targetContainers,S!==null&&c.indexOf(S)===-1&&c.push(S),o)}function A2(o,c,f,v,S){switch(c){case"focusin":return Lo=Gd(Lo,o,c,f,v,S),!0;case"dragenter":return Do=Gd(Do,o,c,f,v,S),!0;case"mouseover":return Oo=Gd(Oo,o,c,f,v,S),!0;case"pointerover":var R=S.pointerId;return Ud.set(R,Gd(Ud.get(R)||null,o,c,f,v,S)),!0;case"gotpointercapture":return R=S.pointerId,Vd.set(R,Gd(Vd.get(R)||null,o,c,f,v,S)),!0}return!1}function LE(o){var c=Ya(o.target);if(c!==null){var f=ji(c);if(f!==null){if(c=f.tag,c===13){if(c=zg(f),c!==null){o.blockedOn=c,IE(o.priority,function(){PE(f)});return}}else if(c===3&&f.stateNode.current.memoizedState.isDehydrated){o.blockedOn=f.tag===3?f.stateNode.containerInfo:null;return}}}o.blockedOn=null}function Xg(o){if(o.blockedOn!==null)return!1;for(var c=o.targetContainers;0<c.length;){var f=Jv(o.domEventName,o.eventSystemFlags,c[0],o.nativeEvent);if(f===null){f=o.nativeEvent;var v=new f.constructor(f.type,f);Xr=v,f.target.dispatchEvent(v),Xr=null}else return c=oh(f),c!==null&&Kv(c),o.blockedOn=f,!1;c.shift()}return!0}function DE(o,c,f){Xg(o)&&f.delete(c)}function k2(){Qv=!1,Lo!==null&&Xg(Lo)&&(Lo=null),Do!==null&&Xg(Do)&&(Do=null),Oo!==null&&Xg(Oo)&&(Oo=null),Ud.forEach(DE),Vd.forEach(DE)}function Xd(o,c){o.blockedOn===c&&(o.blockedOn=null,Qv||(Qv=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,k2)))}function Yd(o){function c(S){return Xd(S,o)}if(0<Gg.length){Xd(Gg[0],o);for(var f=1;f<Gg.length;f++){var v=Gg[f];v.blockedOn===o&&(v.blockedOn=null)}}for(Lo!==null&&Xd(Lo,o),Do!==null&&Xd(Do,o),Oo!==null&&Xd(Oo,o),Ud.forEach(c),Vd.forEach(c),f=0;f<Fo.length;f++)v=Fo[f],v.blockedOn===o&&(v.blockedOn=null);for(;0<Fo.length&&(f=Fo[0],f.blockedOn===null);)LE(f),f.blockedOn===null&&Fo.shift()}var Dc=_.ReactCurrentBatchConfig,Yg=!0;function R2(o,c,f,v){var S=ft,R=Dc.transition;Dc.transition=null;try{ft=1,Zv(o,c,f,v)}finally{ft=S,Dc.transition=R}}function T2(o,c,f,v){var S=ft,R=Dc.transition;Dc.transition=null;try{ft=4,Zv(o,c,f,v)}finally{ft=S,Dc.transition=R}}function Zv(o,c,f,v){if(Yg){var S=Jv(o,c,f,v);if(S===null)mb(o,c,v,qg,f),NE(o,v);else if(A2(S,o,c,f,v))v.stopPropagation();else if(NE(o,v),c&4&&-1<_2.indexOf(o)){for(;S!==null;){var R=oh(S);if(R!==null&&TE(R),R=Jv(o,c,f,v),R===null&&mb(o,c,v,qg,f),R===S)break;S=R}S!==null&&v.stopPropagation()}else mb(o,c,v,null,f)}}var qg=null;function Jv(o,c,f,v){if(qg=null,o=Po(v),o=Ya(o),o!==null)if(c=ji(o),c===null)o=null;else if(f=c.tag,f===13){if(o=zg(c),o!==null)return o;o=null}else if(f===3){if(c.stateNode.current.memoizedState.isDehydrated)return c.tag===3?c.stateNode.containerInfo:null;o=null}else c!==o&&(o=null);return qg=o,null}function OE(o){switch(o){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Bv()){case Hd:return 1;case Vg:return 4;case Mc:case Hv:return 16;case jd:return 536870912;default:return 16}default:return 16}}var zo=null,eb=null,Kg=null;function FE(){if(Kg)return Kg;var o,c=eb,f=c.length,v,S="value"in zo?zo.value:zo.textContent,R=S.length;for(o=0;o<f&&c[o]===S[o];o++);var O=f-o;for(v=1;v<=O&&c[f-v]===S[R-v];v++);return Kg=S.slice(o,1<v?1-v:void 0)}function Qg(o){var c=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&c===13&&(o=13)):o=c,o===10&&(o=13),32<=o||o===13?o:0}function Zg(){return!0}function zE(){return!1}function kr(o){function c(f,v,S,R,O){this._reactName=f,this._targetInst=S,this.type=v,this.nativeEvent=R,this.target=O,this.currentTarget=null;for(var Q in o)o.hasOwnProperty(Q)&&(f=o[Q],this[Q]=f?f(R):R[Q]);return this.isDefaultPrevented=(R.defaultPrevented!=null?R.defaultPrevented:R.returnValue===!1)?Zg:zE,this.isPropagationStopped=zE,this}return K(c.prototype,{preventDefault:function(){this.defaultPrevented=!0;var f=this.nativeEvent;f&&(f.preventDefault?f.preventDefault():typeof f.returnValue!="unknown"&&(f.returnValue=!1),this.isDefaultPrevented=Zg)},stopPropagation:function(){var f=this.nativeEvent;f&&(f.stopPropagation?f.stopPropagation():typeof f.cancelBubble!="unknown"&&(f.cancelBubble=!0),this.isPropagationStopped=Zg)},persist:function(){},isPersistent:Zg}),c}var Oc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},tb=kr(Oc),qd=K({},Oc,{view:0,detail:0}),P2=kr(qd),nb,rb,Kd,Jg=K({},qd,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:sb,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==Kd&&(Kd&&o.type==="mousemove"?(nb=o.screenX-Kd.screenX,rb=o.screenY-Kd.screenY):rb=nb=0,Kd=o),nb)},movementY:function(o){return"movementY"in o?o.movementY:rb}}),$E=kr(Jg),M2=K({},Jg,{dataTransfer:0}),I2=kr(M2),N2=K({},qd,{relatedTarget:0}),ib=kr(N2),L2=K({},Oc,{animationName:0,elapsedTime:0,pseudoElement:0}),D2=kr(L2),O2=K({},Oc,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),F2=kr(O2),z2=K({},Oc,{data:0}),BE=kr(z2),$2={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},B2={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},H2={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function j2(o){var c=this.nativeEvent;return c.getModifierState?c.getModifierState(o):(o=H2[o])?!!c[o]:!1}function sb(){return j2}var W2=K({},qd,{key:function(o){if(o.key){var c=$2[o.key]||o.key;if(c!=="Unidentified")return c}return o.type==="keypress"?(o=Qg(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?B2[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:sb,charCode:function(o){return o.type==="keypress"?Qg(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?Qg(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),U2=kr(W2),V2=K({},Jg,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),HE=kr(V2),G2=K({},qd,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:sb}),X2=kr(G2),Y2=K({},Oc,{propertyName:0,elapsedTime:0,pseudoElement:0}),q2=kr(Y2),K2=K({},Jg,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),Q2=kr(K2),Z2=[9,13,27,32],ob=l&&"CompositionEvent"in window,Qd=null;l&&"documentMode"in document&&(Qd=document.documentMode);var J2=l&&"TextEvent"in window&&!Qd,jE=l&&(!ob||Qd&&8<Qd&&11>=Qd),WE=" ",UE=!1;function VE(o,c){switch(o){case"keyup":return Z2.indexOf(c.keyCode)!==-1;case"keydown":return c.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function GE(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var Fc=!1;function eL(o,c){switch(o){case"compositionend":return GE(c);case"keypress":return c.which!==32?null:(UE=!0,WE);case"textInput":return o=c.data,o===WE&&UE?null:o;default:return null}}function tL(o,c){if(Fc)return o==="compositionend"||!ob&&VE(o,c)?(o=FE(),Kg=eb=zo=null,Fc=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(c.ctrlKey||c.altKey||c.metaKey)||c.ctrlKey&&c.altKey){if(c.char&&1<c.char.length)return c.char;if(c.which)return String.fromCharCode(c.which)}return null;case"compositionend":return jE&&c.locale!=="ko"?null:c.data;default:return null}}var nL={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function XE(o){var c=o&&o.nodeName&&o.nodeName.toLowerCase();return c==="input"?!!nL[o.type]:c==="textarea"}function YE(o,c,f,v){Fd(v),c=im(c,"onChange"),0<c.length&&(f=new tb("onChange","change",null,f,v),o.push({event:f,listeners:c}))}var Zd=null,Jd=null;function rL(o){hC(o,0)}function em(o){var c=jc(o);if(ge(c))return o}function iL(o,c){if(o==="change")return c}var qE=!1;if(l){var ab;if(l){var lb="oninput"in document;if(!lb){var KE=document.createElement("div");KE.setAttribute("oninput","return;"),lb=typeof KE.oninput=="function"}ab=lb}else ab=!1;qE=ab&&(!document.documentMode||9<document.documentMode)}function QE(){Zd&&(Zd.detachEvent("onpropertychange",ZE),Jd=Zd=null)}function ZE(o){if(o.propertyName==="value"&&em(Jd)){var c=[];YE(c,Jd,o,Po(o)),Og(rL,c)}}function sL(o,c,f){o==="focusin"?(QE(),Zd=c,Jd=f,Zd.attachEvent("onpropertychange",ZE)):o==="focusout"&&QE()}function oL(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return em(Jd)}function aL(o,c){if(o==="click")return em(c)}function lL(o,c){if(o==="input"||o==="change")return em(c)}function cL(o,c){return o===c&&(o!==0||1/o===1/c)||o!==o&&c!==c}var hi=typeof Object.is=="function"?Object.is:cL;function eh(o,c){if(hi(o,c))return!0;if(typeof o!="object"||o===null||typeof c!="object"||c===null)return!1;var f=Object.keys(o),v=Object.keys(c);if(f.length!==v.length)return!1;for(v=0;v<f.length;v++){var S=f[v];if(!u.call(c,S)||!hi(o[S],c[S]))return!1}return!0}function JE(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function eC(o,c){var f=JE(o);o=0;for(var v;f;){if(f.nodeType===3){if(v=o+f.textContent.length,o<=c&&v>=c)return{node:f,offset:c-o};o=v}e:{for(;f;){if(f.nextSibling){f=f.nextSibling;break e}f=f.parentNode}f=void 0}f=JE(f)}}function tC(o,c){return o&&c?o===c?!0:o&&o.nodeType===3?!1:c&&c.nodeType===3?tC(o,c.parentNode):"contains"in o?o.contains(c):o.compareDocumentPosition?!!(o.compareDocumentPosition(c)&16):!1:!1}function nC(){for(var o=window,c=Re();c instanceof o.HTMLIFrameElement;){try{var f=typeof c.contentWindow.location.href=="string"}catch{f=!1}if(f)o=c.contentWindow;else break;c=Re(o.document)}return c}function cb(o){var c=o&&o.nodeName&&o.nodeName.toLowerCase();return c&&(c==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||c==="textarea"||o.contentEditable==="true")}function uL(o){var c=nC(),f=o.focusedElem,v=o.selectionRange;if(c!==f&&f&&f.ownerDocument&&tC(f.ownerDocument.documentElement,f)){if(v!==null&&cb(f)){if(c=v.start,o=v.end,o===void 0&&(o=c),"selectionStart"in f)f.selectionStart=c,f.selectionEnd=Math.min(o,f.value.length);else if(o=(c=f.ownerDocument||document)&&c.defaultView||window,o.getSelection){o=o.getSelection();var S=f.textContent.length,R=Math.min(v.start,S);v=v.end===void 0?R:Math.min(v.end,S),!o.extend&&R>v&&(S=v,v=R,R=S),S=eC(f,R);var O=eC(f,v);S&&O&&(o.rangeCount!==1||o.anchorNode!==S.node||o.anchorOffset!==S.offset||o.focusNode!==O.node||o.focusOffset!==O.offset)&&(c=c.createRange(),c.setStart(S.node,S.offset),o.removeAllRanges(),R>v?(o.addRange(c),o.extend(O.node,O.offset)):(c.setEnd(O.node,O.offset),o.addRange(c)))}}for(c=[],o=f;o=o.parentNode;)o.nodeType===1&&c.push({element:o,left:o.scrollLeft,top:o.scrollTop});for(typeof f.focus=="function"&&f.focus(),f=0;f<c.length;f++)o=c[f],o.element.scrollLeft=o.left,o.element.scrollTop=o.top}}var dL=l&&"documentMode"in document&&11>=document.documentMode,zc=null,ub=null,th=null,db=!1;function rC(o,c,f){var v=f.window===f?f.document:f.nodeType===9?f:f.ownerDocument;db||zc==null||zc!==Re(v)||(v=zc,"selectionStart"in v&&cb(v)?v={start:v.selectionStart,end:v.selectionEnd}:(v=(v.ownerDocument&&v.ownerDocument.defaultView||window).getSelection(),v={anchorNode:v.anchorNode,anchorOffset:v.anchorOffset,focusNode:v.focusNode,focusOffset:v.focusOffset}),th&&eh(th,v)||(th=v,v=im(ub,"onSelect"),0<v.length&&(c=new tb("onSelect","select",null,c,f),o.push({event:c,listeners:v}),c.target=zc)))}function tm(o,c){var f={};return f[o.toLowerCase()]=c.toLowerCase(),f["Webkit"+o]="webkit"+c,f["Moz"+o]="moz"+c,f}var $c={animationend:tm("Animation","AnimationEnd"),animationiteration:tm("Animation","AnimationIteration"),animationstart:tm("Animation","AnimationStart"),transitionend:tm("Transition","TransitionEnd")},hb={},iC={};l&&(iC=document.createElement("div").style,"AnimationEvent"in window||(delete $c.animationend.animation,delete $c.animationiteration.animation,delete $c.animationstart.animation),"TransitionEvent"in window||delete $c.transitionend.transition);function nm(o){if(hb[o])return hb[o];if(!$c[o])return o;var c=$c[o],f;for(f in c)if(c.hasOwnProperty(f)&&f in iC)return hb[o]=c[f];return o}var sC=nm("animationend"),oC=nm("animationiteration"),aC=nm("animationstart"),lC=nm("transitionend"),cC=new Map,uC="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function $o(o,c){cC.set(o,c),s(c,[o])}for(var fb=0;fb<uC.length;fb++){var pb=uC[fb],hL=pb.toLowerCase(),fL=pb[0].toUpperCase()+pb.slice(1);$o(hL,"on"+fL)}$o(sC,"onAnimationEnd"),$o(oC,"onAnimationIteration"),$o(aC,"onAnimationStart"),$o("dblclick","onDoubleClick"),$o("focusin","onFocus"),$o("focusout","onBlur"),$o(lC,"onTransitionEnd"),a("onMouseEnter",["mouseout","mouseover"]),a("onMouseLeave",["mouseout","mouseover"]),a("onPointerEnter",["pointerout","pointerover"]),a("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var nh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),pL=new Set("cancel close invalid load scroll toggle".split(" ").concat(nh));function dC(o,c,f){var v=o.type||"unknown-event";o.currentTarget=f,Fg(v,c,void 0,o),o.currentTarget=null}function hC(o,c){c=(c&4)!==0;for(var f=0;f<o.length;f++){var v=o[f],S=v.event;v=v.listeners;e:{var R=void 0;if(c)for(var O=v.length-1;0<=O;O--){var Q=v[O],J=Q.instance,ae=Q.currentTarget;if(Q=Q.listener,J!==R&&S.isPropagationStopped())break e;dC(S,Q,ae),R=J}else for(O=0;O<v.length;O++){if(Q=v[O],J=Q.instance,ae=Q.currentTarget,Q=Q.listener,J!==R&&S.isPropagationStopped())break e;dC(S,Q,ae),R=J}}}if(Pc)throw o=Bd,Pc=!1,Bd=null,o}function Pt(o,c){var f=c[Sb];f===void 0&&(f=c[Sb]=new Set);var v=o+"__bubble";f.has(v)||(fC(c,o,2,!1),f.add(v))}function gb(o,c,f){var v=0;c&&(v|=4),fC(f,o,v,c)}var rm="_reactListening"+Math.random().toString(36).slice(2);function rh(o){if(!o[rm]){o[rm]=!0,r.forEach(function(f){f!=="selectionchange"&&(pL.has(f)||gb(f,!1,o),gb(f,!0,o))});var c=o.nodeType===9?o:o.ownerDocument;c===null||c[rm]||(c[rm]=!0,gb("selectionchange",!1,c))}}function fC(o,c,f,v){switch(OE(c)){case 1:var S=R2;break;case 4:S=T2;break;default:S=Zv}f=S.bind(null,c,f,o),S=void 0,!$d||c!=="touchstart"&&c!=="touchmove"&&c!=="wheel"||(S=!0),v?S!==void 0?o.addEventListener(c,f,{capture:!0,passive:S}):o.addEventListener(c,f,!0):S!==void 0?o.addEventListener(c,f,{passive:S}):o.addEventListener(c,f,!1)}function mb(o,c,f,v,S){var R=v;if((c&1)===0&&(c&2)===0&&v!==null)e:for(;;){if(v===null)return;var O=v.tag;if(O===3||O===4){var Q=v.stateNode.containerInfo;if(Q===S||Q.nodeType===8&&Q.parentNode===S)break;if(O===4)for(O=v.return;O!==null;){var J=O.tag;if((J===3||J===4)&&(J=O.stateNode.containerInfo,J===S||J.nodeType===8&&J.parentNode===S))return;O=O.return}for(;Q!==null;){if(O=Ya(Q),O===null)return;if(J=O.tag,J===5||J===6){v=R=O;continue e}Q=Q.parentNode}}v=v.return}Og(function(){var ae=R,fe=Po(f),ye=[];e:{var he=cC.get(o);if(he!==void 0){var Se=tb,_e=o;switch(o){case"keypress":if(Qg(f)===0)break e;case"keydown":case"keyup":Se=U2;break;case"focusin":_e="focus",Se=ib;break;case"focusout":_e="blur",Se=ib;break;case"beforeblur":case"afterblur":Se=ib;break;case"click":if(f.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Se=$E;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Se=I2;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Se=X2;break;case sC:case oC:case aC:Se=D2;break;case lC:Se=q2;break;case"scroll":Se=P2;break;case"wheel":Se=Q2;break;case"copy":case"cut":case"paste":Se=F2;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Se=HE}var ke=(c&4)!==0,qt=!ke&&o==="scroll",ne=ke?he!==null?he+"Capture":null:he;ke=[];for(var te=ae,ie;te!==null;){ie=te;var ve=ie.stateNode;if(ie.tag===5&&ve!==null&&(ie=ve,ne!==null&&(ve=Ua(te,ne),ve!=null&&ke.push(ih(te,ve,ie)))),qt)break;te=te.return}0<ke.length&&(he=new Se(he,_e,null,f,fe),ye.push({event:he,listeners:ke}))}}if((c&7)===0){e:{if(he=o==="mouseover"||o==="pointerover",Se=o==="mouseout"||o==="pointerout",he&&f!==Xr&&(_e=f.relatedTarget||f.fromElement)&&(Ya(_e)||_e[ks]))break e;if((Se||he)&&(he=fe.window===fe?fe:(he=fe.ownerDocument)?he.defaultView||he.parentWindow:window,Se?(_e=f.relatedTarget||f.toElement,Se=ae,_e=_e?Ya(_e):null,_e!==null&&(qt=ji(_e),_e!==qt||_e.tag!==5&&_e.tag!==6)&&(_e=null)):(Se=null,_e=ae),Se!==_e)){if(ke=$E,ve="onMouseLeave",ne="onMouseEnter",te="mouse",(o==="pointerout"||o==="pointerover")&&(ke=HE,ve="onPointerLeave",ne="onPointerEnter",te="pointer"),qt=Se==null?he:jc(Se),ie=_e==null?he:jc(_e),he=new ke(ve,te+"leave",Se,f,fe),he.target=qt,he.relatedTarget=ie,ve=null,Ya(fe)===ae&&(ke=new ke(ne,te+"enter",_e,f,fe),ke.target=ie,ke.relatedTarget=qt,ve=ke),qt=ve,Se&&_e)t:{for(ke=Se,ne=_e,te=0,ie=ke;ie;ie=Bc(ie))te++;for(ie=0,ve=ne;ve;ve=Bc(ve))ie++;for(;0<te-ie;)ke=Bc(ke),te--;for(;0<ie-te;)ne=Bc(ne),ie--;for(;te--;){if(ke===ne||ne!==null&&ke===ne.alternate)break t;ke=Bc(ke),ne=Bc(ne)}ke=null}else ke=null;Se!==null&&pC(ye,he,Se,ke,!1),_e!==null&&qt!==null&&pC(ye,qt,_e,ke,!0)}}e:{if(he=ae?jc(ae):window,Se=he.nodeName&&he.nodeName.toLowerCase(),Se==="select"||Se==="input"&&he.type==="file")var Pe=iL;else if(XE(he))if(qE)Pe=lL;else{Pe=oL;var Oe=sL}else(Se=he.nodeName)&&Se.toLowerCase()==="input"&&(he.type==="checkbox"||he.type==="radio")&&(Pe=aL);if(Pe&&(Pe=Pe(o,ae))){YE(ye,Pe,f,fe);break e}Oe&&Oe(o,he,ae),o==="focusout"&&(Oe=he._wrapperState)&&Oe.controlled&&he.type==="number"&&yn(he,"number",he.value)}switch(Oe=ae?jc(ae):window,o){case"focusin":(XE(Oe)||Oe.contentEditable==="true")&&(zc=Oe,ub=ae,th=null);break;case"focusout":th=ub=zc=null;break;case"mousedown":db=!0;break;case"contextmenu":case"mouseup":case"dragend":db=!1,rC(ye,f,fe);break;case"selectionchange":if(dL)break;case"keydown":case"keyup":rC(ye,f,fe)}var Fe;if(ob)e:{switch(o){case"compositionstart":var $e="onCompositionStart";break e;case"compositionend":$e="onCompositionEnd";break e;case"compositionupdate":$e="onCompositionUpdate";break e}$e=void 0}else Fc?VE(o,f)&&($e="onCompositionEnd"):o==="keydown"&&f.keyCode===229&&($e="onCompositionStart");$e&&(jE&&f.locale!=="ko"&&(Fc||$e!=="onCompositionStart"?$e==="onCompositionEnd"&&Fc&&(Fe=FE()):(zo=fe,eb="value"in zo?zo.value:zo.textContent,Fc=!0)),Oe=im(ae,$e),0<Oe.length&&($e=new BE($e,o,null,f,fe),ye.push({event:$e,listeners:Oe}),Fe?$e.data=Fe:(Fe=GE(f),Fe!==null&&($e.data=Fe)))),(Fe=J2?eL(o,f):tL(o,f))&&(ae=im(ae,"onBeforeInput"),0<ae.length&&(fe=new BE("onBeforeInput","beforeinput",null,f,fe),ye.push({event:fe,listeners:ae}),fe.data=Fe))}hC(ye,c)})}function ih(o,c,f){return{instance:o,listener:c,currentTarget:f}}function im(o,c){for(var f=c+"Capture",v=[];o!==null;){var S=o,R=S.stateNode;S.tag===5&&R!==null&&(S=R,R=Ua(o,f),R!=null&&v.unshift(ih(o,R,S)),R=Ua(o,c),R!=null&&v.push(ih(o,R,S))),o=o.return}return v}function Bc(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5);return o||null}function pC(o,c,f,v,S){for(var R=c._reactName,O=[];f!==null&&f!==v;){var Q=f,J=Q.alternate,ae=Q.stateNode;if(J!==null&&J===v)break;Q.tag===5&&ae!==null&&(Q=ae,S?(J=Ua(f,R),J!=null&&O.unshift(ih(f,J,Q))):S||(J=Ua(f,R),J!=null&&O.push(ih(f,J,Q)))),f=f.return}O.length!==0&&o.push({event:c,listeners:O})}var gL=/\r\n?/g,mL=/\u0000|\uFFFD/g;function gC(o){return(typeof o=="string"?o:""+o).replace(gL,`
`).replace(mL,"")}function sm(o,c,f){if(c=gC(c),gC(o)!==c&&f)throw Error(t(425))}function om(){}var yb=null,vb=null;function bb(o,c){return o==="textarea"||o==="noscript"||typeof c.children=="string"||typeof c.children=="number"||typeof c.dangerouslySetInnerHTML=="object"&&c.dangerouslySetInnerHTML!==null&&c.dangerouslySetInnerHTML.__html!=null}var wb=typeof setTimeout=="function"?setTimeout:void 0,yL=typeof clearTimeout=="function"?clearTimeout:void 0,mC=typeof Promise=="function"?Promise:void 0,vL=typeof queueMicrotask=="function"?queueMicrotask:typeof mC<"u"?function(o){return mC.resolve(null).then(o).catch(bL)}:wb;function bL(o){setTimeout(function(){throw o})}function xb(o,c){var f=c,v=0;do{var S=f.nextSibling;if(o.removeChild(f),S&&S.nodeType===8)if(f=S.data,f==="/$"){if(v===0){o.removeChild(S),Yd(c);return}v--}else f!=="$"&&f!=="$?"&&f!=="$!"||v++;f=S}while(f);Yd(c)}function Bo(o){for(;o!=null;o=o.nextSibling){var c=o.nodeType;if(c===1||c===3)break;if(c===8){if(c=o.data,c==="$"||c==="$!"||c==="$?")break;if(c==="/$")return null}}return o}function yC(o){o=o.previousSibling;for(var c=0;o;){if(o.nodeType===8){var f=o.data;if(f==="$"||f==="$!"||f==="$?"){if(c===0)return o;c--}else f==="/$"&&c++}o=o.previousSibling}return null}var Hc=Math.random().toString(36).slice(2),Wi="__reactFiber$"+Hc,sh="__reactProps$"+Hc,ks="__reactContainer$"+Hc,Sb="__reactEvents$"+Hc,wL="__reactListeners$"+Hc,xL="__reactHandles$"+Hc;function Ya(o){var c=o[Wi];if(c)return c;for(var f=o.parentNode;f;){if(c=f[ks]||f[Wi]){if(f=c.alternate,c.child!==null||f!==null&&f.child!==null)for(o=yC(o);o!==null;){if(f=o[Wi])return f;o=yC(o)}return c}o=f,f=o.parentNode}return null}function oh(o){return o=o[Wi]||o[ks],!o||o.tag!==5&&o.tag!==6&&o.tag!==13&&o.tag!==3?null:o}function jc(o){if(o.tag===5||o.tag===6)return o.stateNode;throw Error(t(33))}function am(o){return o[sh]||null}var Eb=[],Wc=-1;function Ho(o){return{current:o}}function Mt(o){0>Wc||(o.current=Eb[Wc],Eb[Wc]=null,Wc--)}function kt(o,c){Wc++,Eb[Wc]=o.current,o.current=c}var jo={},Ln=Ho(jo),lr=Ho(!1),qa=jo;function Uc(o,c){var f=o.type.contextTypes;if(!f)return jo;var v=o.stateNode;if(v&&v.__reactInternalMemoizedUnmaskedChildContext===c)return v.__reactInternalMemoizedMaskedChildContext;var S={},R;for(R in f)S[R]=c[R];return v&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=c,o.__reactInternalMemoizedMaskedChildContext=S),S}function cr(o){return o=o.childContextTypes,o!=null}function lm(){Mt(lr),Mt(Ln)}function vC(o,c,f){if(Ln.current!==jo)throw Error(t(168));kt(Ln,c),kt(lr,f)}function bC(o,c,f){var v=o.stateNode;if(c=c.childContextTypes,typeof v.getChildContext!="function")return f;v=v.getChildContext();for(var S in v)if(!(S in c))throw Error(t(108,ee(o)||"Unknown",S));return K({},f,v)}function cm(o){return o=(o=o.stateNode)&&o.__reactInternalMemoizedMergedChildContext||jo,qa=Ln.current,kt(Ln,o),kt(lr,lr.current),!0}function wC(o,c,f){var v=o.stateNode;if(!v)throw Error(t(169));f?(o=bC(o,c,qa),v.__reactInternalMemoizedMergedChildContext=o,Mt(lr),Mt(Ln),kt(Ln,o)):Mt(lr),kt(lr,f)}var Rs=null,um=!1,Cb=!1;function xC(o){Rs===null?Rs=[o]:Rs.push(o)}function SL(o){um=!0,xC(o)}function Wo(){if(!Cb&&Rs!==null){Cb=!0;var o=0,c=ft;try{var f=Rs;for(ft=1;o<f.length;o++){var v=f[o];do v=v(!0);while(v!==null)}Rs=null,um=!1}catch(S){throw Rs!==null&&(Rs=Rs.slice(o+1)),jg(Hd,Wo),S}finally{ft=c,Cb=!1}}return null}var Vc=[],Gc=0,dm=null,hm=0,qr=[],Kr=0,Ka=null,Ts=1,Ps="";function Qa(o,c){Vc[Gc++]=hm,Vc[Gc++]=dm,dm=o,hm=c}function SC(o,c,f){qr[Kr++]=Ts,qr[Kr++]=Ps,qr[Kr++]=Ka,Ka=o;var v=Ts;o=Ps;var S=32-Ar(v)-1;v&=~(1<<S),f+=1;var R=32-Ar(c)+S;if(30<R){var O=S-S%5;R=(v&(1<<O)-1).toString(32),v>>=O,S-=O,Ts=1<<32-Ar(c)+S|f<<S|v,Ps=R+o}else Ts=1<<R|f<<S|v,Ps=o}function _b(o){o.return!==null&&(Qa(o,1),SC(o,1,0))}function Ab(o){for(;o===dm;)dm=Vc[--Gc],Vc[Gc]=null,hm=Vc[--Gc],Vc[Gc]=null;for(;o===Ka;)Ka=qr[--Kr],qr[Kr]=null,Ps=qr[--Kr],qr[Kr]=null,Ts=qr[--Kr],qr[Kr]=null}var Rr=null,Tr=null,It=!1,fi=null;function EC(o,c){var f=ei(5,null,null,0);f.elementType="DELETED",f.stateNode=c,f.return=o,c=o.deletions,c===null?(o.deletions=[f],o.flags|=16):c.push(f)}function CC(o,c){switch(o.tag){case 5:var f=o.type;return c=c.nodeType!==1||f.toLowerCase()!==c.nodeName.toLowerCase()?null:c,c!==null?(o.stateNode=c,Rr=o,Tr=Bo(c.firstChild),!0):!1;case 6:return c=o.pendingProps===""||c.nodeType!==3?null:c,c!==null?(o.stateNode=c,Rr=o,Tr=null,!0):!1;case 13:return c=c.nodeType!==8?null:c,c!==null?(f=Ka!==null?{id:Ts,overflow:Ps}:null,o.memoizedState={dehydrated:c,treeContext:f,retryLane:1073741824},f=ei(18,null,null,0),f.stateNode=c,f.return=o,o.child=f,Rr=o,Tr=null,!0):!1;default:return!1}}function kb(o){return(o.mode&1)!==0&&(o.flags&128)===0}function Rb(o){if(It){var c=Tr;if(c){var f=c;if(!CC(o,c)){if(kb(o))throw Error(t(418));c=Bo(f.nextSibling);var v=Rr;c&&CC(o,c)?EC(v,f):(o.flags=o.flags&-4097|2,It=!1,Rr=o)}}else{if(kb(o))throw Error(t(418));o.flags=o.flags&-4097|2,It=!1,Rr=o}}}function _C(o){for(o=o.return;o!==null&&o.tag!==5&&o.tag!==3&&o.tag!==13;)o=o.return;Rr=o}function fm(o){if(o!==Rr)return!1;if(!It)return _C(o),It=!0,!1;var c;if((c=o.tag!==3)&&!(c=o.tag!==5)&&(c=o.type,c=c!=="head"&&c!=="body"&&!bb(o.type,o.memoizedProps)),c&&(c=Tr)){if(kb(o))throw AC(),Error(t(418));for(;c;)EC(o,c),c=Bo(c.nextSibling)}if(_C(o),o.tag===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(t(317));e:{for(o=o.nextSibling,c=0;o;){if(o.nodeType===8){var f=o.data;if(f==="/$"){if(c===0){Tr=Bo(o.nextSibling);break e}c--}else f!=="$"&&f!=="$!"&&f!=="$?"||c++}o=o.nextSibling}Tr=null}}else Tr=Rr?Bo(o.stateNode.nextSibling):null;return!0}function AC(){for(var o=Tr;o;)o=Bo(o.nextSibling)}function Xc(){Tr=Rr=null,It=!1}function Tb(o){fi===null?fi=[o]:fi.push(o)}var EL=_.ReactCurrentBatchConfig;function ah(o,c,f){if(o=f.ref,o!==null&&typeof o!="function"&&typeof o!="object"){if(f._owner){if(f=f._owner,f){if(f.tag!==1)throw Error(t(309));var v=f.stateNode}if(!v)throw Error(t(147,o));var S=v,R=""+o;return c!==null&&c.ref!==null&&typeof c.ref=="function"&&c.ref._stringRef===R?c.ref:(c=function(O){var Q=S.refs;O===null?delete Q[R]:Q[R]=O},c._stringRef=R,c)}if(typeof o!="string")throw Error(t(284));if(!f._owner)throw Error(t(290,o))}return o}function pm(o,c){throw o=Object.prototype.toString.call(c),Error(t(31,o==="[object Object]"?"object with keys {"+Object.keys(c).join(", ")+"}":o))}function kC(o){var c=o._init;return c(o._payload)}function RC(o){function c(ne,te){if(o){var ie=ne.deletions;ie===null?(ne.deletions=[te],ne.flags|=16):ie.push(te)}}function f(ne,te){if(!o)return null;for(;te!==null;)c(ne,te),te=te.sibling;return null}function v(ne,te){for(ne=new Map;te!==null;)te.key!==null?ne.set(te.key,te):ne.set(te.index,te),te=te.sibling;return ne}function S(ne,te){return ne=Qo(ne,te),ne.index=0,ne.sibling=null,ne}function R(ne,te,ie){return ne.index=ie,o?(ie=ne.alternate,ie!==null?(ie=ie.index,ie<te?(ne.flags|=2,te):ie):(ne.flags|=2,te)):(ne.flags|=1048576,te)}function O(ne){return o&&ne.alternate===null&&(ne.flags|=2),ne}function Q(ne,te,ie,ve){return te===null||te.tag!==6?(te=ww(ie,ne.mode,ve),te.return=ne,te):(te=S(te,ie),te.return=ne,te)}function J(ne,te,ie,ve){var Pe=ie.type;return Pe===T?fe(ne,te,ie.props.children,ve,ie.key):te!==null&&(te.elementType===Pe||typeof Pe=="object"&&Pe!==null&&Pe.$$typeof===j&&kC(Pe)===te.type)?(ve=S(te,ie.props),ve.ref=ah(ne,te,ie),ve.return=ne,ve):(ve=zm(ie.type,ie.key,ie.props,null,ne.mode,ve),ve.ref=ah(ne,te,ie),ve.return=ne,ve)}function ae(ne,te,ie,ve){return te===null||te.tag!==4||te.stateNode.containerInfo!==ie.containerInfo||te.stateNode.implementation!==ie.implementation?(te=xw(ie,ne.mode,ve),te.return=ne,te):(te=S(te,ie.children||[]),te.return=ne,te)}function fe(ne,te,ie,ve,Pe){return te===null||te.tag!==7?(te=sl(ie,ne.mode,ve,Pe),te.return=ne,te):(te=S(te,ie),te.return=ne,te)}function ye(ne,te,ie){if(typeof te=="string"&&te!==""||typeof te=="number")return te=ww(""+te,ne.mode,ie),te.return=ne,te;if(typeof te=="object"&&te!==null){switch(te.$$typeof){case k:return ie=zm(te.type,te.key,te.props,null,ne.mode,ie),ie.ref=ah(ne,null,te),ie.return=ne,ie;case M:return te=xw(te,ne.mode,ie),te.return=ne,te;case j:var ve=te._init;return ye(ne,ve(te._payload),ie)}if(St(te)||B(te))return te=sl(te,ne.mode,ie,null),te.return=ne,te;pm(ne,te)}return null}function he(ne,te,ie,ve){var Pe=te!==null?te.key:null;if(typeof ie=="string"&&ie!==""||typeof ie=="number")return Pe!==null?null:Q(ne,te,""+ie,ve);if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case k:return ie.key===Pe?J(ne,te,ie,ve):null;case M:return ie.key===Pe?ae(ne,te,ie,ve):null;case j:return Pe=ie._init,he(ne,te,Pe(ie._payload),ve)}if(St(ie)||B(ie))return Pe!==null?null:fe(ne,te,ie,ve,null);pm(ne,ie)}return null}function Se(ne,te,ie,ve,Pe){if(typeof ve=="string"&&ve!==""||typeof ve=="number")return ne=ne.get(ie)||null,Q(te,ne,""+ve,Pe);if(typeof ve=="object"&&ve!==null){switch(ve.$$typeof){case k:return ne=ne.get(ve.key===null?ie:ve.key)||null,J(te,ne,ve,Pe);case M:return ne=ne.get(ve.key===null?ie:ve.key)||null,ae(te,ne,ve,Pe);case j:var Oe=ve._init;return Se(ne,te,ie,Oe(ve._payload),Pe)}if(St(ve)||B(ve))return ne=ne.get(ie)||null,fe(te,ne,ve,Pe,null);pm(te,ve)}return null}function _e(ne,te,ie,ve){for(var Pe=null,Oe=null,Fe=te,$e=te=0,wn=null;Fe!==null&&$e<ie.length;$e++){Fe.index>$e?(wn=Fe,Fe=null):wn=Fe.sibling;var tt=he(ne,Fe,ie[$e],ve);if(tt===null){Fe===null&&(Fe=wn);break}o&&Fe&&tt.alternate===null&&c(ne,Fe),te=R(tt,te,$e),Oe===null?Pe=tt:Oe.sibling=tt,Oe=tt,Fe=wn}if($e===ie.length)return f(ne,Fe),It&&Qa(ne,$e),Pe;if(Fe===null){for(;$e<ie.length;$e++)Fe=ye(ne,ie[$e],ve),Fe!==null&&(te=R(Fe,te,$e),Oe===null?Pe=Fe:Oe.sibling=Fe,Oe=Fe);return It&&Qa(ne,$e),Pe}for(Fe=v(ne,Fe);$e<ie.length;$e++)wn=Se(Fe,ne,$e,ie[$e],ve),wn!==null&&(o&&wn.alternate!==null&&Fe.delete(wn.key===null?$e:wn.key),te=R(wn,te,$e),Oe===null?Pe=wn:Oe.sibling=wn,Oe=wn);return o&&Fe.forEach(function(Zo){return c(ne,Zo)}),It&&Qa(ne,$e),Pe}function ke(ne,te,ie,ve){var Pe=B(ie);if(typeof Pe!="function")throw Error(t(150));if(ie=Pe.call(ie),ie==null)throw Error(t(151));for(var Oe=Pe=null,Fe=te,$e=te=0,wn=null,tt=ie.next();Fe!==null&&!tt.done;$e++,tt=ie.next()){Fe.index>$e?(wn=Fe,Fe=null):wn=Fe.sibling;var Zo=he(ne,Fe,tt.value,ve);if(Zo===null){Fe===null&&(Fe=wn);break}o&&Fe&&Zo.alternate===null&&c(ne,Fe),te=R(Zo,te,$e),Oe===null?Pe=Zo:Oe.sibling=Zo,Oe=Zo,Fe=wn}if(tt.done)return f(ne,Fe),It&&Qa(ne,$e),Pe;if(Fe===null){for(;!tt.done;$e++,tt=ie.next())tt=ye(ne,tt.value,ve),tt!==null&&(te=R(tt,te,$e),Oe===null?Pe=tt:Oe.sibling=tt,Oe=tt);return It&&Qa(ne,$e),Pe}for(Fe=v(ne,Fe);!tt.done;$e++,tt=ie.next())tt=Se(Fe,ne,$e,tt.value,ve),tt!==null&&(o&&tt.alternate!==null&&Fe.delete(tt.key===null?$e:tt.key),te=R(tt,te,$e),Oe===null?Pe=tt:Oe.sibling=tt,Oe=tt);return o&&Fe.forEach(function(nD){return c(ne,nD)}),It&&Qa(ne,$e),Pe}function qt(ne,te,ie,ve){if(typeof ie=="object"&&ie!==null&&ie.type===T&&ie.key===null&&(ie=ie.props.children),typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case k:e:{for(var Pe=ie.key,Oe=te;Oe!==null;){if(Oe.key===Pe){if(Pe=ie.type,Pe===T){if(Oe.tag===7){f(ne,Oe.sibling),te=S(Oe,ie.props.children),te.return=ne,ne=te;break e}}else if(Oe.elementType===Pe||typeof Pe=="object"&&Pe!==null&&Pe.$$typeof===j&&kC(Pe)===Oe.type){f(ne,Oe.sibling),te=S(Oe,ie.props),te.ref=ah(ne,Oe,ie),te.return=ne,ne=te;break e}f(ne,Oe);break}else c(ne,Oe);Oe=Oe.sibling}ie.type===T?(te=sl(ie.props.children,ne.mode,ve,ie.key),te.return=ne,ne=te):(ve=zm(ie.type,ie.key,ie.props,null,ne.mode,ve),ve.ref=ah(ne,te,ie),ve.return=ne,ne=ve)}return O(ne);case M:e:{for(Oe=ie.key;te!==null;){if(te.key===Oe)if(te.tag===4&&te.stateNode.containerInfo===ie.containerInfo&&te.stateNode.implementation===ie.implementation){f(ne,te.sibling),te=S(te,ie.children||[]),te.return=ne,ne=te;break e}else{f(ne,te);break}else c(ne,te);te=te.sibling}te=xw(ie,ne.mode,ve),te.return=ne,ne=te}return O(ne);case j:return Oe=ie._init,qt(ne,te,Oe(ie._payload),ve)}if(St(ie))return _e(ne,te,ie,ve);if(B(ie))return ke(ne,te,ie,ve);pm(ne,ie)}return typeof ie=="string"&&ie!==""||typeof ie=="number"?(ie=""+ie,te!==null&&te.tag===6?(f(ne,te.sibling),te=S(te,ie),te.return=ne,ne=te):(f(ne,te),te=ww(ie,ne.mode,ve),te.return=ne,ne=te),O(ne)):f(ne,te)}return qt}var Yc=RC(!0),TC=RC(!1),gm=Ho(null),mm=null,qc=null,Pb=null;function Mb(){Pb=qc=mm=null}function Ib(o){var c=gm.current;Mt(gm),o._currentValue=c}function Nb(o,c,f){for(;o!==null;){var v=o.alternate;if((o.childLanes&c)!==c?(o.childLanes|=c,v!==null&&(v.childLanes|=c)):v!==null&&(v.childLanes&c)!==c&&(v.childLanes|=c),o===f)break;o=o.return}}function Kc(o,c){mm=o,Pb=qc=null,o=o.dependencies,o!==null&&o.firstContext!==null&&((o.lanes&c)!==0&&(ur=!0),o.firstContext=null)}function Qr(o){var c=o._currentValue;if(Pb!==o)if(o={context:o,memoizedValue:c,next:null},qc===null){if(mm===null)throw Error(t(308));qc=o,mm.dependencies={lanes:0,firstContext:o}}else qc=qc.next=o;return c}var Za=null;function Lb(o){Za===null?Za=[o]:Za.push(o)}function PC(o,c,f,v){var S=c.interleaved;return S===null?(f.next=f,Lb(c)):(f.next=S.next,S.next=f),c.interleaved=f,Ms(o,v)}function Ms(o,c){o.lanes|=c;var f=o.alternate;for(f!==null&&(f.lanes|=c),f=o,o=o.return;o!==null;)o.childLanes|=c,f=o.alternate,f!==null&&(f.childLanes|=c),f=o,o=o.return;return f.tag===3?f.stateNode:null}var Uo=!1;function Db(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function MC(o,c){o=o.updateQueue,c.updateQueue===o&&(c.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,effects:o.effects})}function Is(o,c){return{eventTime:o,lane:c,tag:0,payload:null,callback:null,next:null}}function Vo(o,c,f){var v=o.updateQueue;if(v===null)return null;if(v=v.shared,(Ze&2)!==0){var S=v.pending;return S===null?c.next=c:(c.next=S.next,S.next=c),v.pending=c,Ms(o,f)}return S=v.interleaved,S===null?(c.next=c,Lb(v)):(c.next=S.next,S.next=c),v.interleaved=c,Ms(o,f)}function ym(o,c,f){if(c=c.updateQueue,c!==null&&(c=c.shared,(f&4194240)!==0)){var v=c.lanes;v&=o.pendingLanes,f|=v,c.lanes=f,qv(o,f)}}function IC(o,c){var f=o.updateQueue,v=o.alternate;if(v!==null&&(v=v.updateQueue,f===v)){var S=null,R=null;if(f=f.firstBaseUpdate,f!==null){do{var O={eventTime:f.eventTime,lane:f.lane,tag:f.tag,payload:f.payload,callback:f.callback,next:null};R===null?S=R=O:R=R.next=O,f=f.next}while(f!==null);R===null?S=R=c:R=R.next=c}else S=R=c;f={baseState:v.baseState,firstBaseUpdate:S,lastBaseUpdate:R,shared:v.shared,effects:v.effects},o.updateQueue=f;return}o=f.lastBaseUpdate,o===null?f.firstBaseUpdate=c:o.next=c,f.lastBaseUpdate=c}function vm(o,c,f,v){var S=o.updateQueue;Uo=!1;var R=S.firstBaseUpdate,O=S.lastBaseUpdate,Q=S.shared.pending;if(Q!==null){S.shared.pending=null;var J=Q,ae=J.next;J.next=null,O===null?R=ae:O.next=ae,O=J;var fe=o.alternate;fe!==null&&(fe=fe.updateQueue,Q=fe.lastBaseUpdate,Q!==O&&(Q===null?fe.firstBaseUpdate=ae:Q.next=ae,fe.lastBaseUpdate=J))}if(R!==null){var ye=S.baseState;O=0,fe=ae=J=null,Q=R;do{var he=Q.lane,Se=Q.eventTime;if((v&he)===he){fe!==null&&(fe=fe.next={eventTime:Se,lane:0,tag:Q.tag,payload:Q.payload,callback:Q.callback,next:null});e:{var _e=o,ke=Q;switch(he=c,Se=f,ke.tag){case 1:if(_e=ke.payload,typeof _e=="function"){ye=_e.call(Se,ye,he);break e}ye=_e;break e;case 3:_e.flags=_e.flags&-65537|128;case 0:if(_e=ke.payload,he=typeof _e=="function"?_e.call(Se,ye,he):_e,he==null)break e;ye=K({},ye,he);break e;case 2:Uo=!0}}Q.callback!==null&&Q.lane!==0&&(o.flags|=64,he=S.effects,he===null?S.effects=[Q]:he.push(Q))}else Se={eventTime:Se,lane:he,tag:Q.tag,payload:Q.payload,callback:Q.callback,next:null},fe===null?(ae=fe=Se,J=ye):fe=fe.next=Se,O|=he;if(Q=Q.next,Q===null){if(Q=S.shared.pending,Q===null)break;he=Q,Q=he.next,he.next=null,S.lastBaseUpdate=he,S.shared.pending=null}}while(!0);if(fe===null&&(J=ye),S.baseState=J,S.firstBaseUpdate=ae,S.lastBaseUpdate=fe,c=S.shared.interleaved,c!==null){S=c;do O|=S.lane,S=S.next;while(S!==c)}else R===null&&(S.shared.lanes=0);tl|=O,o.lanes=O,o.memoizedState=ye}}function NC(o,c,f){if(o=c.effects,c.effects=null,o!==null)for(c=0;c<o.length;c++){var v=o[c],S=v.callback;if(S!==null){if(v.callback=null,v=f,typeof S!="function")throw Error(t(191,S));S.call(v)}}}var lh={},Ui=Ho(lh),ch=Ho(lh),uh=Ho(lh);function Ja(o){if(o===lh)throw Error(t(174));return o}function Ob(o,c){switch(kt(uh,c),kt(ch,o),kt(Ui,lh),o=c.nodeType,o){case 9:case 11:c=(c=c.documentElement)?c.namespaceURI:ar(null,"");break;default:o=o===8?c.parentNode:c,c=o.namespaceURI||null,o=o.tagName,c=ar(c,o)}Mt(Ui),kt(Ui,c)}function Qc(){Mt(Ui),Mt(ch),Mt(uh)}function LC(o){Ja(uh.current);var c=Ja(Ui.current),f=ar(c,o.type);c!==f&&(kt(ch,o),kt(Ui,f))}function Fb(o){ch.current===o&&(Mt(Ui),Mt(ch))}var zt=Ho(0);function bm(o){for(var c=o;c!==null;){if(c.tag===13){var f=c.memoizedState;if(f!==null&&(f=f.dehydrated,f===null||f.data==="$?"||f.data==="$!"))return c}else if(c.tag===19&&c.memoizedProps.revealOrder!==void 0){if((c.flags&128)!==0)return c}else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===o)break;for(;c.sibling===null;){if(c.return===null||c.return===o)return null;c=c.return}c.sibling.return=c.return,c=c.sibling}return null}var zb=[];function $b(){for(var o=0;o<zb.length;o++)zb[o]._workInProgressVersionPrimary=null;zb.length=0}var wm=_.ReactCurrentDispatcher,Bb=_.ReactCurrentBatchConfig,el=0,$t=null,ln=null,vn=null,xm=!1,dh=!1,hh=0,CL=0;function Dn(){throw Error(t(321))}function Hb(o,c){if(c===null)return!1;for(var f=0;f<c.length&&f<o.length;f++)if(!hi(o[f],c[f]))return!1;return!0}function jb(o,c,f,v,S,R){if(el=R,$t=c,c.memoizedState=null,c.updateQueue=null,c.lanes=0,wm.current=o===null||o.memoizedState===null?RL:TL,o=f(v,S),dh){R=0;do{if(dh=!1,hh=0,25<=R)throw Error(t(301));R+=1,vn=ln=null,c.updateQueue=null,wm.current=PL,o=f(v,S)}while(dh)}if(wm.current=Cm,c=ln!==null&&ln.next!==null,el=0,vn=ln=$t=null,xm=!1,c)throw Error(t(300));return o}function Wb(){var o=hh!==0;return hh=0,o}function Vi(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return vn===null?$t.memoizedState=vn=o:vn=vn.next=o,vn}function Zr(){if(ln===null){var o=$t.alternate;o=o!==null?o.memoizedState:null}else o=ln.next;var c=vn===null?$t.memoizedState:vn.next;if(c!==null)vn=c,ln=o;else{if(o===null)throw Error(t(310));ln=o,o={memoizedState:ln.memoizedState,baseState:ln.baseState,baseQueue:ln.baseQueue,queue:ln.queue,next:null},vn===null?$t.memoizedState=vn=o:vn=vn.next=o}return vn}function fh(o,c){return typeof c=="function"?c(o):c}function Ub(o){var c=Zr(),f=c.queue;if(f===null)throw Error(t(311));f.lastRenderedReducer=o;var v=ln,S=v.baseQueue,R=f.pending;if(R!==null){if(S!==null){var O=S.next;S.next=R.next,R.next=O}v.baseQueue=S=R,f.pending=null}if(S!==null){R=S.next,v=v.baseState;var Q=O=null,J=null,ae=R;do{var fe=ae.lane;if((el&fe)===fe)J!==null&&(J=J.next={lane:0,action:ae.action,hasEagerState:ae.hasEagerState,eagerState:ae.eagerState,next:null}),v=ae.hasEagerState?ae.eagerState:o(v,ae.action);else{var ye={lane:fe,action:ae.action,hasEagerState:ae.hasEagerState,eagerState:ae.eagerState,next:null};J===null?(Q=J=ye,O=v):J=J.next=ye,$t.lanes|=fe,tl|=fe}ae=ae.next}while(ae!==null&&ae!==R);J===null?O=v:J.next=Q,hi(v,c.memoizedState)||(ur=!0),c.memoizedState=v,c.baseState=O,c.baseQueue=J,f.lastRenderedState=v}if(o=f.interleaved,o!==null){S=o;do R=S.lane,$t.lanes|=R,tl|=R,S=S.next;while(S!==o)}else S===null&&(f.lanes=0);return[c.memoizedState,f.dispatch]}function Vb(o){var c=Zr(),f=c.queue;if(f===null)throw Error(t(311));f.lastRenderedReducer=o;var v=f.dispatch,S=f.pending,R=c.memoizedState;if(S!==null){f.pending=null;var O=S=S.next;do R=o(R,O.action),O=O.next;while(O!==S);hi(R,c.memoizedState)||(ur=!0),c.memoizedState=R,c.baseQueue===null&&(c.baseState=R),f.lastRenderedState=R}return[R,v]}function DC(){}function OC(o,c){var f=$t,v=Zr(),S=c(),R=!hi(v.memoizedState,S);if(R&&(v.memoizedState=S,ur=!0),v=v.queue,Gb($C.bind(null,f,v,o),[o]),v.getSnapshot!==c||R||vn!==null&&vn.memoizedState.tag&1){if(f.flags|=2048,ph(9,zC.bind(null,f,v,S,c),void 0,null),bn===null)throw Error(t(349));(el&30)!==0||FC(f,c,S)}return S}function FC(o,c,f){o.flags|=16384,o={getSnapshot:c,value:f},c=$t.updateQueue,c===null?(c={lastEffect:null,stores:null},$t.updateQueue=c,c.stores=[o]):(f=c.stores,f===null?c.stores=[o]:f.push(o))}function zC(o,c,f,v){c.value=f,c.getSnapshot=v,BC(c)&&HC(o)}function $C(o,c,f){return f(function(){BC(c)&&HC(o)})}function BC(o){var c=o.getSnapshot;o=o.value;try{var f=c();return!hi(o,f)}catch{return!0}}function HC(o){var c=Ms(o,1);c!==null&&yi(c,o,1,-1)}function jC(o){var c=Vi();return typeof o=="function"&&(o=o()),c.memoizedState=c.baseState=o,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:fh,lastRenderedState:o},c.queue=o,o=o.dispatch=kL.bind(null,$t,o),[c.memoizedState,o]}function ph(o,c,f,v){return o={tag:o,create:c,destroy:f,deps:v,next:null},c=$t.updateQueue,c===null?(c={lastEffect:null,stores:null},$t.updateQueue=c,c.lastEffect=o.next=o):(f=c.lastEffect,f===null?c.lastEffect=o.next=o:(v=f.next,f.next=o,o.next=v,c.lastEffect=o)),o}function WC(){return Zr().memoizedState}function Sm(o,c,f,v){var S=Vi();$t.flags|=o,S.memoizedState=ph(1|c,f,void 0,v===void 0?null:v)}function Em(o,c,f,v){var S=Zr();v=v===void 0?null:v;var R=void 0;if(ln!==null){var O=ln.memoizedState;if(R=O.destroy,v!==null&&Hb(v,O.deps)){S.memoizedState=ph(c,f,R,v);return}}$t.flags|=o,S.memoizedState=ph(1|c,f,R,v)}function UC(o,c){return Sm(8390656,8,o,c)}function Gb(o,c){return Em(2048,8,o,c)}function VC(o,c){return Em(4,2,o,c)}function GC(o,c){return Em(4,4,o,c)}function XC(o,c){if(typeof c=="function")return o=o(),c(o),function(){c(null)};if(c!=null)return o=o(),c.current=o,function(){c.current=null}}function YC(o,c,f){return f=f!=null?f.concat([o]):null,Em(4,4,XC.bind(null,c,o),f)}function Xb(){}function qC(o,c){var f=Zr();c=c===void 0?null:c;var v=f.memoizedState;return v!==null&&c!==null&&Hb(c,v[1])?v[0]:(f.memoizedState=[o,c],o)}function KC(o,c){var f=Zr();c=c===void 0?null:c;var v=f.memoizedState;return v!==null&&c!==null&&Hb(c,v[1])?v[0]:(o=o(),f.memoizedState=[o,c],o)}function QC(o,c,f){return(el&21)===0?(o.baseState&&(o.baseState=!1,ur=!0),o.memoizedState=f):(hi(f,c)||(f=kE(),$t.lanes|=f,tl|=f,o.baseState=!0),c)}function _L(o,c){var f=ft;ft=f!==0&&4>f?f:4,o(!0);var v=Bb.transition;Bb.transition={};try{o(!1),c()}finally{ft=f,Bb.transition=v}}function ZC(){return Zr().memoizedState}function AL(o,c,f){var v=qo(o);if(f={lane:v,action:f,hasEagerState:!1,eagerState:null,next:null},JC(o))e_(c,f);else if(f=PC(o,c,f,v),f!==null){var S=Zn();yi(f,o,v,S),t_(f,c,v)}}function kL(o,c,f){var v=qo(o),S={lane:v,action:f,hasEagerState:!1,eagerState:null,next:null};if(JC(o))e_(c,S);else{var R=o.alternate;if(o.lanes===0&&(R===null||R.lanes===0)&&(R=c.lastRenderedReducer,R!==null))try{var O=c.lastRenderedState,Q=R(O,f);if(S.hasEagerState=!0,S.eagerState=Q,hi(Q,O)){var J=c.interleaved;J===null?(S.next=S,Lb(c)):(S.next=J.next,J.next=S),c.interleaved=S;return}}catch{}finally{}f=PC(o,c,S,v),f!==null&&(S=Zn(),yi(f,o,v,S),t_(f,c,v))}}function JC(o){var c=o.alternate;return o===$t||c!==null&&c===$t}function e_(o,c){dh=xm=!0;var f=o.pending;f===null?c.next=c:(c.next=f.next,f.next=c),o.pending=c}function t_(o,c,f){if((f&4194240)!==0){var v=c.lanes;v&=o.pendingLanes,f|=v,c.lanes=f,qv(o,f)}}var Cm={readContext:Qr,useCallback:Dn,useContext:Dn,useEffect:Dn,useImperativeHandle:Dn,useInsertionEffect:Dn,useLayoutEffect:Dn,useMemo:Dn,useReducer:Dn,useRef:Dn,useState:Dn,useDebugValue:Dn,useDeferredValue:Dn,useTransition:Dn,useMutableSource:Dn,useSyncExternalStore:Dn,useId:Dn,unstable_isNewReconciler:!1},RL={readContext:Qr,useCallback:function(o,c){return Vi().memoizedState=[o,c===void 0?null:c],o},useContext:Qr,useEffect:UC,useImperativeHandle:function(o,c,f){return f=f!=null?f.concat([o]):null,Sm(4194308,4,XC.bind(null,c,o),f)},useLayoutEffect:function(o,c){return Sm(4194308,4,o,c)},useInsertionEffect:function(o,c){return Sm(4,2,o,c)},useMemo:function(o,c){var f=Vi();return c=c===void 0?null:c,o=o(),f.memoizedState=[o,c],o},useReducer:function(o,c,f){var v=Vi();return c=f!==void 0?f(c):c,v.memoizedState=v.baseState=c,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:c},v.queue=o,o=o.dispatch=AL.bind(null,$t,o),[v.memoizedState,o]},useRef:function(o){var c=Vi();return o={current:o},c.memoizedState=o},useState:jC,useDebugValue:Xb,useDeferredValue:function(o){return Vi().memoizedState=o},useTransition:function(){var o=jC(!1),c=o[0];return o=_L.bind(null,o[1]),Vi().memoizedState=o,[c,o]},useMutableSource:function(){},useSyncExternalStore:function(o,c,f){var v=$t,S=Vi();if(It){if(f===void 0)throw Error(t(407));f=f()}else{if(f=c(),bn===null)throw Error(t(349));(el&30)!==0||FC(v,c,f)}S.memoizedState=f;var R={value:f,getSnapshot:c};return S.queue=R,UC($C.bind(null,v,R,o),[o]),v.flags|=2048,ph(9,zC.bind(null,v,R,f,c),void 0,null),f},useId:function(){var o=Vi(),c=bn.identifierPrefix;if(It){var f=Ps,v=Ts;f=(v&~(1<<32-Ar(v)-1)).toString(32)+f,c=":"+c+"R"+f,f=hh++,0<f&&(c+="H"+f.toString(32)),c+=":"}else f=CL++,c=":"+c+"r"+f.toString(32)+":";return o.memoizedState=c},unstable_isNewReconciler:!1},TL={readContext:Qr,useCallback:qC,useContext:Qr,useEffect:Gb,useImperativeHandle:YC,useInsertionEffect:VC,useLayoutEffect:GC,useMemo:KC,useReducer:Ub,useRef:WC,useState:function(){return Ub(fh)},useDebugValue:Xb,useDeferredValue:function(o){var c=Zr();return QC(c,ln.memoizedState,o)},useTransition:function(){var o=Ub(fh)[0],c=Zr().memoizedState;return[o,c]},useMutableSource:DC,useSyncExternalStore:OC,useId:ZC,unstable_isNewReconciler:!1},PL={readContext:Qr,useCallback:qC,useContext:Qr,useEffect:Gb,useImperativeHandle:YC,useInsertionEffect:VC,useLayoutEffect:GC,useMemo:KC,useReducer:Vb,useRef:WC,useState:function(){return Vb(fh)},useDebugValue:Xb,useDeferredValue:function(o){var c=Zr();return ln===null?c.memoizedState=o:QC(c,ln.memoizedState,o)},useTransition:function(){var o=Vb(fh)[0],c=Zr().memoizedState;return[o,c]},useMutableSource:DC,useSyncExternalStore:OC,useId:ZC,unstable_isNewReconciler:!1};function pi(o,c){if(o&&o.defaultProps){c=K({},c),o=o.defaultProps;for(var f in o)c[f]===void 0&&(c[f]=o[f]);return c}return c}function Yb(o,c,f,v){c=o.memoizedState,f=f(v,c),f=f==null?c:K({},c,f),o.memoizedState=f,o.lanes===0&&(o.updateQueue.baseState=f)}var _m={isMounted:function(o){return(o=o._reactInternals)?ji(o)===o:!1},enqueueSetState:function(o,c,f){o=o._reactInternals;var v=Zn(),S=qo(o),R=Is(v,S);R.payload=c,f!=null&&(R.callback=f),c=Vo(o,R,S),c!==null&&(yi(c,o,S,v),ym(c,o,S))},enqueueReplaceState:function(o,c,f){o=o._reactInternals;var v=Zn(),S=qo(o),R=Is(v,S);R.tag=1,R.payload=c,f!=null&&(R.callback=f),c=Vo(o,R,S),c!==null&&(yi(c,o,S,v),ym(c,o,S))},enqueueForceUpdate:function(o,c){o=o._reactInternals;var f=Zn(),v=qo(o),S=Is(f,v);S.tag=2,c!=null&&(S.callback=c),c=Vo(o,S,v),c!==null&&(yi(c,o,v,f),ym(c,o,v))}};function n_(o,c,f,v,S,R,O){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(v,R,O):c.prototype&&c.prototype.isPureReactComponent?!eh(f,v)||!eh(S,R):!0}function r_(o,c,f){var v=!1,S=jo,R=c.contextType;return typeof R=="object"&&R!==null?R=Qr(R):(S=cr(c)?qa:Ln.current,v=c.contextTypes,R=(v=v!=null)?Uc(o,S):jo),c=new c(f,R),o.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,c.updater=_m,o.stateNode=c,c._reactInternals=o,v&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=S,o.__reactInternalMemoizedMaskedChildContext=R),c}function i_(o,c,f,v){o=c.state,typeof c.componentWillReceiveProps=="function"&&c.componentWillReceiveProps(f,v),typeof c.UNSAFE_componentWillReceiveProps=="function"&&c.UNSAFE_componentWillReceiveProps(f,v),c.state!==o&&_m.enqueueReplaceState(c,c.state,null)}function qb(o,c,f,v){var S=o.stateNode;S.props=f,S.state=o.memoizedState,S.refs={},Db(o);var R=c.contextType;typeof R=="object"&&R!==null?S.context=Qr(R):(R=cr(c)?qa:Ln.current,S.context=Uc(o,R)),S.state=o.memoizedState,R=c.getDerivedStateFromProps,typeof R=="function"&&(Yb(o,c,R,f),S.state=o.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof S.getSnapshotBeforeUpdate=="function"||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(c=S.state,typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount(),c!==S.state&&_m.enqueueReplaceState(S,S.state,null),vm(o,f,S,v),S.state=o.memoizedState),typeof S.componentDidMount=="function"&&(o.flags|=4194308)}function Zc(o,c){try{var f="",v=c;do f+=se(v),v=v.return;while(v);var S=f}catch(R){S=`
Error generating stack: `+R.message+`
`+R.stack}return{value:o,source:c,stack:S,digest:null}}function Kb(o,c,f){return{value:o,source:null,stack:f??null,digest:c??null}}function Qb(o,c){try{console.error(c.value)}catch(f){setTimeout(function(){throw f})}}var ML=typeof WeakMap=="function"?WeakMap:Map;function s_(o,c,f){f=Is(-1,f),f.tag=3,f.payload={element:null};var v=c.value;return f.callback=function(){Im||(Im=!0,hw=v),Qb(o,c)},f}function o_(o,c,f){f=Is(-1,f),f.tag=3;var v=o.type.getDerivedStateFromError;if(typeof v=="function"){var S=c.value;f.payload=function(){return v(S)},f.callback=function(){Qb(o,c)}}var R=o.stateNode;return R!==null&&typeof R.componentDidCatch=="function"&&(f.callback=function(){Qb(o,c),typeof v!="function"&&(Xo===null?Xo=new Set([this]):Xo.add(this));var O=c.stack;this.componentDidCatch(c.value,{componentStack:O!==null?O:""})}),f}function a_(o,c,f){var v=o.pingCache;if(v===null){v=o.pingCache=new ML;var S=new Set;v.set(c,S)}else S=v.get(c),S===void 0&&(S=new Set,v.set(c,S));S.has(f)||(S.add(f),o=VL.bind(null,o,c,f),c.then(o,o))}function l_(o){do{var c;if((c=o.tag===13)&&(c=o.memoizedState,c=c!==null?c.dehydrated!==null:!0),c)return o;o=o.return}while(o!==null);return null}function c_(o,c,f,v,S){return(o.mode&1)===0?(o===c?o.flags|=65536:(o.flags|=128,f.flags|=131072,f.flags&=-52805,f.tag===1&&(f.alternate===null?f.tag=17:(c=Is(-1,1),c.tag=2,Vo(f,c,1))),f.lanes|=1),o):(o.flags|=65536,o.lanes=S,o)}var IL=_.ReactCurrentOwner,ur=!1;function Qn(o,c,f,v){c.child=o===null?TC(c,null,f,v):Yc(c,o.child,f,v)}function u_(o,c,f,v,S){f=f.render;var R=c.ref;return Kc(c,S),v=jb(o,c,f,v,R,S),f=Wb(),o!==null&&!ur?(c.updateQueue=o.updateQueue,c.flags&=-2053,o.lanes&=~S,Ns(o,c,S)):(It&&f&&_b(c),c.flags|=1,Qn(o,c,v,S),c.child)}function d_(o,c,f,v,S){if(o===null){var R=f.type;return typeof R=="function"&&!bw(R)&&R.defaultProps===void 0&&f.compare===null&&f.defaultProps===void 0?(c.tag=15,c.type=R,h_(o,c,R,v,S)):(o=zm(f.type,null,v,c,c.mode,S),o.ref=c.ref,o.return=c,c.child=o)}if(R=o.child,(o.lanes&S)===0){var O=R.memoizedProps;if(f=f.compare,f=f!==null?f:eh,f(O,v)&&o.ref===c.ref)return Ns(o,c,S)}return c.flags|=1,o=Qo(R,v),o.ref=c.ref,o.return=c,c.child=o}function h_(o,c,f,v,S){if(o!==null){var R=o.memoizedProps;if(eh(R,v)&&o.ref===c.ref)if(ur=!1,c.pendingProps=v=R,(o.lanes&S)!==0)(o.flags&131072)!==0&&(ur=!0);else return c.lanes=o.lanes,Ns(o,c,S)}return Zb(o,c,f,v,S)}function f_(o,c,f){var v=c.pendingProps,S=v.children,R=o!==null?o.memoizedState:null;if(v.mode==="hidden")if((c.mode&1)===0)c.memoizedState={baseLanes:0,cachePool:null,transitions:null},kt(eu,Pr),Pr|=f;else{if((f&1073741824)===0)return o=R!==null?R.baseLanes|f:f,c.lanes=c.childLanes=1073741824,c.memoizedState={baseLanes:o,cachePool:null,transitions:null},c.updateQueue=null,kt(eu,Pr),Pr|=o,null;c.memoizedState={baseLanes:0,cachePool:null,transitions:null},v=R!==null?R.baseLanes:f,kt(eu,Pr),Pr|=v}else R!==null?(v=R.baseLanes|f,c.memoizedState=null):v=f,kt(eu,Pr),Pr|=v;return Qn(o,c,S,f),c.child}function p_(o,c){var f=c.ref;(o===null&&f!==null||o!==null&&o.ref!==f)&&(c.flags|=512,c.flags|=2097152)}function Zb(o,c,f,v,S){var R=cr(f)?qa:Ln.current;return R=Uc(c,R),Kc(c,S),f=jb(o,c,f,v,R,S),v=Wb(),o!==null&&!ur?(c.updateQueue=o.updateQueue,c.flags&=-2053,o.lanes&=~S,Ns(o,c,S)):(It&&v&&_b(c),c.flags|=1,Qn(o,c,f,S),c.child)}function g_(o,c,f,v,S){if(cr(f)){var R=!0;cm(c)}else R=!1;if(Kc(c,S),c.stateNode===null)km(o,c),r_(c,f,v),qb(c,f,v,S),v=!0;else if(o===null){var O=c.stateNode,Q=c.memoizedProps;O.props=Q;var J=O.context,ae=f.contextType;typeof ae=="object"&&ae!==null?ae=Qr(ae):(ae=cr(f)?qa:Ln.current,ae=Uc(c,ae));var fe=f.getDerivedStateFromProps,ye=typeof fe=="function"||typeof O.getSnapshotBeforeUpdate=="function";ye||typeof O.UNSAFE_componentWillReceiveProps!="function"&&typeof O.componentWillReceiveProps!="function"||(Q!==v||J!==ae)&&i_(c,O,v,ae),Uo=!1;var he=c.memoizedState;O.state=he,vm(c,v,O,S),J=c.memoizedState,Q!==v||he!==J||lr.current||Uo?(typeof fe=="function"&&(Yb(c,f,fe,v),J=c.memoizedState),(Q=Uo||n_(c,f,Q,v,he,J,ae))?(ye||typeof O.UNSAFE_componentWillMount!="function"&&typeof O.componentWillMount!="function"||(typeof O.componentWillMount=="function"&&O.componentWillMount(),typeof O.UNSAFE_componentWillMount=="function"&&O.UNSAFE_componentWillMount()),typeof O.componentDidMount=="function"&&(c.flags|=4194308)):(typeof O.componentDidMount=="function"&&(c.flags|=4194308),c.memoizedProps=v,c.memoizedState=J),O.props=v,O.state=J,O.context=ae,v=Q):(typeof O.componentDidMount=="function"&&(c.flags|=4194308),v=!1)}else{O=c.stateNode,MC(o,c),Q=c.memoizedProps,ae=c.type===c.elementType?Q:pi(c.type,Q),O.props=ae,ye=c.pendingProps,he=O.context,J=f.contextType,typeof J=="object"&&J!==null?J=Qr(J):(J=cr(f)?qa:Ln.current,J=Uc(c,J));var Se=f.getDerivedStateFromProps;(fe=typeof Se=="function"||typeof O.getSnapshotBeforeUpdate=="function")||typeof O.UNSAFE_componentWillReceiveProps!="function"&&typeof O.componentWillReceiveProps!="function"||(Q!==ye||he!==J)&&i_(c,O,v,J),Uo=!1,he=c.memoizedState,O.state=he,vm(c,v,O,S);var _e=c.memoizedState;Q!==ye||he!==_e||lr.current||Uo?(typeof Se=="function"&&(Yb(c,f,Se,v),_e=c.memoizedState),(ae=Uo||n_(c,f,ae,v,he,_e,J)||!1)?(fe||typeof O.UNSAFE_componentWillUpdate!="function"&&typeof O.componentWillUpdate!="function"||(typeof O.componentWillUpdate=="function"&&O.componentWillUpdate(v,_e,J),typeof O.UNSAFE_componentWillUpdate=="function"&&O.UNSAFE_componentWillUpdate(v,_e,J)),typeof O.componentDidUpdate=="function"&&(c.flags|=4),typeof O.getSnapshotBeforeUpdate=="function"&&(c.flags|=1024)):(typeof O.componentDidUpdate!="function"||Q===o.memoizedProps&&he===o.memoizedState||(c.flags|=4),typeof O.getSnapshotBeforeUpdate!="function"||Q===o.memoizedProps&&he===o.memoizedState||(c.flags|=1024),c.memoizedProps=v,c.memoizedState=_e),O.props=v,O.state=_e,O.context=J,v=ae):(typeof O.componentDidUpdate!="function"||Q===o.memoizedProps&&he===o.memoizedState||(c.flags|=4),typeof O.getSnapshotBeforeUpdate!="function"||Q===o.memoizedProps&&he===o.memoizedState||(c.flags|=1024),v=!1)}return Jb(o,c,f,v,R,S)}function Jb(o,c,f,v,S,R){p_(o,c);var O=(c.flags&128)!==0;if(!v&&!O)return S&&wC(c,f,!1),Ns(o,c,R);v=c.stateNode,IL.current=c;var Q=O&&typeof f.getDerivedStateFromError!="function"?null:v.render();return c.flags|=1,o!==null&&O?(c.child=Yc(c,o.child,null,R),c.child=Yc(c,null,Q,R)):Qn(o,c,Q,R),c.memoizedState=v.state,S&&wC(c,f,!0),c.child}function m_(o){var c=o.stateNode;c.pendingContext?vC(o,c.pendingContext,c.pendingContext!==c.context):c.context&&vC(o,c.context,!1),Ob(o,c.containerInfo)}function y_(o,c,f,v,S){return Xc(),Tb(S),c.flags|=256,Qn(o,c,f,v),c.child}var ew={dehydrated:null,treeContext:null,retryLane:0};function tw(o){return{baseLanes:o,cachePool:null,transitions:null}}function v_(o,c,f){var v=c.pendingProps,S=zt.current,R=!1,O=(c.flags&128)!==0,Q;if((Q=O)||(Q=o!==null&&o.memoizedState===null?!1:(S&2)!==0),Q?(R=!0,c.flags&=-129):(o===null||o.memoizedState!==null)&&(S|=1),kt(zt,S&1),o===null)return Rb(c),o=c.memoizedState,o!==null&&(o=o.dehydrated,o!==null)?((c.mode&1)===0?c.lanes=1:o.data==="$!"?c.lanes=8:c.lanes=1073741824,null):(O=v.children,o=v.fallback,R?(v=c.mode,R=c.child,O={mode:"hidden",children:O},(v&1)===0&&R!==null?(R.childLanes=0,R.pendingProps=O):R=$m(O,v,0,null),o=sl(o,v,f,null),R.return=c,o.return=c,R.sibling=o,c.child=R,c.child.memoizedState=tw(f),c.memoizedState=ew,o):nw(c,O));if(S=o.memoizedState,S!==null&&(Q=S.dehydrated,Q!==null))return NL(o,c,O,v,Q,S,f);if(R){R=v.fallback,O=c.mode,S=o.child,Q=S.sibling;var J={mode:"hidden",children:v.children};return(O&1)===0&&c.child!==S?(v=c.child,v.childLanes=0,v.pendingProps=J,c.deletions=null):(v=Qo(S,J),v.subtreeFlags=S.subtreeFlags&14680064),Q!==null?R=Qo(Q,R):(R=sl(R,O,f,null),R.flags|=2),R.return=c,v.return=c,v.sibling=R,c.child=v,v=R,R=c.child,O=o.child.memoizedState,O=O===null?tw(f):{baseLanes:O.baseLanes|f,cachePool:null,transitions:O.transitions},R.memoizedState=O,R.childLanes=o.childLanes&~f,c.memoizedState=ew,v}return R=o.child,o=R.sibling,v=Qo(R,{mode:"visible",children:v.children}),(c.mode&1)===0&&(v.lanes=f),v.return=c,v.sibling=null,o!==null&&(f=c.deletions,f===null?(c.deletions=[o],c.flags|=16):f.push(o)),c.child=v,c.memoizedState=null,v}function nw(o,c){return c=$m({mode:"visible",children:c},o.mode,0,null),c.return=o,o.child=c}function Am(o,c,f,v){return v!==null&&Tb(v),Yc(c,o.child,null,f),o=nw(c,c.pendingProps.children),o.flags|=2,c.memoizedState=null,o}function NL(o,c,f,v,S,R,O){if(f)return c.flags&256?(c.flags&=-257,v=Kb(Error(t(422))),Am(o,c,O,v)):c.memoizedState!==null?(c.child=o.child,c.flags|=128,null):(R=v.fallback,S=c.mode,v=$m({mode:"visible",children:v.children},S,0,null),R=sl(R,S,O,null),R.flags|=2,v.return=c,R.return=c,v.sibling=R,c.child=v,(c.mode&1)!==0&&Yc(c,o.child,null,O),c.child.memoizedState=tw(O),c.memoizedState=ew,R);if((c.mode&1)===0)return Am(o,c,O,null);if(S.data==="$!"){if(v=S.nextSibling&&S.nextSibling.dataset,v)var Q=v.dgst;return v=Q,R=Error(t(419)),v=Kb(R,v,void 0),Am(o,c,O,v)}if(Q=(O&o.childLanes)!==0,ur||Q){if(v=bn,v!==null){switch(O&-O){case 4:S=2;break;case 16:S=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:S=32;break;case 536870912:S=268435456;break;default:S=0}S=(S&(v.suspendedLanes|O))!==0?0:S,S!==0&&S!==R.retryLane&&(R.retryLane=S,Ms(o,S),yi(v,o,S,-1))}return vw(),v=Kb(Error(t(421))),Am(o,c,O,v)}return S.data==="$?"?(c.flags|=128,c.child=o.child,c=GL.bind(null,o),S._reactRetry=c,null):(o=R.treeContext,Tr=Bo(S.nextSibling),Rr=c,It=!0,fi=null,o!==null&&(qr[Kr++]=Ts,qr[Kr++]=Ps,qr[Kr++]=Ka,Ts=o.id,Ps=o.overflow,Ka=c),c=nw(c,v.children),c.flags|=4096,c)}function b_(o,c,f){o.lanes|=c;var v=o.alternate;v!==null&&(v.lanes|=c),Nb(o.return,c,f)}function rw(o,c,f,v,S){var R=o.memoizedState;R===null?o.memoizedState={isBackwards:c,rendering:null,renderingStartTime:0,last:v,tail:f,tailMode:S}:(R.isBackwards=c,R.rendering=null,R.renderingStartTime=0,R.last=v,R.tail=f,R.tailMode=S)}function w_(o,c,f){var v=c.pendingProps,S=v.revealOrder,R=v.tail;if(Qn(o,c,v.children,f),v=zt.current,(v&2)!==0)v=v&1|2,c.flags|=128;else{if(o!==null&&(o.flags&128)!==0)e:for(o=c.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&b_(o,f,c);else if(o.tag===19)b_(o,f,c);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===c)break e;for(;o.sibling===null;){if(o.return===null||o.return===c)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}v&=1}if(kt(zt,v),(c.mode&1)===0)c.memoizedState=null;else switch(S){case"forwards":for(f=c.child,S=null;f!==null;)o=f.alternate,o!==null&&bm(o)===null&&(S=f),f=f.sibling;f=S,f===null?(S=c.child,c.child=null):(S=f.sibling,f.sibling=null),rw(c,!1,S,f,R);break;case"backwards":for(f=null,S=c.child,c.child=null;S!==null;){if(o=S.alternate,o!==null&&bm(o)===null){c.child=S;break}o=S.sibling,S.sibling=f,f=S,S=o}rw(c,!0,f,null,R);break;case"together":rw(c,!1,null,null,void 0);break;default:c.memoizedState=null}return c.child}function km(o,c){(c.mode&1)===0&&o!==null&&(o.alternate=null,c.alternate=null,c.flags|=2)}function Ns(o,c,f){if(o!==null&&(c.dependencies=o.dependencies),tl|=c.lanes,(f&c.childLanes)===0)return null;if(o!==null&&c.child!==o.child)throw Error(t(153));if(c.child!==null){for(o=c.child,f=Qo(o,o.pendingProps),c.child=f,f.return=c;o.sibling!==null;)o=o.sibling,f=f.sibling=Qo(o,o.pendingProps),f.return=c;f.sibling=null}return c.child}function LL(o,c,f){switch(c.tag){case 3:m_(c),Xc();break;case 5:LC(c);break;case 1:cr(c.type)&&cm(c);break;case 4:Ob(c,c.stateNode.containerInfo);break;case 10:var v=c.type._context,S=c.memoizedProps.value;kt(gm,v._currentValue),v._currentValue=S;break;case 13:if(v=c.memoizedState,v!==null)return v.dehydrated!==null?(kt(zt,zt.current&1),c.flags|=128,null):(f&c.child.childLanes)!==0?v_(o,c,f):(kt(zt,zt.current&1),o=Ns(o,c,f),o!==null?o.sibling:null);kt(zt,zt.current&1);break;case 19:if(v=(f&c.childLanes)!==0,(o.flags&128)!==0){if(v)return w_(o,c,f);c.flags|=128}if(S=c.memoizedState,S!==null&&(S.rendering=null,S.tail=null,S.lastEffect=null),kt(zt,zt.current),v)break;return null;case 22:case 23:return c.lanes=0,f_(o,c,f)}return Ns(o,c,f)}var x_,iw,S_,E_;x_=function(o,c){for(var f=c.child;f!==null;){if(f.tag===5||f.tag===6)o.appendChild(f.stateNode);else if(f.tag!==4&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===c)break;for(;f.sibling===null;){if(f.return===null||f.return===c)return;f=f.return}f.sibling.return=f.return,f=f.sibling}},iw=function(){},S_=function(o,c,f,v){var S=o.memoizedProps;if(S!==v){o=c.stateNode,Ja(Ui.current);var R=null;switch(f){case"input":S=be(o,S),v=be(o,v),R=[];break;case"select":S=K({},S,{value:void 0}),v=K({},v,{value:void 0}),R=[];break;case"textarea":S=Te(o,S),v=Te(o,v),R=[];break;default:typeof S.onClick!="function"&&typeof v.onClick=="function"&&(o.onclick=om)}st(f,v);var O;f=null;for(ae in S)if(!v.hasOwnProperty(ae)&&S.hasOwnProperty(ae)&&S[ae]!=null)if(ae==="style"){var Q=S[ae];for(O in Q)Q.hasOwnProperty(O)&&(f||(f={}),f[O]="")}else ae!=="dangerouslySetInnerHTML"&&ae!=="children"&&ae!=="suppressContentEditableWarning"&&ae!=="suppressHydrationWarning"&&ae!=="autoFocus"&&(i.hasOwnProperty(ae)?R||(R=[]):(R=R||[]).push(ae,null));for(ae in v){var J=v[ae];if(Q=S!=null?S[ae]:void 0,v.hasOwnProperty(ae)&&J!==Q&&(J!=null||Q!=null))if(ae==="style")if(Q){for(O in Q)!Q.hasOwnProperty(O)||J&&J.hasOwnProperty(O)||(f||(f={}),f[O]="");for(O in J)J.hasOwnProperty(O)&&Q[O]!==J[O]&&(f||(f={}),f[O]=J[O])}else f||(R||(R=[]),R.push(ae,f)),f=J;else ae==="dangerouslySetInnerHTML"?(J=J?J.__html:void 0,Q=Q?Q.__html:void 0,J!=null&&Q!==J&&(R=R||[]).push(ae,J)):ae==="children"?typeof J!="string"&&typeof J!="number"||(R=R||[]).push(ae,""+J):ae!=="suppressContentEditableWarning"&&ae!=="suppressHydrationWarning"&&(i.hasOwnProperty(ae)?(J!=null&&ae==="onScroll"&&Pt("scroll",o),R||Q===J||(R=[])):(R=R||[]).push(ae,J))}f&&(R=R||[]).push("style",f);var ae=R;(c.updateQueue=ae)&&(c.flags|=4)}},E_=function(o,c,f,v){f!==v&&(c.flags|=4)};function gh(o,c){if(!It)switch(o.tailMode){case"hidden":c=o.tail;for(var f=null;c!==null;)c.alternate!==null&&(f=c),c=c.sibling;f===null?o.tail=null:f.sibling=null;break;case"collapsed":f=o.tail;for(var v=null;f!==null;)f.alternate!==null&&(v=f),f=f.sibling;v===null?c||o.tail===null?o.tail=null:o.tail.sibling=null:v.sibling=null}}function On(o){var c=o.alternate!==null&&o.alternate.child===o.child,f=0,v=0;if(c)for(var S=o.child;S!==null;)f|=S.lanes|S.childLanes,v|=S.subtreeFlags&14680064,v|=S.flags&14680064,S.return=o,S=S.sibling;else for(S=o.child;S!==null;)f|=S.lanes|S.childLanes,v|=S.subtreeFlags,v|=S.flags,S.return=o,S=S.sibling;return o.subtreeFlags|=v,o.childLanes=f,c}function DL(o,c,f){var v=c.pendingProps;switch(Ab(c),c.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return On(c),null;case 1:return cr(c.type)&&lm(),On(c),null;case 3:return v=c.stateNode,Qc(),Mt(lr),Mt(Ln),$b(),v.pendingContext&&(v.context=v.pendingContext,v.pendingContext=null),(o===null||o.child===null)&&(fm(c)?c.flags|=4:o===null||o.memoizedState.isDehydrated&&(c.flags&256)===0||(c.flags|=1024,fi!==null&&(gw(fi),fi=null))),iw(o,c),On(c),null;case 5:Fb(c);var S=Ja(uh.current);if(f=c.type,o!==null&&c.stateNode!=null)S_(o,c,f,v,S),o.ref!==c.ref&&(c.flags|=512,c.flags|=2097152);else{if(!v){if(c.stateNode===null)throw Error(t(166));return On(c),null}if(o=Ja(Ui.current),fm(c)){v=c.stateNode,f=c.type;var R=c.memoizedProps;switch(v[Wi]=c,v[sh]=R,o=(c.mode&1)!==0,f){case"dialog":Pt("cancel",v),Pt("close",v);break;case"iframe":case"object":case"embed":Pt("load",v);break;case"video":case"audio":for(S=0;S<nh.length;S++)Pt(nh[S],v);break;case"source":Pt("error",v);break;case"img":case"image":case"link":Pt("error",v),Pt("load",v);break;case"details":Pt("toggle",v);break;case"input":je(v,R),Pt("invalid",v);break;case"select":v._wrapperState={wasMultiple:!!R.multiple},Pt("invalid",v);break;case"textarea":Yn(v,R),Pt("invalid",v)}st(f,R),S=null;for(var O in R)if(R.hasOwnProperty(O)){var Q=R[O];O==="children"?typeof Q=="string"?v.textContent!==Q&&(R.suppressHydrationWarning!==!0&&sm(v.textContent,Q,o),S=["children",Q]):typeof Q=="number"&&v.textContent!==""+Q&&(R.suppressHydrationWarning!==!0&&sm(v.textContent,Q,o),S=["children",""+Q]):i.hasOwnProperty(O)&&Q!=null&&O==="onScroll"&&Pt("scroll",v)}switch(f){case"input":me(v),Tt(v,R,!0);break;case"textarea":me(v),qn(v);break;case"select":case"option":break;default:typeof R.onClick=="function"&&(v.onclick=om)}v=S,c.updateQueue=v,v!==null&&(c.flags|=4)}else{O=S.nodeType===9?S:S.ownerDocument,o==="http://www.w3.org/1999/xhtml"&&(o=or(f)),o==="http://www.w3.org/1999/xhtml"?f==="script"?(o=O.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild)):typeof v.is=="string"?o=O.createElement(f,{is:v.is}):(o=O.createElement(f),f==="select"&&(O=o,v.multiple?O.multiple=!0:v.size&&(O.size=v.size))):o=O.createElementNS(o,f),o[Wi]=c,o[sh]=v,x_(o,c,!1,!1),c.stateNode=o;e:{switch(O=Ot(f,v),f){case"dialog":Pt("cancel",o),Pt("close",o),S=v;break;case"iframe":case"object":case"embed":Pt("load",o),S=v;break;case"video":case"audio":for(S=0;S<nh.length;S++)Pt(nh[S],o);S=v;break;case"source":Pt("error",o),S=v;break;case"img":case"image":case"link":Pt("error",o),Pt("load",o),S=v;break;case"details":Pt("toggle",o),S=v;break;case"input":je(o,v),S=be(o,v),Pt("invalid",o);break;case"option":S=v;break;case"select":o._wrapperState={wasMultiple:!!v.multiple},S=K({},v,{value:void 0}),Pt("invalid",o);break;case"textarea":Yn(o,v),S=Te(o,v),Pt("invalid",o);break;default:S=v}st(f,S),Q=S;for(R in Q)if(Q.hasOwnProperty(R)){var J=Q[R];R==="style"?Wa(o,J):R==="dangerouslySetInnerHTML"?(J=J?J.__html:void 0,J!=null&&_r(o,J)):R==="children"?typeof J=="string"?(f!=="textarea"||J!=="")&&Kn(o,J):typeof J=="number"&&Kn(o,""+J):R!=="suppressContentEditableWarning"&&R!=="suppressHydrationWarning"&&R!=="autoFocus"&&(i.hasOwnProperty(R)?J!=null&&R==="onScroll"&&Pt("scroll",o):J!=null&&E(o,R,J,O))}switch(f){case"input":me(o),Tt(o,v,!1);break;case"textarea":me(o),qn(o);break;case"option":v.value!=null&&o.setAttribute("value",""+oe(v.value));break;case"select":o.multiple=!!v.multiple,R=v.value,R!=null?ut(o,!!v.multiple,R,!1):v.defaultValue!=null&&ut(o,!!v.multiple,v.defaultValue,!0);break;default:typeof S.onClick=="function"&&(o.onclick=om)}switch(f){case"button":case"input":case"select":case"textarea":v=!!v.autoFocus;break e;case"img":v=!0;break e;default:v=!1}}v&&(c.flags|=4)}c.ref!==null&&(c.flags|=512,c.flags|=2097152)}return On(c),null;case 6:if(o&&c.stateNode!=null)E_(o,c,o.memoizedProps,v);else{if(typeof v!="string"&&c.stateNode===null)throw Error(t(166));if(f=Ja(uh.current),Ja(Ui.current),fm(c)){if(v=c.stateNode,f=c.memoizedProps,v[Wi]=c,(R=v.nodeValue!==f)&&(o=Rr,o!==null))switch(o.tag){case 3:sm(v.nodeValue,f,(o.mode&1)!==0);break;case 5:o.memoizedProps.suppressHydrationWarning!==!0&&sm(v.nodeValue,f,(o.mode&1)!==0)}R&&(c.flags|=4)}else v=(f.nodeType===9?f:f.ownerDocument).createTextNode(v),v[Wi]=c,c.stateNode=v}return On(c),null;case 13:if(Mt(zt),v=c.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(It&&Tr!==null&&(c.mode&1)!==0&&(c.flags&128)===0)AC(),Xc(),c.flags|=98560,R=!1;else if(R=fm(c),v!==null&&v.dehydrated!==null){if(o===null){if(!R)throw Error(t(318));if(R=c.memoizedState,R=R!==null?R.dehydrated:null,!R)throw Error(t(317));R[Wi]=c}else Xc(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;On(c),R=!1}else fi!==null&&(gw(fi),fi=null),R=!0;if(!R)return c.flags&65536?c:null}return(c.flags&128)!==0?(c.lanes=f,c):(v=v!==null,v!==(o!==null&&o.memoizedState!==null)&&v&&(c.child.flags|=8192,(c.mode&1)!==0&&(o===null||(zt.current&1)!==0?cn===0&&(cn=3):vw())),c.updateQueue!==null&&(c.flags|=4),On(c),null);case 4:return Qc(),iw(o,c),o===null&&rh(c.stateNode.containerInfo),On(c),null;case 10:return Ib(c.type._context),On(c),null;case 17:return cr(c.type)&&lm(),On(c),null;case 19:if(Mt(zt),R=c.memoizedState,R===null)return On(c),null;if(v=(c.flags&128)!==0,O=R.rendering,O===null)if(v)gh(R,!1);else{if(cn!==0||o!==null&&(o.flags&128)!==0)for(o=c.child;o!==null;){if(O=bm(o),O!==null){for(c.flags|=128,gh(R,!1),v=O.updateQueue,v!==null&&(c.updateQueue=v,c.flags|=4),c.subtreeFlags=0,v=f,f=c.child;f!==null;)R=f,o=v,R.flags&=14680066,O=R.alternate,O===null?(R.childLanes=0,R.lanes=o,R.child=null,R.subtreeFlags=0,R.memoizedProps=null,R.memoizedState=null,R.updateQueue=null,R.dependencies=null,R.stateNode=null):(R.childLanes=O.childLanes,R.lanes=O.lanes,R.child=O.child,R.subtreeFlags=0,R.deletions=null,R.memoizedProps=O.memoizedProps,R.memoizedState=O.memoizedState,R.updateQueue=O.updateQueue,R.type=O.type,o=O.dependencies,R.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),f=f.sibling;return kt(zt,zt.current&1|2),c.child}o=o.sibling}R.tail!==null&&Ft()>tu&&(c.flags|=128,v=!0,gh(R,!1),c.lanes=4194304)}else{if(!v)if(o=bm(O),o!==null){if(c.flags|=128,v=!0,f=o.updateQueue,f!==null&&(c.updateQueue=f,c.flags|=4),gh(R,!0),R.tail===null&&R.tailMode==="hidden"&&!O.alternate&&!It)return On(c),null}else 2*Ft()-R.renderingStartTime>tu&&f!==1073741824&&(c.flags|=128,v=!0,gh(R,!1),c.lanes=4194304);R.isBackwards?(O.sibling=c.child,c.child=O):(f=R.last,f!==null?f.sibling=O:c.child=O,R.last=O)}return R.tail!==null?(c=R.tail,R.rendering=c,R.tail=c.sibling,R.renderingStartTime=Ft(),c.sibling=null,f=zt.current,kt(zt,v?f&1|2:f&1),c):(On(c),null);case 22:case 23:return yw(),v=c.memoizedState!==null,o!==null&&o.memoizedState!==null!==v&&(c.flags|=8192),v&&(c.mode&1)!==0?(Pr&1073741824)!==0&&(On(c),c.subtreeFlags&6&&(c.flags|=8192)):On(c),null;case 24:return null;case 25:return null}throw Error(t(156,c.tag))}function OL(o,c){switch(Ab(c),c.tag){case 1:return cr(c.type)&&lm(),o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 3:return Qc(),Mt(lr),Mt(Ln),$b(),o=c.flags,(o&65536)!==0&&(o&128)===0?(c.flags=o&-65537|128,c):null;case 5:return Fb(c),null;case 13:if(Mt(zt),o=c.memoizedState,o!==null&&o.dehydrated!==null){if(c.alternate===null)throw Error(t(340));Xc()}return o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 19:return Mt(zt),null;case 4:return Qc(),null;case 10:return Ib(c.type._context),null;case 22:case 23:return yw(),null;case 24:return null;default:return null}}var Rm=!1,Fn=!1,FL=typeof WeakSet=="function"?WeakSet:Set,Ee=null;function Jc(o,c){var f=o.ref;if(f!==null)if(typeof f=="function")try{f(null)}catch(v){Wt(o,c,v)}else f.current=null}function sw(o,c,f){try{f()}catch(v){Wt(o,c,v)}}var C_=!1;function zL(o,c){if(yb=Yg,o=nC(),cb(o)){if("selectionStart"in o)var f={start:o.selectionStart,end:o.selectionEnd};else e:{f=(f=o.ownerDocument)&&f.defaultView||window;var v=f.getSelection&&f.getSelection();if(v&&v.rangeCount!==0){f=v.anchorNode;var S=v.anchorOffset,R=v.focusNode;v=v.focusOffset;try{f.nodeType,R.nodeType}catch{f=null;break e}var O=0,Q=-1,J=-1,ae=0,fe=0,ye=o,he=null;t:for(;;){for(var Se;ye!==f||S!==0&&ye.nodeType!==3||(Q=O+S),ye!==R||v!==0&&ye.nodeType!==3||(J=O+v),ye.nodeType===3&&(O+=ye.nodeValue.length),(Se=ye.firstChild)!==null;)he=ye,ye=Se;for(;;){if(ye===o)break t;if(he===f&&++ae===S&&(Q=O),he===R&&++fe===v&&(J=O),(Se=ye.nextSibling)!==null)break;ye=he,he=ye.parentNode}ye=Se}f=Q===-1||J===-1?null:{start:Q,end:J}}else f=null}f=f||{start:0,end:0}}else f=null;for(vb={focusedElem:o,selectionRange:f},Yg=!1,Ee=c;Ee!==null;)if(c=Ee,o=c.child,(c.subtreeFlags&1028)!==0&&o!==null)o.return=c,Ee=o;else for(;Ee!==null;){c=Ee;try{var _e=c.alternate;if((c.flags&1024)!==0)switch(c.tag){case 0:case 11:case 15:break;case 1:if(_e!==null){var ke=_e.memoizedProps,qt=_e.memoizedState,ne=c.stateNode,te=ne.getSnapshotBeforeUpdate(c.elementType===c.type?ke:pi(c.type,ke),qt);ne.__reactInternalSnapshotBeforeUpdate=te}break;case 3:var ie=c.stateNode.containerInfo;ie.nodeType===1?ie.textContent="":ie.nodeType===9&&ie.documentElement&&ie.removeChild(ie.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(ve){Wt(c,c.return,ve)}if(o=c.sibling,o!==null){o.return=c.return,Ee=o;break}Ee=c.return}return _e=C_,C_=!1,_e}function mh(o,c,f){var v=c.updateQueue;if(v=v!==null?v.lastEffect:null,v!==null){var S=v=v.next;do{if((S.tag&o)===o){var R=S.destroy;S.destroy=void 0,R!==void 0&&sw(c,f,R)}S=S.next}while(S!==v)}}function Tm(o,c){if(c=c.updateQueue,c=c!==null?c.lastEffect:null,c!==null){var f=c=c.next;do{if((f.tag&o)===o){var v=f.create;f.destroy=v()}f=f.next}while(f!==c)}}function ow(o){var c=o.ref;if(c!==null){var f=o.stateNode;switch(o.tag){case 5:o=f;break;default:o=f}typeof c=="function"?c(o):c.current=o}}function __(o){var c=o.alternate;c!==null&&(o.alternate=null,__(c)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(c=o.stateNode,c!==null&&(delete c[Wi],delete c[sh],delete c[Sb],delete c[wL],delete c[xL])),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}function A_(o){return o.tag===5||o.tag===3||o.tag===4}function k_(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||A_(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function aw(o,c,f){var v=o.tag;if(v===5||v===6)o=o.stateNode,c?f.nodeType===8?f.parentNode.insertBefore(o,c):f.insertBefore(o,c):(f.nodeType===8?(c=f.parentNode,c.insertBefore(o,f)):(c=f,c.appendChild(o)),f=f._reactRootContainer,f!=null||c.onclick!==null||(c.onclick=om));else if(v!==4&&(o=o.child,o!==null))for(aw(o,c,f),o=o.sibling;o!==null;)aw(o,c,f),o=o.sibling}function lw(o,c,f){var v=o.tag;if(v===5||v===6)o=o.stateNode,c?f.insertBefore(o,c):f.appendChild(o);else if(v!==4&&(o=o.child,o!==null))for(lw(o,c,f),o=o.sibling;o!==null;)lw(o,c,f),o=o.sibling}var En=null,gi=!1;function Go(o,c,f){for(f=f.child;f!==null;)R_(o,c,f),f=f.sibling}function R_(o,c,f){if(Yr&&typeof Yr.onCommitFiberUnmount=="function")try{Yr.onCommitFiberUnmount(Ic,f)}catch{}switch(f.tag){case 5:Fn||Jc(f,c);case 6:var v=En,S=gi;En=null,Go(o,c,f),En=v,gi=S,En!==null&&(gi?(o=En,f=f.stateNode,o.nodeType===8?o.parentNode.removeChild(f):o.removeChild(f)):En.removeChild(f.stateNode));break;case 18:En!==null&&(gi?(o=En,f=f.stateNode,o.nodeType===8?xb(o.parentNode,f):o.nodeType===1&&xb(o,f),Yd(o)):xb(En,f.stateNode));break;case 4:v=En,S=gi,En=f.stateNode.containerInfo,gi=!0,Go(o,c,f),En=v,gi=S;break;case 0:case 11:case 14:case 15:if(!Fn&&(v=f.updateQueue,v!==null&&(v=v.lastEffect,v!==null))){S=v=v.next;do{var R=S,O=R.destroy;R=R.tag,O!==void 0&&((R&2)!==0||(R&4)!==0)&&sw(f,c,O),S=S.next}while(S!==v)}Go(o,c,f);break;case 1:if(!Fn&&(Jc(f,c),v=f.stateNode,typeof v.componentWillUnmount=="function"))try{v.props=f.memoizedProps,v.state=f.memoizedState,v.componentWillUnmount()}catch(Q){Wt(f,c,Q)}Go(o,c,f);break;case 21:Go(o,c,f);break;case 22:f.mode&1?(Fn=(v=Fn)||f.memoizedState!==null,Go(o,c,f),Fn=v):Go(o,c,f);break;default:Go(o,c,f)}}function T_(o){var c=o.updateQueue;if(c!==null){o.updateQueue=null;var f=o.stateNode;f===null&&(f=o.stateNode=new FL),c.forEach(function(v){var S=XL.bind(null,o,v);f.has(v)||(f.add(v),v.then(S,S))})}}function mi(o,c){var f=c.deletions;if(f!==null)for(var v=0;v<f.length;v++){var S=f[v];try{var R=o,O=c,Q=O;e:for(;Q!==null;){switch(Q.tag){case 5:En=Q.stateNode,gi=!1;break e;case 3:En=Q.stateNode.containerInfo,gi=!0;break e;case 4:En=Q.stateNode.containerInfo,gi=!0;break e}Q=Q.return}if(En===null)throw Error(t(160));R_(R,O,S),En=null,gi=!1;var J=S.alternate;J!==null&&(J.return=null),S.return=null}catch(ae){Wt(S,c,ae)}}if(c.subtreeFlags&12854)for(c=c.child;c!==null;)P_(c,o),c=c.sibling}function P_(o,c){var f=o.alternate,v=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:if(mi(c,o),Gi(o),v&4){try{mh(3,o,o.return),Tm(3,o)}catch(ke){Wt(o,o.return,ke)}try{mh(5,o,o.return)}catch(ke){Wt(o,o.return,ke)}}break;case 1:mi(c,o),Gi(o),v&512&&f!==null&&Jc(f,f.return);break;case 5:if(mi(c,o),Gi(o),v&512&&f!==null&&Jc(f,f.return),o.flags&32){var S=o.stateNode;try{Kn(S,"")}catch(ke){Wt(o,o.return,ke)}}if(v&4&&(S=o.stateNode,S!=null)){var R=o.memoizedProps,O=f!==null?f.memoizedProps:R,Q=o.type,J=o.updateQueue;if(o.updateQueue=null,J!==null)try{Q==="input"&&R.type==="radio"&&R.name!=null&&mt(S,R),Ot(Q,O);var ae=Ot(Q,R);for(O=0;O<J.length;O+=2){var fe=J[O],ye=J[O+1];fe==="style"?Wa(S,ye):fe==="dangerouslySetInnerHTML"?_r(S,ye):fe==="children"?Kn(S,ye):E(S,fe,ye,ae)}switch(Q){case"input":Dt(S,R);break;case"textarea":Yt(S,R);break;case"select":var he=S._wrapperState.wasMultiple;S._wrapperState.wasMultiple=!!R.multiple;var Se=R.value;Se!=null?ut(S,!!R.multiple,Se,!1):he!==!!R.multiple&&(R.defaultValue!=null?ut(S,!!R.multiple,R.defaultValue,!0):ut(S,!!R.multiple,R.multiple?[]:"",!1))}S[sh]=R}catch(ke){Wt(o,o.return,ke)}}break;case 6:if(mi(c,o),Gi(o),v&4){if(o.stateNode===null)throw Error(t(162));S=o.stateNode,R=o.memoizedProps;try{S.nodeValue=R}catch(ke){Wt(o,o.return,ke)}}break;case 3:if(mi(c,o),Gi(o),v&4&&f!==null&&f.memoizedState.isDehydrated)try{Yd(c.containerInfo)}catch(ke){Wt(o,o.return,ke)}break;case 4:mi(c,o),Gi(o);break;case 13:mi(c,o),Gi(o),S=o.child,S.flags&8192&&(R=S.memoizedState!==null,S.stateNode.isHidden=R,!R||S.alternate!==null&&S.alternate.memoizedState!==null||(dw=Ft())),v&4&&T_(o);break;case 22:if(fe=f!==null&&f.memoizedState!==null,o.mode&1?(Fn=(ae=Fn)||fe,mi(c,o),Fn=ae):mi(c,o),Gi(o),v&8192){if(ae=o.memoizedState!==null,(o.stateNode.isHidden=ae)&&!fe&&(o.mode&1)!==0)for(Ee=o,fe=o.child;fe!==null;){for(ye=Ee=fe;Ee!==null;){switch(he=Ee,Se=he.child,he.tag){case 0:case 11:case 14:case 15:mh(4,he,he.return);break;case 1:Jc(he,he.return);var _e=he.stateNode;if(typeof _e.componentWillUnmount=="function"){v=he,f=he.return;try{c=v,_e.props=c.memoizedProps,_e.state=c.memoizedState,_e.componentWillUnmount()}catch(ke){Wt(v,f,ke)}}break;case 5:Jc(he,he.return);break;case 22:if(he.memoizedState!==null){N_(ye);continue}}Se!==null?(Se.return=he,Ee=Se):N_(ye)}fe=fe.sibling}e:for(fe=null,ye=o;;){if(ye.tag===5){if(fe===null){fe=ye;try{S=ye.stateNode,ae?(R=S.style,typeof R.setProperty=="function"?R.setProperty("display","none","important"):R.display="none"):(Q=ye.stateNode,J=ye.memoizedProps.style,O=J!=null&&J.hasOwnProperty("display")?J.display:null,Q.style.display=Hi("display",O))}catch(ke){Wt(o,o.return,ke)}}}else if(ye.tag===6){if(fe===null)try{ye.stateNode.nodeValue=ae?"":ye.memoizedProps}catch(ke){Wt(o,o.return,ke)}}else if((ye.tag!==22&&ye.tag!==23||ye.memoizedState===null||ye===o)&&ye.child!==null){ye.child.return=ye,ye=ye.child;continue}if(ye===o)break e;for(;ye.sibling===null;){if(ye.return===null||ye.return===o)break e;fe===ye&&(fe=null),ye=ye.return}fe===ye&&(fe=null),ye.sibling.return=ye.return,ye=ye.sibling}}break;case 19:mi(c,o),Gi(o),v&4&&T_(o);break;case 21:break;default:mi(c,o),Gi(o)}}function Gi(o){var c=o.flags;if(c&2){try{e:{for(var f=o.return;f!==null;){if(A_(f)){var v=f;break e}f=f.return}throw Error(t(160))}switch(v.tag){case 5:var S=v.stateNode;v.flags&32&&(Kn(S,""),v.flags&=-33);var R=k_(o);lw(o,R,S);break;case 3:case 4:var O=v.stateNode.containerInfo,Q=k_(o);aw(o,Q,O);break;default:throw Error(t(161))}}catch(J){Wt(o,o.return,J)}o.flags&=-3}c&4096&&(o.flags&=-4097)}function $L(o,c,f){Ee=o,M_(o)}function M_(o,c,f){for(var v=(o.mode&1)!==0;Ee!==null;){var S=Ee,R=S.child;if(S.tag===22&&v){var O=S.memoizedState!==null||Rm;if(!O){var Q=S.alternate,J=Q!==null&&Q.memoizedState!==null||Fn;Q=Rm;var ae=Fn;if(Rm=O,(Fn=J)&&!ae)for(Ee=S;Ee!==null;)O=Ee,J=O.child,O.tag===22&&O.memoizedState!==null?L_(S):J!==null?(J.return=O,Ee=J):L_(S);for(;R!==null;)Ee=R,M_(R),R=R.sibling;Ee=S,Rm=Q,Fn=ae}I_(o)}else(S.subtreeFlags&8772)!==0&&R!==null?(R.return=S,Ee=R):I_(o)}}function I_(o){for(;Ee!==null;){var c=Ee;if((c.flags&8772)!==0){var f=c.alternate;try{if((c.flags&8772)!==0)switch(c.tag){case 0:case 11:case 15:Fn||Tm(5,c);break;case 1:var v=c.stateNode;if(c.flags&4&&!Fn)if(f===null)v.componentDidMount();else{var S=c.elementType===c.type?f.memoizedProps:pi(c.type,f.memoizedProps);v.componentDidUpdate(S,f.memoizedState,v.__reactInternalSnapshotBeforeUpdate)}var R=c.updateQueue;R!==null&&NC(c,R,v);break;case 3:var O=c.updateQueue;if(O!==null){if(f=null,c.child!==null)switch(c.child.tag){case 5:f=c.child.stateNode;break;case 1:f=c.child.stateNode}NC(c,O,f)}break;case 5:var Q=c.stateNode;if(f===null&&c.flags&4){f=Q;var J=c.memoizedProps;switch(c.type){case"button":case"input":case"select":case"textarea":J.autoFocus&&f.focus();break;case"img":J.src&&(f.src=J.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(c.memoizedState===null){var ae=c.alternate;if(ae!==null){var fe=ae.memoizedState;if(fe!==null){var ye=fe.dehydrated;ye!==null&&Yd(ye)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}Fn||c.flags&512&&ow(c)}catch(he){Wt(c,c.return,he)}}if(c===o){Ee=null;break}if(f=c.sibling,f!==null){f.return=c.return,Ee=f;break}Ee=c.return}}function N_(o){for(;Ee!==null;){var c=Ee;if(c===o){Ee=null;break}var f=c.sibling;if(f!==null){f.return=c.return,Ee=f;break}Ee=c.return}}function L_(o){for(;Ee!==null;){var c=Ee;try{switch(c.tag){case 0:case 11:case 15:var f=c.return;try{Tm(4,c)}catch(J){Wt(c,f,J)}break;case 1:var v=c.stateNode;if(typeof v.componentDidMount=="function"){var S=c.return;try{v.componentDidMount()}catch(J){Wt(c,S,J)}}var R=c.return;try{ow(c)}catch(J){Wt(c,R,J)}break;case 5:var O=c.return;try{ow(c)}catch(J){Wt(c,O,J)}}}catch(J){Wt(c,c.return,J)}if(c===o){Ee=null;break}var Q=c.sibling;if(Q!==null){Q.return=c.return,Ee=Q;break}Ee=c.return}}var BL=Math.ceil,Pm=_.ReactCurrentDispatcher,cw=_.ReactCurrentOwner,Jr=_.ReactCurrentBatchConfig,Ze=0,bn=null,en=null,Cn=0,Pr=0,eu=Ho(0),cn=0,yh=null,tl=0,Mm=0,uw=0,vh=null,dr=null,dw=0,tu=1/0,Ls=null,Im=!1,hw=null,Xo=null,Nm=!1,Yo=null,Lm=0,bh=0,fw=null,Dm=-1,Om=0;function Zn(){return(Ze&6)!==0?Ft():Dm!==-1?Dm:Dm=Ft()}function qo(o){return(o.mode&1)===0?1:(Ze&2)!==0&&Cn!==0?Cn&-Cn:EL.transition!==null?(Om===0&&(Om=kE()),Om):(o=ft,o!==0||(o=window.event,o=o===void 0?16:OE(o.type)),o)}function yi(o,c,f,v){if(50<bh)throw bh=0,fw=null,Error(t(185));Wd(o,f,v),((Ze&2)===0||o!==bn)&&(o===bn&&((Ze&2)===0&&(Mm|=f),cn===4&&Ko(o,Cn)),hr(o,v),f===1&&Ze===0&&(c.mode&1)===0&&(tu=Ft()+500,um&&Wo()))}function hr(o,c){var f=o.callbackNode;Xv(o,c);var v=No(o,o===bn?Cn:0);if(v===0)f!==null&&Wg(f),o.callbackNode=null,o.callbackPriority=0;else if(c=v&-v,o.callbackPriority!==c){if(f!=null&&Wg(f),c===1)o.tag===0?SL(O_.bind(null,o)):xC(O_.bind(null,o)),vL(function(){(Ze&6)===0&&Wo()}),f=null;else{switch(RE(v)){case 1:f=Hd;break;case 4:f=Vg;break;case 16:f=Mc;break;case 536870912:f=jd;break;default:f=Mc}f=U_(f,D_.bind(null,o))}o.callbackPriority=c,o.callbackNode=f}}function D_(o,c){if(Dm=-1,Om=0,(Ze&6)!==0)throw Error(t(327));var f=o.callbackNode;if(nu()&&o.callbackNode!==f)return null;var v=No(o,o===bn?Cn:0);if(v===0)return null;if((v&30)!==0||(v&o.expiredLanes)!==0||c)c=Fm(o,v);else{c=v;var S=Ze;Ze|=2;var R=z_();(bn!==o||Cn!==c)&&(Ls=null,tu=Ft()+500,rl(o,c));do try{WL();break}catch(Q){F_(o,Q)}while(!0);Mb(),Pm.current=R,Ze=S,en!==null?c=0:(bn=null,Cn=0,c=cn)}if(c!==0){if(c===2&&(S=Lc(o),S!==0&&(v=S,c=pw(o,S))),c===1)throw f=yh,rl(o,0),Ko(o,v),hr(o,Ft()),f;if(c===6)Ko(o,v);else{if(S=o.current.alternate,(v&30)===0&&!HL(S)&&(c=Fm(o,v),c===2&&(R=Lc(o),R!==0&&(v=R,c=pw(o,R))),c===1))throw f=yh,rl(o,0),Ko(o,v),hr(o,Ft()),f;switch(o.finishedWork=S,o.finishedLanes=v,c){case 0:case 1:throw Error(t(345));case 2:il(o,dr,Ls);break;case 3:if(Ko(o,v),(v&130023424)===v&&(c=dw+500-Ft(),10<c)){if(No(o,0)!==0)break;if(S=o.suspendedLanes,(S&v)!==v){Zn(),o.pingedLanes|=o.suspendedLanes&S;break}o.timeoutHandle=wb(il.bind(null,o,dr,Ls),c);break}il(o,dr,Ls);break;case 4:if(Ko(o,v),(v&4194240)===v)break;for(c=o.eventTimes,S=-1;0<v;){var O=31-Ar(v);R=1<<O,O=c[O],O>S&&(S=O),v&=~R}if(v=S,v=Ft()-v,v=(120>v?120:480>v?480:1080>v?1080:1920>v?1920:3e3>v?3e3:4320>v?4320:1960*BL(v/1960))-v,10<v){o.timeoutHandle=wb(il.bind(null,o,dr,Ls),v);break}il(o,dr,Ls);break;case 5:il(o,dr,Ls);break;default:throw Error(t(329))}}}return hr(o,Ft()),o.callbackNode===f?D_.bind(null,o):null}function pw(o,c){var f=vh;return o.current.memoizedState.isDehydrated&&(rl(o,c).flags|=256),o=Fm(o,c),o!==2&&(c=dr,dr=f,c!==null&&gw(c)),o}function gw(o){dr===null?dr=o:dr.push.apply(dr,o)}function HL(o){for(var c=o;;){if(c.flags&16384){var f=c.updateQueue;if(f!==null&&(f=f.stores,f!==null))for(var v=0;v<f.length;v++){var S=f[v],R=S.getSnapshot;S=S.value;try{if(!hi(R(),S))return!1}catch{return!1}}}if(f=c.child,c.subtreeFlags&16384&&f!==null)f.return=c,c=f;else{if(c===o)break;for(;c.sibling===null;){if(c.return===null||c.return===o)return!0;c=c.return}c.sibling.return=c.return,c=c.sibling}}return!0}function Ko(o,c){for(c&=~uw,c&=~Mm,o.suspendedLanes|=c,o.pingedLanes&=~c,o=o.expirationTimes;0<c;){var f=31-Ar(c),v=1<<f;o[f]=-1,c&=~v}}function O_(o){if((Ze&6)!==0)throw Error(t(327));nu();var c=No(o,0);if((c&1)===0)return hr(o,Ft()),null;var f=Fm(o,c);if(o.tag!==0&&f===2){var v=Lc(o);v!==0&&(c=v,f=pw(o,v))}if(f===1)throw f=yh,rl(o,0),Ko(o,c),hr(o,Ft()),f;if(f===6)throw Error(t(345));return o.finishedWork=o.current.alternate,o.finishedLanes=c,il(o,dr,Ls),hr(o,Ft()),null}function mw(o,c){var f=Ze;Ze|=1;try{return o(c)}finally{Ze=f,Ze===0&&(tu=Ft()+500,um&&Wo())}}function nl(o){Yo!==null&&Yo.tag===0&&(Ze&6)===0&&nu();var c=Ze;Ze|=1;var f=Jr.transition,v=ft;try{if(Jr.transition=null,ft=1,o)return o()}finally{ft=v,Jr.transition=f,Ze=c,(Ze&6)===0&&Wo()}}function yw(){Pr=eu.current,Mt(eu)}function rl(o,c){o.finishedWork=null,o.finishedLanes=0;var f=o.timeoutHandle;if(f!==-1&&(o.timeoutHandle=-1,yL(f)),en!==null)for(f=en.return;f!==null;){var v=f;switch(Ab(v),v.tag){case 1:v=v.type.childContextTypes,v!=null&&lm();break;case 3:Qc(),Mt(lr),Mt(Ln),$b();break;case 5:Fb(v);break;case 4:Qc();break;case 13:Mt(zt);break;case 19:Mt(zt);break;case 10:Ib(v.type._context);break;case 22:case 23:yw()}f=f.return}if(bn=o,en=o=Qo(o.current,null),Cn=Pr=c,cn=0,yh=null,uw=Mm=tl=0,dr=vh=null,Za!==null){for(c=0;c<Za.length;c++)if(f=Za[c],v=f.interleaved,v!==null){f.interleaved=null;var S=v.next,R=f.pending;if(R!==null){var O=R.next;R.next=S,v.next=O}f.pending=v}Za=null}return o}function F_(o,c){do{var f=en;try{if(Mb(),wm.current=Cm,xm){for(var v=$t.memoizedState;v!==null;){var S=v.queue;S!==null&&(S.pending=null),v=v.next}xm=!1}if(el=0,vn=ln=$t=null,dh=!1,hh=0,cw.current=null,f===null||f.return===null){cn=1,yh=c,en=null;break}e:{var R=o,O=f.return,Q=f,J=c;if(c=Cn,Q.flags|=32768,J!==null&&typeof J=="object"&&typeof J.then=="function"){var ae=J,fe=Q,ye=fe.tag;if((fe.mode&1)===0&&(ye===0||ye===11||ye===15)){var he=fe.alternate;he?(fe.updateQueue=he.updateQueue,fe.memoizedState=he.memoizedState,fe.lanes=he.lanes):(fe.updateQueue=null,fe.memoizedState=null)}var Se=l_(O);if(Se!==null){Se.flags&=-257,c_(Se,O,Q,R,c),Se.mode&1&&a_(R,ae,c),c=Se,J=ae;var _e=c.updateQueue;if(_e===null){var ke=new Set;ke.add(J),c.updateQueue=ke}else _e.add(J);break e}else{if((c&1)===0){a_(R,ae,c),vw();break e}J=Error(t(426))}}else if(It&&Q.mode&1){var qt=l_(O);if(qt!==null){(qt.flags&65536)===0&&(qt.flags|=256),c_(qt,O,Q,R,c),Tb(Zc(J,Q));break e}}R=J=Zc(J,Q),cn!==4&&(cn=2),vh===null?vh=[R]:vh.push(R),R=O;do{switch(R.tag){case 3:R.flags|=65536,c&=-c,R.lanes|=c;var ne=s_(R,J,c);IC(R,ne);break e;case 1:Q=J;var te=R.type,ie=R.stateNode;if((R.flags&128)===0&&(typeof te.getDerivedStateFromError=="function"||ie!==null&&typeof ie.componentDidCatch=="function"&&(Xo===null||!Xo.has(ie)))){R.flags|=65536,c&=-c,R.lanes|=c;var ve=o_(R,Q,c);IC(R,ve);break e}}R=R.return}while(R!==null)}B_(f)}catch(Pe){c=Pe,en===f&&f!==null&&(en=f=f.return);continue}break}while(!0)}function z_(){var o=Pm.current;return Pm.current=Cm,o===null?Cm:o}function vw(){(cn===0||cn===3||cn===2)&&(cn=4),bn===null||(tl&268435455)===0&&(Mm&268435455)===0||Ko(bn,Cn)}function Fm(o,c){var f=Ze;Ze|=2;var v=z_();(bn!==o||Cn!==c)&&(Ls=null,rl(o,c));do try{jL();break}catch(S){F_(o,S)}while(!0);if(Mb(),Ze=f,Pm.current=v,en!==null)throw Error(t(261));return bn=null,Cn=0,cn}function jL(){for(;en!==null;)$_(en)}function WL(){for(;en!==null&&!Ug();)$_(en)}function $_(o){var c=W_(o.alternate,o,Pr);o.memoizedProps=o.pendingProps,c===null?B_(o):en=c,cw.current=null}function B_(o){var c=o;do{var f=c.alternate;if(o=c.return,(c.flags&32768)===0){if(f=DL(f,c,Pr),f!==null){en=f;return}}else{if(f=OL(f,c),f!==null){f.flags&=32767,en=f;return}if(o!==null)o.flags|=32768,o.subtreeFlags=0,o.deletions=null;else{cn=6,en=null;return}}if(c=c.sibling,c!==null){en=c;return}en=c=o}while(c!==null);cn===0&&(cn=5)}function il(o,c,f){var v=ft,S=Jr.transition;try{Jr.transition=null,ft=1,UL(o,c,f,v)}finally{Jr.transition=S,ft=v}return null}function UL(o,c,f,v){do nu();while(Yo!==null);if((Ze&6)!==0)throw Error(t(327));f=o.finishedWork;var S=o.finishedLanes;if(f===null)return null;if(o.finishedWork=null,o.finishedLanes=0,f===o.current)throw Error(t(177));o.callbackNode=null,o.callbackPriority=0;var R=f.lanes|f.childLanes;if(C2(o,R),o===bn&&(en=bn=null,Cn=0),(f.subtreeFlags&2064)===0&&(f.flags&2064)===0||Nm||(Nm=!0,U_(Mc,function(){return nu(),null})),R=(f.flags&15990)!==0,(f.subtreeFlags&15990)!==0||R){R=Jr.transition,Jr.transition=null;var O=ft;ft=1;var Q=Ze;Ze|=4,cw.current=null,zL(o,f),P_(f,o),uL(vb),Yg=!!yb,vb=yb=null,o.current=f,$L(f),$v(),Ze=Q,ft=O,Jr.transition=R}else o.current=f;if(Nm&&(Nm=!1,Yo=o,Lm=S),R=o.pendingLanes,R===0&&(Xo=null),jv(f.stateNode),hr(o,Ft()),c!==null)for(v=o.onRecoverableError,f=0;f<c.length;f++)S=c[f],v(S.value,{componentStack:S.stack,digest:S.digest});if(Im)throw Im=!1,o=hw,hw=null,o;return(Lm&1)!==0&&o.tag!==0&&nu(),R=o.pendingLanes,(R&1)!==0?o===fw?bh++:(bh=0,fw=o):bh=0,Wo(),null}function nu(){if(Yo!==null){var o=RE(Lm),c=Jr.transition,f=ft;try{if(Jr.transition=null,ft=16>o?16:o,Yo===null)var v=!1;else{if(o=Yo,Yo=null,Lm=0,(Ze&6)!==0)throw Error(t(331));var S=Ze;for(Ze|=4,Ee=o.current;Ee!==null;){var R=Ee,O=R.child;if((Ee.flags&16)!==0){var Q=R.deletions;if(Q!==null){for(var J=0;J<Q.length;J++){var ae=Q[J];for(Ee=ae;Ee!==null;){var fe=Ee;switch(fe.tag){case 0:case 11:case 15:mh(8,fe,R)}var ye=fe.child;if(ye!==null)ye.return=fe,Ee=ye;else for(;Ee!==null;){fe=Ee;var he=fe.sibling,Se=fe.return;if(__(fe),fe===ae){Ee=null;break}if(he!==null){he.return=Se,Ee=he;break}Ee=Se}}}var _e=R.alternate;if(_e!==null){var ke=_e.child;if(ke!==null){_e.child=null;do{var qt=ke.sibling;ke.sibling=null,ke=qt}while(ke!==null)}}Ee=R}}if((R.subtreeFlags&2064)!==0&&O!==null)O.return=R,Ee=O;else e:for(;Ee!==null;){if(R=Ee,(R.flags&2048)!==0)switch(R.tag){case 0:case 11:case 15:mh(9,R,R.return)}var ne=R.sibling;if(ne!==null){ne.return=R.return,Ee=ne;break e}Ee=R.return}}var te=o.current;for(Ee=te;Ee!==null;){O=Ee;var ie=O.child;if((O.subtreeFlags&2064)!==0&&ie!==null)ie.return=O,Ee=ie;else e:for(O=te;Ee!==null;){if(Q=Ee,(Q.flags&2048)!==0)try{switch(Q.tag){case 0:case 11:case 15:Tm(9,Q)}}catch(Pe){Wt(Q,Q.return,Pe)}if(Q===O){Ee=null;break e}var ve=Q.sibling;if(ve!==null){ve.return=Q.return,Ee=ve;break e}Ee=Q.return}}if(Ze=S,Wo(),Yr&&typeof Yr.onPostCommitFiberRoot=="function")try{Yr.onPostCommitFiberRoot(Ic,o)}catch{}v=!0}return v}finally{ft=f,Jr.transition=c}}return!1}function H_(o,c,f){c=Zc(f,c),c=s_(o,c,1),o=Vo(o,c,1),c=Zn(),o!==null&&(Wd(o,1,c),hr(o,c))}function Wt(o,c,f){if(o.tag===3)H_(o,o,f);else for(;c!==null;){if(c.tag===3){H_(c,o,f);break}else if(c.tag===1){var v=c.stateNode;if(typeof c.type.getDerivedStateFromError=="function"||typeof v.componentDidCatch=="function"&&(Xo===null||!Xo.has(v))){o=Zc(f,o),o=o_(c,o,1),c=Vo(c,o,1),o=Zn(),c!==null&&(Wd(c,1,o),hr(c,o));break}}c=c.return}}function VL(o,c,f){var v=o.pingCache;v!==null&&v.delete(c),c=Zn(),o.pingedLanes|=o.suspendedLanes&f,bn===o&&(Cn&f)===f&&(cn===4||cn===3&&(Cn&130023424)===Cn&&500>Ft()-dw?rl(o,0):uw|=f),hr(o,c)}function j_(o,c){c===0&&((o.mode&1)===0?c=1:(c=Nc,Nc<<=1,(Nc&130023424)===0&&(Nc=4194304)));var f=Zn();o=Ms(o,c),o!==null&&(Wd(o,c,f),hr(o,f))}function GL(o){var c=o.memoizedState,f=0;c!==null&&(f=c.retryLane),j_(o,f)}function XL(o,c){var f=0;switch(o.tag){case 13:var v=o.stateNode,S=o.memoizedState;S!==null&&(f=S.retryLane);break;case 19:v=o.stateNode;break;default:throw Error(t(314))}v!==null&&v.delete(c),j_(o,f)}var W_;W_=function(o,c,f){if(o!==null)if(o.memoizedProps!==c.pendingProps||lr.current)ur=!0;else{if((o.lanes&f)===0&&(c.flags&128)===0)return ur=!1,LL(o,c,f);ur=(o.flags&131072)!==0}else ur=!1,It&&(c.flags&1048576)!==0&&SC(c,hm,c.index);switch(c.lanes=0,c.tag){case 2:var v=c.type;km(o,c),o=c.pendingProps;var S=Uc(c,Ln.current);Kc(c,f),S=jb(null,c,v,o,S,f);var R=Wb();return c.flags|=1,typeof S=="object"&&S!==null&&typeof S.render=="function"&&S.$$typeof===void 0?(c.tag=1,c.memoizedState=null,c.updateQueue=null,cr(v)?(R=!0,cm(c)):R=!1,c.memoizedState=S.state!==null&&S.state!==void 0?S.state:null,Db(c),S.updater=_m,c.stateNode=S,S._reactInternals=c,qb(c,v,o,f),c=Jb(null,c,v,!0,R,f)):(c.tag=0,It&&R&&_b(c),Qn(null,c,S,f),c=c.child),c;case 16:v=c.elementType;e:{switch(km(o,c),o=c.pendingProps,S=v._init,v=S(v._payload),c.type=v,S=c.tag=qL(v),o=pi(v,o),S){case 0:c=Zb(null,c,v,o,f);break e;case 1:c=g_(null,c,v,o,f);break e;case 11:c=u_(null,c,v,o,f);break e;case 14:c=d_(null,c,v,pi(v.type,o),f);break e}throw Error(t(306,v,""))}return c;case 0:return v=c.type,S=c.pendingProps,S=c.elementType===v?S:pi(v,S),Zb(o,c,v,S,f);case 1:return v=c.type,S=c.pendingProps,S=c.elementType===v?S:pi(v,S),g_(o,c,v,S,f);case 3:e:{if(m_(c),o===null)throw Error(t(387));v=c.pendingProps,R=c.memoizedState,S=R.element,MC(o,c),vm(c,v,null,f);var O=c.memoizedState;if(v=O.element,R.isDehydrated)if(R={element:v,isDehydrated:!1,cache:O.cache,pendingSuspenseBoundaries:O.pendingSuspenseBoundaries,transitions:O.transitions},c.updateQueue.baseState=R,c.memoizedState=R,c.flags&256){S=Zc(Error(t(423)),c),c=y_(o,c,v,f,S);break e}else if(v!==S){S=Zc(Error(t(424)),c),c=y_(o,c,v,f,S);break e}else for(Tr=Bo(c.stateNode.containerInfo.firstChild),Rr=c,It=!0,fi=null,f=TC(c,null,v,f),c.child=f;f;)f.flags=f.flags&-3|4096,f=f.sibling;else{if(Xc(),v===S){c=Ns(o,c,f);break e}Qn(o,c,v,f)}c=c.child}return c;case 5:return LC(c),o===null&&Rb(c),v=c.type,S=c.pendingProps,R=o!==null?o.memoizedProps:null,O=S.children,bb(v,S)?O=null:R!==null&&bb(v,R)&&(c.flags|=32),p_(o,c),Qn(o,c,O,f),c.child;case 6:return o===null&&Rb(c),null;case 13:return v_(o,c,f);case 4:return Ob(c,c.stateNode.containerInfo),v=c.pendingProps,o===null?c.child=Yc(c,null,v,f):Qn(o,c,v,f),c.child;case 11:return v=c.type,S=c.pendingProps,S=c.elementType===v?S:pi(v,S),u_(o,c,v,S,f);case 7:return Qn(o,c,c.pendingProps,f),c.child;case 8:return Qn(o,c,c.pendingProps.children,f),c.child;case 12:return Qn(o,c,c.pendingProps.children,f),c.child;case 10:e:{if(v=c.type._context,S=c.pendingProps,R=c.memoizedProps,O=S.value,kt(gm,v._currentValue),v._currentValue=O,R!==null)if(hi(R.value,O)){if(R.children===S.children&&!lr.current){c=Ns(o,c,f);break e}}else for(R=c.child,R!==null&&(R.return=c);R!==null;){var Q=R.dependencies;if(Q!==null){O=R.child;for(var J=Q.firstContext;J!==null;){if(J.context===v){if(R.tag===1){J=Is(-1,f&-f),J.tag=2;var ae=R.updateQueue;if(ae!==null){ae=ae.shared;var fe=ae.pending;fe===null?J.next=J:(J.next=fe.next,fe.next=J),ae.pending=J}}R.lanes|=f,J=R.alternate,J!==null&&(J.lanes|=f),Nb(R.return,f,c),Q.lanes|=f;break}J=J.next}}else if(R.tag===10)O=R.type===c.type?null:R.child;else if(R.tag===18){if(O=R.return,O===null)throw Error(t(341));O.lanes|=f,Q=O.alternate,Q!==null&&(Q.lanes|=f),Nb(O,f,c),O=R.sibling}else O=R.child;if(O!==null)O.return=R;else for(O=R;O!==null;){if(O===c){O=null;break}if(R=O.sibling,R!==null){R.return=O.return,O=R;break}O=O.return}R=O}Qn(o,c,S.children,f),c=c.child}return c;case 9:return S=c.type,v=c.pendingProps.children,Kc(c,f),S=Qr(S),v=v(S),c.flags|=1,Qn(o,c,v,f),c.child;case 14:return v=c.type,S=pi(v,c.pendingProps),S=pi(v.type,S),d_(o,c,v,S,f);case 15:return h_(o,c,c.type,c.pendingProps,f);case 17:return v=c.type,S=c.pendingProps,S=c.elementType===v?S:pi(v,S),km(o,c),c.tag=1,cr(v)?(o=!0,cm(c)):o=!1,Kc(c,f),r_(c,v,S),qb(c,v,S,f),Jb(null,c,v,!0,o,f);case 19:return w_(o,c,f);case 22:return f_(o,c,f)}throw Error(t(156,c.tag))};function U_(o,c){return jg(o,c)}function YL(o,c,f,v){this.tag=o,this.key=f,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=c,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=v,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ei(o,c,f,v){return new YL(o,c,f,v)}function bw(o){return o=o.prototype,!(!o||!o.isReactComponent)}function qL(o){if(typeof o=="function")return bw(o)?1:0;if(o!=null){if(o=o.$$typeof,o===X)return 11;if(o===G)return 14}return 2}function Qo(o,c){var f=o.alternate;return f===null?(f=ei(o.tag,c,o.key,o.mode),f.elementType=o.elementType,f.type=o.type,f.stateNode=o.stateNode,f.alternate=o,o.alternate=f):(f.pendingProps=c,f.type=o.type,f.flags=0,f.subtreeFlags=0,f.deletions=null),f.flags=o.flags&14680064,f.childLanes=o.childLanes,f.lanes=o.lanes,f.child=o.child,f.memoizedProps=o.memoizedProps,f.memoizedState=o.memoizedState,f.updateQueue=o.updateQueue,c=o.dependencies,f.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext},f.sibling=o.sibling,f.index=o.index,f.ref=o.ref,f}function zm(o,c,f,v,S,R){var O=2;if(v=o,typeof o=="function")bw(o)&&(O=1);else if(typeof o=="string")O=5;else e:switch(o){case T:return sl(f.children,S,R,c);case N:O=8,S|=8;break;case W:return o=ei(12,f,c,S|2),o.elementType=W,o.lanes=R,o;case Y:return o=ei(13,f,c,S),o.elementType=Y,o.lanes=R,o;case D:return o=ei(19,f,c,S),o.elementType=D,o.lanes=R,o;case q:return $m(f,S,R,c);default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case P:O=10;break e;case V:O=9;break e;case X:O=11;break e;case G:O=14;break e;case j:O=16,v=null;break e}throw Error(t(130,o==null?o:typeof o,""))}return c=ei(O,f,c,S),c.elementType=o,c.type=v,c.lanes=R,c}function sl(o,c,f,v){return o=ei(7,o,v,c),o.lanes=f,o}function $m(o,c,f,v){return o=ei(22,o,v,c),o.elementType=q,o.lanes=f,o.stateNode={isHidden:!1},o}function ww(o,c,f){return o=ei(6,o,null,c),o.lanes=f,o}function xw(o,c,f){return c=ei(4,o.children!==null?o.children:[],o.key,c),c.lanes=f,c.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},c}function KL(o,c,f,v,S){this.tag=c,this.containerInfo=o,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Yv(0),this.expirationTimes=Yv(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Yv(0),this.identifierPrefix=v,this.onRecoverableError=S,this.mutableSourceEagerHydrationData=null}function Sw(o,c,f,v,S,R,O,Q,J){return o=new KL(o,c,f,Q,J),c===1?(c=1,R===!0&&(c|=8)):c=0,R=ei(3,null,null,c),o.current=R,R.stateNode=o,R.memoizedState={element:v,isDehydrated:f,cache:null,transitions:null,pendingSuspenseBoundaries:null},Db(R),o}function QL(o,c,f){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:M,key:v==null?null:""+v,children:o,containerInfo:c,implementation:f}}function V_(o){if(!o)return jo;o=o._reactInternals;e:{if(ji(o)!==o||o.tag!==1)throw Error(t(170));var c=o;do{switch(c.tag){case 3:c=c.stateNode.context;break e;case 1:if(cr(c.type)){c=c.stateNode.__reactInternalMemoizedMergedChildContext;break e}}c=c.return}while(c!==null);throw Error(t(171))}if(o.tag===1){var f=o.type;if(cr(f))return bC(o,f,c)}return c}function G_(o,c,f,v,S,R,O,Q,J){return o=Sw(f,v,!0,o,S,R,O,Q,J),o.context=V_(null),f=o.current,v=Zn(),S=qo(f),R=Is(v,S),R.callback=c??null,Vo(f,R,S),o.current.lanes=S,Wd(o,S,v),hr(o,v),o}function Bm(o,c,f,v){var S=c.current,R=Zn(),O=qo(S);return f=V_(f),c.context===null?c.context=f:c.pendingContext=f,c=Is(R,O),c.payload={element:o},v=v===void 0?null:v,v!==null&&(c.callback=v),o=Vo(S,c,O),o!==null&&(yi(o,S,O,R),ym(o,S,O)),O}function Hm(o){if(o=o.current,!o.child)return null;switch(o.child.tag){case 5:return o.child.stateNode;default:return o.child.stateNode}}function X_(o,c){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var f=o.retryLane;o.retryLane=f!==0&&f<c?f:c}}function Ew(o,c){X_(o,c),(o=o.alternate)&&X_(o,c)}function ZL(){return null}var Y_=typeof reportError=="function"?reportError:function(o){console.error(o)};function Cw(o){this._internalRoot=o}jm.prototype.render=Cw.prototype.render=function(o){var c=this._internalRoot;if(c===null)throw Error(t(409));Bm(o,c,null,null)},jm.prototype.unmount=Cw.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var c=o.containerInfo;nl(function(){Bm(null,o,null,null)}),c[ks]=null}};function jm(o){this._internalRoot=o}jm.prototype.unstable_scheduleHydration=function(o){if(o){var c=ME();o={blockedOn:null,target:o,priority:c};for(var f=0;f<Fo.length&&c!==0&&c<Fo[f].priority;f++);Fo.splice(f,0,o),f===0&&LE(o)}};function _w(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function Wm(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11&&(o.nodeType!==8||o.nodeValue!==" react-mount-point-unstable "))}function q_(){}function JL(o,c,f,v,S){if(S){if(typeof v=="function"){var R=v;v=function(){var ae=Hm(O);R.call(ae)}}var O=G_(c,v,o,0,null,!1,!1,"",q_);return o._reactRootContainer=O,o[ks]=O.current,rh(o.nodeType===8?o.parentNode:o),nl(),O}for(;S=o.lastChild;)o.removeChild(S);if(typeof v=="function"){var Q=v;v=function(){var ae=Hm(J);Q.call(ae)}}var J=Sw(o,0,!1,null,null,!1,!1,"",q_);return o._reactRootContainer=J,o[ks]=J.current,rh(o.nodeType===8?o.parentNode:o),nl(function(){Bm(c,J,f,v)}),J}function Um(o,c,f,v,S){var R=f._reactRootContainer;if(R){var O=R;if(typeof S=="function"){var Q=S;S=function(){var J=Hm(O);Q.call(J)}}Bm(c,O,o,S)}else O=JL(f,c,o,S,v);return Hm(O)}TE=function(o){switch(o.tag){case 3:var c=o.stateNode;if(c.current.memoizedState.isDehydrated){var f=Xa(c.pendingLanes);f!==0&&(qv(c,f|1),hr(c,Ft()),(Ze&6)===0&&(tu=Ft()+500,Wo()))}break;case 13:nl(function(){var v=Ms(o,1);if(v!==null){var S=Zn();yi(v,o,1,S)}}),Ew(o,1)}},Kv=function(o){if(o.tag===13){var c=Ms(o,134217728);if(c!==null){var f=Zn();yi(c,o,134217728,f)}Ew(o,134217728)}},PE=function(o){if(o.tag===13){var c=qo(o),f=Ms(o,c);if(f!==null){var v=Zn();yi(f,o,c,v)}Ew(o,c)}},ME=function(){return ft},IE=function(o,c){var f=ft;try{return ft=o,c()}finally{ft=f}},Od=function(o,c,f){switch(c){case"input":if(Dt(o,f),c=f.name,f.type==="radio"&&c!=null){for(f=o;f.parentNode;)f=f.parentNode;for(f=f.querySelectorAll("input[name="+JSON.stringify(""+c)+'][type="radio"]'),c=0;c<f.length;c++){var v=f[c];if(v!==o&&v.form===o.form){var S=am(v);if(!S)throw Error(t(90));ge(v),Dt(v,S)}}}break;case"textarea":Yt(o,f);break;case"select":c=f.value,c!=null&&ut(o,!!f.multiple,c,!1)}},Lg=mw,Dg=nl;var eD={usingClientEntryPoint:!1,Events:[oh,jc,am,Fd,Ng,mw]},wh={findFiberByHostInstance:Ya,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},tD={bundleType:wh.bundleType,version:wh.version,rendererPackageName:wh.rendererPackageName,rendererConfig:wh.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:_.ReactCurrentDispatcher,findHostInstanceByFiber:function(o){return o=Bg(o),o===null?null:o.stateNode},findFiberByHostInstance:wh.findFiberByHostInstance||ZL,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Vm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Vm.isDisabled&&Vm.supportsFiber)try{Ic=Vm.inject(tD),Yr=Vm}catch{}}return fr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eD,fr.createPortal=function(o,c){var f=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_w(c))throw Error(t(200));return QL(o,c,null,f)},fr.createRoot=function(o,c){if(!_w(o))throw Error(t(299));var f=!1,v="",S=Y_;return c!=null&&(c.unstable_strictMode===!0&&(f=!0),c.identifierPrefix!==void 0&&(v=c.identifierPrefix),c.onRecoverableError!==void 0&&(S=c.onRecoverableError)),c=Sw(o,1,!1,null,null,f,!1,v,S),o[ks]=c.current,rh(o.nodeType===8?o.parentNode:o),new Cw(c)},fr.findDOMNode=function(o){if(o==null)return null;if(o.nodeType===1)return o;var c=o._reactInternals;if(c===void 0)throw typeof o.render=="function"?Error(t(188)):(o=Object.keys(o).join(","),Error(t(268,o)));return o=Bg(c),o=o===null?null:o.stateNode,o},fr.flushSync=function(o){return nl(o)},fr.hydrate=function(o,c,f){if(!Wm(c))throw Error(t(200));return Um(null,o,c,!0,f)},fr.hydrateRoot=function(o,c,f){if(!_w(o))throw Error(t(405));var v=f!=null&&f.hydratedSources||null,S=!1,R="",O=Y_;if(f!=null&&(f.unstable_strictMode===!0&&(S=!0),f.identifierPrefix!==void 0&&(R=f.identifierPrefix),f.onRecoverableError!==void 0&&(O=f.onRecoverableError)),c=G_(c,null,o,1,f??null,S,!1,R,O),o[ks]=c.current,rh(o),v)for(o=0;o<v.length;o++)f=v[o],S=f._getVersion,S=S(f._source),c.mutableSourceEagerHydrationData==null?c.mutableSourceEagerHydrationData=[f,S]:c.mutableSourceEagerHydrationData.push(f,S);return new jm(c)},fr.render=function(o,c,f){if(!Wm(c))throw Error(t(200));return Um(null,o,c,!1,f)},fr.unmountComponentAtNode=function(o){if(!Wm(o))throw Error(t(40));return o._reactRootContainer?(nl(function(){Um(null,null,o,!1,function(){o._reactRootContainer=null,o[ks]=null})}),!0):!1},fr.unstable_batchedUpdates=mw,fr.unstable_renderSubtreeIntoContainer=function(o,c,f,v){if(!Wm(f))throw Error(t(200));if(o==null||o._reactInternals===void 0)throw Error(t(38));return Um(o,c,f,!1,v)},fr.version="18.3.1-next-f1338f8080-20240426",fr}var iA;function U0(){if(iA)return Tw.exports;iA=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Tw.exports=hD(),Tw.exports}var sA;function fD(){if(sA)return Xm;sA=1;var n=U0();return Xm.createRoot=n.createRoot,Xm.hydrateRoot=n.hydrateRoot,Xm}var xT=fD();function an(n){if(typeof n=="string"||typeof n=="number")return""+n;let e="";if(Array.isArray(n))for(let t=0,r;t<n.length;t++)(r=an(n[t]))!==""&&(e+=(e&&" ")+r);else for(let t in n)n[t]&&(e+=(e&&" ")+t);return e}var pD={value:()=>{}};function V0(){for(var n=0,e=arguments.length,t={},r;n<e;++n){if(!(r=arguments[n]+"")||r in t||/[\s.]/.test(r))throw new Error("illegal type: "+r);t[r]=[]}return new by(t)}function by(n){this._=n}function gD(n,e){return n.trim().split(/^|\s+/).map(function(t){var r="",i=t.indexOf(".");if(i>=0&&(r=t.slice(i+1),t=t.slice(0,i)),t&&!e.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:r}})}by.prototype=V0.prototype={constructor:by,on:function(n,e){var t=this._,r=gD(n+"",t),i,s=-1,a=r.length;if(arguments.length<2){for(;++s<a;)if((i=(n=r[s]).type)&&(i=mD(t[i],n.name)))return i;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++s<a;)if(i=(n=r[s]).type)t[i]=oA(t[i],n.name,e);else if(e==null)for(i in t)t[i]=oA(t[i],n.name,null);return this},copy:function(){var n={},e=this._;for(var t in e)n[t]=e[t].slice();return new by(n)},call:function(n,e){if((i=arguments.length-2)>0)for(var t=new Array(i),r=0,i,s;r<i;++r)t[r]=arguments[r+2];if(!this._.hasOwnProperty(n))throw new Error("unknown type: "+n);for(s=this._[n],r=0,i=s.length;r<i;++r)s[r].value.apply(e,t)},apply:function(n,e,t){if(!this._.hasOwnProperty(n))throw new Error("unknown type: "+n);for(var r=this._[n],i=0,s=r.length;i<s;++i)r[i].value.apply(e,t)}};function mD(n,e){for(var t=0,r=n.length,i;t<r;++t)if((i=n[t]).name===e)return i.value}function oA(n,e,t){for(var r=0,i=n.length;r<i;++r)if(n[r].name===e){n[r]=pD,n=n.slice(0,r).concat(n.slice(r+1));break}return t!=null&&n.push({name:e,value:t}),n}var bx="http://www.w3.org/1999/xhtml";const aA={svg:"http://www.w3.org/2000/svg",xhtml:bx,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function G0(n){var e=n+="",t=e.indexOf(":");return t>=0&&(e=n.slice(0,t))!=="xmlns"&&(n=n.slice(t+1)),aA.hasOwnProperty(e)?{space:aA[e],local:n}:n}function yD(n){return function(){var e=this.ownerDocument,t=this.namespaceURI;return t===bx&&e.documentElement.namespaceURI===bx?e.createElement(n):e.createElementNS(t,n)}}function vD(n){return function(){return this.ownerDocument.createElementNS(n.space,n.local)}}function ST(n){var e=G0(n);return(e.local?vD:yD)(e)}function bD(){}function x1(n){return n==null?bD:function(){return this.querySelector(n)}}function wD(n){typeof n!="function"&&(n=x1(n));for(var e=this._groups,t=e.length,r=new Array(t),i=0;i<t;++i)for(var s=e[i],a=s.length,l=r[i]=new Array(a),u,d,h=0;h<a;++h)(u=s[h])&&(d=n.call(u,u.__data__,h,s))&&("__data__"in u&&(d.__data__=u.__data__),l[h]=d);return new Gr(r,this._parents)}function xD(n){return n==null?[]:Array.isArray(n)?n:Array.from(n)}function SD(){return[]}function ET(n){return n==null?SD:function(){return this.querySelectorAll(n)}}function ED(n){return function(){return xD(n.apply(this,arguments))}}function CD(n){typeof n=="function"?n=ED(n):n=ET(n);for(var e=this._groups,t=e.length,r=[],i=[],s=0;s<t;++s)for(var a=e[s],l=a.length,u,d=0;d<l;++d)(u=a[d])&&(r.push(n.call(u,u.__data__,d,a)),i.push(u));return new Gr(r,i)}function CT(n){return function(){return this.matches(n)}}function _T(n){return function(e){return e.matches(n)}}var _D=Array.prototype.find;function AD(n){return function(){return _D.call(this.children,n)}}function kD(){return this.firstElementChild}function RD(n){return this.select(n==null?kD:AD(typeof n=="function"?n:_T(n)))}var TD=Array.prototype.filter;function PD(){return Array.from(this.children)}function MD(n){return function(){return TD.call(this.children,n)}}function ID(n){return this.selectAll(n==null?PD:MD(typeof n=="function"?n:_T(n)))}function ND(n){typeof n!="function"&&(n=CT(n));for(var e=this._groups,t=e.length,r=new Array(t),i=0;i<t;++i)for(var s=e[i],a=s.length,l=r[i]=[],u,d=0;d<a;++d)(u=s[d])&&n.call(u,u.__data__,d,s)&&l.push(u);return new Gr(r,this._parents)}function AT(n){return new Array(n.length)}function LD(){return new Gr(this._enter||this._groups.map(AT),this._parents)}function e0(n,e){this.ownerDocument=n.ownerDocument,this.namespaceURI=n.namespaceURI,this._next=null,this._parent=n,this.__data__=e}e0.prototype={constructor:e0,appendChild:function(n){return this._parent.insertBefore(n,this._next)},insertBefore:function(n,e){return this._parent.insertBefore(n,e)},querySelector:function(n){return this._parent.querySelector(n)},querySelectorAll:function(n){return this._parent.querySelectorAll(n)}};function DD(n){return function(){return n}}function OD(n,e,t,r,i,s){for(var a=0,l,u=e.length,d=s.length;a<d;++a)(l=e[a])?(l.__data__=s[a],r[a]=l):t[a]=new e0(n,s[a]);for(;a<u;++a)(l=e[a])&&(i[a]=l)}function FD(n,e,t,r,i,s,a){var l,u,d=new Map,h=e.length,p=s.length,g=new Array(h),y;for(l=0;l<h;++l)(u=e[l])&&(g[l]=y=a.call(u,u.__data__,l,e)+"",d.has(y)?i[l]=u:d.set(y,u));for(l=0;l<p;++l)y=a.call(n,s[l],l,s)+"",(u=d.get(y))?(r[l]=u,u.__data__=s[l],d.delete(y)):t[l]=new e0(n,s[l]);for(l=0;l<h;++l)(u=e[l])&&d.get(g[l])===u&&(i[l]=u)}function zD(n){return n.__data__}function $D(n,e){if(!arguments.length)return Array.from(this,zD);var t=e?FD:OD,r=this._parents,i=this._groups;typeof n!="function"&&(n=DD(n));for(var s=i.length,a=new Array(s),l=new Array(s),u=new Array(s),d=0;d<s;++d){var h=r[d],p=i[d],g=p.length,y=BD(n.call(h,h&&h.__data__,d,r)),b=y.length,w=l[d]=new Array(b),C=a[d]=new Array(b),x=u[d]=new Array(g);t(h,p,w,C,x,y,e);for(var A=0,E=0,_,k;A<b;++A)if(_=w[A]){for(A>=E&&(E=A+1);!(k=C[E])&&++E<b;);_._next=k||null}}return a=new Gr(a,r),a._enter=l,a._exit=u,a}function BD(n){return typeof n=="object"&&"length"in n?n:Array.from(n)}function HD(){return new Gr(this._exit||this._groups.map(AT),this._parents)}function jD(n,e,t){var r=this.enter(),i=this,s=this.exit();return typeof n=="function"?(r=n(r),r&&(r=r.selection())):r=r.append(n+""),e!=null&&(i=e(i),i&&(i=i.selection())),t==null?s.remove():t(s),r&&i?r.merge(i).order():i}function WD(n){for(var e=n.selection?n.selection():n,t=this._groups,r=e._groups,i=t.length,s=r.length,a=Math.min(i,s),l=new Array(i),u=0;u<a;++u)for(var d=t[u],h=r[u],p=d.length,g=l[u]=new Array(p),y,b=0;b<p;++b)(y=d[b]||h[b])&&(g[b]=y);for(;u<i;++u)l[u]=t[u];return new Gr(l,this._parents)}function UD(){for(var n=this._groups,e=-1,t=n.length;++e<t;)for(var r=n[e],i=r.length-1,s=r[i],a;--i>=0;)(a=r[i])&&(s&&a.compareDocumentPosition(s)^4&&s.parentNode.insertBefore(a,s),s=a);return this}function VD(n){n||(n=GD);function e(p,g){return p&&g?n(p.__data__,g.__data__):!p-!g}for(var t=this._groups,r=t.length,i=new Array(r),s=0;s<r;++s){for(var a=t[s],l=a.length,u=i[s]=new Array(l),d,h=0;h<l;++h)(d=a[h])&&(u[h]=d);u.sort(e)}return new Gr(i,this._parents).order()}function GD(n,e){return n<e?-1:n>e?1:n>=e?0:NaN}function XD(){var n=arguments[0];return arguments[0]=this,n.apply(null,arguments),this}function YD(){return Array.from(this)}function qD(){for(var n=this._groups,e=0,t=n.length;e<t;++e)for(var r=n[e],i=0,s=r.length;i<s;++i){var a=r[i];if(a)return a}return null}function KD(){let n=0;for(const e of this)++n;return n}function QD(){return!this.node()}function ZD(n){for(var e=this._groups,t=0,r=e.length;t<r;++t)for(var i=e[t],s=0,a=i.length,l;s<a;++s)(l=i[s])&&n.call(l,l.__data__,s,i);return this}function JD(n){return function(){this.removeAttribute(n)}}function eO(n){return function(){this.removeAttributeNS(n.space,n.local)}}function tO(n,e){return function(){this.setAttribute(n,e)}}function nO(n,e){return function(){this.setAttributeNS(n.space,n.local,e)}}function rO(n,e){return function(){var t=e.apply(this,arguments);t==null?this.removeAttribute(n):this.setAttribute(n,t)}}function iO(n,e){return function(){var t=e.apply(this,arguments);t==null?this.removeAttributeNS(n.space,n.local):this.setAttributeNS(n.space,n.local,t)}}function sO(n,e){var t=G0(n);if(arguments.length<2){var r=this.node();return t.local?r.getAttributeNS(t.space,t.local):r.getAttribute(t)}return this.each((e==null?t.local?eO:JD:typeof e=="function"?t.local?iO:rO:t.local?nO:tO)(t,e))}function kT(n){return n.ownerDocument&&n.ownerDocument.defaultView||n.document&&n||n.defaultView}function oO(n){return function(){this.style.removeProperty(n)}}function aO(n,e,t){return function(){this.style.setProperty(n,e,t)}}function lO(n,e,t){return function(){var r=e.apply(this,arguments);r==null?this.style.removeProperty(n):this.style.setProperty(n,r,t)}}function cO(n,e,t){return arguments.length>1?this.each((e==null?oO:typeof e=="function"?lO:aO)(n,e,t??"")):Ed(this.node(),n)}function Ed(n,e){return n.style.getPropertyValue(e)||kT(n).getComputedStyle(n,null).getPropertyValue(e)}function uO(n){return function(){delete this[n]}}function dO(n,e){return function(){this[n]=e}}function hO(n,e){return function(){var t=e.apply(this,arguments);t==null?delete this[n]:this[n]=t}}function fO(n,e){return arguments.length>1?this.each((e==null?uO:typeof e=="function"?hO:dO)(n,e)):this.node()[n]}function RT(n){return n.trim().split(/^|\s+/)}function S1(n){return n.classList||new TT(n)}function TT(n){this._node=n,this._names=RT(n.getAttribute("class")||"")}TT.prototype={add:function(n){var e=this._names.indexOf(n);e<0&&(this._names.push(n),this._node.setAttribute("class",this._names.join(" ")))},remove:function(n){var e=this._names.indexOf(n);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(n){return this._names.indexOf(n)>=0}};function PT(n,e){for(var t=S1(n),r=-1,i=e.length;++r<i;)t.add(e[r])}function MT(n,e){for(var t=S1(n),r=-1,i=e.length;++r<i;)t.remove(e[r])}function pO(n){return function(){PT(this,n)}}function gO(n){return function(){MT(this,n)}}function mO(n,e){return function(){(e.apply(this,arguments)?PT:MT)(this,n)}}function yO(n,e){var t=RT(n+"");if(arguments.length<2){for(var r=S1(this.node()),i=-1,s=t.length;++i<s;)if(!r.contains(t[i]))return!1;return!0}return this.each((typeof e=="function"?mO:e?pO:gO)(t,e))}function vO(){this.textContent=""}function bO(n){return function(){this.textContent=n}}function wO(n){return function(){var e=n.apply(this,arguments);this.textContent=e??""}}function xO(n){return arguments.length?this.each(n==null?vO:(typeof n=="function"?wO:bO)(n)):this.node().textContent}function SO(){this.innerHTML=""}function EO(n){return function(){this.innerHTML=n}}function CO(n){return function(){var e=n.apply(this,arguments);this.innerHTML=e??""}}function _O(n){return arguments.length?this.each(n==null?SO:(typeof n=="function"?CO:EO)(n)):this.node().innerHTML}function AO(){this.nextSibling&&this.parentNode.appendChild(this)}function kO(){return this.each(AO)}function RO(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function TO(){return this.each(RO)}function PO(n){var e=typeof n=="function"?n:ST(n);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function MO(){return null}function IO(n,e){var t=typeof n=="function"?n:ST(n),r=e==null?MO:typeof e=="function"?e:x1(e);return this.select(function(){return this.insertBefore(t.apply(this,arguments),r.apply(this,arguments)||null)})}function NO(){var n=this.parentNode;n&&n.removeChild(this)}function LO(){return this.each(NO)}function DO(){var n=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(n,this.nextSibling):n}function OO(){var n=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(n,this.nextSibling):n}function FO(n){return this.select(n?OO:DO)}function zO(n){return arguments.length?this.property("__data__",n):this.node().__data__}function $O(n){return function(e){n.call(this,e,this.__data__)}}function BO(n){return n.trim().split(/^|\s+/).map(function(e){var t="",r=e.indexOf(".");return r>=0&&(t=e.slice(r+1),e=e.slice(0,r)),{type:e,name:t}})}function HO(n){return function(){var e=this.__on;if(e){for(var t=0,r=-1,i=e.length,s;t<i;++t)s=e[t],(!n.type||s.type===n.type)&&s.name===n.name?this.removeEventListener(s.type,s.listener,s.options):e[++r]=s;++r?e.length=r:delete this.__on}}}function jO(n,e,t){return function(){var r=this.__on,i,s=$O(e);if(r){for(var a=0,l=r.length;a<l;++a)if((i=r[a]).type===n.type&&i.name===n.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=s,i.options=t),i.value=e;return}}this.addEventListener(n.type,s,t),i={type:n.type,name:n.name,value:e,listener:s,options:t},r?r.push(i):this.__on=[i]}}function WO(n,e,t){var r=BO(n+""),i,s=r.length,a;if(arguments.length<2){var l=this.node().__on;if(l){for(var u=0,d=l.length,h;u<d;++u)for(i=0,h=l[u];i<s;++i)if((a=r[i]).type===h.type&&a.name===h.name)return h.value}return}for(l=e?jO:HO,i=0;i<s;++i)this.each(l(r[i],e,t));return this}function IT(n,e,t){var r=kT(n),i=r.CustomEvent;typeof i=="function"?i=new i(e,t):(i=r.document.createEvent("Event"),t?(i.initEvent(e,t.bubbles,t.cancelable),i.detail=t.detail):i.initEvent(e,!1,!1)),n.dispatchEvent(i)}function UO(n,e){return function(){return IT(this,n,e)}}function VO(n,e){return function(){return IT(this,n,e.apply(this,arguments))}}function GO(n,e){return this.each((typeof e=="function"?VO:UO)(n,e))}function*XO(){for(var n=this._groups,e=0,t=n.length;e<t;++e)for(var r=n[e],i=0,s=r.length,a;i<s;++i)(a=r[i])&&(yield a)}var NT=[null];function Gr(n,e){this._groups=n,this._parents=e}function hg(){return new Gr([[document.documentElement]],NT)}function YO(){return this}Gr.prototype=hg.prototype={constructor:Gr,select:wD,selectAll:CD,selectChild:RD,selectChildren:ID,filter:ND,data:$D,enter:LD,exit:HD,join:jD,merge:WD,selection:YO,order:UD,sort:VD,call:XD,nodes:YD,node:qD,size:KD,empty:QD,each:ZD,attr:sO,style:cO,property:fO,classed:yO,text:xO,html:_O,raise:kO,lower:TO,append:PO,insert:IO,remove:LO,clone:FO,datum:zO,on:WO,dispatch:GO,[Symbol.iterator]:XO};function Wr(n){return typeof n=="string"?new Gr([[document.querySelector(n)]],[document.documentElement]):new Gr([[n]],NT)}function qO(n){let e;for(;e=n.sourceEvent;)n=e;return n}function Ni(n,e){if(n=qO(n),e===void 0&&(e=n.currentTarget),e){var t=e.ownerSVGElement||e;if(t.createSVGPoint){var r=t.createSVGPoint();return r.x=n.clientX,r.y=n.clientY,r=r.matrixTransform(e.getScreenCTM().inverse()),[r.x,r.y]}if(e.getBoundingClientRect){var i=e.getBoundingClientRect();return[n.clientX-i.left-e.clientLeft,n.clientY-i.top-e.clientTop]}}return[n.pageX,n.pageY]}const KO={passive:!1},pf={capture:!0,passive:!1};function Iw(n){n.stopImmediatePropagation()}function xu(n){n.preventDefault(),n.stopImmediatePropagation()}function LT(n){var e=n.document.documentElement,t=Wr(n).on("dragstart.drag",xu,pf);"onselectstart"in e?t.on("selectstart.drag",xu,pf):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function DT(n,e){var t=n.document.documentElement,r=Wr(n).on("dragstart.drag",null);e&&(r.on("click.drag",xu,pf),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in t?r.on("selectstart.drag",null):(t.style.MozUserSelect=t.__noselect,delete t.__noselect)}const Ym=n=>()=>n;function wx(n,{sourceEvent:e,subject:t,target:r,identifier:i,active:s,x:a,y:l,dx:u,dy:d,dispatch:h}){Object.defineProperties(this,{type:{value:n,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},subject:{value:t,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:i,enumerable:!0,configurable:!0},active:{value:s,enumerable:!0,configurable:!0},x:{value:a,enumerable:!0,configurable:!0},y:{value:l,enumerable:!0,configurable:!0},dx:{value:u,enumerable:!0,configurable:!0},dy:{value:d,enumerable:!0,configurable:!0},_:{value:h}})}wx.prototype.on=function(){var n=this._.on.apply(this._,arguments);return n===this._?this:n};function QO(n){return!n.ctrlKey&&!n.button}function ZO(){return this.parentNode}function JO(n,e){return e??{x:n.x,y:n.y}}function eF(){return navigator.maxTouchPoints||"ontouchstart"in this}function OT(){var n=QO,e=ZO,t=JO,r=eF,i={},s=V0("start","drag","end"),a=0,l,u,d,h,p=0;function g(_){_.on("mousedown.drag",y).filter(r).on("touchstart.drag",C).on("touchmove.drag",x,KO).on("touchend.drag touchcancel.drag",A).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function y(_,k){if(!(h||!n.call(this,_,k))){var M=E(this,e.call(this,_,k),_,k,"mouse");M&&(Wr(_.view).on("mousemove.drag",b,pf).on("mouseup.drag",w,pf),LT(_.view),Iw(_),d=!1,l=_.clientX,u=_.clientY,M("start",_))}}function b(_){if(xu(_),!d){var k=_.clientX-l,M=_.clientY-u;d=k*k+M*M>p}i.mouse("drag",_)}function w(_){Wr(_.view).on("mousemove.drag mouseup.drag",null),DT(_.view,d),xu(_),i.mouse("end",_)}function C(_,k){if(n.call(this,_,k)){var M=_.changedTouches,T=e.call(this,_,k),N=M.length,W,P;for(W=0;W<N;++W)(P=E(this,T,_,k,M[W].identifier,M[W]))&&(Iw(_),P("start",_,M[W]))}}function x(_){var k=_.changedTouches,M=k.length,T,N;for(T=0;T<M;++T)(N=i[k[T].identifier])&&(xu(_),N("drag",_,k[T]))}function A(_){var k=_.changedTouches,M=k.length,T,N;for(h&&clearTimeout(h),h=setTimeout(function(){h=null},500),T=0;T<M;++T)(N=i[k[T].identifier])&&(Iw(_),N("end",_,k[T]))}function E(_,k,M,T,N,W){var P=s.copy(),V=Ni(W||M,k),X,Y,D;if((D=t.call(_,new wx("beforestart",{sourceEvent:M,target:g,identifier:N,active:a,x:V[0],y:V[1],dx:0,dy:0,dispatch:P}),T))!=null)return X=D.x-V[0]||0,Y=D.y-V[1]||0,function G(j,q,$){var B=V,K;switch(j){case"start":i[N]=G,K=a++;break;case"end":delete i[N],--a;case"drag":V=Ni($||q,k),K=a;break}P.call(j,_,new wx(j,{sourceEvent:q,subject:D,target:g,identifier:N,active:K,x:V[0]+X,y:V[1]+Y,dx:V[0]-B[0],dy:V[1]-B[1],dispatch:P}),T)}}return g.filter=function(_){return arguments.length?(n=typeof _=="function"?_:Ym(!!_),g):n},g.container=function(_){return arguments.length?(e=typeof _=="function"?_:Ym(_),g):e},g.subject=function(_){return arguments.length?(t=typeof _=="function"?_:Ym(_),g):t},g.touchable=function(_){return arguments.length?(r=typeof _=="function"?_:Ym(!!_),g):r},g.on=function(){var _=s.on.apply(s,arguments);return _===s?g:_},g.clickDistance=function(_){return arguments.length?(p=(_=+_)*_,g):Math.sqrt(p)},g}function E1(n,e,t){n.prototype=e.prototype=t,t.constructor=n}function FT(n,e){var t=Object.create(n.prototype);for(var r in e)t[r]=e[r];return t}function fg(){}var gf=.7,t0=1/gf,Su="\\s*([+-]?\\d+)\\s*",mf="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",vs="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",tF=/^#([0-9a-f]{3,8})$/,nF=new RegExp(`^rgb\\(${Su},${Su},${Su}\\)$`),rF=new RegExp(`^rgb\\(${vs},${vs},${vs}\\)$`),iF=new RegExp(`^rgba\\(${Su},${Su},${Su},${mf}\\)$`),sF=new RegExp(`^rgba\\(${vs},${vs},${vs},${mf}\\)$`),oF=new RegExp(`^hsl\\(${mf},${vs},${vs}\\)$`),aF=new RegExp(`^hsla\\(${mf},${vs},${vs},${mf}\\)$`),lA={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};E1(fg,yf,{copy(n){return Object.assign(new this.constructor,this,n)},displayable(){return this.rgb().displayable()},hex:cA,formatHex:cA,formatHex8:lF,formatHsl:cF,formatRgb:uA,toString:uA});function cA(){return this.rgb().formatHex()}function lF(){return this.rgb().formatHex8()}function cF(){return zT(this).formatHsl()}function uA(){return this.rgb().formatRgb()}function yf(n){var e,t;return n=(n+"").trim().toLowerCase(),(e=tF.exec(n))?(t=e[1].length,e=parseInt(e[1],16),t===6?dA(e):t===3?new vr(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):t===8?qm(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):t===4?qm(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=nF.exec(n))?new vr(e[1],e[2],e[3],1):(e=rF.exec(n))?new vr(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=iF.exec(n))?qm(e[1],e[2],e[3],e[4]):(e=sF.exec(n))?qm(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=oF.exec(n))?pA(e[1],e[2]/100,e[3]/100,1):(e=aF.exec(n))?pA(e[1],e[2]/100,e[3]/100,e[4]):lA.hasOwnProperty(n)?dA(lA[n]):n==="transparent"?new vr(NaN,NaN,NaN,0):null}function dA(n){return new vr(n>>16&255,n>>8&255,n&255,1)}function qm(n,e,t,r){return r<=0&&(n=e=t=NaN),new vr(n,e,t,r)}function uF(n){return n instanceof fg||(n=yf(n)),n?(n=n.rgb(),new vr(n.r,n.g,n.b,n.opacity)):new vr}function xx(n,e,t,r){return arguments.length===1?uF(n):new vr(n,e,t,r??1)}function vr(n,e,t,r){this.r=+n,this.g=+e,this.b=+t,this.opacity=+r}E1(vr,xx,FT(fg,{brighter(n){return n=n==null?t0:Math.pow(t0,n),new vr(this.r*n,this.g*n,this.b*n,this.opacity)},darker(n){return n=n==null?gf:Math.pow(gf,n),new vr(this.r*n,this.g*n,this.b*n,this.opacity)},rgb(){return this},clamp(){return new vr(fc(this.r),fc(this.g),fc(this.b),n0(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:hA,formatHex:hA,formatHex8:dF,formatRgb:fA,toString:fA}));function hA(){return`#${ml(this.r)}${ml(this.g)}${ml(this.b)}`}function dF(){return`#${ml(this.r)}${ml(this.g)}${ml(this.b)}${ml((isNaN(this.opacity)?1:this.opacity)*255)}`}function fA(){const n=n0(this.opacity);return`${n===1?"rgb(":"rgba("}${fc(this.r)}, ${fc(this.g)}, ${fc(this.b)}${n===1?")":`, ${n})`}`}function n0(n){return isNaN(n)?1:Math.max(0,Math.min(1,n))}function fc(n){return Math.max(0,Math.min(255,Math.round(n)||0))}function ml(n){return n=fc(n),(n<16?"0":"")+n.toString(16)}function pA(n,e,t,r){return r<=0?n=e=t=NaN:t<=0||t>=1?n=e=NaN:e<=0&&(n=NaN),new Li(n,e,t,r)}function zT(n){if(n instanceof Li)return new Li(n.h,n.s,n.l,n.opacity);if(n instanceof fg||(n=yf(n)),!n)return new Li;if(n instanceof Li)return n;n=n.rgb();var e=n.r/255,t=n.g/255,r=n.b/255,i=Math.min(e,t,r),s=Math.max(e,t,r),a=NaN,l=s-i,u=(s+i)/2;return l?(e===s?a=(t-r)/l+(t<r)*6:t===s?a=(r-e)/l+2:a=(e-t)/l+4,l/=u<.5?s+i:2-s-i,a*=60):l=u>0&&u<1?0:a,new Li(a,l,u,n.opacity)}function hF(n,e,t,r){return arguments.length===1?zT(n):new Li(n,e,t,r??1)}function Li(n,e,t,r){this.h=+n,this.s=+e,this.l=+t,this.opacity=+r}E1(Li,hF,FT(fg,{brighter(n){return n=n==null?t0:Math.pow(t0,n),new Li(this.h,this.s,this.l*n,this.opacity)},darker(n){return n=n==null?gf:Math.pow(gf,n),new Li(this.h,this.s,this.l*n,this.opacity)},rgb(){var n=this.h%360+(this.h<0)*360,e=isNaN(n)||isNaN(this.s)?0:this.s,t=this.l,r=t+(t<.5?t:1-t)*e,i=2*t-r;return new vr(Nw(n>=240?n-240:n+120,i,r),Nw(n,i,r),Nw(n<120?n+240:n-120,i,r),this.opacity)},clamp(){return new Li(gA(this.h),Km(this.s),Km(this.l),n0(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const n=n0(this.opacity);return`${n===1?"hsl(":"hsla("}${gA(this.h)}, ${Km(this.s)*100}%, ${Km(this.l)*100}%${n===1?")":`, ${n})`}`}}));function gA(n){return n=(n||0)%360,n<0?n+360:n}function Km(n){return Math.max(0,Math.min(1,n||0))}function Nw(n,e,t){return(n<60?e+(t-e)*n/60:n<180?t:n<240?e+(t-e)*(240-n)/60:e)*255}const $T=n=>()=>n;function fF(n,e){return function(t){return n+t*e}}function pF(n,e,t){return n=Math.pow(n,t),e=Math.pow(e,t)-n,t=1/t,function(r){return Math.pow(n+r*e,t)}}function gF(n){return(n=+n)==1?BT:function(e,t){return t-e?pF(e,t,n):$T(isNaN(e)?t:e)}}function BT(n,e){var t=e-n;return t?fF(n,t):$T(isNaN(n)?e:n)}const mA=function n(e){var t=gF(e);function r(i,s){var a=t((i=xx(i)).r,(s=xx(s)).r),l=t(i.g,s.g),u=t(i.b,s.b),d=BT(i.opacity,s.opacity);return function(h){return i.r=a(h),i.g=l(h),i.b=u(h),i.opacity=d(h),i+""}}return r.gamma=n,r}(1);function aa(n,e){return n=+n,e=+e,function(t){return n*(1-t)+e*t}}var Sx=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Lw=new RegExp(Sx.source,"g");function mF(n){return function(){return n}}function yF(n){return function(e){return n(e)+""}}function vF(n,e){var t=Sx.lastIndex=Lw.lastIndex=0,r,i,s,a=-1,l=[],u=[];for(n=n+"",e=e+"";(r=Sx.exec(n))&&(i=Lw.exec(e));)(s=i.index)>t&&(s=e.slice(t,s),l[a]?l[a]+=s:l[++a]=s),(r=r[0])===(i=i[0])?l[a]?l[a]+=i:l[++a]=i:(l[++a]=null,u.push({i:a,x:aa(r,i)})),t=Lw.lastIndex;return t<e.length&&(s=e.slice(t),l[a]?l[a]+=s:l[++a]=s),l.length<2?u[0]?yF(u[0].x):mF(e):(e=u.length,function(d){for(var h=0,p;h<e;++h)l[(p=u[h]).i]=p.x(d);return l.join("")})}var yA=180/Math.PI,Ex={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function HT(n,e,t,r,i,s){var a,l,u;return(a=Math.sqrt(n*n+e*e))&&(n/=a,e/=a),(u=n*t+e*r)&&(t-=n*u,r-=e*u),(l=Math.sqrt(t*t+r*r))&&(t/=l,r/=l,u/=l),n*r<e*t&&(n=-n,e=-e,u=-u,a=-a),{translateX:i,translateY:s,rotate:Math.atan2(e,n)*yA,skewX:Math.atan(u)*yA,scaleX:a,scaleY:l}}var Qm;function bF(n){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(n+"");return e.isIdentity?Ex:HT(e.a,e.b,e.c,e.d,e.e,e.f)}function wF(n){return n==null||(Qm||(Qm=document.createElementNS("http://www.w3.org/2000/svg","g")),Qm.setAttribute("transform",n),!(n=Qm.transform.baseVal.consolidate()))?Ex:(n=n.matrix,HT(n.a,n.b,n.c,n.d,n.e,n.f))}function jT(n,e,t,r){function i(d){return d.length?d.pop()+" ":""}function s(d,h,p,g,y,b){if(d!==p||h!==g){var w=y.push("translate(",null,e,null,t);b.push({i:w-4,x:aa(d,p)},{i:w-2,x:aa(h,g)})}else(p||g)&&y.push("translate("+p+e+g+t)}function a(d,h,p,g){d!==h?(d-h>180?h+=360:h-d>180&&(d+=360),g.push({i:p.push(i(p)+"rotate(",null,r)-2,x:aa(d,h)})):h&&p.push(i(p)+"rotate("+h+r)}function l(d,h,p,g){d!==h?g.push({i:p.push(i(p)+"skewX(",null,r)-2,x:aa(d,h)}):h&&p.push(i(p)+"skewX("+h+r)}function u(d,h,p,g,y,b){if(d!==p||h!==g){var w=y.push(i(y)+"scale(",null,",",null,")");b.push({i:w-4,x:aa(d,p)},{i:w-2,x:aa(h,g)})}else(p!==1||g!==1)&&y.push(i(y)+"scale("+p+","+g+")")}return function(d,h){var p=[],g=[];return d=n(d),h=n(h),s(d.translateX,d.translateY,h.translateX,h.translateY,p,g),a(d.rotate,h.rotate,p,g),l(d.skewX,h.skewX,p,g),u(d.scaleX,d.scaleY,h.scaleX,h.scaleY,p,g),d=h=null,function(y){for(var b=-1,w=g.length,C;++b<w;)p[(C=g[b]).i]=C.x(y);return p.join("")}}}var xF=jT(bF,"px, ","px)","deg)"),SF=jT(wF,", ",")",")"),EF=1e-12;function vA(n){return((n=Math.exp(n))+1/n)/2}function CF(n){return((n=Math.exp(n))-1/n)/2}function _F(n){return((n=Math.exp(2*n))-1)/(n+1)}const AF=function n(e,t,r){function i(s,a){var l=s[0],u=s[1],d=s[2],h=a[0],p=a[1],g=a[2],y=h-l,b=p-u,w=y*y+b*b,C,x;if(w<EF)x=Math.log(g/d)/e,C=function(T){return[l+T*y,u+T*b,d*Math.exp(e*T*x)]};else{var A=Math.sqrt(w),E=(g*g-d*d+r*w)/(2*d*t*A),_=(g*g-d*d-r*w)/(2*g*t*A),k=Math.log(Math.sqrt(E*E+1)-E),M=Math.log(Math.sqrt(_*_+1)-_);x=(M-k)/e,C=function(T){var N=T*x,W=vA(k),P=d/(t*A)*(W*_F(e*N+k)-CF(k));return[l+P*y,u+P*b,d*W/vA(e*N+k)]}}return C.duration=x*1e3*e/Math.SQRT2,C}return i.rho=function(s){var a=Math.max(.001,+s),l=a*a,u=l*l;return n(a,l,u)},i}(Math.SQRT2,2,4);var Cd=0,Dh=0,Sh=0,WT=1e3,r0,Oh,i0=0,gc=0,X0=0,vf=typeof performance=="object"&&performance.now?performance:Date,UT=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(n){setTimeout(n,17)};function C1(){return gc||(UT(kF),gc=vf.now()+X0)}function kF(){gc=0}function s0(){this._call=this._time=this._next=null}s0.prototype=VT.prototype={constructor:s0,restart:function(n,e,t){if(typeof n!="function")throw new TypeError("callback is not a function");t=(t==null?C1():+t)+(e==null?0:+e),!this._next&&Oh!==this&&(Oh?Oh._next=this:r0=this,Oh=this),this._call=n,this._time=t,Cx()},stop:function(){this._call&&(this._call=null,this._time=1/0,Cx())}};function VT(n,e,t){var r=new s0;return r.restart(n,e,t),r}function RF(){C1(),++Cd;for(var n=r0,e;n;)(e=gc-n._time)>=0&&n._call.call(void 0,e),n=n._next;--Cd}function bA(){gc=(i0=vf.now())+X0,Cd=Dh=0;try{RF()}finally{Cd=0,PF(),gc=0}}function TF(){var n=vf.now(),e=n-i0;e>WT&&(X0-=e,i0=n)}function PF(){for(var n,e=r0,t,r=1/0;e;)e._call?(r>e._time&&(r=e._time),n=e,e=e._next):(t=e._next,e._next=null,e=n?n._next=t:r0=t);Oh=n,Cx(r)}function Cx(n){if(!Cd){Dh&&(Dh=clearTimeout(Dh));var e=n-gc;e>24?(n<1/0&&(Dh=setTimeout(bA,n-vf.now()-X0)),Sh&&(Sh=clearInterval(Sh))):(Sh||(i0=vf.now(),Sh=setInterval(TF,WT)),Cd=1,UT(bA))}}function wA(n,e,t){var r=new s0;return e=e==null?0:+e,r.restart(i=>{r.stop(),n(i+e)},e,t),r}var MF=V0("start","end","cancel","interrupt"),IF=[],GT=0,xA=1,_x=2,wy=3,SA=4,Ax=5,xy=6;function Y0(n,e,t,r,i,s){var a=n.__transition;if(!a)n.__transition={};else if(t in a)return;NF(n,t,{name:e,index:r,group:i,on:MF,tween:IF,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:GT})}function _1(n,e){var t=zi(n,e);if(t.state>GT)throw new Error("too late; already scheduled");return t}function Cs(n,e){var t=zi(n,e);if(t.state>wy)throw new Error("too late; already running");return t}function zi(n,e){var t=n.__transition;if(!t||!(t=t[e]))throw new Error("transition not found");return t}function NF(n,e,t){var r=n.__transition,i;r[e]=t,t.timer=VT(s,0,t.time);function s(d){t.state=xA,t.timer.restart(a,t.delay,t.time),t.delay<=d&&a(d-t.delay)}function a(d){var h,p,g,y;if(t.state!==xA)return u();for(h in r)if(y=r[h],y.name===t.name){if(y.state===wy)return wA(a);y.state===SA?(y.state=xy,y.timer.stop(),y.on.call("interrupt",n,n.__data__,y.index,y.group),delete r[h]):+h<e&&(y.state=xy,y.timer.stop(),y.on.call("cancel",n,n.__data__,y.index,y.group),delete r[h])}if(wA(function(){t.state===wy&&(t.state=SA,t.timer.restart(l,t.delay,t.time),l(d))}),t.state=_x,t.on.call("start",n,n.__data__,t.index,t.group),t.state===_x){for(t.state=wy,i=new Array(g=t.tween.length),h=0,p=-1;h<g;++h)(y=t.tween[h].value.call(n,n.__data__,t.index,t.group))&&(i[++p]=y);i.length=p+1}}function l(d){for(var h=d<t.duration?t.ease.call(null,d/t.duration):(t.timer.restart(u),t.state=Ax,1),p=-1,g=i.length;++p<g;)i[p].call(n,h);t.state===Ax&&(t.on.call("end",n,n.__data__,t.index,t.group),u())}function u(){t.state=xy,t.timer.stop(),delete r[e];for(var d in r)return;delete n.__transition}}function Sy(n,e){var t=n.__transition,r,i,s=!0,a;if(t){e=e==null?null:e+"";for(a in t){if((r=t[a]).name!==e){s=!1;continue}i=r.state>_x&&r.state<Ax,r.state=xy,r.timer.stop(),r.on.call(i?"interrupt":"cancel",n,n.__data__,r.index,r.group),delete t[a]}s&&delete n.__transition}}function LF(n){return this.each(function(){Sy(this,n)})}function DF(n,e){var t,r;return function(){var i=Cs(this,n),s=i.tween;if(s!==t){r=t=s;for(var a=0,l=r.length;a<l;++a)if(r[a].name===e){r=r.slice(),r.splice(a,1);break}}i.tween=r}}function OF(n,e,t){var r,i;if(typeof t!="function")throw new Error;return function(){var s=Cs(this,n),a=s.tween;if(a!==r){i=(r=a).slice();for(var l={name:e,value:t},u=0,d=i.length;u<d;++u)if(i[u].name===e){i[u]=l;break}u===d&&i.push(l)}s.tween=i}}function FF(n,e){var t=this._id;if(n+="",arguments.length<2){for(var r=zi(this.node(),t).tween,i=0,s=r.length,a;i<s;++i)if((a=r[i]).name===n)return a.value;return null}return this.each((e==null?DF:OF)(t,n,e))}function A1(n,e,t){var r=n._id;return n.each(function(){var i=Cs(this,r);(i.value||(i.value={}))[e]=t.apply(this,arguments)}),function(i){return zi(i,r).value[e]}}function XT(n,e){var t;return(typeof e=="number"?aa:e instanceof yf?mA:(t=yf(e))?(e=t,mA):vF)(n,e)}function zF(n){return function(){this.removeAttribute(n)}}function $F(n){return function(){this.removeAttributeNS(n.space,n.local)}}function BF(n,e,t){var r,i=t+"",s;return function(){var a=this.getAttribute(n);return a===i?null:a===r?s:s=e(r=a,t)}}function HF(n,e,t){var r,i=t+"",s;return function(){var a=this.getAttributeNS(n.space,n.local);return a===i?null:a===r?s:s=e(r=a,t)}}function jF(n,e,t){var r,i,s;return function(){var a,l=t(this),u;return l==null?void this.removeAttribute(n):(a=this.getAttribute(n),u=l+"",a===u?null:a===r&&u===i?s:(i=u,s=e(r=a,l)))}}function WF(n,e,t){var r,i,s;return function(){var a,l=t(this),u;return l==null?void this.removeAttributeNS(n.space,n.local):(a=this.getAttributeNS(n.space,n.local),u=l+"",a===u?null:a===r&&u===i?s:(i=u,s=e(r=a,l)))}}function UF(n,e){var t=G0(n),r=t==="transform"?SF:XT;return this.attrTween(n,typeof e=="function"?(t.local?WF:jF)(t,r,A1(this,"attr."+n,e)):e==null?(t.local?$F:zF)(t):(t.local?HF:BF)(t,r,e))}function VF(n,e){return function(t){this.setAttribute(n,e.call(this,t))}}function GF(n,e){return function(t){this.setAttributeNS(n.space,n.local,e.call(this,t))}}function XF(n,e){var t,r;function i(){var s=e.apply(this,arguments);return s!==r&&(t=(r=s)&&GF(n,s)),t}return i._value=e,i}function YF(n,e){var t,r;function i(){var s=e.apply(this,arguments);return s!==r&&(t=(r=s)&&VF(n,s)),t}return i._value=e,i}function qF(n,e){var t="attr."+n;if(arguments.length<2)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;var r=G0(n);return this.tween(t,(r.local?XF:YF)(r,e))}function KF(n,e){return function(){_1(this,n).delay=+e.apply(this,arguments)}}function QF(n,e){return e=+e,function(){_1(this,n).delay=e}}function ZF(n){var e=this._id;return arguments.length?this.each((typeof n=="function"?KF:QF)(e,n)):zi(this.node(),e).delay}function JF(n,e){return function(){Cs(this,n).duration=+e.apply(this,arguments)}}function ez(n,e){return e=+e,function(){Cs(this,n).duration=e}}function tz(n){var e=this._id;return arguments.length?this.each((typeof n=="function"?JF:ez)(e,n)):zi(this.node(),e).duration}function nz(n,e){if(typeof e!="function")throw new Error;return function(){Cs(this,n).ease=e}}function rz(n){var e=this._id;return arguments.length?this.each(nz(e,n)):zi(this.node(),e).ease}function iz(n,e){return function(){var t=e.apply(this,arguments);if(typeof t!="function")throw new Error;Cs(this,n).ease=t}}function sz(n){if(typeof n!="function")throw new Error;return this.each(iz(this._id,n))}function oz(n){typeof n!="function"&&(n=CT(n));for(var e=this._groups,t=e.length,r=new Array(t),i=0;i<t;++i)for(var s=e[i],a=s.length,l=r[i]=[],u,d=0;d<a;++d)(u=s[d])&&n.call(u,u.__data__,d,s)&&l.push(u);return new So(r,this._parents,this._name,this._id)}function az(n){if(n._id!==this._id)throw new Error;for(var e=this._groups,t=n._groups,r=e.length,i=t.length,s=Math.min(r,i),a=new Array(r),l=0;l<s;++l)for(var u=e[l],d=t[l],h=u.length,p=a[l]=new Array(h),g,y=0;y<h;++y)(g=u[y]||d[y])&&(p[y]=g);for(;l<r;++l)a[l]=e[l];return new So(a,this._parents,this._name,this._id)}function lz(n){return(n+"").trim().split(/^|\s+/).every(function(e){var t=e.indexOf(".");return t>=0&&(e=e.slice(0,t)),!e||e==="start"})}function cz(n,e,t){var r,i,s=lz(e)?_1:Cs;return function(){var a=s(this,n),l=a.on;l!==r&&(i=(r=l).copy()).on(e,t),a.on=i}}function uz(n,e){var t=this._id;return arguments.length<2?zi(this.node(),t).on.on(n):this.each(cz(t,n,e))}function dz(n){return function(){var e=this.parentNode;for(var t in this.__transition)if(+t!==n)return;e&&e.removeChild(this)}}function hz(){return this.on("end.remove",dz(this._id))}function fz(n){var e=this._name,t=this._id;typeof n!="function"&&(n=x1(n));for(var r=this._groups,i=r.length,s=new Array(i),a=0;a<i;++a)for(var l=r[a],u=l.length,d=s[a]=new Array(u),h,p,g=0;g<u;++g)(h=l[g])&&(p=n.call(h,h.__data__,g,l))&&("__data__"in h&&(p.__data__=h.__data__),d[g]=p,Y0(d[g],e,t,g,d,zi(h,t)));return new So(s,this._parents,e,t)}function pz(n){var e=this._name,t=this._id;typeof n!="function"&&(n=ET(n));for(var r=this._groups,i=r.length,s=[],a=[],l=0;l<i;++l)for(var u=r[l],d=u.length,h,p=0;p<d;++p)if(h=u[p]){for(var g=n.call(h,h.__data__,p,u),y,b=zi(h,t),w=0,C=g.length;w<C;++w)(y=g[w])&&Y0(y,e,t,w,g,b);s.push(g),a.push(h)}return new So(s,a,e,t)}var gz=hg.prototype.constructor;function mz(){return new gz(this._groups,this._parents)}function yz(n,e){var t,r,i;return function(){var s=Ed(this,n),a=(this.style.removeProperty(n),Ed(this,n));return s===a?null:s===t&&a===r?i:i=e(t=s,r=a)}}function YT(n){return function(){this.style.removeProperty(n)}}function vz(n,e,t){var r,i=t+"",s;return function(){var a=Ed(this,n);return a===i?null:a===r?s:s=e(r=a,t)}}function bz(n,e,t){var r,i,s;return function(){var a=Ed(this,n),l=t(this),u=l+"";return l==null&&(u=l=(this.style.removeProperty(n),Ed(this,n))),a===u?null:a===r&&u===i?s:(i=u,s=e(r=a,l))}}function wz(n,e){var t,r,i,s="style."+e,a="end."+s,l;return function(){var u=Cs(this,n),d=u.on,h=u.value[s]==null?l||(l=YT(e)):void 0;(d!==t||i!==h)&&(r=(t=d).copy()).on(a,i=h),u.on=r}}function xz(n,e,t){var r=(n+="")=="transform"?xF:XT;return e==null?this.styleTween(n,yz(n,r)).on("end.style."+n,YT(n)):typeof e=="function"?this.styleTween(n,bz(n,r,A1(this,"style."+n,e))).each(wz(this._id,n)):this.styleTween(n,vz(n,r,e),t).on("end.style."+n,null)}function Sz(n,e,t){return function(r){this.style.setProperty(n,e.call(this,r),t)}}function Ez(n,e,t){var r,i;function s(){var a=e.apply(this,arguments);return a!==i&&(r=(i=a)&&Sz(n,a,t)),r}return s._value=e,s}function Cz(n,e,t){var r="style."+(n+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;return this.tween(r,Ez(n,e,t??""))}function _z(n){return function(){this.textContent=n}}function Az(n){return function(){var e=n(this);this.textContent=e??""}}function kz(n){return this.tween("text",typeof n=="function"?Az(A1(this,"text",n)):_z(n==null?"":n+""))}function Rz(n){return function(e){this.textContent=n.call(this,e)}}function Tz(n){var e,t;function r(){var i=n.apply(this,arguments);return i!==t&&(e=(t=i)&&Rz(i)),e}return r._value=n,r}function Pz(n){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(n==null)return this.tween(e,null);if(typeof n!="function")throw new Error;return this.tween(e,Tz(n))}function Mz(){for(var n=this._name,e=this._id,t=qT(),r=this._groups,i=r.length,s=0;s<i;++s)for(var a=r[s],l=a.length,u,d=0;d<l;++d)if(u=a[d]){var h=zi(u,e);Y0(u,n,t,d,a,{time:h.time+h.delay+h.duration,delay:0,duration:h.duration,ease:h.ease})}return new So(r,this._parents,n,t)}function Iz(){var n,e,t=this,r=t._id,i=t.size();return new Promise(function(s,a){var l={value:a},u={value:function(){--i===0&&s()}};t.each(function(){var d=Cs(this,r),h=d.on;h!==n&&(e=(n=h).copy(),e._.cancel.push(l),e._.interrupt.push(l),e._.end.push(u)),d.on=e}),i===0&&s()})}var Nz=0;function So(n,e,t,r){this._groups=n,this._parents=e,this._name=t,this._id=r}function qT(){return++Nz}var Ds=hg.prototype;So.prototype={constructor:So,select:fz,selectAll:pz,selectChild:Ds.selectChild,selectChildren:Ds.selectChildren,filter:oz,merge:az,selection:mz,transition:Mz,call:Ds.call,nodes:Ds.nodes,node:Ds.node,size:Ds.size,empty:Ds.empty,each:Ds.each,on:uz,attr:UF,attrTween:qF,style:xz,styleTween:Cz,text:kz,textTween:Pz,remove:hz,tween:FF,delay:ZF,duration:tz,ease:rz,easeVarying:sz,end:Iz,[Symbol.iterator]:Ds[Symbol.iterator]};function Lz(n){return((n*=2)<=1?n*n*n:(n-=2)*n*n+2)/2}var Dz={time:null,delay:0,duration:250,ease:Lz};function Oz(n,e){for(var t;!(t=n.__transition)||!(t=t[e]);)if(!(n=n.parentNode))throw new Error(`transition ${e} not found`);return t}function Fz(n){var e,t;n instanceof So?(e=n._id,n=n._name):(e=qT(),(t=Dz).time=C1(),n=n==null?null:n+"");for(var r=this._groups,i=r.length,s=0;s<i;++s)for(var a=r[s],l=a.length,u,d=0;d<l;++d)(u=a[d])&&Y0(u,n,e,d,a,t||Oz(u,e));return new So(r,this._parents,n,e)}hg.prototype.interrupt=LF;hg.prototype.transition=Fz;const Zm=n=>()=>n;function zz(n,{sourceEvent:e,target:t,transform:r,dispatch:i}){Object.defineProperties(this,{type:{value:n,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:t,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:i}})}function mo(n,e,t){this.k=n,this.x=e,this.y=t}mo.prototype={constructor:mo,scale:function(n){return n===1?this:new mo(this.k*n,this.x,this.y)},translate:function(n,e){return n===0&e===0?this:new mo(this.k,this.x+this.k*n,this.y+this.k*e)},apply:function(n){return[n[0]*this.k+this.x,n[1]*this.k+this.y]},applyX:function(n){return n*this.k+this.x},applyY:function(n){return n*this.k+this.y},invert:function(n){return[(n[0]-this.x)/this.k,(n[1]-this.y)/this.k]},invertX:function(n){return(n-this.x)/this.k},invertY:function(n){return(n-this.y)/this.k},rescaleX:function(n){return n.copy().domain(n.range().map(this.invertX,this).map(n.invert,n))},rescaleY:function(n){return n.copy().domain(n.range().map(this.invertY,this).map(n.invert,n))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var q0=new mo(1,0,0);KT.prototype=mo.prototype;function KT(n){for(;!n.__zoom;)if(!(n=n.parentNode))return q0;return n.__zoom}function Dw(n){n.stopImmediatePropagation()}function Eh(n){n.preventDefault(),n.stopImmediatePropagation()}function $z(n){return(!n.ctrlKey||n.type==="wheel")&&!n.button}function Bz(){var n=this;return n instanceof SVGElement?(n=n.ownerSVGElement||n,n.hasAttribute("viewBox")?(n=n.viewBox.baseVal,[[n.x,n.y],[n.x+n.width,n.y+n.height]]):[[0,0],[n.width.baseVal.value,n.height.baseVal.value]]):[[0,0],[n.clientWidth,n.clientHeight]]}function EA(){return this.__zoom||q0}function Hz(n){return-n.deltaY*(n.deltaMode===1?.05:n.deltaMode?1:.002)*(n.ctrlKey?10:1)}function jz(){return navigator.maxTouchPoints||"ontouchstart"in this}function Wz(n,e,t){var r=n.invertX(e[0][0])-t[0][0],i=n.invertX(e[1][0])-t[1][0],s=n.invertY(e[0][1])-t[0][1],a=n.invertY(e[1][1])-t[1][1];return n.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),a>s?(s+a)/2:Math.min(0,s)||Math.max(0,a))}function QT(){var n=$z,e=Bz,t=Wz,r=Hz,i=jz,s=[0,1/0],a=[[-1/0,-1/0],[1/0,1/0]],l=250,u=AF,d=V0("start","zoom","end"),h,p,g,y=500,b=150,w=0,C=10;function x(D){D.property("__zoom",EA).on("wheel.zoom",N,{passive:!1}).on("mousedown.zoom",W).on("dblclick.zoom",P).filter(i).on("touchstart.zoom",V).on("touchmove.zoom",X).on("touchend.zoom touchcancel.zoom",Y).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}x.transform=function(D,G,j,q){var $=D.selection?D.selection():D;$.property("__zoom",EA),D!==$?k(D,G,j,q):$.interrupt().each(function(){M(this,arguments).event(q).start().zoom(null,typeof G=="function"?G.apply(this,arguments):G).end()})},x.scaleBy=function(D,G,j,q){x.scaleTo(D,function(){var $=this.__zoom.k,B=typeof G=="function"?G.apply(this,arguments):G;return $*B},j,q)},x.scaleTo=function(D,G,j,q){x.transform(D,function(){var $=e.apply(this,arguments),B=this.__zoom,K=j==null?_($):typeof j=="function"?j.apply(this,arguments):j,U=B.invert(K),Z=typeof G=="function"?G.apply(this,arguments):G;return t(E(A(B,Z),K,U),$,a)},j,q)},x.translateBy=function(D,G,j,q){x.transform(D,function(){return t(this.__zoom.translate(typeof G=="function"?G.apply(this,arguments):G,typeof j=="function"?j.apply(this,arguments):j),e.apply(this,arguments),a)},null,q)},x.translateTo=function(D,G,j,q,$){x.transform(D,function(){var B=e.apply(this,arguments),K=this.__zoom,U=q==null?_(B):typeof q=="function"?q.apply(this,arguments):q;return t(q0.translate(U[0],U[1]).scale(K.k).translate(typeof G=="function"?-G.apply(this,arguments):-G,typeof j=="function"?-j.apply(this,arguments):-j),B,a)},q,$)};function A(D,G){return G=Math.max(s[0],Math.min(s[1],G)),G===D.k?D:new mo(G,D.x,D.y)}function E(D,G,j){var q=G[0]-j[0]*D.k,$=G[1]-j[1]*D.k;return q===D.x&&$===D.y?D:new mo(D.k,q,$)}function _(D){return[(+D[0][0]+ +D[1][0])/2,(+D[0][1]+ +D[1][1])/2]}function k(D,G,j,q){D.on("start.zoom",function(){M(this,arguments).event(q).start()}).on("interrupt.zoom end.zoom",function(){M(this,arguments).event(q).end()}).tween("zoom",function(){var $=this,B=arguments,K=M($,B).event(q),U=e.apply($,B),Z=j==null?_(U):typeof j=="function"?j.apply($,B):j,re=Math.max(U[1][0]-U[0][0],U[1][1]-U[0][1]),le=$.__zoom,se=typeof G=="function"?G.apply($,B):G,ce=u(le.invert(Z).concat(re/le.k),se.invert(Z).concat(re/se.k));return function(ee){if(ee===1)ee=se;else{var oe=ce(ee),de=re/oe[2];ee=new mo(de,Z[0]-oe[0]*de,Z[1]-oe[1]*de)}K.zoom(null,ee)}})}function M(D,G,j){return!j&&D.__zooming||new T(D,G)}function T(D,G){this.that=D,this.args=G,this.active=0,this.sourceEvent=null,this.extent=e.apply(D,G),this.taps=0}T.prototype={event:function(D){return D&&(this.sourceEvent=D),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(D,G){return this.mouse&&D!=="mouse"&&(this.mouse[1]=G.invert(this.mouse[0])),this.touch0&&D!=="touch"&&(this.touch0[1]=G.invert(this.touch0[0])),this.touch1&&D!=="touch"&&(this.touch1[1]=G.invert(this.touch1[0])),this.that.__zoom=G,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(D){var G=Wr(this.that).datum();d.call(D,this.that,new zz(D,{sourceEvent:this.sourceEvent,target:x,transform:this.that.__zoom,dispatch:d}),G)}};function N(D,...G){if(!n.apply(this,arguments))return;var j=M(this,G).event(D),q=this.__zoom,$=Math.max(s[0],Math.min(s[1],q.k*Math.pow(2,r.apply(this,arguments)))),B=Ni(D);if(j.wheel)(j.mouse[0][0]!==B[0]||j.mouse[0][1]!==B[1])&&(j.mouse[1]=q.invert(j.mouse[0]=B)),clearTimeout(j.wheel);else{if(q.k===$)return;j.mouse=[B,q.invert(B)],Sy(this),j.start()}Eh(D),j.wheel=setTimeout(K,b),j.zoom("mouse",t(E(A(q,$),j.mouse[0],j.mouse[1]),j.extent,a));function K(){j.wheel=null,j.end()}}function W(D,...G){if(g||!n.apply(this,arguments))return;var j=D.currentTarget,q=M(this,G,!0).event(D),$=Wr(D.view).on("mousemove.zoom",Z,!0).on("mouseup.zoom",re,!0),B=Ni(D,j),K=D.clientX,U=D.clientY;LT(D.view),Dw(D),q.mouse=[B,this.__zoom.invert(B)],Sy(this),q.start();function Z(le){if(Eh(le),!q.moved){var se=le.clientX-K,ce=le.clientY-U;q.moved=se*se+ce*ce>w}q.event(le).zoom("mouse",t(E(q.that.__zoom,q.mouse[0]=Ni(le,j),q.mouse[1]),q.extent,a))}function re(le){$.on("mousemove.zoom mouseup.zoom",null),DT(le.view,q.moved),Eh(le),q.event(le).end()}}function P(D,...G){if(n.apply(this,arguments)){var j=this.__zoom,q=Ni(D.changedTouches?D.changedTouches[0]:D,this),$=j.invert(q),B=j.k*(D.shiftKey?.5:2),K=t(E(A(j,B),q,$),e.apply(this,G),a);Eh(D),l>0?Wr(this).transition().duration(l).call(k,K,q,D):Wr(this).call(x.transform,K,q,D)}}function V(D,...G){if(n.apply(this,arguments)){var j=D.touches,q=j.length,$=M(this,G,D.changedTouches.length===q).event(D),B,K,U,Z;for(Dw(D),K=0;K<q;++K)U=j[K],Z=Ni(U,this),Z=[Z,this.__zoom.invert(Z),U.identifier],$.touch0?!$.touch1&&$.touch0[2]!==Z[2]&&($.touch1=Z,$.taps=0):($.touch0=Z,B=!0,$.taps=1+!!h);h&&(h=clearTimeout(h)),B&&($.taps<2&&(p=Z[0],h=setTimeout(function(){h=null},y)),Sy(this),$.start())}}function X(D,...G){if(this.__zooming){var j=M(this,G).event(D),q=D.changedTouches,$=q.length,B,K,U,Z;for(Eh(D),B=0;B<$;++B)K=q[B],U=Ni(K,this),j.touch0&&j.touch0[2]===K.identifier?j.touch0[0]=U:j.touch1&&j.touch1[2]===K.identifier&&(j.touch1[0]=U);if(K=j.that.__zoom,j.touch1){var re=j.touch0[0],le=j.touch0[1],se=j.touch1[0],ce=j.touch1[1],ee=(ee=se[0]-re[0])*ee+(ee=se[1]-re[1])*ee,oe=(oe=ce[0]-le[0])*oe+(oe=ce[1]-le[1])*oe;K=A(K,Math.sqrt(ee/oe)),U=[(re[0]+se[0])/2,(re[1]+se[1])/2],Z=[(le[0]+ce[0])/2,(le[1]+ce[1])/2]}else if(j.touch0)U=j.touch0[0],Z=j.touch0[1];else return;j.zoom("touch",t(E(K,U,Z),j.extent,a))}}function Y(D,...G){if(this.__zooming){var j=M(this,G).event(D),q=D.changedTouches,$=q.length,B,K;for(Dw(D),g&&clearTimeout(g),g=setTimeout(function(){g=null},y),B=0;B<$;++B)K=q[B],j.touch0&&j.touch0[2]===K.identifier?delete j.touch0:j.touch1&&j.touch1[2]===K.identifier&&delete j.touch1;if(j.touch1&&!j.touch0&&(j.touch0=j.touch1,delete j.touch1),j.touch0)j.touch0[1]=this.__zoom.invert(j.touch0[0]);else if(j.end(),j.taps===2&&(K=Ni(K,this),Math.hypot(p[0]-K[0],p[1]-K[1])<C)){var U=Wr(this).on("dblclick.zoom");U&&U.apply(this,arguments)}}}return x.wheelDelta=function(D){return arguments.length?(r=typeof D=="function"?D:Zm(+D),x):r},x.filter=function(D){return arguments.length?(n=typeof D=="function"?D:Zm(!!D),x):n},x.touchable=function(D){return arguments.length?(i=typeof D=="function"?D:Zm(!!D),x):i},x.extent=function(D){return arguments.length?(e=typeof D=="function"?D:Zm([[+D[0][0],+D[0][1]],[+D[1][0],+D[1][1]]]),x):e},x.scaleExtent=function(D){return arguments.length?(s[0]=+D[0],s[1]=+D[1],x):[s[0],s[1]]},x.translateExtent=function(D){return arguments.length?(a[0][0]=+D[0][0],a[1][0]=+D[1][0],a[0][1]=+D[0][1],a[1][1]=+D[1][1],x):[[a[0][0],a[0][1]],[a[1][0],a[1][1]]]},x.constrain=function(D){return arguments.length?(t=D,x):t},x.duration=function(D){return arguments.length?(l=+D,x):l},x.interpolate=function(D){return arguments.length?(u=D,x):u},x.on=function(){var D=d.on.apply(d,arguments);return D===d?x:D},x.clickDistance=function(D){return arguments.length?(w=(D=+D)*D,x):Math.sqrt(w)},x.tapDistance=function(D){return arguments.length?(C=+D,x):C},x}const Ss={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:n=>`Node type "${n}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:n=>`The old edge with id=${n} does not exist.`,error009:n=>`Marker type "${n}" doesn't exist.`,error008:(n,{id:e,sourceHandle:t,targetHandle:r})=>`Couldn't create edge for ${n} handle id: "${n==="source"?t:r}", edge id: ${e}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:n=>`Edge type "${n}" not found. Using fallback type "default".`,error012:n=>`Node with id "${n}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`,error013:(n="react")=>`It seems that you haven't loaded the styles. Please import '@xyflow/${n}/dist/style.css' or base.css to make sure everything is working properly.`,error014:()=>"useNodeConnections: No node ID found. Call useNodeConnections inside a custom Node or provide a node ID.",error015:()=>"It seems that you are trying to drag a node that is not initialized. Please use onNodesChange as explained in the docs."},bf=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],ZT=["Enter"," ","Escape"];var _d;(function(n){n.Strict="strict",n.Loose="loose"})(_d||(_d={}));var pc;(function(n){n.Free="free",n.Vertical="vertical",n.Horizontal="horizontal"})(pc||(pc={}));var wf;(function(n){n.Partial="partial",n.Full="full"})(wf||(wf={}));const JT={inProgress:!1,isValid:null,from:null,fromHandle:null,fromPosition:null,fromNode:null,to:null,toHandle:null,toPosition:null,toNode:null};var ca;(function(n){n.Bezier="default",n.Straight="straight",n.Step="step",n.SmoothStep="smoothstep",n.SimpleBezier="simplebezier"})(ca||(ca={}));var Ad;(function(n){n.Arrow="arrow",n.ArrowClosed="arrowclosed"})(Ad||(Ad={}));var Ie;(function(n){n.Left="left",n.Top="top",n.Right="right",n.Bottom="bottom"})(Ie||(Ie={}));const CA={[Ie.Left]:Ie.Right,[Ie.Right]:Ie.Left,[Ie.Top]:Ie.Bottom,[Ie.Bottom]:Ie.Top};function eP(n){return n===null?null:n?"valid":"invalid"}const tP=n=>"id"in n&&"source"in n&&"target"in n,Uz=n=>"id"in n&&"position"in n&&!("source"in n)&&!("target"in n),k1=n=>"id"in n&&"internals"in n&&!("source"in n)&&!("target"in n),pg=(n,e=[0,0])=>{const{width:t,height:r}=Ro(n),i=n.origin??e,s=t*i[0],a=r*i[1];return{x:n.position.x-s,y:n.position.y-a}},Vz=(n,e={nodeOrigin:[0,0],nodeLookup:void 0})=>{if(n.length===0)return{x:0,y:0,width:0,height:0};const t=n.reduce((r,i)=>{const s=typeof i=="string";let a=!e.nodeLookup&&!s?i:void 0;e.nodeLookup&&(a=s?e.nodeLookup.get(i):k1(i)?i:e.nodeLookup.get(i.id));const l=a?o0(a,e.nodeOrigin):{x:0,y:0,x2:0,y2:0};return K0(r,l)},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return Q0(t)},gg=(n,e={})=>{if(n.size===0)return{x:0,y:0,width:0,height:0};let t={x:1/0,y:1/0,x2:-1/0,y2:-1/0};return n.forEach(r=>{if(e.filter===void 0||e.filter(r)){const i=o0(r);t=K0(t,i)}}),Q0(t)},nP=(n,e,[t,r,i]=[0,0,1],s=!1,a=!1)=>{const l={...mg(e,[t,r,i]),width:e.width/i,height:e.height/i},u=[];for(const d of n.values()){const{measured:h,selectable:p=!0,hidden:g=!1}=d;if(a&&!p||g)continue;const y=h.width??d.width??d.initialWidth??null,b=h.height??d.height??d.initialHeight??null,w=xf(l,Rd(d)),C=(y??0)*(b??0),x=s&&w>0;(!d.internals.handleBounds||x||w>=C||d.dragging)&&u.push(d)}return u},Gz=(n,e)=>{const t=new Set;return n.forEach(r=>{t.add(r.id)}),e.filter(r=>t.has(r.source)||t.has(r.target))};function kx(n,e){const t=new Map,r=e!=null&&e.nodes?new Set(e.nodes.map(i=>i.id)):null;return n.forEach(i=>{i.measured.width&&i.measured.height&&((e==null?void 0:e.includeHiddenNodes)||!i.hidden)&&(!r||r.has(i.id))&&t.set(i.id,i)}),t}async function Rx({nodes:n,width:e,height:t,panZoom:r,minZoom:i,maxZoom:s},a){if(n.size===0)return Promise.resolve(!1);const l=gg(n),u=R1(l,e,t,(a==null?void 0:a.minZoom)??i,(a==null?void 0:a.maxZoom)??s,(a==null?void 0:a.padding)??.1);return await r.setViewport(u,{duration:a==null?void 0:a.duration}),Promise.resolve(!0)}function rP({nodeId:n,nextPosition:e,nodeLookup:t,nodeOrigin:r=[0,0],nodeExtent:i,onError:s}){const a=t.get(n),l=a.parentId?t.get(a.parentId):void 0,{x:u,y:d}=l?l.internals.positionAbsolute:{x:0,y:0},h=a.origin??r;let p=i;if(a.extent==="parent"&&!a.expandParent)if(!l)s==null||s("005",Ss.error005());else{const y=l.measured.width,b=l.measured.height;y&&b&&(p=[[u,d],[u+y,d+b]])}else l&&Td(a.extent)&&(p=[[a.extent[0][0]+u,a.extent[0][1]+d],[a.extent[1][0]+u,a.extent[1][1]+d]]);const g=Td(p)?mc(e,p,a.measured):e;return(a.measured.width===void 0||a.measured.height===void 0)&&(s==null||s("015",Ss.error015())),{position:{x:g.x-u+(a.measured.width??0)*h[0],y:g.y-d+(a.measured.height??0)*h[1]},positionAbsolute:g}}async function Xz({nodesToRemove:n=[],edgesToRemove:e=[],nodes:t,edges:r,onBeforeDelete:i}){const s=new Set(n.map(g=>g.id)),a=[];for(const g of t){if(g.deletable===!1)continue;const y=s.has(g.id),b=!y&&g.parentId&&a.find(w=>w.id===g.parentId);(y||b)&&a.push(g)}const l=new Set(e.map(g=>g.id)),u=r.filter(g=>g.deletable!==!1),h=Gz(a,u);for(const g of u)l.has(g.id)&&!h.find(b=>b.id===g.id)&&h.push(g);if(!i)return{edges:h,nodes:a};const p=await i({nodes:a,edges:h});return typeof p=="boolean"?p?{edges:h,nodes:a}:{edges:[],nodes:[]}:p}const kd=(n,e=0,t=1)=>Math.min(Math.max(n,e),t),mc=(n={x:0,y:0},e,t)=>({x:kd(n.x,e[0][0],e[1][0]-((t==null?void 0:t.width)??0)),y:kd(n.y,e[0][1],e[1][1]-((t==null?void 0:t.height)??0))});function iP(n,e,t){const{width:r,height:i}=Ro(t),{x:s,y:a}=t.internals.positionAbsolute;return mc(n,[[s,a],[s+r,a+i]],e)}const _A=(n,e,t)=>n<e?kd(Math.abs(n-e),1,e)/e:n>t?-kd(Math.abs(n-t),1,e)/e:0,sP=(n,e,t=15,r=40)=>{const i=_A(n.x,r,e.width-r)*t,s=_A(n.y,r,e.height-r)*t;return[i,s]},K0=(n,e)=>({x:Math.min(n.x,e.x),y:Math.min(n.y,e.y),x2:Math.max(n.x2,e.x2),y2:Math.max(n.y2,e.y2)}),Tx=({x:n,y:e,width:t,height:r})=>({x:n,y:e,x2:n+t,y2:e+r}),Q0=({x:n,y:e,x2:t,y2:r})=>({x:n,y:e,width:t-n,height:r-e}),Rd=(n,e=[0,0])=>{var i,s;const{x:t,y:r}=k1(n)?n.internals.positionAbsolute:pg(n,e);return{x:t,y:r,width:((i=n.measured)==null?void 0:i.width)??n.width??n.initialWidth??0,height:((s=n.measured)==null?void 0:s.height)??n.height??n.initialHeight??0}},o0=(n,e=[0,0])=>{var i,s;const{x:t,y:r}=k1(n)?n.internals.positionAbsolute:pg(n,e);return{x:t,y:r,x2:t+(((i=n.measured)==null?void 0:i.width)??n.width??n.initialWidth??0),y2:r+(((s=n.measured)==null?void 0:s.height)??n.height??n.initialHeight??0)}},oP=(n,e)=>Q0(K0(Tx(n),Tx(e))),xf=(n,e)=>{const t=Math.max(0,Math.min(n.x+n.width,e.x+e.width)-Math.max(n.x,e.x)),r=Math.max(0,Math.min(n.y+n.height,e.y+e.height)-Math.max(n.y,e.y));return Math.ceil(t*r)},AA=n=>Di(n.width)&&Di(n.height)&&Di(n.x)&&Di(n.y),Di=n=>!isNaN(n)&&isFinite(n),Yz=(n,e)=>{},Z0=(n,e=[1,1])=>({x:e[0]*Math.round(n.x/e[0]),y:e[1]*Math.round(n.y/e[1])}),mg=({x:n,y:e},[t,r,i],s=!1,a=[1,1])=>{const l={x:(n-t)/i,y:(e-r)/i};return s?Z0(l,a):l},aP=({x:n,y:e},[t,r,i])=>({x:n*i+t,y:e*i+r}),R1=(n,e,t,r,i,s)=>{const a=e/(n.width*(1+s)),l=t/(n.height*(1+s)),u=Math.min(a,l),d=kd(u,r,i),h=n.x+n.width/2,p=n.y+n.height/2,g=e/2-h*d,y=t/2-p*d;return{x:g,y,zoom:d}},a0=()=>{var n;return typeof navigator<"u"&&((n=navigator==null?void 0:navigator.userAgent)==null?void 0:n.indexOf("Mac"))>=0};function Td(n){return n!==void 0&&n!=="parent"}function Ro(n){var e,t;return{width:((e=n.measured)==null?void 0:e.width)??n.width??n.initialWidth??0,height:((t=n.measured)==null?void 0:t.height)??n.height??n.initialHeight??0}}function lP(n){var e,t;return(((e=n.measured)==null?void 0:e.width)??n.width??n.initialWidth)!==void 0&&(((t=n.measured)==null?void 0:t.height)??n.height??n.initialHeight)!==void 0}function cP(n,e={width:0,height:0},t,r,i){const s={...n},a=r.get(t);if(a){const l=a.origin||i;s.x+=a.internals.positionAbsolute.x-(e.width??0)*l[0],s.y+=a.internals.positionAbsolute.y-(e.height??0)*l[1]}return s}function kA(n,e){if(n.size!==e.size)return!1;for(const t of n)if(!e.has(t))return!1;return!0}function rf(n,{snapGrid:e=[0,0],snapToGrid:t=!1,transform:r,containerBounds:i}){const{x:s,y:a}=yo(n),l=mg({x:s-((i==null?void 0:i.left)??0),y:a-((i==null?void 0:i.top)??0)},r),{x:u,y:d}=t?Z0(l,e):l;return{xSnapped:u,ySnapped:d,...l}}const J0=n=>({width:n.offsetWidth,height:n.offsetHeight}),uP=n=>{var e;return((e=n==null?void 0:n.getRootNode)==null?void 0:e.call(n))||(window==null?void 0:window.document)},qz=["INPUT","SELECT","TEXTAREA"];function Px(n){var r,i;const e=((i=(r=n.composedPath)==null?void 0:r.call(n))==null?void 0:i[0])||n.target;return(e==null?void 0:e.nodeType)!==1?!1:qz.includes(e.nodeName)||e.hasAttribute("contenteditable")||!!e.closest(".nokey")}const dP=n=>"clientX"in n,yo=(n,e)=>{var s,a;const t=dP(n),r=t?n.clientX:(s=n.touches)==null?void 0:s[0].clientX,i=t?n.clientY:(a=n.touches)==null?void 0:a[0].clientY;return{x:r-((e==null?void 0:e.left)??0),y:i-((e==null?void 0:e.top)??0)}},RA=(n,e,t,r,i)=>{const s=e.querySelectorAll(`.${n}`);return!s||!s.length?null:Array.from(s).map(a=>{const l=a.getBoundingClientRect();return{id:a.getAttribute("data-handleid"),type:n,nodeId:i,position:a.getAttribute("data-handlepos"),x:(l.left-t.left)/r,y:(l.top-t.top)/r,...J0(a)}})};function hP({sourceX:n,sourceY:e,targetX:t,targetY:r,sourceControlX:i,sourceControlY:s,targetControlX:a,targetControlY:l}){const u=n*.125+i*.375+a*.375+t*.125,d=e*.125+s*.375+l*.375+r*.125,h=Math.abs(u-n),p=Math.abs(d-e);return[u,d,h,p]}function Jm(n,e){return n>=0?.5*n:e*25*Math.sqrt(-n)}function TA({pos:n,x1:e,y1:t,x2:r,y2:i,c:s}){switch(n){case Ie.Left:return[e-Jm(e-r,s),t];case Ie.Right:return[e+Jm(r-e,s),t];case Ie.Top:return[e,t-Jm(t-i,s)];case Ie.Bottom:return[e,t+Jm(i-t,s)]}}function ev({sourceX:n,sourceY:e,sourcePosition:t=Ie.Bottom,targetX:r,targetY:i,targetPosition:s=Ie.Top,curvature:a=.25}){const[l,u]=TA({pos:t,x1:n,y1:e,x2:r,y2:i,c:a}),[d,h]=TA({pos:s,x1:r,y1:i,x2:n,y2:e,c:a}),[p,g,y,b]=hP({sourceX:n,sourceY:e,targetX:r,targetY:i,sourceControlX:l,sourceControlY:u,targetControlX:d,targetControlY:h});return[`M${n},${e} C${l},${u} ${d},${h} ${r},${i}`,p,g,y,b]}function fP({sourceX:n,sourceY:e,targetX:t,targetY:r}){const i=Math.abs(t-n)/2,s=t<n?t+i:t-i,a=Math.abs(r-e)/2,l=r<e?r+a:r-a;return[s,l,i,a]}function Kz({sourceNode:n,targetNode:e,selected:t=!1,zIndex:r=0,elevateOnSelect:i=!1}){if(!i)return r;const s=t||e.selected||n.selected,a=Math.max(n.internals.z||0,e.internals.z||0,1e3);return r+(s?a:0)}function Qz({sourceNode:n,targetNode:e,width:t,height:r,transform:i}){const s=K0(o0(n),o0(e));s.x===s.x2&&(s.x2+=1),s.y===s.y2&&(s.y2+=1);const a={x:-i[0]/i[2],y:-i[1]/i[2],width:t/i[2],height:r/i[2]};return xf(a,Q0(s))>0}const Zz=({source:n,sourceHandle:e,target:t,targetHandle:r})=>`xy-edge__${n}${e||""}-${t}${r||""}`,Jz=(n,e)=>e.some(t=>t.source===n.source&&t.target===n.target&&(t.sourceHandle===n.sourceHandle||!t.sourceHandle&&!n.sourceHandle)&&(t.targetHandle===n.targetHandle||!t.targetHandle&&!n.targetHandle)),pP=(n,e)=>{if(!n.source||!n.target)return e;let t;return tP(n)?t={...n}:t={...n,id:Zz(n)},Jz(t,e)?e:(t.sourceHandle===null&&delete t.sourceHandle,t.targetHandle===null&&delete t.targetHandle,e.concat(t))};function gP({sourceX:n,sourceY:e,targetX:t,targetY:r}){const[i,s,a,l]=fP({sourceX:n,sourceY:e,targetX:t,targetY:r});return[`M ${n},${e}L ${t},${r}`,i,s,a,l]}const PA={[Ie.Left]:{x:-1,y:0},[Ie.Right]:{x:1,y:0},[Ie.Top]:{x:0,y:-1},[Ie.Bottom]:{x:0,y:1}},e$=({source:n,sourcePosition:e=Ie.Bottom,target:t})=>e===Ie.Left||e===Ie.Right?n.x<t.x?{x:1,y:0}:{x:-1,y:0}:n.y<t.y?{x:0,y:1}:{x:0,y:-1},MA=(n,e)=>Math.sqrt(Math.pow(e.x-n.x,2)+Math.pow(e.y-n.y,2));function t$({source:n,sourcePosition:e=Ie.Bottom,target:t,targetPosition:r=Ie.Top,center:i,offset:s}){const a=PA[e],l=PA[r],u={x:n.x+a.x*s,y:n.y+a.y*s},d={x:t.x+l.x*s,y:t.y+l.y*s},h=e$({source:u,sourcePosition:e,target:d}),p=h.x!==0?"x":"y",g=h[p];let y=[],b,w;const C={x:0,y:0},x={x:0,y:0},[A,E,_,k]=fP({sourceX:n.x,sourceY:n.y,targetX:t.x,targetY:t.y});if(a[p]*l[p]===-1){b=i.x??A,w=i.y??E;const T=[{x:b,y:u.y},{x:b,y:d.y}],N=[{x:u.x,y:w},{x:d.x,y:w}];a[p]===g?y=p==="x"?T:N:y=p==="x"?N:T}else{const T=[{x:u.x,y:d.y}],N=[{x:d.x,y:u.y}];if(p==="x"?y=a.x===g?N:T:y=a.y===g?T:N,e===r){const Y=Math.abs(n[p]-t[p]);if(Y<=s){const D=Math.min(s-1,s-Y);a[p]===g?C[p]=(u[p]>n[p]?-1:1)*D:x[p]=(d[p]>t[p]?-1:1)*D}}if(e!==r){const Y=p==="x"?"y":"x",D=a[p]===l[Y],G=u[Y]>d[Y],j=u[Y]<d[Y];(a[p]===1&&(!D&&G||D&&j)||a[p]!==1&&(!D&&j||D&&G))&&(y=p==="x"?T:N)}const W={x:u.x+C.x,y:u.y+C.y},P={x:d.x+x.x,y:d.y+x.y},V=Math.max(Math.abs(W.x-y[0].x),Math.abs(P.x-y[0].x)),X=Math.max(Math.abs(W.y-y[0].y),Math.abs(P.y-y[0].y));V>=X?(b=(W.x+P.x)/2,w=y[0].y):(b=y[0].x,w=(W.y+P.y)/2)}return[[n,{x:u.x+C.x,y:u.y+C.y},...y,{x:d.x+x.x,y:d.y+x.y},t],b,w,_,k]}function n$(n,e,t,r){const i=Math.min(MA(n,e)/2,MA(e,t)/2,r),{x:s,y:a}=e;if(n.x===s&&s===t.x||n.y===a&&a===t.y)return`L${s} ${a}`;if(n.y===a){const d=n.x<t.x?-1:1,h=n.y<t.y?1:-1;return`L ${s+i*d},${a}Q ${s},${a} ${s},${a+i*h}`}const l=n.x<t.x?1:-1,u=n.y<t.y?-1:1;return`L ${s},${a+i*u}Q ${s},${a} ${s+i*l},${a}`}function Mx({sourceX:n,sourceY:e,sourcePosition:t=Ie.Bottom,targetX:r,targetY:i,targetPosition:s=Ie.Top,borderRadius:a=5,centerX:l,centerY:u,offset:d=20}){const[h,p,g,y,b]=t$({source:{x:n,y:e},sourcePosition:t,target:{x:r,y:i},targetPosition:s,center:{x:l,y:u},offset:d});return[h.reduce((C,x,A)=>{let E="";return A>0&&A<h.length-1?E=n$(h[A-1],x,h[A+1],a):E=`${A===0?"M":"L"}${x.x} ${x.y}`,C+=E,C},""),p,g,y,b]}function IA(n){var e;return n&&!!(n.internals.handleBounds||(e=n.handles)!=null&&e.length)&&!!(n.measured.width||n.width||n.initialWidth)}function r$(n){var p;const{sourceNode:e,targetNode:t}=n;if(!IA(e)||!IA(t))return null;const r=e.internals.handleBounds||NA(e.handles),i=t.internals.handleBounds||NA(t.handles),s=LA((r==null?void 0:r.source)??[],n.sourceHandle),a=LA(n.connectionMode===_d.Strict?(i==null?void 0:i.target)??[]:((i==null?void 0:i.target)??[]).concat((i==null?void 0:i.source)??[]),n.targetHandle);if(!s||!a)return(p=n.onError)==null||p.call(n,"008",Ss.error008(s?"target":"source",{id:n.id,sourceHandle:n.sourceHandle,targetHandle:n.targetHandle})),null;const l=(s==null?void 0:s.position)||Ie.Bottom,u=(a==null?void 0:a.position)||Ie.Top,d=Sf(e,s,l),h=Sf(t,a,u);return{sourceX:d.x,sourceY:d.y,targetX:h.x,targetY:h.y,sourcePosition:l,targetPosition:u}}function NA(n){if(!n)return null;const e=[],t=[];for(const r of n)r.width=r.width??1,r.height=r.height??1,r.type==="source"?e.push(r):r.type==="target"&&t.push(r);return{source:e,target:t}}function Sf(n,e,t=Ie.Left,r=!1){const i=((e==null?void 0:e.x)??0)+n.internals.positionAbsolute.x,s=((e==null?void 0:e.y)??0)+n.internals.positionAbsolute.y,{width:a,height:l}=e??Ro(n);if(r)return{x:i+a/2,y:s+l/2};switch((e==null?void 0:e.position)??t){case Ie.Top:return{x:i+a/2,y:s};case Ie.Right:return{x:i+a,y:s+l/2};case Ie.Bottom:return{x:i+a/2,y:s+l};case Ie.Left:return{x:i,y:s+l/2}}}function LA(n,e){return n&&(e?n.find(t=>t.id===e):n[0])||null}function Ix(n,e){return n?typeof n=="string"?n:`${e?`${e}__`:""}${Object.keys(n).sort().map(r=>`${r}=${n[r]}`).join("&")}`:""}function i$(n,{id:e,defaultColor:t,defaultMarkerStart:r,defaultMarkerEnd:i}){const s=new Set;return n.reduce((a,l)=>([l.markerStart||r,l.markerEnd||i].forEach(u=>{if(u&&typeof u=="object"){const d=Ix(u,e);s.has(d)||(a.push({id:d,color:u.color||t,...u}),s.add(d))}}),a),[]).sort((a,l)=>a.id.localeCompare(l.id))}const T1={nodeOrigin:[0,0],nodeExtent:bf,elevateNodesOnSelect:!0,defaults:{}},s$={...T1,checkEquality:!0};function P1(n,e){const t={...n};for(const r in e)e[r]!==void 0&&(t[r]=e[r]);return t}function o$(n,e,t){const r=P1(T1,t);for(const i of n.values())if(i.parentId)M1(i,n,e,r);else{const s=pg(i,r.nodeOrigin),a=Td(i.extent)?i.extent:r.nodeExtent,l=mc(s,a,Ro(i));i.internals.positionAbsolute=l}}function Nx(n,e,t,r){var l,u;const i=P1(s$,r),s=new Map(e),a=i!=null&&i.elevateNodesOnSelect?1e3:0;e.clear(),t.clear();for(const d of n){let h=s.get(d.id);if(i.checkEquality&&d===(h==null?void 0:h.internals.userNode))e.set(d.id,h);else{const p=pg(d,i.nodeOrigin),g=Td(d.extent)?d.extent:i.nodeExtent,y=mc(p,g,Ro(d));h={...i.defaults,...d,measured:{width:(l=d.measured)==null?void 0:l.width,height:(u=d.measured)==null?void 0:u.height},internals:{positionAbsolute:y,handleBounds:d.measured?h==null?void 0:h.internals.handleBounds:void 0,z:mP(d,a),userNode:d}},e.set(d.id,h)}d.parentId&&M1(h,e,t,r)}}function a$(n,e){if(!n.parentId)return;const t=e.get(n.parentId);t?t.set(n.id,n):e.set(n.parentId,new Map([[n.id,n]]))}function M1(n,e,t,r){const{elevateNodesOnSelect:i,nodeOrigin:s,nodeExtent:a}=P1(T1,r),l=n.parentId,u=e.get(l);if(!u){console.warn(`Parent node ${l} not found. Please make sure that parent nodes are in front of their child nodes in the nodes array.`);return}a$(n,t);const d=i?1e3:0,{x:h,y:p,z:g}=l$(n,u,s,a,d),{positionAbsolute:y}=n.internals,b=h!==y.x||p!==y.y;(b||g!==n.internals.z)&&e.set(n.id,{...n,internals:{...n.internals,positionAbsolute:b?{x:h,y:p}:y,z:g}})}function mP(n,e){return(Di(n.zIndex)?n.zIndex:0)+(n.selected?e:0)}function l$(n,e,t,r,i){const{x:s,y:a}=e.internals.positionAbsolute,l=Ro(n),u=pg(n,t),d=Td(n.extent)?mc(u,n.extent,l):u;let h=mc({x:s+d.x,y:a+d.y},r,l);n.extent==="parent"&&(h=iP(h,l,e));const p=mP(n,i),g=e.internals.z??0;return{x:h.x,y:h.y,z:g>p?g:p}}function I1(n,e,t,r=[0,0]){var a;const i=[],s=new Map;for(const l of n){const u=e.get(l.parentId);if(!u)continue;const d=((a=s.get(l.parentId))==null?void 0:a.expandedRect)??Rd(u),h=oP(d,l.rect);s.set(l.parentId,{expandedRect:h,parent:u})}return s.size>0&&s.forEach(({expandedRect:l,parent:u},d)=>{var E;const h=u.internals.positionAbsolute,p=Ro(u),g=u.origin??r,y=l.x<h.x?Math.round(Math.abs(h.x-l.x)):0,b=l.y<h.y?Math.round(Math.abs(h.y-l.y)):0,w=Math.max(p.width,Math.round(l.width)),C=Math.max(p.height,Math.round(l.height)),x=(w-p.width)*g[0],A=(C-p.height)*g[1];(y>0||b>0||x||A)&&(i.push({id:d,type:"position",position:{x:u.position.x-y+x,y:u.position.y-b+A}}),(E=t.get(d))==null||E.forEach(_=>{n.some(k=>k.id===_.id)||i.push({id:_.id,type:"position",position:{x:_.position.x+y,y:_.position.y+b}})})),(p.width<l.width||p.height<l.height||y||b)&&i.push({id:d,type:"dimensions",setAttributes:!0,dimensions:{width:w+(y?g[0]*y-x:0),height:C+(b?g[1]*b-A:0)}})}),i}function c$(n,e,t,r,i,s){const a=r==null?void 0:r.querySelector(".xyflow__viewport");let l=!1;if(!a)return{changes:[],updatedInternals:l};const u=[],d=window.getComputedStyle(a),{m22:h}=new window.DOMMatrixReadOnly(d.transform),p=[];for(const g of n.values()){const y=e.get(g.id);if(!y)continue;if(y.hidden){e.set(y.id,{...y,internals:{...y.internals,handleBounds:void 0}}),l=!0;continue}const b=J0(g.nodeElement),w=y.measured.width!==b.width||y.measured.height!==b.height;if(!!(b.width&&b.height&&(w||!y.internals.handleBounds||g.force))){const x=g.nodeElement.getBoundingClientRect(),A=Td(y.extent)?y.extent:s;let{positionAbsolute:E}=y.internals;y.parentId&&y.extent==="parent"?E=iP(E,b,e.get(y.parentId)):A&&(E=mc(E,A,b));const _={...y,measured:b,internals:{...y.internals,positionAbsolute:E,handleBounds:{source:RA("source",g.nodeElement,x,h,y.id),target:RA("target",g.nodeElement,x,h,y.id)}}};e.set(y.id,_),y.parentId&&M1(_,e,t,{nodeOrigin:i}),l=!0,w&&(u.push({id:y.id,type:"dimensions",dimensions:b}),y.expandParent&&y.parentId&&p.push({id:y.id,parentId:y.parentId,rect:Rd(_,i)}))}}if(p.length>0){const g=I1(p,e,t,i);u.push(...g)}return{changes:u,updatedInternals:l}}async function u$({delta:n,panZoom:e,transform:t,translateExtent:r,width:i,height:s}){if(!e||!n.x&&!n.y)return Promise.resolve(!1);const a=await e.setViewportConstrained({x:t[0]+n.x,y:t[1]+n.y,zoom:t[2]},[[0,0],[i,s]],r),l=!!a&&(a.x!==t[0]||a.y!==t[1]||a.k!==t[2]);return Promise.resolve(l)}function DA(n,e,t,r,i,s){let a=i;const l=r.get(a)||new Map;r.set(a,l.set(t,e)),a=`${i}-${n}`;const u=r.get(a)||new Map;if(r.set(a,u.set(t,e)),s){a=`${i}-${n}-${s}`;const d=r.get(a)||new Map;r.set(a,d.set(t,e))}}function yP(n,e,t){n.clear(),e.clear();for(const r of t){const{source:i,target:s,sourceHandle:a=null,targetHandle:l=null}=r,u={edgeId:r.id,source:i,target:s,sourceHandle:a,targetHandle:l},d=`${i}-${a}--${s}-${l}`,h=`${s}-${l}--${i}-${a}`;DA("source",u,h,n,i,a),DA("target",u,d,n,s,l),e.set(r.id,r)}}function vP(n,e){if(!n.parentId)return!1;const t=e.get(n.parentId);return t?t.selected?!0:vP(t,e):!1}function OA(n,e,t){var i;let r=n;do{if((i=r==null?void 0:r.matches)!=null&&i.call(r,e))return!0;if(r===t)return!1;r=r==null?void 0:r.parentElement}while(r);return!1}function d$(n,e,t,r){const i=new Map;for(const[s,a]of n)if((a.selected||a.id===r)&&(!a.parentId||!vP(a,n))&&(a.draggable||e&&typeof a.draggable>"u")){const l=n.get(s);l&&i.set(s,{id:s,position:l.position||{x:0,y:0},distance:{x:t.x-l.internals.positionAbsolute.x,y:t.y-l.internals.positionAbsolute.y},extent:l.extent,parentId:l.parentId,origin:l.origin,expandParent:l.expandParent,internals:{positionAbsolute:l.internals.positionAbsolute||{x:0,y:0}},measured:{width:l.measured.width??0,height:l.measured.height??0}})}return i}function Ow({nodeId:n,dragItems:e,nodeLookup:t,dragging:r=!0}){var a,l,u;const i=[];for(const[d,h]of e){const p=(a=t.get(d))==null?void 0:a.internals.userNode;p&&i.push({...p,position:h.position,dragging:r})}if(!n)return[i[0],i];const s=(l=t.get(n))==null?void 0:l.internals.userNode;return[s?{...s,position:((u=e.get(n))==null?void 0:u.position)||s.position,dragging:r}:i[0],i]}function h$({onNodeMouseDown:n,getStoreItems:e,onDragStart:t,onDrag:r,onDragStop:i}){let s={x:null,y:null},a=0,l=new Map,u=!1,d={x:0,y:0},h=null,p=!1,g=null,y=!1;function b({noDragClassName:C,handleSelector:x,domNode:A,isSelectable:E,nodeId:_,nodeClickDistance:k=0}){g=Wr(A);function M({x:P,y:V},X){const{nodeLookup:Y,nodeExtent:D,snapGrid:G,snapToGrid:j,nodeOrigin:q,onNodeDrag:$,onSelectionDrag:B,onError:K,updateNodePositions:U}=e();s={x:P,y:V};let Z=!1,re={x:0,y:0,x2:0,y2:0};if(l.size>1&&D){const le=gg(l);re=Tx(le)}for(const[le,se]of l){if(!Y.has(le))continue;let ce={x:P-se.distance.x,y:V-se.distance.y};j&&(ce=Z0(ce,G));let ee=[[D[0][0],D[0][1]],[D[1][0],D[1][1]]];if(l.size>1&&D&&!se.extent){const{positionAbsolute:pe}=se.internals,me=pe.x-re.x+D[0][0],ge=pe.x+se.measured.width-re.x2+D[1][0],Re=pe.y-re.y+D[0][1],be=pe.y+se.measured.height-re.y2+D[1][1];ee=[[me,Re],[ge,be]]}const{position:oe,positionAbsolute:de}=rP({nodeId:le,nextPosition:ce,nodeLookup:Y,nodeExtent:ee,nodeOrigin:q,onError:K});Z=Z||se.position.x!==oe.x||se.position.y!==oe.y,se.position=oe,se.internals.positionAbsolute=de}if(Z&&(U(l,!0),X&&(r||$||!_&&B))){const[le,se]=Ow({nodeId:_,dragItems:l,nodeLookup:Y});r==null||r(X,l,le,se),$==null||$(X,le,se),_||B==null||B(X,se)}}async function T(){if(!h)return;const{transform:P,panBy:V,autoPanSpeed:X,autoPanOnNodeDrag:Y}=e();if(!Y){u=!1,cancelAnimationFrame(a);return}const[D,G]=sP(d,h,X);(D!==0||G!==0)&&(s.x=(s.x??0)-D/P[2],s.y=(s.y??0)-G/P[2],await V({x:D,y:G})&&M(s,null)),a=requestAnimationFrame(T)}function N(P){var Z;const{nodeLookup:V,multiSelectionActive:X,nodesDraggable:Y,transform:D,snapGrid:G,snapToGrid:j,selectNodesOnDrag:q,onNodeDragStart:$,onSelectionDragStart:B,unselectNodesAndEdges:K}=e();p=!0,(!q||!E)&&!X&&_&&((Z=V.get(_))!=null&&Z.selected||K()),E&&q&&_&&(n==null||n(_));const U=rf(P.sourceEvent,{transform:D,snapGrid:G,snapToGrid:j,containerBounds:h});if(s=U,l=d$(V,Y,U,_),l.size>0&&(t||$||!_&&B)){const[re,le]=Ow({nodeId:_,dragItems:l,nodeLookup:V});t==null||t(P.sourceEvent,l,re,le),$==null||$(P.sourceEvent,re,le),_||B==null||B(P.sourceEvent,le)}}const W=OT().clickDistance(k).on("start",P=>{const{domNode:V,nodeDragThreshold:X,transform:Y,snapGrid:D,snapToGrid:G}=e();h=(V==null?void 0:V.getBoundingClientRect())||null,y=!1,X===0&&N(P),s=rf(P.sourceEvent,{transform:Y,snapGrid:D,snapToGrid:G,containerBounds:h}),d=yo(P.sourceEvent,h)}).on("drag",P=>{const{autoPanOnNodeDrag:V,transform:X,snapGrid:Y,snapToGrid:D,nodeDragThreshold:G,nodeLookup:j}=e(),q=rf(P.sourceEvent,{transform:X,snapGrid:Y,snapToGrid:D,containerBounds:h});if((P.sourceEvent.type==="touchmove"&&P.sourceEvent.touches.length>1||_&&!j.has(_))&&(y=!0),!y){if(!u&&V&&p&&(u=!0,T()),!p){const $=q.xSnapped-(s.x??0),B=q.ySnapped-(s.y??0);Math.sqrt($*$+B*B)>G&&N(P)}(s.x!==q.xSnapped||s.y!==q.ySnapped)&&l&&p&&(d=yo(P.sourceEvent,h),M(q,P.sourceEvent))}}).on("end",P=>{if(!(!p||y)&&(u=!1,p=!1,cancelAnimationFrame(a),l.size>0)){const{nodeLookup:V,updateNodePositions:X,onNodeDragStop:Y,onSelectionDragStop:D}=e();if(X(l,!1),i||Y||!_&&D){const[G,j]=Ow({nodeId:_,dragItems:l,nodeLookup:V,dragging:!1});i==null||i(P.sourceEvent,l,G,j),Y==null||Y(P.sourceEvent,G,j),_||D==null||D(P.sourceEvent,j)}}}).filter(P=>{const V=P.target;return!P.button&&(!C||!OA(V,`.${C}`,A))&&(!x||OA(V,x,A))});g.call(W)}function w(){g==null||g.on(".drag",null)}return{update:b,destroy:w}}function f$(n,e,t){const r=[],i={x:n.x-t,y:n.y-t,width:t*2,height:t*2};for(const s of e.values())xf(i,Rd(s))>0&&r.push(s);return r}const p$=250;function g$(n,e,t,r){var l,u;let i=[],s=1/0;const a=f$(n,t,e+p$);for(const d of a){const h=[...((l=d.internals.handleBounds)==null?void 0:l.source)??[],...((u=d.internals.handleBounds)==null?void 0:u.target)??[]];for(const p of h){if(r.nodeId===p.nodeId&&r.type===p.type&&r.id===p.id)continue;const{x:g,y}=Sf(d,p,p.position,!0),b=Math.sqrt(Math.pow(g-n.x,2)+Math.pow(y-n.y,2));b>e||(b<s?(i=[{...p,x:g,y}],s=b):b===s&&i.push({...p,x:g,y}))}}if(!i.length)return null;if(i.length>1){const d=r.type==="source"?"target":"source";return i.find(h=>h.type===d)??i[0]}return i[0]}function bP(n,e,t,r,i,s=!1){var d,h,p;const a=r.get(n);if(!a)return null;const l=i==="strict"?(d=a.internals.handleBounds)==null?void 0:d[e]:[...((h=a.internals.handleBounds)==null?void 0:h.source)??[],...((p=a.internals.handleBounds)==null?void 0:p.target)??[]],u=(t?l==null?void 0:l.find(g=>g.id===t):l==null?void 0:l[0])??null;return u&&s?{...u,...Sf(a,u,u.position,!0)}:u}function wP(n,e){return n||(e!=null&&e.classList.contains("target")?"target":e!=null&&e.classList.contains("source")?"source":null)}function m$(n,e){let t=null;return e?t=!0:n&&!e&&(t=!1),t}const xP=()=>!0;function y$(n,{connectionMode:e,connectionRadius:t,handleId:r,nodeId:i,edgeUpdaterType:s,isTarget:a,domNode:l,nodeLookup:u,lib:d,autoPanOnConnect:h,flowId:p,panBy:g,cancelConnection:y,onConnectStart:b,onConnect:w,onConnectEnd:C,isValidConnection:x=xP,onReconnectEnd:A,updateConnection:E,getTransform:_,getFromHandle:k,autoPanSpeed:M}){const T=uP(n.target);let N=0,W;const{x:P,y:V}=yo(n),X=T==null?void 0:T.elementFromPoint(P,V),Y=wP(s,X),D=l==null?void 0:l.getBoundingClientRect();if(!D||!Y)return;const G=bP(i,Y,r,u,e);if(!G)return;let j=yo(n,D),q=!1,$=null,B=!1,K=null;function U(){if(!h||!D)return;const[de,pe]=sP(j,D,M);g({x:de,y:pe}),N=requestAnimationFrame(U)}const Z={...G,nodeId:i,type:Y,position:G.position},re=u.get(i),se={inProgress:!0,isValid:null,from:Sf(re,Z,Ie.Left,!0),fromHandle:Z,fromPosition:Z.position,fromNode:re,to:j,toHandle:null,toPosition:CA[Z.position],toNode:null};E(se);let ce=se;b==null||b(n,{nodeId:i,handleId:r,handleType:Y});function ee(de){if(!k()||!Z){oe(de);return}const pe=_();j=yo(de,D),W=g$(mg(j,pe,!1,[1,1]),t,u,Z),q||(U(),q=!0);const me=SP(de,{handle:W,connectionMode:e,fromNodeId:i,fromHandleId:r,fromType:a?"target":"source",isValidConnection:x,doc:T,lib:d,flowId:p,nodeLookup:u});K=me.handleDomNode,$=me.connection,B=m$(!!W,me.isValid);const ge={...ce,isValid:B,to:W&&B?aP({x:W.x,y:W.y},pe):j,toHandle:me.toHandle,toPosition:B&&me.toHandle?me.toHandle.position:CA[Z.position],toNode:me.toHandle?u.get(me.toHandle.nodeId):null};B&&W&&ce.toHandle&&ge.toHandle&&ce.toHandle.type===ge.toHandle.type&&ce.toHandle.nodeId===ge.toHandle.nodeId&&ce.toHandle.id===ge.toHandle.id&&ce.to.x===ge.to.x&&ce.to.y===ge.to.y||(E(ge),ce=ge)}function oe(de){(W||K)&&$&&B&&(w==null||w($));const{inProgress:pe,...me}=ce,ge={...me,toPosition:ce.toHandle?ce.toPosition:null};C==null||C(de,ge),s&&(A==null||A(de,ge)),y(),cancelAnimationFrame(N),q=!1,B=!1,$=null,K=null,T.removeEventListener("mousemove",ee),T.removeEventListener("mouseup",oe),T.removeEventListener("touchmove",ee),T.removeEventListener("touchend",oe)}T.addEventListener("mousemove",ee),T.addEventListener("mouseup",oe),T.addEventListener("touchmove",ee),T.addEventListener("touchend",oe)}function SP(n,{handle:e,connectionMode:t,fromNodeId:r,fromHandleId:i,fromType:s,doc:a,lib:l,flowId:u,isValidConnection:d=xP,nodeLookup:h}){const p=s==="target",g=e?a.querySelector(`.${l}-flow__handle[data-id="${u}-${e==null?void 0:e.nodeId}-${e==null?void 0:e.id}-${e==null?void 0:e.type}"]`):null,{x:y,y:b}=yo(n),w=a.elementFromPoint(y,b),C=w!=null&&w.classList.contains(`${l}-flow__handle`)?w:g,x={handleDomNode:C,isValid:!1,connection:null,toHandle:null};if(C){const A=wP(void 0,C),E=C.getAttribute("data-nodeid"),_=C.getAttribute("data-handleid"),k=C.classList.contains("connectable"),M=C.classList.contains("connectableend");if(!E||!A)return x;const T={source:p?E:r,sourceHandle:p?_:i,target:p?r:E,targetHandle:p?i:_};x.connection=T;const W=k&&M&&(t===_d.Strict?p&&A==="source"||!p&&A==="target":E!==r||_!==i);x.isValid=W&&d(T),x.toHandle=bP(E,A,_,h,t,!1)}return x}const Lx={onPointerDown:y$,isValid:SP};function v$({domNode:n,panZoom:e,getTransform:t,getViewScale:r}){const i=Wr(n);function s({translateExtent:l,width:u,height:d,zoomStep:h=10,pannable:p=!0,zoomable:g=!0,inversePan:y=!1}){const b=E=>{const _=t();if(E.sourceEvent.type!=="wheel"||!e)return;const k=-E.sourceEvent.deltaY*(E.sourceEvent.deltaMode===1?.05:E.sourceEvent.deltaMode?1:.002)*h,M=_[2]*Math.pow(2,k);e.scaleTo(M)};let w=[0,0];const C=E=>{(E.sourceEvent.type==="mousedown"||E.sourceEvent.type==="touchstart")&&(w=[E.sourceEvent.clientX??E.sourceEvent.touches[0].clientX,E.sourceEvent.clientY??E.sourceEvent.touches[0].clientY])},x=E=>{const _=t();if(E.sourceEvent.type!=="mousemove"&&E.sourceEvent.type!=="touchmove"||!e)return;const k=[E.sourceEvent.clientX??E.sourceEvent.touches[0].clientX,E.sourceEvent.clientY??E.sourceEvent.touches[0].clientY],M=[k[0]-w[0],k[1]-w[1]];w=k;const T=r()*Math.max(_[2],Math.log(_[2]))*(y?-1:1),N={x:_[0]-M[0]*T,y:_[1]-M[1]*T},W=[[0,0],[u,d]];e.setViewportConstrained({x:N.x,y:N.y,zoom:_[2]},W,l)},A=QT().on("start",C).on("zoom",p?x:null).on("zoom.wheel",g?b:null);i.call(A,{})}function a(){i.on("zoom",null)}return{update:s,destroy:a,pointer:Ni}}const b$=(n,e)=>n.x!==e.x||n.y!==e.y||n.zoom!==e.k,tv=n=>({x:n.x,y:n.y,zoom:n.k}),Fw=({x:n,y:e,zoom:t})=>q0.translate(n,e).scale(t),vu=(n,e)=>n.target.closest(`.${e}`),EP=(n,e)=>e===2&&Array.isArray(n)&&n.includes(2),zw=(n,e=0,t=()=>{})=>{const r=typeof e=="number"&&e>0;return r||t(),r?n.transition().duration(e).on("end",t):n},CP=n=>{const e=n.ctrlKey&&a0()?10:1;return-n.deltaY*(n.deltaMode===1?.05:n.deltaMode?1:.002)*e};function w$({zoomPanValues:n,noWheelClassName:e,d3Selection:t,d3Zoom:r,panOnScrollMode:i,panOnScrollSpeed:s,zoomOnPinch:a,onPanZoomStart:l,onPanZoom:u,onPanZoomEnd:d}){return h=>{if(vu(h,e))return!1;h.preventDefault(),h.stopImmediatePropagation();const p=t.property("__zoom").k||1;if(h.ctrlKey&&a){const C=Ni(h),x=CP(h),A=p*Math.pow(2,x);r.scaleTo(t,A,C,h);return}const g=h.deltaMode===1?20:1;let y=i===pc.Vertical?0:h.deltaX*g,b=i===pc.Horizontal?0:h.deltaY*g;!a0()&&h.shiftKey&&i!==pc.Vertical&&(y=h.deltaY*g,b=0),r.translateBy(t,-(y/p)*s,-(b/p)*s,{internal:!0});const w=tv(t.property("__zoom"));clearTimeout(n.panScrollTimeout),n.isPanScrolling||(n.isPanScrolling=!0,l==null||l(h,w)),n.isPanScrolling&&(u==null||u(h,w),n.panScrollTimeout=setTimeout(()=>{d==null||d(h,w),n.isPanScrolling=!1},150))}}function x$({noWheelClassName:n,preventScrolling:e,d3ZoomHandler:t}){return function(r,i){if(!e&&r.type==="wheel"&&!r.ctrlKey||vu(r,n))return null;r.preventDefault(),t.call(this,r,i)}}function S$({zoomPanValues:n,onDraggingChange:e,onPanZoomStart:t}){return r=>{var s,a,l;if((s=r.sourceEvent)!=null&&s.internal)return;const i=tv(r.transform);n.mouseButton=((a=r.sourceEvent)==null?void 0:a.button)||0,n.isZoomingOrPanning=!0,n.prevViewport=i,((l=r.sourceEvent)==null?void 0:l.type)==="mousedown"&&e(!0),t&&(t==null||t(r.sourceEvent,i))}}function E$({zoomPanValues:n,panOnDrag:e,onPaneContextMenu:t,onTransformChange:r,onPanZoom:i}){return s=>{var a,l;n.usedRightMouseButton=!!(t&&EP(e,n.mouseButton??0)),(a=s.sourceEvent)!=null&&a.sync||r([s.transform.x,s.transform.y,s.transform.k]),i&&!((l=s.sourceEvent)!=null&&l.internal)&&(i==null||i(s.sourceEvent,tv(s.transform)))}}function C$({zoomPanValues:n,panOnDrag:e,panOnScroll:t,onDraggingChange:r,onPanZoomEnd:i,onPaneContextMenu:s}){return a=>{var l;if(!((l=a.sourceEvent)!=null&&l.internal)&&(n.isZoomingOrPanning=!1,s&&EP(e,n.mouseButton??0)&&!n.usedRightMouseButton&&a.sourceEvent&&s(a.sourceEvent),n.usedRightMouseButton=!1,r(!1),i&&b$(n.prevViewport,a.transform))){const u=tv(a.transform);n.prevViewport=u,clearTimeout(n.timerId),n.timerId=setTimeout(()=>{i==null||i(a.sourceEvent,u)},t?150:0)}}}function _$({zoomActivationKeyPressed:n,zoomOnScroll:e,zoomOnPinch:t,panOnDrag:r,panOnScroll:i,zoomOnDoubleClick:s,userSelectionActive:a,noWheelClassName:l,noPanClassName:u,lib:d}){return h=>{var b;const p=n||e,g=t&&h.ctrlKey;if(h.button===1&&h.type==="mousedown"&&(vu(h,`${d}-flow__node`)||vu(h,`${d}-flow__edge`)))return!0;if(!r&&!p&&!i&&!s&&!t||a||vu(h,l)&&h.type==="wheel"||vu(h,u)&&(h.type!=="wheel"||i&&h.type==="wheel"&&!n)||!t&&h.ctrlKey&&h.type==="wheel")return!1;if(!t&&h.type==="touchstart"&&((b=h.touches)==null?void 0:b.length)>1)return h.preventDefault(),!1;if(!p&&!i&&!g&&h.type==="wheel"||!r&&(h.type==="mousedown"||h.type==="touchstart")||Array.isArray(r)&&!r.includes(h.button)&&h.type==="mousedown")return!1;const y=Array.isArray(r)&&r.includes(h.button)||!h.button||h.button<=1;return(!h.ctrlKey||h.type==="wheel")&&y}}function A$({domNode:n,minZoom:e,maxZoom:t,paneClickDistance:r,translateExtent:i,viewport:s,onPanZoom:a,onPanZoomStart:l,onPanZoomEnd:u,onDraggingChange:d}){const h={isZoomingOrPanning:!1,usedRightMouseButton:!1,prevViewport:{x:0,y:0,zoom:0},mouseButton:0,timerId:void 0,panScrollTimeout:void 0,isPanScrolling:!1},p=n.getBoundingClientRect(),g=QT().clickDistance(!Di(r)||r<0?0:r).scaleExtent([e,t]).translateExtent(i),y=Wr(n).call(g);E({x:s.x,y:s.y,zoom:kd(s.zoom,e,t)},[[0,0],[p.width,p.height]],i);const b=y.on("wheel.zoom"),w=y.on("dblclick.zoom");g.wheelDelta(CP);function C(X,Y){return y?new Promise(D=>{g==null||g.transform(zw(y,Y==null?void 0:Y.duration,()=>D(!0)),X)}):Promise.resolve(!1)}function x({noWheelClassName:X,noPanClassName:Y,onPaneContextMenu:D,userSelectionActive:G,panOnScroll:j,panOnDrag:q,panOnScrollMode:$,panOnScrollSpeed:B,preventScrolling:K,zoomOnPinch:U,zoomOnScroll:Z,zoomOnDoubleClick:re,zoomActivationKeyPressed:le,lib:se,onTransformChange:ce}){G&&!h.isZoomingOrPanning&&A();const oe=j&&!le&&!G?w$({zoomPanValues:h,noWheelClassName:X,d3Selection:y,d3Zoom:g,panOnScrollMode:$,panOnScrollSpeed:B,zoomOnPinch:U,onPanZoomStart:l,onPanZoom:a,onPanZoomEnd:u}):x$({noWheelClassName:X,preventScrolling:K,d3ZoomHandler:b});if(y.on("wheel.zoom",oe,{passive:!1}),!G){const pe=S$({zoomPanValues:h,onDraggingChange:d,onPanZoomStart:l});g.on("start",pe);const me=E$({zoomPanValues:h,panOnDrag:q,onPaneContextMenu:!!D,onPanZoom:a,onTransformChange:ce});g.on("zoom",me);const ge=C$({zoomPanValues:h,panOnDrag:q,panOnScroll:j,onPaneContextMenu:D,onPanZoomEnd:u,onDraggingChange:d});g.on("end",ge)}const de=_$({zoomActivationKeyPressed:le,panOnDrag:q,zoomOnScroll:Z,panOnScroll:j,zoomOnDoubleClick:re,zoomOnPinch:U,userSelectionActive:G,noPanClassName:Y,noWheelClassName:X,lib:se});g.filter(de),re?y.on("dblclick.zoom",w):y.on("dblclick.zoom",null)}function A(){g.on("zoom",null)}async function E(X,Y,D){const G=Fw(X),j=g==null?void 0:g.constrain()(G,Y,D);return j&&await C(j),new Promise(q=>q(j))}async function _(X,Y){const D=Fw(X);return await C(D,Y),new Promise(G=>G(D))}function k(X){if(y){const Y=Fw(X),D=y.property("__zoom");(D.k!==X.zoom||D.x!==X.x||D.y!==X.y)&&(g==null||g.transform(y,Y,null,{sync:!0}))}}function M(){const X=y?KT(y.node()):{x:0,y:0,k:1};return{x:X.x,y:X.y,zoom:X.k}}function T(X,Y){return y?new Promise(D=>{g==null||g.scaleTo(zw(y,Y==null?void 0:Y.duration,()=>D(!0)),X)}):Promise.resolve(!1)}function N(X,Y){return y?new Promise(D=>{g==null||g.scaleBy(zw(y,Y==null?void 0:Y.duration,()=>D(!0)),X)}):Promise.resolve(!1)}function W(X){g==null||g.scaleExtent(X)}function P(X){g==null||g.translateExtent(X)}function V(X){const Y=!Di(X)||X<0?0:X;g==null||g.clickDistance(Y)}return{update:x,destroy:A,setViewport:_,setViewportConstrained:E,getViewport:M,scaleTo:T,scaleBy:N,setScaleExtent:W,setTranslateExtent:P,syncViewport:k,setClickDistance:V}}var sf;(function(n){n.Line="line",n.Handle="handle"})(sf||(sf={}));function k$({width:n,prevWidth:e,height:t,prevHeight:r,affectsX:i,affectsY:s}){const a=n-e,l=t-r,u=[a>0?1:a<0?-1:0,l>0?1:l<0?-1:0];return a&&i&&(u[0]=u[0]*-1),l&&s&&(u[1]=u[1]*-1),u}function R$(n){const e=n.includes("right")||n.includes("left"),t=n.includes("bottom")||n.includes("top"),r=n.includes("left"),i=n.includes("top");return{isHorizontal:e,isVertical:t,affectsX:r,affectsY:i}}function Jo(n,e){return Math.max(0,e-n)}function ea(n,e){return Math.max(0,n-e)}function ey(n,e,t){return Math.max(0,e-n,n-t)}function FA(n,e){return n?!e:e}function T$(n,e,t,r,i,s,a,l){let{affectsX:u,affectsY:d}=e;const{isHorizontal:h,isVertical:p}=e,g=h&&p,{xSnapped:y,ySnapped:b}=t,{minWidth:w,maxWidth:C,minHeight:x,maxHeight:A}=r,{x:E,y:_,width:k,height:M,aspectRatio:T}=n;let N=Math.floor(h?y-n.pointerX:0),W=Math.floor(p?b-n.pointerY:0);const P=k+(u?-N:N),V=M+(d?-W:W),X=-s[0]*k,Y=-s[1]*M;let D=ey(P,w,C),G=ey(V,x,A);if(a){let $=0,B=0;u&&N<0?$=Jo(E+N+X,a[0][0]):!u&&N>0&&($=ea(E+P+X,a[1][0])),d&&W<0?B=Jo(_+W+Y,a[0][1]):!d&&W>0&&(B=ea(_+V+Y,a[1][1])),D=Math.max(D,$),G=Math.max(G,B)}if(l){let $=0,B=0;u&&N>0?$=ea(E+N,l[0][0]):!u&&N<0&&($=Jo(E+P,l[1][0])),d&&W>0?B=ea(_+W,l[0][1]):!d&&W<0&&(B=Jo(_+V,l[1][1])),D=Math.max(D,$),G=Math.max(G,B)}if(i){if(h){const $=ey(P/T,x,A)*T;if(D=Math.max(D,$),a){let B=0;!u&&!d||u&&!d&&g?B=ea(_+Y+P/T,a[1][1])*T:B=Jo(_+Y+(u?N:-N)/T,a[0][1])*T,D=Math.max(D,B)}if(l){let B=0;!u&&!d||u&&!d&&g?B=Jo(_+P/T,l[1][1])*T:B=ea(_+(u?N:-N)/T,l[0][1])*T,D=Math.max(D,B)}}if(p){const $=ey(V*T,w,C)/T;if(G=Math.max(G,$),a){let B=0;!u&&!d||d&&!u&&g?B=ea(E+V*T+X,a[1][0])/T:B=Jo(E+(d?W:-W)*T+X,a[0][0])/T,G=Math.max(G,B)}if(l){let B=0;!u&&!d||d&&!u&&g?B=Jo(E+V*T,l[1][0])/T:B=ea(E+(d?W:-W)*T,l[0][0])/T,G=Math.max(G,B)}}}W=W+(W<0?G:-G),N=N+(N<0?D:-D),i&&(g?P>V*T?W=(FA(u,d)?-N:N)/T:N=(FA(u,d)?-W:W)*T:h?(W=N/T,d=u):(N=W*T,u=d));const j=u?E+N:E,q=d?_+W:_;return{width:k+(u?-N:N),height:M+(d?-W:W),x:s[0]*N*(u?-1:1)+j,y:s[1]*W*(d?-1:1)+q}}const _P={width:0,height:0,x:0,y:0},P$={..._P,pointerX:0,pointerY:0,aspectRatio:1};function M$(n){return[[0,0],[n.measured.width,n.measured.height]]}function I$(n,e,t){const r=e.position.x+n.position.x,i=e.position.y+n.position.y,s=n.measured.width??0,a=n.measured.height??0,l=t[0]*s,u=t[1]*a;return[[r-l,i-u],[r+s-l,i+a-u]]}function N$({domNode:n,nodeId:e,getStoreItems:t,onChange:r,onEnd:i}){const s=Wr(n);function a({controlPosition:u,boundaries:d,keepAspectRatio:h,onResizeStart:p,onResize:g,onResizeEnd:y,shouldResize:b}){let w={..._P},C={...P$};const x=R$(u);let A,E=null,_=[],k,M,T;const N=OT().on("start",W=>{const{nodeLookup:P,transform:V,snapGrid:X,snapToGrid:Y,nodeOrigin:D,paneDomNode:G}=t();if(A=P.get(e),!A)return;E=(G==null?void 0:G.getBoundingClientRect())??null;const{xSnapped:j,ySnapped:q}=rf(W.sourceEvent,{transform:V,snapGrid:X,snapToGrid:Y,containerBounds:E});w={width:A.measured.width??0,height:A.measured.height??0,x:A.position.x??0,y:A.position.y??0},C={...w,pointerX:j,pointerY:q,aspectRatio:w.width/w.height},k=void 0,A.parentId&&(A.extent==="parent"||A.expandParent)&&(k=P.get(A.parentId),M=k&&A.extent==="parent"?M$(k):void 0),_=[],T=void 0;for(const[$,B]of P)if(B.parentId===e&&(_.push({id:$,position:{...B.position},extent:B.extent}),B.extent==="parent"||B.expandParent)){const K=I$(B,A,B.origin??D);T?T=[[Math.min(K[0][0],T[0][0]),Math.min(K[0][1],T[0][1])],[Math.max(K[1][0],T[1][0]),Math.max(K[1][1],T[1][1])]]:T=K}p==null||p(W,{...w})}).on("drag",W=>{const{transform:P,snapGrid:V,snapToGrid:X,nodeOrigin:Y}=t(),D=rf(W.sourceEvent,{transform:P,snapGrid:V,snapToGrid:X,containerBounds:E}),G=[];if(!A)return;const{x:j,y:q,width:$,height:B}=w,K={},U=A.origin??Y,{width:Z,height:re,x:le,y:se}=T$(C,x,D,d,h,U,M,T),ce=Z!==$,ee=re!==B,oe=le!==j&&ce,de=se!==q&&ee;if(!oe&&!de&&!ce&&!ee)return;if((oe||de||U[0]===1||U[1]===1)&&(K.x=oe?le:w.x,K.y=de?se:w.y,w.x=K.x,w.y=K.y,_.length>0)){const Re=le-j,be=se-q;for(const je of _)je.position={x:je.position.x-Re+U[0]*(Z-$),y:je.position.y-be+U[1]*(re-B)},G.push(je)}if((ce||ee)&&(K.width=ce?Z:w.width,K.height=ee?re:w.height,w.width=K.width,w.height=K.height),k&&A.expandParent){const Re=U[0]*(K.width??0);K.x&&K.x<Re&&(w.x=Re,C.x=C.x-(K.x-Re));const be=U[1]*(K.height??0);K.y&&K.y<be&&(w.y=be,C.y=C.y-(K.y-be))}const pe=k$({width:w.width,prevWidth:$,height:w.height,prevHeight:B,affectsX:x.affectsX,affectsY:x.affectsY}),me={...w,direction:pe};(b==null?void 0:b(W,me))!==!1&&(g==null||g(W,me),r(K,G))}).on("end",W=>{y==null||y(W,{...w}),i==null||i()});s.call(N)}function l(){s.on(".drag",null)}return{update:a,destroy:l}}var $w={exports:{}},Bw={},Hw={exports:{}},jw={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zA;function L$(){if(zA)return jw;zA=1;var n=Cc();function e(p,g){return p===g&&(p!==0||1/p===1/g)||p!==p&&g!==g}var t=typeof Object.is=="function"?Object.is:e,r=n.useState,i=n.useEffect,s=n.useLayoutEffect,a=n.useDebugValue;function l(p,g){var y=g(),b=r({inst:{value:y,getSnapshot:g}}),w=b[0].inst,C=b[1];return s(function(){w.value=y,w.getSnapshot=g,u(w)&&C({inst:w})},[p,y,g]),i(function(){return u(w)&&C({inst:w}),p(function(){u(w)&&C({inst:w})})},[p]),a(y),y}function u(p){var g=p.getSnapshot;p=p.value;try{var y=g();return!t(p,y)}catch{return!0}}function d(p,g){return g()}var h=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?d:l;return jw.useSyncExternalStore=n.useSyncExternalStore!==void 0?n.useSyncExternalStore:h,jw}var $A;function D$(){return $A||($A=1,Hw.exports=L$()),Hw.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var BA;function O$(){if(BA)return Bw;BA=1;var n=Cc(),e=D$();function t(d,h){return d===h&&(d!==0||1/d===1/h)||d!==d&&h!==h}var r=typeof Object.is=="function"?Object.is:t,i=e.useSyncExternalStore,s=n.useRef,a=n.useEffect,l=n.useMemo,u=n.useDebugValue;return Bw.useSyncExternalStoreWithSelector=function(d,h,p,g,y){var b=s(null);if(b.current===null){var w={hasValue:!1,value:null};b.current=w}else w=b.current;b=l(function(){function x(M){if(!A){if(A=!0,E=M,M=g(M),y!==void 0&&w.hasValue){var T=w.value;if(y(T,M))return _=T}return _=M}if(T=_,r(E,M))return T;var N=g(M);return y!==void 0&&y(T,N)?(E=M,T):(E=M,_=N)}var A=!1,E,_,k=p===void 0?null:p;return[function(){return x(h())},k===null?void 0:function(){return x(k())}]},[h,p,g,y]);var C=i(d,b[0],b[1]);return a(function(){w.hasValue=!0,w.value=C},[C]),u(C),C},Bw}var HA;function F$(){return HA||(HA=1,$w.exports=O$()),$w.exports}var z$=F$();const $$=dg(z$),B$={},jA=n=>{let e;const t=new Set,r=(h,p)=>{const g=typeof h=="function"?h(e):h;if(!Object.is(g,e)){const y=e;e=p??(typeof g!="object"||g===null)?g:Object.assign({},e,g),t.forEach(b=>b(e,y))}},i=()=>e,u={setState:r,getState:i,getInitialState:()=>d,subscribe:h=>(t.add(h),()=>t.delete(h)),destroy:()=>{(B$?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),t.clear()}},d=e=n(r,i,u);return u},H$=n=>n?jA(n):jA,{useDebugValue:j$}=ct,{useSyncExternalStoreWithSelector:W$}=$$,U$=n=>n;function AP(n,e=U$,t){const r=W$(n.subscribe,n.getState,n.getServerState||n.getInitialState,e,t);return j$(r),r}const WA=(n,e)=>{const t=H$(n),r=(i,s=e)=>AP(t,i,s);return Object.assign(r,t),r},V$=(n,e)=>n?WA(n,e):WA;function Xt(n,e){if(Object.is(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;if(n instanceof Map&&e instanceof Map){if(n.size!==e.size)return!1;for(const[r,i]of n)if(!Object.is(i,e.get(r)))return!1;return!0}if(n instanceof Set&&e instanceof Set){if(n.size!==e.size)return!1;for(const r of n)if(!e.has(r))return!1;return!0}const t=Object.keys(n);if(t.length!==Object.keys(e).length)return!1;for(const r of t)if(!Object.prototype.hasOwnProperty.call(e,r)||!Object.is(n[r],e[r]))return!1;return!0}var yg=U0();const ty=dg(yg),nv=I.createContext(null),G$=nv.Provider,kP=Ss.error001();function Qe(n,e){const t=I.useContext(nv);if(t===null)throw new Error(kP);return AP(t,n,e)}function Lt(){const n=I.useContext(nv);if(n===null)throw new Error(kP);return I.useMemo(()=>({getState:n.getState,setState:n.setState,subscribe:n.subscribe}),[n])}const UA={display:"none"},X$={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},RP="react-flow__node-desc",TP="react-flow__edge-desc",Y$="react-flow__aria-live",q$=n=>n.ariaLiveMessage;function K$({rfId:n}){const e=Qe(q$);return L.jsx("div",{id:`${Y$}-${n}`,"aria-live":"assertive","aria-atomic":"true",style:X$,children:e})}function Q$({rfId:n,disableKeyboardA11y:e}){return L.jsxs(L.Fragment,{children:[L.jsxs("div",{id:`${RP}-${n}`,style:UA,children:["Press enter or space to select a node.",!e&&"You can then use the arrow keys to move the node around."," Press delete to remove it and escape to cancel."," "]}),L.jsx("div",{id:`${TP}-${n}`,style:UA,children:"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel."}),!e&&L.jsx(K$,{rfId:n})]})}const Z$=n=>n.userSelectionActive?"none":"all",vg=I.forwardRef(({position:n="top-left",children:e,className:t,style:r,...i},s)=>{const a=Qe(Z$),l=`${n}`.split("-");return L.jsx("div",{className:an(["react-flow__panel",t,...l]),style:{...r,pointerEvents:a},ref:s,...i,children:e})});vg.displayName="Panel";function J$({proOptions:n,position:e="bottom-right"}){return n!=null&&n.hideAttribution?null:L.jsx(vg,{position:e,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://pro.reactflow.dev",children:L.jsx("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution",children:"React Flow"})})}const e5=n=>{const e=[],t=[];for(const[,r]of n.nodeLookup)r.selected&&e.push(r.internals.userNode);for(const[,r]of n.edgeLookup)r.selected&&t.push(r);return{selectedNodes:e,selectedEdges:t}},ny=n=>n.id;function t5(n,e){return Xt(n.selectedNodes.map(ny),e.selectedNodes.map(ny))&&Xt(n.selectedEdges.map(ny),e.selectedEdges.map(ny))}function n5({onSelectionChange:n}){const e=Lt(),{selectedNodes:t,selectedEdges:r}=Qe(e5,t5);return I.useEffect(()=>{const i={nodes:t,edges:r};n==null||n(i),e.getState().onSelectionChangeHandlers.forEach(s=>s(i))},[t,r,n]),null}const r5=n=>!!n.onSelectionChangeHandlers;function i5({onSelectionChange:n}){const e=Qe(r5);return n||e?L.jsx(n5,{onSelectionChange:n}):null}const PP=[0,0],s5={x:0,y:0,zoom:1},o5=["nodes","edges","defaultNodes","defaultEdges","onConnect","onConnectStart","onConnectEnd","onClickConnectStart","onClickConnectEnd","nodesDraggable","nodesConnectable","nodesFocusable","edgesFocusable","edgesReconnectable","elevateNodesOnSelect","elevateEdgesOnSelect","minZoom","maxZoom","nodeExtent","onNodesChange","onEdgesChange","elementsSelectable","connectionMode","snapGrid","snapToGrid","translateExtent","connectOnClick","defaultEdgeOptions","fitView","fitViewOptions","onNodesDelete","onEdgesDelete","onDelete","onNodeDrag","onNodeDragStart","onNodeDragStop","onSelectionDrag","onSelectionDragStart","onSelectionDragStop","onMoveStart","onMove","onMoveEnd","noPanClassName","nodeOrigin","autoPanOnConnect","autoPanOnNodeDrag","onError","connectionRadius","isValidConnection","selectNodesOnDrag","nodeDragThreshold","onBeforeDelete","debug","autoPanSpeed","paneClickDistance"],VA=[...o5,"rfId"],a5=n=>({setNodes:n.setNodes,setEdges:n.setEdges,setMinZoom:n.setMinZoom,setMaxZoom:n.setMaxZoom,setTranslateExtent:n.setTranslateExtent,setNodeExtent:n.setNodeExtent,reset:n.reset,setDefaultNodesAndEdges:n.setDefaultNodesAndEdges,setPaneClickDistance:n.setPaneClickDistance}),GA={translateExtent:bf,nodeOrigin:PP,minZoom:.5,maxZoom:2,elementsSelectable:!0,noPanClassName:"nopan",rfId:"1",paneClickDistance:0};function l5(n){const{setNodes:e,setEdges:t,setMinZoom:r,setMaxZoom:i,setTranslateExtent:s,setNodeExtent:a,reset:l,setDefaultNodesAndEdges:u,setPaneClickDistance:d}=Qe(a5,Xt),h=Lt();I.useEffect(()=>(u(n.defaultNodes,n.defaultEdges),()=>{p.current=GA,l()}),[]);const p=I.useRef(GA);return I.useEffect(()=>{for(const g of VA){const y=n[g],b=p.current[g];y!==b&&(typeof n[g]>"u"||(g==="nodes"?e(y):g==="edges"?t(y):g==="minZoom"?r(y):g==="maxZoom"?i(y):g==="translateExtent"?s(y):g==="nodeExtent"?a(y):g==="paneClickDistance"?d(y):g==="fitView"?h.setState({fitViewOnInit:y}):g==="fitViewOptions"?h.setState({fitViewOnInitOptions:y}):h.setState({[g]:y})))}p.current=n},VA.map(g=>n[g])),null}function XA(){return typeof window>"u"||!window.matchMedia?null:window.matchMedia("(prefers-color-scheme: dark)")}function c5(n){var r;const[e,t]=I.useState(n==="system"?null:n);return I.useEffect(()=>{if(n!=="system"){t(n);return}const i=XA(),s=()=>t(i!=null&&i.matches?"dark":"light");return s(),i==null||i.addEventListener("change",s),()=>{i==null||i.removeEventListener("change",s)}},[n]),e!==null?e:(r=XA())!=null&&r.matches?"dark":"light"}const YA=typeof document<"u"?document:null;function Ef(n=null,e={target:YA,actInsideInputWithModifier:!0}){const[t,r]=I.useState(!1),i=I.useRef(!1),s=I.useRef(new Set([])),[a,l]=I.useMemo(()=>{if(n!==null){const d=(Array.isArray(n)?n:[n]).filter(p=>typeof p=="string").map(p=>p.replace("+",`
`).replace(`

`,`
+`).split(`
`)),h=d.reduce((p,g)=>p.concat(...g),[]);return[d,h]}return[[],[]]},[n]);return I.useEffect(()=>{const u=(e==null?void 0:e.target)||YA;if(n!==null){const d=g=>{if(i.current=g.ctrlKey||g.metaKey||g.shiftKey,(!i.current||i.current&&!e.actInsideInputWithModifier)&&Px(g))return!1;const b=KA(g.code,l);s.current.add(g[b]),qA(a,s.current,!1)&&(g.preventDefault(),r(!0))},h=g=>{if((!i.current||i.current&&!e.actInsideInputWithModifier)&&Px(g))return!1;const b=KA(g.code,l);qA(a,s.current,!0)?(r(!1),s.current.clear()):s.current.delete(g[b]),g.key==="Meta"&&s.current.clear(),i.current=!1},p=()=>{s.current.clear(),r(!1)};return u==null||u.addEventListener("keydown",d),u==null||u.addEventListener("keyup",h),window.addEventListener("blur",p),window.addEventListener("contextmenu",p),()=>{u==null||u.removeEventListener("keydown",d),u==null||u.removeEventListener("keyup",h),window.removeEventListener("blur",p),window.removeEventListener("contextmenu",p)}}},[n,r]),t}function qA(n,e,t){return n.filter(r=>t||r.length===e.size).some(r=>r.every(i=>e.has(i)))}function KA(n,e){return e.includes(n)?"code":"key"}const u5=()=>{const n=Lt();return I.useMemo(()=>({zoomIn:e=>{const{panZoom:t}=n.getState();return t?t.scaleBy(1.2,{duration:e==null?void 0:e.duration}):Promise.resolve(!1)},zoomOut:e=>{const{panZoom:t}=n.getState();return t?t.scaleBy(1/1.2,{duration:e==null?void 0:e.duration}):Promise.resolve(!1)},zoomTo:(e,t)=>{const{panZoom:r}=n.getState();return r?r.scaleTo(e,{duration:t==null?void 0:t.duration}):Promise.resolve(!1)},getZoom:()=>n.getState().transform[2],setViewport:async(e,t)=>{const{transform:[r,i,s],panZoom:a}=n.getState();return a?(await a.setViewport({x:e.x??r,y:e.y??i,zoom:e.zoom??s},{duration:t==null?void 0:t.duration}),Promise.resolve(!0)):Promise.resolve(!1)},getViewport:()=>{const[e,t,r]=n.getState().transform;return{x:e,y:t,zoom:r}},fitView:e=>{const{nodeLookup:t,minZoom:r,maxZoom:i,panZoom:s,domNode:a}=n.getState();if(!s||!a)return Promise.resolve(!1);const l=kx(t,e),{width:u,height:d}=J0(a);return Rx({nodes:l,width:u,height:d,minZoom:r,maxZoom:i,panZoom:s},e)},setCenter:async(e,t,r)=>{const{width:i,height:s,maxZoom:a,panZoom:l}=n.getState(),u=typeof(r==null?void 0:r.zoom)<"u"?r.zoom:a,d=i/2-e*u,h=s/2-t*u;return l?(await l.setViewport({x:d,y:h,zoom:u},{duration:r==null?void 0:r.duration}),Promise.resolve(!0)):Promise.resolve(!1)},fitBounds:async(e,t)=>{const{width:r,height:i,minZoom:s,maxZoom:a,panZoom:l}=n.getState(),u=R1(e,r,i,s,a,(t==null?void 0:t.padding)??.1);return l?(await l.setViewport(u,{duration:t==null?void 0:t.duration}),Promise.resolve(!0)):Promise.resolve(!1)},screenToFlowPosition:(e,t={})=>{const{transform:r,snapGrid:i,snapToGrid:s,domNode:a}=n.getState();if(!a)return e;const{x:l,y:u}=a.getBoundingClientRect(),d={x:e.x-l,y:e.y-u},h=t.snapGrid??i,p=t.snapToGrid??s;return mg(d,r,p,h)},flowToScreenPosition:e=>{const{transform:t,domNode:r}=n.getState();if(!r)return e;const{x:i,y:s}=r.getBoundingClientRect(),a=aP(e,t);return{x:a.x+i,y:a.y+s}}}),[])};function MP(n,e){const t=[],r=new Map,i=[];for(const s of n)if(s.type==="add"){i.push(s);continue}else if(s.type==="remove"||s.type==="replace")r.set(s.id,[s]);else{const a=r.get(s.id);a?a.push(s):r.set(s.id,[s])}for(const s of e){const a=r.get(s.id);if(!a){t.push(s);continue}if(a[0].type==="remove")continue;if(a[0].type==="replace"){t.push({...a[0].item});continue}const l={...s};for(const u of a)d5(u,l);t.push(l)}return i.length&&i.forEach(s=>{s.index!==void 0?t.splice(s.index,0,{...s.item}):t.push({...s.item})}),t}function d5(n,e){switch(n.type){case"select":{e.selected=n.selected;break}case"position":{typeof n.position<"u"&&(e.position=n.position),typeof n.dragging<"u"&&(e.dragging=n.dragging);break}case"dimensions":{typeof n.dimensions<"u"&&(e.measured??(e.measured={}),e.measured.width=n.dimensions.width,e.measured.height=n.dimensions.height,n.setAttributes&&(e.width=n.dimensions.width,e.height=n.dimensions.height)),typeof n.resizing=="boolean"&&(e.resizing=n.resizing);break}}}function IP(n,e){return MP(n,e)}function NP(n,e){return MP(n,e)}function ll(n,e){return{id:n,type:"select",selected:e}}function bu(n,e=new Set,t=!1){const r=[];for(const[i,s]of n){const a=e.has(i);!(s.selected===void 0&&!a)&&s.selected!==a&&(t&&(s.selected=a),r.push(ll(s.id,a)))}return r}function QA({items:n=[],lookup:e}){var i;const t=[],r=new Map(n.map(s=>[s.id,s]));for(const[s,a]of n.entries()){const l=e.get(a.id),u=((i=l==null?void 0:l.internals)==null?void 0:i.userNode)??l;u!==void 0&&u!==a&&t.push({id:a.id,item:a,type:"replace"}),u===void 0&&t.push({item:a,type:"add",index:s})}for(const[s]of e)r.get(s)===void 0&&t.push({id:s,type:"remove"});return t}function ZA(n){return{id:n.id,type:"remove"}}const JA=n=>Uz(n),h5=n=>tP(n);function LP(n){return I.forwardRef(n)}const f5=typeof window<"u"?I.useLayoutEffect:I.useEffect;function ek(n){const[e,t]=I.useState(BigInt(0)),[r]=I.useState(()=>p5(()=>t(i=>i+BigInt(1))));return f5(()=>{const i=r.get();i.length&&(n(i),r.reset())},[e]),r}function p5(n){let e=[];return{get:()=>e,reset:()=>{e=[]},push:t=>{e.push(t),n()}}}const DP=I.createContext(null);function g5({children:n}){const e=Lt(),t=I.useCallback(l=>{const{nodes:u=[],setNodes:d,hasDefaultNodes:h,onNodesChange:p,nodeLookup:g}=e.getState();let y=u;for(const b of l)y=typeof b=="function"?b(y):b;h?d(y):p&&p(QA({items:y,lookup:g}))},[]),r=ek(t),i=I.useCallback(l=>{const{edges:u=[],setEdges:d,hasDefaultEdges:h,onEdgesChange:p,edgeLookup:g}=e.getState();let y=u;for(const b of l)y=typeof b=="function"?b(y):b;h?d(y):p&&p(QA({items:y,lookup:g}))},[]),s=ek(i),a=I.useMemo(()=>({nodeQueue:r,edgeQueue:s}),[]);return L.jsx(DP.Provider,{value:a,children:n})}function m5(){const n=I.useContext(DP);if(!n)throw new Error("useBatchContext must be used within a BatchProvider");return n}const y5=n=>!!n.panZoom;function rv(){const n=u5(),e=Lt(),t=m5(),r=Qe(y5),i=I.useMemo(()=>{const s=p=>e.getState().nodeLookup.get(p),a=p=>{t.nodeQueue.push(p)},l=p=>{t.edgeQueue.push(p)},u=p=>{var x,A;const{nodeLookup:g,nodeOrigin:y}=e.getState(),b=JA(p)?p:g.get(p.id),w=b.parentId?cP(b.position,b.measured,b.parentId,g,y):b.position,C={...b,position:w,width:((x=b.measured)==null?void 0:x.width)??b.width,height:((A=b.measured)==null?void 0:A.height)??b.height};return Rd(C)},d=(p,g,y={replace:!1})=>{a(b=>b.map(w=>{if(w.id===p){const C=typeof g=="function"?g(w):g;return y.replace&&JA(C)?C:{...w,...C}}return w}))},h=(p,g,y={replace:!1})=>{l(b=>b.map(w=>{if(w.id===p){const C=typeof g=="function"?g(w):g;return y.replace&&h5(C)?C:{...w,...C}}return w}))};return{getNodes:()=>e.getState().nodes.map(p=>({...p})),getNode:p=>{var g;return(g=s(p))==null?void 0:g.internals.userNode},getInternalNode:s,getEdges:()=>{const{edges:p=[]}=e.getState();return p.map(g=>({...g}))},getEdge:p=>e.getState().edgeLookup.get(p),setNodes:a,setEdges:l,addNodes:p=>{const g=Array.isArray(p)?p:[p];t.nodeQueue.push(y=>[...y,...g])},addEdges:p=>{const g=Array.isArray(p)?p:[p];t.edgeQueue.push(y=>[...y,...g])},toObject:()=>{const{nodes:p=[],edges:g=[],transform:y}=e.getState(),[b,w,C]=y;return{nodes:p.map(x=>({...x})),edges:g.map(x=>({...x})),viewport:{x:b,y:w,zoom:C}}},deleteElements:async({nodes:p=[],edges:g=[]})=>{const{nodes:y,edges:b,onNodesDelete:w,onEdgesDelete:C,triggerNodeChanges:x,triggerEdgeChanges:A,onDelete:E,onBeforeDelete:_}=e.getState(),{nodes:k,edges:M}=await Xz({nodesToRemove:p,edgesToRemove:g,nodes:y,edges:b,onBeforeDelete:_}),T=M.length>0,N=k.length>0;if(T){const W=M.map(ZA);C==null||C(M),A(W)}if(N){const W=k.map(ZA);w==null||w(k),x(W)}return(N||T)&&(E==null||E({nodes:k,edges:M})),{deletedNodes:k,deletedEdges:M}},getIntersectingNodes:(p,g=!0,y)=>{const b=AA(p),w=b?p:u(p),C=y!==void 0;return w?(y||e.getState().nodes).filter(x=>{const A=e.getState().nodeLookup.get(x.id);if(A&&!b&&(x.id===p.id||!A.internals.positionAbsolute))return!1;const E=Rd(C?x:A),_=xf(E,w);return g&&_>0||_>=w.width*w.height}):[]},isNodeIntersecting:(p,g,y=!0)=>{const w=AA(p)?p:u(p);if(!w)return!1;const C=xf(w,g);return y&&C>0||C>=w.width*w.height},updateNode:d,updateNodeData:(p,g,y={replace:!1})=>{d(p,b=>{const w=typeof g=="function"?g(b):g;return y.replace?{...b,data:w}:{...b,data:{...b.data,...w}}},y)},updateEdge:h,updateEdgeData:(p,g,y={replace:!1})=>{h(p,b=>{const w=typeof g=="function"?g(b):g;return y.replace?{...b,data:w}:{...b,data:{...b.data,...w}}},y)},getNodesBounds:p=>{const{nodeLookup:g,nodeOrigin:y}=e.getState();return Vz(p,{nodeLookup:g,nodeOrigin:y})},getHandleConnections:({type:p,id:g,nodeId:y})=>{var b;return Array.from(((b=e.getState().connectionLookup.get(`${y}-${p}${g?`-${g}`:""}`))==null?void 0:b.values())??[])},getNodeConnections:({type:p,handleId:g,nodeId:y})=>{var b;return Array.from(((b=e.getState().connectionLookup.get(`${y}${p?g?`-${p}-${g}`:`-${p}`:""}`))==null?void 0:b.values())??[])}}},[]);return I.useMemo(()=>({...i,...n,viewportInitialized:r}),[r])}const tk=n=>n.selected,v5={actInsideInputWithModifier:!1},b5=typeof window<"u"?window:void 0;function w5({deleteKeyCode:n,multiSelectionKeyCode:e}){const t=Lt(),{deleteElements:r}=rv(),i=Ef(n,v5),s=Ef(e,{target:b5});I.useEffect(()=>{if(i){const{edges:a,nodes:l}=t.getState();r({nodes:l.filter(tk),edges:a.filter(tk)}),t.setState({nodesSelectionActive:!1})}},[i]),I.useEffect(()=>{t.setState({multiSelectionActive:s})},[s])}function x5(n){const e=Lt();I.useEffect(()=>{const t=()=>{var i,s;if(!n.current)return!1;const r=J0(n.current);(r.height===0||r.width===0)&&((s=(i=e.getState()).onError)==null||s.call(i,"004",Ss.error004())),e.setState({width:r.width||500,height:r.height||500})};if(n.current){t(),window.addEventListener("resize",t);const r=new ResizeObserver(()=>t());return r.observe(n.current),()=>{window.removeEventListener("resize",t),r&&n.current&&r.unobserve(n.current)}}},[])}const iv={position:"absolute",width:"100%",height:"100%",top:0,left:0},S5=n=>({userSelectionActive:n.userSelectionActive,lib:n.lib});function E5({onPaneContextMenu:n,zoomOnScroll:e=!0,zoomOnPinch:t=!0,panOnScroll:r=!1,panOnScrollSpeed:i=.5,panOnScrollMode:s=pc.Free,zoomOnDoubleClick:a=!0,panOnDrag:l=!0,defaultViewport:u,translateExtent:d,minZoom:h,maxZoom:p,zoomActivationKeyCode:g,preventScrolling:y=!0,children:b,noWheelClassName:w,noPanClassName:C,onViewportChange:x,isControlledViewport:A,paneClickDistance:E}){const _=Lt(),k=I.useRef(null),{userSelectionActive:M,lib:T}=Qe(S5,Xt),N=Ef(g),W=I.useRef();x5(k);const P=I.useCallback(V=>{x==null||x({x:V[0],y:V[1],zoom:V[2]}),A||_.setState({transform:V})},[x,A]);return I.useEffect(()=>{if(k.current){W.current=A$({domNode:k.current,minZoom:h,maxZoom:p,translateExtent:d,viewport:u,paneClickDistance:E,onDraggingChange:D=>_.setState({paneDragging:D}),onPanZoomStart:(D,G)=>{const{onViewportChangeStart:j,onMoveStart:q}=_.getState();q==null||q(D,G),j==null||j(G)},onPanZoom:(D,G)=>{const{onViewportChange:j,onMove:q}=_.getState();q==null||q(D,G),j==null||j(G)},onPanZoomEnd:(D,G)=>{const{onViewportChangeEnd:j,onMoveEnd:q}=_.getState();q==null||q(D,G),j==null||j(G)}});const{x:V,y:X,zoom:Y}=W.current.getViewport();return _.setState({panZoom:W.current,transform:[V,X,Y],domNode:k.current.closest(".react-flow")}),()=>{var D;(D=W.current)==null||D.destroy()}}},[]),I.useEffect(()=>{var V;(V=W.current)==null||V.update({onPaneContextMenu:n,zoomOnScroll:e,zoomOnPinch:t,panOnScroll:r,panOnScrollSpeed:i,panOnScrollMode:s,zoomOnDoubleClick:a,panOnDrag:l,zoomActivationKeyPressed:N,preventScrolling:y,noPanClassName:C,userSelectionActive:M,noWheelClassName:w,lib:T,onTransformChange:P})},[n,e,t,r,i,s,a,l,N,y,C,M,w,T,P]),L.jsx("div",{className:"react-flow__renderer",ref:k,style:iv,children:b})}const C5=n=>({userSelectionActive:n.userSelectionActive,userSelectionRect:n.userSelectionRect});function _5(){const{userSelectionActive:n,userSelectionRect:e}=Qe(C5,Xt);return n&&e?L.jsx("div",{className:"react-flow__selection react-flow__container",style:{width:e.width,height:e.height,transform:`translate(${e.x}px, ${e.y}px)`}}):null}const Ww=(n,e)=>t=>{t.target===e.current&&(n==null||n(t))},A5=n=>({userSelectionActive:n.userSelectionActive,elementsSelectable:n.elementsSelectable,dragging:n.paneDragging});function k5({isSelecting:n,selectionKeyPressed:e,selectionMode:t=wf.Full,panOnDrag:r,selectionOnDrag:i,onSelectionStart:s,onSelectionEnd:a,onPaneClick:l,onPaneContextMenu:u,onPaneScroll:d,onPaneMouseEnter:h,onPaneMouseMove:p,onPaneMouseLeave:g,children:y}){const b=Lt(),{userSelectionActive:w,elementsSelectable:C,dragging:x}=Qe(A5,Xt),A=C&&(n||w),E=I.useRef(null),_=I.useRef(),k=I.useRef(new Set),M=I.useRef(new Set),T=I.useRef(!1),N=I.useRef(!1),W=j=>{if(T.current){T.current=!1;return}l==null||l(j),b.getState().resetSelectedElements(),b.setState({nodesSelectionActive:!1})},P=j=>{if(Array.isArray(r)&&(r!=null&&r.includes(2))){j.preventDefault();return}u==null||u(j)},V=d?j=>d(j):void 0,X=j=>{var U,Z;const{resetSelectedElements:q,domNode:$}=b.getState();if(_.current=$==null?void 0:$.getBoundingClientRect(),!C||!n||j.button!==0||j.target!==E.current||!_.current)return;(Z=(U=j.target)==null?void 0:U.setPointerCapture)==null||Z.call(U,j.pointerId),N.current=!0,T.current=!1;const{x:B,y:K}=yo(j.nativeEvent,_.current);q(),b.setState({userSelectionRect:{width:0,height:0,startX:B,startY:K,x:B,y:K}}),s==null||s(j)},Y=j=>{const{userSelectionRect:q,transform:$,nodeLookup:B,edgeLookup:K,connectionLookup:U,triggerNodeChanges:Z,triggerEdgeChanges:re,defaultEdgeOptions:le}=b.getState();if(!_.current||!q)return;T.current=!0;const{x:se,y:ce}=yo(j.nativeEvent,_.current),{startX:ee,startY:oe}=q,de={startX:ee,startY:oe,x:se<ee?se:ee,y:ce<oe?ce:oe,width:Math.abs(se-ee),height:Math.abs(ce-oe)},pe=k.current,me=M.current;k.current=new Set(nP(B,de,$,t===wf.Partial,!0).map(Re=>Re.id)),M.current=new Set;const ge=(le==null?void 0:le.selectable)??!0;for(const Re of k.current){const be=U.get(Re);if(be)for(const{edgeId:je}of be.values()){const mt=K.get(je);mt&&(mt.selectable??ge)&&M.current.add(je)}}if(!kA(pe,k.current)){const Re=bu(B,k.current,!0);Z(Re)}if(!kA(me,M.current)){const Re=bu(K,M.current);re(Re)}b.setState({userSelectionRect:de,userSelectionActive:!0,nodesSelectionActive:!1})},D=j=>{var $,B;if(j.button!==0||!N.current)return;(B=($=j.target)==null?void 0:$.releasePointerCapture)==null||B.call($,j.pointerId);const{userSelectionRect:q}=b.getState();!w&&q&&j.target===E.current&&(W==null||W(j)),b.setState({userSelectionActive:!1,userSelectionRect:null,nodesSelectionActive:k.current.size>0}),a==null||a(j),(e||i)&&(T.current=!1),N.current=!1},G=r===!0||Array.isArray(r)&&r.includes(0);return L.jsxs("div",{className:an(["react-flow__pane",{draggable:G,dragging:x,selection:n}]),onClick:A?void 0:Ww(W,E),onContextMenu:Ww(P,E),onWheel:Ww(V,E),onPointerEnter:A?void 0:h,onPointerDown:A?X:p,onPointerMove:A?Y:p,onPointerUp:A?D:void 0,onPointerLeave:g,ref:E,style:iv,children:[y,L.jsx(_5,{})]})}function Dx({id:n,store:e,unselect:t=!1,nodeRef:r}){const{addSelectedNodes:i,unselectNodesAndEdges:s,multiSelectionActive:a,nodeLookup:l,onError:u}=e.getState(),d=l.get(n);if(!d){u==null||u("012",Ss.error012(n));return}e.setState({nodesSelectionActive:!1}),d.selected?(t||d.selected&&a)&&(s({nodes:[d],edges:[]}),requestAnimationFrame(()=>{var h;return(h=r==null?void 0:r.current)==null?void 0:h.blur()})):i([n])}function OP({nodeRef:n,disabled:e=!1,noDragClassName:t,handleSelector:r,nodeId:i,isSelectable:s,nodeClickDistance:a}){const l=Lt(),[u,d]=I.useState(!1),h=I.useRef();return I.useEffect(()=>{h.current=h$({getStoreItems:()=>l.getState(),onNodeMouseDown:p=>{Dx({id:p,store:l,nodeRef:n})},onDragStart:()=>{d(!0)},onDragStop:()=>{d(!1)}})},[]),I.useEffect(()=>{var p,g;if(e)(p=h.current)==null||p.destroy();else if(n.current)return(g=h.current)==null||g.update({noDragClassName:t,handleSelector:r,domNode:n.current,isSelectable:s,nodeId:i,nodeClickDistance:a}),()=>{var y;(y=h.current)==null||y.destroy()}},[t,r,e,s,n,i]),u}const R5=n=>e=>e.selected&&(e.draggable||n&&typeof e.draggable>"u");function FP(){const n=Lt();return I.useCallback(t=>{const{nodeExtent:r,snapToGrid:i,snapGrid:s,nodesDraggable:a,onError:l,updateNodePositions:u,nodeLookup:d,nodeOrigin:h}=n.getState(),p=new Map,g=R5(a),y=i?s[0]:5,b=i?s[1]:5,w=t.direction.x*y*t.factor,C=t.direction.y*b*t.factor;for(const[,x]of d){if(!g(x))continue;let A={x:x.internals.positionAbsolute.x+w,y:x.internals.positionAbsolute.y+C};i&&(A=Z0(A,s));const{position:E,positionAbsolute:_}=rP({nodeId:x.id,nextPosition:A,nodeLookup:d,nodeExtent:r,nodeOrigin:h,onError:l});x.position=E,x.internals.positionAbsolute=_,p.set(x.id,x)}u(p)},[])}const N1=I.createContext(null),T5=N1.Provider;N1.Consumer;const zP=()=>I.useContext(N1),P5=n=>({connectOnClick:n.connectOnClick,noPanClassName:n.noPanClassName,rfId:n.rfId}),M5=(n,e,t)=>r=>{const{connectionClickStartHandle:i,connectionMode:s,connection:a}=r,{fromHandle:l,toHandle:u,isValid:d}=a,h=(u==null?void 0:u.nodeId)===n&&(u==null?void 0:u.id)===e&&(u==null?void 0:u.type)===t;return{connectingFrom:(l==null?void 0:l.nodeId)===n&&(l==null?void 0:l.id)===e&&(l==null?void 0:l.type)===t,connectingTo:h,clickConnecting:(i==null?void 0:i.nodeId)===n&&(i==null?void 0:i.id)===e&&(i==null?void 0:i.type)===t,isPossibleEndHandle:s===_d.Strict?(l==null?void 0:l.type)!==t:n!==(l==null?void 0:l.nodeId)||e!==(l==null?void 0:l.id),connectionInProcess:!!l,clickConnectionInProcess:!!i,valid:h&&d}};function I5({type:n="source",position:e=Ie.Top,isValidConnection:t,isConnectable:r=!0,isConnectableStart:i=!0,isConnectableEnd:s=!0,id:a,onConnect:l,children:u,className:d,onMouseDown:h,onTouchStart:p,...g},y){var G,j;const b=a||null,w=n==="target",C=Lt(),x=zP(),{connectOnClick:A,noPanClassName:E,rfId:_}=Qe(P5,Xt),{connectingFrom:k,connectingTo:M,clickConnecting:T,isPossibleEndHandle:N,connectionInProcess:W,clickConnectionInProcess:P,valid:V}=Qe(M5(x,b,n),Xt);x||(j=(G=C.getState()).onError)==null||j.call(G,"010",Ss.error010());const X=q=>{const{defaultEdgeOptions:$,onConnect:B,hasDefaultEdges:K}=C.getState(),U={...$,...q};if(K){const{edges:Z,setEdges:re}=C.getState();re(pP(U,Z))}B==null||B(U),l==null||l(U)},Y=q=>{if(!x)return;const $=dP(q.nativeEvent);if(i&&($&&q.button===0||!$)){const B=C.getState();Lx.onPointerDown(q.nativeEvent,{autoPanOnConnect:B.autoPanOnConnect,connectionMode:B.connectionMode,connectionRadius:B.connectionRadius,domNode:B.domNode,nodeLookup:B.nodeLookup,lib:B.lib,isTarget:w,handleId:b,nodeId:x,flowId:B.rfId,panBy:B.panBy,cancelConnection:B.cancelConnection,onConnectStart:B.onConnectStart,onConnectEnd:B.onConnectEnd,updateConnection:B.updateConnection,onConnect:X,isValidConnection:t||B.isValidConnection,getTransform:()=>C.getState().transform,getFromHandle:()=>C.getState().connection.fromHandle,autoPanSpeed:B.autoPanSpeed})}$?h==null||h(q):p==null||p(q)},D=q=>{const{onClickConnectStart:$,onClickConnectEnd:B,connectionClickStartHandle:K,connectionMode:U,isValidConnection:Z,lib:re,rfId:le,nodeLookup:se,connection:ce}=C.getState();if(!x||!K&&!i)return;if(!K){$==null||$(q.nativeEvent,{nodeId:x,handleId:b,handleType:n}),C.setState({connectionClickStartHandle:{nodeId:x,type:n,id:b}});return}const ee=uP(q.target),oe=t||Z,{connection:de,isValid:pe}=Lx.isValid(q.nativeEvent,{handle:{nodeId:x,id:b,type:n},connectionMode:U,fromNodeId:K.nodeId,fromHandleId:K.id||null,fromType:K.type,isValidConnection:oe,flowId:le,doc:ee,lib:re,nodeLookup:se});pe&&de&&X(de);const me=structuredClone(ce);delete me.inProgress,me.toPosition=me.toHandle?me.toHandle.position:null,B==null||B(q,me),C.setState({connectionClickStartHandle:null})};return L.jsx("div",{"data-handleid":b,"data-nodeid":x,"data-handlepos":e,"data-id":`${_}-${x}-${b}-${n}`,className:an(["react-flow__handle",`react-flow__handle-${e}`,"nodrag",E,d,{source:!w,target:w,connectable:r,connectablestart:i,connectableend:s,clickconnecting:T,connectingfrom:k,connectingto:M,valid:V,connectionindicator:r&&(!W||N)&&(W||P?s:i)}]),onMouseDown:Y,onTouchStart:Y,onClick:A?D:void 0,ref:y,...g,children:u})}const La=I.memo(LP(I5));function N5({data:n,isConnectable:e,sourcePosition:t=Ie.Bottom}){return L.jsxs(L.Fragment,{children:[n==null?void 0:n.label,L.jsx(La,{type:"source",position:t,isConnectable:e})]})}function L5({data:n,isConnectable:e,targetPosition:t=Ie.Top,sourcePosition:r=Ie.Bottom}){return L.jsxs(L.Fragment,{children:[L.jsx(La,{type:"target",position:t,isConnectable:e}),n==null?void 0:n.label,L.jsx(La,{type:"source",position:r,isConnectable:e})]})}function D5(){return null}function O5({data:n,isConnectable:e,targetPosition:t=Ie.Top}){return L.jsxs(L.Fragment,{children:[L.jsx(La,{type:"target",position:t,isConnectable:e}),n==null?void 0:n.label]})}const l0={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}},nk={input:N5,default:L5,output:O5,group:D5};function F5(n){var e,t,r,i;return n.internals.handleBounds===void 0?{width:n.width??n.initialWidth??((e=n.style)==null?void 0:e.width),height:n.height??n.initialHeight??((t=n.style)==null?void 0:t.height)}:{width:n.width??((r=n.style)==null?void 0:r.width),height:n.height??((i=n.style)==null?void 0:i.height)}}const z5=n=>{const{width:e,height:t,x:r,y:i}=gg(n.nodeLookup,{filter:s=>!!s.selected});return{width:Di(e)?e:null,height:Di(t)?t:null,userSelectionActive:n.userSelectionActive,transformString:`translate(${n.transform[0]}px,${n.transform[1]}px) scale(${n.transform[2]}) translate(${r}px,${i}px)`}};function $5({onSelectionContextMenu:n,noPanClassName:e,disableKeyboardA11y:t}){const r=Lt(),{width:i,height:s,transformString:a,userSelectionActive:l}=Qe(z5,Xt),u=FP(),d=I.useRef(null);if(I.useEffect(()=>{var g;t||(g=d.current)==null||g.focus({preventScroll:!0})},[t]),OP({nodeRef:d}),l||!i||!s)return null;const h=n?g=>{const y=r.getState().nodes.filter(b=>b.selected);n(g,y)}:void 0,p=g=>{Object.prototype.hasOwnProperty.call(l0,g.key)&&(g.preventDefault(),u({direction:l0[g.key],factor:g.shiftKey?4:1}))};return L.jsx("div",{className:an(["react-flow__nodesselection","react-flow__container",e]),style:{transform:a},children:L.jsx("div",{ref:d,className:"react-flow__nodesselection-rect",onContextMenu:h,tabIndex:t?void 0:-1,onKeyDown:t?void 0:p,style:{width:i,height:s}})})}const rk=typeof window<"u"?window:void 0,B5=n=>({nodesSelectionActive:n.nodesSelectionActive,userSelectionActive:n.userSelectionActive});function $P({children:n,onPaneClick:e,onPaneMouseEnter:t,onPaneMouseMove:r,onPaneMouseLeave:i,onPaneContextMenu:s,onPaneScroll:a,paneClickDistance:l,deleteKeyCode:u,selectionKeyCode:d,selectionOnDrag:h,selectionMode:p,onSelectionStart:g,onSelectionEnd:y,multiSelectionKeyCode:b,panActivationKeyCode:w,zoomActivationKeyCode:C,elementsSelectable:x,zoomOnScroll:A,zoomOnPinch:E,panOnScroll:_,panOnScrollSpeed:k,panOnScrollMode:M,zoomOnDoubleClick:T,panOnDrag:N,defaultViewport:W,translateExtent:P,minZoom:V,maxZoom:X,preventScrolling:Y,onSelectionContextMenu:D,noWheelClassName:G,noPanClassName:j,disableKeyboardA11y:q,onViewportChange:$,isControlledViewport:B}){const{nodesSelectionActive:K,userSelectionActive:U}=Qe(B5),Z=Ef(d,{target:rk}),re=Ef(w,{target:rk}),le=re||N,se=re||_,ce=h&&le!==!0,ee=Z||U||ce;return w5({deleteKeyCode:u,multiSelectionKeyCode:b}),L.jsx(E5,{onPaneContextMenu:s,elementsSelectable:x,zoomOnScroll:A,zoomOnPinch:E,panOnScroll:se,panOnScrollSpeed:k,panOnScrollMode:M,zoomOnDoubleClick:T,panOnDrag:!Z&&le,defaultViewport:W,translateExtent:P,minZoom:V,maxZoom:X,zoomActivationKeyCode:C,preventScrolling:Y,noWheelClassName:G,noPanClassName:j,onViewportChange:$,isControlledViewport:B,paneClickDistance:l,children:L.jsxs(k5,{onSelectionStart:g,onSelectionEnd:y,onPaneClick:e,onPaneMouseEnter:t,onPaneMouseMove:r,onPaneMouseLeave:i,onPaneContextMenu:s,onPaneScroll:a,panOnDrag:le,isSelecting:!!ee,selectionMode:p,selectionKeyPressed:Z,selectionOnDrag:ce,children:[n,K&&L.jsx($5,{onSelectionContextMenu:D,noPanClassName:j,disableKeyboardA11y:q})]})})}$P.displayName="FlowRenderer";const H5=I.memo($P),j5=n=>e=>n?nP(e.nodeLookup,{x:0,y:0,width:e.width,height:e.height},e.transform,!0).map(t=>t.id):Array.from(e.nodeLookup.keys());function W5(n){return Qe(I.useCallback(j5(n),[n]),Xt)}const U5=n=>n.updateNodeInternals;function V5(){const n=Qe(U5),[e]=I.useState(()=>typeof ResizeObserver>"u"?null:new ResizeObserver(t=>{const r=new Map;t.forEach(i=>{const s=i.target.getAttribute("data-id");r.set(s,{id:s,nodeElement:i.target,force:!0})}),n(r)}));return I.useEffect(()=>()=>{e==null||e.disconnect()},[e]),e}function G5({node:n,nodeType:e,hasDimensions:t,resizeObserver:r}){const i=Lt(),s=I.useRef(null),a=I.useRef(null),l=I.useRef(n.sourcePosition),u=I.useRef(n.targetPosition),d=I.useRef(e),h=t&&!!n.internals.handleBounds;return I.useEffect(()=>{s.current&&!n.hidden&&(!h||a.current!==s.current)&&(a.current&&(r==null||r.unobserve(a.current)),r==null||r.observe(s.current),a.current=s.current)},[h,n.hidden]),I.useEffect(()=>()=>{a.current&&(r==null||r.unobserve(a.current),a.current=null)},[]),I.useEffect(()=>{if(s.current){const p=d.current!==e,g=l.current!==n.sourcePosition,y=u.current!==n.targetPosition;(p||g||y)&&(d.current=e,l.current=n.sourcePosition,u.current=n.targetPosition,i.getState().updateNodeInternals(new Map([[n.id,{id:n.id,nodeElement:s.current,force:!0}]])))}},[n.id,e,n.sourcePosition,n.targetPosition]),s}function X5({id:n,onClick:e,onMouseEnter:t,onMouseMove:r,onMouseLeave:i,onContextMenu:s,onDoubleClick:a,nodesDraggable:l,elementsSelectable:u,nodesConnectable:d,nodesFocusable:h,resizeObserver:p,noDragClassName:g,noPanClassName:y,disableKeyboardA11y:b,rfId:w,nodeTypes:C,nodeClickDistance:x,onError:A}){const{node:E,internals:_,isParent:k}=Qe(ee=>{const oe=ee.nodeLookup.get(n),de=ee.parentLookup.has(n);return{node:oe,internals:oe.internals,isParent:de}},Xt);let M=E.type||"default",T=(C==null?void 0:C[M])||nk[M];T===void 0&&(A==null||A("003",Ss.error003(M)),M="default",T=nk.default);const N=!!(E.draggable||l&&typeof E.draggable>"u"),W=!!(E.selectable||u&&typeof E.selectable>"u"),P=!!(E.connectable||d&&typeof E.connectable>"u"),V=!!(E.focusable||h&&typeof E.focusable>"u"),X=Lt(),Y=lP(E),D=G5({node:E,nodeType:M,hasDimensions:Y,resizeObserver:p}),G=OP({nodeRef:D,disabled:E.hidden||!N,noDragClassName:g,handleSelector:E.dragHandle,nodeId:n,isSelectable:W,nodeClickDistance:x}),j=FP();if(E.hidden)return null;const q=Ro(E),$=F5(E),B=W||N||e||t||r||i,K=t?ee=>t(ee,{..._.userNode}):void 0,U=r?ee=>r(ee,{..._.userNode}):void 0,Z=i?ee=>i(ee,{..._.userNode}):void 0,re=s?ee=>s(ee,{..._.userNode}):void 0,le=a?ee=>a(ee,{..._.userNode}):void 0,se=ee=>{const{selectNodesOnDrag:oe,nodeDragThreshold:de}=X.getState();W&&(!oe||!N||de>0)&&Dx({id:n,store:X,nodeRef:D}),e&&e(ee,{..._.userNode})},ce=ee=>{if(!(Px(ee.nativeEvent)||b))if(ZT.includes(ee.key)&&W){const oe=ee.key==="Escape";Dx({id:n,store:X,unselect:oe,nodeRef:D})}else N&&E.selected&&Object.prototype.hasOwnProperty.call(l0,ee.key)&&(ee.preventDefault(),X.setState({ariaLiveMessage:`Moved selected node ${ee.key.replace("Arrow","").toLowerCase()}. New position, x: ${~~_.positionAbsolute.x}, y: ${~~_.positionAbsolute.y}`}),j({direction:l0[ee.key],factor:ee.shiftKey?4:1}))};return L.jsx("div",{className:an(["react-flow__node",`react-flow__node-${M}`,{[y]:N},E.className,{selected:E.selected,selectable:W,parent:k,draggable:N,dragging:G}]),ref:D,style:{zIndex:_.z,transform:`translate(${_.positionAbsolute.x}px,${_.positionAbsolute.y}px)`,pointerEvents:B?"all":"none",visibility:Y?"visible":"hidden",...E.style,...$},"data-id":n,"data-testid":`rf__node-${n}`,onMouseEnter:K,onMouseMove:U,onMouseLeave:Z,onContextMenu:re,onClick:se,onDoubleClick:le,onKeyDown:V?ce:void 0,tabIndex:V?0:void 0,role:V?"button":void 0,"aria-describedby":b?void 0:`${RP}-${w}`,"aria-label":E.ariaLabel,children:L.jsx(T5,{value:n,children:L.jsx(T,{id:n,data:E.data,type:M,positionAbsoluteX:_.positionAbsolute.x,positionAbsoluteY:_.positionAbsolute.y,selected:E.selected??!1,selectable:W,draggable:N,deletable:E.deletable??!0,isConnectable:P,sourcePosition:E.sourcePosition,targetPosition:E.targetPosition,dragging:G,dragHandle:E.dragHandle,zIndex:_.z,parentId:E.parentId,...q})})})}const Y5=n=>({nodesDraggable:n.nodesDraggable,nodesConnectable:n.nodesConnectable,nodesFocusable:n.nodesFocusable,elementsSelectable:n.elementsSelectable,onError:n.onError});function BP(n){const{nodesDraggable:e,nodesConnectable:t,nodesFocusable:r,elementsSelectable:i,onError:s}=Qe(Y5,Xt),a=W5(n.onlyRenderVisibleElements),l=V5();return L.jsx("div",{className:"react-flow__nodes",style:iv,children:a.map(u=>L.jsx(X5,{id:u,nodeTypes:n.nodeTypes,nodeExtent:n.nodeExtent,onClick:n.onNodeClick,onMouseEnter:n.onNodeMouseEnter,onMouseMove:n.onNodeMouseMove,onMouseLeave:n.onNodeMouseLeave,onContextMenu:n.onNodeContextMenu,onDoubleClick:n.onNodeDoubleClick,noDragClassName:n.noDragClassName,noPanClassName:n.noPanClassName,rfId:n.rfId,disableKeyboardA11y:n.disableKeyboardA11y,resizeObserver:l,nodesDraggable:e,nodesConnectable:t,nodesFocusable:r,elementsSelectable:i,nodeClickDistance:n.nodeClickDistance,onError:s},u))})}BP.displayName="NodeRenderer";const q5=I.memo(BP);function K5(n){return Qe(I.useCallback(t=>{if(!n)return t.edges.map(i=>i.id);const r=[];if(t.width&&t.height)for(const i of t.edges){const s=t.nodeLookup.get(i.source),a=t.nodeLookup.get(i.target);s&&a&&Qz({sourceNode:s,targetNode:a,width:t.width,height:t.height,transform:t.transform})&&r.push(i.id)}return r},[n]),Xt)}const Q5=({color:n="none",strokeWidth:e=1})=>L.jsx("polyline",{style:{stroke:n,strokeWidth:e},strokeLinecap:"round",strokeLinejoin:"round",fill:"none",points:"-5,-4 0,0 -5,4"}),Z5=({color:n="none",strokeWidth:e=1})=>L.jsx("polyline",{style:{stroke:n,fill:n,strokeWidth:e},strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"}),ik={[Ad.Arrow]:Q5,[Ad.ArrowClosed]:Z5};function J5(n){const e=Lt();return I.useMemo(()=>{var i,s;return Object.prototype.hasOwnProperty.call(ik,n)?ik[n]:((s=(i=e.getState()).onError)==null||s.call(i,"009",Ss.error009(n)),null)},[n])}const e3=({id:n,type:e,color:t,width:r=12.5,height:i=12.5,markerUnits:s="strokeWidth",strokeWidth:a,orient:l="auto-start-reverse"})=>{const u=J5(e);return u?L.jsx("marker",{className:"react-flow__arrowhead",id:n,markerWidth:`${r}`,markerHeight:`${i}`,viewBox:"-10 -10 20 20",markerUnits:s,orient:l,refX:"0",refY:"0",children:L.jsx(u,{color:t,strokeWidth:a})}):null},HP=({defaultColor:n,rfId:e})=>{const t=Qe(s=>s.edges),r=Qe(s=>s.defaultEdgeOptions),i=I.useMemo(()=>i$(t,{id:e,defaultColor:n,defaultMarkerStart:r==null?void 0:r.markerStart,defaultMarkerEnd:r==null?void 0:r.markerEnd}),[t,r,e,n]);return i.length?L.jsx("svg",{className:"react-flow__marker",children:L.jsx("defs",{children:i.map(s=>L.jsx(e3,{id:s.id,type:s.type,color:s.color,width:s.width,height:s.height,markerUnits:s.markerUnits,strokeWidth:s.strokeWidth,orient:s.orient},s.id))})}):null};HP.displayName="MarkerDefinitions";var t3=I.memo(HP);function jP({x:n,y:e,label:t,labelStyle:r={},labelShowBg:i=!0,labelBgStyle:s={},labelBgPadding:a=[2,4],labelBgBorderRadius:l=2,children:u,className:d,...h}){const[p,g]=I.useState({x:1,y:0,width:0,height:0}),y=an(["react-flow__edge-textwrapper",d]),b=I.useRef(null);return I.useEffect(()=>{if(b.current){const w=b.current.getBBox();g({x:w.x,y:w.y,width:w.width,height:w.height})}},[t]),typeof t>"u"||!t?null:L.jsxs("g",{transform:`translate(${n-p.width/2} ${e-p.height/2})`,className:y,visibility:p.width?"visible":"hidden",...h,children:[i&&L.jsx("rect",{width:p.width+2*a[0],x:-a[0],y:-a[1],height:p.height+2*a[1],className:"react-flow__edge-textbg",style:s,rx:l,ry:l}),L.jsx("text",{className:"react-flow__edge-text",y:p.height/2,dy:"0.3em",ref:b,style:r,children:t}),u]})}jP.displayName="EdgeText";const n3=I.memo(jP);function Ld({path:n,labelX:e,labelY:t,label:r,labelStyle:i,labelShowBg:s,labelBgStyle:a,labelBgPadding:l,labelBgBorderRadius:u,interactionWidth:d=20,...h}){return L.jsxs(L.Fragment,{children:[L.jsx("path",{...h,d:n,fill:"none",className:an(["react-flow__edge-path",h.className])}),d&&L.jsx("path",{d:n,fill:"none",strokeOpacity:0,strokeWidth:d,className:"react-flow__edge-interaction"}),r&&Di(e)&&Di(t)?L.jsx(n3,{x:e,y:t,label:r,labelStyle:i,labelShowBg:s,labelBgStyle:a,labelBgPadding:l,labelBgBorderRadius:u}):null]})}function sk({pos:n,x1:e,y1:t,x2:r,y2:i}){return n===Ie.Left||n===Ie.Right?[.5*(e+r),t]:[e,.5*(t+i)]}function WP({sourceX:n,sourceY:e,sourcePosition:t=Ie.Bottom,targetX:r,targetY:i,targetPosition:s=Ie.Top}){const[a,l]=sk({pos:t,x1:n,y1:e,x2:r,y2:i}),[u,d]=sk({pos:s,x1:r,y1:i,x2:n,y2:e}),[h,p,g,y]=hP({sourceX:n,sourceY:e,targetX:r,targetY:i,sourceControlX:a,sourceControlY:l,targetControlX:u,targetControlY:d});return[`M${n},${e} C${a},${l} ${u},${d} ${r},${i}`,h,p,g,y]}function UP(n){return I.memo(({id:e,sourceX:t,sourceY:r,targetX:i,targetY:s,sourcePosition:a=Ie.Bottom,targetPosition:l=Ie.Top,label:u,labelStyle:d,labelShowBg:h,labelBgStyle:p,labelBgPadding:g,labelBgBorderRadius:y,style:b,markerEnd:w,markerStart:C,interactionWidth:x})=>{const[A,E,_]=WP({sourceX:t,sourceY:r,sourcePosition:a,targetX:i,targetY:s,targetPosition:l}),k=n.isInternal?void 0:e;return L.jsx(Ld,{id:k,path:A,labelX:E,labelY:_,label:u,labelStyle:d,labelShowBg:h,labelBgStyle:p,labelBgPadding:g,labelBgBorderRadius:y,style:b,markerEnd:w,markerStart:C,interactionWidth:x})})}const r3=UP({isInternal:!1}),VP=UP({isInternal:!0});r3.displayName="SimpleBezierEdge";VP.displayName="SimpleBezierEdgeInternal";function GP(n){return I.memo(({id:e,sourceX:t,sourceY:r,targetX:i,targetY:s,label:a,labelStyle:l,labelShowBg:u,labelBgStyle:d,labelBgPadding:h,labelBgBorderRadius:p,style:g,sourcePosition:y=Ie.Bottom,targetPosition:b=Ie.Top,markerEnd:w,markerStart:C,pathOptions:x,interactionWidth:A})=>{const[E,_,k]=Mx({sourceX:t,sourceY:r,sourcePosition:y,targetX:i,targetY:s,targetPosition:b,borderRadius:x==null?void 0:x.borderRadius,offset:x==null?void 0:x.offset}),M=n.isInternal?void 0:e;return L.jsx(Ld,{id:M,path:E,labelX:_,labelY:k,label:a,labelStyle:l,labelShowBg:u,labelBgStyle:d,labelBgPadding:h,labelBgBorderRadius:p,style:g,markerEnd:w,markerStart:C,interactionWidth:A})})}const XP=GP({isInternal:!1}),YP=GP({isInternal:!0});XP.displayName="SmoothStepEdge";YP.displayName="SmoothStepEdgeInternal";function qP(n){return I.memo(({id:e,...t})=>{var i;const r=n.isInternal?void 0:e;return L.jsx(XP,{...t,id:r,pathOptions:I.useMemo(()=>{var s;return{borderRadius:0,offset:(s=t.pathOptions)==null?void 0:s.offset}},[(i=t.pathOptions)==null?void 0:i.offset])})})}const i3=qP({isInternal:!1}),KP=qP({isInternal:!0});i3.displayName="StepEdge";KP.displayName="StepEdgeInternal";function QP(n){return I.memo(({id:e,sourceX:t,sourceY:r,targetX:i,targetY:s,label:a,labelStyle:l,labelShowBg:u,labelBgStyle:d,labelBgPadding:h,labelBgBorderRadius:p,style:g,markerEnd:y,markerStart:b,interactionWidth:w})=>{const[C,x,A]=gP({sourceX:t,sourceY:r,targetX:i,targetY:s}),E=n.isInternal?void 0:e;return L.jsx(Ld,{id:E,path:C,labelX:x,labelY:A,label:a,labelStyle:l,labelShowBg:u,labelBgStyle:d,labelBgPadding:h,labelBgBorderRadius:p,style:g,markerEnd:y,markerStart:b,interactionWidth:w})})}const s3=QP({isInternal:!1}),ZP=QP({isInternal:!0});s3.displayName="StraightEdge";ZP.displayName="StraightEdgeInternal";function JP(n){return I.memo(({id:e,sourceX:t,sourceY:r,targetX:i,targetY:s,sourcePosition:a=Ie.Bottom,targetPosition:l=Ie.Top,label:u,labelStyle:d,labelShowBg:h,labelBgStyle:p,labelBgPadding:g,labelBgBorderRadius:y,style:b,markerEnd:w,markerStart:C,pathOptions:x,interactionWidth:A})=>{const[E,_,k]=ev({sourceX:t,sourceY:r,sourcePosition:a,targetX:i,targetY:s,targetPosition:l,curvature:x==null?void 0:x.curvature}),M=n.isInternal?void 0:e;return L.jsx(Ld,{id:M,path:E,labelX:_,labelY:k,label:u,labelStyle:d,labelShowBg:h,labelBgStyle:p,labelBgPadding:g,labelBgBorderRadius:y,style:b,markerEnd:w,markerStart:C,interactionWidth:A})})}const o3=JP({isInternal:!1}),eM=JP({isInternal:!0});o3.displayName="BezierEdge";eM.displayName="BezierEdgeInternal";const ok={default:eM,straight:ZP,step:KP,smoothstep:YP,simplebezier:VP},ak={sourceX:null,sourceY:null,targetX:null,targetY:null,sourcePosition:null,targetPosition:null},a3=(n,e,t)=>t===Ie.Left?n-e:t===Ie.Right?n+e:n,l3=(n,e,t)=>t===Ie.Top?n-e:t===Ie.Bottom?n+e:n,lk="react-flow__edgeupdater";function ck({position:n,centerX:e,centerY:t,radius:r=10,onMouseDown:i,onMouseEnter:s,onMouseOut:a,type:l}){return L.jsx("circle",{onMouseDown:i,onMouseEnter:s,onMouseOut:a,className:an([lk,`${lk}-${l}`]),cx:a3(e,r,n),cy:l3(t,r,n),r,stroke:"transparent",fill:"transparent"})}function c3({isReconnectable:n,reconnectRadius:e,edge:t,sourceX:r,sourceY:i,targetX:s,targetY:a,sourcePosition:l,targetPosition:u,onReconnect:d,onReconnectStart:h,onReconnectEnd:p,setReconnecting:g,setUpdateHover:y}){const b=Lt(),w=(_,k)=>{if(_.button!==0)return;const{autoPanOnConnect:M,domNode:T,isValidConnection:N,connectionMode:W,connectionRadius:P,lib:V,onConnectStart:X,onConnectEnd:Y,cancelConnection:D,nodeLookup:G,rfId:j,panBy:q,updateConnection:$}=b.getState(),B=k.type==="target";g(!0),h==null||h(_,t,k.type);const K=(Z,re)=>{g(!1),p==null||p(Z,t,k.type,re)},U=Z=>d==null?void 0:d(t,Z);Lx.onPointerDown(_.nativeEvent,{autoPanOnConnect:M,connectionMode:W,connectionRadius:P,domNode:T,handleId:k.id,nodeId:k.nodeId,nodeLookup:G,isTarget:B,edgeUpdaterType:k.type,lib:V,flowId:j,cancelConnection:D,panBy:q,isValidConnection:N,onConnect:U,onConnectStart:X,onConnectEnd:Y,onReconnectEnd:K,updateConnection:$,getTransform:()=>b.getState().transform,getFromHandle:()=>b.getState().connection.fromHandle})},C=_=>w(_,{nodeId:t.target,id:t.targetHandle??null,type:"target"}),x=_=>w(_,{nodeId:t.source,id:t.sourceHandle??null,type:"source"}),A=()=>y(!0),E=()=>y(!1);return L.jsxs(L.Fragment,{children:[(n===!0||n==="source")&&L.jsx(ck,{position:l,centerX:r,centerY:i,radius:e,onMouseDown:C,onMouseEnter:A,onMouseOut:E,type:"source"}),(n===!0||n==="target")&&L.jsx(ck,{position:u,centerX:s,centerY:a,radius:e,onMouseDown:x,onMouseEnter:A,onMouseOut:E,type:"target"})]})}function u3({id:n,edgesFocusable:e,edgesReconnectable:t,elementsSelectable:r,onClick:i,onDoubleClick:s,onContextMenu:a,onMouseEnter:l,onMouseMove:u,onMouseLeave:d,reconnectRadius:h,onReconnect:p,onReconnectStart:g,onReconnectEnd:y,rfId:b,edgeTypes:w,noPanClassName:C,onError:x,disableKeyboardA11y:A}){let E=Qe(ge=>ge.edgeLookup.get(n));const _=Qe(ge=>ge.defaultEdgeOptions);E=_?{..._,...E}:E;let k=E.type||"default",M=(w==null?void 0:w[k])||ok[k];M===void 0&&(x==null||x("011",Ss.error011(k)),k="default",M=ok.default);const T=!!(E.focusable||e&&typeof E.focusable>"u"),N=typeof p<"u"&&(E.reconnectable||t&&typeof E.reconnectable>"u"),W=!!(E.selectable||r&&typeof E.selectable>"u"),P=I.useRef(null),[V,X]=I.useState(!1),[Y,D]=I.useState(!1),G=Lt(),{zIndex:j,sourceX:q,sourceY:$,targetX:B,targetY:K,sourcePosition:U,targetPosition:Z}=Qe(I.useCallback(ge=>{const Re=ge.nodeLookup.get(E.source),be=ge.nodeLookup.get(E.target);if(!Re||!be)return{zIndex:E.zIndex,...ak};const je=r$({id:n,sourceNode:Re,targetNode:be,sourceHandle:E.sourceHandle||null,targetHandle:E.targetHandle||null,connectionMode:ge.connectionMode,onError:x});return{zIndex:Kz({selected:E.selected,zIndex:E.zIndex,sourceNode:Re,targetNode:be,elevateOnSelect:ge.elevateEdgesOnSelect}),...je||ak}},[E.source,E.target,E.sourceHandle,E.targetHandle,E.selected,E.zIndex]),Xt),re=I.useMemo(()=>E.markerStart?`url('#${Ix(E.markerStart,b)}')`:void 0,[E.markerStart,b]),le=I.useMemo(()=>E.markerEnd?`url('#${Ix(E.markerEnd,b)}')`:void 0,[E.markerEnd,b]);if(E.hidden||q===null||$===null||B===null||K===null)return null;const se=ge=>{var mt;const{addSelectedEdges:Re,unselectNodesAndEdges:be,multiSelectionActive:je}=G.getState();W&&(G.setState({nodesSelectionActive:!1}),E.selected&&je?(be({nodes:[],edges:[E]}),(mt=P.current)==null||mt.blur()):Re([n])),i&&i(ge,E)},ce=s?ge=>{s(ge,{...E})}:void 0,ee=a?ge=>{a(ge,{...E})}:void 0,oe=l?ge=>{l(ge,{...E})}:void 0,de=u?ge=>{u(ge,{...E})}:void 0,pe=d?ge=>{d(ge,{...E})}:void 0,me=ge=>{var Re;if(!A&&ZT.includes(ge.key)&&W){const{unselectNodesAndEdges:be,addSelectedEdges:je}=G.getState();ge.key==="Escape"?((Re=P.current)==null||Re.blur(),be({edges:[E]})):je([n])}};return L.jsx("svg",{style:{zIndex:j},children:L.jsxs("g",{className:an(["react-flow__edge",`react-flow__edge-${k}`,E.className,C,{selected:E.selected,animated:E.animated,inactive:!W&&!i,updating:V,selectable:W}]),onClick:se,onDoubleClick:ce,onContextMenu:ee,onMouseEnter:oe,onMouseMove:de,onMouseLeave:pe,onKeyDown:T?me:void 0,tabIndex:T?0:void 0,role:T?"button":"img","data-id":n,"data-testid":`rf__edge-${n}`,"aria-label":E.ariaLabel===null?void 0:E.ariaLabel||`Edge from ${E.source} to ${E.target}`,"aria-describedby":T?`${TP}-${b}`:void 0,ref:P,children:[!Y&&L.jsx(M,{id:n,source:E.source,target:E.target,type:E.type,selected:E.selected,animated:E.animated,selectable:W,deletable:E.deletable??!0,label:E.label,labelStyle:E.labelStyle,labelShowBg:E.labelShowBg,labelBgStyle:E.labelBgStyle,labelBgPadding:E.labelBgPadding,labelBgBorderRadius:E.labelBgBorderRadius,sourceX:q,sourceY:$,targetX:B,targetY:K,sourcePosition:U,targetPosition:Z,data:E.data,style:E.style,sourceHandleId:E.sourceHandle,targetHandleId:E.targetHandle,markerStart:re,markerEnd:le,pathOptions:"pathOptions"in E?E.pathOptions:void 0,interactionWidth:E.interactionWidth}),N&&L.jsx(c3,{edge:E,isReconnectable:N,reconnectRadius:h,onReconnect:p,onReconnectStart:g,onReconnectEnd:y,sourceX:q,sourceY:$,targetX:B,targetY:K,sourcePosition:U,targetPosition:Z,setUpdateHover:X,setReconnecting:D})]})})}const d3=n=>({edgesFocusable:n.edgesFocusable,edgesReconnectable:n.edgesReconnectable,elementsSelectable:n.elementsSelectable,connectionMode:n.connectionMode,onError:n.onError});function tM({defaultMarkerColor:n,onlyRenderVisibleElements:e,rfId:t,edgeTypes:r,noPanClassName:i,onReconnect:s,onEdgeContextMenu:a,onEdgeMouseEnter:l,onEdgeMouseMove:u,onEdgeMouseLeave:d,onEdgeClick:h,reconnectRadius:p,onEdgeDoubleClick:g,onReconnectStart:y,onReconnectEnd:b,disableKeyboardA11y:w}){const{edgesFocusable:C,edgesReconnectable:x,elementsSelectable:A,onError:E}=Qe(d3,Xt),_=K5(e);return L.jsxs("div",{className:"react-flow__edges",children:[L.jsx(t3,{defaultColor:n,rfId:t}),_.map(k=>L.jsx(u3,{id:k,edgesFocusable:C,edgesReconnectable:x,elementsSelectable:A,noPanClassName:i,onReconnect:s,onContextMenu:a,onMouseEnter:l,onMouseMove:u,onMouseLeave:d,onClick:h,reconnectRadius:p,onDoubleClick:g,onReconnectStart:y,onReconnectEnd:b,rfId:t,onError:E,edgeTypes:r,disableKeyboardA11y:w},k))]})}tM.displayName="EdgeRenderer";const h3=I.memo(tM),f3=n=>`translate(${n.transform[0]}px,${n.transform[1]}px) scale(${n.transform[2]})`;function p3({children:n}){const e=Qe(f3);return L.jsx("div",{className:"react-flow__viewport xyflow__viewport react-flow__container",style:{transform:e},children:n})}function g3(n){const e=rv(),t=I.useRef(!1);I.useEffect(()=>{!t.current&&e.viewportInitialized&&n&&(setTimeout(()=>n(e),1),t.current=!0)},[n,e.viewportInitialized])}const m3=n=>{var e;return(e=n.panZoom)==null?void 0:e.syncViewport};function y3(n){const e=Qe(m3),t=Lt();return I.useEffect(()=>{n&&(e==null||e(n),t.setState({transform:[n.x,n.y,n.zoom]}))},[n,e]),null}function v3(n){return n.connection.inProgress?{...n.connection,to:mg(n.connection.to,n.transform)}:{...n.connection}}function b3(n){return v3}function w3(n){const e=b3();return Qe(e,Xt)}const x3=n=>({nodesConnectable:n.nodesConnectable,isValid:n.connection.isValid,inProgress:n.connection.inProgress,width:n.width,height:n.height});function S3({containerStyle:n,style:e,type:t,component:r}){const{nodesConnectable:i,width:s,height:a,isValid:l,inProgress:u}=Qe(x3,Xt);return!(s&&i&&u)?null:L.jsx("svg",{style:n,width:s,height:a,className:"react-flow__connectionline react-flow__container",children:L.jsx("g",{className:an(["react-flow__connection",eP(l)]),children:L.jsx(nM,{style:e,type:t,CustomComponent:r,isValid:l})})})}const nM=({style:n,type:e=ca.Bezier,CustomComponent:t,isValid:r})=>{const{inProgress:i,from:s,fromNode:a,fromHandle:l,fromPosition:u,to:d,toNode:h,toHandle:p,toPosition:g}=w3();if(!i)return;if(t)return L.jsx(t,{connectionLineType:e,connectionLineStyle:n,fromNode:a,fromHandle:l,fromX:s.x,fromY:s.y,toX:d.x,toY:d.y,fromPosition:u,toPosition:g,connectionStatus:eP(r),toNode:h,toHandle:p});let y="";const b={sourceX:s.x,sourceY:s.y,sourcePosition:u,targetX:d.x,targetY:d.y,targetPosition:g};switch(e){case ca.Bezier:[y]=ev(b);break;case ca.SimpleBezier:[y]=WP(b);break;case ca.Step:[y]=Mx({...b,borderRadius:0});break;case ca.SmoothStep:[y]=Mx(b);break;default:[y]=gP(b)}return L.jsx("path",{d:y,fill:"none",className:"react-flow__connection-path",style:n})};nM.displayName="ConnectionLine";const E3={};function uk(n=E3){I.useRef(n),Lt(),I.useEffect(()=>{},[n])}function C3(){Lt(),I.useRef(!1),I.useEffect(()=>{},[])}function rM({nodeTypes:n,edgeTypes:e,onInit:t,onNodeClick:r,onEdgeClick:i,onNodeDoubleClick:s,onEdgeDoubleClick:a,onNodeMouseEnter:l,onNodeMouseMove:u,onNodeMouseLeave:d,onNodeContextMenu:h,onSelectionContextMenu:p,onSelectionStart:g,onSelectionEnd:y,connectionLineType:b,connectionLineStyle:w,connectionLineComponent:C,connectionLineContainerStyle:x,selectionKeyCode:A,selectionOnDrag:E,selectionMode:_,multiSelectionKeyCode:k,panActivationKeyCode:M,zoomActivationKeyCode:T,deleteKeyCode:N,onlyRenderVisibleElements:W,elementsSelectable:P,defaultViewport:V,translateExtent:X,minZoom:Y,maxZoom:D,preventScrolling:G,defaultMarkerColor:j,zoomOnScroll:q,zoomOnPinch:$,panOnScroll:B,panOnScrollSpeed:K,panOnScrollMode:U,zoomOnDoubleClick:Z,panOnDrag:re,onPaneClick:le,onPaneMouseEnter:se,onPaneMouseMove:ce,onPaneMouseLeave:ee,onPaneScroll:oe,onPaneContextMenu:de,paneClickDistance:pe,nodeClickDistance:me,onEdgeContextMenu:ge,onEdgeMouseEnter:Re,onEdgeMouseMove:be,onEdgeMouseLeave:je,reconnectRadius:mt,onReconnect:Dt,onReconnectStart:Tt,onReconnectEnd:yn,noDragClassName:St,noWheelClassName:ut,noPanClassName:Te,disableKeyboardA11y:Yn,nodeExtent:Yt,rfId:qn,viewport:or,onViewportChange:ar}){return uk(n),uk(e),C3(),g3(t),y3(or),L.jsx(H5,{onPaneClick:le,onPaneMouseEnter:se,onPaneMouseMove:ce,onPaneMouseLeave:ee,onPaneContextMenu:de,onPaneScroll:oe,paneClickDistance:pe,deleteKeyCode:N,selectionKeyCode:A,selectionOnDrag:E,selectionMode:_,onSelectionStart:g,onSelectionEnd:y,multiSelectionKeyCode:k,panActivationKeyCode:M,zoomActivationKeyCode:T,elementsSelectable:P,zoomOnScroll:q,zoomOnPinch:$,zoomOnDoubleClick:Z,panOnScroll:B,panOnScrollSpeed:K,panOnScrollMode:U,panOnDrag:re,defaultViewport:V,translateExtent:X,minZoom:Y,maxZoom:D,onSelectionContextMenu:p,preventScrolling:G,noDragClassName:St,noWheelClassName:ut,noPanClassName:Te,disableKeyboardA11y:Yn,onViewportChange:ar,isControlledViewport:!!or,children:L.jsxs(p3,{children:[L.jsx(h3,{edgeTypes:e,onEdgeClick:i,onEdgeDoubleClick:a,onReconnect:Dt,onReconnectStart:Tt,onReconnectEnd:yn,onlyRenderVisibleElements:W,onEdgeContextMenu:ge,onEdgeMouseEnter:Re,onEdgeMouseMove:be,onEdgeMouseLeave:je,reconnectRadius:mt,defaultMarkerColor:j,noPanClassName:Te,disableKeyboardA11y:Yn,rfId:qn}),L.jsx(S3,{style:w,type:b,component:C,containerStyle:x}),L.jsx("div",{className:"react-flow__edgelabel-renderer"}),L.jsx(q5,{nodeTypes:n,onNodeClick:r,onNodeDoubleClick:s,onNodeMouseEnter:l,onNodeMouseMove:u,onNodeMouseLeave:d,onNodeContextMenu:h,nodeClickDistance:me,onlyRenderVisibleElements:W,noPanClassName:Te,noDragClassName:St,disableKeyboardA11y:Yn,nodeExtent:Yt,rfId:qn}),L.jsx("div",{className:"react-flow__viewport-portal"})]})})}rM.displayName="GraphView";const _3=I.memo(rM),dk=({nodes:n,edges:e,defaultNodes:t,defaultEdges:r,width:i,height:s,fitView:a,nodeOrigin:l,nodeExtent:u}={})=>{const d=new Map,h=new Map,p=new Map,g=new Map,y=r??e??[],b=t??n??[],w=l??[0,0],C=u??bf;yP(p,g,y),Nx(b,d,h,{nodeOrigin:w,nodeExtent:C,elevateNodesOnSelect:!1});let x=[0,0,1];if(a&&i&&s){const A=gg(d,{filter:M=>!!((M.width||M.initialWidth)&&(M.height||M.initialHeight))}),{x:E,y:_,zoom:k}=R1(A,i,s,.5,2,.1);x=[E,_,k]}return{rfId:"1",width:0,height:0,transform:x,nodes:b,nodeLookup:d,parentLookup:h,edges:y,edgeLookup:g,connectionLookup:p,onNodesChange:null,onEdgesChange:null,hasDefaultNodes:t!==void 0,hasDefaultEdges:r!==void 0,panZoom:null,minZoom:.5,maxZoom:2,translateExtent:bf,nodeExtent:C,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionMode:_d.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:w,nodeDragThreshold:1,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesReconnectable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,elevateEdgesOnSelect:!1,fitViewOnInit:!1,fitViewDone:!1,fitViewOnInitOptions:void 0,selectNodesOnDrag:!0,multiSelectionActive:!1,connection:{...JT},connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,autoPanSpeed:15,connectionRadius:20,onError:Yz,isValidConnection:void 0,onSelectionChangeHandlers:[],lib:"react",debug:!1}},A3=({nodes:n,edges:e,defaultNodes:t,defaultEdges:r,width:i,height:s,fitView:a,nodeOrigin:l,nodeExtent:u})=>V$((d,h)=>({...dk({nodes:n,edges:e,width:i,height:s,fitView:a,nodeOrigin:l,nodeExtent:u,defaultNodes:t,defaultEdges:r}),setNodes:p=>{const{nodeLookup:g,parentLookup:y,nodeOrigin:b,elevateNodesOnSelect:w}=h();Nx(p,g,y,{nodeOrigin:b,nodeExtent:u,elevateNodesOnSelect:w,checkEquality:!0}),d({nodes:p})},setEdges:p=>{const{connectionLookup:g,edgeLookup:y}=h();yP(g,y,p),d({edges:p})},setDefaultNodesAndEdges:(p,g)=>{if(p){const{setNodes:y}=h();y(p),d({hasDefaultNodes:!0})}if(g){const{setEdges:y}=h();y(g),d({hasDefaultEdges:!0})}},updateNodeInternals:(p,g={triggerFitView:!0})=>{const{triggerNodeChanges:y,nodeLookup:b,parentLookup:w,fitViewOnInit:C,fitViewDone:x,fitViewOnInitOptions:A,domNode:E,nodeOrigin:_,nodeExtent:k,debug:M,fitViewSync:T}=h(),{changes:N,updatedInternals:W}=c$(p,b,w,E,_,k);if(W){if(o$(b,w,{nodeOrigin:_,nodeExtent:k}),g.triggerFitView){let P=x;!x&&C&&(P=T({...A,nodes:A==null?void 0:A.nodes})),d({fitViewDone:P})}else d({});(N==null?void 0:N.length)>0&&(M&&console.log("React Flow: trigger node changes",N),y==null||y(N))}},updateNodePositions:(p,g=!1)=>{const y=[],b=[],{nodeLookup:w,triggerNodeChanges:C}=h();for(const[x,A]of p){const E=w.get(x),_=!!(E!=null&&E.expandParent&&(E!=null&&E.parentId)&&(A!=null&&A.position)),k={id:x,type:"position",position:_?{x:Math.max(0,A.position.x),y:Math.max(0,A.position.y)}:A.position,dragging:g};_&&E.parentId&&y.push({id:x,parentId:E.parentId,rect:{...A.internals.positionAbsolute,width:A.measured.width??0,height:A.measured.height??0}}),b.push(k)}if(y.length>0){const{parentLookup:x,nodeOrigin:A}=h(),E=I1(y,w,x,A);b.push(...E)}C(b)},triggerNodeChanges:p=>{const{onNodesChange:g,setNodes:y,nodes:b,hasDefaultNodes:w,debug:C}=h();if(p!=null&&p.length){if(w){const x=IP(p,b);y(x)}C&&console.log("React Flow: trigger node changes",p),g==null||g(p)}},triggerEdgeChanges:p=>{const{onEdgesChange:g,setEdges:y,edges:b,hasDefaultEdges:w,debug:C}=h();if(p!=null&&p.length){if(w){const x=NP(p,b);y(x)}C&&console.log("React Flow: trigger edge changes",p),g==null||g(p)}},addSelectedNodes:p=>{const{multiSelectionActive:g,edgeLookup:y,nodeLookup:b,triggerNodeChanges:w,triggerEdgeChanges:C}=h();if(g){const x=p.map(A=>ll(A,!0));w(x);return}w(bu(b,new Set([...p]),!0)),C(bu(y))},addSelectedEdges:p=>{const{multiSelectionActive:g,edgeLookup:y,nodeLookup:b,triggerNodeChanges:w,triggerEdgeChanges:C}=h();if(g){const x=p.map(A=>ll(A,!0));C(x);return}C(bu(y,new Set([...p]))),w(bu(b,new Set,!0))},unselectNodesAndEdges:({nodes:p,edges:g}={})=>{const{edges:y,nodes:b,nodeLookup:w,triggerNodeChanges:C,triggerEdgeChanges:x}=h(),A=p||b,E=g||y,_=A.map(M=>{const T=w.get(M.id);return T&&(T.selected=!1),ll(M.id,!1)}),k=E.map(M=>ll(M.id,!1));C(_),x(k)},setMinZoom:p=>{const{panZoom:g,maxZoom:y}=h();g==null||g.setScaleExtent([p,y]),d({minZoom:p})},setMaxZoom:p=>{const{panZoom:g,minZoom:y}=h();g==null||g.setScaleExtent([y,p]),d({maxZoom:p})},setTranslateExtent:p=>{var g;(g=h().panZoom)==null||g.setTranslateExtent(p),d({translateExtent:p})},setPaneClickDistance:p=>{var g;(g=h().panZoom)==null||g.setClickDistance(p)},resetSelectedElements:()=>{const{edges:p,nodes:g,triggerNodeChanges:y,triggerEdgeChanges:b}=h(),w=g.reduce((x,A)=>A.selected?[...x,ll(A.id,!1)]:x,[]),C=p.reduce((x,A)=>A.selected?[...x,ll(A.id,!1)]:x,[]);y(w),b(C)},setNodeExtent:p=>{const{nodes:g,nodeLookup:y,parentLookup:b,nodeOrigin:w,elevateNodesOnSelect:C,nodeExtent:x}=h();p[0][0]===x[0][0]&&p[0][1]===x[0][1]&&p[1][0]===x[1][0]&&p[1][1]===x[1][1]||(Nx(g,y,b,{nodeOrigin:w,nodeExtent:p,elevateNodesOnSelect:C,checkEquality:!1}),d({nodeExtent:p}))},panBy:p=>{const{transform:g,width:y,height:b,panZoom:w,translateExtent:C}=h();return u$({delta:p,panZoom:w,transform:g,translateExtent:C,width:y,height:b})},fitView:p=>{const{panZoom:g,width:y,height:b,minZoom:w,maxZoom:C,nodeLookup:x}=h();if(!g)return Promise.resolve(!1);const A=kx(x,p);return Rx({nodes:A,width:y,height:b,panZoom:g,minZoom:w,maxZoom:C},p)},fitViewSync:p=>{const{panZoom:g,width:y,height:b,minZoom:w,maxZoom:C,nodeLookup:x}=h();if(!g)return!1;const A=kx(x,p);return Rx({nodes:A,width:y,height:b,panZoom:g,minZoom:w,maxZoom:C},p),A.size>0},cancelConnection:()=>{d({connection:{...JT}})},updateConnection:p=>{d({connection:p})},reset:()=>d({...dk()})}),Object.is);function iM({initialNodes:n,initialEdges:e,defaultNodes:t,defaultEdges:r,initialWidth:i,initialHeight:s,fitView:a,nodeOrigin:l,nodeExtent:u,children:d}){const[h]=I.useState(()=>A3({nodes:n,edges:e,defaultNodes:t,defaultEdges:r,width:i,height:s,fitView:a,nodeOrigin:l,nodeExtent:u}));return L.jsx(G$,{value:h,children:L.jsx(g5,{children:d})})}function k3({children:n,nodes:e,edges:t,defaultNodes:r,defaultEdges:i,width:s,height:a,fitView:l,nodeOrigin:u,nodeExtent:d}){return I.useContext(nv)?L.jsx(L.Fragment,{children:n}):L.jsx(iM,{initialNodes:e,initialEdges:t,defaultNodes:r,defaultEdges:i,initialWidth:s,initialHeight:a,fitView:l,nodeOrigin:u,nodeExtent:d,children:n})}const R3={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0};function T3({nodes:n,edges:e,defaultNodes:t,defaultEdges:r,className:i,nodeTypes:s,edgeTypes:a,onNodeClick:l,onEdgeClick:u,onInit:d,onMove:h,onMoveStart:p,onMoveEnd:g,onConnect:y,onConnectStart:b,onConnectEnd:w,onClickConnectStart:C,onClickConnectEnd:x,onNodeMouseEnter:A,onNodeMouseMove:E,onNodeMouseLeave:_,onNodeContextMenu:k,onNodeDoubleClick:M,onNodeDragStart:T,onNodeDrag:N,onNodeDragStop:W,onNodesDelete:P,onEdgesDelete:V,onDelete:X,onSelectionChange:Y,onSelectionDragStart:D,onSelectionDrag:G,onSelectionDragStop:j,onSelectionContextMenu:q,onSelectionStart:$,onSelectionEnd:B,onBeforeDelete:K,connectionMode:U,connectionLineType:Z=ca.Bezier,connectionLineStyle:re,connectionLineComponent:le,connectionLineContainerStyle:se,deleteKeyCode:ce="Backspace",selectionKeyCode:ee="Shift",selectionOnDrag:oe=!1,selectionMode:de=wf.Full,panActivationKeyCode:pe="Space",multiSelectionKeyCode:me=a0()?"Meta":"Control",zoomActivationKeyCode:ge=a0()?"Meta":"Control",snapToGrid:Re,snapGrid:be,onlyRenderVisibleElements:je=!1,selectNodesOnDrag:mt,nodesDraggable:Dt,nodesConnectable:Tt,nodesFocusable:yn,nodeOrigin:St=PP,edgesFocusable:ut,edgesReconnectable:Te,elementsSelectable:Yn=!0,defaultViewport:Yt=s5,minZoom:qn=.5,maxZoom:or=2,translateExtent:ar=bf,preventScrolling:Cr=!0,nodeExtent:_r,defaultMarkerColor:Kn="#b1b1b7",zoomOnScroll:et=!0,zoomOnPinch:Bi=!0,panOnScroll:Hi=!1,panOnScrollSpeed:Wa=.5,panOnScrollMode:De=pc.Free,zoomOnDoubleClick:st=!0,panOnDrag:Ot=!0,onPaneClick:Xr,onPaneMouseEnter:Po,onPaneMouseMove:Od,onPaneMouseLeave:Mo,onPaneScroll:Io,onPaneContextMenu:Ig,paneClickDistance:Fd=0,nodeClickDistance:Ng=0,children:Lg,onReconnect:Dg,onReconnectStart:zd,onReconnectEnd:Og,onEdgeContextMenu:Ua,onEdgeDoubleClick:$d,onEdgeMouseEnter:Va,onEdgeMouseMove:Dv,onEdgeMouseLeave:Ga,reconnectRadius:Tc=10,onNodesChange:Pc,onEdgesChange:Bd,noDragClassName:Ov="nodrag",noWheelClassName:Fv="nowheel",noPanClassName:Fg="nopan",fitView:ji,fitViewOptions:zg,connectOnClick:$g,attributionPosition:zv,proOptions:Bg,defaultEdgeOptions:Hg,elevateNodesOnSelect:jg,elevateEdgesOnSelect:Wg,disableKeyboardA11y:Ug=!1,autoPanOnConnect:$v,autoPanOnNodeDrag:Ft,autoPanSpeed:Bv,connectionRadius:Hd,isValidConnection:Vg,onError:Mc,style:Hv,id:jd,nodeDragThreshold:Ic,viewport:Yr,onViewportChange:jv,width:Ar,height:Wv,colorMode:Uv="light",debug:Vv,onScroll:As,...Nc},Xa){const No=jd||"1",Gv=c5(Uv),Xv=I.useCallback(Lc=>{Lc.currentTarget.scrollTo({top:0,left:0,behavior:"instant"}),As==null||As(Lc)},[As]);return L.jsx("div",{"data-testid":"rf__wrapper",...Nc,onScroll:Xv,style:{...Hv,...R3},ref:Xa,className:an(["react-flow",i,Gv]),id:jd,children:L.jsxs(k3,{nodes:n,edges:e,width:Ar,height:Wv,fitView:ji,nodeOrigin:St,nodeExtent:_r,children:[L.jsx(_3,{onInit:d,onNodeClick:l,onEdgeClick:u,onNodeMouseEnter:A,onNodeMouseMove:E,onNodeMouseLeave:_,onNodeContextMenu:k,onNodeDoubleClick:M,nodeTypes:s,edgeTypes:a,connectionLineType:Z,connectionLineStyle:re,connectionLineComponent:le,connectionLineContainerStyle:se,selectionKeyCode:ee,selectionOnDrag:oe,selectionMode:de,deleteKeyCode:ce,multiSelectionKeyCode:me,panActivationKeyCode:pe,zoomActivationKeyCode:ge,onlyRenderVisibleElements:je,defaultViewport:Yt,translateExtent:ar,minZoom:qn,maxZoom:or,preventScrolling:Cr,zoomOnScroll:et,zoomOnPinch:Bi,zoomOnDoubleClick:st,panOnScroll:Hi,panOnScrollSpeed:Wa,panOnScrollMode:De,panOnDrag:Ot,onPaneClick:Xr,onPaneMouseEnter:Po,onPaneMouseMove:Od,onPaneMouseLeave:Mo,onPaneScroll:Io,onPaneContextMenu:Ig,paneClickDistance:Fd,nodeClickDistance:Ng,onSelectionContextMenu:q,onSelectionStart:$,onSelectionEnd:B,onReconnect:Dg,onReconnectStart:zd,onReconnectEnd:Og,onEdgeContextMenu:Ua,onEdgeDoubleClick:$d,onEdgeMouseEnter:Va,onEdgeMouseMove:Dv,onEdgeMouseLeave:Ga,reconnectRadius:Tc,defaultMarkerColor:Kn,noDragClassName:Ov,noWheelClassName:Fv,noPanClassName:Fg,rfId:No,disableKeyboardA11y:Ug,nodeExtent:_r,viewport:Yr,onViewportChange:jv}),L.jsx(l5,{nodes:n,edges:e,defaultNodes:t,defaultEdges:r,onConnect:y,onConnectStart:b,onConnectEnd:w,onClickConnectStart:C,onClickConnectEnd:x,nodesDraggable:Dt,nodesConnectable:Tt,nodesFocusable:yn,edgesFocusable:ut,edgesReconnectable:Te,elementsSelectable:Yn,elevateNodesOnSelect:jg,elevateEdgesOnSelect:Wg,minZoom:qn,maxZoom:or,nodeExtent:_r,onNodesChange:Pc,onEdgesChange:Bd,snapToGrid:Re,snapGrid:be,connectionMode:U,translateExtent:ar,connectOnClick:$g,defaultEdgeOptions:Hg,fitView:ji,fitViewOptions:zg,onNodesDelete:P,onEdgesDelete:V,onDelete:X,onNodeDragStart:T,onNodeDrag:N,onNodeDragStop:W,onSelectionDrag:G,onSelectionDragStart:D,onSelectionDragStop:j,onMove:h,onMoveStart:p,onMoveEnd:g,noPanClassName:Fg,nodeOrigin:St,rfId:No,autoPanOnConnect:$v,autoPanOnNodeDrag:Ft,autoPanSpeed:Bv,onError:Mc,connectionRadius:Hd,isValidConnection:Vg,selectNodesOnDrag:mt,nodeDragThreshold:Ic,onBeforeDelete:K,paneClickDistance:Fd,debug:Vv}),L.jsx(i5,{onSelectionChange:Y}),Lg,L.jsx(J$,{proOptions:Bg,position:zv}),L.jsx(Q$,{rfId:No,disableKeyboardA11y:Ug})]})})}var P3=LP(T3);const M3=n=>{var e;return(e=n.domNode)==null?void 0:e.querySelector(".react-flow__edgelabel-renderer")};function sM({children:n}){const e=Qe(M3);return e?yg.createPortal(n,e):null}function I3(n){const[e,t]=I.useState(n),r=I.useCallback(i=>t(s=>IP(i,s)),[]);return[e,t,r]}function N3(n){const[e,t]=I.useState(n),r=I.useCallback(i=>t(s=>NP(i,s)),[]);return[e,t,r]}function L3({dimensions:n,lineWidth:e,variant:t,className:r}){return L.jsx("path",{strokeWidth:e,d:`M${n[0]/2} 0 V${n[1]} M0 ${n[1]/2} H${n[0]}`,className:an(["react-flow__background-pattern",t,r])})}function D3({radius:n,className:e}){return L.jsx("circle",{cx:n,cy:n,r:n,className:an(["react-flow__background-pattern","dots",e])})}var Ia;(function(n){n.Lines="lines",n.Dots="dots",n.Cross="cross"})(Ia||(Ia={}));const O3={[Ia.Dots]:1,[Ia.Lines]:1,[Ia.Cross]:6},F3=n=>({transform:n.transform,patternId:`pattern-${n.rfId}`});function oM({id:n,variant:e=Ia.Dots,gap:t=20,size:r,lineWidth:i=1,offset:s=0,color:a,bgColor:l,style:u,className:d,patternClassName:h}){const p=I.useRef(null),{transform:g,patternId:y}=Qe(F3,Xt),b=r||O3[e],w=e===Ia.Dots,C=e===Ia.Cross,x=Array.isArray(t)?t:[t,t],A=[x[0]*g[2]||1,x[1]*g[2]||1],E=b*g[2],_=Array.isArray(s)?s:[s,s],k=C?[E,E]:A,M=[_[0]*g[2]||1+k[0]/2,_[1]*g[2]||1+k[1]/2],T=`${y}${n||""}`;return L.jsxs("svg",{className:an(["react-flow__background",d]),style:{...u,...iv,"--xy-background-color-props":l,"--xy-background-pattern-color-props":a},ref:p,"data-testid":"rf__background",children:[L.jsx("pattern",{id:T,x:g[0]%A[0],y:g[1]%A[1],width:A[0],height:A[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${M[0]},-${M[1]})`,children:w?L.jsx(D3,{radius:E/2,className:h}):L.jsx(L3,{dimensions:k,lineWidth:i,variant:e,className:h})}),L.jsx("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${T})`})]})}oM.displayName="Background";const z3=I.memo(oM);function $3(){return L.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",children:L.jsx("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"})})}function B3(){return L.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5",children:L.jsx("path",{d:"M0 0h32v4.2H0z"})})}function H3(){return L.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30",children:L.jsx("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"})})}function j3(){return L.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:L.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"})})}function W3(){return L.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:L.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"})})}function ry({children:n,className:e,...t}){return L.jsx("button",{type:"button",className:an(["react-flow__controls-button",e]),...t,children:n})}const U3=n=>({isInteractive:n.nodesDraggable||n.nodesConnectable||n.elementsSelectable,minZoomReached:n.transform[2]<=n.minZoom,maxZoomReached:n.transform[2]>=n.maxZoom});function aM({style:n,showZoom:e=!0,showFitView:t=!0,showInteractive:r=!0,fitViewOptions:i,onZoomIn:s,onZoomOut:a,onFitView:l,onInteractiveChange:u,className:d,children:h,position:p="bottom-left",orientation:g="vertical","aria-label":y="React Flow controls"}){const b=Lt(),{isInteractive:w,minZoomReached:C,maxZoomReached:x}=Qe(U3,Xt),{zoomIn:A,zoomOut:E,fitView:_}=rv(),k=()=>{A(),s==null||s()},M=()=>{E(),a==null||a()},T=()=>{_(i),l==null||l()},N=()=>{b.setState({nodesDraggable:!w,nodesConnectable:!w,elementsSelectable:!w}),u==null||u(!w)},W=g==="horizontal"?"horizontal":"vertical";return L.jsxs(vg,{className:an(["react-flow__controls",W,d]),position:p,style:n,"data-testid":"rf__controls","aria-label":y,children:[e&&L.jsxs(L.Fragment,{children:[L.jsx(ry,{onClick:k,className:"react-flow__controls-zoomin",title:"zoom in","aria-label":"zoom in",disabled:x,children:L.jsx($3,{})}),L.jsx(ry,{onClick:M,className:"react-flow__controls-zoomout",title:"zoom out","aria-label":"zoom out",disabled:C,children:L.jsx(B3,{})})]}),t&&L.jsx(ry,{className:"react-flow__controls-fitview",onClick:T,title:"fit view","aria-label":"fit view",children:L.jsx(H3,{})}),r&&L.jsx(ry,{className:"react-flow__controls-interactive",onClick:N,title:"toggle interactivity","aria-label":"toggle interactivity",children:w?L.jsx(W3,{}):L.jsx(j3,{})}),h]})}aM.displayName="Controls";const V3=I.memo(aM);function G3({id:n,x:e,y:t,width:r,height:i,style:s,color:a,strokeColor:l,strokeWidth:u,className:d,borderRadius:h,shapeRendering:p,selected:g,onClick:y}){const{background:b,backgroundColor:w}=s||{},C=a||b||w;return L.jsx("rect",{className:an(["react-flow__minimap-node",{selected:g},d]),x:e,y:t,rx:h,ry:h,width:r,height:i,style:{fill:C,stroke:l,strokeWidth:u},shapeRendering:p,onClick:y?x=>y(x,n):void 0})}const X3=I.memo(G3),Y3=n=>n.nodes.map(e=>e.id),Uw=n=>n instanceof Function?n:()=>n;function q3({nodeStrokeColor:n,nodeColor:e,nodeClassName:t="",nodeBorderRadius:r=5,nodeStrokeWidth:i,nodeComponent:s=X3,onClick:a}){const l=Qe(Y3,Xt),u=Uw(e),d=Uw(n),h=Uw(t),p=typeof window>"u"||window.chrome?"crispEdges":"geometricPrecision";return L.jsx(L.Fragment,{children:l.map(g=>L.jsx(Q3,{id:g,nodeColorFunc:u,nodeStrokeColorFunc:d,nodeClassNameFunc:h,nodeBorderRadius:r,nodeStrokeWidth:i,NodeComponent:s,onClick:a,shapeRendering:p},g))})}function K3({id:n,nodeColorFunc:e,nodeStrokeColorFunc:t,nodeClassNameFunc:r,nodeBorderRadius:i,nodeStrokeWidth:s,shapeRendering:a,NodeComponent:l,onClick:u}){const{node:d,x:h,y:p,width:g,height:y}=Qe(b=>{const w=b.nodeLookup.get(n),{x:C,y:x}=w.internals.positionAbsolute,{width:A,height:E}=Ro(w);return{node:w,x:C,y:x,width:A,height:E}},Xt);return!d||d.hidden||!lP(d)?null:L.jsx(l,{x:h,y:p,width:g,height:y,style:d.style,selected:!!d.selected,className:r(d),color:e(d),borderRadius:i,strokeColor:t(d),strokeWidth:s,shapeRendering:a,onClick:u,id:d.id})}const Q3=I.memo(K3);var Z3=I.memo(q3);const J3=200,eB=150,tB=n=>{const e={x:-n.transform[0]/n.transform[2],y:-n.transform[1]/n.transform[2],width:n.width/n.transform[2],height:n.height/n.transform[2]};return{viewBB:e,boundingRect:n.nodeLookup.size>0?oP(gg(n.nodeLookup),e):e,rfId:n.rfId,panZoom:n.panZoom,translateExtent:n.translateExtent,flowWidth:n.width,flowHeight:n.height}},nB="react-flow__minimap-desc";function lM({style:n,className:e,nodeStrokeColor:t,nodeColor:r,nodeClassName:i="",nodeBorderRadius:s=5,nodeStrokeWidth:a,nodeComponent:l,bgColor:u,maskColor:d,maskStrokeColor:h,maskStrokeWidth:p,position:g="bottom-right",onClick:y,onNodeClick:b,pannable:w=!1,zoomable:C=!1,ariaLabel:x="React Flow mini map",inversePan:A,zoomStep:E=10,offsetScale:_=5}){const k=Lt(),M=I.useRef(null),{boundingRect:T,viewBB:N,rfId:W,panZoom:P,translateExtent:V,flowWidth:X,flowHeight:Y}=Qe(tB,Xt),D=(n==null?void 0:n.width)??J3,G=(n==null?void 0:n.height)??eB,j=T.width/D,q=T.height/G,$=Math.max(j,q),B=$*D,K=$*G,U=_*$,Z=T.x-(B-T.width)/2-U,re=T.y-(K-T.height)/2-U,le=B+U*2,se=K+U*2,ce=`${nB}-${W}`,ee=I.useRef(0),oe=I.useRef();ee.current=$,I.useEffect(()=>{if(M.current&&P)return oe.current=v$({domNode:M.current,panZoom:P,getTransform:()=>k.getState().transform,getViewScale:()=>ee.current}),()=>{var me;(me=oe.current)==null||me.destroy()}},[P]),I.useEffect(()=>{var me;(me=oe.current)==null||me.update({translateExtent:V,width:X,height:Y,inversePan:A,pannable:w,zoomStep:E,zoomable:C})},[w,C,A,E,V,X,Y]);const de=y?me=>{var be;const[ge,Re]=((be=oe.current)==null?void 0:be.pointer(me))||[0,0];y(me,{x:ge,y:Re})}:void 0,pe=b?I.useCallback((me,ge)=>{const Re=k.getState().nodeLookup.get(ge);b(me,Re)},[]):void 0;return L.jsx(vg,{position:g,style:{...n,"--xy-minimap-background-color-props":typeof u=="string"?u:void 0,"--xy-minimap-mask-background-color-props":typeof d=="string"?d:void 0,"--xy-minimap-mask-stroke-color-props":typeof h=="string"?h:void 0,"--xy-minimap-mask-stroke-width-props":typeof p=="number"?p*$:void 0,"--xy-minimap-node-background-color-props":typeof r=="string"?r:void 0,"--xy-minimap-node-stroke-color-props":typeof t=="string"?t:void 0,"--xy-minimap-node-stroke-width-props":typeof a=="string"?a:void 0},className:an(["react-flow__minimap",e]),"data-testid":"rf__minimap",children:L.jsxs("svg",{width:D,height:G,viewBox:`${Z} ${re} ${le} ${se}`,className:"react-flow__minimap-svg",role:"img","aria-labelledby":ce,ref:M,onClick:de,children:[x&&L.jsx("title",{id:ce,children:x}),L.jsx(Z3,{onClick:pe,nodeColor:r,nodeStrokeColor:t,nodeBorderRadius:s,nodeClassName:i,nodeStrokeWidth:a,nodeComponent:l}),L.jsx("path",{className:"react-flow__minimap-mask",d:`M${Z-U},${re-U}h${le+U*2}v${se+U*2}h${-le-U*2}z
        M${N.x},${N.y}h${N.width}v${N.height}h${-N.width}z`,fillRule:"evenodd",pointerEvents:"none"})]})})}lM.displayName="MiniMap";const rB=I.memo(lM);function iB({nodeId:n,position:e,variant:t=sf.Handle,className:r,style:i={},children:s,color:a,minWidth:l=10,minHeight:u=10,maxWidth:d=Number.MAX_VALUE,maxHeight:h=Number.MAX_VALUE,keepAspectRatio:p=!1,shouldResize:g,onResizeStart:y,onResize:b,onResizeEnd:w}){const C=zP(),x=typeof n=="string"?n:C,A=Lt(),E=I.useRef(null),_=t===sf.Line?"right":"bottom-right",k=e??_,M=I.useRef(null);I.useEffect(()=>{if(!(!E.current||!x))return M.current||(M.current=N$({domNode:E.current,nodeId:x,getStoreItems:()=>{const{nodeLookup:P,transform:V,snapGrid:X,snapToGrid:Y,nodeOrigin:D,domNode:G}=A.getState();return{nodeLookup:P,transform:V,snapGrid:X,snapToGrid:Y,nodeOrigin:D,paneDomNode:G}},onChange:(P,V)=>{const{triggerNodeChanges:X,nodeLookup:Y,parentLookup:D,nodeOrigin:G}=A.getState(),j=[],q={x:P.x,y:P.y},$=Y.get(x);if($&&$.expandParent&&$.parentId){const B=$.origin??G,K=P.width??$.measured.width??0,U=P.height??$.measured.height??0,Z={id:$.id,parentId:$.parentId,rect:{width:K,height:U,...cP({x:P.x??$.position.x,y:P.y??$.position.y},{width:K,height:U},$.parentId,Y,B)}},re=I1([Z],Y,D,G);j.push(...re),q.x=P.x?Math.max(B[0]*K,P.x):void 0,q.y=P.y?Math.max(B[1]*U,P.y):void 0}if(q.x!==void 0&&q.y!==void 0){const B={id:x,type:"position",position:{...q}};j.push(B)}if(P.width!==void 0&&P.height!==void 0){const B={id:x,type:"dimensions",resizing:!0,setAttributes:!0,dimensions:{width:P.width,height:P.height}};j.push(B)}for(const B of V){const K={...B,type:"position"};j.push(K)}X(j)},onEnd:()=>{const P={id:x,type:"dimensions",resizing:!1};A.getState().triggerNodeChanges([P])}})),M.current.update({controlPosition:k,boundaries:{minWidth:l,minHeight:u,maxWidth:d,maxHeight:h},keepAspectRatio:p,onResizeStart:y,onResize:b,onResizeEnd:w,shouldResize:g}),()=>{var P;(P=M.current)==null||P.destroy()}},[k,l,u,d,h,p,y,b,w,g]);const T=k.split("-"),N=t===sf.Line?"borderColor":"backgroundColor",W=a?{...i,[N]:a}:i;return L.jsx("div",{className:an(["react-flow__resize-control","nodrag",...T,t,r]),ref:E,style:W,children:s})}I.memo(iB);const To=I.createContext(null),sB=({children:n})=>{const[e,t]=I.useState(null),[r,i]=I.useState([]),[s,a]=I.useState(0),[l,u]=I.useState({}),[d,h]=I.useState(!1),[p,g]=I.useState("0"),[y,b]=I.useState(null),[w,C]=I.useState([]),[x,A,E]=I3([]),[_,k,M]=N3([]),T=150,N=150,W=I.useCallback($=>{console.log("Connect",$);const B={...$,type:"relation",markerEnd:{type:Ad.Arrow}};k(K=>pP(B,K))},[]);I.useEffect(()=>{a(r.filter($=>$.id.startsWith(p.toString())).length)},[p]);const P=$=>{var B;if($.type==="text"){const K=((B=$.content.text)==null?void 0:B.trim())??"",U=K.split(/\s+/),Z=U.length>10?U.slice(0,10).join(" ")+"...":K;return{type:$.type,label:Z,content:$.content.text}}else if($.type==="area")return{type:$.type,label:"Image",content:$.content.image}},V=$=>{var U;console.log("Add highlight",$,r);const B=`${p}-${s}`;a(Z=>Z+1),i(Z=>[...Z,{...$,id:B,readRecordId:p}]);const K=s===0;if(A(Z=>[...Z,{id:B,type:"highlight",data:{id:B,readRecordId:p,...P($),summary:"",references:[],notes:"Write your notes here..."},position:{x:K?Object.keys(l).findIndex(re=>re===p)*T:x[x.length-1].position.x,y:K?N:x[x.length-1].position.y+N}}]),console.log("Nodes",x),!K){const Z=(U=r[r.length-1])==null?void 0:U.id;k(re=>[...re,{id:B,source:Z,target:B,type:"temporal",markerEnd:{type:Ad.Arrow}}])}b(B)},X=($,B)=>{let K=[...x];K=K.map(U=>U.id===$?{...U,data:{...U.data,...B}}:U),console.log("Updated nodes",K),A(K)},Y=$=>{console.log("Delete highlight",$),i(r.filter(B=>B.id!==$)),A(x.filter(B=>B.id!==$)),k(_.filter(B=>B.id!==$&&B.source!==$&&B.target!==$)),b(null)},D=()=>{console.log("Reset highlights"),i([]),A([]),k([]),b(null),a(0)},G=($,B)=>{const K=Object.keys(l).length.toString();u(U=>({...U,[K]:{id:K,title:$,color:B}})),g(K),q(K)},j=$=>{C(B=>B.filter(K=>K!==$))},q=$=>{C(B=>[...B,$])};return L.jsx(To.Provider,{value:{paperUrl:e,setPaperUrl:t,highlights:r,addHighlight:V,updateNodeData:X,deleteHighlight:Y,resetHighlights:D,nodes:x,setNodes:A,onNodesChange:E,edges:_,setEdges:k,onEdgesChange:M,onConnect:W,readRecords:l,isAddingNewRead:d,setIsAddingNewRead:h,currentReadId:p,setCurrentReadId:g,selectedHighlightId:y,setSelectedHighlightId:b,createRead:G,displayedReads:w,hideRead:j,showRead:q},children:n})},Cf={black:"#000",white:"#fff"},ru={300:"#e57373",400:"#ef5350",500:"#f44336",700:"#d32f2f",800:"#c62828"},iu={50:"#f3e5f5",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",700:"#7b1fa2"},su={50:"#e3f2fd",200:"#90caf9",400:"#42a5f5",700:"#1976d2",800:"#1565c0"},ou={300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",700:"#0288d1",900:"#01579b"},au={300:"#81c784",400:"#66bb6a",500:"#4caf50",700:"#388e3c",800:"#2e7d32",900:"#1b5e20"},Ch={300:"#ffb74d",400:"#ffa726",500:"#ff9800",700:"#f57c00",900:"#e65100"},oB={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"};function Eo(n,...e){const t=new URL(`https://mui.com/production-error/?code=${n}`);return e.forEach(r=>t.searchParams.append("args[]",r)),`Minified MUI error #${n}; visit ${t} for the full message.`}const sv="$$material";function c0(){return c0=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},c0.apply(null,arguments)}function aB(n){if(n.sheet)return n.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===n)return document.styleSheets[e]}function lB(n){var e=document.createElement("style");return e.setAttribute("data-emotion",n.key),n.nonce!==void 0&&e.setAttribute("nonce",n.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var cB=function(){function n(t){var r=this;this._insertTag=function(i){var s;r.tags.length===0?r.insertionPoint?s=r.insertionPoint.nextSibling:r.prepend?s=r.container.firstChild:s=r.before:s=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,s),r.tags.push(i)},this.isSpeedy=t.speedy===void 0?!0:t.speedy,this.tags=[],this.ctr=0,this.nonce=t.nonce,this.key=t.key,this.container=t.container,this.prepend=t.prepend,this.insertionPoint=t.insertionPoint,this.before=null}var e=n.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(lB(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var s=aB(i);try{s.insertRule(r,s.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){var i;return(i=r.parentNode)==null?void 0:i.removeChild(r)}),this.tags=[],this.ctr=0},n}(),zn="-ms-",u0="-moz-",ot="-webkit-",cM="comm",L1="rule",D1="decl",uB="@import",uM="@keyframes",dB="@layer",hB=Math.abs,ov=String.fromCharCode,fB=Object.assign;function pB(n,e){return In(n,0)^45?(((e<<2^In(n,0))<<2^In(n,1))<<2^In(n,2))<<2^In(n,3):0}function dM(n){return n.trim()}function gB(n,e){return(n=e.exec(n))?n[0]:n}function lt(n,e,t){return n.replace(e,t)}function Ox(n,e){return n.indexOf(e)}function In(n,e){return n.charCodeAt(e)|0}function _f(n,e,t){return n.slice(e,t)}function ps(n){return n.length}function O1(n){return n.length}function iy(n,e){return e.push(n),n}function mB(n,e){return n.map(e).join("")}var av=1,Pd=1,hM=0,Sr=0,sn=0,Dd="";function lv(n,e,t,r,i,s,a){return{value:n,root:e,parent:t,type:r,props:i,children:s,line:av,column:Pd,length:a,return:""}}function _h(n,e){return fB(lv("",null,null,"",null,null,0),n,{length:-n.length},e)}function yB(){return sn}function vB(){return sn=Sr>0?In(Dd,--Sr):0,Pd--,sn===10&&(Pd=1,av--),sn}function Vr(){return sn=Sr<hM?In(Dd,Sr++):0,Pd++,sn===10&&(Pd=1,av++),sn}function bs(){return In(Dd,Sr)}function Ey(){return Sr}function bg(n,e){return _f(Dd,n,e)}function Af(n){switch(n){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function fM(n){return av=Pd=1,hM=ps(Dd=n),Sr=0,[]}function pM(n){return Dd="",n}function Cy(n){return dM(bg(Sr-1,Fx(n===91?n+2:n===40?n+1:n)))}function bB(n){for(;(sn=bs())&&sn<33;)Vr();return Af(n)>2||Af(sn)>3?"":" "}function wB(n,e){for(;--e&&Vr()&&!(sn<48||sn>102||sn>57&&sn<65||sn>70&&sn<97););return bg(n,Ey()+(e<6&&bs()==32&&Vr()==32))}function Fx(n){for(;Vr();)switch(sn){case n:return Sr;case 34:case 39:n!==34&&n!==39&&Fx(sn);break;case 40:n===41&&Fx(n);break;case 92:Vr();break}return Sr}function xB(n,e){for(;Vr()&&n+sn!==57;)if(n+sn===84&&bs()===47)break;return"/*"+bg(e,Sr-1)+"*"+ov(n===47?n:Vr())}function SB(n){for(;!Af(bs());)Vr();return bg(n,Sr)}function EB(n){return pM(_y("",null,null,null,[""],n=fM(n),0,[0],n))}function _y(n,e,t,r,i,s,a,l,u){for(var d=0,h=0,p=a,g=0,y=0,b=0,w=1,C=1,x=1,A=0,E="",_=i,k=s,M=r,T=E;C;)switch(b=A,A=Vr()){case 40:if(b!=108&&In(T,p-1)==58){Ox(T+=lt(Cy(A),"&","&\f"),"&\f")!=-1&&(x=-1);break}case 34:case 39:case 91:T+=Cy(A);break;case 9:case 10:case 13:case 32:T+=bB(b);break;case 92:T+=wB(Ey()-1,7);continue;case 47:switch(bs()){case 42:case 47:iy(CB(xB(Vr(),Ey()),e,t),u);break;default:T+="/"}break;case 123*w:l[d++]=ps(T)*x;case 125*w:case 59:case 0:switch(A){case 0:case 125:C=0;case 59+h:x==-1&&(T=lt(T,/\f/g,"")),y>0&&ps(T)-p&&iy(y>32?fk(T+";",r,t,p-1):fk(lt(T," ","")+";",r,t,p-2),u);break;case 59:T+=";";default:if(iy(M=hk(T,e,t,d,h,i,l,E,_=[],k=[],p),s),A===123)if(h===0)_y(T,e,M,M,_,s,p,l,k);else switch(g===99&&In(T,3)===110?100:g){case 100:case 108:case 109:case 115:_y(n,M,M,r&&iy(hk(n,M,M,0,0,i,l,E,i,_=[],p),k),i,k,p,l,r?_:k);break;default:_y(T,M,M,M,[""],k,0,l,k)}}d=h=y=0,w=x=1,E=T="",p=a;break;case 58:p=1+ps(T),y=b;default:if(w<1){if(A==123)--w;else if(A==125&&w++==0&&vB()==125)continue}switch(T+=ov(A),A*w){case 38:x=h>0?1:(T+="\f",-1);break;case 44:l[d++]=(ps(T)-1)*x,x=1;break;case 64:bs()===45&&(T+=Cy(Vr())),g=bs(),h=p=ps(E=T+=SB(Ey())),A++;break;case 45:b===45&&ps(T)==2&&(w=0)}}return s}function hk(n,e,t,r,i,s,a,l,u,d,h){for(var p=i-1,g=i===0?s:[""],y=O1(g),b=0,w=0,C=0;b<r;++b)for(var x=0,A=_f(n,p+1,p=hB(w=a[b])),E=n;x<y;++x)(E=dM(w>0?g[x]+" "+A:lt(A,/&\f/g,g[x])))&&(u[C++]=E);return lv(n,e,t,i===0?L1:l,u,d,h)}function CB(n,e,t){return lv(n,e,t,cM,ov(yB()),_f(n,2,-2),0)}function fk(n,e,t,r){return lv(n,e,t,D1,_f(n,0,r),_f(n,r+1,-1),r)}function Eu(n,e){for(var t="",r=O1(n),i=0;i<r;i++)t+=e(n[i],i,n,e)||"";return t}function _B(n,e,t,r){switch(n.type){case dB:if(n.children.length)break;case uB:case D1:return n.return=n.return||n.value;case cM:return"";case uM:return n.return=n.value+"{"+Eu(n.children,r)+"}";case L1:n.value=n.props.join(",")}return ps(t=Eu(n.children,r))?n.return=n.value+"{"+t+"}":""}function AB(n){var e=O1(n);return function(t,r,i,s){for(var a="",l=0;l<e;l++)a+=n[l](t,r,i,s)||"";return a}}function kB(n){return function(e){e.root||(e=e.return)&&n(e)}}function gM(n){var e=Object.create(null);return function(t){return e[t]===void 0&&(e[t]=n(t)),e[t]}}var RB=function(e,t,r){for(var i=0,s=0;i=s,s=bs(),i===38&&s===12&&(t[r]=1),!Af(s);)Vr();return bg(e,Sr)},TB=function(e,t){var r=-1,i=44;do switch(Af(i)){case 0:i===38&&bs()===12&&(t[r]=1),e[r]+=RB(Sr-1,t,r);break;case 2:e[r]+=Cy(i);break;case 4:if(i===44){e[++r]=bs()===58?"&\f":"",t[r]=e[r].length;break}default:e[r]+=ov(i)}while(i=Vr());return e},PB=function(e,t){return pM(TB(fM(e),t))},pk=new WeakMap,MB=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var t=e.value,r=e.parent,i=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&t.charCodeAt(0)!==58&&!pk.get(r))&&!i){pk.set(e,!0);for(var s=[],a=PB(t,s),l=r.props,u=0,d=0;u<a.length;u++)for(var h=0;h<l.length;h++,d++)e.props[d]=s[u]?a[u].replace(/&\f/g,l[h]):l[h]+" "+a[u]}}},IB=function(e){if(e.type==="decl"){var t=e.value;t.charCodeAt(0)===108&&t.charCodeAt(2)===98&&(e.return="",e.value="")}};function mM(n,e){switch(pB(n,e)){case 5103:return ot+"print-"+n+n;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return ot+n+n;case 5349:case 4246:case 4810:case 6968:case 2756:return ot+n+u0+n+zn+n+n;case 6828:case 4268:return ot+n+zn+n+n;case 6165:return ot+n+zn+"flex-"+n+n;case 5187:return ot+n+lt(n,/(\w+).+(:[^]+)/,ot+"box-$1$2"+zn+"flex-$1$2")+n;case 5443:return ot+n+zn+"flex-item-"+lt(n,/flex-|-self/,"")+n;case 4675:return ot+n+zn+"flex-line-pack"+lt(n,/align-content|flex-|-self/,"")+n;case 5548:return ot+n+zn+lt(n,"shrink","negative")+n;case 5292:return ot+n+zn+lt(n,"basis","preferred-size")+n;case 6060:return ot+"box-"+lt(n,"-grow","")+ot+n+zn+lt(n,"grow","positive")+n;case 4554:return ot+lt(n,/([^-])(transform)/g,"$1"+ot+"$2")+n;case 6187:return lt(lt(lt(n,/(zoom-|grab)/,ot+"$1"),/(image-set)/,ot+"$1"),n,"")+n;case 5495:case 3959:return lt(n,/(image-set\([^]*)/,ot+"$1$`$1");case 4968:return lt(lt(n,/(.+:)(flex-)?(.*)/,ot+"box-pack:$3"+zn+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+ot+n+n;case 4095:case 3583:case 4068:case 2532:return lt(n,/(.+)-inline(.+)/,ot+"$1$2")+n;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(ps(n)-1-e>6)switch(In(n,e+1)){case 109:if(In(n,e+4)!==45)break;case 102:return lt(n,/(.+:)(.+)-([^]+)/,"$1"+ot+"$2-$3$1"+u0+(In(n,e+3)==108?"$3":"$2-$3"))+n;case 115:return~Ox(n,"stretch")?mM(lt(n,"stretch","fill-available"),e)+n:n}break;case 4949:if(In(n,e+1)!==115)break;case 6444:switch(In(n,ps(n)-3-(~Ox(n,"!important")&&10))){case 107:return lt(n,":",":"+ot)+n;case 101:return lt(n,/(.+:)([^;!]+)(;|!.+)?/,"$1"+ot+(In(n,14)===45?"inline-":"")+"box$3$1"+ot+"$2$3$1"+zn+"$2box$3")+n}break;case 5936:switch(In(n,e+11)){case 114:return ot+n+zn+lt(n,/[svh]\w+-[tblr]{2}/,"tb")+n;case 108:return ot+n+zn+lt(n,/[svh]\w+-[tblr]{2}/,"tb-rl")+n;case 45:return ot+n+zn+lt(n,/[svh]\w+-[tblr]{2}/,"lr")+n}return ot+n+zn+n+n}return n}var NB=function(e,t,r,i){if(e.length>-1&&!e.return)switch(e.type){case D1:e.return=mM(e.value,e.length);break;case uM:return Eu([_h(e,{value:lt(e.value,"@","@"+ot)})],i);case L1:if(e.length)return mB(e.props,function(s){switch(gB(s,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Eu([_h(e,{props:[lt(s,/:(read-\w+)/,":"+u0+"$1")]})],i);case"::placeholder":return Eu([_h(e,{props:[lt(s,/:(plac\w+)/,":"+ot+"input-$1")]}),_h(e,{props:[lt(s,/:(plac\w+)/,":"+u0+"$1")]}),_h(e,{props:[lt(s,/:(plac\w+)/,zn+"input-$1")]})],i)}return""})}},LB=[NB],DB=function(e){var t=e.key;if(t==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(w){var C=w.getAttribute("data-emotion");C.indexOf(" ")!==-1&&(document.head.appendChild(w),w.setAttribute("data-s",""))})}var i=e.stylisPlugins||LB,s={},a,l=[];a=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),function(w){for(var C=w.getAttribute("data-emotion").split(" "),x=1;x<C.length;x++)s[C[x]]=!0;l.push(w)});var u,d=[MB,IB];{var h,p=[_B,kB(function(w){h.insert(w)})],g=AB(d.concat(i,p)),y=function(C){return Eu(EB(C),g)};u=function(C,x,A,E){h=A,y(C?C+"{"+x.styles+"}":x.styles),E&&(b.inserted[x.name]=!0)}}var b={key:t,sheet:new cB({key:t,container:a,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:s,registered:{},insert:u};return b.sheet.hydrate(l),b},Vw={exports:{}},dt={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gk;function OB(){if(gk)return dt;gk=1;var n=typeof Symbol=="function"&&Symbol.for,e=n?Symbol.for("react.element"):60103,t=n?Symbol.for("react.portal"):60106,r=n?Symbol.for("react.fragment"):60107,i=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,a=n?Symbol.for("react.provider"):60109,l=n?Symbol.for("react.context"):60110,u=n?Symbol.for("react.async_mode"):60111,d=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,p=n?Symbol.for("react.suspense"):60113,g=n?Symbol.for("react.suspense_list"):60120,y=n?Symbol.for("react.memo"):60115,b=n?Symbol.for("react.lazy"):60116,w=n?Symbol.for("react.block"):60121,C=n?Symbol.for("react.fundamental"):60117,x=n?Symbol.for("react.responder"):60118,A=n?Symbol.for("react.scope"):60119;function E(k){if(typeof k=="object"&&k!==null){var M=k.$$typeof;switch(M){case e:switch(k=k.type,k){case u:case d:case r:case s:case i:case p:return k;default:switch(k=k&&k.$$typeof,k){case l:case h:case b:case y:case a:return k;default:return M}}case t:return M}}}function _(k){return E(k)===d}return dt.AsyncMode=u,dt.ConcurrentMode=d,dt.ContextConsumer=l,dt.ContextProvider=a,dt.Element=e,dt.ForwardRef=h,dt.Fragment=r,dt.Lazy=b,dt.Memo=y,dt.Portal=t,dt.Profiler=s,dt.StrictMode=i,dt.Suspense=p,dt.isAsyncMode=function(k){return _(k)||E(k)===u},dt.isConcurrentMode=_,dt.isContextConsumer=function(k){return E(k)===l},dt.isContextProvider=function(k){return E(k)===a},dt.isElement=function(k){return typeof k=="object"&&k!==null&&k.$$typeof===e},dt.isForwardRef=function(k){return E(k)===h},dt.isFragment=function(k){return E(k)===r},dt.isLazy=function(k){return E(k)===b},dt.isMemo=function(k){return E(k)===y},dt.isPortal=function(k){return E(k)===t},dt.isProfiler=function(k){return E(k)===s},dt.isStrictMode=function(k){return E(k)===i},dt.isSuspense=function(k){return E(k)===p},dt.isValidElementType=function(k){return typeof k=="string"||typeof k=="function"||k===r||k===d||k===s||k===i||k===p||k===g||typeof k=="object"&&k!==null&&(k.$$typeof===b||k.$$typeof===y||k.$$typeof===a||k.$$typeof===l||k.$$typeof===h||k.$$typeof===C||k.$$typeof===x||k.$$typeof===A||k.$$typeof===w)},dt.typeOf=E,dt}var mk;function FB(){return mk||(mk=1,Vw.exports=OB()),Vw.exports}var Gw,yk;function zB(){if(yk)return Gw;yk=1;var n=FB(),e={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},t={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},r={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},i={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};s[n.ForwardRef]=r,s[n.Memo]=i;function a(b){return n.isMemo(b)?i:s[b.$$typeof]||e}var l=Object.defineProperty,u=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,p=Object.getPrototypeOf,g=Object.prototype;function y(b,w,C){if(typeof w!="string"){if(g){var x=p(w);x&&x!==g&&y(b,x,C)}var A=u(w);d&&(A=A.concat(d(w)));for(var E=a(b),_=a(w),k=0;k<A.length;++k){var M=A[k];if(!t[M]&&!(C&&C[M])&&!(_&&_[M])&&!(E&&E[M])){var T=h(w,M);try{l(b,M,T)}catch{}}}}return b}return Gw=y,Gw}zB();var $B=!0;function yM(n,e,t){var r="";return t.split(" ").forEach(function(i){n[i]!==void 0?e.push(n[i]+";"):i&&(r+=i+" ")}),r}var F1=function(e,t,r){var i=e.key+"-"+t.name;(r===!1||$B===!1)&&e.registered[i]===void 0&&(e.registered[i]=t.styles)},z1=function(e,t,r){F1(e,t,r);var i=e.key+"-"+t.name;if(e.inserted[t.name]===void 0){var s=t;do e.insert(t===s?"."+i:"",s,e.sheet,!0),s=s.next;while(s!==void 0)}};function BB(n){for(var e=0,t,r=0,i=n.length;i>=4;++r,i-=4)t=n.charCodeAt(r)&255|(n.charCodeAt(++r)&255)<<8|(n.charCodeAt(++r)&255)<<16|(n.charCodeAt(++r)&255)<<24,t=(t&65535)*1540483477+((t>>>16)*59797<<16),t^=t>>>24,e=(t&65535)*1540483477+((t>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(n.charCodeAt(r+2)&255)<<16;case 2:e^=(n.charCodeAt(r+1)&255)<<8;case 1:e^=n.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var HB={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},jB=/[A-Z]|^ms/g,WB=/_EMO_([^_]+?)_([^]*?)_EMO_/g,vM=function(e){return e.charCodeAt(1)===45},vk=function(e){return e!=null&&typeof e!="boolean"},Xw=gM(function(n){return vM(n)?n:n.replace(jB,"-$&").toLowerCase()}),bk=function(e,t){switch(e){case"animation":case"animationName":if(typeof t=="string")return t.replace(WB,function(r,i,s){return gs={name:i,styles:s,next:gs},i})}return HB[e]!==1&&!vM(e)&&typeof t=="number"&&t!==0?t+"px":t};function kf(n,e,t){if(t==null)return"";var r=t;if(r.__emotion_styles!==void 0)return r;switch(typeof t){case"boolean":return"";case"object":{var i=t;if(i.anim===1)return gs={name:i.name,styles:i.styles,next:gs},i.name;var s=t;if(s.styles!==void 0){var a=s.next;if(a!==void 0)for(;a!==void 0;)gs={name:a.name,styles:a.styles,next:gs},a=a.next;var l=s.styles+";";return l}return UB(n,e,t)}case"function":{if(n!==void 0){var u=gs,d=t(n);return gs=u,kf(n,e,d)}break}}var h=t;if(e==null)return h;var p=e[h];return p!==void 0?p:h}function UB(n,e,t){var r="";if(Array.isArray(t))for(var i=0;i<t.length;i++)r+=kf(n,e,t[i])+";";else for(var s in t){var a=t[s];if(typeof a!="object"){var l=a;e!=null&&e[l]!==void 0?r+=s+"{"+e[l]+"}":vk(l)&&(r+=Xw(s)+":"+bk(s,l)+";")}else if(Array.isArray(a)&&typeof a[0]=="string"&&(e==null||e[a[0]]===void 0))for(var u=0;u<a.length;u++)vk(a[u])&&(r+=Xw(s)+":"+bk(s,a[u])+";");else{var d=kf(n,e,a);switch(s){case"animation":case"animationName":{r+=Xw(s)+":"+d+";";break}default:r+=s+"{"+d+"}"}}}return r}var wk=/label:\s*([^\s;{]+)\s*(;|$)/g,gs;function wg(n,e,t){if(n.length===1&&typeof n[0]=="object"&&n[0]!==null&&n[0].styles!==void 0)return n[0];var r=!0,i="";gs=void 0;var s=n[0];if(s==null||s.raw===void 0)r=!1,i+=kf(t,e,s);else{var a=s;i+=a[0]}for(var l=1;l<n.length;l++)if(i+=kf(t,e,n[l]),r){var u=s;i+=u[l]}wk.lastIndex=0;for(var d="",h;(h=wk.exec(i))!==null;)d+="-"+h[1];var p=BB(i)+d;return{name:p,styles:i,next:gs}}var VB=function(e){return e()},bM=vx.useInsertionEffect?vx.useInsertionEffect:!1,wM=bM||VB,xk=bM||I.useLayoutEffect,xM=I.createContext(typeof HTMLElement<"u"?DB({key:"css"}):null);xM.Provider;var $1=function(e){return I.forwardRef(function(t,r){var i=I.useContext(xM);return e(t,i,r)})},cv=I.createContext({}),B1={}.hasOwnProperty,zx="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",GB=function(e,t){var r={};for(var i in t)B1.call(t,i)&&(r[i]=t[i]);return r[zx]=e,r},XB=function(e){var t=e.cache,r=e.serialized,i=e.isStringTag;return F1(t,r,i),wM(function(){return z1(t,r,i)}),null},YB=$1(function(n,e,t){var r=n.css;typeof r=="string"&&e.registered[r]!==void 0&&(r=e.registered[r]);var i=n[zx],s=[r],a="";typeof n.className=="string"?a=yM(e.registered,s,n.className):n.className!=null&&(a=n.className+" ");var l=wg(s,void 0,I.useContext(cv));a+=e.key+"-"+l.name;var u={};for(var d in n)B1.call(n,d)&&d!=="css"&&d!==zx&&(u[d]=n[d]);return u.className=a,t&&(u.ref=t),I.createElement(I.Fragment,null,I.createElement(XB,{cache:e,serialized:l,isStringTag:typeof i=="string"}),I.createElement(i,u))}),qB=YB,Sk=function(e,t){var r=arguments;if(t==null||!B1.call(t,"css"))return I.createElement.apply(void 0,r);var i=r.length,s=new Array(i);s[0]=qB,s[1]=GB(e,t);for(var a=2;a<i;a++)s[a]=r[a];return I.createElement.apply(null,s)};(function(n){var e;e||(e=n.JSX||(n.JSX={}))})(Sk||(Sk={}));var KB=$1(function(n,e){var t=n.styles,r=wg([t],void 0,I.useContext(cv)),i=I.useRef();return xk(function(){var s=e.key+"-global",a=new e.sheet.constructor({key:s,nonce:e.sheet.nonce,container:e.sheet.container,speedy:e.sheet.isSpeedy}),l=!1,u=document.querySelector('style[data-emotion="'+s+" "+r.name+'"]');return e.sheet.tags.length&&(a.before=e.sheet.tags[0]),u!==null&&(l=!0,u.setAttribute("data-emotion",s),a.hydrate([u])),i.current=[a,l],function(){a.flush()}},[e]),xk(function(){var s=i.current,a=s[0],l=s[1];if(l){s[1]=!1;return}if(r.next!==void 0&&z1(e,r.next,!0),a.tags.length){var u=a.tags[a.tags.length-1].nextElementSibling;a.before=u,a.flush()}e.insert("",r,a,!1)},[e,r.name]),null});function H1(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return wg(e)}function xg(){var n=H1.apply(void 0,arguments),e="animation-"+n.name;return{name:e,styles:"@keyframes "+e+"{"+n.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}var QB=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,ZB=gM(function(n){return QB.test(n)||n.charCodeAt(0)===111&&n.charCodeAt(1)===110&&n.charCodeAt(2)<91}),JB=ZB,eH=function(e){return e!=="theme"},Ek=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?JB:eH},Ck=function(e,t,r){var i;if(t){var s=t.shouldForwardProp;i=e.__emotion_forwardProp&&s?function(a){return e.__emotion_forwardProp(a)&&s(a)}:s}return typeof i!="function"&&r&&(i=e.__emotion_forwardProp),i},tH=function(e){var t=e.cache,r=e.serialized,i=e.isStringTag;return F1(t,r,i),wM(function(){return z1(t,r,i)}),null},nH=function n(e,t){var r=e.__emotion_real===e,i=r&&e.__emotion_base||e,s,a;t!==void 0&&(s=t.label,a=t.target);var l=Ck(e,t,r),u=l||Ek(i),d=!u("as");return function(){var h=arguments,p=r&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(s!==void 0&&p.push("label:"+s+";"),h[0]==null||h[0].raw===void 0)p.push.apply(p,h);else{var g=h[0];p.push(g[0]);for(var y=h.length,b=1;b<y;b++)p.push(h[b],g[b])}var w=$1(function(C,x,A){var E=d&&C.as||i,_="",k=[],M=C;if(C.theme==null){M={};for(var T in C)M[T]=C[T];M.theme=I.useContext(cv)}typeof C.className=="string"?_=yM(x.registered,k,C.className):C.className!=null&&(_=C.className+" ");var N=wg(p.concat(k),x.registered,M);_+=x.key+"-"+N.name,a!==void 0&&(_+=" "+a);var W=d&&l===void 0?Ek(E):u,P={};for(var V in C)d&&V==="as"||W(V)&&(P[V]=C[V]);return P.className=_,A&&(P.ref=A),I.createElement(I.Fragment,null,I.createElement(tH,{cache:x,serialized:N,isStringTag:typeof E=="string"}),I.createElement(E,P))});return w.displayName=s!==void 0?s:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",w.defaultProps=e.defaultProps,w.__emotion_real=w,w.__emotion_base=i,w.__emotion_styles=p,w.__emotion_forwardProp=l,Object.defineProperty(w,"toString",{value:function(){return"."+a}}),w.withComponent=function(C,x){var A=n(C,c0({},t,x,{shouldForwardProp:Ck(w,x,!0)}));return A.apply(void 0,p)},w}},rH=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],$x=nH.bind(null);rH.forEach(function(n){$x[n]=$x(n)});var Yw={exports:{}},qw,_k;function iH(){if(_k)return qw;_k=1;var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return qw=n,qw}var Kw,Ak;function sH(){if(Ak)return Kw;Ak=1;var n=iH();function e(){}function t(){}return t.resetWarningCache=e,Kw=function(){function r(a,l,u,d,h,p){if(p!==n){var g=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw g.name="Invariant Violation",g}}r.isRequired=r;function i(){return r}var s={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:t,resetWarningCache:e};return s.PropTypes=s,s},Kw}var kk;function SM(){return kk||(kk=1,Yw.exports=sH()()),Yw.exports}function oH(n){return n==null||Object.keys(n).length===0}function aH(n){const{styles:e,defaultTheme:t={}}=n,r=typeof e=="function"?i=>e(oH(i)?t:i):e;return L.jsx(KB,{styles:r})}/**
 * @mui/styled-engine v6.4.6
 *
 * @license MIT
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function EM(n,e){return $x(n,e)}function lH(n,e){Array.isArray(n.__emotion_styles)&&(n.__emotion_styles=e(n.__emotion_styles))}const Rk=[];function Tk(n){return Rk[0]=n,wg(Rk)}var Qw={exports:{}},yt={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pk;function cH(){if(Pk)return yt;Pk=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),a=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),h=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),g=Symbol.for("react.offscreen"),y=Symbol.for("react.client.reference");function b(w){if(typeof w=="object"&&w!==null){var C=w.$$typeof;switch(C){case n:switch(w=w.type,w){case t:case i:case r:case u:case d:return w;default:switch(w=w&&w.$$typeof,w){case a:case l:case p:case h:return w;case s:return w;default:return C}}case e:return C}}}return yt.ContextConsumer=s,yt.ContextProvider=a,yt.Element=n,yt.ForwardRef=l,yt.Fragment=t,yt.Lazy=p,yt.Memo=h,yt.Portal=e,yt.Profiler=i,yt.StrictMode=r,yt.Suspense=u,yt.SuspenseList=d,yt.isContextConsumer=function(w){return b(w)===s},yt.isContextProvider=function(w){return b(w)===a},yt.isElement=function(w){return typeof w=="object"&&w!==null&&w.$$typeof===n},yt.isForwardRef=function(w){return b(w)===l},yt.isFragment=function(w){return b(w)===t},yt.isLazy=function(w){return b(w)===p},yt.isMemo=function(w){return b(w)===h},yt.isPortal=function(w){return b(w)===e},yt.isProfiler=function(w){return b(w)===i},yt.isStrictMode=function(w){return b(w)===r},yt.isSuspense=function(w){return b(w)===u},yt.isSuspenseList=function(w){return b(w)===d},yt.isValidElementType=function(w){return typeof w=="string"||typeof w=="function"||w===t||w===i||w===r||w===u||w===d||w===g||typeof w=="object"&&w!==null&&(w.$$typeof===p||w.$$typeof===h||w.$$typeof===a||w.$$typeof===s||w.$$typeof===l||w.$$typeof===y||w.getModuleId!==void 0)},yt.typeOf=b,yt}var Mk;function uH(){return Mk||(Mk=1,Qw.exports=cH()),Qw.exports}var CM=uH();function ms(n){if(typeof n!="object"||n===null)return!1;const e=Object.getPrototypeOf(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)}function _M(n){if(I.isValidElement(n)||CM.isValidElementType(n)||!ms(n))return n;const e={};return Object.keys(n).forEach(t=>{e[t]=_M(n[t])}),e}function Xn(n,e,t={clone:!0}){const r=t.clone?{...n}:n;return ms(n)&&ms(e)&&Object.keys(e).forEach(i=>{I.isValidElement(e[i])||CM.isValidElementType(e[i])?r[i]=e[i]:ms(e[i])&&Object.prototype.hasOwnProperty.call(n,i)&&ms(n[i])?r[i]=Xn(n[i],e[i],t):t.clone?r[i]=ms(e[i])?_M(e[i]):e[i]:r[i]=e[i]}),r}const dH=n=>{const e=Object.keys(n).map(t=>({key:t,val:n[t]}))||[];return e.sort((t,r)=>t.val-r.val),e.reduce((t,r)=>({...t,[r.key]:r.val}),{})};function hH(n){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:t="px",step:r=5,...i}=n,s=dH(e),a=Object.keys(s);function l(g){return`@media (min-width:${typeof e[g]=="number"?e[g]:g}${t})`}function u(g){return`@media (max-width:${(typeof e[g]=="number"?e[g]:g)-r/100}${t})`}function d(g,y){const b=a.indexOf(y);return`@media (min-width:${typeof e[g]=="number"?e[g]:g}${t}) and (max-width:${(b!==-1&&typeof e[a[b]]=="number"?e[a[b]]:y)-r/100}${t})`}function h(g){return a.indexOf(g)+1<a.length?d(g,a[a.indexOf(g)+1]):l(g)}function p(g){const y=a.indexOf(g);return y===0?l(a[1]):y===a.length-1?u(a[y]):d(g,a[a.indexOf(g)+1]).replace("@media","@media not all and")}return{keys:a,values:s,up:l,down:u,between:d,only:h,not:p,unit:t,...i}}function fH(n,e){if(!n.containerQueries)return e;const t=Object.keys(e).filter(r=>r.startsWith("@container")).sort((r,i)=>{var a,l;const s=/min-width:\s*([0-9.]+)/;return+(((a=r.match(s))==null?void 0:a[1])||0)-+(((l=i.match(s))==null?void 0:l[1])||0)});return t.length?t.reduce((r,i)=>{const s=e[i];return delete r[i],r[i]=s,r},{...e}):e}function pH(n,e){return e==="@"||e.startsWith("@")&&(n.some(t=>e.startsWith(`@${t}`))||!!e.match(/^@\d/))}function gH(n,e){const t=e.match(/^@([^/]+)?\/?(.+)?$/);if(!t)return null;const[,r,i]=t,s=Number.isNaN(+r)?r||0:+r;return n.containerQueries(i).up(s)}function mH(n){const e=(s,a)=>s.replace("@media",a?`@container ${a}`:"@container");function t(s,a){s.up=(...l)=>e(n.breakpoints.up(...l),a),s.down=(...l)=>e(n.breakpoints.down(...l),a),s.between=(...l)=>e(n.breakpoints.between(...l),a),s.only=(...l)=>e(n.breakpoints.only(...l),a),s.not=(...l)=>{const u=e(n.breakpoints.not(...l),a);return u.includes("not all and")?u.replace("not all and ","").replace("min-width:","width<").replace("max-width:","width>").replace("and","or"):u}}const r={},i=s=>(t(r,s),r);return t(i),{...n,containerQueries:i}}const yH={borderRadius:4};function of(n,e){return e?Xn(n,e,{clone:!1}):n}const uv={xs:0,sm:600,md:900,lg:1200,xl:1536},Ik={keys:["xs","sm","md","lg","xl"],up:n=>`@media (min-width:${uv[n]}px)`},vH={containerQueries:n=>({up:e=>{let t=typeof e=="number"?e:uv[e]||e;return typeof t=="number"&&(t=`${t}px`),n?`@container ${n} (min-width:${t})`:`@container (min-width:${t})`}})};function Co(n,e,t){const r=n.theme||{};if(Array.isArray(e)){const s=r.breakpoints||Ik;return e.reduce((a,l,u)=>(a[s.up(s.keys[u])]=t(e[u]),a),{})}if(typeof e=="object"){const s=r.breakpoints||Ik;return Object.keys(e).reduce((a,l)=>{if(pH(s.keys,l)){const u=gH(r.containerQueries?r:vH,l);u&&(a[u]=t(e[l],l))}else if(Object.keys(s.values||uv).includes(l)){const u=s.up(l);a[u]=t(e[l],l)}else{const u=l;a[u]=e[u]}return a},{})}return t(e)}function bH(n={}){var t;return((t=n.keys)==null?void 0:t.reduce((r,i)=>{const s=n.up(i);return r[s]={},r},{}))||{}}function wH(n,e){return n.reduce((t,r)=>{const i=t[r];return(!i||Object.keys(i).length===0)&&delete t[r],t},e)}function Ne(n){if(typeof n!="string")throw new Error(Eo(7));return n.charAt(0).toUpperCase()+n.slice(1)}function dv(n,e,t=!0){if(!e||typeof e!="string")return null;if(n&&n.vars&&t){const r=`vars.${e}`.split(".").reduce((i,s)=>i&&i[s]?i[s]:null,n);if(r!=null)return r}return e.split(".").reduce((r,i)=>r&&r[i]!=null?r[i]:null,n)}function d0(n,e,t,r=t){let i;return typeof n=="function"?i=n(t):Array.isArray(n)?i=n[t]||r:i=dv(n,t)||r,e&&(i=e(i,r,n)),i}function Jt(n){const{prop:e,cssProperty:t=n.prop,themeKey:r,transform:i}=n,s=a=>{if(a[e]==null)return null;const l=a[e],u=a.theme,d=dv(u,r)||{};return Co(a,l,p=>{let g=d0(d,i,p);return p===g&&typeof p=="string"&&(g=d0(d,i,`${e}${p==="default"?"":Ne(p)}`,p)),t===!1?g:{[t]:g}})};return s.propTypes={},s.filterProps=[e],s}function xH(n){const e={};return t=>(e[t]===void 0&&(e[t]=n(t)),e[t])}const SH={m:"margin",p:"padding"},EH={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},Nk={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},CH=xH(n=>{if(n.length>2)if(Nk[n])n=Nk[n];else return[n];const[e,t]=n.split(""),r=SH[e],i=EH[t]||"";return Array.isArray(i)?i.map(s=>r+s):[r+i]}),j1=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],W1=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...j1,...W1];function Sg(n,e,t,r){const i=dv(n,e,!0)??t;return typeof i=="number"||typeof i=="string"?s=>typeof s=="string"?s:typeof i=="string"?`calc(${s} * ${i})`:i*s:Array.isArray(i)?s=>{if(typeof s=="string")return s;const a=Math.abs(s),l=i[a];return s>=0?l:typeof l=="number"?-l:`-${l}`}:typeof i=="function"?i:()=>{}}function U1(n){return Sg(n,"spacing",8)}function Eg(n,e){return typeof e=="string"||e==null?e:n(e)}function _H(n,e){return t=>n.reduce((r,i)=>(r[i]=Eg(e,t),r),{})}function AH(n,e,t,r){if(!e.includes(t))return null;const i=CH(t),s=_H(i,r),a=n[t];return Co(n,a,s)}function AM(n,e){const t=U1(n.theme);return Object.keys(n).map(r=>AH(n,e,r,t)).reduce(of,{})}function Ut(n){return AM(n,j1)}Ut.propTypes={};Ut.filterProps=j1;function Vt(n){return AM(n,W1)}Vt.propTypes={};Vt.filterProps=W1;function kM(n=8,e=U1({spacing:n})){if(n.mui)return n;const t=(...r)=>(r.length===0?[1]:r).map(s=>{const a=e(s);return typeof a=="number"?`${a}px`:a}).join(" ");return t.mui=!0,t}function hv(...n){const e=n.reduce((r,i)=>(i.filterProps.forEach(s=>{r[s]=i}),r),{}),t=r=>Object.keys(r).reduce((i,s)=>e[s]?of(i,e[s](r)):i,{});return t.propTypes={},t.filterProps=n.reduce((r,i)=>r.concat(i.filterProps),[]),t}function li(n){return typeof n!="number"?n:`${n}px solid`}function di(n,e){return Jt({prop:n,themeKey:"borders",transform:e})}const kH=di("border",li),RH=di("borderTop",li),TH=di("borderRight",li),PH=di("borderBottom",li),MH=di("borderLeft",li),IH=di("borderColor"),NH=di("borderTopColor"),LH=di("borderRightColor"),DH=di("borderBottomColor"),OH=di("borderLeftColor"),FH=di("outline",li),zH=di("outlineColor"),fv=n=>{if(n.borderRadius!==void 0&&n.borderRadius!==null){const e=Sg(n.theme,"shape.borderRadius",4),t=r=>({borderRadius:Eg(e,r)});return Co(n,n.borderRadius,t)}return null};fv.propTypes={};fv.filterProps=["borderRadius"];hv(kH,RH,TH,PH,MH,IH,NH,LH,DH,OH,fv,FH,zH);const pv=n=>{if(n.gap!==void 0&&n.gap!==null){const e=Sg(n.theme,"spacing",8),t=r=>({gap:Eg(e,r)});return Co(n,n.gap,t)}return null};pv.propTypes={};pv.filterProps=["gap"];const gv=n=>{if(n.columnGap!==void 0&&n.columnGap!==null){const e=Sg(n.theme,"spacing",8),t=r=>({columnGap:Eg(e,r)});return Co(n,n.columnGap,t)}return null};gv.propTypes={};gv.filterProps=["columnGap"];const mv=n=>{if(n.rowGap!==void 0&&n.rowGap!==null){const e=Sg(n.theme,"spacing",8),t=r=>({rowGap:Eg(e,r)});return Co(n,n.rowGap,t)}return null};mv.propTypes={};mv.filterProps=["rowGap"];const $H=Jt({prop:"gridColumn"}),BH=Jt({prop:"gridRow"}),HH=Jt({prop:"gridAutoFlow"}),jH=Jt({prop:"gridAutoColumns"}),WH=Jt({prop:"gridAutoRows"}),UH=Jt({prop:"gridTemplateColumns"}),VH=Jt({prop:"gridTemplateRows"}),GH=Jt({prop:"gridTemplateAreas"}),XH=Jt({prop:"gridArea"});hv(pv,gv,mv,$H,BH,HH,jH,WH,UH,VH,GH,XH);function Cu(n,e){return e==="grey"?e:n}const YH=Jt({prop:"color",themeKey:"palette",transform:Cu}),qH=Jt({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:Cu}),KH=Jt({prop:"backgroundColor",themeKey:"palette",transform:Cu});hv(YH,qH,KH);function Ur(n){return n<=1&&n!==0?`${n*100}%`:n}const QH=Jt({prop:"width",transform:Ur}),V1=n=>{if(n.maxWidth!==void 0&&n.maxWidth!==null){const e=t=>{var i,s,a,l,u;const r=((a=(s=(i=n.theme)==null?void 0:i.breakpoints)==null?void 0:s.values)==null?void 0:a[t])||uv[t];return r?((u=(l=n.theme)==null?void 0:l.breakpoints)==null?void 0:u.unit)!=="px"?{maxWidth:`${r}${n.theme.breakpoints.unit}`}:{maxWidth:r}:{maxWidth:Ur(t)}};return Co(n,n.maxWidth,e)}return null};V1.filterProps=["maxWidth"];const ZH=Jt({prop:"minWidth",transform:Ur}),JH=Jt({prop:"height",transform:Ur}),ej=Jt({prop:"maxHeight",transform:Ur}),tj=Jt({prop:"minHeight",transform:Ur});Jt({prop:"size",cssProperty:"width",transform:Ur});Jt({prop:"size",cssProperty:"height",transform:Ur});const nj=Jt({prop:"boxSizing"});hv(QH,V1,ZH,JH,ej,tj,nj);const Cg={border:{themeKey:"borders",transform:li},borderTop:{themeKey:"borders",transform:li},borderRight:{themeKey:"borders",transform:li},borderBottom:{themeKey:"borders",transform:li},borderLeft:{themeKey:"borders",transform:li},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:li},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:fv},color:{themeKey:"palette",transform:Cu},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:Cu},backgroundColor:{themeKey:"palette",transform:Cu},p:{style:Vt},pt:{style:Vt},pr:{style:Vt},pb:{style:Vt},pl:{style:Vt},px:{style:Vt},py:{style:Vt},padding:{style:Vt},paddingTop:{style:Vt},paddingRight:{style:Vt},paddingBottom:{style:Vt},paddingLeft:{style:Vt},paddingX:{style:Vt},paddingY:{style:Vt},paddingInline:{style:Vt},paddingInlineStart:{style:Vt},paddingInlineEnd:{style:Vt},paddingBlock:{style:Vt},paddingBlockStart:{style:Vt},paddingBlockEnd:{style:Vt},m:{style:Ut},mt:{style:Ut},mr:{style:Ut},mb:{style:Ut},ml:{style:Ut},mx:{style:Ut},my:{style:Ut},margin:{style:Ut},marginTop:{style:Ut},marginRight:{style:Ut},marginBottom:{style:Ut},marginLeft:{style:Ut},marginX:{style:Ut},marginY:{style:Ut},marginInline:{style:Ut},marginInlineStart:{style:Ut},marginInlineEnd:{style:Ut},marginBlock:{style:Ut},marginBlockStart:{style:Ut},marginBlockEnd:{style:Ut},displayPrint:{cssProperty:!1,transform:n=>({"@media print":{display:n}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:pv},rowGap:{style:mv},columnGap:{style:gv},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:Ur},maxWidth:{style:V1},minWidth:{transform:Ur},height:{transform:Ur},maxHeight:{transform:Ur},minHeight:{transform:Ur},boxSizing:{},font:{themeKey:"font"},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function rj(...n){const e=n.reduce((r,i)=>r.concat(Object.keys(i)),[]),t=new Set(e);return n.every(r=>t.size===Object.keys(r).length)}function ij(n,e){return typeof n=="function"?n(e):n}function sj(){function n(t,r,i,s){const a={[t]:r,theme:i},l=s[t];if(!l)return{[t]:r};const{cssProperty:u=t,themeKey:d,transform:h,style:p}=l;if(r==null)return null;if(d==="typography"&&r==="inherit")return{[t]:r};const g=dv(i,d)||{};return p?p(a):Co(a,r,b=>{let w=d0(g,h,b);return b===w&&typeof b=="string"&&(w=d0(g,h,`${t}${b==="default"?"":Ne(b)}`,b)),u===!1?w:{[u]:w}})}function e(t){const{sx:r,theme:i={}}=t||{};if(!r)return null;const s=i.unstable_sxConfig??Cg;function a(l){let u=l;if(typeof l=="function")u=l(i);else if(typeof l!="object")return l;if(!u)return null;const d=bH(i.breakpoints),h=Object.keys(d);let p=d;return Object.keys(u).forEach(g=>{const y=ij(u[g],i);if(y!=null)if(typeof y=="object")if(s[g])p=of(p,n(g,y,i,s));else{const b=Co({theme:i},y,w=>({[g]:w}));rj(b,y)?p[g]=e({sx:y,theme:i}):p=of(p,b)}else p=of(p,n(g,y,i,s))}),fH(i,wH(h,p))}return Array.isArray(r)?r.map(a):a(r)}return e}const yc=sj();yc.filterProps=["sx"];function oj(n,e){var r;const t=this;if(t.vars){if(!((r=t.colorSchemes)!=null&&r[n])||typeof t.getColorSchemeSelector!="function")return{};let i=t.getColorSchemeSelector(n);return i==="&"?e:((i.includes("data-")||i.includes("."))&&(i=`*:where(${i.replace(/\s*&$/,"")}) &`),{[i]:e})}return t.palette.mode===n?e:{}}function G1(n={},...e){const{breakpoints:t={},palette:r={},spacing:i,shape:s={},...a}=n,l=hH(t),u=kM(i);let d=Xn({breakpoints:l,direction:"ltr",components:{},palette:{mode:"light",...r},spacing:u,shape:{...yH,...s}},a);return d=mH(d),d.applyStyles=oj,d=e.reduce((h,p)=>Xn(h,p),d),d.unstable_sxConfig={...Cg,...a==null?void 0:a.unstable_sxConfig},d.unstable_sx=function(p){return yc({sx:p,theme:this})},d}function aj(n){return Object.keys(n).length===0}function lj(n=null){const e=I.useContext(cv);return!e||aj(e)?n:e}const cj=G1();function X1(n=cj){return lj(n)}function uj({styles:n,themeId:e,defaultTheme:t={}}){const r=X1(t),i=typeof n=="function"?n(e&&r[e]||r):n;return L.jsx(aH,{styles:i})}const dj=n=>{var r;const e={systemProps:{},otherProps:{}},t=((r=n==null?void 0:n.theme)==null?void 0:r.unstable_sxConfig)??Cg;return Object.keys(n).forEach(i=>{t[i]?e.systemProps[i]=n[i]:e.otherProps[i]=n[i]}),e};function RM(n){const{sx:e,...t}=n,{systemProps:r,otherProps:i}=dj(t);let s;return Array.isArray(e)?s=[r,...e]:typeof e=="function"?s=(...a)=>{const l=e(...a);return ms(l)?{...r,...l}:r}:s={...r,...e},{...i,sx:s}}const Lk=n=>n,hj=()=>{let n=Lk;return{configure(e){n=e},generate(e){return n(e)},reset(){n=Lk}}},TM=hj();function PM(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n)){var i=n.length;for(e=0;e<i;e++)n[e]&&(t=PM(n[e]))&&(r&&(r+=" "),r+=t)}else for(t in n)n[t]&&(r&&(r+=" "),r+=t);return r}function ze(){for(var n,e,t=0,r="",i=arguments.length;t<i;t++)(n=arguments[t])&&(e=PM(n))&&(r&&(r+=" "),r+=e);return r}function fj(n={}){const{themeId:e,defaultTheme:t,defaultClassName:r="MuiBox-root",generateClassName:i}=n,s=EM("div",{shouldForwardProp:l=>l!=="theme"&&l!=="sx"&&l!=="as"})(yc);return I.forwardRef(function(u,d){const h=X1(t),{className:p,component:g="div",...y}=RM(u);return L.jsx(s,{as:g,ref:d,className:ze(p,i?i(r):r),theme:e&&h[e]||h,...y})})}const pj={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function rt(n,e,t="Mui"){const r=pj[e];return r?`${t}-${r}`:`${TM.generate(n)}-${e}`}function Ye(n,e,t="Mui"){const r={};return e.forEach(i=>{r[i]=rt(n,i,t)}),r}function MM(n){const{variants:e,...t}=n,r={variants:e,style:Tk(t),isProcessed:!0};return r.style===t||e&&e.forEach(i=>{typeof i.style!="function"&&(i.style=Tk(i.style))}),r}const gj=G1();function Zw(n){return n!=="ownerState"&&n!=="theme"&&n!=="sx"&&n!=="as"}function mj(n){return n?(e,t)=>t[n]:null}function yj(n,e,t){n.theme=wj(n.theme)?t:n.theme[e]||n.theme}function Ay(n,e){const t=typeof e=="function"?e(n):e;if(Array.isArray(t))return t.flatMap(r=>Ay(n,r));if(Array.isArray(t==null?void 0:t.variants)){let r;if(t.isProcessed)r=t.style;else{const{variants:i,...s}=t;r=s}return IM(n,t.variants,[r])}return t!=null&&t.isProcessed?t.style:t}function IM(n,e,t=[]){var i;let r;e:for(let s=0;s<e.length;s+=1){const a=e[s];if(typeof a.props=="function"){if(r??(r={...n,...n.ownerState,ownerState:n.ownerState}),!a.props(r))continue}else for(const l in a.props)if(n[l]!==a.props[l]&&((i=n.ownerState)==null?void 0:i[l])!==a.props[l])continue e;typeof a.style=="function"?(r??(r={...n,...n.ownerState,ownerState:n.ownerState}),t.push(a.style(r))):t.push(a.style)}return t}function vj(n={}){const{themeId:e,defaultTheme:t=gj,rootShouldForwardProp:r=Zw,slotShouldForwardProp:i=Zw}=n;function s(l){yj(l,e,t)}return(l,u={})=>{lH(l,k=>k.filter(M=>M!==yc));const{name:d,slot:h,skipVariantsResolver:p,skipSx:g,overridesResolver:y=mj(Sj(h)),...b}=u,w=p!==void 0?p:h&&h!=="Root"&&h!=="root"||!1,C=g||!1;let x=Zw;h==="Root"||h==="root"?x=r:h?x=i:xj(l)&&(x=void 0);const A=EM(l,{shouldForwardProp:x,label:bj(),...b}),E=k=>{if(typeof k=="function"&&k.__emotion_real!==k)return function(T){return Ay(T,k)};if(ms(k)){const M=MM(k);return M.variants?function(N){return Ay(N,M)}:M.style}return k},_=(...k)=>{const M=[],T=k.map(E),N=[];if(M.push(s),d&&y&&N.push(function(X){var j,q;const D=(q=(j=X.theme.components)==null?void 0:j[d])==null?void 0:q.styleOverrides;if(!D)return null;const G={};for(const $ in D)G[$]=Ay(X,D[$]);return y(X,G)}),d&&!w&&N.push(function(X){var G,j;const Y=X.theme,D=(j=(G=Y==null?void 0:Y.components)==null?void 0:G[d])==null?void 0:j.variants;return D?IM(X,D):null}),C||N.push(yc),Array.isArray(T[0])){const V=T.shift(),X=new Array(M.length).fill(""),Y=new Array(N.length).fill("");let D;D=[...X,...V,...Y],D.raw=[...X,...V.raw,...Y],M.unshift(D)}const W=[...M,...T,...N],P=A(...W);return l.muiName&&(P.muiName=l.muiName),P};return A.withConfig&&(_.withConfig=A.withConfig),_}}function bj(n,e){return void 0}function wj(n){for(const e in n)return!1;return!0}function xj(n){return typeof n=="string"&&n.charCodeAt(0)>96}function Sj(n){return n&&n.charAt(0).toLowerCase()+n.slice(1)}function h0(n,e){const t={...e};for(const r in n)if(Object.prototype.hasOwnProperty.call(n,r)){const i=r;if(i==="components"||i==="slots")t[i]={...n[i],...t[i]};else if(i==="componentsProps"||i==="slotProps"){const s=n[i],a=e[i];if(!a)t[i]=s||{};else if(!s)t[i]=a;else{t[i]={...a};for(const l in s)if(Object.prototype.hasOwnProperty.call(s,l)){const u=l;t[i][u]=h0(s[u],a[u])}}}else t[i]===void 0&&(t[i]=n[i])}return t}const Da=typeof window<"u"?I.useLayoutEffect:I.useEffect;function Ej(n,e=Number.MIN_SAFE_INTEGER,t=Number.MAX_SAFE_INTEGER){return Math.max(e,Math.min(n,t))}function Y1(n,e=0,t=1){return Ej(n,e,t)}function Cj(n){n=n.slice(1);const e=new RegExp(`.{1,${n.length>=6?2:1}}`,"g");let t=n.match(e);return t&&t[0].length===1&&(t=t.map(r=>r+r)),t?`rgb${t.length===4?"a":""}(${t.map((r,i)=>i<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function Oa(n){if(n.type)return n;if(n.charAt(0)==="#")return Oa(Cj(n));const e=n.indexOf("("),t=n.substring(0,e);if(!["rgb","rgba","hsl","hsla","color"].includes(t))throw new Error(Eo(9,n));let r=n.substring(e+1,n.length-1),i;if(t==="color"){if(r=r.split(" "),i=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),!["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].includes(i))throw new Error(Eo(10,i))}else r=r.split(",");return r=r.map(s=>parseFloat(s)),{type:t,values:r,colorSpace:i}}const _j=n=>{const e=Oa(n);return e.values.slice(0,3).map((t,r)=>e.type.includes("hsl")&&r!==0?`${t}%`:t).join(" ")},Fh=(n,e)=>{try{return _j(n)}catch{return n}};function yv(n){const{type:e,colorSpace:t}=n;let{values:r}=n;return e.includes("rgb")?r=r.map((i,s)=>s<3?parseInt(i,10):i):e.includes("hsl")&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),e.includes("color")?r=`${t} ${r.join(" ")}`:r=`${r.join(", ")}`,`${e}(${r})`}function NM(n){n=Oa(n);const{values:e}=n,t=e[0],r=e[1]/100,i=e[2]/100,s=r*Math.min(i,1-i),a=(d,h=(d+t/30)%12)=>i-s*Math.max(Math.min(h-3,9-h,1),-1);let l="rgb";const u=[Math.round(a(0)*255),Math.round(a(8)*255),Math.round(a(4)*255)];return n.type==="hsla"&&(l+="a",u.push(e[3])),yv({type:l,values:u})}function Bx(n){n=Oa(n);let e=n.type==="hsl"||n.type==="hsla"?Oa(NM(n)).values:n.values;return e=e.map(t=>(n.type!=="color"&&(t/=255),t<=.03928?t/12.92:((t+.055)/1.055)**2.4)),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function Aj(n,e){const t=Bx(n),r=Bx(e);return(Math.max(t,r)+.05)/(Math.min(t,r)+.05)}function Un(n,e){return n=Oa(n),e=Y1(e),(n.type==="rgb"||n.type==="hsl")&&(n.type+="a"),n.type==="color"?n.values[3]=`/${e}`:n.values[3]=e,yv(n)}function sy(n,e,t){try{return Un(n,e)}catch{return n}}function q1(n,e){if(n=Oa(n),e=Y1(e),n.type.includes("hsl"))n.values[2]*=1-e;else if(n.type.includes("rgb")||n.type.includes("color"))for(let t=0;t<3;t+=1)n.values[t]*=1-e;return yv(n)}function Et(n,e,t){try{return q1(n,e)}catch{return n}}function K1(n,e){if(n=Oa(n),e=Y1(e),n.type.includes("hsl"))n.values[2]+=(100-n.values[2])*e;else if(n.type.includes("rgb"))for(let t=0;t<3;t+=1)n.values[t]+=(255-n.values[t])*e;else if(n.type.includes("color"))for(let t=0;t<3;t+=1)n.values[t]+=(1-n.values[t])*e;return yv(n)}function Ct(n,e,t){try{return K1(n,e)}catch{return n}}function kj(n,e=.15){return Bx(n)>.5?q1(n,e):K1(n,e)}function oy(n,e,t){try{return kj(n,e)}catch{return n}}function Dk(...n){return n.reduce((e,t)=>t==null?e:function(...i){e.apply(this,i),t.apply(this,i)},()=>{})}function LM(n,e=166){let t;function r(...i){const s=()=>{n.apply(this,i)};clearTimeout(t),t=setTimeout(s,e)}return r.clear=()=>{clearTimeout(t)},r}function Jw(n,e){var t,r,i;return I.isValidElement(n)&&e.indexOf(n.type.muiName??((i=(r=(t=n.type)==null?void 0:t._payload)==null?void 0:r.value)==null?void 0:i.muiName))!==-1}function Oi(n){return n&&n.ownerDocument||document}function _o(n){return Oi(n).defaultView||window}function Hx(n,e){typeof n=="function"?n(e):n&&(n.current=e)}let Ok=0;function Rj(n){const[e,t]=I.useState(n),r=n||e;return I.useEffect(()=>{e==null&&(Ok+=1,t(`mui-${Ok}`))},[e]),r}const Tj={...vx},Fk=Tj.useId;function _g(n){if(Fk!==void 0){const e=Fk();return n??e}return Rj(n)}function jx({controlled:n,default:e,name:t,state:r="value"}){const{current:i}=I.useRef(n!==void 0),[s,a]=I.useState(e),l=i?n:s,u=I.useCallback(d=>{i||a(d)},[]);return[l,u]}function _u(n){const e=I.useRef(n);return Da(()=>{e.current=n}),I.useRef((...t)=>(0,e.current)(...t)).current}function sr(...n){return I.useMemo(()=>n.every(e=>e==null)?null:e=>{n.forEach(t=>{Hx(t,e)})},n)}const zk={};function DM(n,e){const t=I.useRef(zk);return t.current===zk&&(t.current=n(e)),t}const Pj=[];function Mj(n){I.useEffect(n,Pj)}class Q1{constructor(){Be(this,"currentId",null);Be(this,"clear",()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)});Be(this,"disposeEffect",()=>this.clear)}static create(){return new Q1}start(e,t){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,t()},e)}}function OM(){const n=DM(Q1.create).current;return Mj(n.disposeEffect),n}function $k(n){try{return n.matches(":focus-visible")}catch{}return!1}function FM(n=window){const e=n.document.documentElement.clientWidth;return n.innerWidth-e}function it(n,e,t=void 0){const r={};for(const i in n){const s=n[i];let a="",l=!0;for(let u=0;u<s.length;u+=1){const d=s[u];d&&(a+=(l===!0?"":" ")+e(d),l=!1,t&&t[d]&&(a+=" "+t[d]))}r[i]=a}return r}function Ij(n){return typeof n=="string"}function zM(n,e,t){return n===void 0||Ij(n)?e:{...e,ownerState:{...e.ownerState,...t}}}function $M(n,e=[]){if(n===void 0)return{};const t={};return Object.keys(n).filter(r=>r.match(/^on[A-Z]/)&&typeof n[r]=="function"&&!e.includes(r)).forEach(r=>{t[r]=n[r]}),t}function Bk(n){if(n===void 0)return{};const e={};return Object.keys(n).filter(t=>!(t.match(/^on[A-Z]/)&&typeof n[t]=="function")).forEach(t=>{e[t]=n[t]}),e}function BM(n){const{getSlotProps:e,additionalProps:t,externalSlotProps:r,externalForwardedProps:i,className:s}=n;if(!e){const y=ze(t==null?void 0:t.className,s,i==null?void 0:i.className,r==null?void 0:r.className),b={...t==null?void 0:t.style,...i==null?void 0:i.style,...r==null?void 0:r.style},w={...t,...i,...r};return y.length>0&&(w.className=y),Object.keys(b).length>0&&(w.style=b),{props:w,internalRef:void 0}}const a=$M({...i,...r}),l=Bk(r),u=Bk(i),d=e(a),h=ze(d==null?void 0:d.className,t==null?void 0:t.className,s,i==null?void 0:i.className,r==null?void 0:r.className),p={...d==null?void 0:d.style,...t==null?void 0:t.style,...i==null?void 0:i.style,...r==null?void 0:r.style},g={...d,...t,...u,...l};return h.length>0&&(g.className=h),Object.keys(p).length>0&&(g.style=p),{props:g,internalRef:d.ref}}function HM(n,e,t){return typeof n=="function"?n(e,t):n}function Nj(n){var p;const{elementType:e,externalSlotProps:t,ownerState:r,skipResolvingSlotProps:i=!1,...s}=n,a=i?{}:HM(t,r),{props:l,internalRef:u}=BM({...s,externalSlotProps:a}),d=sr(u,a==null?void 0:a.ref,(p=n.additionalProps)==null?void 0:p.ref);return zM(e,{...l,ref:d},r)}function Ag(n){var e;return parseInt(I.version,10)>=19?((e=n==null?void 0:n.props)==null?void 0:e.ref)||null:(n==null?void 0:n.ref)||null}const Lj=I.createContext(),Dj=()=>I.useContext(Lj)??!1,Oj=I.createContext(void 0);function Fj(n){const{theme:e,name:t,props:r}=n;if(!e||!e.components||!e.components[t])return r;const i=e.components[t];return i.defaultProps?h0(i.defaultProps,r):!i.styleOverrides&&!i.variants?h0(i,r):r}function zj({props:n,name:e}){const t=I.useContext(Oj);return Fj({props:n,name:e,theme:{components:t}})}const Hk={theme:void 0};function $j(n){let e,t;return function(i){let s=e;return(s===void 0||i.theme!==t)&&(Hk.theme=i.theme,s=MM(n(Hk)),e=s,t=i.theme),s}}function Bj(n=""){function e(...r){if(!r.length)return"";const i=r[0];return typeof i=="string"&&!i.match(/(#|\(|\)|(-?(\d*\.)?\d+)(px|em|%|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc))|^(-?(\d*\.)?\d+)$|(\d+ \d+ \d+)/)?`, var(--${n?`${n}-`:""}${i}${e(...r.slice(1))})`:`, ${i}`}return(r,...i)=>`var(--${n?`${n}-`:""}${r}${e(...i)})`}const jk=(n,e,t,r=[])=>{let i=n;e.forEach((s,a)=>{a===e.length-1?Array.isArray(i)?i[Number(s)]=t:i&&typeof i=="object"&&(i[s]=t):i&&typeof i=="object"&&(i[s]||(i[s]=r.includes(s)?[]:{}),i=i[s])})},Hj=(n,e,t)=>{function r(i,s=[],a=[]){Object.entries(i).forEach(([l,u])=>{(!t||t&&!t([...s,l]))&&u!=null&&(typeof u=="object"&&Object.keys(u).length>0?r(u,[...s,l],Array.isArray(u)?[...a,l]:a):e([...s,l],u,a))})}r(n)},jj=(n,e)=>typeof e=="number"?["lineHeight","fontWeight","opacity","zIndex"].some(r=>n.includes(r))||n[n.length-1].toLowerCase().includes("opacity")?e:`${e}px`:e;function ex(n,e){const{prefix:t,shouldSkipGeneratingVar:r}=e||{},i={},s={},a={};return Hj(n,(l,u,d)=>{if((typeof u=="string"||typeof u=="number")&&(!r||!r(l,u))){const h=`--${t?`${t}-`:""}${l.join("-")}`,p=jj(l,u);Object.assign(i,{[h]:p}),jk(s,l,`var(${h})`,d),jk(a,l,`var(${h}, ${p})`,d)}},l=>l[0]==="vars"),{css:i,vars:s,varsWithDefaults:a}}function Wj(n,e={}){const{getSelector:t=C,disableCssColorScheme:r,colorSchemeSelector:i}=e,{colorSchemes:s={},components:a,defaultColorScheme:l="light",...u}=n,{vars:d,css:h,varsWithDefaults:p}=ex(u,e);let g=p;const y={},{[l]:b,...w}=s;if(Object.entries(w||{}).forEach(([E,_])=>{const{vars:k,css:M,varsWithDefaults:T}=ex(_,e);g=Xn(g,T),y[E]={css:M,vars:k}}),b){const{css:E,vars:_,varsWithDefaults:k}=ex(b,e);g=Xn(g,k),y[l]={css:E,vars:_}}function C(E,_){var M,T;let k=i;if(i==="class"&&(k=".%s"),i==="data"&&(k="[data-%s]"),i!=null&&i.startsWith("data-")&&!i.includes("%s")&&(k=`[${i}="%s"]`),E){if(k==="media")return n.defaultColorScheme===E?":root":{[`@media (prefers-color-scheme: ${((T=(M=s[E])==null?void 0:M.palette)==null?void 0:T.mode)||E})`]:{":root":_}};if(k)return n.defaultColorScheme===E?`:root, ${k.replace("%s",String(E))}`:k.replace("%s",String(E))}return":root"}return{vars:g,generateThemeVars:()=>{let E={...d};return Object.entries(y).forEach(([,{vars:_}])=>{E=Xn(E,_)}),E},generateStyleSheets:()=>{var N,W;const E=[],_=n.defaultColorScheme||"light";function k(P,V){Object.keys(V).length&&E.push(typeof P=="string"?{[P]:{...V}}:P)}k(t(void 0,{...h}),h);const{[_]:M,...T}=y;if(M){const{css:P}=M,V=(W=(N=s[_])==null?void 0:N.palette)==null?void 0:W.mode,X=!r&&V?{colorScheme:V,...P}:{...P};k(t(_,{...X}),X)}return Object.entries(T).forEach(([P,{css:V}])=>{var D,G;const X=(G=(D=s[P])==null?void 0:D.palette)==null?void 0:G.mode,Y=!r&&X?{colorScheme:X,...V}:{...V};k(t(P,{...Y}),Y)}),E}}}function Uj(n){return function(t){return n==="media"?`@media (prefers-color-scheme: ${t})`:n?n.startsWith("data-")&&!n.includes("%s")?`[${n}="${t}"] &`:n==="class"?`.${t} &`:n==="data"?`[data-${t}] &`:`${n.replace("%s",t)} &`:"&"}}function jM(){return{text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:Cf.white,default:Cf.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}}}const Vj=jM();function WM(){return{text:{primary:Cf.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:Cf.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}}}const Wk=WM();function Uk(n,e,t,r){const i=r.light||r,s=r.dark||r*1.5;n[e]||(n.hasOwnProperty(t)?n[e]=n[t]:e==="light"?n.light=K1(n.main,i):e==="dark"&&(n.dark=q1(n.main,s)))}function Gj(n="light"){return n==="dark"?{main:su[200],light:su[50],dark:su[400]}:{main:su[700],light:su[400],dark:su[800]}}function Xj(n="light"){return n==="dark"?{main:iu[200],light:iu[50],dark:iu[400]}:{main:iu[500],light:iu[300],dark:iu[700]}}function Yj(n="light"){return n==="dark"?{main:ru[500],light:ru[300],dark:ru[700]}:{main:ru[700],light:ru[400],dark:ru[800]}}function qj(n="light"){return n==="dark"?{main:ou[400],light:ou[300],dark:ou[700]}:{main:ou[700],light:ou[500],dark:ou[900]}}function Kj(n="light"){return n==="dark"?{main:au[400],light:au[300],dark:au[700]}:{main:au[800],light:au[500],dark:au[900]}}function Qj(n="light"){return n==="dark"?{main:Ch[400],light:Ch[300],dark:Ch[700]}:{main:"#ed6c02",light:Ch[500],dark:Ch[900]}}function Z1(n){const{mode:e="light",contrastThreshold:t=3,tonalOffset:r=.2,...i}=n,s=n.primary||Gj(e),a=n.secondary||Xj(e),l=n.error||Yj(e),u=n.info||qj(e),d=n.success||Kj(e),h=n.warning||Qj(e);function p(w){return Aj(w,Wk.text.primary)>=t?Wk.text.primary:Vj.text.primary}const g=({color:w,name:C,mainShade:x=500,lightShade:A=300,darkShade:E=700})=>{if(w={...w},!w.main&&w[x]&&(w.main=w[x]),!w.hasOwnProperty("main"))throw new Error(Eo(11,C?` (${C})`:"",x));if(typeof w.main!="string")throw new Error(Eo(12,C?` (${C})`:"",JSON.stringify(w.main)));return Uk(w,"light",A,r),Uk(w,"dark",E,r),w.contrastText||(w.contrastText=p(w.main)),w};let y;return e==="light"?y=jM():e==="dark"&&(y=WM()),Xn({common:{...Cf},mode:e,primary:g({color:s,name:"primary"}),secondary:g({color:a,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:g({color:l,name:"error"}),warning:g({color:h,name:"warning"}),info:g({color:u,name:"info"}),success:g({color:d,name:"success"}),grey:oB,contrastThreshold:t,getContrastText:p,augmentColor:g,tonalOffset:r,...y},i)}function Zj(n){const e={};return Object.entries(n).forEach(r=>{const[i,s]=r;typeof s=="object"&&(e[i]=`${s.fontStyle?`${s.fontStyle} `:""}${s.fontVariant?`${s.fontVariant} `:""}${s.fontWeight?`${s.fontWeight} `:""}${s.fontStretch?`${s.fontStretch} `:""}${s.fontSize||""}${s.lineHeight?`/${s.lineHeight} `:""}${s.fontFamily||""}`)}),e}function Jj(n,e){return{toolbar:{minHeight:56,[n.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[n.up("sm")]:{minHeight:64}},...e}}function e4(n){return Math.round(n*1e5)/1e5}const Vk={textTransform:"uppercase"},Gk='"Roboto", "Helvetica", "Arial", sans-serif';function t4(n,e){const{fontFamily:t=Gk,fontSize:r=14,fontWeightLight:i=300,fontWeightRegular:s=400,fontWeightMedium:a=500,fontWeightBold:l=700,htmlFontSize:u=16,allVariants:d,pxToRem:h,...p}=typeof e=="function"?e(n):e,g=r/14,y=h||(C=>`${C/u*g}rem`),b=(C,x,A,E,_)=>({fontFamily:t,fontWeight:C,fontSize:y(x),lineHeight:A,...t===Gk?{letterSpacing:`${e4(E/x)}em`}:{},..._,...d}),w={h1:b(i,96,1.167,-1.5),h2:b(i,60,1.2,-.5),h3:b(s,48,1.167,0),h4:b(s,34,1.235,.25),h5:b(s,24,1.334,0),h6:b(a,20,1.6,.15),subtitle1:b(s,16,1.75,.15),subtitle2:b(a,14,1.57,.1),body1:b(s,16,1.5,.15),body2:b(s,14,1.43,.15),button:b(a,14,1.75,.4,Vk),caption:b(s,12,1.66,.4),overline:b(s,12,2.66,1,Vk),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return Xn({htmlFontSize:u,pxToRem:y,fontFamily:t,fontSize:r,fontWeightLight:i,fontWeightRegular:s,fontWeightMedium:a,fontWeightBold:l,...w},p,{clone:!1})}const n4=.2,r4=.14,i4=.12;function Nt(...n){return[`${n[0]}px ${n[1]}px ${n[2]}px ${n[3]}px rgba(0,0,0,${n4})`,`${n[4]}px ${n[5]}px ${n[6]}px ${n[7]}px rgba(0,0,0,${r4})`,`${n[8]}px ${n[9]}px ${n[10]}px ${n[11]}px rgba(0,0,0,${i4})`].join(",")}const s4=["none",Nt(0,2,1,-1,0,1,1,0,0,1,3,0),Nt(0,3,1,-2,0,2,2,0,0,1,5,0),Nt(0,3,3,-2,0,3,4,0,0,1,8,0),Nt(0,2,4,-1,0,4,5,0,0,1,10,0),Nt(0,3,5,-1,0,5,8,0,0,1,14,0),Nt(0,3,5,-1,0,6,10,0,0,1,18,0),Nt(0,4,5,-2,0,7,10,1,0,2,16,1),Nt(0,5,5,-3,0,8,10,1,0,3,14,2),Nt(0,5,6,-3,0,9,12,1,0,3,16,2),Nt(0,6,6,-3,0,10,14,1,0,4,18,3),Nt(0,6,7,-4,0,11,15,1,0,4,20,3),Nt(0,7,8,-4,0,12,17,2,0,5,22,4),Nt(0,7,8,-4,0,13,19,2,0,5,24,4),Nt(0,7,9,-4,0,14,21,2,0,5,26,4),Nt(0,8,9,-5,0,15,22,2,0,6,28,5),Nt(0,8,10,-5,0,16,24,2,0,6,30,5),Nt(0,8,11,-5,0,17,26,2,0,6,32,5),Nt(0,9,11,-5,0,18,28,2,0,7,34,6),Nt(0,9,12,-6,0,19,29,2,0,7,36,6),Nt(0,10,13,-6,0,20,31,3,0,8,38,7),Nt(0,10,13,-6,0,21,33,3,0,8,40,7),Nt(0,10,14,-6,0,22,35,3,0,8,42,7),Nt(0,11,14,-7,0,23,36,3,0,9,44,8),Nt(0,11,15,-7,0,24,38,3,0,9,46,8)],o4={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},a4={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function Xk(n){return`${Math.round(n)}ms`}function l4(n){if(!n)return 0;const e=n/36;return Math.min(Math.round((4+15*e**.25+e/5)*10),3e3)}function c4(n){const e={...o4,...n.easing},t={...a4,...n.duration};return{getAutoHeightDuration:l4,create:(i=["all"],s={})=>{const{duration:a=t.standard,easing:l=e.easeInOut,delay:u=0,...d}=s;return(Array.isArray(i)?i:[i]).map(h=>`${h} ${typeof a=="string"?a:Xk(a)} ${l} ${typeof u=="string"?u:Xk(u)}`).join(",")},...n,easing:e,duration:t}}const u4={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};function d4(n){return ms(n)||typeof n>"u"||typeof n=="string"||typeof n=="boolean"||typeof n=="number"||Array.isArray(n)}function UM(n={}){const e={...n};function t(r){const i=Object.entries(r);for(let s=0;s<i.length;s++){const[a,l]=i[s];!d4(l)||a.startsWith("unstable_")?delete r[a]:ms(l)&&(r[a]={...l},t(r[a]))}}return t(e),`import { unstable_createBreakpoints as createBreakpoints, createTransitions } from '@mui/material/styles';

const theme = ${JSON.stringify(e,null,2)};

theme.breakpoints = createBreakpoints(theme.breakpoints || {});
theme.transitions = createTransitions(theme.transitions || {});

export default theme;`}function Wx(n={},...e){const{breakpoints:t,mixins:r={},spacing:i,palette:s={},transitions:a={},typography:l={},shape:u,...d}=n;if(n.vars&&n.generateThemeVars===void 0)throw new Error(Eo(20));const h=Z1(s),p=G1(n);let g=Xn(p,{mixins:Jj(p.breakpoints,r),palette:h,shadows:s4.slice(),typography:t4(h,l),transitions:c4(a),zIndex:{...u4}});return g=Xn(g,d),g=e.reduce((y,b)=>Xn(y,b),g),g.unstable_sxConfig={...Cg,...d==null?void 0:d.unstable_sxConfig},g.unstable_sx=function(b){return yc({sx:b,theme:this})},g.toRuntimeSource=UM,g}function Ux(n){let e;return n<1?e=5.11916*n**2:e=4.5*Math.log(n+1)+2,Math.round(e*10)/1e3}const h4=[...Array(25)].map((n,e)=>{if(e===0)return"none";const t=Ux(e);return`linear-gradient(rgba(255 255 255 / ${t}), rgba(255 255 255 / ${t}))`});function VM(n){return{inputPlaceholder:n==="dark"?.5:.42,inputUnderline:n==="dark"?.7:.42,switchTrackDisabled:n==="dark"?.2:.12,switchTrack:n==="dark"?.3:.38}}function GM(n){return n==="dark"?h4:[]}function f4(n){const{palette:e={mode:"light"},opacity:t,overlays:r,...i}=n,s=Z1(e);return{palette:s,opacity:{...VM(s.mode),...t},overlays:r||GM(s.mode),...i}}function p4(n){var e;return!!n[0].match(/(cssVarPrefix|colorSchemeSelector|rootSelector|typography|mixins|breakpoints|direction|transitions)/)||!!n[0].match(/sxConfig$/)||n[0]==="palette"&&!!((e=n[1])!=null&&e.match(/(mode|contrastThreshold|tonalOffset)/))}const g4=n=>[...[...Array(25)].map((e,t)=>`--${n?`${n}-`:""}overlays-${t}`),`--${n?`${n}-`:""}palette-AppBar-darkBg`,`--${n?`${n}-`:""}palette-AppBar-darkColor`],m4=n=>(e,t)=>{const r=n.rootSelector||":root",i=n.colorSchemeSelector;let s=i;if(i==="class"&&(s=".%s"),i==="data"&&(s="[data-%s]"),i!=null&&i.startsWith("data-")&&!i.includes("%s")&&(s=`[${i}="%s"]`),n.defaultColorScheme===e){if(e==="dark"){const a={};return g4(n.cssVarPrefix).forEach(l=>{a[l]=t[l],delete t[l]}),s==="media"?{[r]:t,"@media (prefers-color-scheme: dark)":{[r]:a}}:s?{[s.replace("%s",e)]:a,[`${r}, ${s.replace("%s",e)}`]:t}:{[r]:{...t,...a}}}if(s&&s!=="media")return`${r}, ${s.replace("%s",String(e))}`}else if(e){if(s==="media")return{[`@media (prefers-color-scheme: ${String(e)})`]:{[r]:t}};if(s)return s.replace("%s",String(e))}return r};function y4(n,e){e.forEach(t=>{n[t]||(n[t]={})})}function ue(n,e,t){!n[e]&&t&&(n[e]=t)}function zh(n){return typeof n!="string"||!n.startsWith("hsl")?n:NM(n)}function Os(n,e){`${e}Channel`in n||(n[`${e}Channel`]=Fh(zh(n[e])))}function v4(n){return typeof n=="number"?`${n}px`:typeof n=="string"||typeof n=="function"||Array.isArray(n)?n:"8px"}const Xi=n=>{try{return n()}catch{}},b4=(n="mui")=>Bj(n);function tx(n,e,t,r){if(!e)return;e=e===!0?{}:e;const i=r==="dark"?"dark":"light";if(!t){n[r]=f4({...e,palette:{mode:i,...e==null?void 0:e.palette}});return}const{palette:s,...a}=Wx({...t,palette:{mode:i,...e==null?void 0:e.palette}});return n[r]={...e,palette:s,opacity:{...VM(i),...e==null?void 0:e.opacity},overlays:(e==null?void 0:e.overlays)||GM(i)},a}function w4(n={},...e){const{colorSchemes:t={light:!0},defaultColorScheme:r,disableCssColorScheme:i=!1,cssVarPrefix:s="mui",shouldSkipGeneratingVar:a=p4,colorSchemeSelector:l=t.light&&t.dark?"media":void 0,rootSelector:u=":root",...d}=n,h=Object.keys(t)[0],p=r||(t.light&&h!=="light"?"light":h),g=b4(s),{[p]:y,light:b,dark:w,...C}=t,x={...C};let A=y;if((p==="dark"&&!("dark"in t)||p==="light"&&!("light"in t))&&(A=!0),!A)throw new Error(Eo(21,p));const E=tx(x,A,d,p);b&&!x.light&&tx(x,b,void 0,"light"),w&&!x.dark&&tx(x,w,void 0,"dark");let _={defaultColorScheme:p,...E,cssVarPrefix:s,colorSchemeSelector:l,rootSelector:u,getCssVar:g,colorSchemes:x,font:{...Zj(E.typography),...E.font},spacing:v4(d.spacing)};Object.keys(_.colorSchemes).forEach(W=>{const P=_.colorSchemes[W].palette,V=X=>{const Y=X.split("-"),D=Y[1],G=Y[2];return g(X,P[D][G])};if(P.mode==="light"&&(ue(P.common,"background","#fff"),ue(P.common,"onBackground","#000")),P.mode==="dark"&&(ue(P.common,"background","#000"),ue(P.common,"onBackground","#fff")),y4(P,["Alert","AppBar","Avatar","Button","Chip","FilledInput","LinearProgress","Skeleton","Slider","SnackbarContent","SpeedDialAction","StepConnector","StepContent","Switch","TableCell","Tooltip"]),P.mode==="light"){ue(P.Alert,"errorColor",Et(P.error.light,.6)),ue(P.Alert,"infoColor",Et(P.info.light,.6)),ue(P.Alert,"successColor",Et(P.success.light,.6)),ue(P.Alert,"warningColor",Et(P.warning.light,.6)),ue(P.Alert,"errorFilledBg",V("palette-error-main")),ue(P.Alert,"infoFilledBg",V("palette-info-main")),ue(P.Alert,"successFilledBg",V("palette-success-main")),ue(P.Alert,"warningFilledBg",V("palette-warning-main")),ue(P.Alert,"errorFilledColor",Xi(()=>P.getContrastText(P.error.main))),ue(P.Alert,"infoFilledColor",Xi(()=>P.getContrastText(P.info.main))),ue(P.Alert,"successFilledColor",Xi(()=>P.getContrastText(P.success.main))),ue(P.Alert,"warningFilledColor",Xi(()=>P.getContrastText(P.warning.main))),ue(P.Alert,"errorStandardBg",Ct(P.error.light,.9)),ue(P.Alert,"infoStandardBg",Ct(P.info.light,.9)),ue(P.Alert,"successStandardBg",Ct(P.success.light,.9)),ue(P.Alert,"warningStandardBg",Ct(P.warning.light,.9)),ue(P.Alert,"errorIconColor",V("palette-error-main")),ue(P.Alert,"infoIconColor",V("palette-info-main")),ue(P.Alert,"successIconColor",V("palette-success-main")),ue(P.Alert,"warningIconColor",V("palette-warning-main")),ue(P.AppBar,"defaultBg",V("palette-grey-100")),ue(P.Avatar,"defaultBg",V("palette-grey-400")),ue(P.Button,"inheritContainedBg",V("palette-grey-300")),ue(P.Button,"inheritContainedHoverBg",V("palette-grey-A100")),ue(P.Chip,"defaultBorder",V("palette-grey-400")),ue(P.Chip,"defaultAvatarColor",V("palette-grey-700")),ue(P.Chip,"defaultIconColor",V("palette-grey-700")),ue(P.FilledInput,"bg","rgba(0, 0, 0, 0.06)"),ue(P.FilledInput,"hoverBg","rgba(0, 0, 0, 0.09)"),ue(P.FilledInput,"disabledBg","rgba(0, 0, 0, 0.12)"),ue(P.LinearProgress,"primaryBg",Ct(P.primary.main,.62)),ue(P.LinearProgress,"secondaryBg",Ct(P.secondary.main,.62)),ue(P.LinearProgress,"errorBg",Ct(P.error.main,.62)),ue(P.LinearProgress,"infoBg",Ct(P.info.main,.62)),ue(P.LinearProgress,"successBg",Ct(P.success.main,.62)),ue(P.LinearProgress,"warningBg",Ct(P.warning.main,.62)),ue(P.Skeleton,"bg",`rgba(${V("palette-text-primaryChannel")} / 0.11)`),ue(P.Slider,"primaryTrack",Ct(P.primary.main,.62)),ue(P.Slider,"secondaryTrack",Ct(P.secondary.main,.62)),ue(P.Slider,"errorTrack",Ct(P.error.main,.62)),ue(P.Slider,"infoTrack",Ct(P.info.main,.62)),ue(P.Slider,"successTrack",Ct(P.success.main,.62)),ue(P.Slider,"warningTrack",Ct(P.warning.main,.62));const X=oy(P.background.default,.8);ue(P.SnackbarContent,"bg",X),ue(P.SnackbarContent,"color",Xi(()=>P.getContrastText(X))),ue(P.SpeedDialAction,"fabHoverBg",oy(P.background.paper,.15)),ue(P.StepConnector,"border",V("palette-grey-400")),ue(P.StepContent,"border",V("palette-grey-400")),ue(P.Switch,"defaultColor",V("palette-common-white")),ue(P.Switch,"defaultDisabledColor",V("palette-grey-100")),ue(P.Switch,"primaryDisabledColor",Ct(P.primary.main,.62)),ue(P.Switch,"secondaryDisabledColor",Ct(P.secondary.main,.62)),ue(P.Switch,"errorDisabledColor",Ct(P.error.main,.62)),ue(P.Switch,"infoDisabledColor",Ct(P.info.main,.62)),ue(P.Switch,"successDisabledColor",Ct(P.success.main,.62)),ue(P.Switch,"warningDisabledColor",Ct(P.warning.main,.62)),ue(P.TableCell,"border",Ct(sy(P.divider,1),.88)),ue(P.Tooltip,"bg",sy(P.grey[700],.92))}if(P.mode==="dark"){ue(P.Alert,"errorColor",Ct(P.error.light,.6)),ue(P.Alert,"infoColor",Ct(P.info.light,.6)),ue(P.Alert,"successColor",Ct(P.success.light,.6)),ue(P.Alert,"warningColor",Ct(P.warning.light,.6)),ue(P.Alert,"errorFilledBg",V("palette-error-dark")),ue(P.Alert,"infoFilledBg",V("palette-info-dark")),ue(P.Alert,"successFilledBg",V("palette-success-dark")),ue(P.Alert,"warningFilledBg",V("palette-warning-dark")),ue(P.Alert,"errorFilledColor",Xi(()=>P.getContrastText(P.error.dark))),ue(P.Alert,"infoFilledColor",Xi(()=>P.getContrastText(P.info.dark))),ue(P.Alert,"successFilledColor",Xi(()=>P.getContrastText(P.success.dark))),ue(P.Alert,"warningFilledColor",Xi(()=>P.getContrastText(P.warning.dark))),ue(P.Alert,"errorStandardBg",Et(P.error.light,.9)),ue(P.Alert,"infoStandardBg",Et(P.info.light,.9)),ue(P.Alert,"successStandardBg",Et(P.success.light,.9)),ue(P.Alert,"warningStandardBg",Et(P.warning.light,.9)),ue(P.Alert,"errorIconColor",V("palette-error-main")),ue(P.Alert,"infoIconColor",V("palette-info-main")),ue(P.Alert,"successIconColor",V("palette-success-main")),ue(P.Alert,"warningIconColor",V("palette-warning-main")),ue(P.AppBar,"defaultBg",V("palette-grey-900")),ue(P.AppBar,"darkBg",V("palette-background-paper")),ue(P.AppBar,"darkColor",V("palette-text-primary")),ue(P.Avatar,"defaultBg",V("palette-grey-600")),ue(P.Button,"inheritContainedBg",V("palette-grey-800")),ue(P.Button,"inheritContainedHoverBg",V("palette-grey-700")),ue(P.Chip,"defaultBorder",V("palette-grey-700")),ue(P.Chip,"defaultAvatarColor",V("palette-grey-300")),ue(P.Chip,"defaultIconColor",V("palette-grey-300")),ue(P.FilledInput,"bg","rgba(255, 255, 255, 0.09)"),ue(P.FilledInput,"hoverBg","rgba(255, 255, 255, 0.13)"),ue(P.FilledInput,"disabledBg","rgba(255, 255, 255, 0.12)"),ue(P.LinearProgress,"primaryBg",Et(P.primary.main,.5)),ue(P.LinearProgress,"secondaryBg",Et(P.secondary.main,.5)),ue(P.LinearProgress,"errorBg",Et(P.error.main,.5)),ue(P.LinearProgress,"infoBg",Et(P.info.main,.5)),ue(P.LinearProgress,"successBg",Et(P.success.main,.5)),ue(P.LinearProgress,"warningBg",Et(P.warning.main,.5)),ue(P.Skeleton,"bg",`rgba(${V("palette-text-primaryChannel")} / 0.13)`),ue(P.Slider,"primaryTrack",Et(P.primary.main,.5)),ue(P.Slider,"secondaryTrack",Et(P.secondary.main,.5)),ue(P.Slider,"errorTrack",Et(P.error.main,.5)),ue(P.Slider,"infoTrack",Et(P.info.main,.5)),ue(P.Slider,"successTrack",Et(P.success.main,.5)),ue(P.Slider,"warningTrack",Et(P.warning.main,.5));const X=oy(P.background.default,.98);ue(P.SnackbarContent,"bg",X),ue(P.SnackbarContent,"color",Xi(()=>P.getContrastText(X))),ue(P.SpeedDialAction,"fabHoverBg",oy(P.background.paper,.15)),ue(P.StepConnector,"border",V("palette-grey-600")),ue(P.StepContent,"border",V("palette-grey-600")),ue(P.Switch,"defaultColor",V("palette-grey-300")),ue(P.Switch,"defaultDisabledColor",V("palette-grey-600")),ue(P.Switch,"primaryDisabledColor",Et(P.primary.main,.55)),ue(P.Switch,"secondaryDisabledColor",Et(P.secondary.main,.55)),ue(P.Switch,"errorDisabledColor",Et(P.error.main,.55)),ue(P.Switch,"infoDisabledColor",Et(P.info.main,.55)),ue(P.Switch,"successDisabledColor",Et(P.success.main,.55)),ue(P.Switch,"warningDisabledColor",Et(P.warning.main,.55)),ue(P.TableCell,"border",Et(sy(P.divider,1),.68)),ue(P.Tooltip,"bg",sy(P.grey[700],.92))}Os(P.background,"default"),Os(P.background,"paper"),Os(P.common,"background"),Os(P.common,"onBackground"),Os(P,"divider"),Object.keys(P).forEach(X=>{const Y=P[X];X!=="tonalOffset"&&Y&&typeof Y=="object"&&(Y.main&&ue(P[X],"mainChannel",Fh(zh(Y.main))),Y.light&&ue(P[X],"lightChannel",Fh(zh(Y.light))),Y.dark&&ue(P[X],"darkChannel",Fh(zh(Y.dark))),Y.contrastText&&ue(P[X],"contrastTextChannel",Fh(zh(Y.contrastText))),X==="text"&&(Os(P[X],"primary"),Os(P[X],"secondary")),X==="action"&&(Y.active&&Os(P[X],"active"),Y.selected&&Os(P[X],"selected")))})}),_=e.reduce((W,P)=>Xn(W,P),_);const k={prefix:s,disableCssColorScheme:i,shouldSkipGeneratingVar:a,getSelector:m4(_)},{vars:M,generateThemeVars:T,generateStyleSheets:N}=Wj(_,k);return _.vars=M,Object.entries(_.colorSchemes[_.defaultColorScheme]).forEach(([W,P])=>{_[W]=P}),_.generateThemeVars=T,_.generateStyleSheets=N,_.generateSpacing=function(){return kM(d.spacing,U1(this))},_.getColorSchemeSelector=Uj(l),_.spacing=_.generateSpacing(),_.shouldSkipGeneratingVar=a,_.unstable_sxConfig={...Cg,...d==null?void 0:d.unstable_sxConfig},_.unstable_sx=function(P){return yc({sx:P,theme:this})},_.toRuntimeSource=UM,_}function Yk(n,e,t){n.colorSchemes&&t&&(n.colorSchemes[e]={...t!==!0&&t,palette:Z1({...t===!0?{}:t.palette,mode:e})})}function XM(n={},...e){const{palette:t,cssVariables:r=!1,colorSchemes:i=t?void 0:{light:!0},defaultColorScheme:s=t==null?void 0:t.mode,...a}=n,l=s||"light",u=i==null?void 0:i[l],d={...i,...t?{[l]:{...typeof u!="boolean"&&u,palette:t}}:void 0};if(r===!1){if(!("colorSchemes"in n))return Wx(n,...e);let h=t;"palette"in n||d[l]&&(d[l]!==!0?h=d[l].palette:l==="dark"&&(h={mode:"dark"}));const p=Wx({...n,palette:h},...e);return p.defaultColorScheme=l,p.colorSchemes=d,p.palette.mode==="light"&&(p.colorSchemes.light={...d.light!==!0&&d.light,palette:p.palette},Yk(p,"dark",d.dark)),p.palette.mode==="dark"&&(p.colorSchemes.dark={...d.dark!==!0&&d.dark,palette:p.palette},Yk(p,"light",d.light)),p}return!t&&!("light"in d)&&l==="light"&&(d.light=!0),w4({...a,colorSchemes:d,defaultColorScheme:l,...typeof r!="boolean"&&r},...e)}const J1=XM();function vv(){const n=X1(J1);return n[sv]||n}function YM(n){return n!=="ownerState"&&n!=="theme"&&n!=="sx"&&n!=="as"}const Er=n=>YM(n)&&n!=="classes",Ce=vj({themeId:sv,defaultTheme:J1,rootShouldForwardProp:Er});function x4(n){return L.jsx(uj,{...n,defaultTheme:J1,themeId:sv})}function S4(n){return function(t){return L.jsx(x4,{styles:typeof n=="function"?r=>n({theme:r,...t}):n})}}function E4(){return RM}const xt=$j;function ht(n){return zj(n)}function C4(n){return rt("MuiSvgIcon",n)}Ye("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const _4=n=>{const{color:e,fontSize:t,classes:r}=n,i={root:["root",e!=="inherit"&&`color${Ne(e)}`,`fontSize${Ne(t)}`]};return it(i,C4,r)},A4=Ce("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.color!=="inherit"&&e[`color${Ne(t.color)}`],e[`fontSize${Ne(t.fontSize)}`]]}})(xt(({theme:n})=>{var e,t,r,i,s,a,l,u,d,h,p,g,y,b;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",flexShrink:0,transition:(i=(e=n.transitions)==null?void 0:e.create)==null?void 0:i.call(e,"fill",{duration:(r=(t=(n.vars??n).transitions)==null?void 0:t.duration)==null?void 0:r.shorter}),variants:[{props:w=>!w.hasSvgAsChild,style:{fill:"currentColor"}},{props:{fontSize:"inherit"},style:{fontSize:"inherit"}},{props:{fontSize:"small"},style:{fontSize:((a=(s=n.typography)==null?void 0:s.pxToRem)==null?void 0:a.call(s,20))||"1.25rem"}},{props:{fontSize:"medium"},style:{fontSize:((u=(l=n.typography)==null?void 0:l.pxToRem)==null?void 0:u.call(l,24))||"1.5rem"}},{props:{fontSize:"large"},style:{fontSize:((h=(d=n.typography)==null?void 0:d.pxToRem)==null?void 0:h.call(d,35))||"2.1875rem"}},...Object.entries((n.vars??n).palette).filter(([,w])=>w&&w.main).map(([w])=>{var C,x;return{props:{color:w},style:{color:(x=(C=(n.vars??n).palette)==null?void 0:C[w])==null?void 0:x.main}}}),{props:{color:"action"},style:{color:(g=(p=(n.vars??n).palette)==null?void 0:p.action)==null?void 0:g.active}},{props:{color:"disabled"},style:{color:(b=(y=(n.vars??n).palette)==null?void 0:y.action)==null?void 0:b.disabled}},{props:{color:"inherit"},style:{color:void 0}}]}})),Vx=I.forwardRef(function(e,t){const r=ht({props:e,name:"MuiSvgIcon"}),{children:i,className:s,color:a="inherit",component:l="svg",fontSize:u="medium",htmlColor:d,inheritViewBox:h=!1,titleAccess:p,viewBox:g="0 0 24 24",...y}=r,b=I.isValidElement(i)&&i.type==="svg",w={...r,color:a,component:l,fontSize:u,instanceFontSize:e.fontSize,inheritViewBox:h,viewBox:g,hasSvgAsChild:b},C={};h||(C.viewBox=g);const x=_4(w);return L.jsxs(A4,{as:l,className:ze(x.root,s),focusable:"false",color:d,"aria-hidden":p?void 0:!0,role:p?"img":void 0,ref:t,...C,...y,...b&&i.props,ownerState:w,children:[b?i.props.children:i,p?L.jsx("title",{children:p}):null]})});Vx.muiName="SvgIcon";function $i(n,e){function t(r,i){return L.jsx(Vx,{"data-testid":`${e}Icon`,ref:i,...r,children:n})}return t.muiName=Vx.muiName,I.memo(I.forwardRef(t))}function qM(n,e){if(!n)return e;if(typeof n=="function"||typeof e=="function")return i=>{const s=typeof e=="function"?e(i):e,a=typeof n=="function"?n({...i,...s}):n,l=ze(i==null?void 0:i.className,s==null?void 0:s.className,a==null?void 0:a.className);return{...s,...a,...!!l&&{className:l},...(s==null?void 0:s.style)&&(a==null?void 0:a.style)&&{style:{...s.style,...a.style}},...(s==null?void 0:s.sx)&&(a==null?void 0:a.sx)&&{sx:[...Array.isArray(s.sx)?s.sx:[s.sx],...Array.isArray(a.sx)?a.sx:[a.sx]]}}};const t=e,r=ze(t==null?void 0:t.className,n==null?void 0:n.className);return{...e,...n,...!!r&&{className:r},...(t==null?void 0:t.style)&&(n==null?void 0:n.style)&&{style:{...t.style,...n.style}},...(t==null?void 0:t.sx)&&(n==null?void 0:n.sx)&&{sx:[...Array.isArray(t.sx)?t.sx:[t.sx],...Array.isArray(n.sx)?n.sx:[n.sx]]}}}function KM(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)!==-1)continue;t[r]=n[r]}return t}function Gx(n,e){return Gx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,r){return t.__proto__=r,t},Gx(n,e)}function QM(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,Gx(n,e)}const qk={disabled:!1},f0=ct.createContext(null);var k4=function(e){return e.scrollTop},$h="unmounted",cl="exited",ul="entering",du="entered",Xx="exiting",_s=function(n){QM(e,n);function e(r,i){var s;s=n.call(this,r,i)||this;var a=i,l=a&&!a.isMounting?r.enter:r.appear,u;return s.appearStatus=null,r.in?l?(u=cl,s.appearStatus=ul):u=du:r.unmountOnExit||r.mountOnEnter?u=$h:u=cl,s.state={status:u},s.nextCallback=null,s}e.getDerivedStateFromProps=function(i,s){var a=i.in;return a&&s.status===$h?{status:cl}:null};var t=e.prototype;return t.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},t.componentDidUpdate=function(i){var s=null;if(i!==this.props){var a=this.state.status;this.props.in?a!==ul&&a!==du&&(s=ul):(a===ul||a===du)&&(s=Xx)}this.updateStatus(!1,s)},t.componentWillUnmount=function(){this.cancelNextCallback()},t.getTimeouts=function(){var i=this.props.timeout,s,a,l;return s=a=l=i,i!=null&&typeof i!="number"&&(s=i.exit,a=i.enter,l=i.appear!==void 0?i.appear:a),{exit:s,enter:a,appear:l}},t.updateStatus=function(i,s){if(i===void 0&&(i=!1),s!==null)if(this.cancelNextCallback(),s===ul){if(this.props.unmountOnExit||this.props.mountOnEnter){var a=this.props.nodeRef?this.props.nodeRef.current:ty.findDOMNode(this);a&&k4(a)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===cl&&this.setState({status:$h})},t.performEnter=function(i){var s=this,a=this.props.enter,l=this.context?this.context.isMounting:i,u=this.props.nodeRef?[l]:[ty.findDOMNode(this),l],d=u[0],h=u[1],p=this.getTimeouts(),g=l?p.appear:p.enter;if(!i&&!a||qk.disabled){this.safeSetState({status:du},function(){s.props.onEntered(d)});return}this.props.onEnter(d,h),this.safeSetState({status:ul},function(){s.props.onEntering(d,h),s.onTransitionEnd(g,function(){s.safeSetState({status:du},function(){s.props.onEntered(d,h)})})})},t.performExit=function(){var i=this,s=this.props.exit,a=this.getTimeouts(),l=this.props.nodeRef?void 0:ty.findDOMNode(this);if(!s||qk.disabled){this.safeSetState({status:cl},function(){i.props.onExited(l)});return}this.props.onExit(l),this.safeSetState({status:Xx},function(){i.props.onExiting(l),i.onTransitionEnd(a.exit,function(){i.safeSetState({status:cl},function(){i.props.onExited(l)})})})},t.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},t.safeSetState=function(i,s){s=this.setNextCallback(s),this.setState(i,s)},t.setNextCallback=function(i){var s=this,a=!0;return this.nextCallback=function(l){a&&(a=!1,s.nextCallback=null,i(l))},this.nextCallback.cancel=function(){a=!1},this.nextCallback},t.onTransitionEnd=function(i,s){this.setNextCallback(s);var a=this.props.nodeRef?this.props.nodeRef.current:ty.findDOMNode(this),l=i==null&&!this.props.addEndListener;if(!a||l){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var u=this.props.nodeRef?[this.nextCallback]:[a,this.nextCallback],d=u[0],h=u[1];this.props.addEndListener(d,h)}i!=null&&setTimeout(this.nextCallback,i)},t.render=function(){var i=this.state.status;if(i===$h)return null;var s=this.props,a=s.children;s.in,s.mountOnEnter,s.unmountOnExit,s.appear,s.enter,s.exit,s.timeout,s.addEndListener,s.onEnter,s.onEntering,s.onEntered,s.onExit,s.onExiting,s.onExited,s.nodeRef;var l=KM(s,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return ct.createElement(f0.Provider,{value:null},typeof a=="function"?a(i,l):ct.cloneElement(ct.Children.only(a),l))},e}(ct.Component);_s.contextType=f0;_s.propTypes={};function lu(){}_s.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:lu,onEntering:lu,onEntered:lu,onExit:lu,onExiting:lu,onExited:lu};_s.UNMOUNTED=$h;_s.EXITED=cl;_s.ENTERING=ul;_s.ENTERED=du;_s.EXITING=Xx;function R4(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function eE(n,e){var t=function(s){return e&&I.isValidElement(s)?e(s):s},r=Object.create(null);return n&&I.Children.map(n,function(i){return i}).forEach(function(i){r[i.key]=t(i)}),r}function T4(n,e){n=n||{},e=e||{};function t(h){return h in e?e[h]:n[h]}var r=Object.create(null),i=[];for(var s in n)s in e?i.length&&(r[s]=i,i=[]):i.push(s);var a,l={};for(var u in e){if(r[u])for(a=0;a<r[u].length;a++){var d=r[u][a];l[r[u][a]]=t(d)}l[u]=t(u)}for(a=0;a<i.length;a++)l[i[a]]=t(i[a]);return l}function yl(n,e,t){return t[e]!=null?t[e]:n.props[e]}function P4(n,e){return eE(n.children,function(t){return I.cloneElement(t,{onExited:e.bind(null,t),in:!0,appear:yl(t,"appear",n),enter:yl(t,"enter",n),exit:yl(t,"exit",n)})})}function M4(n,e,t){var r=eE(n.children),i=T4(e,r);return Object.keys(i).forEach(function(s){var a=i[s];if(I.isValidElement(a)){var l=s in e,u=s in r,d=e[s],h=I.isValidElement(d)&&!d.props.in;u&&(!l||h)?i[s]=I.cloneElement(a,{onExited:t.bind(null,a),in:!0,exit:yl(a,"exit",n),enter:yl(a,"enter",n)}):!u&&l&&!h?i[s]=I.cloneElement(a,{in:!1}):u&&l&&I.isValidElement(d)&&(i[s]=I.cloneElement(a,{onExited:t.bind(null,a),in:d.props.in,exit:yl(a,"exit",n),enter:yl(a,"enter",n)}))}}),i}var I4=Object.values||function(n){return Object.keys(n).map(function(e){return n[e]})},N4={component:"div",childFactory:function(e){return e}},tE=function(n){QM(e,n);function e(r,i){var s;s=n.call(this,r,i)||this;var a=s.handleExited.bind(R4(s));return s.state={contextValue:{isMounting:!0},handleExited:a,firstRender:!0},s}var t=e.prototype;return t.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},t.componentWillUnmount=function(){this.mounted=!1},e.getDerivedStateFromProps=function(i,s){var a=s.children,l=s.handleExited,u=s.firstRender;return{children:u?P4(i,l):M4(i,a,l),firstRender:!1}},t.handleExited=function(i,s){var a=eE(this.props.children);i.key in a||(i.props.onExited&&i.props.onExited(s),this.mounted&&this.setState(function(l){var u=c0({},l.children);return delete u[i.key],{children:u}}))},t.render=function(){var i=this.props,s=i.component,a=i.childFactory,l=KM(i,["component","childFactory"]),u=this.state.contextValue,d=I4(this.state.children).map(a);return delete l.appear,delete l.enter,delete l.exit,s===null?ct.createElement(f0.Provider,{value:u},d):ct.createElement(f0.Provider,{value:u},ct.createElement(s,l,d))},e}(ct.Component);tE.propTypes={};tE.defaultProps=N4;const ZM=n=>n.scrollTop;function p0(n,e){const{timeout:t,easing:r,style:i={}}=n;return{duration:i.transitionDuration??(typeof t=="number"?t:t[e.mode]||0),easing:i.transitionTimingFunction??(typeof r=="object"?r[e.mode]:r),delay:i.transitionDelay}}function L4(n){return rt("MuiPaper",n)}Ye("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const D4=n=>{const{square:e,elevation:t,variant:r,classes:i}=n,s={root:["root",r,!e&&"rounded",r==="elevation"&&`elevation${t}`]};return it(s,L4,i)},O4=Ce("div",{name:"MuiPaper",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,e[t.variant],!t.square&&e.rounded,t.variant==="elevation"&&e[`elevation${t.elevation}`]]}})(xt(({theme:n})=>({backgroundColor:(n.vars||n).palette.background.paper,color:(n.vars||n).palette.text.primary,transition:n.transitions.create("box-shadow"),variants:[{props:({ownerState:e})=>!e.square,style:{borderRadius:n.shape.borderRadius}},{props:{variant:"outlined"},style:{border:`1px solid ${(n.vars||n).palette.divider}`}},{props:{variant:"elevation"},style:{boxShadow:"var(--Paper-shadow)",backgroundImage:"var(--Paper-overlay)"}}]}))),nE=I.forwardRef(function(e,t){var y;const r=ht({props:e,name:"MuiPaper"}),i=vv(),{className:s,component:a="div",elevation:l=1,square:u=!1,variant:d="elevation",...h}=r,p={...r,component:a,elevation:l,square:u,variant:d},g=D4(p);return L.jsx(O4,{as:a,ownerState:p,className:ze(g.root,s),ref:t,...h,style:{...d==="elevation"&&{"--Paper-shadow":(i.vars||i).shadows[l],...i.vars&&{"--Paper-overlay":(y=i.vars.overlays)==null?void 0:y[l]},...!i.vars&&i.palette.mode==="dark"&&{"--Paper-overlay":`linear-gradient(${Un("#fff",Ux(l))}, ${Un("#fff",Ux(l))})`}},...h.style}})});function jt(n,e){const{className:t,elementType:r,ownerState:i,externalForwardedProps:s,internalForwardedProps:a,shouldForwardComponentProp:l=!1,...u}=e,{component:d,slots:h={[n]:void 0},slotProps:p={[n]:void 0},...g}=s,y=h[n]||r,b=HM(p[n],i),{props:{component:w,...C},internalRef:x}=BM({className:t,...u,externalForwardedProps:n==="root"?g:void 0,externalSlotProps:b}),A=sr(x,b==null?void 0:b.ref,e.ref),E=n==="root"?w||d:w,_=zM(y,{...n==="root"&&!d&&!h[n]&&a,...n!=="root"&&!h[n]&&a,...C,...E&&!l&&{as:E},...E&&l&&{component:E},ref:A},i);return[y,_]}class g0{constructor(){Be(this,"mountEffect",()=>{this.shouldMount&&!this.didMount&&this.ref.current!==null&&(this.didMount=!0,this.mounted.resolve())});this.ref={current:null},this.mounted=null,this.didMount=!1,this.shouldMount=!1,this.setShouldMount=null}static create(){return new g0}static use(){const e=DM(g0.create).current,[t,r]=I.useState(!1);return e.shouldMount=t,e.setShouldMount=r,I.useEffect(e.mountEffect,[t]),e}mount(){return this.mounted||(this.mounted=z4(),this.shouldMount=!0,this.setShouldMount(this.shouldMount)),this.mounted}start(...e){this.mount().then(()=>{var t;return(t=this.ref.current)==null?void 0:t.start(...e)})}stop(...e){this.mount().then(()=>{var t;return(t=this.ref.current)==null?void 0:t.stop(...e)})}pulsate(...e){this.mount().then(()=>{var t;return(t=this.ref.current)==null?void 0:t.pulsate(...e)})}}function F4(){return g0.use()}function z4(){let n,e;const t=new Promise((r,i)=>{n=r,e=i});return t.resolve=n,t.reject=e,t}function $4(n){const{className:e,classes:t,pulsate:r=!1,rippleX:i,rippleY:s,rippleSize:a,in:l,onExited:u,timeout:d}=n,[h,p]=I.useState(!1),g=ze(e,t.ripple,t.rippleVisible,r&&t.ripplePulsate),y={width:a,height:a,top:-(a/2)+s,left:-(a/2)+i},b=ze(t.child,h&&t.childLeaving,r&&t.childPulsate);return!l&&!h&&p(!0),I.useEffect(()=>{if(!l&&u!=null){const w=setTimeout(u,d);return()=>{clearTimeout(w)}}},[u,l,d]),L.jsx("span",{className:g,style:y,children:L.jsx("span",{className:b})})}const ai=Ye("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),Yx=550,B4=80,H4=xg`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`,j4=xg`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`,W4=xg`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`,U4=Ce("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),V4=Ce($4,{name:"MuiTouchRipple",slot:"Ripple"})`
  opacity: 0;
  position: absolute;

  &.${ai.rippleVisible} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${H4};
    animation-duration: ${Yx}ms;
    animation-timing-function: ${({theme:n})=>n.transitions.easing.easeInOut};
  }

  &.${ai.ripplePulsate} {
    animation-duration: ${({theme:n})=>n.transitions.duration.shorter}ms;
  }

  & .${ai.child} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${ai.childLeaving} {
    opacity: 0;
    animation-name: ${j4};
    animation-duration: ${Yx}ms;
    animation-timing-function: ${({theme:n})=>n.transitions.easing.easeInOut};
  }

  & .${ai.childPulsate} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${W4};
    animation-duration: 2500ms;
    animation-timing-function: ${({theme:n})=>n.transitions.easing.easeInOut};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`,G4=I.forwardRef(function(e,t){const r=ht({props:e,name:"MuiTouchRipple"}),{center:i=!1,classes:s={},className:a,...l}=r,[u,d]=I.useState([]),h=I.useRef(0),p=I.useRef(null);I.useEffect(()=>{p.current&&(p.current(),p.current=null)},[u]);const g=I.useRef(!1),y=OM(),b=I.useRef(null),w=I.useRef(null),C=I.useCallback(_=>{const{pulsate:k,rippleX:M,rippleY:T,rippleSize:N,cb:W}=_;d(P=>[...P,L.jsx(V4,{classes:{ripple:ze(s.ripple,ai.ripple),rippleVisible:ze(s.rippleVisible,ai.rippleVisible),ripplePulsate:ze(s.ripplePulsate,ai.ripplePulsate),child:ze(s.child,ai.child),childLeaving:ze(s.childLeaving,ai.childLeaving),childPulsate:ze(s.childPulsate,ai.childPulsate)},timeout:Yx,pulsate:k,rippleX:M,rippleY:T,rippleSize:N},h.current)]),h.current+=1,p.current=W},[s]),x=I.useCallback((_={},k={},M=()=>{})=>{const{pulsate:T=!1,center:N=i||k.pulsate,fakeElement:W=!1}=k;if((_==null?void 0:_.type)==="mousedown"&&g.current){g.current=!1;return}(_==null?void 0:_.type)==="touchstart"&&(g.current=!0);const P=W?null:w.current,V=P?P.getBoundingClientRect():{width:0,height:0,left:0,top:0};let X,Y,D;if(N||_===void 0||_.clientX===0&&_.clientY===0||!_.clientX&&!_.touches)X=Math.round(V.width/2),Y=Math.round(V.height/2);else{const{clientX:G,clientY:j}=_.touches&&_.touches.length>0?_.touches[0]:_;X=Math.round(G-V.left),Y=Math.round(j-V.top)}if(N)D=Math.sqrt((2*V.width**2+V.height**2)/3),D%2===0&&(D+=1);else{const G=Math.max(Math.abs((P?P.clientWidth:0)-X),X)*2+2,j=Math.max(Math.abs((P?P.clientHeight:0)-Y),Y)*2+2;D=Math.sqrt(G**2+j**2)}_!=null&&_.touches?b.current===null&&(b.current=()=>{C({pulsate:T,rippleX:X,rippleY:Y,rippleSize:D,cb:M})},y.start(B4,()=>{b.current&&(b.current(),b.current=null)})):C({pulsate:T,rippleX:X,rippleY:Y,rippleSize:D,cb:M})},[i,C,y]),A=I.useCallback(()=>{x({},{pulsate:!0})},[x]),E=I.useCallback((_,k)=>{if(y.clear(),(_==null?void 0:_.type)==="touchend"&&b.current){b.current(),b.current=null,y.start(0,()=>{E(_,k)});return}b.current=null,d(M=>M.length>0?M.slice(1):M),p.current=k},[y]);return I.useImperativeHandle(t,()=>({pulsate:A,start:x,stop:E}),[A,x,E]),L.jsx(U4,{className:ze(ai.root,s.root,a),ref:w,...l,children:L.jsx(tE,{component:null,exit:!0,children:u})})});function X4(n){return rt("MuiButtonBase",n)}const Y4=Ye("MuiButtonBase",["root","disabled","focusVisible"]),q4=n=>{const{disabled:e,focusVisible:t,focusVisibleClassName:r,classes:i}=n,a=it({root:["root",e&&"disabled",t&&"focusVisible"]},X4,i);return t&&r&&(a.root+=` ${r}`),a},K4=Ce("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(n,e)=>e.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${Y4.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),bv=I.forwardRef(function(e,t){const r=ht({props:e,name:"MuiButtonBase"}),{action:i,centerRipple:s=!1,children:a,className:l,component:u="button",disabled:d=!1,disableRipple:h=!1,disableTouchRipple:p=!1,focusRipple:g=!1,focusVisibleClassName:y,LinkComponent:b="a",onBlur:w,onClick:C,onContextMenu:x,onDragLeave:A,onFocus:E,onFocusVisible:_,onKeyDown:k,onKeyUp:M,onMouseDown:T,onMouseLeave:N,onMouseUp:W,onTouchEnd:P,onTouchMove:V,onTouchStart:X,tabIndex:Y=0,TouchRippleProps:D,touchRippleRef:G,type:j,...q}=r,$=I.useRef(null),B=F4(),K=sr(B.ref,G),[U,Z]=I.useState(!1);d&&U&&Z(!1),I.useImperativeHandle(i,()=>({focusVisible:()=>{Z(!0),$.current.focus()}}),[]);const re=B.shouldMount&&!h&&!d;I.useEffect(()=>{U&&g&&!h&&B.pulsate()},[h,g,U,B]);const le=Fs(B,"start",T,p),se=Fs(B,"stop",x,p),ce=Fs(B,"stop",A,p),ee=Fs(B,"stop",W,p),oe=Fs(B,"stop",Te=>{U&&Te.preventDefault(),N&&N(Te)},p),de=Fs(B,"start",X,p),pe=Fs(B,"stop",P,p),me=Fs(B,"stop",V,p),ge=Fs(B,"stop",Te=>{$k(Te.target)||Z(!1),w&&w(Te)},!1),Re=_u(Te=>{$.current||($.current=Te.currentTarget),$k(Te.target)&&(Z(!0),_&&_(Te)),E&&E(Te)}),be=()=>{const Te=$.current;return u&&u!=="button"&&!(Te.tagName==="A"&&Te.href)},je=_u(Te=>{g&&!Te.repeat&&U&&Te.key===" "&&B.stop(Te,()=>{B.start(Te)}),Te.target===Te.currentTarget&&be()&&Te.key===" "&&Te.preventDefault(),k&&k(Te),Te.target===Te.currentTarget&&be()&&Te.key==="Enter"&&!d&&(Te.preventDefault(),C&&C(Te))}),mt=_u(Te=>{g&&Te.key===" "&&U&&!Te.defaultPrevented&&B.stop(Te,()=>{B.pulsate(Te)}),M&&M(Te),C&&Te.target===Te.currentTarget&&be()&&Te.key===" "&&!Te.defaultPrevented&&C(Te)});let Dt=u;Dt==="button"&&(q.href||q.to)&&(Dt=b);const Tt={};Dt==="button"?(Tt.type=j===void 0?"button":j,Tt.disabled=d):(!q.href&&!q.to&&(Tt.role="button"),d&&(Tt["aria-disabled"]=d));const yn=sr(t,$),St={...r,centerRipple:s,component:u,disabled:d,disableRipple:h,disableTouchRipple:p,focusRipple:g,tabIndex:Y,focusVisible:U},ut=q4(St);return L.jsxs(K4,{as:Dt,className:ze(ut.root,l),ownerState:St,onBlur:ge,onClick:C,onContextMenu:se,onFocus:Re,onKeyDown:je,onKeyUp:mt,onMouseDown:le,onMouseLeave:oe,onMouseUp:ee,onDragLeave:ce,onTouchEnd:pe,onTouchMove:me,onTouchStart:de,ref:yn,tabIndex:d?-1:Y,type:j,...Tt,...q,children:[a,re?L.jsx(G4,{ref:K,center:s,...D}):null]})});function Fs(n,e,t,r=!1){return _u(i=>(t&&t(i),r||n[e](i),!0))}function Q4(n){return typeof n.main=="string"}function Z4(n,e=[]){if(!Q4(n))return!1;for(const t of e)if(!n.hasOwnProperty(t)||typeof n[t]!="string")return!1;return!0}function Fi(n=[]){return([,e])=>e&&Z4(e,n)}function J4(n){return rt("MuiCircularProgress",n)}Ye("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);const ta=44,qx=xg`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`,Kx=xg`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: -126px;
  }
`,eW=typeof qx!="string"?H1`
        animation: ${qx} 1.4s linear infinite;
      `:null,tW=typeof Kx!="string"?H1`
        animation: ${Kx} 1.4s ease-in-out infinite;
      `:null,nW=n=>{const{classes:e,variant:t,color:r,disableShrink:i}=n,s={root:["root",t,`color${Ne(r)}`],svg:["svg"],circle:["circle",`circle${Ne(t)}`,i&&"circleDisableShrink"]};return it(s,J4,e)},rW=Ce("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,e[t.variant],e[`color${Ne(t.color)}`]]}})(xt(({theme:n})=>({display:"inline-block",variants:[{props:{variant:"determinate"},style:{transition:n.transitions.create("transform")}},{props:{variant:"indeterminate"},style:eW||{animation:`${qx} 1.4s linear infinite`}},...Object.entries(n.palette).filter(Fi()).map(([e])=>({props:{color:e},style:{color:(n.vars||n).palette[e].main}}))]}))),iW=Ce("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:(n,e)=>e.svg})({display:"block"}),sW=Ce("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.circle,e[`circle${Ne(t.variant)}`],t.disableShrink&&e.circleDisableShrink]}})(xt(({theme:n})=>({stroke:"currentColor",variants:[{props:{variant:"determinate"},style:{transition:n.transitions.create("stroke-dashoffset")}},{props:{variant:"indeterminate"},style:{strokeDasharray:"80px, 200px",strokeDashoffset:0}},{props:({ownerState:e})=>e.variant==="indeterminate"&&!e.disableShrink,style:tW||{animation:`${Kx} 1.4s ease-in-out infinite`}}]}))),JM=I.forwardRef(function(e,t){const r=ht({props:e,name:"MuiCircularProgress"}),{className:i,color:s="primary",disableShrink:a=!1,size:l=40,style:u,thickness:d=3.6,value:h=0,variant:p="indeterminate",...g}=r,y={...r,color:s,disableShrink:a,size:l,thickness:d,value:h,variant:p},b=nW(y),w={},C={},x={};if(p==="determinate"){const A=2*Math.PI*((ta-d)/2);w.strokeDasharray=A.toFixed(3),x["aria-valuenow"]=Math.round(h),w.strokeDashoffset=`${((100-h)/100*A).toFixed(3)}px`,C.transform="rotate(-90deg)"}return L.jsx(rW,{className:ze(b.root,i),style:{width:l,height:l,...C,...u},ownerState:y,ref:t,role:"progressbar",...x,...g,children:L.jsx(iW,{className:b.svg,ownerState:y,viewBox:`${ta/2} ${ta/2} ${ta} ${ta}`,children:L.jsx(sW,{className:b.circle,style:w,ownerState:y,cx:ta,cy:ta,r:(ta-d)/2,fill:"none",strokeWidth:d})})})});function oW(n){return rt("MuiIconButton",n)}const Kk=Ye("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge","loading","loadingIndicator","loadingWrapper"]),aW=n=>{const{classes:e,disabled:t,color:r,edge:i,size:s,loading:a}=n,l={root:["root",a&&"loading",t&&"disabled",r!=="default"&&`color${Ne(r)}`,i&&`edge${Ne(i)}`,`size${Ne(s)}`],loadingIndicator:["loadingIndicator"],loadingWrapper:["loadingWrapper"]};return it(l,oW,e)},lW=Ce(bv,{name:"MuiIconButton",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.loading&&e.loading,t.color!=="default"&&e[`color${Ne(t.color)}`],t.edge&&e[`edge${Ne(t.edge)}`],e[`size${Ne(t.size)}`]]}})(xt(({theme:n})=>({textAlign:"center",flex:"0 0 auto",fontSize:n.typography.pxToRem(24),padding:8,borderRadius:"50%",color:(n.vars||n).palette.action.active,transition:n.transitions.create("background-color",{duration:n.transitions.duration.shortest}),variants:[{props:e=>!e.disableRipple,style:{"--IconButton-hoverBg":n.vars?`rgba(${n.vars.palette.action.activeChannel} / ${n.vars.palette.action.hoverOpacity})`:Un(n.palette.action.active,n.palette.action.hoverOpacity),"&:hover":{backgroundColor:"var(--IconButton-hoverBg)","@media (hover: none)":{backgroundColor:"transparent"}}}},{props:{edge:"start"},style:{marginLeft:-12}},{props:{edge:"start",size:"small"},style:{marginLeft:-3}},{props:{edge:"end"},style:{marginRight:-12}},{props:{edge:"end",size:"small"},style:{marginRight:-3}}]})),xt(({theme:n})=>({variants:[{props:{color:"inherit"},style:{color:"inherit"}},...Object.entries(n.palette).filter(Fi()).map(([e])=>({props:{color:e},style:{color:(n.vars||n).palette[e].main}})),...Object.entries(n.palette).filter(Fi()).map(([e])=>({props:{color:e},style:{"--IconButton-hoverBg":n.vars?`rgba(${(n.vars||n).palette[e].mainChannel} / ${n.vars.palette.action.hoverOpacity})`:Un((n.vars||n).palette[e].main,n.palette.action.hoverOpacity)}})),{props:{size:"small"},style:{padding:5,fontSize:n.typography.pxToRem(18)}},{props:{size:"large"},style:{padding:12,fontSize:n.typography.pxToRem(28)}}],[`&.${Kk.disabled}`]:{backgroundColor:"transparent",color:(n.vars||n).palette.action.disabled},[`&.${Kk.loading}`]:{color:"transparent"}}))),cW=Ce("span",{name:"MuiIconButton",slot:"LoadingIndicator",overridesResolver:(n,e)=>e.loadingIndicator})(({theme:n})=>({display:"none",position:"absolute",visibility:"visible",top:"50%",left:"50%",transform:"translate(-50%, -50%)",color:(n.vars||n).palette.action.disabled,variants:[{props:{loading:!0},style:{display:"flex"}}]})),Rf=I.forwardRef(function(e,t){const r=ht({props:e,name:"MuiIconButton"}),{edge:i=!1,children:s,className:a,color:l="default",disabled:u=!1,disableFocusRipple:d=!1,size:h="medium",id:p,loading:g=null,loadingIndicator:y,...b}=r,w=_g(p),C=y??L.jsx(JM,{"aria-labelledby":w,color:"inherit",size:16}),x={...r,edge:i,color:l,disabled:u,disableFocusRipple:d,loading:g,loadingIndicator:C,size:h},A=aW(x);return L.jsxs(lW,{id:g?w:p,className:ze(A.root,a),centerRipple:!0,focusRipple:!d,disabled:u||g,ref:t,...b,ownerState:x,children:[typeof g=="boolean"&&L.jsx("span",{className:A.loadingWrapper,style:{display:"contents"},children:L.jsx(cW,{className:A.loadingIndicator,ownerState:x,children:g&&C})}),s]})});function uW(n){return rt("MuiTypography",n)}Ye("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const dW={primary:!0,secondary:!0,error:!0,info:!0,success:!0,warning:!0,textPrimary:!0,textSecondary:!0,textDisabled:!0},hW=E4(),fW=n=>{const{align:e,gutterBottom:t,noWrap:r,paragraph:i,variant:s,classes:a}=n,l={root:["root",s,n.align!=="inherit"&&`align${Ne(e)}`,t&&"gutterBottom",r&&"noWrap",i&&"paragraph"]};return it(l,uW,a)},pW=Ce("span",{name:"MuiTypography",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.variant&&e[t.variant],t.align!=="inherit"&&e[`align${Ne(t.align)}`],t.noWrap&&e.noWrap,t.gutterBottom&&e.gutterBottom,t.paragraph&&e.paragraph]}})(xt(({theme:n})=>{var e;return{margin:0,variants:[{props:{variant:"inherit"},style:{font:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}},...Object.entries(n.typography).filter(([t,r])=>t!=="inherit"&&r&&typeof r=="object").map(([t,r])=>({props:{variant:t},style:r})),...Object.entries(n.palette).filter(Fi()).map(([t])=>({props:{color:t},style:{color:(n.vars||n).palette[t].main}})),...Object.entries(((e=n.palette)==null?void 0:e.text)||{}).filter(([,t])=>typeof t=="string").map(([t])=>({props:{color:`text${Ne(t)}`},style:{color:(n.vars||n).palette.text[t]}})),{props:({ownerState:t})=>t.align!=="inherit",style:{textAlign:"var(--Typography-textAlign)"}},{props:({ownerState:t})=>t.noWrap,style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},{props:({ownerState:t})=>t.gutterBottom,style:{marginBottom:"0.35em"}},{props:({ownerState:t})=>t.paragraph,style:{marginBottom:16}}]}})),Qk={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},Fa=I.forwardRef(function(e,t){const{color:r,...i}=ht({props:e,name:"MuiTypography"}),s=!dW[r],a=hW({...i,...s&&{color:r}}),{align:l="inherit",className:u,component:d,gutterBottom:h=!1,noWrap:p=!1,paragraph:g=!1,variant:y="body1",variantMapping:b=Qk,...w}=a,C={...a,align:l,color:r,className:u,component:d,gutterBottom:h,noWrap:p,paragraph:g,variant:y,variantMapping:b},x=d||(g?"p":b[y]||Qk[y])||"span",A=fW(C);return L.jsx(pW,{as:x,ref:t,className:ze(A.root,u),...w,ownerState:C,style:{...l!=="inherit"&&{"--Typography-textAlign":l},...w.style}})});function gW(n){return typeof n=="function"?n():n}const mW=I.forwardRef(function(e,t){const{children:r,container:i,disablePortal:s=!1}=e,[a,l]=I.useState(null),u=sr(I.isValidElement(r)?Ag(r):null,t);if(Da(()=>{s||l(gW(i)||document.body)},[i,s]),Da(()=>{if(a&&!s)return Hx(t,a),()=>{Hx(t,null)}},[t,a,s]),s){if(I.isValidElement(r)){const d={ref:u};return I.cloneElement(r,d)}return r}return a&&yg.createPortal(r,a)});function ay(n){return parseInt(n,10)||0}const yW={shadow:{visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"}};function vW(n){for(const e in n)return!1;return!0}function bW(n){return vW(n)||n.outerHeightStyle===0&&!n.overflowing}const wW=I.forwardRef(function(e,t){const{onChange:r,maxRows:i,minRows:s=1,style:a,value:l,...u}=e,{current:d}=I.useRef(l!=null),h=I.useRef(null),p=sr(t,h),g=I.useRef(null),y=I.useRef(null),b=I.useCallback(()=>{const A=h.current,E=y.current;if(!A||!E)return;const k=_o(A).getComputedStyle(A);if(k.width==="0px")return{outerHeightStyle:0,overflowing:!1};E.style.width=k.width,E.value=A.value||e.placeholder||"x",E.value.slice(-1)===`
`&&(E.value+=" ");const M=k.boxSizing,T=ay(k.paddingBottom)+ay(k.paddingTop),N=ay(k.borderBottomWidth)+ay(k.borderTopWidth),W=E.scrollHeight;E.value="x";const P=E.scrollHeight;let V=W;s&&(V=Math.max(Number(s)*P,V)),i&&(V=Math.min(Number(i)*P,V)),V=Math.max(V,P);const X=V+(M==="border-box"?T+N:0),Y=Math.abs(V-W)<=1;return{outerHeightStyle:X,overflowing:Y}},[i,s,e.placeholder]),w=I.useCallback(()=>{const A=h.current,E=b();if(!A||!E||bW(E))return;const _=E.outerHeightStyle;g.current!==_&&(g.current=_,A.style.height=`${_}px`),A.style.overflow=E.overflowing?"hidden":""},[b]),C=I.useRef(-1);Da(()=>{const A=LM(()=>w()),E=h==null?void 0:h.current;if(!E)return;const _=_o(E);_.addEventListener("resize",A);let k;return typeof ResizeObserver<"u"&&(k=new ResizeObserver(()=>{k.unobserve(E),cancelAnimationFrame(C.current),w(),C.current=requestAnimationFrame(()=>{k.observe(E)})}),k.observe(E)),()=>{A.clear(),cancelAnimationFrame(C.current),_.removeEventListener("resize",A),k&&k.disconnect()}},[b,w]),Da(()=>{w()});const x=A=>{d||w(),r&&r(A)};return L.jsxs(I.Fragment,{children:[L.jsx("textarea",{value:l,onChange:x,ref:p,rows:s,style:a,...u}),L.jsx("textarea",{"aria-hidden":!0,className:e.className,readOnly:!0,ref:y,tabIndex:-1,style:{...yW.shadow,...a,paddingTop:0,paddingBottom:0}})]})});function Qx(n){return typeof n=="string"}function _c({props:n,states:e,muiFormControl:t}){return e.reduce((r,i)=>(r[i]=n[i],t&&typeof n[i]>"u"&&(r[i]=t[i]),r),{})}const rE=I.createContext(void 0);function Ha(){return I.useContext(rE)}function Zk(n){return n!=null&&!(Array.isArray(n)&&n.length===0)}function m0(n,e=!1){return n&&(Zk(n.value)&&n.value!==""||e&&Zk(n.defaultValue)&&n.defaultValue!=="")}function xW(n){return n.startAdornment}function SW(n){return rt("MuiInputBase",n)}const Md=Ye("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]);var Jk;const wv=(n,e)=>{const{ownerState:t}=n;return[e.root,t.formControl&&e.formControl,t.startAdornment&&e.adornedStart,t.endAdornment&&e.adornedEnd,t.error&&e.error,t.size==="small"&&e.sizeSmall,t.multiline&&e.multiline,t.color&&e[`color${Ne(t.color)}`],t.fullWidth&&e.fullWidth,t.hiddenLabel&&e.hiddenLabel]},xv=(n,e)=>{const{ownerState:t}=n;return[e.input,t.size==="small"&&e.inputSizeSmall,t.multiline&&e.inputMultiline,t.type==="search"&&e.inputTypeSearch,t.startAdornment&&e.inputAdornedStart,t.endAdornment&&e.inputAdornedEnd,t.hiddenLabel&&e.inputHiddenLabel]},EW=n=>{const{classes:e,color:t,disabled:r,error:i,endAdornment:s,focused:a,formControl:l,fullWidth:u,hiddenLabel:d,multiline:h,readOnly:p,size:g,startAdornment:y,type:b}=n,w={root:["root",`color${Ne(t)}`,r&&"disabled",i&&"error",u&&"fullWidth",a&&"focused",l&&"formControl",g&&g!=="medium"&&`size${Ne(g)}`,h&&"multiline",y&&"adornedStart",s&&"adornedEnd",d&&"hiddenLabel",p&&"readOnly"],input:["input",r&&"disabled",b==="search"&&"inputTypeSearch",h&&"inputMultiline",g==="small"&&"inputSizeSmall",d&&"inputHiddenLabel",y&&"inputAdornedStart",s&&"inputAdornedEnd",p&&"readOnly"]};return it(w,SW,e)},Sv=Ce("div",{name:"MuiInputBase",slot:"Root",overridesResolver:wv})(xt(({theme:n})=>({...n.typography.body1,color:(n.vars||n).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${Md.disabled}`]:{color:(n.vars||n).palette.text.disabled,cursor:"default"},variants:[{props:({ownerState:e})=>e.multiline,style:{padding:"4px 0 5px"}},{props:({ownerState:e,size:t})=>e.multiline&&t==="small",style:{paddingTop:1}},{props:({ownerState:e})=>e.fullWidth,style:{width:"100%"}}]}))),Ev=Ce("input",{name:"MuiInputBase",slot:"Input",overridesResolver:xv})(xt(({theme:n})=>{const e=n.palette.mode==="light",t={color:"currentColor",...n.vars?{opacity:n.vars.opacity.inputPlaceholder}:{opacity:e?.42:.5},transition:n.transitions.create("opacity",{duration:n.transitions.duration.shorter})},r={opacity:"0 !important"},i=n.vars?{opacity:n.vars.opacity.inputPlaceholder}:{opacity:e?.42:.5};return{font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%","&::-webkit-input-placeholder":t,"&::-moz-placeholder":t,"&::-ms-input-placeholder":t,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${Md.formControl} &`]:{"&::-webkit-input-placeholder":r,"&::-moz-placeholder":r,"&::-ms-input-placeholder":r,"&:focus::-webkit-input-placeholder":i,"&:focus::-moz-placeholder":i,"&:focus::-ms-input-placeholder":i},[`&.${Md.disabled}`]:{opacity:1,WebkitTextFillColor:(n.vars||n).palette.text.disabled},variants:[{props:({ownerState:s})=>!s.disableInjectingGlobalStyles,style:{animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}}},{props:{size:"small"},style:{paddingTop:1}},{props:({ownerState:s})=>s.multiline,style:{height:"auto",resize:"none",padding:0,paddingTop:0}},{props:{type:"search"},style:{MozAppearance:"textfield"}}]}})),eR=S4({"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}),iE=I.forwardRef(function(e,t){const r=ht({props:e,name:"MuiInputBase"}),{"aria-describedby":i,autoComplete:s,autoFocus:a,className:l,color:u,components:d={},componentsProps:h={},defaultValue:p,disabled:g,disableInjectingGlobalStyles:y,endAdornment:b,error:w,fullWidth:C=!1,id:x,inputComponent:A="input",inputProps:E={},inputRef:_,margin:k,maxRows:M,minRows:T,multiline:N=!1,name:W,onBlur:P,onChange:V,onClick:X,onFocus:Y,onKeyDown:D,onKeyUp:G,placeholder:j,readOnly:q,renderSuffix:$,rows:B,size:K,slotProps:U={},slots:Z={},startAdornment:re,type:le="text",value:se,...ce}=r,ee=E.value!=null?E.value:se,{current:oe}=I.useRef(ee!=null),de=I.useRef(),pe=I.useCallback(et=>{},[]),me=sr(de,_,E.ref,pe),[ge,Re]=I.useState(!1),be=Ha(),je=_c({props:r,muiFormControl:be,states:["color","disabled","error","hiddenLabel","size","required","filled"]});je.focused=be?be.focused:ge,I.useEffect(()=>{!be&&g&&ge&&(Re(!1),P&&P())},[be,g,ge,P]);const mt=be&&be.onFilled,Dt=be&&be.onEmpty,Tt=I.useCallback(et=>{m0(et)?mt&&mt():Dt&&Dt()},[mt,Dt]);Da(()=>{oe&&Tt({value:ee})},[ee,Tt,oe]);const yn=et=>{Y&&Y(et),E.onFocus&&E.onFocus(et),be&&be.onFocus?be.onFocus(et):Re(!0)},St=et=>{P&&P(et),E.onBlur&&E.onBlur(et),be&&be.onBlur?be.onBlur(et):Re(!1)},ut=(et,...Bi)=>{if(!oe){const Hi=et.target||de.current;if(Hi==null)throw new Error(Eo(1));Tt({value:Hi.value})}E.onChange&&E.onChange(et,...Bi),V&&V(et,...Bi)};I.useEffect(()=>{Tt(de.current)},[]);const Te=et=>{de.current&&et.currentTarget===et.target&&de.current.focus(),X&&X(et)};let Yn=A,Yt=E;N&&Yn==="input"&&(B?Yt={type:void 0,minRows:B,maxRows:B,...Yt}:Yt={type:void 0,maxRows:M,minRows:T,...Yt},Yn=wW);const qn=et=>{Tt(et.animationName==="mui-auto-fill-cancel"?de.current:{value:"x"})};I.useEffect(()=>{be&&be.setAdornedStart(!!re)},[be,re]);const or={...r,color:je.color||"primary",disabled:je.disabled,endAdornment:b,error:je.error,focused:je.focused,formControl:be,fullWidth:C,hiddenLabel:je.hiddenLabel,multiline:N,size:je.size,startAdornment:re,type:le},ar=EW(or),Cr=Z.root||d.Root||Sv,_r=U.root||h.root||{},Kn=Z.input||d.Input||Ev;return Yt={...Yt,...U.input??h.input},L.jsxs(I.Fragment,{children:[!y&&typeof eR=="function"&&(Jk||(Jk=L.jsx(eR,{}))),L.jsxs(Cr,{..._r,ref:t,onClick:Te,...ce,...!Qx(Cr)&&{ownerState:{...or,..._r.ownerState}},className:ze(ar.root,_r.className,l,q&&"MuiInputBase-readOnly"),children:[re,L.jsx(rE.Provider,{value:null,children:L.jsx(Kn,{"aria-invalid":je.error,"aria-describedby":i,autoComplete:s,autoFocus:a,defaultValue:p,disabled:je.disabled,id:x,onAnimationStart:qn,name:W,placeholder:j,readOnly:q,required:je.required,rows:B,value:ee,onKeyDown:D,onKeyUp:G,type:le,...Yt,...!Qx(Kn)&&{as:Yn,ownerState:{...or,...Yt.ownerState}},ref:me,className:ze(ar.input,Yt.className,q&&"MuiInputBase-readOnly"),onBlur:St,onChange:ut,onFocus:yn})}),b,$?$({...je,startAdornment:re}):null]})]})});function CW(n){return rt("MuiInput",n)}const Ah={...Md,...Ye("MuiInput",["root","underline","input"])};function _W(n){return rt("MuiOutlinedInput",n)}const Yi={...Md,...Ye("MuiOutlinedInput",["root","notchedOutline","input"])};function AW(n){return rt("MuiFilledInput",n)}const ol={...Md,...Ye("MuiFilledInput",["root","underline","input","adornedStart","adornedEnd","sizeSmall","multiline","hiddenLabel"])},kW=$i(L.jsx("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown"),RW={entering:{opacity:1},entered:{opacity:1}},Zx=I.forwardRef(function(e,t){const r=vv(),i={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{addEndListener:s,appear:a=!0,children:l,easing:u,in:d,onEnter:h,onEntered:p,onEntering:g,onExit:y,onExited:b,onExiting:w,style:C,timeout:x=i,TransitionComponent:A=_s,...E}=e,_=I.useRef(null),k=sr(_,Ag(l),t),M=D=>G=>{if(D){const j=_.current;G===void 0?D(j):D(j,G)}},T=M(g),N=M((D,G)=>{ZM(D);const j=p0({style:C,timeout:x,easing:u},{mode:"enter"});D.style.webkitTransition=r.transitions.create("opacity",j),D.style.transition=r.transitions.create("opacity",j),h&&h(D,G)}),W=M(p),P=M(w),V=M(D=>{const G=p0({style:C,timeout:x,easing:u},{mode:"exit"});D.style.webkitTransition=r.transitions.create("opacity",G),D.style.transition=r.transitions.create("opacity",G),y&&y(D)}),X=M(b),Y=D=>{s&&s(_.current,D)};return L.jsx(A,{appear:a,in:d,nodeRef:_,onEnter:N,onEntered:W,onEntering:T,onExit:V,onExited:X,onExiting:P,addEndListener:Y,timeout:x,...E,children:(D,{ownerState:G,...j})=>I.cloneElement(l,{style:{opacity:0,visibility:D==="exited"&&!d?"hidden":void 0,...RW[D],...C,...l.props.style},ref:k,...j})})});function TW(n){return rt("MuiBackdrop",n)}Ye("MuiBackdrop",["root","invisible"]);const PW=n=>{const{classes:e,invisible:t}=n;return it({root:["root",t&&"invisible"]},TW,e)},MW=Ce("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.invisible&&e.invisible]}})({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent",variants:[{props:{invisible:!0},style:{backgroundColor:"transparent"}}]}),eI=I.forwardRef(function(e,t){const r=ht({props:e,name:"MuiBackdrop"}),{children:i,className:s,component:a="div",invisible:l=!1,open:u,components:d={},componentsProps:h={},slotProps:p={},slots:g={},TransitionComponent:y,transitionDuration:b,...w}=r,C={...r,component:a,invisible:l},x=PW(C),A={transition:y,root:d.Root,...g},E={...h,...p},_={slots:A,slotProps:E},[k,M]=jt("root",{elementType:MW,externalForwardedProps:_,className:ze(x.root,s),ownerState:C}),[T,N]=jt("transition",{elementType:Zx,externalForwardedProps:_,ownerState:C});return L.jsx(T,{in:u,timeout:b,...w,...N,children:L.jsx(k,{"aria-hidden":!0,...M,classes:x,ref:t,children:i})})}),IW=Ye("MuiBox",["root"]),NW=XM(),rn=fj({themeId:sv,defaultTheme:NW,defaultClassName:IW.root,generateClassName:TM.generate});function LW(n){return rt("MuiButton",n)}const al=Ye("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","colorPrimary","colorSecondary","colorSuccess","colorError","colorInfo","colorWarning","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","icon","iconSizeSmall","iconSizeMedium","iconSizeLarge","loading","loadingWrapper","loadingIconPlaceholder","loadingIndicator","loadingPositionCenter","loadingPositionStart","loadingPositionEnd"]),DW=I.createContext({}),OW=I.createContext(void 0),FW=n=>{const{color:e,disableElevation:t,fullWidth:r,size:i,variant:s,loading:a,loadingPosition:l,classes:u}=n,d={root:["root",a&&"loading",s,`${s}${Ne(e)}`,`size${Ne(i)}`,`${s}Size${Ne(i)}`,`color${Ne(e)}`,t&&"disableElevation",r&&"fullWidth",a&&`loadingPosition${Ne(l)}`],startIcon:["icon","startIcon",`iconSize${Ne(i)}`],endIcon:["icon","endIcon",`iconSize${Ne(i)}`],loadingIndicator:["loadingIndicator"],loadingWrapper:["loadingWrapper"]},h=it(d,LW,u);return{...u,...h}},tI=[{props:{size:"small"},style:{"& > *:nth-of-type(1)":{fontSize:18}}},{props:{size:"medium"},style:{"& > *:nth-of-type(1)":{fontSize:20}}},{props:{size:"large"},style:{"& > *:nth-of-type(1)":{fontSize:22}}}],zW=Ce(bv,{shouldForwardProp:n=>Er(n)||n==="classes",name:"MuiButton",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,e[t.variant],e[`${t.variant}${Ne(t.color)}`],e[`size${Ne(t.size)}`],e[`${t.variant}Size${Ne(t.size)}`],t.color==="inherit"&&e.colorInherit,t.disableElevation&&e.disableElevation,t.fullWidth&&e.fullWidth,t.loading&&e.loading]}})(xt(({theme:n})=>{const e=n.palette.mode==="light"?n.palette.grey[300]:n.palette.grey[800],t=n.palette.mode==="light"?n.palette.grey.A100:n.palette.grey[700];return{...n.typography.button,minWidth:64,padding:"6px 16px",border:0,borderRadius:(n.vars||n).shape.borderRadius,transition:n.transitions.create(["background-color","box-shadow","border-color","color"],{duration:n.transitions.duration.short}),"&:hover":{textDecoration:"none"},[`&.${al.disabled}`]:{color:(n.vars||n).palette.action.disabled},variants:[{props:{variant:"contained"},style:{color:"var(--variant-containedColor)",backgroundColor:"var(--variant-containedBg)",boxShadow:(n.vars||n).shadows[2],"&:hover":{boxShadow:(n.vars||n).shadows[4],"@media (hover: none)":{boxShadow:(n.vars||n).shadows[2]}},"&:active":{boxShadow:(n.vars||n).shadows[8]},[`&.${al.focusVisible}`]:{boxShadow:(n.vars||n).shadows[6]},[`&.${al.disabled}`]:{color:(n.vars||n).palette.action.disabled,boxShadow:(n.vars||n).shadows[0],backgroundColor:(n.vars||n).palette.action.disabledBackground}}},{props:{variant:"outlined"},style:{padding:"5px 15px",border:"1px solid currentColor",borderColor:"var(--variant-outlinedBorder, currentColor)",backgroundColor:"var(--variant-outlinedBg)",color:"var(--variant-outlinedColor)",[`&.${al.disabled}`]:{border:`1px solid ${(n.vars||n).palette.action.disabledBackground}`}}},{props:{variant:"text"},style:{padding:"6px 8px",color:"var(--variant-textColor)",backgroundColor:"var(--variant-textBg)"}},...Object.entries(n.palette).filter(Fi()).map(([r])=>({props:{color:r},style:{"--variant-textColor":(n.vars||n).palette[r].main,"--variant-outlinedColor":(n.vars||n).palette[r].main,"--variant-outlinedBorder":n.vars?`rgba(${n.vars.palette[r].mainChannel} / 0.5)`:Un(n.palette[r].main,.5),"--variant-containedColor":(n.vars||n).palette[r].contrastText,"--variant-containedBg":(n.vars||n).palette[r].main,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":(n.vars||n).palette[r].dark,"--variant-textBg":n.vars?`rgba(${n.vars.palette[r].mainChannel} / ${n.vars.palette.action.hoverOpacity})`:Un(n.palette[r].main,n.palette.action.hoverOpacity),"--variant-outlinedBorder":(n.vars||n).palette[r].main,"--variant-outlinedBg":n.vars?`rgba(${n.vars.palette[r].mainChannel} / ${n.vars.palette.action.hoverOpacity})`:Un(n.palette[r].main,n.palette.action.hoverOpacity)}}}})),{props:{color:"inherit"},style:{color:"inherit",borderColor:"currentColor","--variant-containedBg":n.vars?n.vars.palette.Button.inheritContainedBg:e,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":n.vars?n.vars.palette.Button.inheritContainedHoverBg:t,"--variant-textBg":n.vars?`rgba(${n.vars.palette.text.primaryChannel} / ${n.vars.palette.action.hoverOpacity})`:Un(n.palette.text.primary,n.palette.action.hoverOpacity),"--variant-outlinedBg":n.vars?`rgba(${n.vars.palette.text.primaryChannel} / ${n.vars.palette.action.hoverOpacity})`:Un(n.palette.text.primary,n.palette.action.hoverOpacity)}}}},{props:{size:"small",variant:"text"},style:{padding:"4px 5px",fontSize:n.typography.pxToRem(13)}},{props:{size:"large",variant:"text"},style:{padding:"8px 11px",fontSize:n.typography.pxToRem(15)}},{props:{size:"small",variant:"outlined"},style:{padding:"3px 9px",fontSize:n.typography.pxToRem(13)}},{props:{size:"large",variant:"outlined"},style:{padding:"7px 21px",fontSize:n.typography.pxToRem(15)}},{props:{size:"small",variant:"contained"},style:{padding:"4px 10px",fontSize:n.typography.pxToRem(13)}},{props:{size:"large",variant:"contained"},style:{padding:"8px 22px",fontSize:n.typography.pxToRem(15)}},{props:{disableElevation:!0},style:{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${al.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${al.disabled}`]:{boxShadow:"none"}}},{props:{fullWidth:!0},style:{width:"100%"}},{props:{loadingPosition:"center"},style:{transition:n.transitions.create(["background-color","box-shadow","border-color"],{duration:n.transitions.duration.short}),[`&.${al.loading}`]:{color:"transparent"}}}]}})),$W=Ce("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.startIcon,t.loading&&e.startIconLoadingStart,e[`iconSize${Ne(t.size)}`]]}})(({theme:n})=>({display:"inherit",marginRight:8,marginLeft:-4,variants:[{props:{size:"small"},style:{marginLeft:-2}},{props:{loadingPosition:"start",loading:!0},style:{transition:n.transitions.create(["opacity"],{duration:n.transitions.duration.short}),opacity:0}},{props:{loadingPosition:"start",loading:!0,fullWidth:!0},style:{marginRight:-8}},...tI]})),BW=Ce("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.endIcon,t.loading&&e.endIconLoadingEnd,e[`iconSize${Ne(t.size)}`]]}})(({theme:n})=>({display:"inherit",marginRight:-4,marginLeft:8,variants:[{props:{size:"small"},style:{marginRight:-2}},{props:{loadingPosition:"end",loading:!0},style:{transition:n.transitions.create(["opacity"],{duration:n.transitions.duration.short}),opacity:0}},{props:{loadingPosition:"end",loading:!0,fullWidth:!0},style:{marginLeft:-8}},...tI]})),HW=Ce("span",{name:"MuiButton",slot:"LoadingIndicator",overridesResolver:(n,e)=>e.loadingIndicator})(({theme:n})=>({display:"none",position:"absolute",visibility:"visible",variants:[{props:{loading:!0},style:{display:"flex"}},{props:{loadingPosition:"start"},style:{left:14}},{props:{loadingPosition:"start",size:"small"},style:{left:10}},{props:{variant:"text",loadingPosition:"start"},style:{left:6}},{props:{loadingPosition:"center"},style:{left:"50%",transform:"translate(-50%)",color:(n.vars||n).palette.action.disabled}},{props:{loadingPosition:"end"},style:{right:14}},{props:{loadingPosition:"end",size:"small"},style:{right:10}},{props:{variant:"text",loadingPosition:"end"},style:{right:6}},{props:{loadingPosition:"start",fullWidth:!0},style:{position:"relative",left:-10}},{props:{loadingPosition:"end",fullWidth:!0},style:{position:"relative",right:-10}}]})),tR=Ce("span",{name:"MuiButton",slot:"LoadingIconPlaceholder",overridesResolver:(n,e)=>e.loadingIconPlaceholder})({display:"inline-block",width:"1em",height:"1em"}),Id=I.forwardRef(function(e,t){const r=I.useContext(DW),i=I.useContext(OW),s=h0(r,e),a=ht({props:s,name:"MuiButton"}),{children:l,color:u="primary",component:d="button",className:h,disabled:p=!1,disableElevation:g=!1,disableFocusRipple:y=!1,endIcon:b,focusVisibleClassName:w,fullWidth:C=!1,id:x,loading:A=null,loadingIndicator:E,loadingPosition:_="center",size:k="medium",startIcon:M,type:T,variant:N="text",...W}=a,P=_g(x),V=E??L.jsx(JM,{"aria-labelledby":P,color:"inherit",size:16}),X={...a,color:u,component:d,disabled:p,disableElevation:g,disableFocusRipple:y,fullWidth:C,loading:A,loadingIndicator:V,loadingPosition:_,size:k,type:T,variant:N},Y=FW(X),D=(M||A&&_==="start")&&L.jsx($W,{className:Y.startIcon,ownerState:X,children:M||L.jsx(tR,{className:Y.loadingIconPlaceholder,ownerState:X})}),G=(b||A&&_==="end")&&L.jsx(BW,{className:Y.endIcon,ownerState:X,children:b||L.jsx(tR,{className:Y.loadingIconPlaceholder,ownerState:X})}),j=i||"",q=typeof A=="boolean"?L.jsx("span",{className:Y.loadingWrapper,style:{display:"contents"},children:A&&L.jsx(HW,{className:Y.loadingIndicator,ownerState:X,children:V})}):null;return L.jsxs(zW,{ownerState:X,className:ze(r.className,Y.root,h,j),component:d,disabled:p||A,focusRipple:!y,focusVisibleClassName:ze(Y.focusVisible,w),ref:t,type:T,id:A?P:x,...W,classes:Y,children:[D,_!=="end"&&q,l,_==="end"&&q,G]})});function jW(n){return rt("PrivateSwitchBase",n)}Ye("PrivateSwitchBase",["root","checked","disabled","input","edgeStart","edgeEnd"]);const WW=n=>{const{classes:e,checked:t,disabled:r,edge:i}=n,s={root:["root",t&&"checked",r&&"disabled",i&&`edge${Ne(i)}`],input:["input"]};return it(s,jW,e)},UW=Ce(bv)({padding:9,borderRadius:"50%",variants:[{props:{edge:"start",size:"small"},style:{marginLeft:-3}},{props:({edge:n,ownerState:e})=>n==="start"&&e.size!=="small",style:{marginLeft:-12}},{props:{edge:"end",size:"small"},style:{marginRight:-3}},{props:({edge:n,ownerState:e})=>n==="end"&&e.size!=="small",style:{marginRight:-12}}]}),VW=Ce("input",{shouldForwardProp:Er})({cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1}),GW=I.forwardRef(function(e,t){const{autoFocus:r,checked:i,checkedIcon:s,defaultChecked:a,disabled:l,disableFocusRipple:u=!1,edge:d=!1,icon:h,id:p,inputProps:g,inputRef:y,name:b,onBlur:w,onChange:C,onFocus:x,readOnly:A,required:E=!1,tabIndex:_,type:k,value:M,slots:T={},slotProps:N={},...W}=e,[P,V]=jx({controlled:i,default:!!a,name:"SwitchBase",state:"checked"}),X=Ha(),Y=se=>{x&&x(se),X&&X.onFocus&&X.onFocus(se)},D=se=>{w&&w(se),X&&X.onBlur&&X.onBlur(se)},G=se=>{if(se.nativeEvent.defaultPrevented)return;const ce=se.target.checked;V(ce),C&&C(se,ce)};let j=l;X&&typeof j>"u"&&(j=X.disabled);const q=k==="checkbox"||k==="radio",$={...e,checked:P,disabled:j,disableFocusRipple:u,edge:d},B=WW($),K={slots:T,slotProps:{input:g,...N}},[U,Z]=jt("root",{ref:t,elementType:UW,className:B.root,shouldForwardComponentProp:!0,externalForwardedProps:{...K,component:"span",...W},getSlotProps:se=>({...se,onFocus:ce=>{var ee;(ee=se.onFocus)==null||ee.call(se,ce),Y(ce)},onBlur:ce=>{var ee;(ee=se.onBlur)==null||ee.call(se,ce),D(ce)}}),ownerState:$,additionalProps:{centerRipple:!0,focusRipple:!u,disabled:j,role:void 0,tabIndex:null}}),[re,le]=jt("input",{ref:y,elementType:VW,className:B.input,externalForwardedProps:K,getSlotProps:se=>({onChange:ce=>{var ee;(ee=se.onChange)==null||ee.call(se,ce),G(ce)}}),ownerState:$,additionalProps:{autoFocus:r,checked:i,defaultChecked:a,disabled:j,id:q?p:void 0,name:b,readOnly:A,required:E,tabIndex:_,type:k,...k==="checkbox"&&M===void 0?{}:{value:M}}});return L.jsxs(U,{...Z,children:[L.jsx(re,{...le}),P?s:h]})}),XW=$i(L.jsx("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}),"CheckBoxOutlineBlank"),YW=$i(L.jsx("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckBox"),qW=$i(L.jsx("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z"}),"IndeterminateCheckBox");function KW(n){return rt("MuiCheckbox",n)}const nx=Ye("MuiCheckbox",["root","checked","disabled","indeterminate","colorPrimary","colorSecondary","sizeSmall","sizeMedium"]),QW=n=>{const{classes:e,indeterminate:t,color:r,size:i}=n,s={root:["root",t&&"indeterminate",`color${Ne(r)}`,`size${Ne(i)}`]},a=it(s,KW,e);return{...e,...a}},ZW=Ce(GW,{shouldForwardProp:n=>Er(n)||n==="classes",name:"MuiCheckbox",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.indeterminate&&e.indeterminate,e[`size${Ne(t.size)}`],t.color!=="default"&&e[`color${Ne(t.color)}`]]}})(xt(({theme:n})=>({color:(n.vars||n).palette.text.secondary,variants:[{props:{color:"default",disableRipple:!1},style:{"&:hover":{backgroundColor:n.vars?`rgba(${n.vars.palette.action.activeChannel} / ${n.vars.palette.action.hoverOpacity})`:Un(n.palette.action.active,n.palette.action.hoverOpacity)}}},...Object.entries(n.palette).filter(Fi()).map(([e])=>({props:{color:e,disableRipple:!1},style:{"&:hover":{backgroundColor:n.vars?`rgba(${n.vars.palette[e].mainChannel} / ${n.vars.palette.action.hoverOpacity})`:Un(n.palette[e].main,n.palette.action.hoverOpacity)}}})),...Object.entries(n.palette).filter(Fi()).map(([e])=>({props:{color:e},style:{[`&.${nx.checked}, &.${nx.indeterminate}`]:{color:(n.vars||n).palette[e].main},[`&.${nx.disabled}`]:{color:(n.vars||n).palette.action.disabled}}})),{props:{disableRipple:!1},style:{"&:hover":{"@media (hover: none)":{backgroundColor:"transparent"}}}}]}))),JW=L.jsx(YW,{}),e6=L.jsx(XW,{}),t6=L.jsx(qW,{}),n6=I.forwardRef(function(e,t){const r=ht({props:e,name:"MuiCheckbox"}),{checkedIcon:i=JW,color:s="primary",icon:a=e6,indeterminate:l=!1,indeterminateIcon:u=t6,inputProps:d,size:h="medium",disableRipple:p=!1,className:g,slots:y={},slotProps:b={},...w}=r,C=l?u:a,x=l?u:i,A={...r,disableRipple:p,color:s,indeterminate:l,size:h},E=QW(A),_=b.input??d,[k,M]=jt("root",{ref:t,elementType:ZW,className:ze(E.root,g),shouldForwardComponentProp:!0,externalForwardedProps:{slots:y,slotProps:b,...w},ownerState:A,additionalProps:{type:"checkbox",icon:I.cloneElement(C,{fontSize:C.props.fontSize??h}),checkedIcon:I.cloneElement(x,{fontSize:x.props.fontSize??h}),disableRipple:p,slots:y,slotProps:{input:qM(typeof _=="function"?_(A):_,{"data-indeterminate":l})}}});return L.jsx(k,{...M,classes:E})});function r6(n){const e=Oi(n);return e.body===n?_o(n).innerWidth>e.documentElement.clientWidth:n.scrollHeight>n.clientHeight}function af(n,e){e?n.setAttribute("aria-hidden","true"):n.removeAttribute("aria-hidden")}function nR(n){return parseInt(_o(n).getComputedStyle(n).paddingRight,10)||0}function i6(n){const t=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].includes(n.tagName),r=n.tagName==="INPUT"&&n.getAttribute("type")==="hidden";return t||r}function rR(n,e,t,r,i){const s=[e,t,...r];[].forEach.call(n.children,a=>{const l=!s.includes(a),u=!i6(a);l&&u&&af(a,i)})}function rx(n,e){let t=-1;return n.some((r,i)=>e(r)?(t=i,!0):!1),t}function s6(n,e){const t=[],r=n.container;if(!e.disableScrollLock){if(r6(r)){const a=FM(_o(r));t.push({value:r.style.paddingRight,property:"padding-right",el:r}),r.style.paddingRight=`${nR(r)+a}px`;const l=Oi(r).querySelectorAll(".mui-fixed");[].forEach.call(l,u=>{t.push({value:u.style.paddingRight,property:"padding-right",el:u}),u.style.paddingRight=`${nR(u)+a}px`})}let s;if(r.parentNode instanceof DocumentFragment)s=Oi(r).body;else{const a=r.parentElement,l=_o(r);s=(a==null?void 0:a.nodeName)==="HTML"&&l.getComputedStyle(a).overflowY==="scroll"?a:r}t.push({value:s.style.overflow,property:"overflow",el:s},{value:s.style.overflowX,property:"overflow-x",el:s},{value:s.style.overflowY,property:"overflow-y",el:s}),s.style.overflow="hidden"}return()=>{t.forEach(({value:s,el:a,property:l})=>{s?a.style.setProperty(l,s):a.style.removeProperty(l)})}}function o6(n){const e=[];return[].forEach.call(n.children,t=>{t.getAttribute("aria-hidden")==="true"&&e.push(t)}),e}class a6{constructor(){this.modals=[],this.containers=[]}add(e,t){let r=this.modals.indexOf(e);if(r!==-1)return r;r=this.modals.length,this.modals.push(e),e.modalRef&&af(e.modalRef,!1);const i=o6(t);rR(t,e.mount,e.modalRef,i,!0);const s=rx(this.containers,a=>a.container===t);return s!==-1?(this.containers[s].modals.push(e),r):(this.containers.push({modals:[e],container:t,restore:null,hiddenSiblings:i}),r)}mount(e,t){const r=rx(this.containers,s=>s.modals.includes(e)),i=this.containers[r];i.restore||(i.restore=s6(i,t))}remove(e,t=!0){const r=this.modals.indexOf(e);if(r===-1)return r;const i=rx(this.containers,a=>a.modals.includes(e)),s=this.containers[i];if(s.modals.splice(s.modals.indexOf(e),1),this.modals.splice(r,1),s.modals.length===0)s.restore&&s.restore(),e.modalRef&&af(e.modalRef,t),rR(s.container,e.mount,e.modalRef,s.hiddenSiblings,!1),this.containers.splice(i,1);else{const a=s.modals[s.modals.length-1];a.modalRef&&af(a.modalRef,!1)}return r}isTopModal(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}}const l6=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function c6(n){const e=parseInt(n.getAttribute("tabindex")||"",10);return Number.isNaN(e)?n.contentEditable==="true"||(n.nodeName==="AUDIO"||n.nodeName==="VIDEO"||n.nodeName==="DETAILS")&&n.getAttribute("tabindex")===null?0:n.tabIndex:e}function u6(n){if(n.tagName!=="INPUT"||n.type!=="radio"||!n.name)return!1;const e=r=>n.ownerDocument.querySelector(`input[type="radio"]${r}`);let t=e(`[name="${n.name}"]:checked`);return t||(t=e(`[name="${n.name}"]`)),t!==n}function d6(n){return!(n.disabled||n.tagName==="INPUT"&&n.type==="hidden"||u6(n))}function h6(n){const e=[],t=[];return Array.from(n.querySelectorAll(l6)).forEach((r,i)=>{const s=c6(r);s===-1||!d6(r)||(s===0?e.push(r):t.push({documentOrder:i,tabIndex:s,node:r}))}),t.sort((r,i)=>r.tabIndex===i.tabIndex?r.documentOrder-i.documentOrder:r.tabIndex-i.tabIndex).map(r=>r.node).concat(e)}function f6(){return!0}function p6(n){const{children:e,disableAutoFocus:t=!1,disableEnforceFocus:r=!1,disableRestoreFocus:i=!1,getTabbable:s=h6,isEnabled:a=f6,open:l}=n,u=I.useRef(!1),d=I.useRef(null),h=I.useRef(null),p=I.useRef(null),g=I.useRef(null),y=I.useRef(!1),b=I.useRef(null),w=sr(Ag(e),b),C=I.useRef(null);I.useEffect(()=>{!l||!b.current||(y.current=!t)},[t,l]),I.useEffect(()=>{if(!l||!b.current)return;const E=Oi(b.current);return b.current.contains(E.activeElement)||(b.current.hasAttribute("tabIndex")||b.current.setAttribute("tabIndex","-1"),y.current&&b.current.focus()),()=>{i||(p.current&&p.current.focus&&(u.current=!0,p.current.focus()),p.current=null)}},[l]),I.useEffect(()=>{if(!l||!b.current)return;const E=Oi(b.current),_=T=>{C.current=T,!(r||!a()||T.key!=="Tab")&&E.activeElement===b.current&&T.shiftKey&&(u.current=!0,h.current&&h.current.focus())},k=()=>{var W,P;const T=b.current;if(T===null)return;if(!E.hasFocus()||!a()||u.current){u.current=!1;return}if(T.contains(E.activeElement)||r&&E.activeElement!==d.current&&E.activeElement!==h.current)return;if(E.activeElement!==g.current)g.current=null;else if(g.current!==null)return;if(!y.current)return;let N=[];if((E.activeElement===d.current||E.activeElement===h.current)&&(N=s(b.current)),N.length>0){const V=!!((W=C.current)!=null&&W.shiftKey&&((P=C.current)==null?void 0:P.key)==="Tab"),X=N[0],Y=N[N.length-1];typeof X!="string"&&typeof Y!="string"&&(V?Y.focus():X.focus())}else T.focus()};E.addEventListener("focusin",k),E.addEventListener("keydown",_,!0);const M=setInterval(()=>{E.activeElement&&E.activeElement.tagName==="BODY"&&k()},50);return()=>{clearInterval(M),E.removeEventListener("focusin",k),E.removeEventListener("keydown",_,!0)}},[t,r,i,a,l,s]);const x=E=>{p.current===null&&(p.current=E.relatedTarget),y.current=!0,g.current=E.target;const _=e.props.onFocus;_&&_(E)},A=E=>{p.current===null&&(p.current=E.relatedTarget),y.current=!0};return L.jsxs(I.Fragment,{children:[L.jsx("div",{tabIndex:l?0:-1,onFocus:A,ref:d,"data-testid":"sentinelStart"}),I.cloneElement(e,{ref:w,onFocus:x}),L.jsx("div",{tabIndex:l?0:-1,onFocus:A,ref:h,"data-testid":"sentinelEnd"})]})}function g6(n){return typeof n=="function"?n():n}function m6(n){return n?n.props.hasOwnProperty("in"):!1}const iR=()=>{},ly=new a6;function y6(n){const{container:e,disableEscapeKeyDown:t=!1,disableScrollLock:r=!1,closeAfterTransition:i=!1,onTransitionEnter:s,onTransitionExited:a,children:l,onClose:u,open:d,rootRef:h}=n,p=I.useRef({}),g=I.useRef(null),y=I.useRef(null),b=sr(y,h),[w,C]=I.useState(!d),x=m6(l);let A=!0;(n["aria-hidden"]==="false"||n["aria-hidden"]===!1)&&(A=!1);const E=()=>Oi(g.current),_=()=>(p.current.modalRef=y.current,p.current.mount=g.current,p.current),k=()=>{ly.mount(_(),{disableScrollLock:r}),y.current&&(y.current.scrollTop=0)},M=_u(()=>{const G=g6(e)||E().body;ly.add(_(),G),y.current&&k()}),T=()=>ly.isTopModal(_()),N=_u(G=>{g.current=G,G&&(d&&T()?k():y.current&&af(y.current,A))}),W=I.useCallback(()=>{ly.remove(_(),A)},[A]);I.useEffect(()=>()=>{W()},[W]),I.useEffect(()=>{d?M():(!x||!i)&&W()},[d,W,x,i,M]);const P=G=>j=>{var q;(q=G.onKeyDown)==null||q.call(G,j),!(j.key!=="Escape"||j.which===229||!T())&&(t||(j.stopPropagation(),u&&u(j,"escapeKeyDown")))},V=G=>j=>{var q;(q=G.onClick)==null||q.call(G,j),j.target===j.currentTarget&&u&&u(j,"backdropClick")};return{getRootProps:(G={})=>{const j=$M(n);delete j.onTransitionEnter,delete j.onTransitionExited;const q={...j,...G};return{role:"presentation",...q,onKeyDown:P(q),ref:b}},getBackdropProps:(G={})=>{const j=G;return{"aria-hidden":!0,...j,onClick:V(j),open:d}},getTransitionProps:()=>{const G=()=>{C(!1),s&&s()},j=()=>{C(!0),a&&a(),i&&W()};return{onEnter:Dk(G,(l==null?void 0:l.props.onEnter)??iR),onExited:Dk(j,(l==null?void 0:l.props.onExited)??iR)}},rootRef:b,portalRef:N,isTopModal:T,exited:w,hasTransition:x}}function v6(n){return rt("MuiModal",n)}Ye("MuiModal",["root","hidden","backdrop"]);const b6=n=>{const{open:e,exited:t,classes:r}=n;return it({root:["root",!e&&t&&"hidden"],backdrop:["backdrop"]},v6,r)},w6=Ce("div",{name:"MuiModal",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,!t.open&&t.exited&&e.hidden]}})(xt(({theme:n})=>({position:"fixed",zIndex:(n.vars||n).zIndex.modal,right:0,bottom:0,top:0,left:0,variants:[{props:({ownerState:e})=>!e.open&&e.exited,style:{visibility:"hidden"}}]}))),x6=Ce(eI,{name:"MuiModal",slot:"Backdrop",overridesResolver:(n,e)=>e.backdrop})({zIndex:-1}),nI=I.forwardRef(function(e,t){const r=ht({name:"MuiModal",props:e}),{BackdropComponent:i=x6,BackdropProps:s,classes:a,className:l,closeAfterTransition:u=!1,children:d,container:h,component:p,components:g={},componentsProps:y={},disableAutoFocus:b=!1,disableEnforceFocus:w=!1,disableEscapeKeyDown:C=!1,disablePortal:x=!1,disableRestoreFocus:A=!1,disableScrollLock:E=!1,hideBackdrop:_=!1,keepMounted:k=!1,onBackdropClick:M,onClose:T,onTransitionEnter:N,onTransitionExited:W,open:P,slotProps:V={},slots:X={},theme:Y,...D}=r,G={...r,closeAfterTransition:u,disableAutoFocus:b,disableEnforceFocus:w,disableEscapeKeyDown:C,disablePortal:x,disableRestoreFocus:A,disableScrollLock:E,hideBackdrop:_,keepMounted:k},{getRootProps:j,getBackdropProps:q,getTransitionProps:$,portalRef:B,isTopModal:K,exited:U,hasTransition:Z}=y6({...G,rootRef:t}),re={...G,exited:U},le=b6(re),se={};if(d.props.tabIndex===void 0&&(se.tabIndex="-1"),Z){const{onEnter:me,onExited:ge}=$();se.onEnter=me,se.onExited=ge}const ce={slots:{root:g.Root,backdrop:g.Backdrop,...X},slotProps:{...y,...V}},[ee,oe]=jt("root",{ref:t,elementType:w6,externalForwardedProps:{...ce,...D,component:p},getSlotProps:j,ownerState:re,className:ze(l,le==null?void 0:le.root,!re.open&&re.exited&&(le==null?void 0:le.hidden))}),[de,pe]=jt("backdrop",{ref:s==null?void 0:s.ref,elementType:i,externalForwardedProps:ce,shouldForwardComponentProp:!0,additionalProps:s,getSlotProps:me=>q({...me,onClick:ge=>{M&&M(ge),me!=null&&me.onClick&&me.onClick(ge)}}),className:ze(s==null?void 0:s.className,le==null?void 0:le.backdrop),ownerState:re});return!k&&!P&&(!Z||U)?null:L.jsx(mW,{ref:B,container:h,disablePortal:x,children:L.jsxs(ee,{...oe,children:[!_&&i?L.jsx(de,{...pe}):null,L.jsx(p6,{disableEnforceFocus:w,disableAutoFocus:b,disableRestoreFocus:A,isEnabled:K,open:P,children:I.cloneElement(d,se)})]})})});function S6(n){return rt("MuiDialog",n)}const ix=Ye("MuiDialog",["root","scrollPaper","scrollBody","container","paper","paperScrollPaper","paperScrollBody","paperWidthFalse","paperWidthXs","paperWidthSm","paperWidthMd","paperWidthLg","paperWidthXl","paperFullWidth","paperFullScreen"]),rI=I.createContext({}),E6=Ce(eI,{name:"MuiDialog",slot:"Backdrop",overrides:(n,e)=>e.backdrop})({zIndex:-1}),C6=n=>{const{classes:e,scroll:t,maxWidth:r,fullWidth:i,fullScreen:s}=n,a={root:["root"],container:["container",`scroll${Ne(t)}`],paper:["paper",`paperScroll${Ne(t)}`,`paperWidth${Ne(String(r))}`,i&&"paperFullWidth",s&&"paperFullScreen"]};return it(a,S6,e)},_6=Ce(nI,{name:"MuiDialog",slot:"Root",overridesResolver:(n,e)=>e.root})({"@media print":{position:"absolute !important"}}),A6=Ce("div",{name:"MuiDialog",slot:"Container",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.container,e[`scroll${Ne(t.scroll)}`]]}})({height:"100%","@media print":{height:"auto"},outline:0,variants:[{props:{scroll:"paper"},style:{display:"flex",justifyContent:"center",alignItems:"center"}},{props:{scroll:"body"},style:{overflowY:"auto",overflowX:"hidden",textAlign:"center","&::after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}}}]}),k6=Ce(nE,{name:"MuiDialog",slot:"Paper",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.paper,e[`scrollPaper${Ne(t.scroll)}`],e[`paperWidth${Ne(String(t.maxWidth))}`],t.fullWidth&&e.paperFullWidth,t.fullScreen&&e.paperFullScreen]}})(xt(({theme:n})=>({margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"},variants:[{props:{scroll:"paper"},style:{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"}},{props:{scroll:"body"},style:{display:"inline-block",verticalAlign:"middle",textAlign:"initial"}},{props:({ownerState:e})=>!e.maxWidth,style:{maxWidth:"calc(100% - 64px)"}},{props:{maxWidth:"xs"},style:{maxWidth:n.breakpoints.unit==="px"?Math.max(n.breakpoints.values.xs,444):`max(${n.breakpoints.values.xs}${n.breakpoints.unit}, 444px)`,[`&.${ix.paperScrollBody}`]:{[n.breakpoints.down(Math.max(n.breakpoints.values.xs,444)+32*2)]:{maxWidth:"calc(100% - 64px)"}}}},...Object.keys(n.breakpoints.values).filter(e=>e!=="xs").map(e=>({props:{maxWidth:e},style:{maxWidth:`${n.breakpoints.values[e]}${n.breakpoints.unit}`,[`&.${ix.paperScrollBody}`]:{[n.breakpoints.down(n.breakpoints.values[e]+32*2)]:{maxWidth:"calc(100% - 64px)"}}}})),{props:({ownerState:e})=>e.fullWidth,style:{width:"calc(100% - 64px)"}},{props:({ownerState:e})=>e.fullScreen,style:{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,[`&.${ix.paperScrollBody}`]:{margin:0,maxWidth:"100%"}}}]}))),R6=I.forwardRef(function(e,t){const r=ht({props:e,name:"MuiDialog"}),i=vv(),s={enter:i.transitions.duration.enteringScreen,exit:i.transitions.duration.leavingScreen},{"aria-describedby":a,"aria-labelledby":l,"aria-modal":u=!0,BackdropComponent:d,BackdropProps:h,children:p,className:g,disableEscapeKeyDown:y=!1,fullScreen:b=!1,fullWidth:w=!1,maxWidth:C="sm",onBackdropClick:x,onClick:A,onClose:E,open:_,PaperComponent:k=nE,PaperProps:M={},scroll:T="paper",slots:N={},slotProps:W={},TransitionComponent:P=Zx,transitionDuration:V=s,TransitionProps:X,...Y}=r,D={...r,disableEscapeKeyDown:y,fullScreen:b,fullWidth:w,maxWidth:C,scroll:T},G=C6(D),j=I.useRef(),q=be=>{j.current=be.target===be.currentTarget},$=be=>{A&&A(be),j.current&&(j.current=null,x&&x(be),E&&E(be,"backdropClick"))},B=_g(l),K=I.useMemo(()=>({titleId:B}),[B]),U={transition:P,...N},Z={transition:X,paper:M,backdrop:h,...W},re={slots:U,slotProps:Z},[le,se]=jt("root",{elementType:_6,shouldForwardComponentProp:!0,externalForwardedProps:re,ownerState:D,className:ze(G.root,g),ref:t}),[ce,ee]=jt("backdrop",{elementType:E6,shouldForwardComponentProp:!0,externalForwardedProps:re,ownerState:D}),[oe,de]=jt("paper",{elementType:k6,shouldForwardComponentProp:!0,externalForwardedProps:re,ownerState:D,className:ze(G.paper,M.className)}),[pe,me]=jt("container",{elementType:A6,externalForwardedProps:re,ownerState:D,className:ze(G.container)}),[ge,Re]=jt("transition",{elementType:Zx,externalForwardedProps:re,ownerState:D,additionalProps:{appear:!0,in:_,timeout:V,role:"presentation"}});return L.jsx(le,{closeAfterTransition:!0,slots:{backdrop:ce},slotProps:{backdrop:{transitionDuration:V,as:d,...ee}},disableEscapeKeyDown:y,onClose:E,open:_,onClick:$,...se,...Y,children:L.jsx(ge,{...Re,children:L.jsx(pe,{onMouseDown:q,...me,children:L.jsx(oe,{as:k,elevation:24,role:"dialog","aria-describedby":a,"aria-labelledby":B,"aria-modal":u,...de,children:L.jsx(rI.Provider,{value:K,children:p})})})})})});function T6(n){return rt("MuiDialogActions",n)}Ye("MuiDialogActions",["root","spacing"]);const P6=n=>{const{classes:e,disableSpacing:t}=n;return it({root:["root",!t&&"spacing"]},T6,e)},M6=Ce("div",{name:"MuiDialogActions",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,!t.disableSpacing&&e.spacing]}})({display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto",variants:[{props:({ownerState:n})=>!n.disableSpacing,style:{"& > :not(style) ~ :not(style)":{marginLeft:8}}}]}),I6=I.forwardRef(function(e,t){const r=ht({props:e,name:"MuiDialogActions"}),{className:i,disableSpacing:s=!1,...a}=r,l={...r,disableSpacing:s},u=P6(l);return L.jsx(M6,{className:ze(u.root,i),ownerState:l,ref:t,...a})});function N6(n){return rt("MuiDialogContent",n)}Ye("MuiDialogContent",["root","dividers"]);function L6(n){return rt("MuiDialogTitle",n)}const D6=Ye("MuiDialogTitle",["root"]),O6=n=>{const{classes:e,dividers:t}=n;return it({root:["root",t&&"dividers"]},N6,e)},F6=Ce("div",{name:"MuiDialogContent",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.dividers&&e.dividers]}})(xt(({theme:n})=>({flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"20px 24px",variants:[{props:({ownerState:e})=>e.dividers,style:{padding:"16px 24px",borderTop:`1px solid ${(n.vars||n).palette.divider}`,borderBottom:`1px solid ${(n.vars||n).palette.divider}`}},{props:({ownerState:e})=>!e.dividers,style:{[`.${D6.root} + &`]:{paddingTop:0}}}]}))),z6=I.forwardRef(function(e,t){const r=ht({props:e,name:"MuiDialogContent"}),{className:i,dividers:s=!1,...a}=r,l={...r,dividers:s},u=O6(l);return L.jsx(F6,{className:ze(u.root,i),ownerState:l,ref:t,...a})}),$6=n=>{const{classes:e}=n;return it({root:["root"]},L6,e)},B6=Ce(Fa,{name:"MuiDialogTitle",slot:"Root",overridesResolver:(n,e)=>e.root})({padding:"16px 24px",flex:"0 0 auto"}),H6=I.forwardRef(function(e,t){const r=ht({props:e,name:"MuiDialogTitle"}),{className:i,id:s,...a}=r,l=r,u=$6(l),{titleId:d=s}=I.useContext(rI);return L.jsx(B6,{component:"h2",className:ze(u.root,i),ownerState:l,ref:t,variant:"h6",id:s??d,...a})}),sR=Ye("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]),j6=n=>{const{classes:e,disableUnderline:t,startAdornment:r,endAdornment:i,size:s,hiddenLabel:a,multiline:l}=n,u={root:["root",!t&&"underline",r&&"adornedStart",i&&"adornedEnd",s==="small"&&`size${Ne(s)}`,a&&"hiddenLabel",l&&"multiline"],input:["input"]},d=it(u,AW,e);return{...e,...d}},W6=Ce(Sv,{shouldForwardProp:n=>Er(n)||n==="classes",name:"MuiFilledInput",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[...wv(n,e),!t.disableUnderline&&e.underline]}})(xt(({theme:n})=>{const e=n.palette.mode==="light",t=e?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",r=e?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",i=e?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",s=e?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return{position:"relative",backgroundColor:n.vars?n.vars.palette.FilledInput.bg:r,borderTopLeftRadius:(n.vars||n).shape.borderRadius,borderTopRightRadius:(n.vars||n).shape.borderRadius,transition:n.transitions.create("background-color",{duration:n.transitions.duration.shorter,easing:n.transitions.easing.easeOut}),"&:hover":{backgroundColor:n.vars?n.vars.palette.FilledInput.hoverBg:i,"@media (hover: none)":{backgroundColor:n.vars?n.vars.palette.FilledInput.bg:r}},[`&.${ol.focused}`]:{backgroundColor:n.vars?n.vars.palette.FilledInput.bg:r},[`&.${ol.disabled}`]:{backgroundColor:n.vars?n.vars.palette.FilledInput.disabledBg:s},variants:[{props:({ownerState:a})=>!a.disableUnderline,style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:n.transitions.create("transform",{duration:n.transitions.duration.shorter,easing:n.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${ol.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${ol.error}`]:{"&::before, &::after":{borderBottomColor:(n.vars||n).palette.error.main}},"&::before":{borderBottom:`1px solid ${n.vars?`rgba(${n.vars.palette.common.onBackgroundChannel} / ${n.vars.opacity.inputUnderline})`:t}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:n.transitions.create("border-bottom-color",{duration:n.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${ol.disabled}, .${ol.error}):before`]:{borderBottom:`1px solid ${(n.vars||n).palette.text.primary}`},[`&.${ol.disabled}:before`]:{borderBottomStyle:"dotted"}}},...Object.entries(n.palette).filter(Fi()).map(([a])=>{var l;return{props:{disableUnderline:!1,color:a},style:{"&::after":{borderBottom:`2px solid ${(l=(n.vars||n).palette[a])==null?void 0:l.main}`}}}}),{props:({ownerState:a})=>a.startAdornment,style:{paddingLeft:12}},{props:({ownerState:a})=>a.endAdornment,style:{paddingRight:12}},{props:({ownerState:a})=>a.multiline,style:{padding:"25px 12px 8px"}},{props:({ownerState:a,size:l})=>a.multiline&&l==="small",style:{paddingTop:21,paddingBottom:4}},{props:({ownerState:a})=>a.multiline&&a.hiddenLabel,style:{paddingTop:16,paddingBottom:17}},{props:({ownerState:a})=>a.multiline&&a.hiddenLabel&&a.size==="small",style:{paddingTop:8,paddingBottom:9}}]}})),U6=Ce(Ev,{name:"MuiFilledInput",slot:"Input",overridesResolver:xv})(xt(({theme:n})=>({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12,...!n.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:n.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:n.palette.mode==="light"?null:"#fff",caretColor:n.palette.mode==="light"?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},...n.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[n.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},variants:[{props:{size:"small"},style:{paddingTop:21,paddingBottom:4}},{props:({ownerState:e})=>e.hiddenLabel,style:{paddingTop:16,paddingBottom:17}},{props:({ownerState:e})=>e.startAdornment,style:{paddingLeft:0}},{props:({ownerState:e})=>e.endAdornment,style:{paddingRight:0}},{props:({ownerState:e})=>e.hiddenLabel&&e.size==="small",style:{paddingTop:8,paddingBottom:9}},{props:({ownerState:e})=>e.multiline,style:{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0}}]}))),sE=I.forwardRef(function(e,t){const r=ht({props:e,name:"MuiFilledInput"}),{disableUnderline:i=!1,components:s={},componentsProps:a,fullWidth:l=!1,hiddenLabel:u,inputComponent:d="input",multiline:h=!1,slotProps:p,slots:g={},type:y="text",...b}=r,w={...r,disableUnderline:i,fullWidth:l,inputComponent:d,multiline:h,type:y},C=j6(r),x={root:{ownerState:w},input:{ownerState:w}},A=p??a?Xn(x,p??a):x,E=g.root??s.Root??W6,_=g.input??s.Input??U6;return L.jsx(iE,{slots:{root:E,input:_},slotProps:A,fullWidth:l,inputComponent:d,multiline:h,ref:t,type:y,...b,classes:C})});sE.muiName="Input";function V6(n){return rt("MuiFormControl",n)}Ye("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const G6=n=>{const{classes:e,margin:t,fullWidth:r}=n,i={root:["root",t!=="none"&&`margin${Ne(t)}`,r&&"fullWidth"]};return it(i,V6,e)},X6=Ce("div",{name:"MuiFormControl",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,e[`margin${Ne(t.margin)}`],t.fullWidth&&e.fullWidth]}})({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top",variants:[{props:{margin:"normal"},style:{marginTop:16,marginBottom:8}},{props:{margin:"dense"},style:{marginTop:8,marginBottom:4}},{props:{fullWidth:!0},style:{width:"100%"}}]}),iI=I.forwardRef(function(e,t){const r=ht({props:e,name:"MuiFormControl"}),{children:i,className:s,color:a="primary",component:l="div",disabled:u=!1,error:d=!1,focused:h,fullWidth:p=!1,hiddenLabel:g=!1,margin:y="none",required:b=!1,size:w="medium",variant:C="outlined",...x}=r,A={...r,color:a,component:l,disabled:u,error:d,fullWidth:p,hiddenLabel:g,margin:y,required:b,size:w,variant:C},E=G6(A),[_,k]=I.useState(()=>{let G=!1;return i&&I.Children.forEach(i,j=>{if(!Jw(j,["Input","Select"]))return;const q=Jw(j,["Select"])?j.props.input:j;q&&xW(q.props)&&(G=!0)}),G}),[M,T]=I.useState(()=>{let G=!1;return i&&I.Children.forEach(i,j=>{Jw(j,["Input","Select"])&&(m0(j.props,!0)||m0(j.props.inputProps,!0))&&(G=!0)}),G}),[N,W]=I.useState(!1);u&&N&&W(!1);const P=h!==void 0&&!u?h:N;let V;I.useRef(!1);const X=I.useCallback(()=>{T(!0)},[]),Y=I.useCallback(()=>{T(!1)},[]),D=I.useMemo(()=>({adornedStart:_,setAdornedStart:k,color:a,disabled:u,error:d,filled:M,focused:P,fullWidth:p,hiddenLabel:g,size:w,onBlur:()=>{W(!1)},onFocus:()=>{W(!0)},onEmpty:Y,onFilled:X,registerEffect:V,required:b,variant:C}),[_,a,u,d,M,P,p,g,V,Y,X,b,w,C]);return L.jsx(rE.Provider,{value:D,children:L.jsx(X6,{as:l,ownerState:A,className:ze(E.root,s),ref:t,...x,children:i})})});function Y6(n){return rt("MuiFormControlLabel",n)}const Bh=Ye("MuiFormControlLabel",["root","labelPlacementStart","labelPlacementTop","labelPlacementBottom","disabled","label","error","required","asterisk"]),q6=n=>{const{classes:e,disabled:t,labelPlacement:r,error:i,required:s}=n,a={root:["root",t&&"disabled",`labelPlacement${Ne(r)}`,i&&"error",s&&"required"],label:["label",t&&"disabled"],asterisk:["asterisk",i&&"error"]};return it(a,Y6,e)},K6=Ce("label",{name:"MuiFormControlLabel",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[{[`& .${Bh.label}`]:e.label},e.root,e[`labelPlacement${Ne(t.labelPlacement)}`]]}})(xt(({theme:n})=>({display:"inline-flex",alignItems:"center",cursor:"pointer",verticalAlign:"middle",WebkitTapHighlightColor:"transparent",marginLeft:-11,marginRight:16,[`&.${Bh.disabled}`]:{cursor:"default"},[`& .${Bh.label}`]:{[`&.${Bh.disabled}`]:{color:(n.vars||n).palette.text.disabled}},variants:[{props:{labelPlacement:"start"},style:{flexDirection:"row-reverse",marginRight:-11}},{props:{labelPlacement:"top"},style:{flexDirection:"column-reverse"}},{props:{labelPlacement:"bottom"},style:{flexDirection:"column"}},{props:({labelPlacement:e})=>e==="start"||e==="top"||e==="bottom",style:{marginLeft:16}}]}))),Q6=Ce("span",{name:"MuiFormControlLabel",slot:"Asterisk",overridesResolver:(n,e)=>e.asterisk})(xt(({theme:n})=>({[`&.${Bh.error}`]:{color:(n.vars||n).palette.error.main}}))),Z6=I.forwardRef(function(e,t){const r=ht({props:e,name:"MuiFormControlLabel"}),{checked:i,className:s,componentsProps:a={},control:l,disabled:u,disableTypography:d,inputRef:h,label:p,labelPlacement:g="end",name:y,onChange:b,required:w,slots:C={},slotProps:x={},value:A,...E}=r,_=Ha(),k=u??l.props.disabled??(_==null?void 0:_.disabled),M=w??l.props.required,T={disabled:k,required:M};["checked","name","onChange","value","inputRef"].forEach(G=>{typeof l.props[G]>"u"&&typeof r[G]<"u"&&(T[G]=r[G])});const N=_c({props:r,muiFormControl:_,states:["error"]}),W={...r,disabled:k,labelPlacement:g,required:M,error:N.error},P=q6(W),V={slots:C,slotProps:{...a,...x}},[X,Y]=jt("typography",{elementType:Fa,externalForwardedProps:V,ownerState:W});let D=p;return D!=null&&D.type!==Fa&&!d&&(D=L.jsx(X,{component:"span",...Y,className:ze(P.label,Y==null?void 0:Y.className),children:D})),L.jsxs(K6,{className:ze(P.root,s),ownerState:W,ref:t,...E,children:[I.cloneElement(l,T),M?L.jsxs("div",{children:[D,L.jsxs(Q6,{ownerState:W,"aria-hidden":!0,className:P.asterisk,children:[" ","*"]})]}):D]})});function J6(n){return rt("MuiFormHelperText",n)}const oR=Ye("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]);var aR;const eU=n=>{const{classes:e,contained:t,size:r,disabled:i,error:s,filled:a,focused:l,required:u}=n,d={root:["root",i&&"disabled",s&&"error",r&&`size${Ne(r)}`,t&&"contained",l&&"focused",a&&"filled",u&&"required"]};return it(d,J6,e)},tU=Ce("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.size&&e[`size${Ne(t.size)}`],t.contained&&e.contained,t.filled&&e.filled]}})(xt(({theme:n})=>({color:(n.vars||n).palette.text.secondary,...n.typography.caption,textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,[`&.${oR.disabled}`]:{color:(n.vars||n).palette.text.disabled},[`&.${oR.error}`]:{color:(n.vars||n).palette.error.main},variants:[{props:{size:"small"},style:{marginTop:4}},{props:({ownerState:e})=>e.contained,style:{marginLeft:14,marginRight:14}}]}))),nU=I.forwardRef(function(e,t){const r=ht({props:e,name:"MuiFormHelperText"}),{children:i,className:s,component:a="p",disabled:l,error:u,filled:d,focused:h,margin:p,required:g,variant:y,...b}=r,w=Ha(),C=_c({props:r,muiFormControl:w,states:["variant","size","disabled","error","filled","focused","required"]}),x={...r,component:a,contained:C.variant==="filled"||C.variant==="outlined",variant:C.variant,size:C.size,disabled:C.disabled,error:C.error,filled:C.filled,focused:C.focused,required:C.required};delete x.ownerState;const A=eU(x);return L.jsx(tU,{as:a,className:ze(A.root,s),ref:t,...b,ownerState:x,children:i===" "?aR||(aR=L.jsx("span",{className:"notranslate","aria-hidden":!0,children:"​"})):i})});function rU(n){return rt("MuiFormLabel",n)}const lf=Ye("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),iU=n=>{const{classes:e,color:t,focused:r,disabled:i,error:s,filled:a,required:l}=n,u={root:["root",`color${Ne(t)}`,i&&"disabled",s&&"error",a&&"filled",r&&"focused",l&&"required"],asterisk:["asterisk",s&&"error"]};return it(u,rU,e)},sU=Ce("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.color==="secondary"&&e.colorSecondary,t.filled&&e.filled]}})(xt(({theme:n})=>({color:(n.vars||n).palette.text.secondary,...n.typography.body1,lineHeight:"1.4375em",padding:0,position:"relative",variants:[...Object.entries(n.palette).filter(Fi()).map(([e])=>({props:{color:e},style:{[`&.${lf.focused}`]:{color:(n.vars||n).palette[e].main}}})),{props:{},style:{[`&.${lf.disabled}`]:{color:(n.vars||n).palette.text.disabled},[`&.${lf.error}`]:{color:(n.vars||n).palette.error.main}}}]}))),oU=Ce("span",{name:"MuiFormLabel",slot:"Asterisk",overridesResolver:(n,e)=>e.asterisk})(xt(({theme:n})=>({[`&.${lf.error}`]:{color:(n.vars||n).palette.error.main}}))),aU=I.forwardRef(function(e,t){const r=ht({props:e,name:"MuiFormLabel"}),{children:i,className:s,color:a,component:l="label",disabled:u,error:d,filled:h,focused:p,required:g,...y}=r,b=Ha(),w=_c({props:r,muiFormControl:b,states:["color","required","focused","disabled","error","filled"]}),C={...r,color:w.color||"primary",component:l,disabled:w.disabled,error:w.error,filled:w.filled,focused:w.focused,required:w.required},x=iU(C);return L.jsxs(sU,{as:l,ownerState:C,className:ze(x.root,s),ref:t,...y,children:[i,w.required&&L.jsxs(oU,{ownerState:C,"aria-hidden":!0,className:x.asterisk,children:[" ","*"]})]})});function Jx(n){return`scale(${n}, ${n**2})`}const lU={entering:{opacity:1,transform:Jx(1)},entered:{opacity:1,transform:"none"}},sx=typeof navigator<"u"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),eS=I.forwardRef(function(e,t){const{addEndListener:r,appear:i=!0,children:s,easing:a,in:l,onEnter:u,onEntered:d,onEntering:h,onExit:p,onExited:g,onExiting:y,style:b,timeout:w="auto",TransitionComponent:C=_s,...x}=e,A=OM(),E=I.useRef(),_=vv(),k=I.useRef(null),M=sr(k,Ag(s),t),T=G=>j=>{if(G){const q=k.current;j===void 0?G(q):G(q,j)}},N=T(h),W=T((G,j)=>{ZM(G);const{duration:q,delay:$,easing:B}=p0({style:b,timeout:w,easing:a},{mode:"enter"});let K;w==="auto"?(K=_.transitions.getAutoHeightDuration(G.clientHeight),E.current=K):K=q,G.style.transition=[_.transitions.create("opacity",{duration:K,delay:$}),_.transitions.create("transform",{duration:sx?K:K*.666,delay:$,easing:B})].join(","),u&&u(G,j)}),P=T(d),V=T(y),X=T(G=>{const{duration:j,delay:q,easing:$}=p0({style:b,timeout:w,easing:a},{mode:"exit"});let B;w==="auto"?(B=_.transitions.getAutoHeightDuration(G.clientHeight),E.current=B):B=j,G.style.transition=[_.transitions.create("opacity",{duration:B,delay:q}),_.transitions.create("transform",{duration:sx?B:B*.666,delay:sx?q:q||B*.333,easing:$})].join(","),G.style.opacity=0,G.style.transform=Jx(.75),p&&p(G)}),Y=T(g),D=G=>{w==="auto"&&A.start(E.current||0,G),r&&r(k.current,G)};return L.jsx(C,{appear:i,in:l,nodeRef:k,onEnter:W,onEntered:P,onEntering:N,onExit:X,onExited:Y,onExiting:V,addEndListener:D,timeout:w==="auto"?null:w,...x,children:(G,{ownerState:j,...q})=>I.cloneElement(s,{style:{opacity:0,transform:Jx(.75),visibility:G==="exited"&&!l?"hidden":void 0,...lU[G],...b,...s.props.style},ref:M,...q})})});eS&&(eS.muiSupportAuto=!0);const cU=n=>{const{classes:e,disableUnderline:t}=n,i=it({root:["root",!t&&"underline"],input:["input"]},CW,e);return{...e,...i}},uU=Ce(Sv,{shouldForwardProp:n=>Er(n)||n==="classes",name:"MuiInput",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[...wv(n,e),!t.disableUnderline&&e.underline]}})(xt(({theme:n})=>{let t=n.palette.mode==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return n.vars&&(t=`rgba(${n.vars.palette.common.onBackgroundChannel} / ${n.vars.opacity.inputUnderline})`),{position:"relative",variants:[{props:({ownerState:r})=>r.formControl,style:{"label + &":{marginTop:16}}},{props:({ownerState:r})=>!r.disableUnderline,style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:n.transitions.create("transform",{duration:n.transitions.duration.shorter,easing:n.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${Ah.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${Ah.error}`]:{"&::before, &::after":{borderBottomColor:(n.vars||n).palette.error.main}},"&::before":{borderBottom:`1px solid ${t}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:n.transitions.create("border-bottom-color",{duration:n.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${Ah.disabled}, .${Ah.error}):before`]:{borderBottom:`2px solid ${(n.vars||n).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${t}`}},[`&.${Ah.disabled}:before`]:{borderBottomStyle:"dotted"}}},...Object.entries(n.palette).filter(Fi()).map(([r])=>({props:{color:r,disableUnderline:!1},style:{"&::after":{borderBottom:`2px solid ${(n.vars||n).palette[r].main}`}}}))]}})),dU=Ce(Ev,{name:"MuiInput",slot:"Input",overridesResolver:xv})({}),oE=I.forwardRef(function(e,t){const r=ht({props:e,name:"MuiInput"}),{disableUnderline:i=!1,components:s={},componentsProps:a,fullWidth:l=!1,inputComponent:u="input",multiline:d=!1,slotProps:h,slots:p={},type:g="text",...y}=r,b=cU(r),C={root:{ownerState:{disableUnderline:i}}},x=h??a?Xn(h??a,C):C,A=p.root??s.Root??uU,E=p.input??s.Input??dU;return L.jsx(iE,{slots:{root:A,input:E},slotProps:x,fullWidth:l,inputComponent:u,multiline:d,ref:t,type:g,...y,classes:b})});oE.muiName="Input";function hU(n){return rt("MuiInputLabel",n)}Ye("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const fU=n=>{const{classes:e,formControl:t,size:r,shrink:i,disableAnimation:s,variant:a,required:l}=n,u={root:["root",t&&"formControl",!s&&"animated",i&&"shrink",r&&r!=="normal"&&`size${Ne(r)}`,a],asterisk:[l&&"asterisk"]},d=it(u,hU,e);return{...e,...d}},pU=Ce(aU,{shouldForwardProp:n=>Er(n)||n==="classes",name:"MuiInputLabel",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[{[`& .${lf.asterisk}`]:e.asterisk},e.root,t.formControl&&e.formControl,t.size==="small"&&e.sizeSmall,t.shrink&&e.shrink,!t.disableAnimation&&e.animated,t.focused&&e.focused,e[t.variant]]}})(xt(({theme:n})=>({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%",variants:[{props:({ownerState:e})=>e.formControl,style:{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"}},{props:{size:"small"},style:{transform:"translate(0, 17px) scale(1)"}},{props:({ownerState:e})=>e.shrink,style:{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"}},{props:({ownerState:e})=>!e.disableAnimation,style:{transition:n.transitions.create(["color","transform","max-width"],{duration:n.transitions.duration.shorter,easing:n.transitions.easing.easeOut})}},{props:{variant:"filled"},style:{zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"}},{props:{variant:"filled",size:"small"},style:{transform:"translate(12px, 13px) scale(1)"}},{props:({variant:e,ownerState:t})=>e==="filled"&&t.shrink,style:{userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"}},{props:({variant:e,ownerState:t,size:r})=>e==="filled"&&t.shrink&&r==="small",style:{transform:"translate(12px, 4px) scale(0.75)"}},{props:{variant:"outlined"},style:{zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"}},{props:{variant:"outlined",size:"small"},style:{transform:"translate(14px, 9px) scale(1)"}},{props:({variant:e,ownerState:t})=>e==="outlined"&&t.shrink,style:{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}}]}))),gU=I.forwardRef(function(e,t){const r=ht({name:"MuiInputLabel",props:e}),{disableAnimation:i=!1,margin:s,shrink:a,variant:l,className:u,...d}=r,h=Ha();let p=a;typeof p>"u"&&h&&(p=h.filled||h.focused||h.adornedStart);const g=_c({props:r,muiFormControl:h,states:["size","variant","required","focused"]}),y={...r,disableAnimation:i,formControl:h,shrink:p,size:g.size,variant:g.variant,required:g.required,focused:g.focused},b=fU(y);return L.jsx(pU,{"data-shrink":p,ref:t,className:ze(b.root,u),...d,ownerState:y,classes:b})}),tS=I.createContext({});function mU(n){return rt("MuiList",n)}Ye("MuiList",["root","padding","dense","subheader"]);const yU=n=>{const{classes:e,disablePadding:t,dense:r,subheader:i}=n;return it({root:["root",!t&&"padding",r&&"dense",i&&"subheader"]},mU,e)},vU=Ce("ul",{name:"MuiList",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,!t.disablePadding&&e.padding,t.dense&&e.dense,t.subheader&&e.subheader]}})({listStyle:"none",margin:0,padding:0,position:"relative",variants:[{props:({ownerState:n})=>!n.disablePadding,style:{paddingTop:8,paddingBottom:8}},{props:({ownerState:n})=>n.subheader,style:{paddingTop:0}}]}),bU=I.forwardRef(function(e,t){const r=ht({props:e,name:"MuiList"}),{children:i,className:s,component:a="ul",dense:l=!1,disablePadding:u=!1,subheader:d,...h}=r,p=I.useMemo(()=>({dense:l}),[l]),g={...r,component:a,dense:l,disablePadding:u},y=yU(g);return L.jsx(tS.Provider,{value:p,children:L.jsxs(vU,{as:a,className:ze(y.root,s),ref:t,ownerState:g,...h,children:[d,i]})})}),lR=Ye("MuiListItemIcon",["root","alignItemsFlexStart"]),cR=Ye("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]);function ox(n,e,t){return n===e?n.firstChild:e&&e.nextElementSibling?e.nextElementSibling:t?null:n.firstChild}function uR(n,e,t){return n===e?t?n.firstChild:n.lastChild:e&&e.previousElementSibling?e.previousElementSibling:t?null:n.lastChild}function sI(n,e){if(e===void 0)return!0;let t=n.innerText;return t===void 0&&(t=n.textContent),t=t.trim().toLowerCase(),t.length===0?!1:e.repeating?t[0]===e.keys[0]:t.startsWith(e.keys.join(""))}function kh(n,e,t,r,i,s){let a=!1,l=i(n,e,e?t:!1);for(;l;){if(l===n.firstChild){if(a)return!1;a=!0}const u=r?!1:l.disabled||l.getAttribute("aria-disabled")==="true";if(!l.hasAttribute("tabindex")||!sI(l,s)||u)l=i(n,l,t);else return l.focus(),!0}return!1}const wU=I.forwardRef(function(e,t){const{actions:r,autoFocus:i=!1,autoFocusItem:s=!1,children:a,className:l,disabledItemsFocusable:u=!1,disableListWrap:d=!1,onKeyDown:h,variant:p="selectedMenu",...g}=e,y=I.useRef(null),b=I.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});Da(()=>{i&&y.current.focus()},[i]),I.useImperativeHandle(r,()=>({adjustStyleForScrollbar:(E,{direction:_})=>{const k=!y.current.style.width;if(E.clientHeight<y.current.clientHeight&&k){const M=`${FM(_o(E))}px`;y.current.style[_==="rtl"?"paddingLeft":"paddingRight"]=M,y.current.style.width=`calc(100% + ${M})`}return y.current}}),[]);const w=E=>{const _=y.current,k=E.key;if(E.ctrlKey||E.metaKey||E.altKey){h&&h(E);return}const T=Oi(_).activeElement;if(k==="ArrowDown")E.preventDefault(),kh(_,T,d,u,ox);else if(k==="ArrowUp")E.preventDefault(),kh(_,T,d,u,uR);else if(k==="Home")E.preventDefault(),kh(_,null,d,u,ox);else if(k==="End")E.preventDefault(),kh(_,null,d,u,uR);else if(k.length===1){const N=b.current,W=k.toLowerCase(),P=performance.now();N.keys.length>0&&(P-N.lastTime>500?(N.keys=[],N.repeating=!0,N.previousKeyMatched=!0):N.repeating&&W!==N.keys[0]&&(N.repeating=!1)),N.lastTime=P,N.keys.push(W);const V=T&&!N.repeating&&sI(T,N);N.previousKeyMatched&&(V||kh(_,T,!1,u,ox,N))?E.preventDefault():N.previousKeyMatched=!1}h&&h(E)},C=sr(y,t);let x=-1;I.Children.forEach(a,(E,_)=>{if(!I.isValidElement(E)){x===_&&(x+=1,x>=a.length&&(x=-1));return}E.props.disabled||(p==="selectedMenu"&&E.props.selected||x===-1)&&(x=_),x===_&&(E.props.disabled||E.props.muiSkipListHighlight||E.type.muiSkipListHighlight)&&(x+=1,x>=a.length&&(x=-1))});const A=I.Children.map(a,(E,_)=>{if(_===x){const k={};return s&&(k.autoFocus=!0),E.props.tabIndex===void 0&&p==="selectedMenu"&&(k.tabIndex=0),I.cloneElement(E,k)}return E});return L.jsx(bU,{role:"menu",ref:C,className:l,onKeyDown:w,tabIndex:i?0:-1,...g,children:A})});function xU(n){return rt("MuiPopover",n)}Ye("MuiPopover",["root","paper"]);function dR(n,e){let t=0;return typeof e=="number"?t=e:e==="center"?t=n.height/2:e==="bottom"&&(t=n.height),t}function hR(n,e){let t=0;return typeof e=="number"?t=e:e==="center"?t=n.width/2:e==="right"&&(t=n.width),t}function fR(n){return[n.horizontal,n.vertical].map(e=>typeof e=="number"?`${e}px`:e).join(" ")}function ax(n){return typeof n=="function"?n():n}const SU=n=>{const{classes:e}=n;return it({root:["root"],paper:["paper"]},xU,e)},EU=Ce(nI,{name:"MuiPopover",slot:"Root",overridesResolver:(n,e)=>e.root})({}),oI=Ce(nE,{name:"MuiPopover",slot:"Paper",overridesResolver:(n,e)=>e.paper})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),CU=I.forwardRef(function(e,t){const r=ht({props:e,name:"MuiPopover"}),{action:i,anchorEl:s,anchorOrigin:a={vertical:"top",horizontal:"left"},anchorPosition:l,anchorReference:u="anchorEl",children:d,className:h,container:p,elevation:g=8,marginThreshold:y=16,open:b,PaperProps:w={},slots:C={},slotProps:x={},transformOrigin:A={vertical:"top",horizontal:"left"},TransitionComponent:E,transitionDuration:_="auto",TransitionProps:k={},disableScrollLock:M=!1,...T}=r,N=I.useRef(),W={...r,anchorOrigin:a,anchorReference:u,elevation:g,marginThreshold:y,transformOrigin:A,TransitionComponent:E,transitionDuration:_,TransitionProps:k},P=SU(W),V=I.useCallback(()=>{if(u==="anchorPosition")return l;const pe=ax(s),ge=(pe&&pe.nodeType===1?pe:Oi(N.current).body).getBoundingClientRect();return{top:ge.top+dR(ge,a.vertical),left:ge.left+hR(ge,a.horizontal)}},[s,a.horizontal,a.vertical,l,u]),X=I.useCallback(pe=>({vertical:dR(pe,A.vertical),horizontal:hR(pe,A.horizontal)}),[A.horizontal,A.vertical]),Y=I.useCallback(pe=>{const me={width:pe.offsetWidth,height:pe.offsetHeight},ge=X(me);if(u==="none")return{top:null,left:null,transformOrigin:fR(ge)};const Re=V();let be=Re.top-ge.vertical,je=Re.left-ge.horizontal;const mt=be+me.height,Dt=je+me.width,Tt=_o(ax(s)),yn=Tt.innerHeight-y,St=Tt.innerWidth-y;if(y!==null&&be<y){const ut=be-y;be-=ut,ge.vertical+=ut}else if(y!==null&&mt>yn){const ut=mt-yn;be-=ut,ge.vertical+=ut}if(y!==null&&je<y){const ut=je-y;je-=ut,ge.horizontal+=ut}else if(Dt>St){const ut=Dt-St;je-=ut,ge.horizontal+=ut}return{top:`${Math.round(be)}px`,left:`${Math.round(je)}px`,transformOrigin:fR(ge)}},[s,u,V,X,y]),[D,G]=I.useState(b),j=I.useCallback(()=>{const pe=N.current;if(!pe)return;const me=Y(pe);me.top!==null&&pe.style.setProperty("top",me.top),me.left!==null&&(pe.style.left=me.left),pe.style.transformOrigin=me.transformOrigin,G(!0)},[Y]);I.useEffect(()=>(M&&window.addEventListener("scroll",j),()=>window.removeEventListener("scroll",j)),[s,M,j]);const q=()=>{j()},$=()=>{G(!1)};I.useEffect(()=>{b&&j()}),I.useImperativeHandle(i,()=>b?{updatePosition:()=>{j()}}:null,[b,j]),I.useEffect(()=>{if(!b)return;const pe=LM(()=>{j()}),me=_o(s);return me.addEventListener("resize",pe),()=>{pe.clear(),me.removeEventListener("resize",pe)}},[s,b,j]);let B=_;const K={slots:{transition:E,...C},slotProps:{transition:k,paper:w,...x}},[U,Z]=jt("transition",{elementType:eS,externalForwardedProps:K,ownerState:W,getSlotProps:pe=>({...pe,onEntering:(me,ge)=>{var Re;(Re=pe.onEntering)==null||Re.call(pe,me,ge),q()},onExited:me=>{var ge;(ge=pe.onExited)==null||ge.call(pe,me),$()}}),additionalProps:{appear:!0,in:b}});_==="auto"&&!U.muiSupportAuto&&(B=void 0);const re=p||(s?Oi(ax(s)).body:void 0),[le,{slots:se,slotProps:ce,...ee}]=jt("root",{ref:t,elementType:EU,externalForwardedProps:{...K,...T},shouldForwardComponentProp:!0,additionalProps:{slots:{backdrop:C.backdrop},slotProps:{backdrop:qM(typeof x.backdrop=="function"?x.backdrop(W):x.backdrop,{invisible:!0})},container:re,open:b},ownerState:W,className:ze(P.root,h)}),[oe,de]=jt("paper",{ref:N,className:P.paper,elementType:oI,externalForwardedProps:K,shouldForwardComponentProp:!0,additionalProps:{elevation:g,style:D?void 0:{opacity:0}},ownerState:W});return L.jsx(le,{...ee,...!Qx(le)&&{slots:se,slotProps:ce,disableScrollLock:M},children:L.jsx(U,{...Z,timeout:B,children:L.jsx(oe,{...de,children:d})})})});function _U(n){return rt("MuiMenu",n)}Ye("MuiMenu",["root","paper","list"]);const AU={vertical:"top",horizontal:"right"},kU={vertical:"top",horizontal:"left"},RU=n=>{const{classes:e}=n;return it({root:["root"],paper:["paper"],list:["list"]},_U,e)},TU=Ce(CU,{shouldForwardProp:n=>Er(n)||n==="classes",name:"MuiMenu",slot:"Root",overridesResolver:(n,e)=>e.root})({}),PU=Ce(oI,{name:"MuiMenu",slot:"Paper",overridesResolver:(n,e)=>e.paper})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),MU=Ce(wU,{name:"MuiMenu",slot:"List",overridesResolver:(n,e)=>e.list})({outline:0}),IU=I.forwardRef(function(e,t){const r=ht({props:e,name:"MuiMenu"}),{autoFocus:i=!0,children:s,className:a,disableAutoFocusItem:l=!1,MenuListProps:u={},onClose:d,open:h,PaperProps:p={},PopoverClasses:g,transitionDuration:y="auto",TransitionProps:{onEntering:b,...w}={},variant:C="selectedMenu",slots:x={},slotProps:A={},...E}=r,_=Dj(),k={...r,autoFocus:i,disableAutoFocusItem:l,MenuListProps:u,onEntering:b,PaperProps:p,transitionDuration:y,TransitionProps:w,variant:C},M=RU(k),T=i&&!l&&h,N=I.useRef(null),W=(B,K)=>{N.current&&N.current.adjustStyleForScrollbar(B,{direction:_?"rtl":"ltr"}),b&&b(B,K)},P=B=>{B.key==="Tab"&&(B.preventDefault(),d&&d(B,"tabKeyDown"))};let V=-1;I.Children.map(s,(B,K)=>{I.isValidElement(B)&&(B.props.disabled||(C==="selectedMenu"&&B.props.selected||V===-1)&&(V=K))});const X={slots:x,slotProps:{list:u,transition:w,paper:p,...A}},Y=Nj({elementType:x.root,externalSlotProps:A.root,ownerState:k,className:[M.root,a]}),[D,G]=jt("paper",{className:M.paper,elementType:PU,externalForwardedProps:X,shouldForwardComponentProp:!0,ownerState:k}),[j,q]=jt("list",{className:ze(M.list,u.className),elementType:MU,shouldForwardComponentProp:!0,externalForwardedProps:X,getSlotProps:B=>({...B,onKeyDown:K=>{var U;P(K),(U=B.onKeyDown)==null||U.call(B,K)}}),ownerState:k}),$=typeof X.slotProps.transition=="function"?X.slotProps.transition(k):X.slotProps.transition;return L.jsx(TU,{onClose:d,anchorOrigin:{vertical:"bottom",horizontal:_?"right":"left"},transformOrigin:_?AU:kU,slots:{root:x.root,paper:D,backdrop:x.backdrop,...x.transition&&{transition:x.transition}},slotProps:{root:Y,paper:G,backdrop:typeof A.backdrop=="function"?A.backdrop(k):A.backdrop,transition:{...$,onEntering:(...B)=>{var K;W(...B),(K=$==null?void 0:$.onEntering)==null||K.call($,...B)}}},open:h,ref:t,transitionDuration:y,ownerState:k,...E,classes:g,children:L.jsx(j,{actions:N,autoFocus:i&&(V===-1||l),autoFocusItem:T,variant:C,...q,children:s})})});function NU(n){return rt("MuiMenuItem",n)}const Rh=Ye("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),LU=(n,e)=>{const{ownerState:t}=n;return[e.root,t.dense&&e.dense,t.divider&&e.divider,!t.disableGutters&&e.gutters]},DU=n=>{const{disabled:e,dense:t,divider:r,disableGutters:i,selected:s,classes:a}=n,u=it({root:["root",t&&"dense",e&&"disabled",!i&&"gutters",r&&"divider",s&&"selected"]},NU,a);return{...a,...u}},OU=Ce(bv,{shouldForwardProp:n=>Er(n)||n==="classes",name:"MuiMenuItem",slot:"Root",overridesResolver:LU})(xt(({theme:n})=>({...n.typography.body1,display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap","&:hover":{textDecoration:"none",backgroundColor:(n.vars||n).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${Rh.selected}`]:{backgroundColor:n.vars?`rgba(${n.vars.palette.primary.mainChannel} / ${n.vars.palette.action.selectedOpacity})`:Un(n.palette.primary.main,n.palette.action.selectedOpacity),[`&.${Rh.focusVisible}`]:{backgroundColor:n.vars?`rgba(${n.vars.palette.primary.mainChannel} / calc(${n.vars.palette.action.selectedOpacity} + ${n.vars.palette.action.focusOpacity}))`:Un(n.palette.primary.main,n.palette.action.selectedOpacity+n.palette.action.focusOpacity)}},[`&.${Rh.selected}:hover`]:{backgroundColor:n.vars?`rgba(${n.vars.palette.primary.mainChannel} / calc(${n.vars.palette.action.selectedOpacity} + ${n.vars.palette.action.hoverOpacity}))`:Un(n.palette.primary.main,n.palette.action.selectedOpacity+n.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:n.vars?`rgba(${n.vars.palette.primary.mainChannel} / ${n.vars.palette.action.selectedOpacity})`:Un(n.palette.primary.main,n.palette.action.selectedOpacity)}},[`&.${Rh.focusVisible}`]:{backgroundColor:(n.vars||n).palette.action.focus},[`&.${Rh.disabled}`]:{opacity:(n.vars||n).palette.action.disabledOpacity},[`& + .${sR.root}`]:{marginTop:n.spacing(1),marginBottom:n.spacing(1)},[`& + .${sR.inset}`]:{marginLeft:52},[`& .${cR.root}`]:{marginTop:0,marginBottom:0},[`& .${cR.inset}`]:{paddingLeft:36},[`& .${lR.root}`]:{minWidth:36},variants:[{props:({ownerState:e})=>!e.disableGutters,style:{paddingLeft:16,paddingRight:16}},{props:({ownerState:e})=>e.divider,style:{borderBottom:`1px solid ${(n.vars||n).palette.divider}`,backgroundClip:"padding-box"}},{props:({ownerState:e})=>!e.dense,style:{[n.breakpoints.up("sm")]:{minHeight:"auto"}}},{props:({ownerState:e})=>e.dense,style:{minHeight:32,paddingTop:4,paddingBottom:4,...n.typography.body2,[`& .${lR.root} svg`]:{fontSize:"1.25rem"}}}]}))),FU=I.forwardRef(function(e,t){const r=ht({props:e,name:"MuiMenuItem"}),{autoFocus:i=!1,component:s="li",dense:a=!1,divider:l=!1,disableGutters:u=!1,focusVisibleClassName:d,role:h="menuitem",tabIndex:p,className:g,...y}=r,b=I.useContext(tS),w=I.useMemo(()=>({dense:a||b.dense||!1,disableGutters:u}),[b.dense,a,u]),C=I.useRef(null);Da(()=>{i&&C.current&&C.current.focus()},[i]);const x={...r,dense:w.dense,divider:l,disableGutters:u},A=DU(r),E=sr(C,t);let _;return r.disabled||(_=p!==void 0?p:-1),L.jsx(tS.Provider,{value:w,children:L.jsx(OU,{ref:E,role:h,tabIndex:_,component:s,focusVisibleClassName:ze(A.focusVisible,d),className:ze(A.root,g),...y,ownerState:x,classes:A})})});function zU(n){return rt("MuiNativeSelect",n)}const aE=Ye("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),$U=n=>{const{classes:e,variant:t,disabled:r,multiple:i,open:s,error:a}=n,l={select:["select",t,r&&"disabled",i&&"multiple",a&&"error"],icon:["icon",`icon${Ne(t)}`,s&&"iconOpen",r&&"disabled"]};return it(l,zU,e)},aI=Ce("select")(({theme:n})=>({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":{borderRadius:0},[`&.${aE.disabled}`]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(n.vars||n).palette.background.paper},variants:[{props:({ownerState:e})=>e.variant!=="filled"&&e.variant!=="outlined",style:{"&&&":{paddingRight:24,minWidth:16}}},{props:{variant:"filled"},style:{"&&&":{paddingRight:32}}},{props:{variant:"outlined"},style:{borderRadius:(n.vars||n).shape.borderRadius,"&:focus":{borderRadius:(n.vars||n).shape.borderRadius},"&&&":{paddingRight:32}}}]})),BU=Ce(aI,{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:Er,overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.select,e[t.variant],t.error&&e.error,{[`&.${aE.multiple}`]:e.multiple}]}})({}),lI=Ce("svg")(({theme:n})=>({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(n.vars||n).palette.action.active,[`&.${aE.disabled}`]:{color:(n.vars||n).palette.action.disabled},variants:[{props:({ownerState:e})=>e.open,style:{transform:"rotate(180deg)"}},{props:{variant:"filled"},style:{right:7}},{props:{variant:"outlined"},style:{right:7}}]})),HU=Ce(lI,{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.icon,t.variant&&e[`icon${Ne(t.variant)}`],t.open&&e.iconOpen]}})({}),jU=I.forwardRef(function(e,t){const{className:r,disabled:i,error:s,IconComponent:a,inputRef:l,variant:u="standard",...d}=e,h={...e,disabled:i,variant:u,error:s},p=$U(h);return L.jsxs(I.Fragment,{children:[L.jsx(BU,{ownerState:h,className:ze(p.select,r),disabled:i,ref:l||t,...d}),e.multiple?null:L.jsx(HU,{as:a,ownerState:h,className:p.icon})]})});var pR;const WU=Ce("fieldset",{shouldForwardProp:Er})({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),UU=Ce("legend",{shouldForwardProp:Er})(xt(({theme:n})=>({float:"unset",width:"auto",overflow:"hidden",variants:[{props:({ownerState:e})=>!e.withLabel,style:{padding:0,lineHeight:"11px",transition:n.transitions.create("width",{duration:150,easing:n.transitions.easing.easeOut})}},{props:({ownerState:e})=>e.withLabel,style:{display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:n.transitions.create("max-width",{duration:50,easing:n.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}}},{props:({ownerState:e})=>e.withLabel&&e.notched,style:{maxWidth:"100%",transition:n.transitions.create("max-width",{duration:100,easing:n.transitions.easing.easeOut,delay:50})}}]})));function VU(n){const{children:e,classes:t,className:r,label:i,notched:s,...a}=n,l=i!=null&&i!=="",u={...n,notched:s,withLabel:l};return L.jsx(WU,{"aria-hidden":!0,className:r,ownerState:u,...a,children:L.jsx(UU,{ownerState:u,children:l?L.jsx("span",{children:i}):pR||(pR=L.jsx("span",{className:"notranslate","aria-hidden":!0,children:"​"}))})})}const GU=n=>{const{classes:e}=n,r=it({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},_W,e);return{...e,...r}},XU=Ce(Sv,{shouldForwardProp:n=>Er(n)||n==="classes",name:"MuiOutlinedInput",slot:"Root",overridesResolver:wv})(xt(({theme:n})=>{const e=n.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{position:"relative",borderRadius:(n.vars||n).shape.borderRadius,[`&:hover .${Yi.notchedOutline}`]:{borderColor:(n.vars||n).palette.text.primary},"@media (hover: none)":{[`&:hover .${Yi.notchedOutline}`]:{borderColor:n.vars?`rgba(${n.vars.palette.common.onBackgroundChannel} / 0.23)`:e}},[`&.${Yi.focused} .${Yi.notchedOutline}`]:{borderWidth:2},variants:[...Object.entries(n.palette).filter(Fi()).map(([t])=>({props:{color:t},style:{[`&.${Yi.focused} .${Yi.notchedOutline}`]:{borderColor:(n.vars||n).palette[t].main}}})),{props:{},style:{[`&.${Yi.error} .${Yi.notchedOutline}`]:{borderColor:(n.vars||n).palette.error.main},[`&.${Yi.disabled} .${Yi.notchedOutline}`]:{borderColor:(n.vars||n).palette.action.disabled}}},{props:({ownerState:t})=>t.startAdornment,style:{paddingLeft:14}},{props:({ownerState:t})=>t.endAdornment,style:{paddingRight:14}},{props:({ownerState:t})=>t.multiline,style:{padding:"16.5px 14px"}},{props:({ownerState:t,size:r})=>t.multiline&&r==="small",style:{padding:"8.5px 14px"}}]}})),YU=Ce(VU,{name:"MuiOutlinedInput",slot:"NotchedOutline",overridesResolver:(n,e)=>e.notchedOutline})(xt(({theme:n})=>{const e=n.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:n.vars?`rgba(${n.vars.palette.common.onBackgroundChannel} / 0.23)`:e}})),qU=Ce(Ev,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:xv})(xt(({theme:n})=>({padding:"16.5px 14px",...!n.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:n.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:n.palette.mode==="light"?null:"#fff",caretColor:n.palette.mode==="light"?null:"#fff",borderRadius:"inherit"}},...n.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[n.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},variants:[{props:{size:"small"},style:{padding:"8.5px 14px"}},{props:({ownerState:e})=>e.multiline,style:{padding:0}},{props:({ownerState:e})=>e.startAdornment,style:{paddingLeft:0}},{props:({ownerState:e})=>e.endAdornment,style:{paddingRight:0}}]}))),lE=I.forwardRef(function(e,t){var r;const i=ht({props:e,name:"MuiOutlinedInput"}),{components:s={},fullWidth:a=!1,inputComponent:l="input",label:u,multiline:d=!1,notched:h,slots:p={},type:g="text",...y}=i,b=GU(i),w=Ha(),C=_c({props:i,muiFormControl:w,states:["color","disabled","error","focused","hiddenLabel","size","required"]}),x={...i,color:C.color||"primary",disabled:C.disabled,error:C.error,focused:C.focused,formControl:w,fullWidth:a,hiddenLabel:C.hiddenLabel,multiline:d,size:C.size,type:g},A=p.root??s.Root??XU,E=p.input??s.Input??qU;return L.jsx(iE,{slots:{root:A,input:E},renderSuffix:_=>L.jsx(YU,{ownerState:x,className:b.notchedOutline,label:u!=null&&u!==""&&C.required?r||(r=L.jsxs(I.Fragment,{children:[u," ","*"]})):u,notched:typeof h<"u"?h:!!(_.startAdornment||_.filled||_.focused)}),fullWidth:a,inputComponent:l,multiline:d,ref:t,type:g,...y,classes:{...b,notchedOutline:null}})});lE.muiName="Input";function cI(n){return rt("MuiSelect",n)}const Th=Ye("MuiSelect",["root","select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]);var gR;const KU=Ce(aI,{name:"MuiSelect",slot:"Select",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[{[`&.${Th.select}`]:e.select},{[`&.${Th.select}`]:e[t.variant]},{[`&.${Th.error}`]:e.error},{[`&.${Th.multiple}`]:e.multiple}]}})({[`&.${Th.select}`]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),QU=Ce(lI,{name:"MuiSelect",slot:"Icon",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.icon,t.variant&&e[`icon${Ne(t.variant)}`],t.open&&e.iconOpen]}})({}),ZU=Ce("input",{shouldForwardProp:n=>YM(n)&&n!=="classes",name:"MuiSelect",slot:"NativeInput",overridesResolver:(n,e)=>e.nativeInput})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function mR(n,e){return typeof e=="object"&&e!==null?n===e:String(n)===String(e)}function JU(n){return n==null||typeof n=="string"&&!n.trim()}const eV=n=>{const{classes:e,variant:t,disabled:r,multiple:i,open:s,error:a}=n,l={select:["select",t,r&&"disabled",i&&"multiple",a&&"error"],icon:["icon",`icon${Ne(t)}`,s&&"iconOpen",r&&"disabled"],nativeInput:["nativeInput"]};return it(l,cI,e)},tV=I.forwardRef(function(e,t){var Wa;const{"aria-describedby":r,"aria-label":i,autoFocus:s,autoWidth:a,children:l,className:u,defaultOpen:d,defaultValue:h,disabled:p,displayEmpty:g,error:y=!1,IconComponent:b,inputRef:w,labelId:C,MenuProps:x={},multiple:A,name:E,onBlur:_,onChange:k,onClose:M,onFocus:T,onOpen:N,open:W,readOnly:P,renderValue:V,required:X,SelectDisplayProps:Y={},tabIndex:D,type:G,value:j,variant:q="standard",...$}=e,[B,K]=jx({controlled:j,default:h,name:"Select"}),[U,Z]=jx({controlled:W,default:d,name:"Select"}),re=I.useRef(null),le=I.useRef(null),[se,ce]=I.useState(null),{current:ee}=I.useRef(W!=null),[oe,de]=I.useState(),pe=sr(t,w),me=I.useCallback(De=>{le.current=De,De&&ce(De)},[]),ge=se==null?void 0:se.parentNode;I.useImperativeHandle(pe,()=>({focus:()=>{le.current.focus()},node:re.current,value:B}),[B]),I.useEffect(()=>{d&&U&&se&&!ee&&(de(a?null:ge.clientWidth),le.current.focus())},[se,a]),I.useEffect(()=>{s&&le.current.focus()},[s]),I.useEffect(()=>{if(!C)return;const De=Oi(le.current).getElementById(C);if(De){const st=()=>{getSelection().isCollapsed&&le.current.focus()};return De.addEventListener("click",st),()=>{De.removeEventListener("click",st)}}},[C]);const Re=(De,st)=>{De?N&&N(st):M&&M(st),ee||(de(a?null:ge.clientWidth),Z(De))},be=De=>{De.button===0&&(De.preventDefault(),le.current.focus(),Re(!0,De))},je=De=>{Re(!1,De)},mt=I.Children.toArray(l),Dt=De=>{const st=mt.find(Ot=>Ot.props.value===De.target.value);st!==void 0&&(K(st.props.value),k&&k(De,st))},Tt=De=>st=>{let Ot;if(st.currentTarget.hasAttribute("tabindex")){if(A){Ot=Array.isArray(B)?B.slice():[];const Xr=B.indexOf(De.props.value);Xr===-1?Ot.push(De.props.value):Ot.splice(Xr,1)}else Ot=De.props.value;if(De.props.onClick&&De.props.onClick(st),B!==Ot&&(K(Ot),k)){const Xr=st.nativeEvent||st,Po=new Xr.constructor(Xr.type,Xr);Object.defineProperty(Po,"target",{writable:!0,value:{value:Ot,name:E}}),k(Po,De)}A||Re(!1,st)}},yn=De=>{P||[" ","ArrowUp","ArrowDown","Enter"].includes(De.key)&&(De.preventDefault(),Re(!0,De))},St=se!==null&&U,ut=De=>{!St&&_&&(Object.defineProperty(De,"target",{writable:!0,value:{value:B,name:E}}),_(De))};delete $["aria-invalid"];let Te,Yn;const Yt=[];let qn=!1;(m0({value:B})||g)&&(V?Te=V(B):qn=!0);const or=mt.map(De=>{if(!I.isValidElement(De))return null;let st;if(A){if(!Array.isArray(B))throw new Error(Eo(2));st=B.some(Ot=>mR(Ot,De.props.value)),st&&qn&&Yt.push(De.props.children)}else st=mR(B,De.props.value),st&&qn&&(Yn=De.props.children);return I.cloneElement(De,{"aria-selected":st?"true":"false",onClick:Tt(De),onKeyUp:Ot=>{Ot.key===" "&&Ot.preventDefault(),De.props.onKeyUp&&De.props.onKeyUp(Ot)},role:"option",selected:st,value:void 0,"data-value":De.props.value})});qn&&(A?Yt.length===0?Te=null:Te=Yt.reduce((De,st,Ot)=>(De.push(st),Ot<Yt.length-1&&De.push(", "),De),[]):Te=Yn);let ar=oe;!a&&ee&&se&&(ar=ge.clientWidth);let Cr;typeof D<"u"?Cr=D:Cr=p?null:0;const _r=Y.id||(E?`mui-component-select-${E}`:void 0),Kn={...e,variant:q,value:B,open:St,error:y},et=eV(Kn),Bi={...x.PaperProps,...(Wa=x.slotProps)==null?void 0:Wa.paper},Hi=_g();return L.jsxs(I.Fragment,{children:[L.jsx(KU,{as:"div",ref:me,tabIndex:Cr,role:"combobox","aria-controls":St?Hi:void 0,"aria-disabled":p?"true":void 0,"aria-expanded":St?"true":"false","aria-haspopup":"listbox","aria-label":i,"aria-labelledby":[C,_r].filter(Boolean).join(" ")||void 0,"aria-describedby":r,"aria-required":X?"true":void 0,"aria-invalid":y?"true":void 0,onKeyDown:yn,onMouseDown:p||P?null:be,onBlur:ut,onFocus:T,...Y,ownerState:Kn,className:ze(Y.className,et.select,u),id:_r,children:JU(Te)?gR||(gR=L.jsx("span",{className:"notranslate","aria-hidden":!0,children:"​"})):Te}),L.jsx(ZU,{"aria-invalid":y,value:Array.isArray(B)?B.join(","):B,name:E,ref:re,"aria-hidden":!0,onChange:Dt,tabIndex:-1,disabled:p,className:et.nativeInput,autoFocus:s,required:X,...$,ownerState:Kn}),L.jsx(QU,{as:b,className:et.icon,ownerState:Kn}),L.jsx(IU,{id:`menu-${E||""}`,anchorEl:ge,open:St,onClose:je,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},...x,slotProps:{...x.slotProps,list:{"aria-labelledby":C,role:"listbox","aria-multiselectable":A?"true":void 0,disableListWrap:!0,id:Hi,...x.MenuListProps},paper:{...Bi,style:{minWidth:ar,...Bi!=null?Bi.style:null}}},children:or})]})}),nV=n=>{const{classes:e}=n,r=it({root:["root"]},cI,e);return{...e,...r}},cE={name:"MuiSelect",overridesResolver:(n,e)=>e.root,shouldForwardProp:n=>Er(n)&&n!=="variant",slot:"Root"},rV=Ce(oE,cE)(""),iV=Ce(lE,cE)(""),sV=Ce(sE,cE)(""),uE=I.forwardRef(function(e,t){const r=ht({name:"MuiSelect",props:e}),{autoWidth:i=!1,children:s,classes:a={},className:l,defaultOpen:u=!1,displayEmpty:d=!1,IconComponent:h=kW,id:p,input:g,inputProps:y,label:b,labelId:w,MenuProps:C,multiple:x=!1,native:A=!1,onClose:E,onOpen:_,open:k,renderValue:M,SelectDisplayProps:T,variant:N="outlined",...W}=r,P=A?jU:tV,V=Ha(),X=_c({props:r,muiFormControl:V,states:["variant","error"]}),Y=X.variant||N,D={...r,variant:Y,classes:a},G=nV(D),{root:j,...q}=G,$=g||{standard:L.jsx(rV,{ownerState:D}),outlined:L.jsx(iV,{label:b,ownerState:D}),filled:L.jsx(sV,{ownerState:D})}[Y],B=sr(t,Ag($));return L.jsx(I.Fragment,{children:I.cloneElement($,{inputComponent:P,inputProps:{children:s,error:X.error,IconComponent:h,variant:Y,type:void 0,multiple:x,...A?{id:p}:{autoWidth:i,defaultOpen:u,displayEmpty:d,labelId:w,MenuProps:C,onClose:E,onOpen:_,open:k,renderValue:M,SelectDisplayProps:{id:p,...T}},...y,classes:y?Xn(q,y.classes):q,...g?g.props.inputProps:{}},...(x&&A||d)&&Y==="outlined"?{notched:!0}:{},ref:B,className:ze($.props.className,l,G.root),...!g&&{variant:Y},...W})})});uE.muiName="Select";function oV(n){return rt("MuiTextField",n)}Ye("MuiTextField",["root"]);const aV={standard:oE,filled:sE,outlined:lE},lV=n=>{const{classes:e}=n;return it({root:["root"]},oV,e)},cV=Ce(iI,{name:"MuiTextField",slot:"Root",overridesResolver:(n,e)=>e.root})({}),nS=I.forwardRef(function(e,t){const r=ht({props:e,name:"MuiTextField"}),{autoComplete:i,autoFocus:s=!1,children:a,className:l,color:u="primary",defaultValue:d,disabled:h=!1,error:p=!1,FormHelperTextProps:g,fullWidth:y=!1,helperText:b,id:w,InputLabelProps:C,inputProps:x,InputProps:A,inputRef:E,label:_,maxRows:k,minRows:M,multiline:T=!1,name:N,onBlur:W,onChange:P,onFocus:V,placeholder:X,required:Y=!1,rows:D,select:G=!1,SelectProps:j,slots:q={},slotProps:$={},type:B,value:K,variant:U="outlined",...Z}=r,re={...r,autoFocus:s,color:u,disabled:h,error:p,fullWidth:y,multiline:T,required:Y,select:G,variant:U},le=lV(re),se=_g(w),ce=b&&se?`${se}-helper-text`:void 0,ee=_&&se?`${se}-label`:void 0,oe=aV[U],de={slots:q,slotProps:{input:A,inputLabel:C,htmlInput:x,formHelperText:g,select:j,...$}},pe={},me=de.slotProps.inputLabel;U==="outlined"&&(me&&typeof me.shrink<"u"&&(pe.notched=me.shrink),pe.label=_),G&&((!j||!j.native)&&(pe.id=void 0),pe["aria-describedby"]=void 0);const[ge,Re]=jt("input",{elementType:oe,externalForwardedProps:de,additionalProps:pe,ownerState:re}),[be,je]=jt("inputLabel",{elementType:gU,externalForwardedProps:de,ownerState:re}),[mt,Dt]=jt("htmlInput",{elementType:"input",externalForwardedProps:de,ownerState:re}),[Tt,yn]=jt("formHelperText",{elementType:nU,externalForwardedProps:de,ownerState:re}),[St,ut]=jt("select",{elementType:uE,externalForwardedProps:de,ownerState:re}),Te=L.jsx(ge,{"aria-describedby":ce,autoComplete:i,autoFocus:s,defaultValue:d,fullWidth:y,multiline:T,name:N,rows:D,maxRows:k,minRows:M,type:B,value:K,id:se,inputRef:E,onBlur:W,onChange:P,onFocus:V,placeholder:X,inputProps:Dt,slots:{input:q.htmlInput?mt:void 0},...Re});return L.jsxs(cV,{className:ze(le.root,l),disabled:h,error:p,fullWidth:y,ref:t,required:Y,color:u,variant:U,ownerState:re,...Z,children:[_!=null&&_!==""&&L.jsx(be,{htmlFor:se,id:ee,...je,children:_}),G?L.jsx(St,{"aria-describedby":ce,id:se,labelId:ee,value:K,input:Te,...ut,children:a}):Te,b&&L.jsx(Tt,{id:ce,...yn,children:b})]})}),yR=$i(L.jsx("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6z"}),"Add"),uV=$i(L.jsx("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20z"}),"ArrowBack"),dV=$i(L.jsx("path",{d:"m12 4-1.41 1.41L16.17 11H4v2h12.17l-5.58 5.59L12 20l8-8z"}),"ArrowForward"),hV=$i(L.jsx("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close"),fV=$i(L.jsx("path",{d:"M22 3.41 16.71 8.7 20 12h-8V4l3.29 3.29L20.59 2zM3.41 22l5.29-5.29L12 20v-8H4l3.29 3.29L2 20.59z"}),"CloseFullscreen"),pV=$i(L.jsx("path",{d:"M21 11V3h-8l3.29 3.29-10 10L3 13v8h8l-3.29-3.29 10-10z"}),"OpenInFull"),gV=$i(L.jsx("path",{d:"M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8zm4 18H6V4h7v5h5zM8 15.01l1.41 1.41L11 14.84V19h2v-4.16l1.59 1.59L16 15.01 12.01 11z"}),"UploadFile"),mV="/re-ad/re-ad-logo.png";function yV(){const n=I.useContext(To);if(!n)throw new Error("PaperContext not found");const{paperUrl:e,readRecords:t,currentReadId:r,setCurrentReadId:i,setIsAddingNewRead:s,displayedReads:a,hideRead:l,showRead:u}=n,d=()=>{if(!e){alert("Please upload a paper first");return}s(!0)};return L.jsxs("div",{className:"NavBar",children:[L.jsxs("div",{className:"logo-text",children:[L.jsx("img",{src:mV,height:40}),L.jsx("h3",{children:"e:ad"})]}),L.jsxs(rn,{className:"highlights",sx:{mx:2},children:[Object.values(t).length>0&&Object.values(t).map(h=>L.jsx(rn,{className:"read",sx:{borderBottom:r===h.id?`2px solid ${h.color}`:"none"},children:L.jsx(Z6,{control:L.jsx(n6,{onChange:()=>{a.includes(h.id)?l(h.id):u(h.id)},sx:{color:h.color,"&.Mui-checked":{color:h.color}},checked:a.includes(h.id),disabled:r===h.id}),label:h.title})},h.id)),Object.values(t).length>0?L.jsx(Rf,{onClick:d,children:L.jsx(yR,{})}):L.jsx(Id,{className:"mui-button",size:"small",variant:"text",startIcon:L.jsx(yR,{}),onClick:d,children:L.jsx("span",{style:{lineHeight:0},children:"NEW READ"})})]}),L.jsxs(rn,{sx:{mx:3,display:"flex",flexDirection:"row",alignItems:"center",gap:1},children:[L.jsx("h4",{children:"Active Read:"}),Object.values(t).length>0?L.jsx("div",{children:L.jsx(iI,{size:"small",fullWidth:!0,children:L.jsx(uE,{value:r,onChange:h=>i(h.target.value),sx:{"& .MuiOutlinedInput-notchedOutline":{borderColor:t[r].color},"&:hover .MuiOutlinedInput-notchedOutline":{borderColor:t[r].color},"&.Mui-focused .MuiOutlinedInput-notchedOutline":{borderColor:t[r].color}},children:Object.values(t).map(h=>L.jsx(FU,{value:h.id,children:h.title},h.id))})})}):L.jsx("div",{children:L.jsx("p",{children:"None"})})]})]})}const vV="modulepreload",bV=function(n){return"/re-ad/"+n},vR={},Hh=function(e,t,r){let i=Promise.resolve();if(t&&t.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),l=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));i=Promise.allSettled(t.map(u=>{if(u=bV(u),u in vR)return;vR[u]=!0;const d=u.endsWith(".css"),h=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${h}`))return;const p=document.createElement("link");if(p.rel=d?"stylesheet":vV,d||(p.as="script"),p.crossOrigin="",p.href=u,l&&p.setAttribute("nonce",l),document.head.appendChild(p),d)return new Promise((g,y)=>{p.addEventListener("load",g),p.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${u}`)))})}))}function s(a){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=a,window.dispatchEvent(l),!l.defaultPrevented)throw a}return i.then(a=>{for(const l of a||[])l.status==="rejected"&&s(l.reason);return e().catch(s)})};var lx,bR;function wV(){if(bR)return lx;bR=1;var n="Expected a function",e=NaN,t="[object Symbol]",r=/^\s+|\s+$/g,i=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,a=/^0o[0-7]+$/i,l=parseInt,u=typeof Gm=="object"&&Gm&&Gm.Object===Object&&Gm,d=typeof self=="object"&&self&&self.Object===Object&&self,h=u||d||Function("return this")(),p=Object.prototype,g=p.toString,y=Math.max,b=Math.min,w=function(){return h.Date.now()};function C(k,M,T){var N,W,P,V,X,Y,D=0,G=!1,j=!1,q=!0;if(typeof k!="function")throw new TypeError(n);M=_(M)||0,x(T)&&(G=!!T.leading,j="maxWait"in T,P=j?y(_(T.maxWait)||0,M):P,q="trailing"in T?!!T.trailing:q);function $(ee){var oe=N,de=W;return N=W=void 0,D=ee,V=k.apply(de,oe),V}function B(ee){return D=ee,X=setTimeout(Z,M),G?$(ee):V}function K(ee){var oe=ee-Y,de=ee-D,pe=M-oe;return j?b(pe,P-de):pe}function U(ee){var oe=ee-Y,de=ee-D;return Y===void 0||oe>=M||oe<0||j&&de>=P}function Z(){var ee=w();if(U(ee))return re(ee);X=setTimeout(Z,K(ee))}function re(ee){return X=void 0,q&&N?$(ee):(N=W=void 0,V)}function le(){X!==void 0&&clearTimeout(X),D=0,N=Y=W=X=void 0}function se(){return X===void 0?V:re(w())}function ce(){var ee=w(),oe=U(ee);if(N=arguments,W=this,Y=ee,oe){if(X===void 0)return B(Y);if(j)return X=setTimeout(Z,M),$(Y)}return X===void 0&&(X=setTimeout(Z,M)),V}return ce.cancel=le,ce.flush=se,ce}function x(k){var M=typeof k;return!!k&&(M=="object"||M=="function")}function A(k){return!!k&&typeof k=="object"}function E(k){return typeof k=="symbol"||A(k)&&g.call(k)==t}function _(k){if(typeof k=="number")return k;if(E(k))return e;if(x(k)){var M=typeof k.valueOf=="function"?k.valueOf():k;k=x(M)?M+"":M}if(typeof k!="string")return k===0?k:+k;k=k.replace(r,"");var T=s.test(k);return T||a.test(k)?l(k.slice(2),T?2:8):i.test(k)?e:+k}return lx=C,lx}var xV=wV();const SV=dg(xV),rS=I.createContext(void 0),uI=()=>{const n=I.useContext(rS);if(n===void 0)throw new Error("usePdfHighlighterContext must be used within PdfHighlighter!");return n},dI=(n,{width:e,height:t})=>({x1:n.left,y1:n.top,x2:n.left+n.width,y2:n.top+n.height,width:e,height:t,pageNumber:n.pageNumber}),hI=({boundingRect:n,rects:e},t)=>{const r=n.pageNumber,i=t.getPageView(r-1).viewport,s=a=>dI(a,i);return{boundingRect:s(n),rects:(e||[]).map(s)}},EV=(n,e)=>{const[t,r,i,s]=e.convertToViewportRectangle([n.x1,n.y1,n.x2,n.y2]);return{left:Math.min(t,i),top:Math.min(r,s),width:Math.abs(i-t),height:Math.abs(r-s),pageNumber:n.pageNumber}},fI=(n,e,t=!1)=>{const{width:r,height:i}=e;if(t)return EV(n,e);if(n.x1===void 0)throw new Error("You are using old position format, please update");const s=r*n.x1/n.width,a=i*n.y1/n.height,l=r*n.x2/n.width,u=i*n.y2/n.height;return{left:s,top:a,width:l-s,height:u-a,pageNumber:n.pageNumber}},CV=({boundingRect:n,rects:e,usePdfCoordinates:t},r)=>{const i=n.pageNumber,s=r.getPageView(i-1).viewport,a=l=>fI(l,s,t);return{boundingRect:a(n),rects:(e||[]).map(a)}},_V=n=>{const e=Array.from(n).map(h=>{const{left:p,top:g,width:y,height:b,pageNumber:w}=h,C=p,x=p+y,A=g,E=g+b;return{X0:C,X1:x,Y0:A,Y1:E,pageNumber:w}});let t=Number.MAX_SAFE_INTEGER;e.forEach(h=>{t=Math.min(t,h.pageNumber??t)});const r=e.filter(h=>(h.X0>0||h.X1>0||h.Y0>0||h.Y1>0)&&h.pageNumber===t),i=r.reduce((h,p)=>({X0:Math.min(h.X0,p.X0),X1:Math.max(h.X1,p.X1),Y0:Math.min(h.Y0,p.Y0),Y1:Math.max(h.Y1,p.Y1),pageNumber:t}),r[0]),{X0:s,X1:a,Y0:l,Y1:u,pageNumber:d}=i;return{left:s,top:l,width:a-s,height:u-l,pageNumber:d}},AV=n=>n.sort((e,t)=>{const r=(e.pageNumber||0)*e.top-(t.pageNumber||0)*t.top;return r===0?e.left-t.left:r}),kV=(n,e)=>n.pageNumber===e.pageNumber&&n.left<=e.left&&e.left<=n.left+n.width,RV=(n,e,t=5)=>n.pageNumber===e.pageNumber&&Math.abs(n.top-e.top)<t&&Math.abs(n.height-e.height)<t,TV=(n,e)=>n.pageNumber===e.pageNumber&&n.top>e.top&&n.left>e.left&&n.top+n.height<e.top+e.height&&n.left+n.width<e.left+e.width,PV=(n,e,t=10)=>{const r=n.left+n.width,i=e.left+e.width;return n.pageNumber===e.pageNumber&&n.left<=e.left&&r<=i&&e.left-r<=t},wR=(n,e)=>{n.width=Math.max(e.width-n.left+e.left,n.width)},MV=n=>{const e=AV(n),t=new Set,r=e.filter(s=>e.every(a=>!TV(s,a)));let i=0;for(;i<=2;)r.forEach(s=>{r.forEach(a=>{s===a||t.has(s)||t.has(a)||RV(s,a)&&(kV(s,a)&&(wR(s,a),s.height=Math.max(s.height,a.height),t.add(a)),PV(s,a)&&(wR(s,a),t.add(a)))})}),i+=1;return r.filter(s=>!t.has(s))},IV=(n,e)=>!(n.top<e.top||n.bottom>e.bottom||n.right>e.right||n.left<e.left),NV=(n,e,t=!0)=>{const r=Array.from(n.getClientRects()),i=[];for(const s of r)for(const a of e){const l=a.node.getBoundingClientRect();if(IV(s,l)&&s.width>0&&s.height>0&&s.width<l.width&&s.left>l.left&&s.height<l.height){const u={top:s.top+a.node.scrollTop-l.top,left:s.left+a.node.scrollLeft-l.left,width:s.width,height:s.height,pageNumber:a.number};i.push(u)}}return t?MV(i):i},LV=n=>n.reduce((e,t)=>(t&&[t.position.boundingRect.pageNumber,...t.position.rects.map(i=>i.pageNumber||0)].forEach(i=>{e[i]||(e[i]=[]);const s={...t,position:{...t.position,rects:t.position.rects.filter(a=>i===a.pageNumber)}};e[i].push(s)}),e),{}),pI=n=>(n||{}).ownerDocument||document,y0=n=>(pI(n)||{}).defaultView||window,Tf=n=>n instanceof HTMLElement||n instanceof y0(n).HTMLElement,DV=n=>n instanceof HTMLCanvasElement||n instanceof y0(n).HTMLCanvasElement,ys=n=>n,cf=n=>{const e=ys(n.closest(".page"));if(!e||!Tf(e))return null;const t=Number(ys(e).dataset.pageNumber);return{node:e,number:t}},OV=n=>{const e=n.startContainer.parentElement,t=n.endContainer.parentElement;if(!Tf(e)||!Tf(t))return[];const r=cf(ys(e)),i=cf(ys(t));if(!(r!=null&&r.number)||!(i!=null&&i.number))return[];if(r.number===i.number)return[r];if(r.number===i.number-1)return[r,i];const s=[];let a=r.number;const l=r.node.ownerDocument;for(;a<=i.number;){const u=cf(l.querySelector(`[data-page-number='${a}'`));u&&s.push(u),a++}return s},FV=(n,e)=>{const t=pI(n);let r=n.querySelector(`.${e}`);return!r&&n.children.length&&(r=t.createElement("div"),r.className=e,n.appendChild(r)),r},gI=I.createContext(void 0),zV=()=>{const n=I.useContext(gI);if(n===void 0)throw new Error("useHighlightContainerContext must be used within a child of PdfHighlighter!");return n},$V=(n,e)=>{const{left:t,top:r,width:i,height:s}=e,a=n?n.ownerDocument:null,l=a&&a.createElement("canvas");if(!l||!DV(l))return"";l.width=i,l.height=s;const u=l.getContext("2d");if(!u||!n)return"";const d=window.devicePixelRatio;return u.drawImage(n,t*d,r*d,i*d,s*d,0,0,i,s),l.toDataURL("image/png")},mI=(n,e,t)=>$V(t.getPageView(e-1).canvas,n),BV="empty-id",HV=({highlightsByPage:n,pageNumber:e,scrolledToHighlightId:t,viewer:r,highlightBindings:i,children:s})=>{const a=n[e]||[];return ct.createElement("div",null,a.map((l,u)=>{const d={...l,id:"id"in l?l.id:BV,position:CV(l.position,r)},h=t===d.id,p={highlight:d,viewportToScaled:g=>{const y=r.getPageView((g.pageNumber||e)-1).viewport;return dI(g,y)},screenshot:g=>mI(g,e,r),isScrolledTo:h,highlightBindings:i};return ct.createElement(gI.Provider,{value:p,key:u},s)}))},xR=(n,e)=>({left:Math.min(e.x,n.x),top:Math.min(e.y,n.y),width:Math.abs(e.x-n.x),height:Math.abs(e.y-n.y)}),SR=(n,e,t)=>{const r=n.getBoundingClientRect();return{x:e-r.left+n.scrollLeft,y:t-r.top+n.scrollTop-window.scrollY}},jV=({viewer:n,onSelection:e,onReset:t,onDragStart:r,enableAreaSelection:i,onChange:s,style:a})=>{const[l,u]=I.useState(null),[d,h]=I.useState(null),[p,g]=I.useState(!1),y=I.useRef(null),b=I.useRef(null),w=()=>{t&&t(),u(null),h(null),g(!1)};return I.useEffect(()=>{if(s&&s(!!(l&&d)),!y.current)return;const C=ys(y.current.parentElement),x=_=>{if(!l||!d||!b.current)return;const k=xR(l,d),M=k.width>=1&&k.height>=1;if(!C.contains(ys(_.target))||!M){w();return}g(!0);const T=cf(b.current);if(!T)return;const N={...k,top:k.top-T.node.offsetTop,left:k.left-T.node.offsetLeft,pageNumber:T.number},W={boundingRect:N,rects:[]},P=hI(W,n),V=mI(N,N.pageNumber,n);e&&e(W,P,V,w,_)},A=_=>{!y.current||!l||p||h(SR(C,_.pageX,_.pageY))},E=_=>{const k=T=>i(T)&&Tf(T.target)&&!!ys(T.target).closest(".page"),M=T=>l&&!ys(T.target).closest(".PdfHighlighter__tip-container");if(!k(_)){M(_)&&w();return}b.current=ys(_.target),r&&r(_),u(SR(C,_.pageX,_.pageY)),h(null),g(!1)};return C.addEventListener("mousemove",A),C.addEventListener("mousedown",E),document.addEventListener("mouseup",x),()=>{C.removeEventListener("mousemove",A),C.removeEventListener("mousedown",E),document.removeEventListener("mouseup",x)}},[l,d]),ct.createElement("div",{className:"MouseSelection-container",ref:y},l&&d&&ct.createElement("div",{className:"MouseSelection",style:{...xR(l,d),...a}}))},WV=(n,e,t)=>Math.min(Math.max(n,e),t),cx=5,UV=({viewer:n,updateTipPositionRef:e})=>{const[t,r]=I.useState(0),[i,s]=I.useState(0),a=I.useRef(null),l=()=>{if(!a.current)return;const{offsetHeight:W,offsetWidth:P}=a.current;r(W),s(P)};e.current=l,I.useLayoutEffect(()=>{l()},[l]);const{getTip:u}=uI(),d=u();if(!d)return null;const{position:h,content:p}=d,{boundingRect:g}=h,y=g.pageNumber,b=n.getPageView(y-1).div,w=b.getBoundingClientRect(),{left:C,width:x}=w,A=n.container.scrollTop,E=b.offsetLeft+g.left+g.width/2,_=g.top+b.offsetTop,k=_+g.height,T=_-t-cx<A?k+cx:_-t-cx,N=WV(E-i/2,0,C+x-i);return ct.createElement("div",{className:"PdfHighlighter__tip-container",style:{top:T,left:N,height:"max-content",width:"max-content"},ref:a},p)};let yI,vI,bI;(async()=>{const n=await Hh(()=>import("./pdf_viewer-B7ZwkPJS.js"),[]);yI=n.EventBus,vI=n.PDFLinkService,bI=n.PDFViewer})();const VV=10,GV="auto",XV="rgba(153,193,218,255)",YV=n=>FV(n,"PdfHighlighter__highlight-layer"),ER=(n,e)=>{var t;(t=n.viewer)==null||t.classList.toggle("PdfHighlighter--disable-selection",e)},qV=({highlights:n,onScrollAway:e,pdfScaleValue:t=GV,onSelection:r,onCreateGhostHighlight:i,onRemoveGhostHighlight:s,selectionTip:a,enableAreaSelection:l,mouseSelectionStyle:u,pdfDocument:d,children:h,textSelectionColor:p=XV,utilsRef:g,style:y})=>{const[b,w]=I.useState(null),[C,x]=I.useState(!1),A=I.useRef(null),E=I.useRef({}),_=I.useRef(null),k=I.useRef(null),M=I.useRef(null),T=I.useRef(!1),N=I.useRef(!1),W=I.useRef(()=>{}),P=I.useRef(new yI),V=I.useRef(new vI({eventBus:P.current,externalLinkTarget:2})),X=I.useRef(null),Y=I.useRef(null);I.useLayoutEffect(()=>{if(!A.current)return;const ee=SV(()=>{Y.current=Y.current||new bI({container:A.current,eventBus:P.current,textLayerMode:2,removePageBorders:!0,linkService:V.current}),Y.current.setDocument(d),V.current.setDocument(d),V.current.setViewer(Y.current),x(!0)},100);return ee(),()=>{ee.cancel()}},[document]),I.useLayoutEffect(()=>{if(!A.current)return;X.current=new ResizeObserver($),X.current.observe(A.current);const ee=A.current.ownerDocument;return P.current.on("textlayerrendered",K),P.current.on("pagesinit",$),ee.addEventListener("keydown",q),K(),()=>{var oe;P.current.off("pagesinit",$),P.current.off("textlayerrendered",K),ee.removeEventListener("keydown",q),(oe=X.current)==null||oe.disconnect()}},[a,n,r]);const D=()=>{e&&e(),M.current=null,K()},G=()=>{const ee=A.current,oe=y0(ee).getSelection();if(!ee||!oe||oe.isCollapsed||!Y.current)return;const de=oe.rangeCount>0?oe.getRangeAt(0):null;if(!de||!ee.contains(de.commonAncestorContainer))return;const pe=OV(de);if(!pe||pe.length===0)return;const me=NV(de,pe);if(me.length===0)return;const ge={boundingRect:_V(me),rects:me},Re=hI(ge,Y.current),be={text:oe.toString().split(`
`).join(" ")};k.current={content:be,type:"text",position:Re,makeGhostHighlight:()=>(_.current={content:be,type:"text",position:Re},i&&i(_.current),le(),K(),_.current)},r&&r(k.current),a&&w({position:ge,content:a})},j=ee=>{!Tf(ee.target)||ys(ee.target).closest(".PdfHighlighter__tip-container")||(w(null),le(),re(),Z(!1))},q=ee=>{ee.code==="Escape"&&(le(),re(),w(null))},$=()=>{Y.current&&(Y.current.currentScaleValue=t.toString())},B=(ee,oe)=>{Y.current&&ee.reactRoot.render(ct.createElement(rS.Provider,{value:ce},ct.createElement(HV,{highlightsByPage:LV([...n,_.current]),pageNumber:oe,scrolledToHighlightId:M.current,viewer:Y.current,highlightBindings:ee,children:h})))},K=()=>{var ee;if(Y.current)for(let oe=1;oe<=d.numPages;oe++){const de=E.current[oe];if((ee=de==null?void 0:de.container)!=null&&ee.isConnected)B(de,oe);else{const{textLayer:pe}=Y.current.getPageView(oe-1)||{};if(!pe)continue;const me=YV(pe.div);if(me){const ge=xT.createRoot(me);E.current[oe]={reactRoot:ge,container:me,textLayer:pe.div},B(E.current[oe],oe)}}}},U=()=>!!k.current||!!_.current||T.current||N.current,Z=ee=>{var oe;ee!==void 0?N.current=ee:N.current=!N.current,Y.current&&((oe=Y.current.viewer)==null||oe.classList.toggle("PdfHighlighter--disable-selection",N.current))},re=()=>{s&&_.current&&s(_.current),_.current=null,K()},le=()=>{k.current=null;const ee=A.current,oe=y0(ee).getSelection();!ee||!oe||oe.removeAllRanges()},ce={isEditingOrHighlighting:U,getCurrentSelection:()=>k.current,getGhostHighlight:()=>_.current,removeGhostHighlight:re,toggleEditInProgress:Z,isEditInProgress:()=>N.current,isSelectionInProgress:()=>!!k.current||T.current,scrollToHighlight:ee=>{const{boundingRect:oe,usePdfCoordinates:de}=ee.position,pe=oe.pageNumber;Y.current.container.removeEventListener("scroll",D);const me=Y.current.getPageView(pe-1).viewport;Y.current.scrollPageIntoView({pageNumber:pe,destArray:[null,{name:"XYZ"},...me.convertToPdfPoint(0,fI(oe,me,de).top-VV),0]}),M.current=ee.id,K(),setTimeout(()=>{Y.current.container.addEventListener("scroll",D,{once:!0})},100)},getViewer:()=>Y.current,getTip:()=>b,setTip:w,updateTipPosition:W.current};return g(ce),ct.createElement(rS.Provider,{value:ce},ct.createElement("div",{ref:A,className:"PdfHighlighter",onPointerDown:j,onPointerUp:G,style:y},ct.createElement("div",{className:"pdfViewer"}),ct.createElement("style",null,`
          .textLayer ::selection {
            background: ${p};
          }
        `),C&&ct.createElement(UV,{viewer:Y.current,updateTipPositionRef:W}),C&&l&&ct.createElement(jV,{viewer:Y.current,onChange:ee=>T.current=ee,enableAreaSelection:l,style:u,onDragStart:()=>ER(Y.current,!0),onReset:()=>{k.current=null,ER(Y.current,!1)},onSelection:(ee,oe,de,pe)=>{k.current={content:{image:de},type:"area",position:oe,makeGhostHighlight:()=>(_.current={position:oe,type:"area",content:{image:de}},i&&i(_.current),pe(),K(),_.current)},r&&r(k.current),a&&w({position:ee,content:a})}})))},KV=({highlight:n,onClick:e,onMouseOver:t,onMouseOut:r,isScrolledTo:i,onContextMenu:s,style:a})=>{const l=i?"TextHighlight--scrolledTo":"",{rects:u}=n.position;return ct.createElement("div",{className:`TextHighlight ${l}`,onContextMenu:s},ct.createElement("div",{className:"TextHighlight__parts"},u.map((d,h)=>ct.createElement("div",{onMouseOver:t,onMouseOut:r,onClick:e,key:h,style:{...d,...a},className:"TextHighlight__part"}))))};var Ph={exports:{}},ux={};function wI(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n))for(e=0;e<n.length;e++)n[e]&&(t=wI(n[e]))&&(r&&(r+=" "),r+=t);else for(e in n)n[e]&&(r&&(r+=" "),r+=e);return r}function CR(){for(var n,e,t=0,r="";t<arguments.length;)(n=arguments[t++])&&(e=wI(n))&&(r&&(r+=" "),r+=e);return r}const QV=Object.freeze(Object.defineProperty({__proto__:null,clsx:CR,default:CR},Symbol.toStringTag,{value:"Module"})),ZV=oD(QV);var Kt={},na={},_R;function Cv(){if(_R)return na;_R=1,Object.defineProperty(na,"__esModule",{value:!0}),na.dontSetMe=i,na.findInArray=n,na.int=r,na.isFunction=e,na.isNum=t;function n(s,a){for(let l=0,u=s.length;l<u;l++)if(a.apply(a,[s[l],l,s]))return s[l]}function e(s){return typeof s=="function"||Object.prototype.toString.call(s)==="[object Function]"}function t(s){return typeof s=="number"&&!isNaN(s)}function r(s){return parseInt(s,10)}function i(s,a,l){if(s[a])return new Error("Invalid prop ".concat(a," passed to ").concat(l," - do not set this, set it on the child."))}return na}var ra={},AR;function JV(){if(AR)return ra;AR=1,Object.defineProperty(ra,"__esModule",{value:!0}),ra.browserPrefixToKey=t,ra.browserPrefixToStyle=r,ra.default=void 0,ra.getPrefix=e;const n=["Moz","Webkit","O","ms"];function e(){var s;let a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"transform";if(typeof window>"u")return"";const l=(s=window.document)===null||s===void 0||(s=s.documentElement)===null||s===void 0?void 0:s.style;if(!l||a in l)return"";for(let u=0;u<n.length;u++)if(t(a,n[u])in l)return n[u];return""}function t(s,a){return a?"".concat(a).concat(i(s)):s}function r(s,a){return a?"-".concat(a.toLowerCase(),"-").concat(s):s}function i(s){let a="",l=!0;for(let u=0;u<s.length;u++)l?(a+=s[u].toUpperCase(),l=!1):s[u]==="-"?l=!0:a+=s[u];return a}return ra.default=e(),ra}var kR;function dE(){if(kR)return Kt;kR=1,Object.defineProperty(Kt,"__esModule",{value:!0}),Kt.addClassName=k,Kt.addEvent=l,Kt.addUserSelectStyles=E,Kt.createCSSTransform=b,Kt.createSVGTransform=w,Kt.getTouch=x,Kt.getTouchIdentifier=A,Kt.getTranslation=C,Kt.innerHeight=p,Kt.innerWidth=g,Kt.matchesSelector=s,Kt.matchesSelectorAndParentsTo=a,Kt.offsetXYFromParent=y,Kt.outerHeight=d,Kt.outerWidth=h,Kt.removeClassName=M,Kt.removeEvent=u,Kt.removeUserSelectStyles=_;var n=Cv(),e=r(JV());function t(T){if(typeof WeakMap!="function")return null;var N=new WeakMap,W=new WeakMap;return(t=function(P){return P?W:N})(T)}function r(T,N){if(T&&T.__esModule)return T;if(T===null||typeof T!="object"&&typeof T!="function")return{default:T};var W=t(N);if(W&&W.has(T))return W.get(T);var P={},V=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var X in T)if(X!=="default"&&Object.prototype.hasOwnProperty.call(T,X)){var Y=V?Object.getOwnPropertyDescriptor(T,X):null;Y&&(Y.get||Y.set)?Object.defineProperty(P,X,Y):P[X]=T[X]}return P.default=T,W&&W.set(T,P),P}let i="";function s(T,N){return i||(i=(0,n.findInArray)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],function(W){return(0,n.isFunction)(T[W])})),(0,n.isFunction)(T[i])?T[i](N):!1}function a(T,N,W){let P=T;do{if(s(P,N))return!0;if(P===W)return!1;P=P.parentNode}while(P);return!1}function l(T,N,W,P){if(!T)return;const V={capture:!0,...P};T.addEventListener?T.addEventListener(N,W,V):T.attachEvent?T.attachEvent("on"+N,W):T["on"+N]=W}function u(T,N,W,P){if(!T)return;const V={capture:!0,...P};T.removeEventListener?T.removeEventListener(N,W,V):T.detachEvent?T.detachEvent("on"+N,W):T["on"+N]=null}function d(T){let N=T.clientHeight;const W=T.ownerDocument.defaultView.getComputedStyle(T);return N+=(0,n.int)(W.borderTopWidth),N+=(0,n.int)(W.borderBottomWidth),N}function h(T){let N=T.clientWidth;const W=T.ownerDocument.defaultView.getComputedStyle(T);return N+=(0,n.int)(W.borderLeftWidth),N+=(0,n.int)(W.borderRightWidth),N}function p(T){let N=T.clientHeight;const W=T.ownerDocument.defaultView.getComputedStyle(T);return N-=(0,n.int)(W.paddingTop),N-=(0,n.int)(W.paddingBottom),N}function g(T){let N=T.clientWidth;const W=T.ownerDocument.defaultView.getComputedStyle(T);return N-=(0,n.int)(W.paddingLeft),N-=(0,n.int)(W.paddingRight),N}function y(T,N,W){const V=N===N.ownerDocument.body?{left:0,top:0}:N.getBoundingClientRect(),X=(T.clientX+N.scrollLeft-V.left)/W,Y=(T.clientY+N.scrollTop-V.top)/W;return{x:X,y:Y}}function b(T,N){const W=C(T,N,"px");return{[(0,e.browserPrefixToKey)("transform",e.default)]:W}}function w(T,N){return C(T,N,"")}function C(T,N,W){let{x:P,y:V}=T,X="translate(".concat(P).concat(W,",").concat(V).concat(W,")");if(N){const Y="".concat(typeof N.x=="string"?N.x:N.x+W),D="".concat(typeof N.y=="string"?N.y:N.y+W);X="translate(".concat(Y,", ").concat(D,")")+X}return X}function x(T,N){return T.targetTouches&&(0,n.findInArray)(T.targetTouches,W=>N===W.identifier)||T.changedTouches&&(0,n.findInArray)(T.changedTouches,W=>N===W.identifier)}function A(T){if(T.targetTouches&&T.targetTouches[0])return T.targetTouches[0].identifier;if(T.changedTouches&&T.changedTouches[0])return T.changedTouches[0].identifier}function E(T){if(!T)return;let N=T.getElementById("react-draggable-style-el");N||(N=T.createElement("style"),N.type="text/css",N.id="react-draggable-style-el",N.innerHTML=`.react-draggable-transparent-selection *::-moz-selection {all: inherit;}
`,N.innerHTML+=`.react-draggable-transparent-selection *::selection {all: inherit;}
`,T.getElementsByTagName("head")[0].appendChild(N)),T.body&&k(T.body,"react-draggable-transparent-selection")}function _(T){if(T)try{if(T.body&&M(T.body,"react-draggable-transparent-selection"),T.selection)T.selection.empty();else{const N=(T.defaultView||window).getSelection();N&&N.type!=="Caret"&&N.removeAllRanges()}}catch{}}function k(T,N){T.classList?T.classList.add(N):T.className.match(new RegExp("(?:^|\\s)".concat(N,"(?!\\S)")))||(T.className+=" ".concat(N))}function M(T,N){T.classList?T.classList.remove(N):T.className=T.className.replace(new RegExp("(?:^|\\s)".concat(N,"(?!\\S)"),"g"),"")}return Kt}var qi={},RR;function xI(){if(RR)return qi;RR=1,Object.defineProperty(qi,"__esModule",{value:!0}),qi.canDragX=i,qi.canDragY=s,qi.createCoreData=l,qi.createDraggableData=u,qi.getBoundPosition=t,qi.getControlPosition=a,qi.snapToGrid=r;var n=Cv(),e=dE();function t(p,g,y){if(!p.props.bounds)return[g,y];let{bounds:b}=p.props;b=typeof b=="string"?b:d(b);const w=h(p);if(typeof b=="string"){const{ownerDocument:C}=w,x=C.defaultView;let A;if(b==="parent"?A=w.parentNode:A=C.querySelector(b),!(A instanceof x.HTMLElement))throw new Error('Bounds selector "'+b+'" could not find an element.');const E=A,_=x.getComputedStyle(w),k=x.getComputedStyle(E);b={left:-w.offsetLeft+(0,n.int)(k.paddingLeft)+(0,n.int)(_.marginLeft),top:-w.offsetTop+(0,n.int)(k.paddingTop)+(0,n.int)(_.marginTop),right:(0,e.innerWidth)(E)-(0,e.outerWidth)(w)-w.offsetLeft+(0,n.int)(k.paddingRight)-(0,n.int)(_.marginRight),bottom:(0,e.innerHeight)(E)-(0,e.outerHeight)(w)-w.offsetTop+(0,n.int)(k.paddingBottom)-(0,n.int)(_.marginBottom)}}return(0,n.isNum)(b.right)&&(g=Math.min(g,b.right)),(0,n.isNum)(b.bottom)&&(y=Math.min(y,b.bottom)),(0,n.isNum)(b.left)&&(g=Math.max(g,b.left)),(0,n.isNum)(b.top)&&(y=Math.max(y,b.top)),[g,y]}function r(p,g,y){const b=Math.round(g/p[0])*p[0],w=Math.round(y/p[1])*p[1];return[b,w]}function i(p){return p.props.axis==="both"||p.props.axis==="x"}function s(p){return p.props.axis==="both"||p.props.axis==="y"}function a(p,g,y){const b=typeof g=="number"?(0,e.getTouch)(p,g):null;if(typeof g=="number"&&!b)return null;const w=h(y),C=y.props.offsetParent||w.offsetParent||w.ownerDocument.body;return(0,e.offsetXYFromParent)(b||p,C,y.props.scale)}function l(p,g,y){const b=!(0,n.isNum)(p.lastX),w=h(p);return b?{node:w,deltaX:0,deltaY:0,lastX:g,lastY:y,x:g,y}:{node:w,deltaX:g-p.lastX,deltaY:y-p.lastY,lastX:p.lastX,lastY:p.lastY,x:g,y}}function u(p,g){const y=p.props.scale;return{node:g.node,x:p.state.x+g.deltaX/y,y:p.state.y+g.deltaY/y,deltaX:g.deltaX/y,deltaY:g.deltaY/y,lastX:p.state.x,lastY:p.state.y}}function d(p){return{left:p.left,top:p.top,right:p.right,bottom:p.bottom}}function h(p){const g=p.findDOMNode();if(!g)throw new Error("<DraggableCore>: Unmounted during event!");return g}return qi}var Mh={},cy={},TR;function SI(){if(TR)return cy;TR=1,Object.defineProperty(cy,"__esModule",{value:!0}),cy.default=n;function n(){}return cy}var PR;function e8(){if(PR)return Mh;PR=1,Object.defineProperty(Mh,"__esModule",{value:!0}),Mh.default=void 0;var n=d(Cc()),e=l(SM()),t=l(U0()),r=dE(),i=xI(),s=Cv(),a=l(SI());function l(C){return C&&C.__esModule?C:{default:C}}function u(C){if(typeof WeakMap!="function")return null;var x=new WeakMap,A=new WeakMap;return(u=function(E){return E?A:x})(C)}function d(C,x){if(C&&C.__esModule)return C;if(C===null||typeof C!="object"&&typeof C!="function")return{default:C};var A=u(x);if(A&&A.has(C))return A.get(C);var E={},_=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var k in C)if(k!=="default"&&Object.prototype.hasOwnProperty.call(C,k)){var M=_?Object.getOwnPropertyDescriptor(C,k):null;M&&(M.get||M.set)?Object.defineProperty(E,k,M):E[k]=C[k]}return E.default=C,A&&A.set(C,E),E}function h(C,x,A){return x=p(x),x in C?Object.defineProperty(C,x,{value:A,enumerable:!0,configurable:!0,writable:!0}):C[x]=A,C}function p(C){var x=g(C,"string");return typeof x=="symbol"?x:String(x)}function g(C,x){if(typeof C!="object"||C===null)return C;var A=C[Symbol.toPrimitive];if(A!==void 0){var E=A.call(C,x);if(typeof E!="object")return E;throw new TypeError("@@toPrimitive must return a primitive value.")}return(x==="string"?String:Number)(C)}const y={touch:{start:"touchstart",move:"touchmove",stop:"touchend"},mouse:{start:"mousedown",move:"mousemove",stop:"mouseup"}};let b=y.mouse,w=class extends n.Component{constructor(){super(...arguments),h(this,"dragging",!1),h(this,"lastX",NaN),h(this,"lastY",NaN),h(this,"touchIdentifier",null),h(this,"mounted",!1),h(this,"handleDragStart",x=>{if(this.props.onMouseDown(x),!this.props.allowAnyClick&&typeof x.button=="number"&&x.button!==0)return!1;const A=this.findDOMNode();if(!A||!A.ownerDocument||!A.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");const{ownerDocument:E}=A;if(this.props.disabled||!(x.target instanceof E.defaultView.Node)||this.props.handle&&!(0,r.matchesSelectorAndParentsTo)(x.target,this.props.handle,A)||this.props.cancel&&(0,r.matchesSelectorAndParentsTo)(x.target,this.props.cancel,A))return;x.type==="touchstart"&&x.preventDefault();const _=(0,r.getTouchIdentifier)(x);this.touchIdentifier=_;const k=(0,i.getControlPosition)(x,_,this);if(k==null)return;const{x:M,y:T}=k,N=(0,i.createCoreData)(this,M,T);(0,a.default)("DraggableCore: handleDragStart: %j",N),(0,a.default)("calling",this.props.onStart),!(this.props.onStart(x,N)===!1||this.mounted===!1)&&(this.props.enableUserSelectHack&&(0,r.addUserSelectStyles)(E),this.dragging=!0,this.lastX=M,this.lastY=T,(0,r.addEvent)(E,b.move,this.handleDrag),(0,r.addEvent)(E,b.stop,this.handleDragStop))}),h(this,"handleDrag",x=>{const A=(0,i.getControlPosition)(x,this.touchIdentifier,this);if(A==null)return;let{x:E,y:_}=A;if(Array.isArray(this.props.grid)){let T=E-this.lastX,N=_-this.lastY;if([T,N]=(0,i.snapToGrid)(this.props.grid,T,N),!T&&!N)return;E=this.lastX+T,_=this.lastY+N}const k=(0,i.createCoreData)(this,E,_);if((0,a.default)("DraggableCore: handleDrag: %j",k),this.props.onDrag(x,k)===!1||this.mounted===!1){try{this.handleDragStop(new MouseEvent("mouseup"))}catch{const N=document.createEvent("MouseEvents");N.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),this.handleDragStop(N)}return}this.lastX=E,this.lastY=_}),h(this,"handleDragStop",x=>{if(!this.dragging)return;const A=(0,i.getControlPosition)(x,this.touchIdentifier,this);if(A==null)return;let{x:E,y:_}=A;if(Array.isArray(this.props.grid)){let N=E-this.lastX||0,W=_-this.lastY||0;[N,W]=(0,i.snapToGrid)(this.props.grid,N,W),E=this.lastX+N,_=this.lastY+W}const k=(0,i.createCoreData)(this,E,_);if(this.props.onStop(x,k)===!1||this.mounted===!1)return!1;const T=this.findDOMNode();T&&this.props.enableUserSelectHack&&(0,r.removeUserSelectStyles)(T.ownerDocument),(0,a.default)("DraggableCore: handleDragStop: %j",k),this.dragging=!1,this.lastX=NaN,this.lastY=NaN,T&&((0,a.default)("DraggableCore: Removing handlers"),(0,r.removeEvent)(T.ownerDocument,b.move,this.handleDrag),(0,r.removeEvent)(T.ownerDocument,b.stop,this.handleDragStop))}),h(this,"onMouseDown",x=>(b=y.mouse,this.handleDragStart(x))),h(this,"onMouseUp",x=>(b=y.mouse,this.handleDragStop(x))),h(this,"onTouchStart",x=>(b=y.touch,this.handleDragStart(x))),h(this,"onTouchEnd",x=>(b=y.touch,this.handleDragStop(x)))}componentDidMount(){this.mounted=!0;const x=this.findDOMNode();x&&(0,r.addEvent)(x,y.touch.start,this.onTouchStart,{passive:!1})}componentWillUnmount(){this.mounted=!1;const x=this.findDOMNode();if(x){const{ownerDocument:A}=x;(0,r.removeEvent)(A,y.mouse.move,this.handleDrag),(0,r.removeEvent)(A,y.touch.move,this.handleDrag),(0,r.removeEvent)(A,y.mouse.stop,this.handleDragStop),(0,r.removeEvent)(A,y.touch.stop,this.handleDragStop),(0,r.removeEvent)(x,y.touch.start,this.onTouchStart,{passive:!1}),this.props.enableUserSelectHack&&(0,r.removeUserSelectStyles)(A)}}findDOMNode(){var x,A;return(x=this.props)!==null&&x!==void 0&&x.nodeRef?(A=this.props)===null||A===void 0||(A=A.nodeRef)===null||A===void 0?void 0:A.current:t.default.findDOMNode(this)}render(){return n.cloneElement(n.Children.only(this.props.children),{onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}};return Mh.default=w,h(w,"displayName","DraggableCore"),h(w,"propTypes",{allowAnyClick:e.default.bool,children:e.default.node.isRequired,disabled:e.default.bool,enableUserSelectHack:e.default.bool,offsetParent:function(C,x){if(C[x]&&C[x].nodeType!==1)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:e.default.arrayOf(e.default.number),handle:e.default.string,cancel:e.default.string,nodeRef:e.default.object,onStart:e.default.func,onDrag:e.default.func,onStop:e.default.func,onMouseDown:e.default.func,scale:e.default.number,className:s.dontSetMe,style:s.dontSetMe,transform:s.dontSetMe}),h(w,"defaultProps",{allowAnyClick:!1,disabled:!1,enableUserSelectHack:!0,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){},scale:1}),Mh}var MR;function t8(){return MR||(MR=1,function(n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"DraggableCore",{enumerable:!0,get:function(){return u.default}}),n.default=void 0;var e=g(Cc()),t=h(SM()),r=h(U0()),i=h(ZV),s=dE(),a=xI(),l=Cv(),u=h(e8()),d=h(SI());function h(A){return A&&A.__esModule?A:{default:A}}function p(A){if(typeof WeakMap!="function")return null;var E=new WeakMap,_=new WeakMap;return(p=function(k){return k?_:E})(A)}function g(A,E){if(A&&A.__esModule)return A;if(A===null||typeof A!="object"&&typeof A!="function")return{default:A};var _=p(E);if(_&&_.has(A))return _.get(A);var k={},M=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var T in A)if(T!=="default"&&Object.prototype.hasOwnProperty.call(A,T)){var N=M?Object.getOwnPropertyDescriptor(A,T):null;N&&(N.get||N.set)?Object.defineProperty(k,T,N):k[T]=A[T]}return k.default=A,_&&_.set(A,k),k}function y(){return y=Object.assign?Object.assign.bind():function(A){for(var E=1;E<arguments.length;E++){var _=arguments[E];for(var k in _)Object.prototype.hasOwnProperty.call(_,k)&&(A[k]=_[k])}return A},y.apply(this,arguments)}function b(A,E,_){return E=w(E),E in A?Object.defineProperty(A,E,{value:_,enumerable:!0,configurable:!0,writable:!0}):A[E]=_,A}function w(A){var E=C(A,"string");return typeof E=="symbol"?E:String(E)}function C(A,E){if(typeof A!="object"||A===null)return A;var _=A[Symbol.toPrimitive];if(_!==void 0){var k=_.call(A,E);if(typeof k!="object")return k;throw new TypeError("@@toPrimitive must return a primitive value.")}return(E==="string"?String:Number)(A)}class x extends e.Component{static getDerivedStateFromProps(E,_){let{position:k}=E,{prevPropsPosition:M}=_;return k&&(!M||k.x!==M.x||k.y!==M.y)?((0,d.default)("Draggable: getDerivedStateFromProps %j",{position:k,prevPropsPosition:M}),{x:k.x,y:k.y,prevPropsPosition:{...k}}):null}constructor(E){super(E),b(this,"onDragStart",(_,k)=>{if((0,d.default)("Draggable: onDragStart: %j",k),this.props.onStart(_,(0,a.createDraggableData)(this,k))===!1)return!1;this.setState({dragging:!0,dragged:!0})}),b(this,"onDrag",(_,k)=>{if(!this.state.dragging)return!1;(0,d.default)("Draggable: onDrag: %j",k);const M=(0,a.createDraggableData)(this,k),T={x:M.x,y:M.y,slackX:0,slackY:0};if(this.props.bounds){const{x:W,y:P}=T;T.x+=this.state.slackX,T.y+=this.state.slackY;const[V,X]=(0,a.getBoundPosition)(this,T.x,T.y);T.x=V,T.y=X,T.slackX=this.state.slackX+(W-T.x),T.slackY=this.state.slackY+(P-T.y),M.x=T.x,M.y=T.y,M.deltaX=T.x-this.state.x,M.deltaY=T.y-this.state.y}if(this.props.onDrag(_,M)===!1)return!1;this.setState(T)}),b(this,"onDragStop",(_,k)=>{if(!this.state.dragging||this.props.onStop(_,(0,a.createDraggableData)(this,k))===!1)return!1;(0,d.default)("Draggable: onDragStop: %j",k);const T={dragging:!1,slackX:0,slackY:0};if(!!this.props.position){const{x:W,y:P}=this.props.position;T.x=W,T.y=P}this.setState(T)}),this.state={dragging:!1,dragged:!1,x:E.position?E.position.x:E.defaultPosition.x,y:E.position?E.position.y:E.defaultPosition.y,prevPropsPosition:{...E.position},slackX:0,slackY:0,isElementSVG:!1},E.position&&!(E.onDrag||E.onStop)&&console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element.")}componentDidMount(){typeof window.SVGElement<"u"&&this.findDOMNode()instanceof window.SVGElement&&this.setState({isElementSVG:!0})}componentWillUnmount(){this.setState({dragging:!1})}findDOMNode(){var E,_;return(E=(_=this.props)===null||_===void 0||(_=_.nodeRef)===null||_===void 0?void 0:_.current)!==null&&E!==void 0?E:r.default.findDOMNode(this)}render(){const{axis:E,bounds:_,children:k,defaultPosition:M,defaultClassName:T,defaultClassNameDragging:N,defaultClassNameDragged:W,position:P,positionOffset:V,scale:X,...Y}=this.props;let D={},G=null;const q=!!!P||this.state.dragging,$=P||M,B={x:(0,a.canDragX)(this)&&q?this.state.x:$.x,y:(0,a.canDragY)(this)&&q?this.state.y:$.y};this.state.isElementSVG?G=(0,s.createSVGTransform)(B,V):D=(0,s.createCSSTransform)(B,V);const K=(0,i.default)(k.props.className||"",T,{[N]:this.state.dragging,[W]:this.state.dragged});return e.createElement(u.default,y({},Y,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),e.cloneElement(e.Children.only(k),{className:K,style:{...k.props.style,...D},transform:G}))}}n.default=x,b(x,"displayName","Draggable"),b(x,"propTypes",{...u.default.propTypes,axis:t.default.oneOf(["both","x","y","none"]),bounds:t.default.oneOfType([t.default.shape({left:t.default.number,right:t.default.number,top:t.default.number,bottom:t.default.number}),t.default.string,t.default.oneOf([!1])]),defaultClassName:t.default.string,defaultClassNameDragging:t.default.string,defaultClassNameDragged:t.default.string,defaultPosition:t.default.shape({x:t.default.number,y:t.default.number}),positionOffset:t.default.shape({x:t.default.oneOfType([t.default.number,t.default.string]),y:t.default.oneOfType([t.default.number,t.default.string])}),position:t.default.shape({x:t.default.number,y:t.default.number}),className:l.dontSetMe,style:l.dontSetMe,transform:l.dontSetMe}),b(x,"defaultProps",{...u.default.defaultProps,axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},scale:1})}(ux)),ux}var IR;function n8(){if(IR)return Ph.exports;IR=1;const{default:n,DraggableCore:e}=t8();return Ph.exports=n,Ph.exports.default=n,Ph.exports.DraggableCore=e,Ph.exports}var r8=n8();const i8=dg(r8);var nn=function(){return nn=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},nn.apply(this,arguments)},NR={width:"100%",height:"10px",top:"0px",left:"0px",cursor:"row-resize"},LR={width:"10px",height:"100%",top:"0px",left:"0px",cursor:"col-resize"},uy={width:"20px",height:"20px",position:"absolute",zIndex:1},s8={top:nn(nn({},NR),{top:"-5px"}),right:nn(nn({},LR),{left:void 0,right:"-5px"}),bottom:nn(nn({},NR),{top:void 0,bottom:"-5px"}),left:nn(nn({},LR),{left:"-5px"}),topRight:nn(nn({},uy),{right:"-10px",top:"-10px",cursor:"ne-resize"}),bottomRight:nn(nn({},uy),{right:"-10px",bottom:"-10px",cursor:"se-resize"}),bottomLeft:nn(nn({},uy),{left:"-10px",bottom:"-10px",cursor:"sw-resize"}),topLeft:nn(nn({},uy),{left:"-10px",top:"-10px",cursor:"nw-resize"})},o8=I.memo(function(n){var e=n.onResizeStart,t=n.direction,r=n.children,i=n.replaceStyles,s=n.className,a=I.useCallback(function(d){e(d,t)},[e,t]),l=I.useCallback(function(d){e(d,t)},[e,t]),u=I.useMemo(function(){return nn(nn({position:"absolute",userSelect:"none"},s8[t]),i??{})},[i,t]);return L.jsx("div",{className:s||void 0,style:u,onMouseDown:a,onTouchStart:l,children:r})}),a8=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(r[s]=i[s])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Qi=function(){return Qi=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},Qi.apply(this,arguments)},l8={width:"auto",height:"auto"},dy=function(n,e,t){return Math.max(Math.min(n,t),e)},DR=function(n,e,t){var r=Math.round(n/e);return r*e+t*(r-1)},cu=function(n,e){return new RegExp(n,"i").test(e)},hy=function(n){return!!(n.touches&&n.touches.length)},c8=function(n){return!!((n.clientX||n.clientX===0)&&(n.clientY||n.clientY===0))},OR=function(n,e,t){t===void 0&&(t=0);var r=e.reduce(function(s,a,l){return Math.abs(a-n)<Math.abs(e[s]-n)?l:s},0),i=Math.abs(e[r]-n);return t===0||i<t?e[r]:n},dx=function(n){return n=n.toString(),n==="auto"||n.endsWith("px")||n.endsWith("%")||n.endsWith("vh")||n.endsWith("vw")||n.endsWith("vmax")||n.endsWith("vmin")?n:"".concat(n,"px")},fy=function(n,e,t,r){if(n&&typeof n=="string"){if(n.endsWith("px"))return Number(n.replace("px",""));if(n.endsWith("%")){var i=Number(n.replace("%",""))/100;return e*i}if(n.endsWith("vw")){var i=Number(n.replace("vw",""))/100;return t*i}if(n.endsWith("vh")){var i=Number(n.replace("vh",""))/100;return r*i}}return n},u8=function(n,e,t,r,i,s,a){return r=fy(r,n.width,e,t),i=fy(i,n.height,e,t),s=fy(s,n.width,e,t),a=fy(a,n.height,e,t),{maxWidth:typeof r>"u"?void 0:Number(r),maxHeight:typeof i>"u"?void 0:Number(i),minWidth:typeof s>"u"?void 0:Number(s),minHeight:typeof a>"u"?void 0:Number(a)}},d8=function(n){return Array.isArray(n)?n:[n,n]},h8=["as","ref","style","className","grid","gridGap","snap","bounds","boundsByDirection","size","defaultSize","minWidth","minHeight","maxWidth","maxHeight","lockAspectRatio","lockAspectRatioExtraWidth","lockAspectRatioExtraHeight","enable","handleStyles","handleClasses","handleWrapperStyle","handleWrapperClass","children","onResizeStart","onResize","onResizeStop","handleComponent","scale","resizeRatio","snapGap"],FR="__resizable_base__",f8=function(n){a8(e,n);function e(t){var r,i,s,a,l=n.call(this,t)||this;return l.ratio=1,l.resizable=null,l.parentLeft=0,l.parentTop=0,l.resizableLeft=0,l.resizableRight=0,l.resizableTop=0,l.resizableBottom=0,l.targetLeft=0,l.targetTop=0,l.delta={width:0,height:0},l.appendBase=function(){if(!l.resizable||!l.window)return null;var u=l.parentNode;if(!u)return null;var d=l.window.document.createElement("div");return d.style.width="100%",d.style.height="100%",d.style.position="absolute",d.style.transform="scale(0, 0)",d.style.left="0",d.style.flex="0 0 100%",d.classList?d.classList.add(FR):d.className+=FR,u.appendChild(d),d},l.removeBase=function(u){var d=l.parentNode;d&&d.removeChild(u)},l.state={isResizing:!1,width:(i=(r=l.propsSize)===null||r===void 0?void 0:r.width)!==null&&i!==void 0?i:"auto",height:(a=(s=l.propsSize)===null||s===void 0?void 0:s.height)!==null&&a!==void 0?a:"auto",direction:"right",original:{x:0,y:0,width:0,height:0},backgroundStyle:{height:"100%",width:"100%",backgroundColor:"rgba(0,0,0,0)",cursor:"auto",opacity:0,position:"fixed",zIndex:9999,top:"0",left:"0",bottom:"0",right:"0"},flexBasis:void 0},l.onResizeStart=l.onResizeStart.bind(l),l.onMouseMove=l.onMouseMove.bind(l),l.onMouseUp=l.onMouseUp.bind(l),l}return Object.defineProperty(e.prototype,"parentNode",{get:function(){return this.resizable?this.resizable.parentNode:null},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"window",{get:function(){return!this.resizable||!this.resizable.ownerDocument?null:this.resizable.ownerDocument.defaultView},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"propsSize",{get:function(){return this.props.size||this.props.defaultSize||l8},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){var t=0,r=0;if(this.resizable&&this.window){var i=this.resizable.offsetWidth,s=this.resizable.offsetHeight,a=this.resizable.style.position;a!=="relative"&&(this.resizable.style.position="relative"),t=this.resizable.style.width!=="auto"?this.resizable.offsetWidth:i,r=this.resizable.style.height!=="auto"?this.resizable.offsetHeight:s,this.resizable.style.position=a}return{width:t,height:r}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"sizeStyle",{get:function(){var t=this,r=this.props.size,i=function(l){var u;if(typeof t.state[l]>"u"||t.state[l]==="auto")return"auto";if(t.propsSize&&t.propsSize[l]&&(!((u=t.propsSize[l])===null||u===void 0)&&u.toString().endsWith("%"))){if(t.state[l].toString().endsWith("%"))return t.state[l].toString();var d=t.getParentSize(),h=Number(t.state[l].toString().replace("px","")),p=h/d[l]*100;return"".concat(p,"%")}return dx(t.state[l])},s=r&&typeof r.width<"u"&&!this.state.isResizing?dx(r.width):i("width"),a=r&&typeof r.height<"u"&&!this.state.isResizing?dx(r.height):i("height");return{width:s,height:a}},enumerable:!1,configurable:!0}),e.prototype.getParentSize=function(){if(!this.parentNode)return this.window?{width:this.window.innerWidth,height:this.window.innerHeight}:{width:0,height:0};var t=this.appendBase();if(!t)return{width:0,height:0};var r=!1,i=this.parentNode.style.flexWrap;i!=="wrap"&&(r=!0,this.parentNode.style.flexWrap="wrap"),t.style.position="relative",t.style.minWidth="100%",t.style.minHeight="100%";var s={width:t.offsetWidth,height:t.offsetHeight};return r&&(this.parentNode.style.flexWrap=i),this.removeBase(t),s},e.prototype.bindEvents=function(){this.window&&(this.window.addEventListener("mouseup",this.onMouseUp),this.window.addEventListener("mousemove",this.onMouseMove),this.window.addEventListener("mouseleave",this.onMouseUp),this.window.addEventListener("touchmove",this.onMouseMove,{capture:!0,passive:!1}),this.window.addEventListener("touchend",this.onMouseUp))},e.prototype.unbindEvents=function(){this.window&&(this.window.removeEventListener("mouseup",this.onMouseUp),this.window.removeEventListener("mousemove",this.onMouseMove),this.window.removeEventListener("mouseleave",this.onMouseUp),this.window.removeEventListener("touchmove",this.onMouseMove,!0),this.window.removeEventListener("touchend",this.onMouseUp))},e.prototype.componentDidMount=function(){if(!(!this.resizable||!this.window)){var t=this.window.getComputedStyle(this.resizable);this.setState({width:this.state.width||this.size.width,height:this.state.height||this.size.height,flexBasis:t.flexBasis!=="auto"?t.flexBasis:void 0})}},e.prototype.componentWillUnmount=function(){this.window&&this.unbindEvents()},e.prototype.createSizeForCssProperty=function(t,r){var i=this.propsSize&&this.propsSize[r];return this.state[r]==="auto"&&this.state.original[r]===t&&(typeof i>"u"||i==="auto")?"auto":t},e.prototype.calculateNewMaxFromBoundary=function(t,r){var i=this.props.boundsByDirection,s=this.state.direction,a=i&&cu("left",s),l=i&&cu("top",s),u,d;if(this.props.bounds==="parent"){var h=this.parentNode;h&&(u=a?this.resizableRight-this.parentLeft:h.offsetWidth+(this.parentLeft-this.resizableLeft),d=l?this.resizableBottom-this.parentTop:h.offsetHeight+(this.parentTop-this.resizableTop))}else this.props.bounds==="window"?this.window&&(u=a?this.resizableRight:this.window.innerWidth-this.resizableLeft,d=l?this.resizableBottom:this.window.innerHeight-this.resizableTop):this.props.bounds&&(u=a?this.resizableRight-this.targetLeft:this.props.bounds.offsetWidth+(this.targetLeft-this.resizableLeft),d=l?this.resizableBottom-this.targetTop:this.props.bounds.offsetHeight+(this.targetTop-this.resizableTop));return u&&Number.isFinite(u)&&(t=t&&t<u?t:u),d&&Number.isFinite(d)&&(r=r&&r<d?r:d),{maxWidth:t,maxHeight:r}},e.prototype.calculateNewSizeFromDirection=function(t,r){var i=this.props.scale||1,s=d8(this.props.resizeRatio||1),a=s[0],l=s[1],u=this.state,d=u.direction,h=u.original,p=this.props,g=p.lockAspectRatio,y=p.lockAspectRatioExtraHeight,b=p.lockAspectRatioExtraWidth,w=h.width,C=h.height,x=y||0,A=b||0;return cu("right",d)&&(w=h.width+(t-h.x)*a/i,g&&(C=(w-A)/this.ratio+x)),cu("left",d)&&(w=h.width-(t-h.x)*a/i,g&&(C=(w-A)/this.ratio+x)),cu("bottom",d)&&(C=h.height+(r-h.y)*l/i,g&&(w=(C-x)*this.ratio+A)),cu("top",d)&&(C=h.height-(r-h.y)*l/i,g&&(w=(C-x)*this.ratio+A)),{newWidth:w,newHeight:C}},e.prototype.calculateNewSizeFromAspectRatio=function(t,r,i,s){var a=this.props,l=a.lockAspectRatio,u=a.lockAspectRatioExtraHeight,d=a.lockAspectRatioExtraWidth,h=typeof s.width>"u"?10:s.width,p=typeof i.width>"u"||i.width<0?t:i.width,g=typeof s.height>"u"?10:s.height,y=typeof i.height>"u"||i.height<0?r:i.height,b=u||0,w=d||0;if(l){var C=(g-b)*this.ratio+w,x=(y-b)*this.ratio+w,A=(h-w)/this.ratio+b,E=(p-w)/this.ratio+b,_=Math.max(h,C),k=Math.min(p,x),M=Math.max(g,A),T=Math.min(y,E);t=dy(t,_,k),r=dy(r,M,T)}else t=dy(t,h,p),r=dy(r,g,y);return{newWidth:t,newHeight:r}},e.prototype.setBoundingClientRect=function(){var t=1/(this.props.scale||1);if(this.props.bounds==="parent"){var r=this.parentNode;if(r){var i=r.getBoundingClientRect();this.parentLeft=i.left*t,this.parentTop=i.top*t}}if(this.props.bounds&&typeof this.props.bounds!="string"){var s=this.props.bounds.getBoundingClientRect();this.targetLeft=s.left*t,this.targetTop=s.top*t}if(this.resizable){var a=this.resizable.getBoundingClientRect(),l=a.left,u=a.top,d=a.right,h=a.bottom;this.resizableLeft=l*t,this.resizableRight=d*t,this.resizableTop=u*t,this.resizableBottom=h*t}},e.prototype.onResizeStart=function(t,r){if(!(!this.resizable||!this.window)){var i=0,s=0;if(t.nativeEvent&&c8(t.nativeEvent)?(i=t.nativeEvent.clientX,s=t.nativeEvent.clientY):t.nativeEvent&&hy(t.nativeEvent)&&(i=t.nativeEvent.touches[0].clientX,s=t.nativeEvent.touches[0].clientY),this.props.onResizeStart&&this.resizable){var a=this.props.onResizeStart(t,r,this.resizable);if(a===!1)return}this.props.size&&(typeof this.props.size.height<"u"&&this.props.size.height!==this.state.height&&this.setState({height:this.props.size.height}),typeof this.props.size.width<"u"&&this.props.size.width!==this.state.width&&this.setState({width:this.props.size.width})),this.ratio=typeof this.props.lockAspectRatio=="number"?this.props.lockAspectRatio:this.size.width/this.size.height;var l,u=this.window.getComputedStyle(this.resizable);if(u.flexBasis!=="auto"){var d=this.parentNode;if(d){var h=this.window.getComputedStyle(d).flexDirection;this.flexDir=h.startsWith("row")?"row":"column",l=u.flexBasis}}this.setBoundingClientRect(),this.bindEvents();var p={original:{x:i,y:s,width:this.size.width,height:this.size.height},isResizing:!0,backgroundStyle:Qi(Qi({},this.state.backgroundStyle),{cursor:this.window.getComputedStyle(t.target).cursor||"auto"}),direction:r,flexBasis:l};this.setState(p)}},e.prototype.onMouseMove=function(t){var r=this;if(!(!this.state.isResizing||!this.resizable||!this.window)){if(this.window.TouchEvent&&hy(t))try{t.preventDefault(),t.stopPropagation()}catch{}var i=this.props,s=i.maxWidth,a=i.maxHeight,l=i.minWidth,u=i.minHeight,d=hy(t)?t.touches[0].clientX:t.clientX,h=hy(t)?t.touches[0].clientY:t.clientY,p=this.state,g=p.direction,y=p.original,b=p.width,w=p.height,C=this.getParentSize(),x=u8(C,this.window.innerWidth,this.window.innerHeight,s,a,l,u);s=x.maxWidth,a=x.maxHeight,l=x.minWidth,u=x.minHeight;var A=this.calculateNewSizeFromDirection(d,h),E=A.newHeight,_=A.newWidth,k=this.calculateNewMaxFromBoundary(s,a);this.props.snap&&this.props.snap.x&&(_=OR(_,this.props.snap.x,this.props.snapGap)),this.props.snap&&this.props.snap.y&&(E=OR(E,this.props.snap.y,this.props.snapGap));var M=this.calculateNewSizeFromAspectRatio(_,E,{width:k.maxWidth,height:k.maxHeight},{width:l,height:u});if(_=M.newWidth,E=M.newHeight,this.props.grid){var T=DR(_,this.props.grid[0],this.props.gridGap?this.props.gridGap[0]:0),N=DR(E,this.props.grid[1],this.props.gridGap?this.props.gridGap[1]:0),W=this.props.snapGap||0,P=W===0||Math.abs(T-_)<=W?T:_,V=W===0||Math.abs(N-E)<=W?N:E;_=P,E=V}var X={width:_-y.width,height:E-y.height};if(this.delta=X,b&&typeof b=="string"){if(b.endsWith("%")){var Y=_/C.width*100;_="".concat(Y,"%")}else if(b.endsWith("vw")){var D=_/this.window.innerWidth*100;_="".concat(D,"vw")}else if(b.endsWith("vh")){var G=_/this.window.innerHeight*100;_="".concat(G,"vh")}}if(w&&typeof w=="string"){if(w.endsWith("%")){var Y=E/C.height*100;E="".concat(Y,"%")}else if(w.endsWith("vw")){var D=E/this.window.innerWidth*100;E="".concat(D,"vw")}else if(w.endsWith("vh")){var G=E/this.window.innerHeight*100;E="".concat(G,"vh")}}var j={width:this.createSizeForCssProperty(_,"width"),height:this.createSizeForCssProperty(E,"height")};this.flexDir==="row"?j.flexBasis=j.width:this.flexDir==="column"&&(j.flexBasis=j.height);var q=this.state.width!==j.width,$=this.state.height!==j.height,B=this.state.flexBasis!==j.flexBasis,K=q||$||B;K&&yg.flushSync(function(){r.setState(j)}),this.props.onResize&&K&&this.props.onResize(t,g,this.resizable,X)}},e.prototype.onMouseUp=function(t){var r,i,s=this.state,a=s.isResizing,l=s.direction;s.original,!(!a||!this.resizable)&&(this.props.onResizeStop&&this.props.onResizeStop(t,l,this.resizable,this.delta),this.props.size&&this.setState({width:(r=this.props.size.width)!==null&&r!==void 0?r:"auto",height:(i=this.props.size.height)!==null&&i!==void 0?i:"auto"}),this.unbindEvents(),this.setState({isResizing:!1,backgroundStyle:Qi(Qi({},this.state.backgroundStyle),{cursor:"auto"})}))},e.prototype.updateSize=function(t){var r,i;this.setState({width:(r=t.width)!==null&&r!==void 0?r:"auto",height:(i=t.height)!==null&&i!==void 0?i:"auto"})},e.prototype.renderResizer=function(){var t=this,r=this.props,i=r.enable,s=r.handleStyles,a=r.handleClasses,l=r.handleWrapperStyle,u=r.handleWrapperClass,d=r.handleComponent;if(!i)return null;var h=Object.keys(i).map(function(p){return i[p]!==!1?L.jsx(o8,{direction:p,onResizeStart:t.onResizeStart,replaceStyles:s&&s[p],className:a&&a[p],children:d&&d[p]?d[p]:null},p):null});return L.jsx("div",{className:u,style:l,children:h})},e.prototype.render=function(){var t=this,r=Object.keys(this.props).reduce(function(a,l){return h8.indexOf(l)!==-1||(a[l]=t.props[l]),a},{}),i=Qi(Qi(Qi({position:"relative",userSelect:this.state.isResizing?"none":"auto"},this.props.style),this.sizeStyle),{maxWidth:this.props.maxWidth,maxHeight:this.props.maxHeight,minWidth:this.props.minWidth,minHeight:this.props.minHeight,boxSizing:"border-box",flexShrink:0});this.state.flexBasis&&(i.flexBasis=this.state.flexBasis);var s=this.props.as||"div";return L.jsxs(s,Qi({style:i,className:this.props.className},r,{ref:function(a){a&&(t.resizable=a)},children:[this.state.isResizing&&L.jsx("div",{style:this.state.backgroundStyle}),this.props.children,this.renderResizer()]}))},e.defaultProps={as:"div",onResizeStart:function(){},onResize:function(){},onResizeStop:function(){},enable:{top:!0,right:!0,bottom:!0,left:!0,topRight:!0,bottomRight:!0,bottomLeft:!0,topLeft:!0},style:{},grid:[1,1],gridGap:[0,0],lockAspectRatio:!1,lockAspectRatioExtraWidth:0,lockAspectRatioExtraHeight:0,scale:1,resizeRatio:1,snapGap:0},e}(I.PureComponent);/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var iS=function(n,e){return iS=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var i in r)r.hasOwnProperty(i)&&(t[i]=r[i])},iS(n,e)};function p8(n,e){iS(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var dn=function(){return dn=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++){t=arguments[r];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},dn.apply(this,arguments)};function g8(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}var m8={width:"auto",height:"auto",display:"inline-block",position:"absolute",top:0,left:0},y8=function(n){return{bottom:n,bottomLeft:n,bottomRight:n,left:n,right:n,top:n,topLeft:n,topRight:n}},v8=function(n){p8(e,n);function e(t){var r=n.call(this,t)||this;return r.resizingPosition={x:0,y:0},r.offsetFromParent={left:0,top:0},r.resizableElement={current:null},r.originalPosition={x:0,y:0},r.state={resizing:!1,bounds:{top:0,right:0,bottom:0,left:0},maxWidth:t.maxWidth,maxHeight:t.maxHeight},r.onResizeStart=r.onResizeStart.bind(r),r.onResize=r.onResize.bind(r),r.onResizeStop=r.onResizeStop.bind(r),r.onDragStart=r.onDragStart.bind(r),r.onDrag=r.onDrag.bind(r),r.onDragStop=r.onDragStop.bind(r),r.getMaxSizesFromProps=r.getMaxSizesFromProps.bind(r),r}return e.prototype.componentDidMount=function(){this.updateOffsetFromParent();var t=this.offsetFromParent,r=t.left,i=t.top,s=this.getDraggablePosition(),a=s.x,l=s.y;this.draggable.setState({x:a-r,y:l-i}),this.forceUpdate()},e.prototype.getDraggablePosition=function(){var t=this.draggable.state,r=t.x,i=t.y;return{x:r,y:i}},e.prototype.getParent=function(){return this.resizable&&this.resizable.parentNode},e.prototype.getParentSize=function(){return this.resizable.getParentSize()},e.prototype.getMaxSizesFromProps=function(){var t=typeof this.props.maxWidth>"u"?Number.MAX_SAFE_INTEGER:this.props.maxWidth,r=typeof this.props.maxHeight>"u"?Number.MAX_SAFE_INTEGER:this.props.maxHeight;return{maxWidth:t,maxHeight:r}},e.prototype.getSelfElement=function(){return this.resizable&&this.resizable.resizable},e.prototype.getOffsetHeight=function(t){var r=this.props.scale;switch(this.props.bounds){case"window":return window.innerHeight/r;case"body":return document.body.offsetHeight/r;default:return t.offsetHeight}},e.prototype.getOffsetWidth=function(t){var r=this.props.scale;switch(this.props.bounds){case"window":return window.innerWidth/r;case"body":return document.body.offsetWidth/r;default:return t.offsetWidth}},e.prototype.onDragStart=function(t,r){this.props.onDragStart&&this.props.onDragStart(t,r);var i=this.getDraggablePosition();if(this.originalPosition=i,!!this.props.bounds){var s=this.getParent(),a=this.props.scale,l;if(this.props.bounds==="parent")l=s;else if(this.props.bounds==="body"){var u=s.getBoundingClientRect(),d=u.left,h=u.top,p=document.body.getBoundingClientRect(),g=-(d-s.offsetLeft*a-p.left)/a,y=-(h-s.offsetTop*a-p.top)/a,b=(document.body.offsetWidth-this.resizable.size.width*a)/a+g,w=(document.body.offsetHeight-this.resizable.size.height*a)/a+y;return this.setState({bounds:{top:y,right:b,bottom:w,left:g}})}else if(this.props.bounds==="window"){if(!this.resizable)return;var C=s.getBoundingClientRect(),x=C.left,A=C.top,E=-(x-s.offsetLeft*a)/a,_=-(A-s.offsetTop*a)/a,b=(window.innerWidth-this.resizable.size.width*a)/a+E,w=(window.innerHeight-this.resizable.size.height*a)/a+_;return this.setState({bounds:{top:_,right:b,bottom:w,left:E}})}else typeof this.props.bounds=="string"?l=document.querySelector(this.props.bounds):this.props.bounds instanceof HTMLElement&&(l=this.props.bounds);if(!(!(l instanceof HTMLElement)||!(s instanceof HTMLElement))){var k=l.getBoundingClientRect(),M=k.left,T=k.top,N=s.getBoundingClientRect(),W=N.left,P=N.top,V=(M-W)/a,X=T-P;if(this.resizable){this.updateOffsetFromParent();var Y=this.offsetFromParent;this.setState({bounds:{top:X-Y.top,right:V+(l.offsetWidth-this.resizable.size.width)-Y.left/a,bottom:X+(l.offsetHeight-this.resizable.size.height)-Y.top,left:V-Y.left/a}})}}}},e.prototype.onDrag=function(t,r){if(this.props.onDrag){var i=this.offsetFromParent,s=i.left,a=i.top;if(!this.props.dragAxis||this.props.dragAxis==="both")return this.props.onDrag(t,dn(dn({},r),{x:r.x+s,y:r.y+a}));if(this.props.dragAxis==="x")return this.props.onDrag(t,dn(dn({},r),{x:r.x+s,y:this.originalPosition.y+a,deltaY:0}));if(this.props.dragAxis==="y")return this.props.onDrag(t,dn(dn({},r),{x:this.originalPosition.x+s,y:r.y+a,deltaX:0}))}},e.prototype.onDragStop=function(t,r){if(this.props.onDragStop){var i=this.offsetFromParent,s=i.left,a=i.top;if(!this.props.dragAxis||this.props.dragAxis==="both")return this.props.onDragStop(t,dn(dn({},r),{x:r.x+s,y:r.y+a}));if(this.props.dragAxis==="x")return this.props.onDragStop(t,dn(dn({},r),{x:r.x+s,y:this.originalPosition.y+a,deltaY:0}));if(this.props.dragAxis==="y")return this.props.onDragStop(t,dn(dn({},r),{x:this.originalPosition.x+s,y:r.y+a,deltaX:0}))}},e.prototype.onResizeStart=function(t,r,i){t.stopPropagation(),this.setState({resizing:!0});var s=this.props.scale,a=this.offsetFromParent,l=this.getDraggablePosition();if(this.resizingPosition={x:l.x+a.left,y:l.y+a.top},this.originalPosition=l,this.props.bounds){var u=this.getParent(),d=void 0;this.props.bounds==="parent"?d=u:this.props.bounds==="body"?d=document.body:this.props.bounds==="window"?d=window:typeof this.props.bounds=="string"?d=document.querySelector(this.props.bounds):this.props.bounds instanceof HTMLElement&&(d=this.props.bounds);var h=this.getSelfElement();if(h instanceof Element&&(d instanceof HTMLElement||d===window)&&u instanceof HTMLElement){var p=this.getMaxSizesFromProps(),g=p.maxWidth,y=p.maxHeight,b=this.getParentSize();if(g&&typeof g=="string")if(g.endsWith("%")){var w=Number(g.replace("%",""))/100;g=b.width*w}else g.endsWith("px")&&(g=Number(g.replace("px","")));if(y&&typeof y=="string")if(y.endsWith("%")){var w=Number(y.replace("%",""))/100;y=b.height*w}else y.endsWith("px")&&(y=Number(y.replace("px","")));var C=h.getBoundingClientRect(),x=C.left,A=C.top,E=this.props.bounds==="window"?{left:0,top:0}:d.getBoundingClientRect(),_=E.left,k=E.top,M=this.getOffsetWidth(d),T=this.getOffsetHeight(d),N=r.toLowerCase().endsWith("left"),W=r.toLowerCase().endsWith("right"),P=r.startsWith("top"),V=r.startsWith("bottom");if((N||P)&&this.resizable){var X=(x-_)/s+this.resizable.size.width;this.setState({maxWidth:X>Number(g)?g:X})}if(W||this.props.lockAspectRatio&&!N&&!P){var X=M+(_-x)/s;this.setState({maxWidth:X>Number(g)?g:X})}if((P||N)&&this.resizable){var X=(A-k)/s+this.resizable.size.height;this.setState({maxHeight:X>Number(y)?y:X})}if(V||this.props.lockAspectRatio&&!P&&!N){var X=T+(k-A)/s;this.setState({maxHeight:X>Number(y)?y:X})}}}else this.setState({maxWidth:this.props.maxWidth,maxHeight:this.props.maxHeight});this.props.onResizeStart&&this.props.onResizeStart(t,r,i)},e.prototype.onResize=function(t,r,i,s){var a=this,l={x:this.originalPosition.x,y:this.originalPosition.y},u=-s.width,d=-s.height,h=["top","left","topLeft","bottomLeft","topRight"];h.includes(r)&&(r==="bottomLeft"?l.x+=u:(r==="topRight"||(l.x+=u),l.y+=d));var p=this.draggable.state;(l.x!==p.x||l.y!==p.y)&&yg.flushSync(function(){a.draggable.setState(l)}),this.updateOffsetFromParent();var g=this.offsetFromParent,y=this.getDraggablePosition().x+g.left,b=this.getDraggablePosition().y+g.top;this.resizingPosition={x:y,y:b},this.props.onResize&&this.props.onResize(t,r,i,s,{x:y,y:b})},e.prototype.onResizeStop=function(t,r,i,s){this.setState({resizing:!1});var a=this.getMaxSizesFromProps(),l=a.maxWidth,u=a.maxHeight;this.setState({maxWidth:l,maxHeight:u}),this.props.onResizeStop&&this.props.onResizeStop(t,r,i,s,this.resizingPosition)},e.prototype.updateSize=function(t){this.resizable&&this.resizable.updateSize({width:t.width,height:t.height})},e.prototype.updatePosition=function(t){this.draggable.setState(t)},e.prototype.updateOffsetFromParent=function(){var t=this.props.scale,r=this.getParent(),i=this.getSelfElement();if(!r||i===null)return{top:0,left:0};var s=r.getBoundingClientRect(),a=s.left,l=s.top,u=i.getBoundingClientRect(),d=this.getDraggablePosition(),h=r.scrollLeft,p=r.scrollTop;this.offsetFromParent={left:u.left-a+h-d.x*t,top:u.top-l+p-d.y*t}},e.prototype.render=function(){var t=this,r=this.props,i=r.disableDragging,s=r.style,a=r.dragHandleClassName,l=r.position,u=r.onMouseDown,d=r.onMouseUp,h=r.dragAxis,p=r.dragGrid,g=r.bounds,y=r.enableUserSelectHack,b=r.cancel,w=r.children;r.onResizeStart,r.onResize,r.onResizeStop,r.onDragStart,r.onDrag,r.onDragStop;var C=r.resizeHandleStyles,x=r.resizeHandleClasses,A=r.resizeHandleComponent,E=r.enableResizing,_=r.resizeGrid,k=r.resizeHandleWrapperClass,M=r.resizeHandleWrapperStyle,T=r.scale,N=r.allowAnyClick,W=r.dragPositionOffset,P=g8(r,["disableDragging","style","dragHandleClassName","position","onMouseDown","onMouseUp","dragAxis","dragGrid","bounds","enableUserSelectHack","cancel","children","onResizeStart","onResize","onResizeStop","onDragStart","onDrag","onDragStop","resizeHandleStyles","resizeHandleClasses","resizeHandleComponent","enableResizing","resizeGrid","resizeHandleWrapperClass","resizeHandleWrapperStyle","scale","allowAnyClick","dragPositionOffset"]),V=this.props.default?dn({},this.props.default):void 0;delete P.default;var X=i||a?{cursor:"auto"}:{cursor:"move"},Y=dn(dn(dn({},m8),X),s),D=this.offsetFromParent,G=D.left,j=D.top,q;l&&(q={x:l.x-G,y:l.y-j});var $=this.state.resizing?void 0:q,B=this.state.resizing?"both":h;return I.createElement(i8,{ref:function(K){K&&(t.draggable=K)},handle:a?".".concat(a):void 0,defaultPosition:V,onMouseDown:u,onMouseUp:d,onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop,axis:B,disabled:i,grid:p,bounds:g?this.state.bounds:void 0,position:$,enableUserSelectHack:y,cancel:b,scale:T,allowAnyClick:N,nodeRef:this.resizableElement,positionOffset:W},I.createElement(f8,dn({},P,{ref:function(K){K&&(t.resizable=K,t.resizableElement.current=K.resizable)},defaultSize:V,size:this.props.size,enable:typeof E=="boolean"?y8(E):E,onResizeStart:this.onResizeStart,onResize:this.onResize,onResizeStop:this.onResizeStop,style:Y,minWidth:this.props.minWidth,minHeight:this.props.minHeight,maxWidth:this.state.resizing?this.state.maxWidth:this.props.maxWidth,maxHeight:this.state.resizing?this.state.maxHeight:this.props.maxHeight,grid:_,handleWrapperClass:k,handleWrapperStyle:M,lockAspectRatio:this.props.lockAspectRatio,lockAspectRatioExtraWidth:this.props.lockAspectRatioExtraWidth,lockAspectRatioExtraHeight:this.props.lockAspectRatioExtraHeight,handleStyles:C,handleClasses:x,handleComponent:A,scale:this.props.scale}),w))},e.defaultProps={maxWidth:Number.MAX_SAFE_INTEGER,maxHeight:Number.MAX_SAFE_INTEGER,scale:1,onResizeStart:function(){},onResize:function(){},onResizeStop:function(){},onDragStart:function(){},onDrag:function(){},onDragStop:function(){}},e}(I.PureComponent);const b8=({highlight:n,onChange:e,isScrolledTo:t,bounds:r,onContextMenu:i,onEditStart:s,style:a})=>{const l=t?"AreaHighlight--scrolledTo":"",u=`${n.position.boundingRect.width}${n.position.boundingRect.height}${n.position.boundingRect.left}${n.position.boundingRect.top}`;return ct.createElement("div",{className:`AreaHighlight ${l}`,onContextMenu:i},ct.createElement(v8,{className:"AreaHighlight__part",onDragStop:(d,h)=>{const p={...n.position.boundingRect,top:h.y,left:h.x};e&&e(p)},onResizeStop:(d,h,p,g,y)=>{var w;const b={top:y.y,left:y.x,width:p.offsetWidth,height:p.offsetHeight,pageNumber:((w=cf(p))==null?void 0:w.number)||-1};e&&e(b)},onDragStart:s,onResizeStart:s,default:{x:n.position.boundingRect.left,y:n.position.boundingRect.top,width:n.position.boundingRect.width,height:n.position.boundingRect.height},key:u,bounds:r,onClick:d=>{d.stopPropagation(),d.preventDefault()},style:a}))};var uf={};uf.d=(n,e)=>{for(var t in e)uf.o(e,t)&&!uf.o(n,t)&&Object.defineProperty(n,t,{enumerable:!0,get:e[t]})};uf.o=(n,e)=>Object.prototype.hasOwnProperty.call(n,e);var He=globalThis.pdfjsLib={};uf.d(He,{AbortException:()=>kc,AnnotationEditorLayer:()=>p1,AnnotationEditorParamsType:()=>We,AnnotationEditorType:()=>Ke,AnnotationEditorUIManager:()=>bc,AnnotationLayer:()=>y9,AnnotationMode:()=>ua,CMapCompressionType:()=>oS,ColorPicker:()=>E0,DOMSVGFactory:()=>pE,DrawLayer:()=>v1,FeatureTest:()=>br,GlobalWorkerOptions:()=>vo,ImageKind:()=>ky,InvalidPDFException:()=>CI,MissingPDFException:()=>Ac,OPS:()=>bi,Outliner:()=>qS,PDFDataRangeTransport:()=>bN,PDFDateString:()=>MI,PDFWorker:()=>ku,PasswordResponses:()=>E8,PermissionFlag:()=>S8,PixelsPerInch:()=>za,RenderingCancelledException:()=>gE,TextLayer:()=>Nd,UnexpectedResponseException:()=>Rv,Util:()=>Me,VerbosityLevel:()=>_v,XfaLayer:()=>xN,build:()=>QG,createValidAbsoluteUrl:()=>k8,fetchData:()=>Nv,getDocument:()=>jG,getFilenameFromUrl:()=>F8,getPdfFilenameFromUrl:()=>z8,getXfaPageViewport:()=>$8,isDataScheme:()=>mE,isPdfFile:()=>yE,noContextMenu:()=>xr,normalizeUnicode:()=>N8,renderTextLayer:()=>NG,setLayerDimensions:()=>vc,shadow:()=>Je,updateTextLayer:()=>LG,version:()=>KG});const Gn=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),EI=[1,0,0,1,0,0],sS=[.001,0,0,.001,0,0],w8=1e7,hx=1.35,oi={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256},ua={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},x8="pdfjs_internal_editor_",Ke={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15},We={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_DEFAULT_COLOR:32,HIGHLIGHT_THICKNESS:33,HIGHLIGHT_FREE:34,HIGHLIGHT_SHOW_ALL:35},S8={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},$n={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},ky={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},un={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,WIDGET:20},Ih={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},_v={ERRORS:0,WARNINGS:1,INFOS:5},oS={NONE:0,BINARY:1},bi={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91},E8={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let Av=_v.WARNINGS;function C8(n){Number.isInteger(n)&&(Av=n)}function _8(){return Av}function kv(n){Av>=_v.INFOS&&console.log(`Info: ${n}`)}function Ve(n){Av>=_v.WARNINGS&&console.log(`Warning: ${n}`)}function bt(n){throw new Error(n)}function mn(n,e){n||bt(e)}function A8(n){switch(n==null?void 0:n.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function k8(n,e=null,t=null){if(!n)return null;try{if(t&&typeof n=="string"){if(t.addDefaultProtocol&&n.startsWith("www.")){const i=n.match(/\./g);(i==null?void 0:i.length)>=2&&(n=`http://${n}`)}if(t.tryConvertEncoding)try{n=I8(n)}catch{}}const r=e?new URL(n,e):new URL(n);if(A8(r))return r}catch{}return null}function Je(n,e,t,r=!1){return Object.defineProperty(n,e,{value:t,enumerable:!r,configurable:!0,writable:!1}),t}const ja=function(){function e(t,r){this.constructor===e&&bt("Cannot initialize BaseException."),this.message=t,this.name=r}return e.prototype=new Error,e.constructor=e,e}();class aS extends ja{constructor(e,t){super(e,"PasswordException"),this.code=t}}class lS extends ja{constructor(e,t){super(e,"UnknownErrorException"),this.details=t}}class CI extends ja{constructor(e){super(e,"InvalidPDFException")}}class Ac extends ja{constructor(e){super(e,"MissingPDFException")}}class Rv extends ja{constructor(e,t){super(e,"UnexpectedResponseException"),this.status=t}}class R8 extends ja{constructor(e){super(e,"FormatError")}}class kc extends ja{constructor(e){super(e,"AbortException")}}function _I(n){(typeof n!="object"||(n==null?void 0:n.length)===void 0)&&bt("Invalid argument for bytesToString");const e=n.length,t=8192;if(e<t)return String.fromCharCode.apply(null,n);const r=[];for(let i=0;i<e;i+=t){const s=Math.min(i+t,e),a=n.subarray(i,s);r.push(String.fromCharCode.apply(null,a))}return r.join("")}function Tv(n){typeof n!="string"&&bt("Invalid argument for stringToBytes");const e=n.length,t=new Uint8Array(e);for(let r=0;r<e;++r)t[r]=n.charCodeAt(r)&255;return t}function T8(n){return String.fromCharCode(n>>24&255,n>>16&255,n>>8&255,n&255)}function hE(n){const e=Object.create(null);for(const[t,r]of n)e[t]=r;return e}function P8(){const n=new Uint8Array(4);return n[0]=1,new Uint32Array(n.buffer,0,1)[0]===1}function M8(){try{return new Function(""),!0}catch{return!1}}class br{static get isLittleEndian(){return Je(this,"isLittleEndian",P8())}static get isEvalSupported(){return Je(this,"isEvalSupported",M8())}static get isOffscreenCanvasSupported(){return Je(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.platform)=="string"?Je(this,"platform",{isMac:navigator.platform.includes("Mac")}):Je(this,"platform",{isMac:!1})}static get isCSSRoundSupported(){var e,t;return Je(this,"isCSSRoundSupported",(t=(e=globalThis.CSS)==null?void 0:e.supports)==null?void 0:t.call(e,"width: round(1.5px, 1px)"))}}const fx=Array.from(Array(256).keys(),n=>n.toString(16).padStart(2,"0"));var wo,Ry,cS;class Me{static makeHexColor(e,t,r){return`#${fx[e]}${fx[t]}${fx[r]}`}static scaleMinMax(e,t){let r;e[0]?(e[0]<0&&(r=t[0],t[0]=t[2],t[2]=r),t[0]*=e[0],t[2]*=e[0],e[3]<0&&(r=t[1],t[1]=t[3],t[3]=r),t[1]*=e[3],t[3]*=e[3]):(r=t[0],t[0]=t[1],t[1]=r,r=t[2],t[2]=t[3],t[3]=r,e[1]<0&&(r=t[1],t[1]=t[3],t[3]=r),t[1]*=e[1],t[3]*=e[1],e[2]<0&&(r=t[0],t[0]=t[2],t[2]=r),t[0]*=e[2],t[2]*=e[2]),t[0]+=e[4],t[1]+=e[5],t[2]+=e[4],t[3]+=e[5]}static transform(e,t){return[e[0]*t[0]+e[2]*t[1],e[1]*t[0]+e[3]*t[1],e[0]*t[2]+e[2]*t[3],e[1]*t[2]+e[3]*t[3],e[0]*t[4]+e[2]*t[5]+e[4],e[1]*t[4]+e[3]*t[5]+e[5]]}static applyTransform(e,t){const r=e[0]*t[0]+e[1]*t[2]+t[4],i=e[0]*t[1]+e[1]*t[3]+t[5];return[r,i]}static applyInverseTransform(e,t){const r=t[0]*t[3]-t[1]*t[2],i=(e[0]*t[3]-e[1]*t[2]+t[2]*t[5]-t[4]*t[3])/r,s=(-e[0]*t[1]+e[1]*t[0]+t[4]*t[1]-t[5]*t[0])/r;return[i,s]}static getAxialAlignedBoundingBox(e,t){const r=this.applyTransform(e,t),i=this.applyTransform(e.slice(2,4),t),s=this.applyTransform([e[0],e[3]],t),a=this.applyTransform([e[2],e[1]],t);return[Math.min(r[0],i[0],s[0],a[0]),Math.min(r[1],i[1],s[1],a[1]),Math.max(r[0],i[0],s[0],a[0]),Math.max(r[1],i[1],s[1],a[1])]}static inverseTransform(e){const t=e[0]*e[3]-e[1]*e[2];return[e[3]/t,-e[1]/t,-e[2]/t,e[0]/t,(e[2]*e[5]-e[4]*e[3])/t,(e[4]*e[1]-e[5]*e[0])/t]}static singularValueDecompose2dScale(e){const t=[e[0],e[2],e[1],e[3]],r=e[0]*t[0]+e[1]*t[2],i=e[0]*t[1]+e[1]*t[3],s=e[2]*t[0]+e[3]*t[2],a=e[2]*t[1]+e[3]*t[3],l=(r+a)/2,u=Math.sqrt((r+a)**2-4*(r*a-s*i))/2,d=l+u||1,h=l-u||1;return[Math.sqrt(d),Math.sqrt(h)]}static normalizeRect(e){const t=e.slice(0);return e[0]>e[2]&&(t[0]=e[2],t[2]=e[0]),e[1]>e[3]&&(t[1]=e[3],t[3]=e[1]),t}static intersect(e,t){const r=Math.max(Math.min(e[0],e[2]),Math.min(t[0],t[2])),i=Math.min(Math.max(e[0],e[2]),Math.max(t[0],t[2]));if(r>i)return null;const s=Math.max(Math.min(e[1],e[3]),Math.min(t[1],t[3])),a=Math.min(Math.max(e[1],e[3]),Math.max(t[1],t[3]));return s>a?null:[r,s,i,a]}static bezierBoundingBox(e,t,r,i,s,a,l,u,d){return d?(d[0]=Math.min(d[0],e,l),d[1]=Math.min(d[1],t,u),d[2]=Math.max(d[2],e,l),d[3]=Math.max(d[3],t,u)):d=[Math.min(e,l),Math.min(t,u),Math.max(e,l),Math.max(t,u)],z(this,wo,cS).call(this,e,r,s,l,t,i,a,u,3*(-e+3*(r-s)+l),6*(e-2*r+s),3*(r-e),d),z(this,wo,cS).call(this,e,r,s,l,t,i,a,u,3*(-t+3*(i-a)+u),6*(t-2*i+a),3*(i-t),d),d}}wo=new WeakSet,Ry=function(e,t,r,i,s,a,l,u,d,h){if(d<=0||d>=1)return;const p=1-d,g=d*d,y=g*d,b=p*(p*(p*e+3*d*t)+3*g*r)+y*i,w=p*(p*(p*s+3*d*a)+3*g*l)+y*u;h[0]=Math.min(h[0],b),h[1]=Math.min(h[1],w),h[2]=Math.max(h[2],b),h[3]=Math.max(h[3],w)},cS=function(e,t,r,i,s,a,l,u,d,h,p,g){if(Math.abs(d)<1e-12){Math.abs(h)>=1e-12&&z(this,wo,Ry).call(this,e,t,r,i,s,a,l,u,-p/h,g);return}const y=h**2-4*p*d;if(y<0)return;const b=Math.sqrt(y),w=2*d;z(this,wo,Ry).call(this,e,t,r,i,s,a,l,u,(-h+b)/w,g),z(this,wo,Ry).call(this,e,t,r,i,s,a,l,u,(-h-b)/w,g)},H(Me,wo);function I8(n){return decodeURIComponent(escape(n))}let px=null,zR=null;function N8(n){return px||(px=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,zR=new Map([["ﬅ","ſt"]])),n.replaceAll(px,(e,t,r)=>t?t.normalize("NFKC"):zR.get(r))}function L8(){if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.randomUUID)=="function")return crypto.randomUUID();const n=new Uint8Array(32);if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.getRandomValues)=="function")crypto.getRandomValues(n);else for(let e=0;e<32;e++)n[e]=Math.floor(Math.random()*255);return _I(n)}const AI="pdfjs_internal_id_",zs={BEZIER_CURVE_TO:0,MOVE_TO:1,LINE_TO:2,QUADRATIC_CURVE_TO:3,RESTORE:4,SAVE:5,SCALE:6,TRANSFORM:7,TRANSLATE:8};class Pv{constructor(){this.constructor===Pv&&bt("Cannot initialize BaseFilterFactory.")}addFilter(e){return"none"}addHCMFilter(e,t){return"none"}addAlphaFilter(e){return"none"}addLuminosityFilter(e){return"none"}addHighlightHCMFilter(e,t,r,i,s){return"none"}destroy(e=!1){}}var Nf;const EE=class EE{constructor({enableHWA:e=!1}={}){H(this,Nf,!1);this.constructor===EE&&bt("Cannot initialize BaseCanvasFactory."),F(this,Nf,e)}create(e,t){if(e<=0||t<=0)throw new Error("Invalid canvas size");const r=this._createCanvas(e,t);return{canvas:r,context:r.getContext("2d",{willReadFrequently:!m(this,Nf)})}}reset(e,t,r){if(!e.canvas)throw new Error("Canvas is not specified");if(t<=0||r<=0)throw new Error("Invalid canvas size");e.canvas.width=t,e.canvas.height=r}destroy(e){if(!e.canvas)throw new Error("Canvas is not specified");e.canvas.width=0,e.canvas.height=0,e.canvas=null,e.context=null}_createCanvas(e,t){bt("Abstract method `_createCanvas` called.")}};Nf=new WeakMap;let v0=EE;class Mv{constructor({baseUrl:e=null,isCompressed:t=!0}){this.constructor===Mv&&bt("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=e,this.isCompressed=t}async fetch({name:e}){if(!this.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!e)throw new Error("CMap name must be specified.");const t=this.baseUrl+e+(this.isCompressed?".bcmap":""),r=this.isCompressed?oS.BINARY:oS.NONE;return this._fetchData(t,r).catch(i=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${t}`)})}_fetchData(e,t){bt("Abstract method `_fetchData` called.")}}class Iv{constructor({baseUrl:e=null}){this.constructor===Iv&&bt("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!e)throw new Error("Font filename must be specified.");const t=`${this.baseUrl}${e}`;return this._fetchData(t).catch(r=>{throw new Error(`Unable to load font data at: ${t}`)})}_fetchData(e){bt("Abstract method `_fetchData` called.")}}class fE{constructor(){this.constructor===fE&&bt("Cannot initialize BaseSVGFactory.")}create(e,t,r=!1){if(e<=0||t<=0)throw new Error("Invalid SVG dimensions");const i=this._createSVG("svg:svg");return i.setAttribute("version","1.1"),r||(i.setAttribute("width",`${e}px`),i.setAttribute("height",`${t}px`)),i.setAttribute("preserveAspectRatio","none"),i.setAttribute("viewBox",`0 0 ${e} ${t}`),i}createElement(e){if(typeof e!="string")throw new Error("Invalid SVG element type");return this._createSVG(e)}_createSVG(e){bt("Abstract method `_createSVG` called.")}}const Bs="http://www.w3.org/2000/svg",pl=class pl{};Be(pl,"CSS",96),Be(pl,"PDF",72),Be(pl,"PDF_TO_CSS_UNITS",pl.CSS/pl.PDF);let za=pl;var vl,Zi,Vs,gr,_0,bl,Ae,Bn,hu,fu,Ty,kI,uS,pu,jh,Wh,dS,Uh;class D8 extends Pv{constructor({docId:t,ownerDocument:r=globalThis.document}={}){super();H(this,Ae);H(this,vl);H(this,Zi);H(this,Vs);H(this,gr);H(this,_0);H(this,bl,0);F(this,Vs,t),F(this,gr,r)}addFilter(t){if(!t)return"none";let r=m(this,Ae,Bn).get(t);if(r)return r;const[i,s,a]=z(this,Ae,Ty).call(this,t),l=t.length===1?i:`${i}${s}${a}`;if(r=m(this,Ae,Bn).get(l),r)return m(this,Ae,Bn).set(t,r),r;const u=`g_${m(this,Vs)}_transfer_map_${Mr(this,bl)._++}`,d=`url(#${u})`;m(this,Ae,Bn).set(t,d),m(this,Ae,Bn).set(l,d);const h=z(this,Ae,pu).call(this,u);return z(this,Ae,Wh).call(this,i,s,a,h),d}addHCMFilter(t,r){var b;const i=`${t}-${r}`,s="base";let a=m(this,Ae,hu).get(s);if((a==null?void 0:a.key)===i||(a?((b=a.filter)==null||b.remove(),a.key=i,a.url="none",a.filter=null):(a={key:i,url:"none",filter:null},m(this,Ae,hu).set(s,a)),!t||!r))return a.url;const l=z(this,Ae,Uh).call(this,t);t=Me.makeHexColor(...l);const u=z(this,Ae,Uh).call(this,r);if(r=Me.makeHexColor(...u),m(this,Ae,fu).style.color="",t==="#000000"&&r==="#ffffff"||t===r)return a.url;const d=new Array(256);for(let w=0;w<=255;w++){const C=w/255;d[w]=C<=.03928?C/12.92:((C+.055)/1.055)**2.4}const h=d.join(","),p=`g_${m(this,Vs)}_hcm_filter`,g=a.filter=z(this,Ae,pu).call(this,p);z(this,Ae,Wh).call(this,h,h,h,g),z(this,Ae,uS).call(this,g);const y=(w,C)=>{const x=l[w]/255,A=u[w]/255,E=new Array(C+1);for(let _=0;_<=C;_++)E[_]=x+_/C*(A-x);return E.join(",")};return z(this,Ae,Wh).call(this,y(0,5),y(1,5),y(2,5),g),a.url=`url(#${p})`,a.url}addAlphaFilter(t){let r=m(this,Ae,Bn).get(t);if(r)return r;const[i]=z(this,Ae,Ty).call(this,[t]),s=`alpha_${i}`;if(r=m(this,Ae,Bn).get(s),r)return m(this,Ae,Bn).set(t,r),r;const a=`g_${m(this,Vs)}_alpha_map_${Mr(this,bl)._++}`,l=`url(#${a})`;m(this,Ae,Bn).set(t,l),m(this,Ae,Bn).set(s,l);const u=z(this,Ae,pu).call(this,a);return z(this,Ae,dS).call(this,i,u),l}addLuminosityFilter(t){let r=m(this,Ae,Bn).get(t||"luminosity");if(r)return r;let i,s;if(t?([i]=z(this,Ae,Ty).call(this,[t]),s=`luminosity_${i}`):s="luminosity",r=m(this,Ae,Bn).get(s),r)return m(this,Ae,Bn).set(t,r),r;const a=`g_${m(this,Vs)}_luminosity_map_${Mr(this,bl)._++}`,l=`url(#${a})`;m(this,Ae,Bn).set(t,l),m(this,Ae,Bn).set(s,l);const u=z(this,Ae,pu).call(this,a);return z(this,Ae,kI).call(this,u),t&&z(this,Ae,dS).call(this,i,u),l}addHighlightHCMFilter(t,r,i,s,a){var A;const l=`${r}-${i}-${s}-${a}`;let u=m(this,Ae,hu).get(t);if((u==null?void 0:u.key)===l||(u?((A=u.filter)==null||A.remove(),u.key=l,u.url="none",u.filter=null):(u={key:l,url:"none",filter:null},m(this,Ae,hu).set(t,u)),!r||!i))return u.url;const[d,h]=[r,i].map(z(this,Ae,Uh).bind(this));let p=Math.round(.2126*d[0]+.7152*d[1]+.0722*d[2]),g=Math.round(.2126*h[0]+.7152*h[1]+.0722*h[2]),[y,b]=[s,a].map(z(this,Ae,Uh).bind(this));g<p&&([p,g,y,b]=[g,p,b,y]),m(this,Ae,fu).style.color="";const w=(E,_,k)=>{const M=new Array(256),T=(g-p)/k,N=E/255,W=(_-E)/(255*k);let P=0;for(let V=0;V<=k;V++){const X=Math.round(p+V*T),Y=N+V*W;for(let D=P;D<=X;D++)M[D]=Y;P=X+1}for(let V=P;V<256;V++)M[V]=M[P-1];return M.join(",")},C=`g_${m(this,Vs)}_hcm_${t}_filter`,x=u.filter=z(this,Ae,pu).call(this,C);return z(this,Ae,uS).call(this,x),z(this,Ae,Wh).call(this,w(y[0],b[0],5),w(y[1],b[1],5),w(y[2],b[2],5),x),u.url=`url(#${C})`,u.url}destroy(t=!1){t&&m(this,Ae,hu).size!==0||(m(this,Zi)&&(m(this,Zi).parentNode.parentNode.remove(),F(this,Zi,null)),m(this,vl)&&(m(this,vl).clear(),F(this,vl,null)),F(this,bl,0))}}vl=new WeakMap,Zi=new WeakMap,Vs=new WeakMap,gr=new WeakMap,_0=new WeakMap,bl=new WeakMap,Ae=new WeakSet,Bn=function(){return m(this,vl)||F(this,vl,new Map)},hu=function(){return m(this,_0)||F(this,_0,new Map)},fu=function(){if(!m(this,Zi)){const t=m(this,gr).createElement("div"),{style:r}=t;r.visibility="hidden",r.contain="strict",r.width=r.height=0,r.position="absolute",r.top=r.left=0,r.zIndex=-1;const i=m(this,gr).createElementNS(Bs,"svg");i.setAttribute("width",0),i.setAttribute("height",0),F(this,Zi,m(this,gr).createElementNS(Bs,"defs")),t.append(i),i.append(m(this,Zi)),m(this,gr).body.append(t)}return m(this,Zi)},Ty=function(t){if(t.length===1){const d=t[0],h=new Array(256);for(let g=0;g<256;g++)h[g]=d[g]/255;const p=h.join(",");return[p,p,p]}const[r,i,s]=t,a=new Array(256),l=new Array(256),u=new Array(256);for(let d=0;d<256;d++)a[d]=r[d]/255,l[d]=i[d]/255,u[d]=s[d]/255;return[a.join(","),l.join(","),u.join(",")]},kI=function(t){const r=m(this,gr).createElementNS(Bs,"feColorMatrix");r.setAttribute("type","matrix"),r.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),t.append(r)},uS=function(t){const r=m(this,gr).createElementNS(Bs,"feColorMatrix");r.setAttribute("type","matrix"),r.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),t.append(r)},pu=function(t){const r=m(this,gr).createElementNS(Bs,"filter");return r.setAttribute("color-interpolation-filters","sRGB"),r.setAttribute("id",t),m(this,Ae,fu).append(r),r},jh=function(t,r,i){const s=m(this,gr).createElementNS(Bs,r);s.setAttribute("type","discrete"),s.setAttribute("tableValues",i),t.append(s)},Wh=function(t,r,i,s){const a=m(this,gr).createElementNS(Bs,"feComponentTransfer");s.append(a),z(this,Ae,jh).call(this,a,"feFuncR",t),z(this,Ae,jh).call(this,a,"feFuncG",r),z(this,Ae,jh).call(this,a,"feFuncB",i)},dS=function(t,r){const i=m(this,gr).createElementNS(Bs,"feComponentTransfer");r.append(i),z(this,Ae,jh).call(this,i,"feFuncA",t)},Uh=function(t){return m(this,Ae,fu).style.color=t,vE(getComputedStyle(m(this,Ae,fu)).getPropertyValue("color"))};class O8 extends v0{constructor({ownerDocument:e=globalThis.document,enableHWA:t=!1}={}){super({enableHWA:t}),this._document=e}_createCanvas(e,t){const r=this._document.createElement("canvas");return r.width=e,r.height=t,r}}async function Nv(n,e="text"){if(Vh(n,document.baseURI)){const t=await fetch(n);if(!t.ok)throw new Error(t.statusText);switch(e){case"arraybuffer":return t.arrayBuffer();case"blob":return t.blob();case"json":return t.json()}return t.text()}return new Promise((t,r)=>{const i=new XMLHttpRequest;i.open("GET",n,!0),i.responseType=e,i.onreadystatechange=()=>{if(i.readyState===XMLHttpRequest.DONE){if(i.status===200||i.status===0){switch(e){case"arraybuffer":case"blob":case"json":t(i.response);return}t(i.responseText);return}r(new Error(i.statusText))}},i.send(null)})}class RI extends Mv{_fetchData(e,t){return Nv(e,this.isCompressed?"arraybuffer":"text").then(r=>({cMapData:r instanceof ArrayBuffer?new Uint8Array(r):Tv(r),compressionType:t}))}}class TI extends Iv{_fetchData(e){return Nv(e,"arraybuffer").then(t=>new Uint8Array(t))}}class pE extends fE{_createSVG(e){return document.createElementNS(Bs,e)}}class kg{constructor({viewBox:e,scale:t,rotation:r,offsetX:i=0,offsetY:s=0,dontFlip:a=!1}){this.viewBox=e,this.scale=t,this.rotation=r,this.offsetX=i,this.offsetY=s;const l=(e[2]+e[0])/2,u=(e[3]+e[1])/2;let d,h,p,g;switch(r%=360,r<0&&(r+=360),r){case 180:d=-1,h=0,p=0,g=1;break;case 90:d=0,h=1,p=1,g=0;break;case 270:d=0,h=-1,p=-1,g=0;break;case 0:d=1,h=0,p=0,g=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}a&&(p=-p,g=-g);let y,b,w,C;d===0?(y=Math.abs(u-e[1])*t+i,b=Math.abs(l-e[0])*t+s,w=(e[3]-e[1])*t,C=(e[2]-e[0])*t):(y=Math.abs(l-e[0])*t+i,b=Math.abs(u-e[1])*t+s,w=(e[2]-e[0])*t,C=(e[3]-e[1])*t),this.transform=[d*t,h*t,p*t,g*t,y-d*t*l-p*t*u,b-h*t*l-g*t*u],this.width=w,this.height=C}get rawDims(){const{viewBox:e}=this;return Je(this,"rawDims",{pageWidth:e[2]-e[0],pageHeight:e[3]-e[1],pageX:e[0],pageY:e[1]})}clone({scale:e=this.scale,rotation:t=this.rotation,offsetX:r=this.offsetX,offsetY:i=this.offsetY,dontFlip:s=!1}={}){return new kg({viewBox:this.viewBox.slice(),scale:e,rotation:t,offsetX:r,offsetY:i,dontFlip:s})}convertToViewportPoint(e,t){return Me.applyTransform([e,t],this.transform)}convertToViewportRectangle(e){const t=Me.applyTransform([e[0],e[1]],this.transform),r=Me.applyTransform([e[2],e[3]],this.transform);return[t[0],t[1],r[0],r[1]]}convertToPdfPoint(e,t){return Me.applyInverseTransform([e,t],this.transform)}}class gE extends ja{constructor(e,t=0){super(e,"RenderingCancelledException"),this.extraDelay=t}}function mE(n){const e=n.length;let t=0;for(;t<e&&n[t].trim()==="";)t++;return n.substring(t,t+5).toLowerCase()==="data:"}function yE(n){return typeof n=="string"&&/\.pdf$/i.test(n)}function F8(n){return[n]=n.split(/[#?]/,1),n.substring(n.lastIndexOf("/")+1)}function z8(n,e="document.pdf"){if(typeof n!="string")return e;if(mE(n))return Ve('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),e;const t=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,r=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,i=t.exec(n);let s=r.exec(i[1])||r.exec(i[2])||r.exec(i[3]);if(s&&(s=s[0],s.includes("%")))try{s=r.exec(decodeURIComponent(s))[0]}catch{}return s||e}class $R{constructor(){Be(this,"started",Object.create(null));Be(this,"times",[])}time(e){e in this.started&&Ve(`Timer is already running for ${e}`),this.started[e]=Date.now()}timeEnd(e){e in this.started||Ve(`Timer has not been started for ${e}`),this.times.push({name:e,start:this.started[e],end:Date.now()}),delete this.started[e]}toString(){const e=[];let t=0;for(const{name:r}of this.times)t=Math.max(r.length,t);for(const{name:r,start:i,end:s}of this.times)e.push(`${r.padEnd(t)} ${s-i}ms
`);return e.join("")}}function Vh(n,e){try{const{protocol:t}=e?new URL(n,e):new URL(n);return t==="http:"||t==="https:"}catch{return!1}}function xr(n){n.preventDefault()}function PI(n){console.log("Deprecated API usage: "+n)}let BR;class MI{static toDateObject(e){if(!e||typeof e!="string")return null;BR||(BR=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const t=BR.exec(e);if(!t)return null;const r=parseInt(t[1],10);let i=parseInt(t[2],10);i=i>=1&&i<=12?i-1:0;let s=parseInt(t[3],10);s=s>=1&&s<=31?s:1;let a=parseInt(t[4],10);a=a>=0&&a<=23?a:0;let l=parseInt(t[5],10);l=l>=0&&l<=59?l:0;let u=parseInt(t[6],10);u=u>=0&&u<=59?u:0;const d=t[7]||"Z";let h=parseInt(t[8],10);h=h>=0&&h<=23?h:0;let p=parseInt(t[9],10)||0;return p=p>=0&&p<=59?p:0,d==="-"?(a+=h,l+=p):d==="+"&&(a-=h,l-=p),new Date(Date.UTC(r,i,s,a,l,u))}}function $8(n,{scale:e=1,rotation:t=0}){const{width:r,height:i}=n.attributes.style,s=[0,0,parseInt(r),parseInt(i)];return new kg({viewBox:s,scale:e,rotation:t})}function vE(n){if(n.startsWith("#")){const e=parseInt(n.slice(1),16);return[(e&16711680)>>16,(e&65280)>>8,e&255]}return n.startsWith("rgb(")?n.slice(4,-1).split(",").map(e=>parseInt(e)):n.startsWith("rgba(")?n.slice(5,-1).split(",").map(e=>parseInt(e)).slice(0,3):(Ve(`Not a valid color format: "${n}"`),[0,0,0])}function B8(n){const e=document.createElement("span");e.style.visibility="hidden",document.body.append(e);for(const t of n.keys()){e.style.color=t;const r=window.getComputedStyle(e).color;n.set(t,vE(r))}e.remove()}function Ht(n){const{a:e,b:t,c:r,d:i,e:s,f:a}=n.getTransform();return[e,t,r,i,s,a]}function $s(n){const{a:e,b:t,c:r,d:i,e:s,f:a}=n.getTransform().invertSelf();return[e,t,r,i,s,a]}function vc(n,e,t=!1,r=!0){if(e instanceof kg){const{pageWidth:i,pageHeight:s}=e.rawDims,{style:a}=n,l=br.isCSSRoundSupported,u=`var(--scale-factor) * ${i}px`,d=`var(--scale-factor) * ${s}px`,h=l?`round(${u}, 1px)`:`calc(${u})`,p=l?`round(${d}, 1px)`:`calc(${d})`;!t||e.rotation%180===0?(a.width=h,a.height=p):(a.width=p,a.height=h)}r&&n.setAttribute("data-main-rotation",e.rotation)}var wl,xl,Lr,Sl,A0,II,rr,NI,LI,Py,DI,fS;const k0=class k0{constructor(e){H(this,rr);H(this,wl,null);H(this,xl,null);H(this,Lr);H(this,Sl,null);F(this,Lr,e)}render(){const e=F(this,wl,document.createElement("div"));e.className="editToolbar",e.setAttribute("role","toolbar");const t=m(this,Lr)._uiManager._signal;e.addEventListener("contextmenu",xr,{signal:t}),e.addEventListener("pointerdown",z(k0,A0,II),{signal:t});const r=F(this,Sl,document.createElement("div"));r.className="buttons",e.append(r);const i=m(this,Lr).toolbarPosition;if(i){const{style:s}=e,a=m(this,Lr)._uiManager.direction==="ltr"?1-i[0]:i[0];s.insetInlineEnd=`${100*a}%`,s.top=`calc(${100*i[1]}% + var(--editor-toolbar-vert-offset))`}return z(this,rr,DI).call(this),e}hide(){var e;m(this,wl).classList.add("hidden"),(e=m(this,xl))==null||e.hideDropdown()}show(){m(this,wl).classList.remove("hidden")}addAltTextButton(e){z(this,rr,Py).call(this,e),m(this,Sl).prepend(e,m(this,rr,fS))}addColorPicker(e){F(this,xl,e);const t=e.renderButton();z(this,rr,Py).call(this,t),m(this,Sl).prepend(t,m(this,rr,fS))}remove(){var e;m(this,wl).remove(),(e=m(this,xl))==null||e.destroy(),F(this,xl,null)}};wl=new WeakMap,xl=new WeakMap,Lr=new WeakMap,Sl=new WeakMap,A0=new WeakSet,II=function(e){e.stopPropagation()},rr=new WeakSet,NI=function(e){m(this,Lr)._focusEventsAllowed=!1,e.preventDefault(),e.stopPropagation()},LI=function(e){m(this,Lr)._focusEventsAllowed=!0,e.preventDefault(),e.stopPropagation()},Py=function(e){const t=m(this,Lr)._uiManager._signal;e.addEventListener("focusin",z(this,rr,NI).bind(this),{capture:!0,signal:t}),e.addEventListener("focusout",z(this,rr,LI).bind(this),{capture:!0,signal:t}),e.addEventListener("contextmenu",xr,{signal:t})},DI=function(){const e=document.createElement("button");e.className="delete",e.tabIndex=0,e.setAttribute("data-l10n-id",`pdfjs-editor-remove-${m(this,Lr).editorType}-button`),z(this,rr,Py).call(this,e),e.addEventListener("click",t=>{m(this,Lr)._uiManager.delete()},{signal:m(this,Lr)._uiManager._signal}),m(this,Sl).append(e)},fS=function(){const e=document.createElement("div");return e.className="divider",e},H(k0,A0);let hS=k0;var Lf,El,Cl,$a,OI,FI,zI;class H8{constructor(e){H(this,$a);H(this,Lf,null);H(this,El,null);H(this,Cl);F(this,Cl,e)}show(e,t,r){const[i,s]=z(this,$a,FI).call(this,t,r),{style:a}=m(this,El)||F(this,El,z(this,$a,OI).call(this));e.append(m(this,El)),a.insetInlineEnd=`${100*i}%`,a.top=`calc(${100*s}% + var(--editor-toolbar-vert-offset))`}hide(){m(this,El).remove()}}Lf=new WeakMap,El=new WeakMap,Cl=new WeakMap,$a=new WeakSet,OI=function(){const e=F(this,El,document.createElement("div"));e.className="editToolbar",e.setAttribute("role","toolbar"),e.addEventListener("contextmenu",xr,{signal:m(this,Cl)._signal});const t=F(this,Lf,document.createElement("div"));return t.className="buttons",e.append(t),z(this,$a,zI).call(this),e},FI=function(e,t){let r=0,i=0;for(const s of e){const a=s.y+s.height;if(a<r)continue;const l=s.x+(t?s.width:0);if(a>r){i=l,r=a;continue}t?l>i&&(i=l):l<i&&(i=l)}return[t?1-i:i,r]},zI=function(){const e=document.createElement("button");e.className="highlightButton",e.tabIndex=0,e.setAttribute("data-l10n-id","pdfjs-highlight-floating-button1");const t=document.createElement("span");e.append(t),t.className="visuallyHidden",t.setAttribute("data-l10n-id","pdfjs-highlight-floating-button-label");const r=m(this,Cl)._signal;e.addEventListener("contextmenu",xr,{signal:r}),e.addEventListener("click",()=>{m(this,Cl).highlightSelection("floating_button")},{signal:r}),m(this,Lf).append(e)};function b0(n,e,t){for(const r of t)e.addEventListener(r,n[r].bind(n))}function j8(n){return Math.round(Math.min(255,Math.max(1,255*n))).toString(16).padStart(2,"0")}var R0;class W8{constructor(){H(this,R0,0)}get id(){return`${x8}${Mr(this,R0)._++}`}}R0=new WeakMap;var Df,T0,ni,Of,gS;const CE=class CE{constructor(){H(this,Of);H(this,Df,L8());H(this,T0,0);H(this,ni,null)}static get _isSVGFittingCanvas(){const e='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',r=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),i=new Image;i.src=e;const s=i.decode().then(()=>(r.drawImage(i,0,0,1,1,0,0,1,3),new Uint32Array(r.getImageData(0,0,1,1).data.buffer)[0]===0));return Je(this,"_isSVGFittingCanvas",s)}async getFromFile(e){const{lastModified:t,name:r,size:i,type:s}=e;return z(this,Of,gS).call(this,`${t}_${r}_${i}_${s}`,e)}async getFromUrl(e){return z(this,Of,gS).call(this,e,e)}async getFromId(e){m(this,ni)||F(this,ni,new Map);const t=m(this,ni).get(e);return t?t.bitmap?(t.refCounter+=1,t):t.file?this.getFromFile(t.file):this.getFromUrl(t.url):null}getSvgUrl(e){const t=m(this,ni).get(e);return t!=null&&t.isSvg?t.svgUrl:null}deleteId(e){m(this,ni)||F(this,ni,new Map);const t=m(this,ni).get(e);t&&(t.refCounter-=1,t.refCounter===0&&(t.bitmap=null))}isValidId(e){return e.startsWith(`image_${m(this,Df)}_`)}};Df=new WeakMap,T0=new WeakMap,ni=new WeakMap,Of=new WeakSet,gS=async function(e,t){m(this,ni)||F(this,ni,new Map);let r=m(this,ni).get(e);if(r===null)return null;if(r!=null&&r.bitmap)return r.refCounter+=1,r;try{r||(r={bitmap:null,id:`image_${m(this,Df)}_${Mr(this,T0)._++}`,refCounter:0,isSvg:!1});let i;if(typeof t=="string"?(r.url=t,i=await Nv(t,"blob")):i=r.file=t,i.type==="image/svg+xml"){const s=CE._isSVGFittingCanvas,a=new FileReader,l=new Image,u=new Promise((d,h)=>{l.onload=()=>{r.bitmap=l,r.isSvg=!0,d()},a.onload=async()=>{const p=r.svgUrl=a.result;l.src=await s?`${p}#svgView(preserveAspectRatio(none))`:p},l.onerror=a.onerror=h});a.readAsDataURL(i),await u}else r.bitmap=await createImageBitmap(i);r.refCounter=1}catch(i){console.error(i),r=null}return m(this,ni).set(e,r),r&&m(this,ni).set(r.id,r),r};let pS=CE;var xn,da,Ff,Sn;class U8{constructor(e=128){H(this,xn,[]);H(this,da,!1);H(this,Ff);H(this,Sn,-1);F(this,Ff,e)}add({cmd:e,undo:t,post:r,mustExec:i,type:s=NaN,overwriteIfSameType:a=!1,keepUndo:l=!1}){if(i&&e(),m(this,da))return;const u={cmd:e,undo:t,post:r,type:s};if(m(this,Sn)===-1){m(this,xn).length>0&&(m(this,xn).length=0),F(this,Sn,0),m(this,xn).push(u);return}if(a&&m(this,xn)[m(this,Sn)].type===s){l&&(u.undo=m(this,xn)[m(this,Sn)].undo),m(this,xn)[m(this,Sn)]=u;return}const d=m(this,Sn)+1;d===m(this,Ff)?m(this,xn).splice(0,1):(F(this,Sn,d),d<m(this,xn).length&&m(this,xn).splice(d)),m(this,xn).push(u)}undo(){if(m(this,Sn)===-1)return;F(this,da,!0);const{undo:e,post:t}=m(this,xn)[m(this,Sn)];e(),t==null||t(),F(this,da,!1),F(this,Sn,m(this,Sn)-1)}redo(){if(m(this,Sn)<m(this,xn).length-1){F(this,Sn,m(this,Sn)+1),F(this,da,!0);const{cmd:e,post:t}=m(this,xn)[m(this,Sn)];e(),t==null||t(),F(this,da,!1)}}hasSomethingToUndo(){return m(this,Sn)!==-1}hasSomethingToRedo(){return m(this,Sn)<m(this,xn).length-1}destroy(){F(this,xn,null)}}xn=new WeakMap,da=new WeakMap,Ff=new WeakMap,Sn=new WeakMap;var P0,$I;class Rg{constructor(e){H(this,P0);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:t}=br.platform;for(const[r,i,s={}]of e)for(const a of r){const l=a.startsWith("mac+");t&&l?(this.callbacks.set(a.slice(4),{callback:i,options:s}),this.allKeys.add(a.split("+").at(-1))):!t&&!l&&(this.callbacks.set(a,{callback:i,options:s}),this.allKeys.add(a.split("+").at(-1)))}}exec(e,t){if(!this.allKeys.has(t.key))return;const r=this.callbacks.get(z(this,P0,$I).call(this,t));if(!r)return;const{callback:i,options:{bubbles:s=!1,args:a=[],checker:l=null}}=r;l&&!l(e,t)||(i.bind(e,...a,t)(),s||(t.stopPropagation(),t.preventDefault()))}}P0=new WeakSet,$I=function(e){e.altKey&&this.buffer.push("alt"),e.ctrlKey&&this.buffer.push("ctrl"),e.metaKey&&this.buffer.push("meta"),e.shiftKey&&this.buffer.push("shift"),this.buffer.push(e.key);const t=this.buffer.join("+");return this.buffer.length=0,t};const M0=class M0{get _colors(){const e=new Map([["CanvasText",null],["Canvas",null]]);return B8(e),Je(this,"_colors",e)}convert(e){const t=vE(e);if(!window.matchMedia("(forced-colors: active)").matches)return t;for(const[r,i]of this._colors)if(i.every((s,a)=>s===t[a]))return M0._colorsMapping.get(r);return t}getHexCode(e){const t=this._colors.get(e);return t?Me.makeHexColor(...t):e}};Be(M0,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let mS=M0;var Ru,Dr,hn,An,Tu,Gs,Pu,wi,Mu,_l,Ji,xi,Al,zf,$f,es,Iu,ha,ts,I0,fa,Bf,kl,Hf,Nu,kn,pt,Xs,Rl,jf,Wf,Uf,Vf,Gf,Xf,Yf,qf,Kf,Qf,Zf,Jf,ep,pa,ns,Ys,tp,we,My,BI,HI,Iy,jI,WI,UI,yS,VI,vS,bS,GI,Jn,ia,XI,YI,wS,qI,Gh,xS;const wu=class wu{constructor(e,t,r,i,s,a,l,u,d){H(this,we);H(this,Ru,new AbortController);H(this,Dr,null);H(this,hn,new Map);H(this,An,new Map);H(this,Tu,null);H(this,Gs,null);H(this,Pu,null);H(this,wi,new U8);H(this,Mu,0);H(this,_l,new Set);H(this,Ji,null);H(this,xi,null);H(this,Al,new Set);H(this,zf,!1);H(this,$f,null);H(this,es,null);H(this,Iu,null);H(this,ha,!1);H(this,ts,null);H(this,I0,new W8);H(this,fa,!1);H(this,Bf,!1);H(this,kl,null);H(this,Hf,null);H(this,Nu,null);H(this,kn,Ke.NONE);H(this,pt,new Set);H(this,Xs,null);H(this,Rl,null);H(this,jf,null);H(this,Wf,this.blur.bind(this));H(this,Uf,this.focus.bind(this));H(this,Vf,this.copy.bind(this));H(this,Gf,this.cut.bind(this));H(this,Xf,this.paste.bind(this));H(this,Yf,this.keydown.bind(this));H(this,qf,this.keyup.bind(this));H(this,Kf,this.onEditingAction.bind(this));H(this,Qf,this.onPageChanging.bind(this));H(this,Zf,this.onScaleChanging.bind(this));H(this,Jf,this.onRotationChanging.bind(this));H(this,ep,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1});H(this,pa,[0,0]);H(this,ns,null);H(this,Ys,null);H(this,tp,null);this._signal=m(this,Ru).signal,F(this,Ys,e),F(this,tp,t),F(this,Tu,r),this._eventBus=i,this._eventBus._on("editingaction",m(this,Kf)),this._eventBus._on("pagechanging",m(this,Qf)),this._eventBus._on("scalechanging",m(this,Zf)),this._eventBus._on("rotationchanging",m(this,Jf)),z(this,we,jI).call(this),z(this,we,GI).call(this),z(this,we,yS).call(this),F(this,Gs,s.annotationStorage),F(this,$f,s.filterFactory),F(this,Rl,a),F(this,Iu,l||null),F(this,zf,u),F(this,Nu,d||null),this.viewParameters={realScale:za.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1}static get _keyboardManager(){const e=wu.prototype,t=a=>m(a,Ys).contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&a.hasSomethingToControl(),r=(a,{target:l})=>{if(l instanceof HTMLInputElement){const{type:u}=l;return u!=="text"&&u!=="number"}return!0},i=this.TRANSLATE_SMALL,s=this.TRANSLATE_BIG;return Je(this,"_keyboardManager",new Rg([[["ctrl+a","mac+meta+a"],e.selectAll,{checker:r}],[["ctrl+z","mac+meta+z"],e.undo,{checker:r}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],e.redo,{checker:r}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],e.delete,{checker:r}],[["Enter","mac+Enter"],e.addNewEditorFromKeyboard,{checker:(a,{target:l})=>!(l instanceof HTMLButtonElement)&&m(a,Ys).contains(l)&&!a.isEnterHandled}],[[" ","mac+ "],e.addNewEditorFromKeyboard,{checker:(a,{target:l})=>!(l instanceof HTMLButtonElement)&&m(a,Ys).contains(document.activeElement)}],[["Escape","mac+Escape"],e.unselectAll],[["ArrowLeft","mac+ArrowLeft"],e.translateSelectedEditors,{args:[-i,0],checker:t}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e.translateSelectedEditors,{args:[-s,0],checker:t}],[["ArrowRight","mac+ArrowRight"],e.translateSelectedEditors,{args:[i,0],checker:t}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e.translateSelectedEditors,{args:[s,0],checker:t}],[["ArrowUp","mac+ArrowUp"],e.translateSelectedEditors,{args:[0,-i],checker:t}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e.translateSelectedEditors,{args:[0,-s],checker:t}],[["ArrowDown","mac+ArrowDown"],e.translateSelectedEditors,{args:[0,i],checker:t}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e.translateSelectedEditors,{args:[0,s],checker:t}]]))}destroy(){var e,t,r;(e=m(this,Ru))==null||e.abort(),F(this,Ru,null),this._signal=null,this._eventBus._off("editingaction",m(this,Kf)),this._eventBus._off("pagechanging",m(this,Qf)),this._eventBus._off("scalechanging",m(this,Zf)),this._eventBus._off("rotationchanging",m(this,Jf));for(const i of m(this,An).values())i.destroy();m(this,An).clear(),m(this,hn).clear(),m(this,Al).clear(),F(this,Dr,null),m(this,pt).clear(),m(this,wi).destroy(),(t=m(this,Tu))==null||t.destroy(),(r=m(this,ts))==null||r.hide(),F(this,ts,null),m(this,es)&&(clearTimeout(m(this,es)),F(this,es,null)),m(this,ns)&&(clearTimeout(m(this,ns)),F(this,ns,null))}async mlGuess(e){var t;return((t=m(this,Nu))==null?void 0:t.guess(e))||null}get hasMLManager(){return!!m(this,Nu)}get hcmFilter(){return Je(this,"hcmFilter",m(this,Rl)?m(this,$f).addHCMFilter(m(this,Rl).foreground,m(this,Rl).background):"none")}get direction(){return Je(this,"direction",getComputedStyle(m(this,Ys)).direction)}get highlightColors(){return Je(this,"highlightColors",m(this,Iu)?new Map(m(this,Iu).split(",").map(e=>e.split("=").map(t=>t.trim()))):null)}get highlightColorNames(){return Je(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,e=>e.reverse())):null)}setMainHighlightColorPicker(e){F(this,Hf,e)}editAltText(e){var t;(t=m(this,Tu))==null||t.editAltText(this,e)}onPageChanging({pageNumber:e}){F(this,Mu,e-1)}focusMainContainer(){m(this,Ys).focus()}findParent(e,t){for(const r of m(this,An).values()){const{x:i,y:s,width:a,height:l}=r.div.getBoundingClientRect();if(e>=i&&e<=i+a&&t>=s&&t<=s+l)return r}return null}disableUserSelect(e=!1){m(this,tp).classList.toggle("noUserSelect",e)}addShouldRescale(e){m(this,Al).add(e)}removeShouldRescale(e){m(this,Al).delete(e)}onScaleChanging({scale:e}){this.commitOrRemove(),this.viewParameters.realScale=e*za.PDF_TO_CSS_UNITS;for(const t of m(this,Al))t.onScaleChanging()}onRotationChanging({pagesRotation:e}){this.commitOrRemove(),this.viewParameters.rotation=e}highlightSelection(e=""){const t=document.getSelection();if(!t||t.isCollapsed)return;const{anchorNode:r,anchorOffset:i,focusNode:s,focusOffset:a}=t,l=t.toString(),d=z(this,we,My).call(this,t).closest(".textLayer"),h=this.getSelectionBoxes(d);if(h){t.empty(),m(this,kn)===Ke.NONE&&(this._eventBus.dispatch("showannotationeditorui",{source:this,mode:Ke.HIGHLIGHT}),this.showAllEditors("highlight",!0,!0));for(const p of m(this,An).values())if(p.hasTextLayer(d)){p.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:e,boxes:h,anchorNode:r,anchorOffset:i,focusNode:s,focusOffset:a,text:l});break}}}addToAnnotationStorage(e){!e.isEmpty()&&m(this,Gs)&&!m(this,Gs).has(e.id)&&m(this,Gs).setValue(e.id,e)}blur(){if(this.isShiftKeyDown=!1,m(this,ha)&&(F(this,ha,!1),z(this,we,Iy).call(this,"main_toolbar")),!this.hasSelection)return;const{activeElement:e}=document;for(const t of m(this,pt))if(t.div.contains(e)){F(this,kl,[t,e]),t._focusEventsAllowed=!1;break}}focus(){if(!m(this,kl))return;const[e,t]=m(this,kl);F(this,kl,null),t.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:this._signal}),t.focus()}addEditListeners(){z(this,we,yS).call(this),z(this,we,vS).call(this)}removeEditListeners(){z(this,we,VI).call(this),z(this,we,bS).call(this)}dragOver(e){for(const{type:t}of e.dataTransfer.items)for(const r of m(this,xi))if(r.isHandlingMimeForPasting(t)){e.dataTransfer.dropEffect="copy",e.preventDefault();return}}drop(e){for(const t of e.dataTransfer.items)for(const r of m(this,xi))if(r.isHandlingMimeForPasting(t.type)){r.paste(t,this.currentLayer),e.preventDefault();return}}copy(e){var r;if(e.preventDefault(),(r=m(this,Dr))==null||r.commitOrRemove(),!this.hasSelection)return;const t=[];for(const i of m(this,pt)){const s=i.serialize(!0);s&&t.push(s)}t.length!==0&&e.clipboardData.setData("application/pdfjs",JSON.stringify(t))}cut(e){this.copy(e),this.delete()}paste(e){e.preventDefault();const{clipboardData:t}=e;for(const s of t.items)for(const a of m(this,xi))if(a.isHandlingMimeForPasting(s.type)){a.paste(s,this.currentLayer);return}let r=t.getData("application/pdfjs");if(!r)return;try{r=JSON.parse(r)}catch(s){Ve(`paste: "${s.message}".`);return}if(!Array.isArray(r))return;this.unselectAll();const i=this.currentLayer;try{const s=[];for(const u of r){const d=i.deserialize(u);if(!d)return;s.push(d)}const a=()=>{for(const u of s)z(this,we,wS).call(this,u);z(this,we,xS).call(this,s)},l=()=>{for(const u of s)u.remove()};this.addCommands({cmd:a,undo:l,mustExec:!0})}catch(s){Ve(`paste: "${s.message}".`)}}keydown(e){!this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!0),m(this,kn)!==Ke.NONE&&!this.isEditorHandlingKeyboard&&wu._keyboardManager.exec(this,e)}keyup(e){this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!1,m(this,ha)&&(F(this,ha,!1),z(this,we,Iy).call(this,"main_toolbar")))}onEditingAction({name:e}){switch(e){case"undo":case"redo":case"delete":case"selectAll":this[e]();break;case"highlightSelection":this.highlightSelection("context_menu");break}}setEditingState(e){e?(z(this,we,WI).call(this),z(this,we,vS).call(this),z(this,we,Jn).call(this,{isEditing:m(this,kn)!==Ke.NONE,isEmpty:z(this,we,Gh).call(this),hasSomethingToUndo:m(this,wi).hasSomethingToUndo(),hasSomethingToRedo:m(this,wi).hasSomethingToRedo(),hasSelectedEditor:!1})):(z(this,we,UI).call(this),z(this,we,bS).call(this),z(this,we,Jn).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(e){if(!m(this,xi)){F(this,xi,e);for(const t of m(this,xi))z(this,we,ia).call(this,t.defaultPropertiesToUpdate)}}getId(){return m(this,I0).id}get currentLayer(){return m(this,An).get(m(this,Mu))}getLayer(e){return m(this,An).get(e)}get currentPageIndex(){return m(this,Mu)}addLayer(e){m(this,An).set(e.pageIndex,e),m(this,fa)?e.enable():e.disable()}removeLayer(e){m(this,An).delete(e.pageIndex)}updateMode(e,t=null,r=!1){if(m(this,kn)!==e){if(F(this,kn,e),e===Ke.NONE){this.setEditingState(!1),z(this,we,YI).call(this);return}this.setEditingState(!0),z(this,we,XI).call(this),this.unselectAll();for(const i of m(this,An).values())i.updateMode(e);if(!t&&r){this.addNewEditorFromKeyboard();return}if(t){for(const i of m(this,hn).values())if(i.annotationElementId===t){this.setSelected(i),i.enterInEditMode();break}}}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(e){e!==m(this,kn)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:e})}updateParams(e,t){var r;if(m(this,xi)){switch(e){case We.CREATE:this.currentLayer.addNewEditor();return;case We.HIGHLIGHT_DEFAULT_COLOR:(r=m(this,Hf))==null||r.updateColor(t);break;case We.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(m(this,jf)||F(this,jf,new Map)).set(e,t),this.showAllEditors("highlight",t);break}for(const i of m(this,pt))i.updateParams(e,t);for(const i of m(this,xi))i.updateDefaultParams(e,t)}}showAllEditors(e,t,r=!1){var s;for(const a of m(this,hn).values())a.editorType===e&&a.show(t);(((s=m(this,jf))==null?void 0:s.get(We.HIGHLIGHT_SHOW_ALL))??!0)!==t&&z(this,we,ia).call(this,[[We.HIGHLIGHT_SHOW_ALL,t]])}enableWaiting(e=!1){if(m(this,Bf)!==e){F(this,Bf,e);for(const t of m(this,An).values())e?t.disableClick():t.enableClick(),t.div.classList.toggle("waiting",e)}}getEditors(e){const t=[];for(const r of m(this,hn).values())r.pageIndex===e&&t.push(r);return t}getEditor(e){return m(this,hn).get(e)}addEditor(e){m(this,hn).set(e.id,e)}removeEditor(e){var t;e.div.contains(document.activeElement)&&(m(this,es)&&clearTimeout(m(this,es)),F(this,es,setTimeout(()=>{this.focusMainContainer(),F(this,es,null)},0))),m(this,hn).delete(e.id),this.unselect(e),(!e.annotationElementId||!m(this,_l).has(e.annotationElementId))&&((t=m(this,Gs))==null||t.remove(e.id))}addDeletedAnnotationElement(e){m(this,_l).add(e.annotationElementId),this.addChangedExistingAnnotation(e),e.deleted=!0}isDeletedAnnotationElement(e){return m(this,_l).has(e)}removeDeletedAnnotationElement(e){m(this,_l).delete(e.annotationElementId),this.removeChangedExistingAnnotation(e),e.deleted=!1}setActiveEditor(e){m(this,Dr)!==e&&(F(this,Dr,e),e&&z(this,we,ia).call(this,e.propertiesToUpdate))}updateUI(e){m(this,we,qI)===e&&z(this,we,ia).call(this,e.propertiesToUpdate)}toggleSelected(e){if(m(this,pt).has(e)){m(this,pt).delete(e),e.unselect(),z(this,we,Jn).call(this,{hasSelectedEditor:this.hasSelection});return}m(this,pt).add(e),e.select(),z(this,we,ia).call(this,e.propertiesToUpdate),z(this,we,Jn).call(this,{hasSelectedEditor:!0})}setSelected(e){for(const t of m(this,pt))t!==e&&t.unselect();m(this,pt).clear(),m(this,pt).add(e),e.select(),z(this,we,ia).call(this,e.propertiesToUpdate),z(this,we,Jn).call(this,{hasSelectedEditor:!0})}isSelected(e){return m(this,pt).has(e)}get firstSelectedEditor(){return m(this,pt).values().next().value}unselect(e){e.unselect(),m(this,pt).delete(e),z(this,we,Jn).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return m(this,pt).size!==0}get isEnterHandled(){return m(this,pt).size===1&&this.firstSelectedEditor.isEnterHandled}undo(){m(this,wi).undo(),z(this,we,Jn).call(this,{hasSomethingToUndo:m(this,wi).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:z(this,we,Gh).call(this)})}redo(){m(this,wi).redo(),z(this,we,Jn).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:m(this,wi).hasSomethingToRedo(),isEmpty:z(this,we,Gh).call(this)})}addCommands(e){m(this,wi).add(e),z(this,we,Jn).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:z(this,we,Gh).call(this)})}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const e=[...m(this,pt)],t=()=>{for(const i of e)i.remove()},r=()=>{for(const i of e)z(this,we,wS).call(this,i)};this.addCommands({cmd:t,undo:r,mustExec:!0})}commitOrRemove(){var e;(e=m(this,Dr))==null||e.commitOrRemove()}hasSomethingToControl(){return m(this,Dr)||this.hasSelection}selectAll(){for(const e of m(this,pt))e.commit();z(this,we,xS).call(this,m(this,hn).values())}unselectAll(){if(!(m(this,Dr)&&(m(this,Dr).commitOrRemove(),m(this,kn)!==Ke.NONE))&&this.hasSelection){for(const e of m(this,pt))e.unselect();m(this,pt).clear(),z(this,we,Jn).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(e,t,r=!1){if(r||this.commitOrRemove(),!this.hasSelection)return;m(this,pa)[0]+=e,m(this,pa)[1]+=t;const[i,s]=m(this,pa),a=[...m(this,pt)],l=1e3;m(this,ns)&&clearTimeout(m(this,ns)),F(this,ns,setTimeout(()=>{F(this,ns,null),m(this,pa)[0]=m(this,pa)[1]=0,this.addCommands({cmd:()=>{for(const u of a)m(this,hn).has(u.id)&&u.translateInPage(i,s)},undo:()=>{for(const u of a)m(this,hn).has(u.id)&&u.translateInPage(-i,-s)},mustExec:!1})},l));for(const u of a)u.translateInPage(e,t)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),F(this,Ji,new Map);for(const e of m(this,pt))m(this,Ji).set(e,{savedX:e.x,savedY:e.y,savedPageIndex:e.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!m(this,Ji))return!1;this.disableUserSelect(!1);const e=m(this,Ji);F(this,Ji,null);let t=!1;for(const[{x:i,y:s,pageIndex:a},l]of e)l.newX=i,l.newY=s,l.newPageIndex=a,t||(t=i!==l.savedX||s!==l.savedY||a!==l.savedPageIndex);if(!t)return!1;const r=(i,s,a,l)=>{if(m(this,hn).has(i.id)){const u=m(this,An).get(l);u?i._setParentAndPosition(u,s,a):(i.pageIndex=l,i.x=s,i.y=a)}};return this.addCommands({cmd:()=>{for(const[i,{newX:s,newY:a,newPageIndex:l}]of e)r(i,s,a,l)},undo:()=>{for(const[i,{savedX:s,savedY:a,savedPageIndex:l}]of e)r(i,s,a,l)},mustExec:!0}),!0}dragSelectedEditors(e,t){if(m(this,Ji))for(const r of m(this,Ji).keys())r.drag(e,t)}rebuild(e){if(e.parent===null){const t=this.getLayer(e.pageIndex);t?(t.changeParent(e),t.addOrRebuild(e)):(this.addEditor(e),this.addToAnnotationStorage(e),e.rebuild())}else e.parent.addOrRebuild(e)}get isEditorHandlingKeyboard(){var e;return((e=this.getActive())==null?void 0:e.shouldGetKeyboardEvents())||m(this,pt).size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(e){return m(this,Dr)===e}getActive(){return m(this,Dr)}getMode(){return m(this,kn)}get imageManager(){return Je(this,"imageManager",new pS)}getSelectionBoxes(e){if(!e)return null;const t=document.getSelection();for(let d=0,h=t.rangeCount;d<h;d++)if(!e.contains(t.getRangeAt(d).commonAncestorContainer))return null;const{x:r,y:i,width:s,height:a}=e.getBoundingClientRect();let l;switch(e.getAttribute("data-main-rotation")){case"90":l=(d,h,p,g)=>({x:(h-i)/a,y:1-(d+p-r)/s,width:g/a,height:p/s});break;case"180":l=(d,h,p,g)=>({x:1-(d+p-r)/s,y:1-(h+g-i)/a,width:p/s,height:g/a});break;case"270":l=(d,h,p,g)=>({x:1-(h+g-i)/a,y:(d-r)/s,width:g/a,height:p/s});break;default:l=(d,h,p,g)=>({x:(d-r)/s,y:(h-i)/a,width:p/s,height:g/a});break}const u=[];for(let d=0,h=t.rangeCount;d<h;d++){const p=t.getRangeAt(d);if(!p.collapsed)for(const{x:g,y,width:b,height:w}of p.getClientRects())b===0||w===0||u.push(l(g,y,b,w))}return u.length===0?null:u}addChangedExistingAnnotation({annotationElementId:e,id:t}){(m(this,Pu)||F(this,Pu,new Map)).set(e,t)}removeChangedExistingAnnotation({annotationElementId:e}){var t;(t=m(this,Pu))==null||t.delete(e)}renderAnnotationElement(e){var i;const t=(i=m(this,Pu))==null?void 0:i.get(e.data.id);if(!t)return;const r=m(this,Gs).getRawValue(t);r&&(m(this,kn)===Ke.NONE&&!r.hasBeenModified||r.renderAnnotationElement(e))}};Ru=new WeakMap,Dr=new WeakMap,hn=new WeakMap,An=new WeakMap,Tu=new WeakMap,Gs=new WeakMap,Pu=new WeakMap,wi=new WeakMap,Mu=new WeakMap,_l=new WeakMap,Ji=new WeakMap,xi=new WeakMap,Al=new WeakMap,zf=new WeakMap,$f=new WeakMap,es=new WeakMap,Iu=new WeakMap,ha=new WeakMap,ts=new WeakMap,I0=new WeakMap,fa=new WeakMap,Bf=new WeakMap,kl=new WeakMap,Hf=new WeakMap,Nu=new WeakMap,kn=new WeakMap,pt=new WeakMap,Xs=new WeakMap,Rl=new WeakMap,jf=new WeakMap,Wf=new WeakMap,Uf=new WeakMap,Vf=new WeakMap,Gf=new WeakMap,Xf=new WeakMap,Yf=new WeakMap,qf=new WeakMap,Kf=new WeakMap,Qf=new WeakMap,Zf=new WeakMap,Jf=new WeakMap,ep=new WeakMap,pa=new WeakMap,ns=new WeakMap,Ys=new WeakMap,tp=new WeakMap,we=new WeakSet,My=function({anchorNode:e}){return e.nodeType===Node.TEXT_NODE?e.parentElement:e},BI=function(){const e=document.getSelection();if(!e||e.isCollapsed)return;const r=z(this,we,My).call(this,e).closest(".textLayer"),i=this.getSelectionBoxes(r);i&&(m(this,ts)||F(this,ts,new H8(this)),m(this,ts).show(r,i,this.direction==="ltr"))},HI=function(){var s,a,l;const e=document.getSelection();if(!e||e.isCollapsed){m(this,Xs)&&((s=m(this,ts))==null||s.hide(),F(this,Xs,null),z(this,we,Jn).call(this,{hasSelectedText:!1}));return}const{anchorNode:t}=e;if(t===m(this,Xs))return;if(!z(this,we,My).call(this,e).closest(".textLayer")){m(this,Xs)&&((a=m(this,ts))==null||a.hide(),F(this,Xs,null),z(this,we,Jn).call(this,{hasSelectedText:!1}));return}if((l=m(this,ts))==null||l.hide(),F(this,Xs,t),z(this,we,Jn).call(this,{hasSelectedText:!0}),!(m(this,kn)!==Ke.HIGHLIGHT&&m(this,kn)!==Ke.NONE)&&(m(this,kn)===Ke.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),F(this,ha,this.isShiftKeyDown),!this.isShiftKeyDown)){const u=this._signal,d=h=>{h.type==="pointerup"&&h.button!==0||(window.removeEventListener("pointerup",d),window.removeEventListener("blur",d),h.type==="pointerup"&&z(this,we,Iy).call(this,"main_toolbar"))};window.addEventListener("pointerup",d,{signal:u}),window.addEventListener("blur",d,{signal:u})}},Iy=function(e=""){m(this,kn)===Ke.HIGHLIGHT?this.highlightSelection(e):m(this,zf)&&z(this,we,BI).call(this)},jI=function(){document.addEventListener("selectionchange",z(this,we,HI).bind(this),{signal:this._signal})},WI=function(){const e=this._signal;window.addEventListener("focus",m(this,Uf),{signal:e}),window.addEventListener("blur",m(this,Wf),{signal:e})},UI=function(){window.removeEventListener("focus",m(this,Uf)),window.removeEventListener("blur",m(this,Wf))},yS=function(){const e=this._signal;window.addEventListener("keydown",m(this,Yf),{signal:e}),window.addEventListener("keyup",m(this,qf),{signal:e})},VI=function(){window.removeEventListener("keydown",m(this,Yf)),window.removeEventListener("keyup",m(this,qf))},vS=function(){const e=this._signal;document.addEventListener("copy",m(this,Vf),{signal:e}),document.addEventListener("cut",m(this,Gf),{signal:e}),document.addEventListener("paste",m(this,Xf),{signal:e})},bS=function(){document.removeEventListener("copy",m(this,Vf)),document.removeEventListener("cut",m(this,Gf)),document.removeEventListener("paste",m(this,Xf))},GI=function(){const e=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:e}),document.addEventListener("drop",this.drop.bind(this),{signal:e})},Jn=function(e){Object.entries(e).some(([r,i])=>m(this,ep)[r]!==i)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(m(this,ep),e)}),m(this,kn)===Ke.HIGHLIGHT&&e.hasSelectedEditor===!1&&z(this,we,ia).call(this,[[We.HIGHLIGHT_FREE,!0]]))},ia=function(e){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:e})},XI=function(){if(!m(this,fa)){F(this,fa,!0);for(const e of m(this,An).values())e.enable();for(const e of m(this,hn).values())e.enable()}},YI=function(){if(this.unselectAll(),m(this,fa)){F(this,fa,!1);for(const e of m(this,An).values())e.disable();for(const e of m(this,hn).values())e.disable()}},wS=function(e){const t=m(this,An).get(e.pageIndex);t?t.addOrRebuild(e):(this.addEditor(e),this.addToAnnotationStorage(e))},qI=function(){let e=null;for(e of m(this,pt));return e},Gh=function(){if(m(this,hn).size===0)return!0;if(m(this,hn).size===1)for(const e of m(this,hn).values())return e.isEmpty();return!1},xS=function(e){for(const t of m(this,pt))t.unselect();m(this,pt).clear();for(const t of e)t.isEmpty()||(m(this,pt).add(t),t.select());z(this,we,Jn).call(this,{hasSelectedEditor:this.hasSelection})},Be(wu,"TRANSLATE_SMALL",1),Be(wu,"TRANSLATE_BIG",10);let bc=wu;var qs,Ks,Si,Qs,Or,Lu,Ei,np,SS;const Hs=class Hs{constructor(e){H(this,np);H(this,qs,"");H(this,Ks,!1);H(this,Si,null);H(this,Qs,null);H(this,Or,null);H(this,Lu,!1);H(this,Ei,null);F(this,Ei,e)}static initialize(e){Hs._l10nPromise||(Hs._l10nPromise=e)}async render(){const e=F(this,Si,document.createElement("button"));e.className="altText";const t=await Hs._l10nPromise.get("pdfjs-editor-alt-text-button-label");e.textContent=t,e.setAttribute("aria-label",t),e.tabIndex="0";const r=m(this,Ei)._uiManager._signal;e.addEventListener("contextmenu",xr,{signal:r}),e.addEventListener("pointerdown",s=>s.stopPropagation(),{signal:r});const i=s=>{s.preventDefault(),m(this,Ei)._uiManager.editAltText(m(this,Ei))};return e.addEventListener("click",i,{capture:!0,signal:r}),e.addEventListener("keydown",s=>{s.target===e&&s.key==="Enter"&&(F(this,Lu,!0),i(s))},{signal:r}),await z(this,np,SS).call(this),e}finish(){m(this,Si)&&(m(this,Si).focus({focusVisible:m(this,Lu)}),F(this,Lu,!1))}isEmpty(){return!m(this,qs)&&!m(this,Ks)}get data(){return{altText:m(this,qs),decorative:m(this,Ks)}}set data({altText:e,decorative:t}){m(this,qs)===e&&m(this,Ks)===t||(F(this,qs,e),F(this,Ks,t),z(this,np,SS).call(this))}toggle(e=!1){m(this,Si)&&(!e&&m(this,Or)&&(clearTimeout(m(this,Or)),F(this,Or,null)),m(this,Si).disabled=!e)}destroy(){var e;(e=m(this,Si))==null||e.remove(),F(this,Si,null),F(this,Qs,null)}};qs=new WeakMap,Ks=new WeakMap,Si=new WeakMap,Qs=new WeakMap,Or=new WeakMap,Lu=new WeakMap,Ei=new WeakMap,np=new WeakSet,SS=async function(){var i;const e=m(this,Si);if(!e)return;if(!m(this,qs)&&!m(this,Ks)){e.classList.remove("done"),(i=m(this,Qs))==null||i.remove();return}e.classList.add("done"),Hs._l10nPromise.get("pdfjs-editor-alt-text-edit-button-label").then(s=>{e.setAttribute("aria-label",s)});let t=m(this,Qs);if(!t){F(this,Qs,t=document.createElement("span")),t.className="tooltip",t.setAttribute("role","tooltip");const s=t.id=`alt-text-tooltip-${m(this,Ei).id}`;e.setAttribute("aria-describedby",s);const a=100,l=m(this,Ei)._uiManager._signal;l.addEventListener("abort",()=>{clearTimeout(m(this,Or)),F(this,Or,null)},{once:!0}),e.addEventListener("mouseenter",()=>{F(this,Or,setTimeout(()=>{F(this,Or,null),m(this,Qs).classList.add("show"),m(this,Ei)._reportTelemetry({action:"alt_text_tooltip"})},a))},{signal:l}),e.addEventListener("mouseleave",()=>{var u;m(this,Or)&&(clearTimeout(m(this,Or)),F(this,Or,null)),(u=m(this,Qs))==null||u.classList.remove("show")},{signal:l})}t.innerText=m(this,Ks)?await Hs._l10nPromise.get("pdfjs-editor-alt-text-decorative-tooltip"):m(this,qs),t.parentNode||e.append(t);const r=m(this,Ei).getImageForAltText();r==null||r.setAttribute("aria-describedby",t.id)},Be(Hs,"_l10nPromise",null);let w0=Hs;var Tl,Ci,jn,Du,Pl,Rn,Ml,Ou,Fu,Wn,rp,Il,ga,ip,Nl,Zs,rs,zu,$u,ri,sp,N0,Ge,ES,op,CS,_S,KI,QI,AS,kS,RS,ZI,JI,eN,tN,TS,Xh;const _t=class _t{constructor(e){H(this,Ge);H(this,Tl,null);H(this,Ci,null);H(this,jn,null);H(this,Du,!1);H(this,Pl,!1);H(this,Rn,null);H(this,Ml,null);H(this,Ou,this.focusin.bind(this));H(this,Fu,this.focusout.bind(this));H(this,Wn,null);H(this,rp,"");H(this,Il,!1);H(this,ga,null);H(this,ip,!1);H(this,Nl,!1);H(this,Zs,!1);H(this,rs,null);H(this,zu,0);H(this,$u,0);H(this,ri,null);Be(this,"_initialOptions",Object.create(null));Be(this,"_isVisible",!0);Be(this,"_uiManager",null);Be(this,"_focusEventsAllowed",!0);Be(this,"_l10nPromise",null);H(this,sp,!1);H(this,N0,_t._zIndex++);this.constructor===_t&&bt("Cannot initialize AnnotationEditor."),this.parent=e.parent,this.id=e.id,this.width=this.height=null,this.pageIndex=e.parent.pageIndex,this.name=e.name,this.div=null,this._uiManager=e.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=e.isCentered,this._structTreeParentId=null;const{rotation:t,rawDims:{pageWidth:r,pageHeight:i,pageX:s,pageY:a}}=this.parent.viewport;this.rotation=t,this.pageRotation=(360+t-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[r,i],this.pageTranslation=[s,a];const[l,u]=this.parentDimensions;this.x=e.x/l,this.y=e.y/u,this.isAttachedToDOM=!1,this.deleted=!1}static get _resizerKeyboardManager(){const e=_t.prototype._resizeWithKeyboard,t=bc.TRANSLATE_SMALL,r=bc.TRANSLATE_BIG;return Je(this,"_resizerKeyboardManager",new Rg([[["ArrowLeft","mac+ArrowLeft"],e,{args:[-t,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e,{args:[-r,0]}],[["ArrowRight","mac+ArrowRight"],e,{args:[t,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e,{args:[r,0]}],[["ArrowUp","mac+ArrowUp"],e,{args:[0,-t]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e,{args:[0,-r]}],[["ArrowDown","mac+ArrowDown"],e,{args:[0,t]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e,{args:[0,r]}],[["Escape","mac+Escape"],_t.prototype._stopResizingWithKeyboard]]))}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return Je(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(e){const t=new V8({id:e.parent.getNextId(),parent:e.parent,uiManager:e._uiManager});t.annotationElementId=e.annotationElementId,t.deleted=!0,t._uiManager.addToAnnotationStorage(t)}static initialize(e,t,r){if(_t._l10nPromise||(_t._l10nPromise=new Map(["pdfjs-editor-alt-text-button-label","pdfjs-editor-alt-text-edit-button-label","pdfjs-editor-alt-text-decorative-tooltip","pdfjs-editor-resizer-label-topLeft","pdfjs-editor-resizer-label-topMiddle","pdfjs-editor-resizer-label-topRight","pdfjs-editor-resizer-label-middleRight","pdfjs-editor-resizer-label-bottomRight","pdfjs-editor-resizer-label-bottomMiddle","pdfjs-editor-resizer-label-bottomLeft","pdfjs-editor-resizer-label-middleLeft"].map(s=>[s,e.get(s.replaceAll(/([A-Z])/g,a=>`-${a.toLowerCase()}`))]))),r!=null&&r.strings)for(const s of r.strings)_t._l10nPromise.set(s,e.get(s));if(_t._borderLineWidth!==-1)return;const i=getComputedStyle(document.documentElement);_t._borderLineWidth=parseFloat(i.getPropertyValue("--outline-width"))||0}static updateDefaultParams(e,t){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(e){return!1}static paste(e,t){bt("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return m(this,sp)}set _isDraggable(e){var t;F(this,sp,e),(t=this.div)==null||t.classList.toggle("draggable",e)}get isEnterHandled(){return!0}center(){const[e,t]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*t/(e*2),this.y+=this.width*e/(t*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*t/(e*2),this.y-=this.width*e/(t*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(e){this._uiManager.addCommands(e)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=m(this,N0)}setParent(e){e!==null?(this.pageIndex=e.pageIndex,this.pageDimensions=e.pageDimensions):z(this,Ge,Xh).call(this),this.parent=e}focusin(e){this._focusEventsAllowed&&(m(this,Il)?F(this,Il,!1):this.parent.setSelected(this))}focusout(e){var r;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const t=e.relatedTarget;t!=null&&t.closest(`#${this.id}`)||(e.preventDefault(),(r=this.parent)!=null&&r.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(e,t,r,i){const[s,a]=this.parentDimensions;[r,i]=this.screenToPageTranslation(r,i),this.x=(e+r)/s,this.y=(t+i)/a,this.fixAndSetPosition()}translate(e,t){z(this,Ge,ES).call(this,this.parentDimensions,e,t)}translateInPage(e,t){m(this,ga)||F(this,ga,[this.x,this.y]),z(this,Ge,ES).call(this,this.pageDimensions,e,t),this.div.scrollIntoView({block:"nearest"})}drag(e,t){m(this,ga)||F(this,ga,[this.x,this.y]);const[r,i]=this.parentDimensions;if(this.x+=e/r,this.y+=t/i,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:d,y:h}=this.div.getBoundingClientRect();this.parent.findNewParent(this,d,h)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:s,y:a}=this;const[l,u]=this.getBaseTranslation();s+=l,a+=u,this.div.style.left=`${(100*s).toFixed(2)}%`,this.div.style.top=`${(100*a).toFixed(2)}%`,this.div.scrollIntoView({block:"nearest"})}get _hasBeenMoved(){return!!m(this,ga)&&(m(this,ga)[0]!==this.x||m(this,ga)[1]!==this.y)}getBaseTranslation(){const[e,t]=this.parentDimensions,{_borderLineWidth:r}=_t,i=r/e,s=r/t;switch(this.rotation){case 90:return[-i,s];case 180:return[i,s];case 270:return[i,-s];default:return[-i,-s]}}get _mustFixPosition(){return!0}fixAndSetPosition(e=this.rotation){const[t,r]=this.pageDimensions;let{x:i,y:s,width:a,height:l}=this;if(a*=t,l*=r,i*=t,s*=r,this._mustFixPosition)switch(e){case 0:i=Math.max(0,Math.min(t-a,i)),s=Math.max(0,Math.min(r-l,s));break;case 90:i=Math.max(0,Math.min(t-l,i)),s=Math.min(r,Math.max(a,s));break;case 180:i=Math.min(t,Math.max(a,i)),s=Math.min(r,Math.max(l,s));break;case 270:i=Math.min(t,Math.max(l,i)),s=Math.max(0,Math.min(r-a,s));break}this.x=i/=t,this.y=s/=r;const[u,d]=this.getBaseTranslation();i+=u,s+=d;const{style:h}=this.div;h.left=`${(100*i).toFixed(2)}%`,h.top=`${(100*s).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(e,t){var r;return z(r=_t,op,CS).call(r,e,t,this.parentRotation)}pageTranslationToScreen(e,t){var r;return z(r=_t,op,CS).call(r,e,t,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:e,pageDimensions:[t,r]}=this,i=t*e,s=r*e;return br.isCSSRoundSupported?[Math.round(i),Math.round(s)]:[i,s]}setDims(e,t){const[r,i]=this.parentDimensions;this.div.style.width=`${(100*e/r).toFixed(2)}%`,m(this,Pl)||(this.div.style.height=`${(100*t/i).toFixed(2)}%`)}fixDims(){const{style:e}=this.div,{height:t,width:r}=e,i=r.endsWith("%"),s=!m(this,Pl)&&t.endsWith("%");if(i&&s)return;const[a,l]=this.parentDimensions;i||(e.width=`${(100*parseFloat(r)/a).toFixed(2)}%`),!m(this,Pl)&&!s&&(e.height=`${(100*parseFloat(t)/l).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}altTextFinish(){var e;(e=m(this,jn))==null||e.finish()}async addEditToolbar(){return m(this,Wn)||m(this,Nl)?m(this,Wn):(F(this,Wn,new hS(this)),this.div.append(m(this,Wn).render()),m(this,jn)&&m(this,Wn).addAltTextButton(await m(this,jn).render()),m(this,Wn))}removeEditToolbar(){var e;m(this,Wn)&&(m(this,Wn).remove(),F(this,Wn,null),(e=m(this,jn))==null||e.destroy())}getClientDimensions(){return this.div.getBoundingClientRect()}async addAltTextButton(){m(this,jn)||(w0.initialize(_t._l10nPromise),F(this,jn,new w0(this)),m(this,Tl)&&(m(this,jn).data=m(this,Tl),F(this,Tl,null)),await this.addEditToolbar())}get altTextData(){var e;return(e=m(this,jn))==null?void 0:e.data}set altTextData(e){m(this,jn)&&(m(this,jn).data=e)}hasAltText(){var e;return!((e=m(this,jn))!=null&&e.isEmpty())}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.tabIndex=m(this,Du)?-1:0,this._isVisible||this.div.classList.add("hidden"),this.setInForeground();const e=this._uiManager._signal;this.div.addEventListener("focusin",m(this,Ou),{signal:e}),this.div.addEventListener("focusout",m(this,Fu),{signal:e});const[t,r]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*r/t).toFixed(2)}%`,this.div.style.maxHeight=`${(100*t/r).toFixed(2)}%`);const[i,s]=this.getInitialTranslation();return this.translate(i,s),b0(this,this.div,["pointerdown"]),this.div}pointerdown(e){const{isMac:t}=br.platform;if(e.button!==0||e.ctrlKey&&t){e.preventDefault();return}if(F(this,Il,!0),this._isDraggable){z(this,Ge,ZI).call(this,e);return}z(this,Ge,RS).call(this,e)}moveInDOM(){m(this,rs)&&clearTimeout(m(this,rs)),F(this,rs,setTimeout(()=>{var e;F(this,rs,null),(e=this.parent)==null||e.moveEditorInDOM(this)},0))}_setParentAndPosition(e,t,r){e.changeParent(this),this.x=t,this.y=r,this.fixAndSetPosition()}getRect(e,t,r=this.rotation){const i=this.parentScale,[s,a]=this.pageDimensions,[l,u]=this.pageTranslation,d=e/i,h=t/i,p=this.x*s,g=this.y*a,y=this.width*s,b=this.height*a;switch(r){case 0:return[p+d+l,a-g-h-b+u,p+d+y+l,a-g-h+u];case 90:return[p+h+l,a-g+d+u,p+h+b+l,a-g+d+y+u];case 180:return[p-d-y+l,a-g+h+u,p-d+l,a-g+h+b+u];case 270:return[p-h-b+l,a-g-d-y+u,p-h+l,a-g-d+u];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(e,t){const[r,i,s,a]=e,l=s-r,u=a-i;switch(this.rotation){case 0:return[r,t-a,l,u];case 90:return[r,t-i,u,l];case 180:return[s,t-i,l,u];case 270:return[s,t-a,u,l];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){F(this,Nl,!0)}disableEditMode(){F(this,Nl,!1)}isInEditMode(){return m(this,Nl)}shouldGetKeyboardEvents(){return m(this,Zs)}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){var t,r;const e=this._uiManager._signal;(t=this.div)==null||t.addEventListener("focusin",m(this,Ou),{signal:e}),(r=this.div)==null||r.addEventListener("focusout",m(this,Fu),{signal:e})}rotate(e){}serialize(e=!1,t=null){bt("An editor must be serializable")}static deserialize(e,t,r){const i=new this.prototype.constructor({parent:t,id:t.getNextId(),uiManager:r});i.rotation=e.rotation,F(i,Tl,e.accessibilityData);const[s,a]=i.pageDimensions,[l,u,d,h]=i.getRectInCurrentCoords(e.rect,a);return i.x=l/s,i.y=u/a,i.width=d/s,i.height=h/a,i}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){if(this.div.removeEventListener("focusin",m(this,Ou)),this.div.removeEventListener("focusout",m(this,Fu)),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),m(this,rs)&&(clearTimeout(m(this,rs)),F(this,rs,null)),z(this,Ge,Xh).call(this),this.removeEditToolbar(),m(this,ri)){for(const e of m(this,ri).values())clearTimeout(e);F(this,ri,null)}this.parent=null}get isResizable(){return!1}makeResizable(){this.isResizable&&(z(this,Ge,KI).call(this),m(this,Rn).classList.remove("hidden"),b0(this,this.div,["keydown"]))}get toolbarPosition(){return null}keydown(e){if(!this.isResizable||e.target!==this.div||e.key!=="Enter")return;this._uiManager.setSelected(this),F(this,Ml,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const t=m(this,Rn).children;if(!m(this,Ci)){F(this,Ci,Array.from(t));const a=z(this,Ge,JI).bind(this),l=z(this,Ge,eN).bind(this),u=this._uiManager._signal;for(const d of m(this,Ci)){const h=d.getAttribute("data-resizer-name");d.setAttribute("role","spinbutton"),d.addEventListener("keydown",a,{signal:u}),d.addEventListener("blur",l,{signal:u}),d.addEventListener("focus",z(this,Ge,tN).bind(this,h),{signal:u}),_t._l10nPromise.get(`pdfjs-editor-resizer-label-${h}`).then(p=>d.setAttribute("aria-label",p))}}const r=m(this,Ci)[0];let i=0;for(const a of t){if(a===r)break;i++}const s=(360-this.rotation+this.parentRotation)%360/90*(m(this,Ci).length/4);if(s!==i){if(s<i)for(let l=0;l<i-s;l++)m(this,Rn).append(m(this,Rn).firstChild);else if(s>i)for(let l=0;l<s-i;l++)m(this,Rn).firstChild.before(m(this,Rn).lastChild);let a=0;for(const l of t){const d=m(this,Ci)[a++].getAttribute("data-resizer-name");_t._l10nPromise.get(`pdfjs-editor-resizer-label-${d}`).then(h=>l.setAttribute("aria-label",h))}}z(this,Ge,TS).call(this,0),F(this,Zs,!0),m(this,Rn).firstChild.focus({focusVisible:!0}),e.preventDefault(),e.stopImmediatePropagation()}_resizeWithKeyboard(e,t){m(this,Zs)&&z(this,Ge,kS).call(this,m(this,rp),{movementX:e,movementY:t})}_stopResizingWithKeyboard(){z(this,Ge,Xh).call(this),this.div.focus()}select(){var e,t;if(this.makeResizable(),(e=this.div)==null||e.classList.add("selectedEditor"),!m(this,Wn)){this.addEditToolbar().then(()=>{var r,i;(r=this.div)!=null&&r.classList.contains("selectedEditor")&&((i=m(this,Wn))==null||i.show())});return}(t=m(this,Wn))==null||t.show()}unselect(){var e,t,r,i;(e=m(this,Rn))==null||e.classList.add("hidden"),(t=this.div)==null||t.classList.remove("selectedEditor"),(r=this.div)!=null&&r.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),(i=m(this,Wn))==null||i.hide()}updateParams(e,t){}disableEditing(){}enableEditing(){}enterInEditMode(){}getImageForAltText(){return null}get contentDiv(){return this.div}get isEditing(){return m(this,ip)}set isEditing(e){F(this,ip,e),this.parent&&(e?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(e,t){F(this,Pl,!0);const r=e/t,{style:i}=this.div;i.aspectRatio=r,i.height="auto"}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(e,t=!1){if(t){m(this,ri)||F(this,ri,new Map);const{action:r}=e;let i=m(this,ri).get(r);i&&clearTimeout(i),i=setTimeout(()=>{this._reportTelemetry(e),m(this,ri).delete(r),m(this,ri).size===0&&F(this,ri,null)},_t._telemetryTimeout),m(this,ri).set(r,i);return}e.type||(e.type=this.editorType),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:e}})}show(e=this._isVisible){this.div.classList.toggle("hidden",!e),this._isVisible=e}enable(){this.div&&(this.div.tabIndex=0),F(this,Du,!1)}disable(){this.div&&(this.div.tabIndex=-1),F(this,Du,!0)}renderAnnotationElement(e){let t=e.container.querySelector(".annotationContent");if(!t)t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),e.container.prepend(t);else if(t.nodeName==="CANVAS"){const r=t;t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),r.before(t)}return t}resetAnnotationElement(e){const{firstChild:t}=e.container;t.nodeName==="DIV"&&t.classList.contains("annotationContent")&&t.remove()}};Tl=new WeakMap,Ci=new WeakMap,jn=new WeakMap,Du=new WeakMap,Pl=new WeakMap,Rn=new WeakMap,Ml=new WeakMap,Ou=new WeakMap,Fu=new WeakMap,Wn=new WeakMap,rp=new WeakMap,Il=new WeakMap,ga=new WeakMap,ip=new WeakMap,Nl=new WeakMap,Zs=new WeakMap,rs=new WeakMap,zu=new WeakMap,$u=new WeakMap,ri=new WeakMap,sp=new WeakMap,N0=new WeakMap,Ge=new WeakSet,ES=function([e,t],r,i){[r,i]=this.screenToPageTranslation(r,i),this.x+=r/e,this.y+=i/t,this.fixAndSetPosition()},op=new WeakSet,CS=function(e,t,r){switch(r){case 90:return[t,-e];case 180:return[-e,-t];case 270:return[-t,e];default:return[e,t]}},_S=function(e){switch(e){case 90:{const[t,r]=this.pageDimensions;return[0,-t/r,r/t,0]}case 180:return[-1,0,0,-1];case 270:{const[t,r]=this.pageDimensions;return[0,t/r,-r/t,0]}default:return[1,0,0,1]}},KI=function(){if(m(this,Rn))return;F(this,Rn,document.createElement("div")),m(this,Rn).classList.add("resizers");const e=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],t=this._uiManager._signal;for(const r of e){const i=document.createElement("div");m(this,Rn).append(i),i.classList.add("resizer",r),i.setAttribute("data-resizer-name",r),i.addEventListener("pointerdown",z(this,Ge,QI).bind(this,r),{signal:t}),i.addEventListener("contextmenu",xr,{signal:t}),i.tabIndex=-1}this.div.prepend(m(this,Rn))},QI=function(e,t){var w;t.preventDefault();const{isMac:r}=br.platform;if(t.button!==0||t.ctrlKey&&r)return;(w=m(this,jn))==null||w.toggle(!1);const i=z(this,Ge,kS).bind(this,e),s=this._isDraggable;this._isDraggable=!1;const a=this._uiManager._signal,l={passive:!0,capture:!0,signal:a};this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",i,l),window.addEventListener("contextmenu",xr,{signal:a});const u=this.x,d=this.y,h=this.width,p=this.height,g=this.parent.div.style.cursor,y=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(t.target).cursor;const b=()=>{var C;this.parent.togglePointerEvents(!0),(C=m(this,jn))==null||C.toggle(!0),this._isDraggable=s,window.removeEventListener("pointerup",b),window.removeEventListener("blur",b),window.removeEventListener("pointermove",i,l),window.removeEventListener("contextmenu",xr),this.parent.div.style.cursor=g,this.div.style.cursor=y,z(this,Ge,AS).call(this,u,d,h,p)};window.addEventListener("pointerup",b,{signal:a}),window.addEventListener("blur",b,{signal:a})},AS=function(e,t,r,i){const s=this.x,a=this.y,l=this.width,u=this.height;s===e&&a===t&&l===r&&u===i||this.addCommands({cmd:()=>{this.width=l,this.height=u,this.x=s,this.y=a;const[d,h]=this.parentDimensions;this.setDims(d*l,h*u),this.fixAndSetPosition()},undo:()=>{this.width=r,this.height=i,this.x=e,this.y=t;const[d,h]=this.parentDimensions;this.setDims(d*r,h*i),this.fixAndSetPosition()},mustExec:!0})},kS=function(e,t){const[r,i]=this.parentDimensions,s=this.x,a=this.y,l=this.width,u=this.height,d=_t.MIN_SIZE/r,h=_t.MIN_SIZE/i,p=q=>Math.round(q*1e4)/1e4,g=z(this,Ge,_S).call(this,this.rotation),y=(q,$)=>[g[0]*q+g[2]*$,g[1]*q+g[3]*$],b=z(this,Ge,_S).call(this,360-this.rotation),w=(q,$)=>[b[0]*q+b[2]*$,b[1]*q+b[3]*$];let C,x,A=!1,E=!1;switch(e){case"topLeft":A=!0,C=(q,$)=>[0,0],x=(q,$)=>[q,$];break;case"topMiddle":C=(q,$)=>[q/2,0],x=(q,$)=>[q/2,$];break;case"topRight":A=!0,C=(q,$)=>[q,0],x=(q,$)=>[0,$];break;case"middleRight":E=!0,C=(q,$)=>[q,$/2],x=(q,$)=>[0,$/2];break;case"bottomRight":A=!0,C=(q,$)=>[q,$],x=(q,$)=>[0,0];break;case"bottomMiddle":C=(q,$)=>[q/2,$],x=(q,$)=>[q/2,0];break;case"bottomLeft":A=!0,C=(q,$)=>[0,$],x=(q,$)=>[q,0];break;case"middleLeft":E=!0,C=(q,$)=>[0,$/2],x=(q,$)=>[q,$/2];break}const _=C(l,u),k=x(l,u);let M=y(...k);const T=p(s+M[0]),N=p(a+M[1]);let W=1,P=1,[V,X]=this.screenToPageTranslation(t.movementX,t.movementY);if([V,X]=w(V/r,X/i),A){const q=Math.hypot(l,u);W=P=Math.max(Math.min(Math.hypot(k[0]-_[0]-V,k[1]-_[1]-X)/q,1/l,1/u),d/l,h/u)}else E?W=Math.max(d,Math.min(1,Math.abs(k[0]-_[0]-V)))/l:P=Math.max(h,Math.min(1,Math.abs(k[1]-_[1]-X)))/u;const Y=p(l*W),D=p(u*P);M=y(...x(Y,D));const G=T-M[0],j=N-M[1];this.width=Y,this.height=D,this.x=G,this.y=j,this.setDims(r*Y,i*D),this.fixAndSetPosition()},RS=function(e){const{isMac:t}=br.platform;e.ctrlKey&&!t||e.shiftKey||e.metaKey&&t?this.parent.toggleSelected(this):this.parent.setSelected(this)},ZI=function(e){const t=this._uiManager.isSelected(this);this._uiManager.setUpDragSession();let r,i;const s=this._uiManager._signal;t&&(this.div.classList.add("moving"),r={passive:!0,capture:!0,signal:s},F(this,zu,e.clientX),F(this,$u,e.clientY),i=l=>{const{clientX:u,clientY:d}=l,[h,p]=this.screenToPageTranslation(u-m(this,zu),d-m(this,$u));F(this,zu,u),F(this,$u,d),this._uiManager.dragSelectedEditors(h,p)},window.addEventListener("pointermove",i,r));const a=()=>{window.removeEventListener("pointerup",a),window.removeEventListener("blur",a),t&&(this.div.classList.remove("moving"),window.removeEventListener("pointermove",i,r)),F(this,Il,!1),this._uiManager.endDragSession()||z(this,Ge,RS).call(this,e)};window.addEventListener("pointerup",a,{signal:s}),window.addEventListener("blur",a,{signal:s})},JI=function(e){_t._resizerKeyboardManager.exec(this,e)},eN=function(e){var t;m(this,Zs)&&((t=e.relatedTarget)==null?void 0:t.parentNode)!==m(this,Rn)&&z(this,Ge,Xh).call(this)},tN=function(e){F(this,rp,m(this,Zs)?e:"")},TS=function(e){if(m(this,Ci))for(const t of m(this,Ci))t.tabIndex=e},Xh=function(){if(F(this,Zs,!1),z(this,Ge,TS).call(this,-1),m(this,Ml)){const{savedX:e,savedY:t,savedWidth:r,savedHeight:i}=m(this,Ml);z(this,Ge,AS).call(this,e,t,r,i),F(this,Ml,null)}},H(_t,op),Be(_t,"_borderLineWidth",-1),Be(_t,"_colorManager",new mS),Be(_t,"_zIndex",1),Be(_t,"_telemetryTimeout",1e3);let gt=_t;class V8 extends gt{constructor(e){super(e),this.annotationElementId=e.annotationElementId,this.deleted=!0}serialize(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex}}}const HR=3285377520,ti=4294901760,Ki=65535;class nN{constructor(e){this.h1=e?e&4294967295:HR,this.h2=e?e&4294967295:HR}update(e){let t,r;if(typeof e=="string"){t=new Uint8Array(e.length*2),r=0;for(let w=0,C=e.length;w<C;w++){const x=e.charCodeAt(w);x<=255?t[r++]=x:(t[r++]=x>>>8,t[r++]=x&255)}}else if(ArrayBuffer.isView(e))t=e.slice(),r=t.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const i=r>>2,s=r-i*4,a=new Uint32Array(t.buffer,0,i);let l=0,u=0,d=this.h1,h=this.h2;const p=3432918353,g=461845907,y=p&Ki,b=g&Ki;for(let w=0;w<i;w++)w&1?(l=a[w],l=l*p&ti|l*y&Ki,l=l<<15|l>>>17,l=l*g&ti|l*b&Ki,d^=l,d=d<<13|d>>>19,d=d*5+3864292196):(u=a[w],u=u*p&ti|u*y&Ki,u=u<<15|u>>>17,u=u*g&ti|u*b&Ki,h^=u,h=h<<13|h>>>19,h=h*5+3864292196);switch(l=0,s){case 3:l^=t[i*4+2]<<16;case 2:l^=t[i*4+1]<<8;case 1:l^=t[i*4],l=l*p&ti|l*y&Ki,l=l<<15|l>>>17,l=l*g&ti|l*b&Ki,i&1?d^=l:h^=l}this.h1=d,this.h2=h}hexdigest(){let e=this.h1,t=this.h2;return e^=t>>>1,e=e*3981806797&ti|e*36045&Ki,t=t*4283543511&ti|((t<<16|e>>>16)*2950163797&ti)>>>16,e^=t>>>1,e=e*444984403&ti|e*60499&Ki,t=t*3301882366&ti|((t<<16|e>>>16)*3120437893&ti)>>>16,e^=t>>>1,(e>>>0).toString(16).padStart(8,"0")+(t>>>0).toString(16).padStart(8,"0")}}const PS=Object.freeze({map:null,hash:"",transfer:void 0});var Ll,Tn,L0,rN;class bE{constructor(){H(this,L0);H(this,Ll,!1);H(this,Tn,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(e,t){const r=m(this,Tn).get(e);return r===void 0?t:Object.assign(t,r)}getRawValue(e){return m(this,Tn).get(e)}remove(e){if(m(this,Tn).delete(e),m(this,Tn).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const t of m(this,Tn).values())if(t instanceof gt)return;this.onAnnotationEditor(null)}}setValue(e,t){const r=m(this,Tn).get(e);let i=!1;if(r!==void 0)for(const[s,a]of Object.entries(t))r[s]!==a&&(i=!0,r[s]=a);else i=!0,m(this,Tn).set(e,t);i&&z(this,L0,rN).call(this),t instanceof gt&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(t.constructor._type)}has(e){return m(this,Tn).has(e)}getAll(){return m(this,Tn).size>0?hE(m(this,Tn)):null}setAll(e){for(const[t,r]of Object.entries(e))this.setValue(t,r)}get size(){return m(this,Tn).size}resetModified(){m(this,Ll)&&(F(this,Ll,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new iN(this)}get serializable(){if(m(this,Tn).size===0)return PS;const e=new Map,t=new nN,r=[],i=Object.create(null);let s=!1;for(const[a,l]of m(this,Tn)){const u=l instanceof gt?l.serialize(!1,i):l;u&&(e.set(a,u),t.update(`${a}:${JSON.stringify(u)}`),s||(s=!!u.bitmap))}if(s)for(const a of e.values())a.bitmap&&r.push(a.bitmap);return e.size>0?{map:e,hash:t.hexdigest(),transfer:r}:PS}get editorStats(){let e=null;const t=new Map;for(const r of m(this,Tn).values()){if(!(r instanceof gt))continue;const i=r.telemetryFinalData;if(!i)continue;const{type:s}=i;t.has(s)||t.set(s,Object.getPrototypeOf(r).constructor),e||(e=Object.create(null));const a=e[s]||(e[s]=new Map);for(const[l,u]of Object.entries(i)){if(l==="type")continue;let d=a.get(l);d||(d=new Map,a.set(l,d));const h=d.get(u)??0;d.set(u,h+1)}}for(const[r,i]of t)e[r]=i.computeTelemetryFinalData(e[r]);return e}}Ll=new WeakMap,Tn=new WeakMap,L0=new WeakSet,rN=function(){m(this,Ll)||(F(this,Ll,!0),typeof this.onSetModified=="function"&&this.onSetModified())};var ap;class iN extends bE{constructor(t){super();H(this,ap);const{map:r,hash:i,transfer:s}=t.serializable,a=structuredClone(r,s?{transfer:s}:null);F(this,ap,{map:a,hash:i,transfer:s})}get print(){bt("Should not call PrintAnnotationStorage.print")}get serializable(){return m(this,ap)}}ap=new WeakMap;var Bu;class G8{constructor({ownerDocument:e=globalThis.document,styleElement:t=null}){H(this,Bu,new Set);this._document=e,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(e){this.nativeFontFaces.add(e),this._document.fonts.add(e)}removeNativeFontFace(e){this.nativeFontFaces.delete(e),this._document.fonts.delete(e)}insertRule(e){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const t=this.styleElement.sheet;t.insertRule(e,t.cssRules.length)}clear(){for(const e of this.nativeFontFaces)this._document.fonts.delete(e);this.nativeFontFaces.clear(),m(this,Bu).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:e,_inspectFont:t}){if(!(!e||m(this,Bu).has(e.loadedName))){if(mn(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:r,src:i,style:s}=e,a=new FontFace(r,i,s);this.addNativeFontFace(a);try{await a.load(),m(this,Bu).add(r),t==null||t(e)}catch{Ve(`Cannot load system font: ${e.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(a)}return}bt("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(e){if(e.attached||e.missingFile&&!e.systemFontInfo)return;if(e.attached=!0,e.systemFontInfo){await this.loadSystemFont(e);return}if(this.isFontLoadingAPISupported){const r=e.createNativeFontFace();if(r){this.addNativeFontFace(r);try{await r.loaded}catch(i){throw Ve(`Failed to load font '${r.family}': '${i}'.`),e.disableFontFace=!0,i}}return}const t=e.createFontFaceRule();if(t){if(this.insertRule(t),this.isSyncFontLoadingSupported)return;await new Promise(r=>{const i=this._queueLoadingCallback(r);this._prepareFontLoadEvent(e,i)})}}get isFontLoadingAPISupported(){var t;const e=!!((t=this._document)!=null&&t.fonts);return Je(this,"isFontLoadingAPISupported",e)}get isSyncFontLoadingSupported(){let e=!1;return(Gn||typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.userAgent)=="string"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(e=!0),Je(this,"isSyncFontLoadingSupported",e)}_queueLoadingCallback(e){function t(){for(mn(!i.done,"completeRequest() cannot be called twice."),i.done=!0;r.length>0&&r[0].done;){const s=r.shift();setTimeout(s.callback,0)}}const{loadingRequests:r}=this,i={done:!1,complete:t,callback:e};return r.push(i),i}get _loadTestFont(){const e=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return Je(this,"_loadTestFont",e)}_prepareFontLoadEvent(e,t){function r(_,k){return _.charCodeAt(k)<<24|_.charCodeAt(k+1)<<16|_.charCodeAt(k+2)<<8|_.charCodeAt(k+3)&255}function i(_,k,M,T){const N=_.substring(0,k),W=_.substring(k+M);return N+T+W}let s,a;const l=this._document.createElement("canvas");l.width=1,l.height=1;const u=l.getContext("2d");let d=0;function h(_,k){if(++d>30){Ve("Load test font never loaded."),k();return}if(u.font="30px "+_,u.fillText(".",0,20),u.getImageData(0,0,1,1).data[3]>0){k();return}setTimeout(h.bind(null,_,k))}const p=`lt${Date.now()}${this.loadTestFontId++}`;let g=this._loadTestFont;g=i(g,976,p.length,p);const b=16,w=1482184792;let C=r(g,b);for(s=0,a=p.length-3;s<a;s+=4)C=C-w+r(p,s)|0;s<p.length&&(C=C-w+r(p+"XXX",s)|0),g=i(g,b,4,T8(C));const x=`url(data:font/opentype;base64,${btoa(g)});`,A=`@font-face {font-family:"${p}";src:${x}}`;this.insertRule(A);const E=this._document.createElement("div");E.style.visibility="hidden",E.style.width=E.style.height="10px",E.style.position="absolute",E.style.top=E.style.left="0px";for(const _ of[e.loadedName,p]){const k=this._document.createElement("span");k.textContent="Hi",k.style.fontFamily=_,E.append(k)}this._document.body.append(E),h(p,()=>{E.remove(),t.complete()})}}Bu=new WeakMap;class X8{constructor(e,{disableFontFace:t=!1,inspectFont:r=null}){this.compiledGlyphs=Object.create(null);for(const i in e)this[i]=e[i];this.disableFontFace=t===!0,this._inspectFont=r}createNativeFontFace(){var t;if(!this.data||this.disableFontFace)return null;let e;if(!this.cssFontInfo)e=new FontFace(this.loadedName,this.data,{});else{const r={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(r.style=`oblique ${this.cssFontInfo.italicAngle}deg`),e=new FontFace(this.cssFontInfo.fontFamily,this.data,r)}return(t=this._inspectFont)==null||t.call(this,this),e}createFontFaceRule(){var i;if(!this.data||this.disableFontFace)return null;const e=_I(this.data),t=`url(data:${this.mimetype};base64,${btoa(e)});`;let r;if(!this.cssFontInfo)r=`@font-face {font-family:"${this.loadedName}";src:${t}}`;else{let s=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(s+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),r=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${s}src:${t}}`}return(i=this._inspectFont)==null||i.call(this,this,t),r}getPathGenerator(e,t){if(this.compiledGlyphs[t]!==void 0)return this.compiledGlyphs[t];let r;try{r=e.get(this.loadedName+"_path_"+t)}catch(s){Ve(`getPathGenerator - ignoring character: "${s}".`)}if(!Array.isArray(r)||r.length===0)return this.compiledGlyphs[t]=function(s,a){};const i=[];for(let s=0,a=r.length;s<a;)switch(r[s++]){case zs.BEZIER_CURVE_TO:{const[l,u,d,h,p,g]=r.slice(s,s+6);i.push(y=>y.bezierCurveTo(l,u,d,h,p,g)),s+=6}break;case zs.MOVE_TO:{const[l,u]=r.slice(s,s+2);i.push(d=>d.moveTo(l,u)),s+=2}break;case zs.LINE_TO:{const[l,u]=r.slice(s,s+2);i.push(d=>d.lineTo(l,u)),s+=2}break;case zs.QUADRATIC_CURVE_TO:{const[l,u,d,h]=r.slice(s,s+4);i.push(p=>p.quadraticCurveTo(l,u,d,h)),s+=4}break;case zs.RESTORE:i.push(l=>l.restore());break;case zs.SAVE:i.push(l=>l.save());break;case zs.SCALE:mn(i.length===2,"Scale command is only valid at the third position.");break;case zs.TRANSFORM:{const[l,u,d,h,p,g]=r.slice(s,s+6);i.push(y=>y.transform(l,u,d,h,p,g)),s+=6}break;case zs.TRANSLATE:{const[l,u]=r.slice(s,s+2);i.push(d=>d.translate(l,u)),s+=2}break}return this.compiledGlyphs[t]=function(a,l){i[0](a),i[1](a),a.scale(l,-l);for(let u=2,d=i.length;u<d;u++)i[u](a)}}}if(Gn){var MS=Promise.withResolvers(),df=null;(async()=>{const e=await Hh(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),t=await Hh(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),r=await Hh(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),i=await Hh(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]);let s,a;return new Map(Object.entries({fs:e,http:t,https:r,url:i,canvas:s,path2d:a}))})().then(e=>{df=e,MS.resolve()},e=>{Ve(`loadPackages: ${e}`),df=new Map,MS.resolve()})}class Es{static get promise(){return MS.promise}static get(e){return df==null?void 0:df.get(e)}}const sN=function(n){return Es.get("fs").promises.readFile(n).then(t=>new Uint8Array(t))};class Y8 extends Pv{}class q8 extends v0{_createCanvas(e,t){return Es.get("canvas").createCanvas(e,t)}}class K8 extends Mv{_fetchData(e,t){return sN(e).then(r=>({cMapData:r,compressionType:t}))}}class Q8 extends Iv{_fetchData(e){return sN(e)}}const nr={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function IS(n,e){if(!e)return;const t=e[2]-e[0],r=e[3]-e[1],i=new Path2D;i.rect(e[0],e[1],t,r),n.clip(i)}class Tg{constructor(){this.constructor===Tg&&bt("Cannot initialize BaseShadingPattern.")}getPattern(){bt("Abstract method `getPattern` called.")}}class Z8 extends Tg{constructor(e){super(),this._type=e[1],this._bbox=e[2],this._colorStops=e[3],this._p0=e[4],this._p1=e[5],this._r0=e[6],this._r1=e[7],this.matrix=null}_createGradient(e){let t;this._type==="axial"?t=e.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(t=e.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const r of this._colorStops)t.addColorStop(r[0],r[1]);return t}getPattern(e,t,r,i){let s;if(i===nr.STROKE||i===nr.FILL){const a=t.current.getClippedPathBoundingBox(i,Ht(e))||[0,0,0,0],l=Math.ceil(a[2]-a[0])||1,u=Math.ceil(a[3]-a[1])||1,d=t.cachedCanvases.getCanvas("pattern",l,u,!0),h=d.context;h.clearRect(0,0,h.canvas.width,h.canvas.height),h.beginPath(),h.rect(0,0,h.canvas.width,h.canvas.height),h.translate(-a[0],-a[1]),r=Me.transform(r,[1,0,0,1,a[0],a[1]]),h.transform(...t.baseTransform),this.matrix&&h.transform(...this.matrix),IS(h,this._bbox),h.fillStyle=this._createGradient(h),h.fill(),s=e.createPattern(d.canvas,"no-repeat");const p=new DOMMatrix(r);s.setTransform(p)}else IS(e,this._bbox),s=this._createGradient(e);return s}}function gx(n,e,t,r,i,s,a,l){const u=e.coords,d=e.colors,h=n.data,p=n.width*4;let g;u[t+1]>u[r+1]&&(g=t,t=r,r=g,g=s,s=a,a=g),u[r+1]>u[i+1]&&(g=r,r=i,i=g,g=a,a=l,l=g),u[t+1]>u[r+1]&&(g=t,t=r,r=g,g=s,s=a,a=g);const y=(u[t]+e.offsetX)*e.scaleX,b=(u[t+1]+e.offsetY)*e.scaleY,w=(u[r]+e.offsetX)*e.scaleX,C=(u[r+1]+e.offsetY)*e.scaleY,x=(u[i]+e.offsetX)*e.scaleX,A=(u[i+1]+e.offsetY)*e.scaleY;if(b>=A)return;const E=d[s],_=d[s+1],k=d[s+2],M=d[a],T=d[a+1],N=d[a+2],W=d[l],P=d[l+1],V=d[l+2],X=Math.round(b),Y=Math.round(A);let D,G,j,q,$,B,K,U;for(let Z=X;Z<=Y;Z++){if(Z<C){const ee=Z<b?0:(b-Z)/(b-C);D=y-(y-w)*ee,G=E-(E-M)*ee,j=_-(_-T)*ee,q=k-(k-N)*ee}else{let ee;Z>A?ee=1:C===A?ee=0:ee=(C-Z)/(C-A),D=w-(w-x)*ee,G=M-(M-W)*ee,j=T-(T-P)*ee,q=N-(N-V)*ee}let re;Z<b?re=0:Z>A?re=1:re=(b-Z)/(b-A),$=y-(y-x)*re,B=E-(E-W)*re,K=_-(_-P)*re,U=k-(k-V)*re;const le=Math.round(Math.min(D,$)),se=Math.round(Math.max(D,$));let ce=p*Z+le*4;for(let ee=le;ee<=se;ee++)re=(D-ee)/(D-$),re<0?re=0:re>1&&(re=1),h[ce++]=G-(G-B)*re|0,h[ce++]=j-(j-K)*re|0,h[ce++]=q-(q-U)*re|0,h[ce++]=255}}function J8(n,e,t){const r=e.coords,i=e.colors;let s,a;switch(e.type){case"lattice":const l=e.verticesPerRow,u=Math.floor(r.length/l)-1,d=l-1;for(s=0;s<u;s++){let h=s*l;for(let p=0;p<d;p++,h++)gx(n,t,r[h],r[h+1],r[h+l],i[h],i[h+1],i[h+l]),gx(n,t,r[h+l+1],r[h+1],r[h+l],i[h+l+1],i[h+1],i[h+l])}break;case"triangles":for(s=0,a=r.length;s<a;s+=3)gx(n,t,r[s],r[s+1],r[s+2],i[s],i[s+1],i[s+2]);break;default:throw new Error("illegal figure")}}class eG extends Tg{constructor(e){super(),this._coords=e[2],this._colors=e[3],this._figures=e[4],this._bounds=e[5],this._bbox=e[7],this._background=e[8],this.matrix=null}_createMeshCanvas(e,t,r){const l=Math.floor(this._bounds[0]),u=Math.floor(this._bounds[1]),d=Math.ceil(this._bounds[2])-l,h=Math.ceil(this._bounds[3])-u,p=Math.min(Math.ceil(Math.abs(d*e[0]*1.1)),3e3),g=Math.min(Math.ceil(Math.abs(h*e[1]*1.1)),3e3),y=d/p,b=h/g,w={coords:this._coords,colors:this._colors,offsetX:-l,offsetY:-u,scaleX:1/y,scaleY:1/b},C=p+2*2,x=g+2*2,A=r.getCanvas("mesh",C,x,!1),E=A.context,_=E.createImageData(p,g);if(t){const M=_.data;for(let T=0,N=M.length;T<N;T+=4)M[T]=t[0],M[T+1]=t[1],M[T+2]=t[2],M[T+3]=255}for(const M of this._figures)J8(_,M,w);return E.putImageData(_,2,2),{canvas:A.canvas,offsetX:l-2*y,offsetY:u-2*b,scaleX:y,scaleY:b}}getPattern(e,t,r,i){IS(e,this._bbox);let s;if(i===nr.SHADING)s=Me.singularValueDecompose2dScale(Ht(e));else if(s=Me.singularValueDecompose2dScale(t.baseTransform),this.matrix){const l=Me.singularValueDecompose2dScale(this.matrix);s=[s[0]*l[0],s[1]*l[1]]}const a=this._createMeshCanvas(s,i===nr.SHADING?null:this._background,t.cachedCanvases);return i!==nr.SHADING&&(e.setTransform(...t.baseTransform),this.matrix&&e.transform(...this.matrix)),e.translate(a.offsetX,a.offsetY),e.scale(a.scaleX,a.scaleY),e.createPattern(a.canvas,"no-repeat")}}class tG extends Tg{getPattern(){return"hotpink"}}function nG(n){switch(n[0]){case"RadialAxial":return new Z8(n);case"Mesh":return new eG(n);case"Dummy":return new tG}throw new Error(`Unknown IR type: ${n[0]}`)}const jR={COLORED:1,UNCOLORED:2},D0=class D0{constructor(e,t,r,i,s){this.operatorList=e[2],this.matrix=e[3],this.bbox=e[4],this.xstep=e[5],this.ystep=e[6],this.paintType=e[7],this.tilingType=e[8],this.color=t,this.ctx=r,this.canvasGraphicsFactory=i,this.baseTransform=s}createPatternCanvas(e){const t=this.operatorList,r=this.bbox,i=this.xstep,s=this.ystep,a=this.paintType,l=this.tilingType,u=this.color,d=this.canvasGraphicsFactory;kv("TilingType: "+l);const h=r[0],p=r[1],g=r[2],y=r[3],b=Me.singularValueDecompose2dScale(this.matrix),w=Me.singularValueDecompose2dScale(this.baseTransform),C=[b[0]*w[0],b[1]*w[1]],x=this.getSizeAndScale(i,this.ctx.canvas.width,C[0]),A=this.getSizeAndScale(s,this.ctx.canvas.height,C[1]),E=e.cachedCanvases.getCanvas("pattern",x.size,A.size,!0),_=E.context,k=d.createCanvasGraphics(_);k.groupLevel=e.groupLevel,this.setFillAndStrokeStyleToContext(k,a,u);let M=h,T=p,N=g,W=y;return h<0&&(M=0,N+=Math.abs(h)),p<0&&(T=0,W+=Math.abs(p)),_.translate(-(x.scale*M),-(A.scale*T)),k.transform(x.scale,0,0,A.scale,0,0),_.save(),this.clipBbox(k,M,T,N,W),k.baseTransform=Ht(k.ctx),k.executeOperatorList(t),k.endDrawing(),{canvas:E.canvas,scaleX:x.scale,scaleY:A.scale,offsetX:M,offsetY:T}}getSizeAndScale(e,t,r){e=Math.abs(e);const i=Math.max(D0.MAX_PATTERN_SIZE,t);let s=Math.ceil(e*r);return s>=i?s=i:r=s/e,{scale:r,size:s}}clipBbox(e,t,r,i,s){const a=i-t,l=s-r;e.ctx.rect(t,r,a,l),e.current.updateRectMinMax(Ht(e.ctx),[t,r,i,s]),e.clip(),e.endPath()}setFillAndStrokeStyleToContext(e,t,r){const i=e.ctx,s=e.current;switch(t){case jR.COLORED:const a=this.ctx;i.fillStyle=a.fillStyle,i.strokeStyle=a.strokeStyle,s.fillColor=a.fillStyle,s.strokeColor=a.strokeStyle;break;case jR.UNCOLORED:const l=Me.makeHexColor(r[0],r[1],r[2]);i.fillStyle=l,i.strokeStyle=l,s.fillColor=l,s.strokeColor=l;break;default:throw new R8(`Unsupported paint type: ${t}`)}}getPattern(e,t,r,i){let s=r;i!==nr.SHADING&&(s=Me.transform(s,t.baseTransform),this.matrix&&(s=Me.transform(s,this.matrix)));const a=this.createPatternCanvas(t);let l=new DOMMatrix(s);l=l.translate(a.offsetX,a.offsetY),l=l.scale(1/a.scaleX,1/a.scaleY);const u=e.createPattern(a.canvas,"repeat");return u.setTransform(l),u}};Be(D0,"MAX_PATTERN_SIZE",3e3);let NS=D0;function rG({src:n,srcPos:e=0,dest:t,width:r,height:i,nonBlackColor:s=4294967295,inverseDecode:a=!1}){const l=br.isLittleEndian?4278190080:255,[u,d]=a?[s,l]:[l,s],h=r>>3,p=r&7,g=n.length;t=new Uint32Array(t.buffer);let y=0;for(let b=0;b<i;b++){for(const C=e+h;e<C;e++){const x=e<g?n[e]:255;t[y++]=x&128?d:u,t[y++]=x&64?d:u,t[y++]=x&32?d:u,t[y++]=x&16?d:u,t[y++]=x&8?d:u,t[y++]=x&4?d:u,t[y++]=x&2?d:u,t[y++]=x&1?d:u}if(p===0)continue;const w=e<g?n[e++]:255;for(let C=0;C<p;C++)t[y++]=w&1<<7-C?d:u}return{srcPos:e,destPos:y}}const WR=16,UR=100,iG=15,VR=10,GR=1e3,yr=16;function sG(n,e){if(n._removeMirroring)throw new Error("Context is already forwarding operations.");n.__originalSave=n.save,n.__originalRestore=n.restore,n.__originalRotate=n.rotate,n.__originalScale=n.scale,n.__originalTranslate=n.translate,n.__originalTransform=n.transform,n.__originalSetTransform=n.setTransform,n.__originalResetTransform=n.resetTransform,n.__originalClip=n.clip,n.__originalMoveTo=n.moveTo,n.__originalLineTo=n.lineTo,n.__originalBezierCurveTo=n.bezierCurveTo,n.__originalRect=n.rect,n.__originalClosePath=n.closePath,n.__originalBeginPath=n.beginPath,n._removeMirroring=()=>{n.save=n.__originalSave,n.restore=n.__originalRestore,n.rotate=n.__originalRotate,n.scale=n.__originalScale,n.translate=n.__originalTranslate,n.transform=n.__originalTransform,n.setTransform=n.__originalSetTransform,n.resetTransform=n.__originalResetTransform,n.clip=n.__originalClip,n.moveTo=n.__originalMoveTo,n.lineTo=n.__originalLineTo,n.bezierCurveTo=n.__originalBezierCurveTo,n.rect=n.__originalRect,n.closePath=n.__originalClosePath,n.beginPath=n.__originalBeginPath,delete n._removeMirroring},n.save=function(){e.save(),this.__originalSave()},n.restore=function(){e.restore(),this.__originalRestore()},n.translate=function(r,i){e.translate(r,i),this.__originalTranslate(r,i)},n.scale=function(r,i){e.scale(r,i),this.__originalScale(r,i)},n.transform=function(r,i,s,a,l,u){e.transform(r,i,s,a,l,u),this.__originalTransform(r,i,s,a,l,u)},n.setTransform=function(r,i,s,a,l,u){e.setTransform(r,i,s,a,l,u),this.__originalSetTransform(r,i,s,a,l,u)},n.resetTransform=function(){e.resetTransform(),this.__originalResetTransform()},n.rotate=function(r){e.rotate(r),this.__originalRotate(r)},n.clip=function(r){e.clip(r),this.__originalClip(r)},n.moveTo=function(t,r){e.moveTo(t,r),this.__originalMoveTo(t,r)},n.lineTo=function(t,r){e.lineTo(t,r),this.__originalLineTo(t,r)},n.bezierCurveTo=function(t,r,i,s,a,l){e.bezierCurveTo(t,r,i,s,a,l),this.__originalBezierCurveTo(t,r,i,s,a,l)},n.rect=function(t,r,i,s){e.rect(t,r,i,s),this.__originalRect(t,r,i,s)},n.closePath=function(){e.closePath(),this.__originalClosePath()},n.beginPath=function(){e.beginPath(),this.__originalBeginPath()}}class oG{constructor(e){this.canvasFactory=e,this.cache=Object.create(null)}getCanvas(e,t,r){let i;return this.cache[e]!==void 0?(i=this.cache[e],this.canvasFactory.reset(i,t,r)):(i=this.canvasFactory.create(t,r),this.cache[e]=i),i}delete(e){delete this.cache[e]}clear(){for(const e in this.cache){const t=this.cache[e];this.canvasFactory.destroy(t),delete this.cache[e]}}}function py(n,e,t,r,i,s,a,l,u,d){const[h,p,g,y,b,w]=Ht(n);if(p===0&&g===0){const A=a*h+b,E=Math.round(A),_=l*y+w,k=Math.round(_),M=(a+u)*h+b,T=Math.abs(Math.round(M)-E)||1,N=(l+d)*y+w,W=Math.abs(Math.round(N)-k)||1;return n.setTransform(Math.sign(h),0,0,Math.sign(y),E,k),n.drawImage(e,t,r,i,s,0,0,T,W),n.setTransform(h,p,g,y,b,w),[T,W]}if(h===0&&y===0){const A=l*g+b,E=Math.round(A),_=a*p+w,k=Math.round(_),M=(l+d)*g+b,T=Math.abs(Math.round(M)-E)||1,N=(a+u)*p+w,W=Math.abs(Math.round(N)-k)||1;return n.setTransform(0,Math.sign(p),Math.sign(g),0,E,k),n.drawImage(e,t,r,i,s,0,0,W,T),n.setTransform(h,p,g,y,b,w),[W,T]}n.drawImage(e,t,r,i,s,a,l,u,d);const C=Math.hypot(h,p),x=Math.hypot(g,y);return[C*u,x*d]}function aG(n){const{width:e,height:t}=n;if(e>GR||t>GR)return null;const r=1e3,i=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),s=e+1;let a=new Uint8Array(s*(t+1)),l,u,d;const h=e+7&-8;let p=new Uint8Array(h*t),g=0;for(const x of n.data){let A=128;for(;A>0;)p[g++]=x&A?0:255,A>>=1}let y=0;for(g=0,p[g]!==0&&(a[0]=1,++y),u=1;u<e;u++)p[g]!==p[g+1]&&(a[u]=p[g]?2:1,++y),g++;for(p[g]!==0&&(a[u]=2,++y),l=1;l<t;l++){g=l*h,d=l*s,p[g-h]!==p[g]&&(a[d]=p[g]?1:8,++y);let x=(p[g]?4:0)+(p[g-h]?8:0);for(u=1;u<e;u++)x=(x>>2)+(p[g+1]?4:0)+(p[g-h+1]?8:0),i[x]&&(a[d+u]=i[x],++y),g++;if(p[g-h]!==p[g]&&(a[d+u]=p[g]?2:4,++y),y>r)return null}for(g=h*(t-1),d=l*s,p[g]!==0&&(a[d]=8,++y),u=1;u<e;u++)p[g]!==p[g+1]&&(a[d+u]=p[g]?4:8,++y),g++;if(p[g]!==0&&(a[d+u]=4,++y),y>r)return null;const b=new Int32Array([0,s,-1,0,-s,0,0,0,1]),w=new Path2D;for(l=0;y&&l<=t;l++){let x=l*s;const A=x+e;for(;x<A&&!a[x];)x++;if(x===A)continue;w.moveTo(x%s,l);const E=x;let _=a[x];do{const k=b[_];do x+=k;while(!a[x]);const M=a[x];M!==5&&M!==10?(_=M,a[x]=0):(_=M&51*_>>4,a[x]&=_>>2|_<<2),w.lineTo(x%s,x/s|0),a[x]||--y}while(E!==x);--l}return p=null,a=null,function(x){x.save(),x.scale(1/e,-1/t),x.translate(0,-t),x.fill(w),x.beginPath(),x.restore()}}class XR{constructor(e,t){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=EI,this.textMatrixScale=1,this.fontMatrix=sS,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=$n.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,e,t])}clone(){const e=Object.create(this);return e.clipBox=this.clipBox.slice(),e}setCurrentPoint(e,t){this.x=e,this.y=t}updatePathMinMax(e,t,r){[t,r]=Me.applyTransform([t,r],e),this.minX=Math.min(this.minX,t),this.minY=Math.min(this.minY,r),this.maxX=Math.max(this.maxX,t),this.maxY=Math.max(this.maxY,r)}updateRectMinMax(e,t){const r=Me.applyTransform(t,e),i=Me.applyTransform(t.slice(2),e),s=Me.applyTransform([t[0],t[3]],e),a=Me.applyTransform([t[2],t[1]],e);this.minX=Math.min(this.minX,r[0],i[0],s[0],a[0]),this.minY=Math.min(this.minY,r[1],i[1],s[1],a[1]),this.maxX=Math.max(this.maxX,r[0],i[0],s[0],a[0]),this.maxY=Math.max(this.maxY,r[1],i[1],s[1],a[1])}updateScalingPathMinMax(e,t){Me.scaleMinMax(e,t),this.minX=Math.min(this.minX,t[0]),this.minY=Math.min(this.minY,t[1]),this.maxX=Math.max(this.maxX,t[2]),this.maxY=Math.max(this.maxY,t[3])}updateCurvePathMinMax(e,t,r,i,s,a,l,u,d,h){const p=Me.bezierBoundingBox(t,r,i,s,a,l,u,d,h);h||this.updateRectMinMax(e,p)}getPathBoundingBox(e=nr.FILL,t=null){const r=[this.minX,this.minY,this.maxX,this.maxY];if(e===nr.STROKE){t||bt("Stroke bounding box must include transform.");const i=Me.singularValueDecompose2dScale(t),s=i[0]*this.lineWidth/2,a=i[1]*this.lineWidth/2;r[0]-=s,r[1]-=a,r[2]+=s,r[3]+=a}return r}updateClipFromPath(){const e=Me.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(e||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(e){this.clipBox=e,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(e=nr.FILL,t=null){return Me.intersect(this.clipBox,this.getPathBoundingBox(e,t))}}function YR(n,e){if(typeof ImageData<"u"&&e instanceof ImageData){n.putImageData(e,0,0);return}const t=e.height,r=e.width,i=t%yr,s=(t-i)/yr,a=i===0?s:s+1,l=n.createImageData(r,yr);let u=0,d;const h=e.data,p=l.data;let g,y,b,w;if(e.kind===ky.GRAYSCALE_1BPP){const C=h.byteLength,x=new Uint32Array(p.buffer,0,p.byteLength>>2),A=x.length,E=r+7>>3,_=4294967295,k=br.isLittleEndian?4278190080:255;for(g=0;g<a;g++){for(b=g<s?yr:i,d=0,y=0;y<b;y++){const M=C-u;let T=0;const N=M>E?r:M*8-7,W=N&-8;let P=0,V=0;for(;T<W;T+=8)V=h[u++],x[d++]=V&128?_:k,x[d++]=V&64?_:k,x[d++]=V&32?_:k,x[d++]=V&16?_:k,x[d++]=V&8?_:k,x[d++]=V&4?_:k,x[d++]=V&2?_:k,x[d++]=V&1?_:k;for(;T<N;T++)P===0&&(V=h[u++],P=128),x[d++]=V&P?_:k,P>>=1}for(;d<A;)x[d++]=0;n.putImageData(l,0,g*yr)}}else if(e.kind===ky.RGBA_32BPP){for(y=0,w=r*yr*4,g=0;g<s;g++)p.set(h.subarray(u,u+w)),u+=w,n.putImageData(l,0,y),y+=yr;g<a&&(w=r*i*4,p.set(h.subarray(u,u+w)),n.putImageData(l,0,y))}else if(e.kind===ky.RGB_24BPP)for(b=yr,w=r*b,g=0;g<a;g++){for(g>=s&&(b=i,w=r*b),d=0,y=w;y--;)p[d++]=h[u++],p[d++]=h[u++],p[d++]=h[u++],p[d++]=255;n.putImageData(l,0,g*yr)}else throw new Error(`bad image kind: ${e.kind}`)}function qR(n,e){if(e.bitmap){n.drawImage(e.bitmap,0,0);return}const t=e.height,r=e.width,i=t%yr,s=(t-i)/yr,a=i===0?s:s+1,l=n.createImageData(r,yr);let u=0;const d=e.data,h=l.data;for(let p=0;p<a;p++){const g=p<s?yr:i;({srcPos:u}=rG({src:d,srcPos:u,dest:h,width:r,height:g,nonBlackColor:0})),n.putImageData(l,0,p*yr)}}function Nh(n,e){const t=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const r of t)n[r]!==void 0&&(e[r]=n[r]);n.setLineDash!==void 0&&(e.setLineDash(n.getLineDash()),e.lineDashOffset=n.lineDashOffset)}function gy(n){if(n.strokeStyle=n.fillStyle="#000000",n.fillRule="nonzero",n.globalAlpha=1,n.lineWidth=1,n.lineCap="butt",n.lineJoin="miter",n.miterLimit=10,n.globalCompositeOperation="source-over",n.font="10px sans-serif",n.setLineDash!==void 0&&(n.setLineDash([]),n.lineDashOffset=0),!Gn){const{filter:e}=n;e!=="none"&&e!==""&&(n.filter="none")}}function KR(n,e){if(e)return!0;const t=Me.singularValueDecompose2dScale(n);t[0]=Math.fround(t[0]),t[1]=Math.fround(t[1]);const r=Math.fround((globalThis.devicePixelRatio||1)*za.PDF_TO_CSS_UNITS);return t[0]<=r&&t[1]<=r}const lG=["butt","round","square"],cG=["miter","round","bevel"],uG={},QR={};var Ba,LS,DS;const _E=class _E{constructor(e,t,r,i,s,{optionalContentConfig:a,markedContentStack:l=null},u,d){H(this,Ba);this.ctx=e,this.current=new XR(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=t,this.objs=r,this.canvasFactory=i,this.filterFactory=s,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=l||[],this.optionalContentConfig=a,this.cachedCanvases=new oG(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=u,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=d,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(e,t=null){return typeof e=="string"?e.startsWith("g_")?this.commonObjs.get(e):this.objs.get(e):t}beginDrawing({transform:e,viewport:t,transparency:r=!1,background:i=null}){const s=this.ctx.canvas.width,a=this.ctx.canvas.height,l=this.ctx.fillStyle;if(this.ctx.fillStyle=i||"#ffffff",this.ctx.fillRect(0,0,s,a),this.ctx.fillStyle=l,r){const u=this.cachedCanvases.getCanvas("transparent",s,a);this.compositeCtx=this.ctx,this.transparentCanvas=u.canvas,this.ctx=u.context,this.ctx.save(),this.ctx.transform(...Ht(this.compositeCtx))}this.ctx.save(),gy(this.ctx),e&&(this.ctx.transform(...e),this.outputScaleX=e[0],this.outputScaleY=e[0]),this.ctx.transform(...t.transform),this.viewportScale=t.scale,this.baseTransform=Ht(this.ctx)}executeOperatorList(e,t,r,i){const s=e.argsArray,a=e.fnArray;let l=t||0;const u=s.length;if(u===l)return l;const d=u-l>VR&&typeof r=="function",h=d?Date.now()+iG:0;let p=0;const g=this.commonObjs,y=this.objs;let b;for(;;){if(i!==void 0&&l===i.nextBreakPoint)return i.breakIt(l,r),l;if(b=a[l],b!==bi.dependency)this[b].apply(this,s[l]);else for(const w of s[l]){const C=w.startsWith("g_")?g:y;if(!C.has(w))return C.get(w,r),l}if(l++,l===u)return l;if(d&&++p>VR){if(Date.now()>h)return r(),l;p=0}}}endDrawing(){z(this,Ba,LS).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const e of this._cachedBitmapsMap.values()){for(const t of e.values())typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement&&(t.width=t.height=0);e.clear()}this._cachedBitmapsMap.clear(),z(this,Ba,DS).call(this)}_scaleImage(e,t){const r=e.width,i=e.height;let s=Math.max(Math.hypot(t[0],t[1]),1),a=Math.max(Math.hypot(t[2],t[3]),1),l=r,u=i,d="prescale1",h,p;for(;s>2&&l>1||a>2&&u>1;){let g=l,y=u;s>2&&l>1&&(g=l>=16384?Math.floor(l/2)-1||1:Math.ceil(l/2),s/=l/g),a>2&&u>1&&(y=u>=16384?Math.floor(u/2)-1||1:Math.ceil(u)/2,a/=u/y),h=this.cachedCanvases.getCanvas(d,g,y),p=h.context,p.clearRect(0,0,g,y),p.drawImage(e,0,0,l,u,0,0,g,y),e=h.canvas,l=g,u=y,d=d==="prescale1"?"prescale2":"prescale1"}return{img:e,paintWidth:l,paintHeight:u}}_createMaskCanvas(e){const t=this.ctx,{width:r,height:i}=e,s=this.current.fillColor,a=this.current.patternFill,l=Ht(t);let u,d,h,p;if((e.bitmap||e.data)&&e.count>1){const N=e.bitmap||e.data.buffer;d=JSON.stringify(a?l:[l.slice(0,4),s]),u=this._cachedBitmapsMap.get(N),u||(u=new Map,this._cachedBitmapsMap.set(N,u));const W=u.get(d);if(W&&!a){const P=Math.round(Math.min(l[0],l[2])+l[4]),V=Math.round(Math.min(l[1],l[3])+l[5]);return{canvas:W,offsetX:P,offsetY:V}}h=W}h||(p=this.cachedCanvases.getCanvas("maskCanvas",r,i),qR(p.context,e));let g=Me.transform(l,[1/r,0,0,-1/i,0,0]);g=Me.transform(g,[1,0,0,1,0,-i]);const[y,b,w,C]=Me.getAxialAlignedBoundingBox([0,0,r,i],g),x=Math.round(w-y)||1,A=Math.round(C-b)||1,E=this.cachedCanvases.getCanvas("fillCanvas",x,A),_=E.context,k=y,M=b;_.translate(-k,-M),_.transform(...g),h||(h=this._scaleImage(p.canvas,$s(_)),h=h.img,u&&a&&u.set(d,h)),_.imageSmoothingEnabled=KR(Ht(_),e.interpolate),py(_,h,0,0,h.width,h.height,0,0,r,i),_.globalCompositeOperation="source-in";const T=Me.transform($s(_),[1,0,0,1,-k,-M]);return _.fillStyle=a?s.getPattern(t,this,T,nr.FILL):s,_.fillRect(0,0,r,i),u&&!a&&(this.cachedCanvases.delete("fillCanvas"),u.set(d,E.canvas)),{canvas:E.canvas,offsetX:Math.round(k),offsetY:Math.round(M)}}setLineWidth(e){e!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=e,this.ctx.lineWidth=e}setLineCap(e){this.ctx.lineCap=lG[e]}setLineJoin(e){this.ctx.lineJoin=cG[e]}setMiterLimit(e){this.ctx.miterLimit=e}setDash(e,t){const r=this.ctx;r.setLineDash!==void 0&&(r.setLineDash(e),r.lineDashOffset=t)}setRenderingIntent(e){}setFlatness(e){}setGState(e){for(const[t,r]of e)switch(t){case"LW":this.setLineWidth(r);break;case"LC":this.setLineCap(r);break;case"LJ":this.setLineJoin(r);break;case"ML":this.setMiterLimit(r);break;case"D":this.setDash(r[0],r[1]);break;case"RI":this.setRenderingIntent(r);break;case"FL":this.setFlatness(r);break;case"Font":this.setFont(r[0],r[1]);break;case"CA":this.current.strokeAlpha=r;break;case"ca":this.current.fillAlpha=r,this.ctx.globalAlpha=r;break;case"BM":this.ctx.globalCompositeOperation=r;break;case"SMask":this.current.activeSMask=r?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(r);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const e=this.inSMaskMode;this.current.activeSMask&&!e?this.beginSMaskMode():!this.current.activeSMask&&e&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const e=this.ctx.canvas.width,t=this.ctx.canvas.height,r="smaskGroupAt"+this.groupLevel,i=this.cachedCanvases.getCanvas(r,e,t);this.suspendedCtx=this.ctx,this.ctx=i.context;const s=this.ctx;s.setTransform(...Ht(this.suspendedCtx)),Nh(this.suspendedCtx,s),sG(s,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),Nh(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(e){if(!this.current.activeSMask)return;e?(e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.ceil(e[2]),e[3]=Math.ceil(e[3])):e=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const t=this.current.activeSMask,r=this.suspendedCtx;this.composeSMask(r,t,this.ctx,e),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(e,t,r,i){const s=i[0],a=i[1],l=i[2]-s,u=i[3]-a;l===0||u===0||(this.genericComposeSMask(t.context,r,l,u,t.subtype,t.backdrop,t.transferMap,s,a,t.offsetX,t.offsetY),e.save(),e.globalAlpha=1,e.globalCompositeOperation="source-over",e.setTransform(1,0,0,1,0,0),e.drawImage(r.canvas,0,0),e.restore())}genericComposeSMask(e,t,r,i,s,a,l,u,d,h,p){let g=e.canvas,y=u-h,b=d-p;if(a){if(y<0||b<0||y+r>g.width||b+i>g.height){const C=this.cachedCanvases.getCanvas("maskExtension",r,i),x=C.context;x.drawImage(g,-y,-b),a.some(A=>A!==0)&&(x.globalCompositeOperation="destination-atop",x.fillStyle=Me.makeHexColor(...a),x.fillRect(0,0,r,i),x.globalCompositeOperation="source-over"),g=C.canvas,y=b=0}else if(a.some(C=>C!==0)){e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0);const C=new Path2D;C.rect(y,b,r,i),e.clip(C),e.globalCompositeOperation="destination-atop",e.fillStyle=Me.makeHexColor(...a),e.fillRect(y,b,r,i),e.restore()}}t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0),s==="Alpha"&&l?t.filter=this.filterFactory.addAlphaFilter(l):s==="Luminosity"&&(t.filter=this.filterFactory.addLuminosityFilter(l));const w=new Path2D;w.rect(u,d,r,i),t.clip(w),t.globalCompositeOperation="destination-in",t.drawImage(g,y,b,r,i,u,d,r,i),t.restore()}save(){this.inSMaskMode?(Nh(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const e=this.current;this.stateStack.push(e),this.current=e.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),Nh(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(e,t,r,i,s,a){this.ctx.transform(e,t,r,i,s,a),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(e,t,r){const i=this.ctx,s=this.current;let a=s.x,l=s.y,u,d;const h=Ht(i),p=h[0]===0&&h[3]===0||h[1]===0&&h[2]===0,g=p?r.slice(0):null;for(let y=0,b=0,w=e.length;y<w;y++)switch(e[y]|0){case bi.rectangle:a=t[b++],l=t[b++];const C=t[b++],x=t[b++],A=a+C,E=l+x;i.moveTo(a,l),C===0||x===0?i.lineTo(A,E):(i.lineTo(A,l),i.lineTo(A,E),i.lineTo(a,E)),p||s.updateRectMinMax(h,[a,l,A,E]),i.closePath();break;case bi.moveTo:a=t[b++],l=t[b++],i.moveTo(a,l),p||s.updatePathMinMax(h,a,l);break;case bi.lineTo:a=t[b++],l=t[b++],i.lineTo(a,l),p||s.updatePathMinMax(h,a,l);break;case bi.curveTo:u=a,d=l,a=t[b+4],l=t[b+5],i.bezierCurveTo(t[b],t[b+1],t[b+2],t[b+3],a,l),s.updateCurvePathMinMax(h,u,d,t[b],t[b+1],t[b+2],t[b+3],a,l,g),b+=6;break;case bi.curveTo2:u=a,d=l,i.bezierCurveTo(a,l,t[b],t[b+1],t[b+2],t[b+3]),s.updateCurvePathMinMax(h,u,d,a,l,t[b],t[b+1],t[b+2],t[b+3],g),a=t[b+2],l=t[b+3],b+=4;break;case bi.curveTo3:u=a,d=l,a=t[b+2],l=t[b+3],i.bezierCurveTo(t[b],t[b+1],a,l,a,l),s.updateCurvePathMinMax(h,u,d,t[b],t[b+1],a,l,a,l,g),b+=4;break;case bi.closePath:i.closePath();break}p&&s.updateScalingPathMinMax(h,g),s.setCurrentPoint(a,l)}closePath(){this.ctx.closePath()}stroke(e=!0){const t=this.ctx,r=this.current.strokeColor;t.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof r=="object"&&(r!=null&&r.getPattern)?(t.save(),t.strokeStyle=r.getPattern(t,this,$s(t),nr.STROKE),this.rescaleAndStroke(!1),t.restore()):this.rescaleAndStroke(!0)),e&&this.consumePath(this.current.getClippedPathBoundingBox()),t.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(e=!0){const t=this.ctx,r=this.current.fillColor,i=this.current.patternFill;let s=!1;i&&(t.save(),t.fillStyle=r.getPattern(t,this,$s(t),nr.FILL),s=!0);const a=this.current.getClippedPathBoundingBox();this.contentVisible&&a!==null&&(this.pendingEOFill?(t.fill("evenodd"),this.pendingEOFill=!1):t.fill()),s&&t.restore(),e&&this.consumePath(a)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=uG}eoClip(){this.pendingClip=QR}beginText(){this.current.textMatrix=EI,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const e=this.pendingTextPaths,t=this.ctx;if(e===void 0){t.beginPath();return}t.save(),t.beginPath();for(const r of e)t.setTransform(...r.transform),t.translate(r.x,r.y),r.addToPath(t,r.fontSize);t.restore(),t.clip(),t.beginPath(),delete this.pendingTextPaths}setCharSpacing(e){this.current.charSpacing=e}setWordSpacing(e){this.current.wordSpacing=e}setHScale(e){this.current.textHScale=e/100}setLeading(e){this.current.leading=-e}setFont(e,t){var h;const r=this.commonObjs.get(e),i=this.current;if(!r)throw new Error(`Can't find font for ${e}`);if(i.fontMatrix=r.fontMatrix||sS,(i.fontMatrix[0]===0||i.fontMatrix[3]===0)&&Ve("Invalid font matrix for font "+e),t<0?(t=-t,i.fontDirection=-1):i.fontDirection=1,this.current.font=r,this.current.fontSize=t,r.isType3Font)return;const s=r.loadedName||"sans-serif",a=((h=r.systemFontInfo)==null?void 0:h.css)||`"${s}", ${r.fallbackName}`;let l="normal";r.black?l="900":r.bold&&(l="bold");const u=r.italic?"italic":"normal";let d=t;t<WR?d=WR:t>UR&&(d=UR),this.current.fontSizeScale=t/d,this.ctx.font=`${u} ${l} ${d}px ${a}`}setTextRenderingMode(e){this.current.textRenderingMode=e}setTextRise(e){this.current.textRise=e}moveText(e,t){this.current.x=this.current.lineX+=e,this.current.y=this.current.lineY+=t}setLeadingMoveText(e,t){this.setLeading(-t),this.moveText(e,t)}setTextMatrix(e,t,r,i,s,a){this.current.textMatrix=[e,t,r,i,s,a],this.current.textMatrixScale=Math.hypot(e,t),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(e,t,r,i){const s=this.ctx,a=this.current,l=a.font,u=a.textRenderingMode,d=a.fontSize/a.fontSizeScale,h=u&$n.FILL_STROKE_MASK,p=!!(u&$n.ADD_TO_PATH_FLAG),g=a.patternFill&&!l.missingFile;let y;(l.disableFontFace||p||g)&&(y=l.getPathGenerator(this.commonObjs,e)),l.disableFontFace||g?(s.save(),s.translate(t,r),s.beginPath(),y(s,d),i&&s.setTransform(...i),(h===$n.FILL||h===$n.FILL_STROKE)&&s.fill(),(h===$n.STROKE||h===$n.FILL_STROKE)&&s.stroke(),s.restore()):((h===$n.FILL||h===$n.FILL_STROKE)&&s.fillText(e,t,r),(h===$n.STROKE||h===$n.FILL_STROKE)&&s.strokeText(e,t,r)),p&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:Ht(s),x:t,y:r,fontSize:d,addToPath:y})}get isFontSubpixelAAEnabled(){const{context:e}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);e.scale(1.5,1),e.fillText("I",0,10);const t=e.getImageData(0,0,10,10).data;let r=!1;for(let i=3;i<t.length;i+=4)if(t[i]>0&&t[i]<255){r=!0;break}return Je(this,"isFontSubpixelAAEnabled",r)}showText(e){const t=this.current,r=t.font;if(r.isType3Font)return this.showType3Text(e);const i=t.fontSize;if(i===0)return;const s=this.ctx,a=t.fontSizeScale,l=t.charSpacing,u=t.wordSpacing,d=t.fontDirection,h=t.textHScale*d,p=e.length,g=r.vertical,y=g?1:-1,b=r.defaultVMetrics,w=i*t.fontMatrix[0],C=t.textRenderingMode===$n.FILL&&!r.disableFontFace&&!t.patternFill;s.save(),s.transform(...t.textMatrix),s.translate(t.x,t.y+t.textRise),d>0?s.scale(h,-1):s.scale(h,1);let x;if(t.patternFill){s.save();const M=t.fillColor.getPattern(s,this,$s(s),nr.FILL);x=Ht(s),s.restore(),s.fillStyle=M}let A=t.lineWidth;const E=t.textMatrixScale;if(E===0||A===0){const M=t.textRenderingMode&$n.FILL_STROKE_MASK;(M===$n.STROKE||M===$n.FILL_STROKE)&&(A=this.getSinglePixelWidth())}else A/=E;if(a!==1&&(s.scale(a,a),A/=a),s.lineWidth=A,r.isInvalidPDFjsFont){const M=[];let T=0;for(const N of e)M.push(N.unicode),T+=N.width;s.fillText(M.join(""),0,0),t.x+=T*w*h,s.restore(),this.compose();return}let _=0,k;for(k=0;k<p;++k){const M=e[k];if(typeof M=="number"){_+=y*M*i/1e3;continue}let T=!1;const N=(M.isSpace?u:0)+l,W=M.fontChar,P=M.accent;let V,X,Y=M.width;if(g){const G=M.vmetric||b,j=-(M.vmetric?G[1]:Y*.5)*w,q=G[2]*w;Y=G?-G[0]:Y,V=j/a,X=(_+q)/a}else V=_/a,X=0;if(r.remeasure&&Y>0){const G=s.measureText(W).width*1e3/i*a;if(Y<G&&this.isFontSubpixelAAEnabled){const j=Y/G;T=!0,s.save(),s.scale(j,1),V/=j}else Y!==G&&(V+=(Y-G)/2e3*i/a)}if(this.contentVisible&&(M.isInFont||r.missingFile)){if(C&&!P)s.fillText(W,V,X);else if(this.paintChar(W,V,X,x),P){const G=V+i*P.offset.x/a,j=X-i*P.offset.y/a;this.paintChar(P.fontChar,G,j,x)}}const D=g?Y*w-N*d:Y*w+N*d;_+=D,T&&s.restore()}g?t.y-=_:t.x+=_*h,s.restore(),this.compose()}showType3Text(e){const t=this.ctx,r=this.current,i=r.font,s=r.fontSize,a=r.fontDirection,l=i.vertical?1:-1,u=r.charSpacing,d=r.wordSpacing,h=r.textHScale*a,p=r.fontMatrix||sS,g=e.length,y=r.textRenderingMode===$n.INVISIBLE;let b,w,C,x;if(!(y||s===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,t.save(),t.transform(...r.textMatrix),t.translate(r.x,r.y),t.scale(h,a),b=0;b<g;++b){if(w=e[b],typeof w=="number"){x=l*w*s/1e3,this.ctx.translate(x,0),r.x+=x*h;continue}const A=(w.isSpace?d:0)+u,E=i.charProcOperatorList[w.operatorListId];if(!E){Ve(`Type3 character "${w.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=w,this.save(),t.scale(s,s),t.transform(...p),this.executeOperatorList(E),this.restore()),C=Me.applyTransform([w.width,0],p)[0]*s+A,t.translate(C,0),r.x+=C*h}t.restore(),this.processingType3=null}}setCharWidth(e,t){}setCharWidthAndBounds(e,t,r,i,s,a){this.ctx.rect(r,i,s-r,a-i),this.ctx.clip(),this.endPath()}getColorN_Pattern(e){let t;if(e[0]==="TilingPattern"){const r=e[1],i=this.baseTransform||Ht(this.ctx),s={createCanvasGraphics:a=>new _E(a,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};t=new NS(e,r,this.ctx,s,i)}else t=this._getPattern(e[1],e[2]);return t}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(e,t,r){const i=Me.makeHexColor(e,t,r);this.ctx.strokeStyle=i,this.current.strokeColor=i}setFillRGBColor(e,t,r){const i=Me.makeHexColor(e,t,r);this.ctx.fillStyle=i,this.current.fillColor=i,this.current.patternFill=!1}_getPattern(e,t=null){let r;return this.cachedPatterns.has(e)?r=this.cachedPatterns.get(e):(r=nG(this.getObject(e)),this.cachedPatterns.set(e,r)),t&&(r.matrix=t),r}shadingFill(e){if(!this.contentVisible)return;const t=this.ctx;this.save();const r=this._getPattern(e);t.fillStyle=r.getPattern(t,this,$s(t),nr.SHADING);const i=$s(t);if(i){const{width:s,height:a}=t.canvas,[l,u,d,h]=Me.getAxialAlignedBoundingBox([0,0,s,a],i);this.ctx.fillRect(l,u,d-l,h-u)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){bt("Should not call beginInlineImage")}beginImageData(){bt("Should not call beginImageData")}paintFormXObjectBegin(e,t){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),e&&this.transform(...e),this.baseTransform=Ht(this.ctx),t)){const r=t[2]-t[0],i=t[3]-t[1];this.ctx.rect(t[0],t[1],r,i),this.current.updateRectMinMax(Ht(this.ctx),t),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(e){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const t=this.ctx;e.isolated||kv("TODO: Support non-isolated groups."),e.knockout&&Ve("Knockout groups not supported.");const r=Ht(t);if(e.matrix&&t.transform(...e.matrix),!e.bbox)throw new Error("Bounding box is required.");let i=Me.getAxialAlignedBoundingBox(e.bbox,Ht(t));const s=[0,0,t.canvas.width,t.canvas.height];i=Me.intersect(i,s)||[0,0,0,0];const a=Math.floor(i[0]),l=Math.floor(i[1]),u=Math.max(Math.ceil(i[2])-a,1),d=Math.max(Math.ceil(i[3])-l,1);this.current.startNewPathAndClipBox([0,0,u,d]);let h="groupAt"+this.groupLevel;e.smask&&(h+="_smask_"+this.smaskCounter++%2);const p=this.cachedCanvases.getCanvas(h,u,d),g=p.context;g.translate(-a,-l),g.transform(...r),e.smask?this.smaskStack.push({canvas:p.canvas,context:g,offsetX:a,offsetY:l,subtype:e.smask.subtype,backdrop:e.smask.backdrop,transferMap:e.smask.transferMap||null,startTransformInverse:null}):(t.setTransform(1,0,0,1,0,0),t.translate(a,l),t.save()),Nh(t,g),this.ctx=g,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(t),this.groupLevel++}endGroup(e){if(!this.contentVisible)return;this.groupLevel--;const t=this.ctx,r=this.groupStack.pop();if(this.ctx=r,this.ctx.imageSmoothingEnabled=!1,e.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const i=Ht(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...i);const s=Me.getAxialAlignedBoundingBox([0,0,t.canvas.width,t.canvas.height],i);this.ctx.drawImage(t.canvas,0,0),this.ctx.restore(),this.compose(s)}}beginAnnotation(e,t,r,i,s){if(z(this,Ba,LS).call(this),gy(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),t){const a=t[2]-t[0],l=t[3]-t[1];if(s&&this.annotationCanvasMap){r=r.slice(),r[4]-=t[0],r[5]-=t[1],t=t.slice(),t[0]=t[1]=0,t[2]=a,t[3]=l;const[u,d]=Me.singularValueDecompose2dScale(Ht(this.ctx)),{viewportScale:h}=this,p=Math.ceil(a*this.outputScaleX*h),g=Math.ceil(l*this.outputScaleY*h);this.annotationCanvas=this.canvasFactory.create(p,g);const{canvas:y,context:b}=this.annotationCanvas;this.annotationCanvasMap.set(e,y),this.annotationCanvas.savedCtx=this.ctx,this.ctx=b,this.ctx.save(),this.ctx.setTransform(u,0,0,-d,0,l*d),gy(this.ctx)}else gy(this.ctx),this.ctx.rect(t[0],t[1],a,l),this.ctx.clip(),this.endPath()}this.current=new XR(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...r),this.transform(...i)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),z(this,Ba,DS).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(e){if(!this.contentVisible)return;const t=e.count;e=this.getObject(e.data,e),e.count=t;const r=this.ctx,i=this.processingType3;if(i&&(i.compiled===void 0&&(i.compiled=aG(e)),i.compiled)){i.compiled(r);return}const s=this._createMaskCanvas(e),a=s.canvas;r.save(),r.setTransform(1,0,0,1,0,0),r.drawImage(a,s.offsetX,s.offsetY),r.restore(),this.compose()}paintImageMaskXObjectRepeat(e,t,r=0,i=0,s,a){if(!this.contentVisible)return;e=this.getObject(e.data,e);const l=this.ctx;l.save();const u=Ht(l);l.transform(t,r,i,s,0,0);const d=this._createMaskCanvas(e);l.setTransform(1,0,0,1,d.offsetX-u[4],d.offsetY-u[5]);for(let h=0,p=a.length;h<p;h+=2){const g=Me.transform(u,[t,r,i,s,a[h],a[h+1]]),[y,b]=Me.applyTransform([0,0],g);l.drawImage(d.canvas,y,b)}l.restore(),this.compose()}paintImageMaskXObjectGroup(e){if(!this.contentVisible)return;const t=this.ctx,r=this.current.fillColor,i=this.current.patternFill;for(const s of e){const{data:a,width:l,height:u,transform:d}=s,h=this.cachedCanvases.getCanvas("maskCanvas",l,u),p=h.context;p.save();const g=this.getObject(a,s);qR(p,g),p.globalCompositeOperation="source-in",p.fillStyle=i?r.getPattern(p,this,$s(t),nr.FILL):r,p.fillRect(0,0,l,u),p.restore(),t.save(),t.transform(...d),t.scale(1,-1),py(t,h.canvas,0,0,l,u,0,-1,1,1),t.restore()}this.compose()}paintImageXObject(e){if(!this.contentVisible)return;const t=this.getObject(e);if(!t){Ve("Dependent image isn't ready yet");return}this.paintInlineImageXObject(t)}paintImageXObjectRepeat(e,t,r,i){if(!this.contentVisible)return;const s=this.getObject(e);if(!s){Ve("Dependent image isn't ready yet");return}const a=s.width,l=s.height,u=[];for(let d=0,h=i.length;d<h;d+=2)u.push({transform:[t,0,0,r,i[d],i[d+1]],x:0,y:0,w:a,h:l});this.paintInlineImageXObjectGroup(s,u)}applyTransferMapsToCanvas(e){return this.current.transferMaps!=="none"&&(e.filter=this.current.transferMaps,e.drawImage(e.canvas,0,0),e.filter="none"),e.canvas}applyTransferMapsToBitmap(e){if(this.current.transferMaps==="none")return e.bitmap;const{bitmap:t,width:r,height:i}=e,s=this.cachedCanvases.getCanvas("inlineImage",r,i),a=s.context;return a.filter=this.current.transferMaps,a.drawImage(t,0,0),a.filter="none",s.canvas}paintInlineImageXObject(e){if(!this.contentVisible)return;const t=e.width,r=e.height,i=this.ctx;if(this.save(),!Gn){const{filter:l}=i;l!=="none"&&l!==""&&(i.filter="none")}i.scale(1/t,-1/r);let s;if(e.bitmap)s=this.applyTransferMapsToBitmap(e);else if(typeof HTMLElement=="function"&&e instanceof HTMLElement||!e.data)s=e;else{const u=this.cachedCanvases.getCanvas("inlineImage",t,r).context;YR(u,e),s=this.applyTransferMapsToCanvas(u)}const a=this._scaleImage(s,$s(i));i.imageSmoothingEnabled=KR(Ht(i),e.interpolate),py(i,a.img,0,0,a.paintWidth,a.paintHeight,0,-r,t,r),this.compose(),this.restore()}paintInlineImageXObjectGroup(e,t){if(!this.contentVisible)return;const r=this.ctx;let i;if(e.bitmap)i=e.bitmap;else{const s=e.width,a=e.height,u=this.cachedCanvases.getCanvas("inlineImage",s,a).context;YR(u,e),i=this.applyTransferMapsToCanvas(u)}for(const s of t)r.save(),r.transform(...s.transform),r.scale(1,-1),py(r,i,s.x,s.y,s.w,s.h,0,-1,1,1),r.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(e){}markPointProps(e,t){}beginMarkedContent(e){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(e,t){e==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(t)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(e){const t=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(e);const r=this.ctx;this.pendingClip&&(t||(this.pendingClip===QR?r.clip("evenodd"):r.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),r.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const e=Ht(this.ctx);if(e[1]===0&&e[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(e[0]),Math.abs(e[3]));else{const t=Math.abs(e[0]*e[3]-e[2]*e[1]),r=Math.hypot(e[0],e[2]),i=Math.hypot(e[1],e[3]);this._cachedGetSinglePixelWidth=Math.max(r,i)/t}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:e}=this.current,{a:t,b:r,c:i,d:s}=this.ctx.getTransform();let a,l;if(r===0&&i===0){const u=Math.abs(t),d=Math.abs(s);if(u===d)if(e===0)a=l=1/u;else{const h=u*e;a=l=h<1?1/h:1}else if(e===0)a=1/u,l=1/d;else{const h=u*e,p=d*e;a=h<1?1/h:1,l=p<1?1/p:1}}else{const u=Math.abs(t*s-r*i),d=Math.hypot(t,r),h=Math.hypot(i,s);if(e===0)a=h/u,l=d/u;else{const p=e*u;a=h>p?h/p:1,l=d>p?d/p:1}}this._cachedScaleForStroking[0]=a,this._cachedScaleForStroking[1]=l}return this._cachedScaleForStroking}rescaleAndStroke(e){const{ctx:t}=this,{lineWidth:r}=this.current,[i,s]=this.getScaleForStroking();if(t.lineWidth=r||1,i===1&&s===1){t.stroke();return}const a=t.getLineDash();if(e&&t.save(),t.scale(i,s),a.length>0){const l=Math.max(i,s);t.setLineDash(a.map(u=>u/l)),t.lineDashOffset/=l}t.stroke(),e&&t.restore()}isContentVisible(){for(let e=this.markedContentStack.length-1;e>=0;e--)if(!this.markedContentStack[e].visible)return!1;return!0}};Ba=new WeakSet,LS=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},DS=function(){if(this.pageColors){const e=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(e!=="none"){const t=this.ctx.filter;this.ctx.filter=e,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=t}}};let Au=_E;for(const n in bi)Au.prototype[n]!==void 0&&(Au.prototype[bi[n]]=Au.prototype[n]);var lp,cp;class vo{static get workerPort(){return m(this,lp)}static set workerPort(e){if(!(typeof Worker<"u"&&e instanceof Worker)&&e!==null)throw new Error("Invalid `workerPort` type.");F(this,lp,e)}static get workerSrc(){return m(this,cp)}static set workerSrc(e){if(typeof e!="string")throw new Error("Invalid `workerSrc` type.");F(this,cp,e)}}lp=new WeakMap,cp=new WeakMap,H(vo,lp,null),H(vo,cp,"");const my={DATA:1,ERROR:2},tn={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function Ir(n){switch(n instanceof Error||typeof n=="object"&&n!==null||bt('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),n.name){case"AbortException":return new kc(n.message);case"MissingPDFException":return new Ac(n.message);case"PasswordException":return new aS(n.message,n.code);case"UnexpectedResponseException":return new Rv(n.message,n.status);case"UnknownErrorException":return new lS(n.message,n.details);default:return new lS(n.message,n.toString())}}var ws,oN,aN,Ny;class Yh{constructor(e,t,r){H(this,ws);this.sourceName=e,this.targetName=t,this.comObj=r,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=i=>{const s=i.data;if(s.targetName!==this.sourceName)return;if(s.stream){z(this,ws,aN).call(this,s);return}if(s.callback){const l=s.callbackId,u=this.callbackCapabilities[l];if(!u)throw new Error(`Cannot resolve callback ${l}`);if(delete this.callbackCapabilities[l],s.callback===my.DATA)u.resolve(s.data);else if(s.callback===my.ERROR)u.reject(Ir(s.reason));else throw new Error("Unexpected callback case");return}const a=this.actionHandler[s.action];if(!a)throw new Error(`Unknown action from worker: ${s.action}`);if(s.callbackId){const l=this.sourceName,u=s.sourceName;new Promise(function(d){d(a(s.data))}).then(function(d){r.postMessage({sourceName:l,targetName:u,callback:my.DATA,callbackId:s.callbackId,data:d})},function(d){r.postMessage({sourceName:l,targetName:u,callback:my.ERROR,callbackId:s.callbackId,reason:Ir(d)})});return}if(s.streamId){z(this,ws,oN).call(this,s);return}a(s.data)},r.addEventListener("message",this._onComObjOnMessage)}on(e,t){const r=this.actionHandler;if(r[e])throw new Error(`There is already an actionName called "${e}"`);r[e]=t}send(e,t,r){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,data:t},r)}sendWithPromise(e,t,r){const i=this.callbackId++,s=Promise.withResolvers();this.callbackCapabilities[i]=s;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,callbackId:i,data:t},r)}catch(a){s.reject(a)}return s.promise}sendWithStream(e,t,r,i){const s=this.streamId++,a=this.sourceName,l=this.targetName,u=this.comObj;return new ReadableStream({start:d=>{const h=Promise.withResolvers();return this.streamControllers[s]={controller:d,startCall:h,pullCall:null,cancelCall:null,isClosed:!1},u.postMessage({sourceName:a,targetName:l,action:e,streamId:s,data:t,desiredSize:d.desiredSize},i),h.promise},pull:d=>{const h=Promise.withResolvers();return this.streamControllers[s].pullCall=h,u.postMessage({sourceName:a,targetName:l,stream:tn.PULL,streamId:s,desiredSize:d.desiredSize}),h.promise},cancel:d=>{mn(d instanceof Error,"cancel must have a valid reason");const h=Promise.withResolvers();return this.streamControllers[s].cancelCall=h,this.streamControllers[s].isClosed=!0,u.postMessage({sourceName:a,targetName:l,stream:tn.CANCEL,streamId:s,reason:Ir(d)}),h.promise}},r)}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}ws=new WeakSet,oN=function(e){const t=e.streamId,r=this.sourceName,i=e.sourceName,s=this.comObj,a=this,l=this.actionHandler[e.action],u={enqueue(d,h=1,p){if(this.isCancelled)return;const g=this.desiredSize;this.desiredSize-=h,g>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),s.postMessage({sourceName:r,targetName:i,stream:tn.ENQUEUE,streamId:t,chunk:d},p)},close(){this.isCancelled||(this.isCancelled=!0,s.postMessage({sourceName:r,targetName:i,stream:tn.CLOSE,streamId:t}),delete a.streamSinks[t])},error(d){mn(d instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,s.postMessage({sourceName:r,targetName:i,stream:tn.ERROR,streamId:t,reason:Ir(d)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:e.desiredSize,ready:null};u.sinkCapability.resolve(),u.ready=u.sinkCapability.promise,this.streamSinks[t]=u,new Promise(function(d){d(l(e.data,u))}).then(function(){s.postMessage({sourceName:r,targetName:i,stream:tn.START_COMPLETE,streamId:t,success:!0})},function(d){s.postMessage({sourceName:r,targetName:i,stream:tn.START_COMPLETE,streamId:t,reason:Ir(d)})})},aN=function(e){const t=e.streamId,r=this.sourceName,i=e.sourceName,s=this.comObj,a=this.streamControllers[t],l=this.streamSinks[t];switch(e.stream){case tn.START_COMPLETE:e.success?a.startCall.resolve():a.startCall.reject(Ir(e.reason));break;case tn.PULL_COMPLETE:e.success?a.pullCall.resolve():a.pullCall.reject(Ir(e.reason));break;case tn.PULL:if(!l){s.postMessage({sourceName:r,targetName:i,stream:tn.PULL_COMPLETE,streamId:t,success:!0});break}l.desiredSize<=0&&e.desiredSize>0&&l.sinkCapability.resolve(),l.desiredSize=e.desiredSize,new Promise(function(u){var d;u((d=l.onPull)==null?void 0:d.call(l))}).then(function(){s.postMessage({sourceName:r,targetName:i,stream:tn.PULL_COMPLETE,streamId:t,success:!0})},function(u){s.postMessage({sourceName:r,targetName:i,stream:tn.PULL_COMPLETE,streamId:t,reason:Ir(u)})});break;case tn.ENQUEUE:if(mn(a,"enqueue should have stream controller"),a.isClosed)break;a.controller.enqueue(e.chunk);break;case tn.CLOSE:if(mn(a,"close should have stream controller"),a.isClosed)break;a.isClosed=!0,a.controller.close(),z(this,ws,Ny).call(this,a,t);break;case tn.ERROR:mn(a,"error should have stream controller"),a.controller.error(Ir(e.reason)),z(this,ws,Ny).call(this,a,t);break;case tn.CANCEL_COMPLETE:e.success?a.cancelCall.resolve():a.cancelCall.reject(Ir(e.reason)),z(this,ws,Ny).call(this,a,t);break;case tn.CANCEL:if(!l)break;new Promise(function(u){var d;u((d=l.onCancel)==null?void 0:d.call(l,Ir(e.reason)))}).then(function(){s.postMessage({sourceName:r,targetName:i,stream:tn.CANCEL_COMPLETE,streamId:t,success:!0})},function(u){s.postMessage({sourceName:r,targetName:i,stream:tn.CANCEL_COMPLETE,streamId:t,reason:Ir(u)})}),l.sinkCapability.reject(Ir(e.reason)),l.isCancelled=!0,delete this.streamSinks[t];break;default:throw new Error("Unexpected stream case")}},Ny=async function(e,t){var r,i,s;await Promise.allSettled([(r=e.startCall)==null?void 0:r.promise,(i=e.pullCall)==null?void 0:i.promise,(s=e.cancelCall)==null?void 0:s.promise]),delete this.streamControllers[t]};var Dl,up;class dG{constructor({parsedData:e,rawData:t}){H(this,Dl);H(this,up);F(this,Dl,e),F(this,up,t)}getRaw(){return m(this,up)}get(e){return m(this,Dl).get(e)??null}getAll(){return hE(m(this,Dl))}has(e){return m(this,Dl).has(e)}}Dl=new WeakMap,up=new WeakMap;const sa=Symbol("INTERNAL");var dp,hp,fp,Hu;class hG{constructor(e,{name:t,intent:r,usage:i}){H(this,dp,!1);H(this,hp,!1);H(this,fp,!1);H(this,Hu,!0);F(this,dp,!!(e&oi.DISPLAY)),F(this,hp,!!(e&oi.PRINT)),this.name=t,this.intent=r,this.usage=i}get visible(){if(m(this,fp))return m(this,Hu);if(!m(this,Hu))return!1;const{print:e,view:t}=this.usage;return m(this,dp)?(t==null?void 0:t.viewState)!=="OFF":m(this,hp)?(e==null?void 0:e.printState)!=="OFF":!0}_setVisible(e,t,r=!1){e!==sa&&bt("Internal method `_setVisible` called."),F(this,fp,r),F(this,Hu,t)}}dp=new WeakMap,hp=new WeakMap,fp=new WeakMap,Hu=new WeakMap;var ma,vt,ju,Wu,pp,OS;class fG{constructor(e,t=oi.DISPLAY){H(this,pp);H(this,ma,null);H(this,vt,new Map);H(this,ju,null);H(this,Wu,null);if(this.renderingIntent=t,this.name=null,this.creator=null,e!==null){this.name=e.name,this.creator=e.creator,F(this,Wu,e.order);for(const r of e.groups)m(this,vt).set(r.id,new hG(t,r));if(e.baseState==="OFF")for(const r of m(this,vt).values())r._setVisible(sa,!1);for(const r of e.on)m(this,vt).get(r)._setVisible(sa,!0);for(const r of e.off)m(this,vt).get(r)._setVisible(sa,!1);F(this,ju,this.getHash())}}isVisible(e){if(m(this,vt).size===0)return!0;if(!e)return kv("Optional content group not defined."),!0;if(e.type==="OCG")return m(this,vt).has(e.id)?m(this,vt).get(e.id).visible:(Ve(`Optional content group not found: ${e.id}`),!0);if(e.type==="OCMD"){if(e.expression)return z(this,pp,OS).call(this,e.expression);if(!e.policy||e.policy==="AnyOn"){for(const t of e.ids){if(!m(this,vt).has(t))return Ve(`Optional content group not found: ${t}`),!0;if(m(this,vt).get(t).visible)return!0}return!1}else if(e.policy==="AllOn"){for(const t of e.ids){if(!m(this,vt).has(t))return Ve(`Optional content group not found: ${t}`),!0;if(!m(this,vt).get(t).visible)return!1}return!0}else if(e.policy==="AnyOff"){for(const t of e.ids){if(!m(this,vt).has(t))return Ve(`Optional content group not found: ${t}`),!0;if(!m(this,vt).get(t).visible)return!0}return!1}else if(e.policy==="AllOff"){for(const t of e.ids){if(!m(this,vt).has(t))return Ve(`Optional content group not found: ${t}`),!0;if(m(this,vt).get(t).visible)return!1}return!0}return Ve(`Unknown optional content policy ${e.policy}.`),!0}return Ve(`Unknown group type ${e.type}.`),!0}setVisibility(e,t=!0){const r=m(this,vt).get(e);if(!r){Ve(`Optional content group not found: ${e}`);return}r._setVisible(sa,!!t,!0),F(this,ma,null)}setOCGState({state:e,preserveRB:t}){let r;for(const i of e){switch(i){case"ON":case"OFF":case"Toggle":r=i;continue}const s=m(this,vt).get(i);if(s)switch(r){case"ON":s._setVisible(sa,!0);break;case"OFF":s._setVisible(sa,!1);break;case"Toggle":s._setVisible(sa,!s.visible);break}}F(this,ma,null)}get hasInitialVisibility(){return m(this,ju)===null||this.getHash()===m(this,ju)}getOrder(){return m(this,vt).size?m(this,Wu)?m(this,Wu).slice():[...m(this,vt).keys()]:null}getGroups(){return m(this,vt).size>0?hE(m(this,vt)):null}getGroup(e){return m(this,vt).get(e)||null}getHash(){if(m(this,ma)!==null)return m(this,ma);const e=new nN;for(const[t,r]of m(this,vt))e.update(`${t}:${r.visible}`);return F(this,ma,e.hexdigest())}}ma=new WeakMap,vt=new WeakMap,ju=new WeakMap,Wu=new WeakMap,pp=new WeakSet,OS=function(e){const t=e.length;if(t<2)return!0;const r=e[0];for(let i=1;i<t;i++){const s=e[i];let a;if(Array.isArray(s))a=z(this,pp,OS).call(this,s);else if(m(this,vt).has(s))a=m(this,vt).get(s).visible;else return Ve(`Optional content group not found: ${s}`),!0;switch(r){case"And":if(!a)return!1;break;case"Or":if(a)return!0;break;case"Not":return!a;default:return!0}}return r==="And"};class pG{constructor(e,{disableRange:t=!1,disableStream:r=!1}){mn(e,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:i,initialData:s,progressiveDone:a,contentDispositionFilename:l}=e;if(this._queuedChunks=[],this._progressiveDone=a,this._contentDispositionFilename=l,(s==null?void 0:s.length)>0){const u=s instanceof Uint8Array&&s.byteLength===s.buffer.byteLength?s.buffer:new Uint8Array(s).buffer;this._queuedChunks.push(u)}this._pdfDataRangeTransport=e,this._isStreamingSupported=!r,this._isRangeSupported=!t,this._contentLength=i,this._fullRequestReader=null,this._rangeReaders=[],e.addRangeListener((u,d)=>{this._onReceiveData({begin:u,chunk:d})}),e.addProgressListener((u,d)=>{this._onProgress({loaded:u,total:d})}),e.addProgressiveReadListener(u=>{this._onReceiveData({chunk:u})}),e.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),e.transportReady()}_onReceiveData({begin:e,chunk:t}){const r=t instanceof Uint8Array&&t.byteLength===t.buffer.byteLength?t.buffer:new Uint8Array(t).buffer;if(e===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(r):this._queuedChunks.push(r);else{const i=this._rangeReaders.some(function(s){return s._begin!==e?!1:(s._enqueue(r),!0)});mn(i,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}_onProgress(e){var t,r,i,s;e.total===void 0?(r=(t=this._rangeReaders[0])==null?void 0:t.onProgress)==null||r.call(t,{loaded:e.loaded}):(s=(i=this._fullRequestReader)==null?void 0:i.onProgress)==null||s.call(i,{loaded:e.loaded,total:e.total})}_onProgressiveDone(){var e;(e=this._fullRequestReader)==null||e.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(e){const t=this._rangeReaders.indexOf(e);t>=0&&this._rangeReaders.splice(t,1)}getFullReader(){mn(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const e=this._queuedChunks;return this._queuedChunks=null,new gG(this,e,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const r=new mG(this,e,t);return this._pdfDataRangeTransport.requestDataRange(e,t),this._rangeReaders.push(r),r}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const r of this._rangeReaders.slice(0))r.cancel(e);this._pdfDataRangeTransport.abort()}}class gG{constructor(e,t,r=!1,i=null){this._stream=e,this._done=r||!1,this._filename=yE(i)?i:null,this._queuedChunks=t||[],this._loaded=0;for(const s of this._queuedChunks)this._loaded+=s.byteLength;this._requests=[],this._headersReady=Promise.resolve(),e._fullRequestReader=this,this.onProgress=null}_enqueue(e){this._done||(this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunks.push(e),this._loaded+=e.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class mG{constructor(e,t,r){this._stream=e,this._begin=t,this._end=r,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(e){if(!this._done){if(this._requests.length===0)this._queuedChunk=e;else{this._requests.shift().resolve({value:e,done:!1});for(const r of this._requests)r.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function yG(n){let e=!0,t=r("filename\\*","i").exec(n);if(t){t=t[1];let h=l(t);return h=unescape(h),h=u(h),h=d(h),s(h)}if(t=a(n),t){const h=d(t);return s(h)}if(t=r("filename","i").exec(n),t){t=t[1];let h=l(t);return h=d(h),s(h)}function r(h,p){return new RegExp("(?:^|;)\\s*"+h+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',p)}function i(h,p){if(h){if(!/^[\x00-\xFF]+$/.test(p))return p;try{const g=new TextDecoder(h,{fatal:!0}),y=Tv(p);p=g.decode(y),e=!1}catch{}}return p}function s(h){return e&&/[\x80-\xff]/.test(h)&&(h=i("utf-8",h),e&&(h=i("iso-8859-1",h))),h}function a(h){const p=[];let g;const y=r("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(g=y.exec(h))!==null;){let[,w,C,x]=g;if(w=parseInt(w,10),w in p){if(w===0)break;continue}p[w]=[C,x]}const b=[];for(let w=0;w<p.length&&w in p;++w){let[C,x]=p[w];x=l(x),C&&(x=unescape(x),w===0&&(x=u(x))),b.push(x)}return b.join("")}function l(h){if(h.startsWith('"')){const p=h.slice(1).split('\\"');for(let g=0;g<p.length;++g){const y=p[g].indexOf('"');y!==-1&&(p[g]=p[g].slice(0,y),p.length=g+1),p[g]=p[g].replaceAll(/\\(.)/g,"$1")}h=p.join('"')}return h}function u(h){const p=h.indexOf("'");if(p===-1)return h;const g=h.slice(0,p),b=h.slice(p+1).replace(/^[^']*'/,"");return i(g,b)}function d(h){return!h.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(h)?h:h.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(p,g,y,b){if(y==="q"||y==="Q")return b=b.replaceAll("_"," "),b=b.replaceAll(/=([0-9a-fA-F]{2})/g,function(w,C){return String.fromCharCode(parseInt(C,16))}),i(g,b);try{b=atob(b)}catch{}return i(g,b)})}return""}function wE({getResponseHeader:n,isHttp:e,rangeChunkSize:t,disableRange:r}){const i={allowRangeRequests:!1,suggestedLength:void 0},s=parseInt(n("Content-Length"),10);return!Number.isInteger(s)||(i.suggestedLength=s,s<=2*t)||r||!e||n("Accept-Ranges")!=="bytes"||(n("Content-Encoding")||"identity")!=="identity"||(i.allowRangeRequests=!0),i}function xE(n){const e=n("Content-Disposition");if(e){let t=yG(e);if(t.includes("%"))try{t=decodeURIComponent(t)}catch{}if(yE(t))return t}return null}function Lv(n,e){return n===404||n===0&&e.startsWith("file:")?new Ac('Missing PDF "'+e+'".'):new Rv(`Unexpected server response (${n}) while retrieving PDF "${e}".`,n)}function lN(n){return n===200||n===206}function cN(n,e,t){return{method:"GET",headers:n,signal:t.signal,mode:"cors",credentials:e?"include":"same-origin",redirect:"follow"}}function uN(n){const e=new Headers;for(const t in n){const r=n[t];r!==void 0&&e.append(t,r)}return e}function dN(n){return n instanceof Uint8Array?n.buffer:n instanceof ArrayBuffer?n:(Ve(`getArrayBuffer - unexpected data format: ${n}`),new Uint8Array(n).buffer)}class ZR{constructor(e){this.source=e,this.isHttp=/^https?:/i.test(e.url),this.httpHeaders=this.isHttp&&e.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return mn(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new vG(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const r=new bG(this,e,t);return this._rangeRequestReaders.push(r),r}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const r of this._rangeRequestReaders.slice(0))r.cancel(e)}}class vG{constructor(e){this._stream=e,this._reader=null,this._loaded=0,this._filename=null;const t=e.source;this._withCredentials=t.withCredentials||!1,this._contentLength=t.length,this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange,this._headers=uN(this._stream.httpHeaders);const r=t.url;fetch(r,cN(this._headers,this._withCredentials,this._abortController)).then(i=>{if(!lN(i.status))throw Lv(i.status,r);this._reader=i.body.getReader(),this._headersCapability.resolve();const s=u=>i.headers.get(u),{allowRangeRequests:a,suggestedLength:l}=wE({getResponseHeader:s,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=a,this._contentLength=l||this._contentLength,this._filename=xE(s),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new kc("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var r;await this._headersCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,(r=this.onProgress)==null||r.call(this,{loaded:this._loaded,total:this._contentLength}),{value:dN(e),done:!1})}cancel(e){var t;(t=this._reader)==null||t.cancel(e),this._abortController.abort()}}class bG{constructor(e,t,r){this._stream=e,this._reader=null,this._loaded=0;const i=e.source;this._withCredentials=i.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!i.disableStream,this._abortController=new AbortController,this._headers=uN(this._stream.httpHeaders),this._headers.append("Range",`bytes=${t}-${r-1}`);const s=i.url;fetch(s,cN(this._headers,this._withCredentials,this._abortController)).then(a=>{if(!lN(a.status))throw Lv(a.status,s);this._readCapability.resolve(),this._reader=a.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var r;await this._readCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,(r=this.onProgress)==null||r.call(this,{loaded:this._loaded}),{value:dN(e),done:!1})}cancel(e){var t;(t=this._reader)==null||t.cancel(e),this._abortController.abort()}}const mx=200,yx=206;function wG(n){const e=n.response;return typeof e!="string"?e:Tv(e).buffer}class xG{constructor(e,t={}){this.url=e,this.isHttp=/^https?:/i.test(e),this.httpHeaders=this.isHttp&&t.httpHeaders||Object.create(null),this.withCredentials=t.withCredentials||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(e,t,r){const i={begin:e,end:t};for(const s in r)i[s]=r[s];return this.request(i)}requestFull(e){return this.request(e)}request(e){const t=new XMLHttpRequest,r=this.currXhrId++,i=this.pendingRequests[r]={xhr:t};t.open("GET",this.url),t.withCredentials=this.withCredentials;for(const s in this.httpHeaders){const a=this.httpHeaders[s];a!==void 0&&t.setRequestHeader(s,a)}return this.isHttp&&"begin"in e&&"end"in e?(t.setRequestHeader("Range",`bytes=${e.begin}-${e.end-1}`),i.expectedStatus=yx):i.expectedStatus=mx,t.responseType="arraybuffer",e.onError&&(t.onerror=function(s){e.onError(t.status)}),t.onreadystatechange=this.onStateChange.bind(this,r),t.onprogress=this.onProgress.bind(this,r),i.onHeadersReceived=e.onHeadersReceived,i.onDone=e.onDone,i.onError=e.onError,i.onProgress=e.onProgress,t.send(null),r}onProgress(e,t){var i;const r=this.pendingRequests[e];r&&((i=r.onProgress)==null||i.call(r,t))}onStateChange(e,t){var u,d,h;const r=this.pendingRequests[e];if(!r)return;const i=r.xhr;if(i.readyState>=2&&r.onHeadersReceived&&(r.onHeadersReceived(),delete r.onHeadersReceived),i.readyState!==4||!(e in this.pendingRequests))return;if(delete this.pendingRequests[e],i.status===0&&this.isHttp){(u=r.onError)==null||u.call(r,i.status);return}const s=i.status||mx;if(!(s===mx&&r.expectedStatus===yx)&&s!==r.expectedStatus){(d=r.onError)==null||d.call(r,i.status);return}const l=wG(i);if(s===yx){const p=i.getResponseHeader("Content-Range"),g=/bytes (\d+)-(\d+)\/(\d+)/.exec(p);r.onDone({begin:parseInt(g[1],10),chunk:l})}else l?r.onDone({begin:0,chunk:l}):(h=r.onError)==null||h.call(r,i.status)}getRequestXhr(e){return this.pendingRequests[e].xhr}isPendingRequest(e){return e in this.pendingRequests}abortRequest(e){const t=this.pendingRequests[e].xhr;delete this.pendingRequests[e],t.abort()}}class SG{constructor(e){this._source=e,this._manager=new xG(e.url,{httpHeaders:e.httpHeaders,withCredentials:e.withCredentials}),this._rangeChunkSize=e.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(e){const t=this._rangeRequestReaders.indexOf(e);t>=0&&this._rangeRequestReaders.splice(t,1)}getFullReader(){return mn(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new EG(this._manager,this._source),this._fullRequestReader}getRangeReader(e,t){const r=new CG(this._manager,e,t);return r.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(r),r}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const r of this._rangeRequestReaders.slice(0))r.cancel(e)}}class EG{constructor(e,t){this._manager=e;const r={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=t.url,this._fullRequestId=e.requestFull(r),this._headersReceivedCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._contentLength=t.length,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const e=this._fullRequestId,t=this._manager.getRequestXhr(e),r=a=>t.getResponseHeader(a),{allowRangeRequests:i,suggestedLength:s}=wE({getResponseHeader:r,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});i&&(this._isRangeSupported=!0),this._contentLength=s||this._contentLength,this._filename=xE(r),this._isRangeSupported&&this._manager.abortRequest(e),this._headersReceivedCapability.resolve()}_onDone(e){if(e&&(this._requests.length>0?this._requests.shift().resolve({value:e.chunk,done:!1}):this._cachedChunks.push(e.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(e){this._storedError=Lv(e,this._url),this._headersReceivedCapability.reject(this._storedError);for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(e){var t;(t=this.onProgress)==null||t.call(this,{loaded:e.loaded,total:e.lengthComputable?e.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0,this._headersReceivedCapability.reject(e);for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class CG{constructor(e,t,r){this._manager=e;const i={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=e.url,this._requestId=e.requestRange(t,r,i),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var e;(e=this.onClosed)==null||e.call(this,this)}_onDone(e){const t=e.chunk;this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunk=t,this._done=!0;for(const r of this._requests)r.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(e){this._storedError=Lv(e,this._url);for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(e){var t;this.isStreamingSupported||(t=this.onProgress)==null||t.call(this,{loaded:e.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const hN=/^file:\/\/\/[a-zA-Z]:\//;function _G(n){const e=Es.get("url"),t=e.parse(n);return t.protocol==="file:"||t.host?t:/^[a-z]:[/\\]/i.test(n)?e.parse(`file:///${n}`):(t.host||(t.protocol="file:"),t)}class AG{constructor(e){this.source=e,this.url=_G(e.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.httpHeaders=this.isHttp&&e.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return mn(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new TG(this):new kG(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const r=this.isFsUrl?new PG(this,e,t):new RG(this,e,t);return this._rangeRequestReaders.push(r),r}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const r of this._rangeRequestReaders.slice(0))r.cancel(e)}}class fN{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null;const t=e.source;this._contentLength=t.length,this._loaded=0,this._filename=null,this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var r;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(r=this.onProgress)==null||r.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new kc("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class pN{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const t=e.source;this._isStreamingSupported=!t.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){var r;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(r=this.onProgress)==null||r.call(this,{loaded:this._loaded}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function x0(n,e){return{protocol:n.protocol,auth:n.auth,host:n.hostname,port:n.port,path:n.path,method:"GET",headers:e}}class kG extends fN{constructor(e){super(e);const t=r=>{if(r.statusCode===404){const l=new Ac(`Missing PDF "${this._url}".`);this._storedError=l,this._headersCapability.reject(l);return}this._headersCapability.resolve(),this._setReadableStream(r);const i=l=>this._readableStream.headers[l.toLowerCase()],{allowRangeRequests:s,suggestedLength:a}=wE({getResponseHeader:i,isHttp:e.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=s,this._contentLength=a||this._contentLength,this._filename=xE(i)};if(this._request=null,this._url.protocol==="http:"){const r=Es.get("http");this._request=r.request(x0(this._url,e.httpHeaders),t)}else{const r=Es.get("https");this._request=r.request(x0(this._url,e.httpHeaders),t)}this._request.on("error",r=>{this._storedError=r,this._headersCapability.reject(r)}),this._request.end()}}class RG extends pN{constructor(e,t,r){super(e),this._httpHeaders={};for(const s in e.httpHeaders){const a=e.httpHeaders[s];a!==void 0&&(this._httpHeaders[s]=a)}this._httpHeaders.Range=`bytes=${t}-${r-1}`;const i=s=>{if(s.statusCode===404){const a=new Ac(`Missing PDF "${this._url}".`);this._storedError=a;return}this._setReadableStream(s)};if(this._request=null,this._url.protocol==="http:"){const s=Es.get("http");this._request=s.request(x0(this._url,this._httpHeaders),i)}else{const s=Es.get("https");this._request=s.request(x0(this._url,this._httpHeaders),i)}this._request.on("error",s=>{this._storedError=s}),this._request.end()}}class TG extends fN{constructor(e){super(e);let t=decodeURIComponent(this._url.path);hN.test(this._url.href)&&(t=t.replace(/^\//,""));const r=Es.get("fs");r.promises.lstat(t).then(i=>{this._contentLength=i.size,this._setReadableStream(r.createReadStream(t)),this._headersCapability.resolve()},i=>{i.code==="ENOENT"&&(i=new Ac(`Missing PDF "${t}".`)),this._storedError=i,this._headersCapability.reject(i)})}}class PG extends pN{constructor(e,t,r){super(e);let i=decodeURIComponent(this._url.path);hN.test(this._url.href)&&(i=i.replace(/^\//,""));const s=Es.get("fs");this._setReadableStream(s.createReadStream(i,{start:t,end:r-1}))}}const MG=1e5,pr=30,IG=.8;var wT,ya,mr,gp,mp,Ol,Js,yp,vp,Fl,Uu,Vu,va,Gu,bp,Xu,zl,wp,xp,$l,Bl,ba,Yu,Ao,gN,mN,FS,xs,Ly,yN,vN;const Hn=class Hn{constructor({textContentSource:e,container:t,viewport:r}){H(this,Ao);H(this,ya,Promise.withResolvers());H(this,mr,null);H(this,gp,!1);H(this,mp,!!((wT=globalThis.FontInspector)!=null&&wT.enabled));H(this,Ol,null);H(this,Js,null);H(this,yp,0);H(this,vp,0);H(this,Fl,null);H(this,Uu,null);H(this,Vu,0);H(this,va,0);H(this,Gu,Object.create(null));H(this,bp,[]);H(this,Xu,null);H(this,zl,[]);H(this,wp,new WeakMap);H(this,xp,null);var u;if(e instanceof ReadableStream)F(this,Xu,e);else if(typeof e=="object")F(this,Xu,new ReadableStream({start(d){d.enqueue(e),d.close()}}));else throw new Error('No "textContentSource" parameter specified.');F(this,mr,F(this,Uu,t)),F(this,va,r.scale*(globalThis.devicePixelRatio||1)),F(this,Vu,r.rotation),F(this,Js,{prevFontSize:null,prevFontFamily:null,div:null,properties:null,ctx:null});const{pageWidth:i,pageHeight:s,pageX:a,pageY:l}=r.rawDims;F(this,xp,[1,0,0,-1,-a,l+s]),F(this,vp,i),F(this,yp,s),z(u=Hn,xs,yN).call(u),vc(t,r),m(this,ya).promise.catch(()=>{}).then(()=>{m(Hn,Yu).delete(this),F(this,Js,null),F(this,Gu,null)})}render(){const e=()=>{m(this,Fl).read().then(({value:t,done:r})=>{if(r){m(this,ya).resolve();return}m(this,Ol)??F(this,Ol,t.lang),Object.assign(m(this,Gu),t.styles),z(this,Ao,gN).call(this,t.items),e()},m(this,ya).reject)};return F(this,Fl,m(this,Xu).getReader()),m(Hn,Yu).add(this),e(),m(this,ya).promise}update({viewport:e,onBefore:t=null}){var s;const r=e.scale*(globalThis.devicePixelRatio||1),i=e.rotation;if(i!==m(this,Vu)&&(t==null||t(),F(this,Vu,i),vc(m(this,Uu),{rotation:i})),r!==m(this,va)){t==null||t(),F(this,va,r);const a={prevFontSize:null,prevFontFamily:null,div:null,properties:null,ctx:z(s=Hn,xs,Ly).call(s,m(this,Ol))};for(const l of m(this,zl))a.properties=m(this,wp).get(l),a.div=l,z(this,Ao,FS).call(this,a)}}cancel(){var t;const e=new kc("TextLayer task cancelled.");(t=m(this,Fl))==null||t.cancel(e).catch(()=>{}),F(this,Fl,null),m(this,ya).reject(e)}get textDivs(){return m(this,zl)}get textContentItemsStr(){return m(this,bp)}static cleanup(){if(!(m(this,Yu).size>0)){m(this,$l).clear();for(const{canvas:e}of m(this,Bl).values())e.remove();m(this,Bl).clear()}}};ya=new WeakMap,mr=new WeakMap,gp=new WeakMap,mp=new WeakMap,Ol=new WeakMap,Js=new WeakMap,yp=new WeakMap,vp=new WeakMap,Fl=new WeakMap,Uu=new WeakMap,Vu=new WeakMap,va=new WeakMap,Gu=new WeakMap,bp=new WeakMap,Xu=new WeakMap,zl=new WeakMap,wp=new WeakMap,xp=new WeakMap,$l=new WeakMap,Bl=new WeakMap,ba=new WeakMap,Yu=new WeakMap,Ao=new WeakSet,gN=function(e){var i,s;if(m(this,gp))return;(s=m(this,Js)).ctx??(s.ctx=z(i=Hn,xs,Ly).call(i,m(this,Ol)));const t=m(this,zl),r=m(this,bp);for(const a of e){if(t.length>MG){Ve("Ignoring additional textDivs for performance reasons."),F(this,gp,!0);return}if(a.str===void 0){if(a.type==="beginMarkedContentProps"||a.type==="beginMarkedContent"){const l=m(this,mr);F(this,mr,document.createElement("span")),m(this,mr).classList.add("markedContent"),a.id!==null&&m(this,mr).setAttribute("id",`${a.id}`),l.append(m(this,mr))}else a.type==="endMarkedContent"&&F(this,mr,m(this,mr).parentNode);continue}r.push(a.str),z(this,Ao,mN).call(this,a)}},mN=function(e){var w;const t=document.createElement("span"),r={angle:0,canvasWidth:0,hasText:e.str!=="",hasEOL:e.hasEOL,fontSize:0};m(this,zl).push(t);const i=Me.transform(m(this,xp),e.transform);let s=Math.atan2(i[1],i[0]);const a=m(this,Gu)[e.fontName];a.vertical&&(s+=Math.PI/2);const l=m(this,mp)&&a.fontSubstitution||a.fontFamily,u=Math.hypot(i[2],i[3]),d=u*z(w=Hn,xs,vN).call(w,l,m(this,Ol));let h,p;s===0?(h=i[4],p=i[5]-d):(h=i[4]+d*Math.sin(s),p=i[5]-d*Math.cos(s));const g="calc(var(--scale-factor)*",y=t.style;m(this,mr)===m(this,Uu)?(y.left=`${(100*h/m(this,vp)).toFixed(2)}%`,y.top=`${(100*p/m(this,yp)).toFixed(2)}%`):(y.left=`${g}${h.toFixed(2)}px)`,y.top=`${g}${p.toFixed(2)}px)`),y.fontSize=`${g}${(m(Hn,ba)*u).toFixed(2)}px)`,y.fontFamily=l,r.fontSize=u,t.setAttribute("role","presentation"),t.textContent=e.str,t.dir=e.dir,m(this,mp)&&(t.dataset.fontName=a.fontSubstitutionLoadedName||e.fontName),s!==0&&(r.angle=s*(180/Math.PI));let b=!1;if(e.str.length>1)b=!0;else if(e.str!==" "&&e.transform[0]!==e.transform[3]){const C=Math.abs(e.transform[0]),x=Math.abs(e.transform[3]);C!==x&&Math.max(C,x)/Math.min(C,x)>1.5&&(b=!0)}if(b&&(r.canvasWidth=a.vertical?e.height:e.width),m(this,wp).set(t,r),m(this,Js).div=t,m(this,Js).properties=r,z(this,Ao,FS).call(this,m(this,Js)),r.hasText&&m(this,mr).append(t),r.hasEOL){const C=document.createElement("br");C.setAttribute("role","presentation"),m(this,mr).append(C)}},FS=function(e){const{div:t,properties:r,ctx:i,prevFontSize:s,prevFontFamily:a}=e,{style:l}=t;let u="";if(m(Hn,ba)>1&&(u=`scale(${1/m(Hn,ba)})`),r.canvasWidth!==0&&r.hasText){const{fontFamily:d}=l,{canvasWidth:h,fontSize:p}=r;(s!==p||a!==d)&&(i.font=`${p*m(this,va)}px ${d}`,e.prevFontSize=p,e.prevFontFamily=d);const{width:g}=i.measureText(t.textContent);g>0&&(u=`scaleX(${h*m(this,va)/g}) ${u}`)}r.angle!==0&&(u=`rotate(${r.angle}deg) ${u}`),u.length>0&&(l.transform=u)},xs=new WeakSet,Ly=function(e=null){let t=m(this,Bl).get(e||(e=""));if(!t){const r=document.createElement("canvas");r.className="hiddenCanvasElement",r.lang=e,document.body.append(r),t=r.getContext("2d",{alpha:!1,willReadFrequently:!0}),m(this,Bl).set(e,t)}return t},yN=function(){if(m(this,ba)!==null)return;const e=document.createElement("div");e.style.opacity=0,e.style.lineHeight=1,e.style.fontSize="1px",e.textContent="X",document.body.append(e),F(this,ba,e.getBoundingClientRect().height),e.remove()},vN=function(e,t){const r=m(this,$l).get(e);if(r)return r;const i=z(this,xs,Ly).call(this,t),s=i.font;i.canvas.width=i.canvas.height=pr,i.font=`${pr}px ${e}`;const a=i.measureText("");let l=a.fontBoundingBoxAscent,u=Math.abs(a.fontBoundingBoxDescent);if(l){const p=l/(l+u);return m(this,$l).set(e,p),i.canvas.width=i.canvas.height=0,i.font=s,p}i.strokeStyle="red",i.clearRect(0,0,pr,pr),i.strokeText("g",0,0);let d=i.getImageData(0,0,pr,pr).data;u=0;for(let p=d.length-1-3;p>=0;p-=4)if(d[p]>0){u=Math.ceil(p/4/pr);break}i.clearRect(0,0,pr,pr),i.strokeText("A",0,pr),d=i.getImageData(0,0,pr,pr).data,l=0;for(let p=0,g=d.length;p<g;p+=4)if(d[p]>0){l=pr-Math.floor(p/4/pr);break}i.canvas.width=i.canvas.height=0,i.font=s;const h=l?l/(l+u):IG;return m(this,$l).set(e,h),h},H(Hn,xs),H(Hn,$l,new Map),H(Hn,Bl,new Map),H(Hn,ba,null),H(Hn,Yu,new Set);let Nd=Hn;function NG(){PI("`renderTextLayer`, please use `TextLayer` instead.");const{textContentSource:n,container:e,viewport:t,...r}=arguments[0],i=Object.keys(r);i.length>0&&Ve("Ignoring `renderTextLayer` parameters: "+i.join(", "));const s=new Nd({textContentSource:n,container:e,viewport:t}),{textDivs:a,textContentItemsStr:l}=s;return{promise:s.render(),textDivs:a,textContentItemsStr:l}}function LG(){PI("`updateTextLayer`, please use `TextLayer` instead.")}class Pf{static textContent(e){const t=[],r={items:t,styles:Object.create(null)};function i(s){var u;if(!s)return;let a=null;const l=s.name;if(l==="#text")a=s.value;else if(Pf.shouldBuildText(l))(u=s==null?void 0:s.attributes)!=null&&u.textContent?a=s.attributes.textContent:s.value&&(a=s.value);else return;if(a!==null&&t.push({str:a}),!!s.children)for(const d of s.children)i(d)}return i(e),r}static shouldBuildText(e){return!(e==="textarea"||e==="input"||e==="option"||e==="select")}}const DG=65536,OG=100,FG=5e3,zG=Gn?q8:O8,$G=Gn?K8:RI,BG=Gn?Y8:D8,HG=Gn?Q8:TI;function jG(n={}){typeof n=="string"||n instanceof URL?n={url:n}:(n instanceof ArrayBuffer||ArrayBuffer.isView(n))&&(n={data:n});const e=new zS,{docId:t}=e,r=n.url?WG(n.url):null,i=n.data?UG(n.data):null,s=n.httpHeaders||null,a=n.withCredentials===!0,l=n.password??null,u=n.range instanceof bN?n.range:null,d=Number.isInteger(n.rangeChunkSize)&&n.rangeChunkSize>0?n.rangeChunkSize:DG;let h=n.worker instanceof ku?n.worker:null;const p=n.verbosity,g=typeof n.docBaseUrl=="string"&&!mE(n.docBaseUrl)?n.docBaseUrl:null,y=typeof n.cMapUrl=="string"?n.cMapUrl:null,b=n.cMapPacked!==!1,w=n.CMapReaderFactory||$G,C=typeof n.standardFontDataUrl=="string"?n.standardFontDataUrl:null,x=n.StandardFontDataFactory||HG,A=n.stopAtErrors!==!0,E=Number.isInteger(n.maxImageSize)&&n.maxImageSize>-1?n.maxImageSize:-1,_=n.isEvalSupported!==!1,k=typeof n.isOffscreenCanvasSupported=="boolean"?n.isOffscreenCanvasSupported:!Gn,M=Number.isInteger(n.canvasMaxAreaInBytes)?n.canvasMaxAreaInBytes:-1,T=typeof n.disableFontFace=="boolean"?n.disableFontFace:Gn,N=n.fontExtraProperties===!0,W=n.enableXfa===!0,P=n.ownerDocument||globalThis.document,V=n.disableRange===!0,X=n.disableStream===!0,Y=n.disableAutoFetch===!0,D=n.pdfBug===!0,G=n.enableHWA===!0,j=u?u.length:n.length??NaN,q=typeof n.useSystemFonts=="boolean"?n.useSystemFonts:!Gn&&!T,$=typeof n.useWorkerFetch=="boolean"?n.useWorkerFetch:w===RI&&x===TI&&y&&C&&Vh(y,document.baseURI)&&Vh(C,document.baseURI),B=n.canvasFactory||new zG({ownerDocument:P,enableHWA:G}),K=n.filterFactory||new BG({docId:t,ownerDocument:P}),U=null;C8(p);const Z={canvasFactory:B,filterFactory:K};if($||(Z.cMapReaderFactory=new w({baseUrl:y,isCompressed:b}),Z.standardFontDataFactory=new x({baseUrl:C})),!h){const se={verbosity:p,port:vo.workerPort};h=se.port?ku.fromPort(se):new ku(se),e._worker=h}const re={docId:t,apiVersion:"4.4.168",data:i,password:l,disableAutoFetch:Y,rangeChunkSize:d,length:j,docBaseUrl:g,enableXfa:W,evaluatorOptions:{maxImageSize:E,disableFontFace:T,ignoreErrors:A,isEvalSupported:_,isOffscreenCanvasSupported:k,canvasMaxAreaInBytes:M,fontExtraProperties:N,useSystemFonts:q,cMapUrl:$?y:null,standardFontDataUrl:$?C:null}},le={disableFontFace:T,fontExtraProperties:N,ownerDocument:P,pdfBug:D,styleElement:U,loadingParams:{disableAutoFetch:Y,enableXfa:W}};return h.promise.then(function(){if(e.destroyed)throw new Error("Loading aborted");if(h.destroyed)throw new Error("Worker was destroyed");const se=h.messageHandler.sendWithPromise("GetDocRequest",re,i?[i.buffer]:null);let ce;if(u)ce=new pG(u,{disableRange:V,disableStream:X});else if(!i){if(!r)throw new Error("getDocument - no `url` parameter provided.");ce=(oe=>Gn?function(){return typeof fetch<"u"&&typeof Response<"u"&&"body"in Response.prototype}()&&Vh(oe.url)?new ZR(oe):new AG(oe):Vh(oe.url)?new ZR(oe):new SG(oe))({url:r,length:j,httpHeaders:s,withCredentials:a,rangeChunkSize:d,disableRange:V,disableStream:X})}return se.then(ee=>{if(e.destroyed)throw new Error("Loading aborted");if(h.destroyed)throw new Error("Worker was destroyed");const oe=new Yh(t,ee,h.port),de=new YG(oe,e,ce,le,Z);e._transport=de,oe.send("Ready",null)})}).catch(e._capability.reject),e}function WG(n){if(n instanceof URL)return n.href;try{return new URL(n,window.location).href}catch{if(Gn&&typeof n=="string")return n}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function UG(n){if(Gn&&typeof Buffer<"u"&&n instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(n instanceof Uint8Array&&n.byteLength===n.buffer.byteLength)return n;if(typeof n=="string")return Tv(n);if(n instanceof ArrayBuffer||ArrayBuffer.isView(n)||typeof n=="object"&&!isNaN(n==null?void 0:n.length))return new Uint8Array(n);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function JR(n){return typeof n=="object"&&Number.isInteger(n==null?void 0:n.num)&&n.num>=0&&Number.isInteger(n==null?void 0:n.gen)&&n.gen>=0}var O0;const F0=class F0{constructor(){this._capability=Promise.withResolvers(),this._transport=null,this._worker=null,this.docId=`d${Mr(F0,O0)._++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){var e,t,r;this.destroyed=!0;try{(e=this._worker)!=null&&e.port&&(this._worker._pendingDestroy=!0),await((t=this._transport)==null?void 0:t.destroy())}catch(i){throw(r=this._worker)!=null&&r.port&&delete this._worker._pendingDestroy,i}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}};O0=new WeakMap,H(F0,O0,0);let zS=F0;class bN{constructor(e,t,r=!1,i=null){this.length=e,this.initialData=t,this.progressiveDone=r,this.contentDispositionFilename=i,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=Promise.withResolvers()}addRangeListener(e){this._rangeListeners.push(e)}addProgressListener(e){this._progressListeners.push(e)}addProgressiveReadListener(e){this._progressiveReadListeners.push(e)}addProgressiveDoneListener(e){this._progressiveDoneListeners.push(e)}onDataRange(e,t){for(const r of this._rangeListeners)r(e,t)}onDataProgress(e,t){this._readyCapability.promise.then(()=>{for(const r of this._progressListeners)r(e,t)})}onDataProgressiveRead(e){this._readyCapability.promise.then(()=>{for(const t of this._progressiveReadListeners)t(e)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const e of this._progressiveDoneListeners)e()})}transportReady(){this._readyCapability.resolve()}requestDataRange(e,t){bt("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}class VG{constructor(e,t){this._pdfInfo=e,this._transport=t}get annotationStorage(){return this._transport.annotationStorage}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return Je(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(e){return this._transport.getPage(e)}getPageIndex(e){return this._transport.getPageIndex(e)}getDestinations(){return this._transport.getDestinations()}getDestination(e){return this._transport.getDestination(e)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getOptionalContentConfig(t)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(e=!1){return this._transport.startCleanup(e||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(e){return this._transport.cachedPageNumber(e)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}var wa,eo,ci,gu,Dy;class GG{constructor(e,t,r,i=!1){H(this,ci);H(this,wa,null);H(this,eo,!1);this._pageIndex=e,this._pageInfo=t,this._transport=r,this._stats=i?new $R:null,this._pdfBug=i,this.commonObjs=r.commonObjs,this.objs=new wN,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:e,rotation:t=this.rotate,offsetX:r=0,offsetY:i=0,dontFlip:s=!1}={}){return new kg({viewBox:this.view,scale:e,rotation:t,offsetX:r,offsetY:i,dontFlip:s})}getAnnotations({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getAnnotations(this._pageIndex,t)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return Je(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var e;return((e=this._transport._htmlForXfa)==null?void 0:e.children[this._pageIndex])||null}render({canvasContext:e,viewport:t,intent:r="display",annotationMode:i=ua.ENABLE,transform:s=null,background:a=null,optionalContentConfigPromise:l=null,annotationCanvasMap:u=null,pageColors:d=null,printAnnotationStorage:h=null}){var E,_;(E=this._stats)==null||E.time("Overall");const p=this._transport.getRenderingIntent(r,i,h),{renderingIntent:g,cacheKey:y}=p;F(this,eo,!1),z(this,ci,Dy).call(this),l||(l=this._transport.getOptionalContentConfig(g));let b=this._intentStates.get(y);b||(b=Object.create(null),this._intentStates.set(y,b)),b.streamReaderCancelTimeout&&(clearTimeout(b.streamReaderCancelTimeout),b.streamReaderCancelTimeout=null);const w=!!(g&oi.PRINT);b.displayReadyCapability||(b.displayReadyCapability=Promise.withResolvers(),b.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(_=this._stats)==null||_.time("Page Request"),this._pumpOperatorList(p));const C=k=>{var M;b.renderTasks.delete(x),(this._maybeCleanupAfterRender||w)&&F(this,eo,!0),z(this,ci,gu).call(this,!w),k?(x.capability.reject(k),this._abortOperatorList({intentState:b,reason:k instanceof Error?k:new Error(k)})):x.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),(M=globalThis.Stats)!=null&&M.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},x=new BS({callback:C,params:{canvasContext:e,viewport:t,transform:s,background:a},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:u,operatorList:b.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!w,pdfBug:this._pdfBug,pageColors:d});(b.renderTasks||(b.renderTasks=new Set)).add(x);const A=x.task;return Promise.all([b.displayReadyCapability.promise,l]).then(([k,M])=>{var T;if(this.destroyed){C();return}if((T=this._stats)==null||T.time("Rendering"),!(M.renderingIntent&g))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");x.initializeGraphics({transparency:k,optionalContentConfig:M}),x.operatorListChanged()}).catch(C),A}getOperatorList({intent:e="display",annotationMode:t=ua.ENABLE,printAnnotationStorage:r=null}={}){var u;function i(){a.operatorList.lastChunk&&(a.opListReadCapability.resolve(a.operatorList),a.renderTasks.delete(l))}const s=this._transport.getRenderingIntent(e,t,r,!0);let a=this._intentStates.get(s.cacheKey);a||(a=Object.create(null),this._intentStates.set(s.cacheKey,a));let l;return a.opListReadCapability||(l=Object.create(null),l.operatorListChanged=i,a.opListReadCapability=Promise.withResolvers(),(a.renderTasks||(a.renderTasks=new Set)).add(l),a.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(u=this._stats)==null||u.time("Page Request"),this._pumpOperatorList(s)),a.opListReadCapability.promise}streamTextContent({includeMarkedContent:e=!1,disableNormalization:t=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:e===!0,disableNormalization:t===!0},{highWaterMark:100,size(i){return i.items.length}})}getTextContent(e={}){if(this._transport._htmlForXfa)return this.getXfa().then(r=>Pf.textContent(r));const t=this.streamTextContent(e);return new Promise(function(r,i){function s(){a.read().then(function({value:u,done:d}){if(d){r(l);return}l.lang??(l.lang=u.lang),Object.assign(l.styles,u.styles),l.items.push(...u.items),s()},i)}const a=t.getReader(),l={items:[],styles:Object.create(null),lang:null};s()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const e=[];for(const t of this._intentStates.values())if(this._abortOperatorList({intentState:t,reason:new Error("Page was destroyed."),force:!0}),!t.opListReadCapability)for(const r of t.renderTasks)e.push(r.completed),r.cancel();return this.objs.clear(),F(this,eo,!1),z(this,ci,Dy).call(this),Promise.all(e)}cleanup(e=!1){F(this,eo,!0);const t=z(this,ci,gu).call(this,!1);return e&&t&&this._stats&&(this._stats=new $R),t}_startRenderPage(e,t){var i,s;const r=this._intentStates.get(t);r&&((i=this._stats)==null||i.timeEnd("Page Request"),(s=r.displayReadyCapability)==null||s.resolve(e))}_renderPageChunk(e,t){for(let r=0,i=e.length;r<i;r++)t.operatorList.fnArray.push(e.fnArray[r]),t.operatorList.argsArray.push(e.argsArray[r]);t.operatorList.lastChunk=e.lastChunk,t.operatorList.separateAnnots=e.separateAnnots;for(const r of t.renderTasks)r.operatorListChanged();e.lastChunk&&z(this,ci,gu).call(this,!0)}_pumpOperatorList({renderingIntent:e,cacheKey:t,annotationStorageSerializable:r}){const{map:i,transfer:s}=r,l=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:e,cacheKey:t,annotationStorage:i},s).getReader(),u=this._intentStates.get(t);u.streamReader=l;const d=()=>{l.read().then(({value:h,done:p})=>{if(p){u.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(h,u),d())},h=>{if(u.streamReader=null,!this._transport.destroyed){if(u.operatorList){u.operatorList.lastChunk=!0;for(const p of u.renderTasks)p.operatorListChanged();z(this,ci,gu).call(this,!0)}if(u.displayReadyCapability)u.displayReadyCapability.reject(h);else if(u.opListReadCapability)u.opListReadCapability.reject(h);else throw h}})};d()}_abortOperatorList({intentState:e,reason:t,force:r=!1}){if(e.streamReader){if(e.streamReaderCancelTimeout&&(clearTimeout(e.streamReaderCancelTimeout),e.streamReaderCancelTimeout=null),!r){if(e.renderTasks.size>0)return;if(t instanceof gE){let i=OG;t.extraDelay>0&&t.extraDelay<1e3&&(i+=t.extraDelay),e.streamReaderCancelTimeout=setTimeout(()=>{e.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:e,reason:t,force:!0})},i);return}}if(e.streamReader.cancel(new kc(t.message)).catch(()=>{}),e.streamReader=null,!this._transport.destroyed){for(const[i,s]of this._intentStates)if(s===e){this._intentStates.delete(i);break}this.cleanup()}}}get stats(){return this._stats}}wa=new WeakMap,eo=new WeakMap,ci=new WeakSet,gu=function(e=!1){if(z(this,ci,Dy).call(this),!m(this,eo)||this.destroyed)return!1;if(e)return F(this,wa,setTimeout(()=>{F(this,wa,null),z(this,ci,gu).call(this,!1)},FG)),!1;for(const{renderTasks:t,operatorList:r}of this._intentStates.values())if(t.size>0||!r.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),F(this,eo,!1),!0},Dy=function(){m(this,wa)&&(clearTimeout(m(this,wa)),F(this,wa,null))};var Hl,z0;class XG{constructor(){H(this,Hl,new Set);H(this,z0,Promise.resolve())}postMessage(e,t){const r={data:structuredClone(e,t?{transfer:t}:null)};m(this,z0).then(()=>{for(const i of m(this,Hl))i.call(this,r)})}addEventListener(e,t){m(this,Hl).add(t)}removeEventListener(e,t){m(this,Hl).delete(t)}terminate(){m(this,Hl).clear()}}Hl=new WeakMap,z0=new WeakMap;const Us={isWorkerDisabled:!1,fakeWorkerId:0};Gn&&(Us.isWorkerDisabled=!0,vo.workerSrc||(vo.workerSrc="./pdf.worker.mjs")),Us.isSameOrigin=function(n,e){let t;try{if(t=new URL(n),!t.origin||t.origin==="null")return!1}catch{return!1}const r=new URL(e,t);return t.origin===r.origin},Us.createCDNWrapper=function(n){const e=`await import("${n}");`;return URL.createObjectURL(new Blob([e],{type:"text/javascript"}))};var jl,qu,Oy,Ku,Fy;const Nr=class Nr{constructor({name:e=null,port:t=null,verbosity:r=_8()}={}){H(this,qu);var i;if(this.name=e,this.destroyed=!1,this.verbosity=r,this._readyCapability=Promise.withResolvers(),this._port=null,this._webWorker=null,this._messageHandler=null,t){if((i=m(Nr,jl))!=null&&i.has(t))throw new Error("Cannot use more than one PDFWorker per port.");(m(Nr,jl)||F(Nr,jl,new WeakMap)).set(t,this),this._initializeFromPort(t);return}this._initialize()}get promise(){return Gn?Promise.all([Es.promise,this._readyCapability.promise]):this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(e){this._port=e,this._messageHandler=new Yh("main","worker",e),this._messageHandler.on("ready",function(){}),z(this,qu,Oy).call(this)}_initialize(){if(Us.isWorkerDisabled||m(Nr,Ku,Fy)){this._setupFakeWorker();return}let{workerSrc:e}=Nr;try{Us.isSameOrigin(window.location.href,e)||(e=Us.createCDNWrapper(new URL(e,window.location).href));const t=new Worker(e,{type:"module"}),r=new Yh("main","worker",t),i=()=>{s.abort(),r.destroy(),t.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},s=new AbortController;t.addEventListener("error",()=>{this._webWorker||i()},{signal:s.signal}),r.on("test",l=>{if(s.abort(),this.destroyed||!l){i();return}this._messageHandler=r,this._port=t,this._webWorker=t,z(this,qu,Oy).call(this)}),r.on("ready",l=>{if(s.abort(),this.destroyed){i();return}try{a()}catch{this._setupFakeWorker()}});const a=()=>{const l=new Uint8Array;r.send("test",l,[l.buffer])};a();return}catch{kv("The worker has been disabled.")}this._setupFakeWorker()}_setupFakeWorker(){Us.isWorkerDisabled||(Ve("Setting up fake worker."),Us.isWorkerDisabled=!0),Nr._setupFakeWorkerGlobal.then(e=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const t=new XG;this._port=t;const r=`fake${Us.fakeWorkerId++}`,i=new Yh(r+"_worker",r,t);e.setup(i,t),this._messageHandler=new Yh(r,r+"_worker",t),z(this,qu,Oy).call(this)}).catch(e=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${e.message}".`))})}destroy(){var e;this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),(e=m(Nr,jl))==null||e.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(e){var r;if(!(e!=null&&e.port))throw new Error("PDFWorker.fromPort - invalid method signature.");const t=(r=m(this,jl))==null?void 0:r.get(e.port);if(t){if(t._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return t}return new Nr(e)}static get workerSrc(){if(vo.workerSrc)return vo.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return Je(this,"_setupFakeWorkerGlobal",(async()=>m(this,Ku,Fy)?m(this,Ku,Fy):(await import(this.workerSrc)).WorkerMessageHandler)())}};jl=new WeakMap,qu=new WeakSet,Oy=function(){this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})},Ku=new WeakSet,Fy=function(){var e;try{return((e=globalThis.pdfjsWorker)==null?void 0:e.WorkerMessageHandler)||null}catch{return null}},H(Nr,Ku),H(Nr,jl);let ku=Nr;var to,is,Qu,Zu,ss,Wl,qh;class YG{constructor(e,t,r,i,s){H(this,Wl);H(this,to,new Map);H(this,is,new Map);H(this,Qu,new Map);H(this,Zu,new Map);H(this,ss,null);this.messageHandler=e,this.loadingTask=t,this.commonObjs=new wN,this.fontLoader=new G8({ownerDocument:i.ownerDocument,styleElement:i.styleElement}),this.loadingParams=i.loadingParams,this._params=i,this.canvasFactory=s.canvasFactory,this.filterFactory=s.filterFactory,this.cMapReaderFactory=s.cMapReaderFactory,this.standardFontDataFactory=s.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=r,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.setupMessageHandler()}get annotationStorage(){return Je(this,"annotationStorage",new bE)}getRenderingIntent(e,t=ua.ENABLE,r=null,i=!1){let s=oi.DISPLAY,a=PS;switch(e){case"any":s=oi.ANY;break;case"display":break;case"print":s=oi.PRINT;break;default:Ve(`getRenderingIntent - invalid intent: ${e}`)}switch(t){case ua.DISABLE:s+=oi.ANNOTATIONS_DISABLE;break;case ua.ENABLE:break;case ua.ENABLE_FORMS:s+=oi.ANNOTATIONS_FORMS;break;case ua.ENABLE_STORAGE:s+=oi.ANNOTATIONS_STORAGE,a=(s&oi.PRINT&&r instanceof iN?r:this.annotationStorage).serializable;break;default:Ve(`getRenderingIntent - invalid annotationMode: ${t}`)}return i&&(s+=oi.OPLIST),{renderingIntent:s,cacheKey:`${s}_${a.hash}`,annotationStorageSerializable:a}}destroy(){var r;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),(r=m(this,ss))==null||r.reject(new Error("Worker was destroyed during onPassword callback"));const e=[];for(const i of m(this,is).values())e.push(i._destroy());m(this,is).clear(),m(this,Qu).clear(),m(this,Zu).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const t=this.messageHandler.sendWithPromise("Terminate",null);return e.push(t),Promise.all(e).then(()=>{var i;this.commonObjs.clear(),this.fontLoader.clear(),m(this,to).clear(),this.filterFactory.destroy(),Nd.cleanup(),(i=this._networkStream)==null||i.cancelAllRequests(new kc("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:e,loadingTask:t}=this;e.on("GetReader",(r,i)=>{mn(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=s=>{this._lastProgress={loaded:s.loaded,total:s.total}},i.onPull=()=>{this._fullReader.read().then(function({value:s,done:a}){if(a){i.close();return}mn(s instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),i.enqueue(new Uint8Array(s),1,[s])}).catch(s=>{i.error(s)})},i.onCancel=s=>{this._fullReader.cancel(s),i.ready.catch(a=>{if(!this.destroyed)throw a})}}),e.on("ReaderHeadersReady",r=>{const i=Promise.withResolvers(),s=this._fullReader;return s.headersReady.then(()=>{var a;(!s.isStreamingSupported||!s.isRangeSupported)&&(this._lastProgress&&((a=t.onProgress)==null||a.call(t,this._lastProgress)),s.onProgress=l=>{var u;(u=t.onProgress)==null||u.call(t,{loaded:l.loaded,total:l.total})}),i.resolve({isStreamingSupported:s.isStreamingSupported,isRangeSupported:s.isRangeSupported,contentLength:s.contentLength})},i.reject),i.promise}),e.on("GetRangeReader",(r,i)=>{mn(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const s=this._networkStream.getRangeReader(r.begin,r.end);if(!s){i.close();return}i.onPull=()=>{s.read().then(function({value:a,done:l}){if(l){i.close();return}mn(a instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),i.enqueue(new Uint8Array(a),1,[a])}).catch(a=>{i.error(a)})},i.onCancel=a=>{s.cancel(a),i.ready.catch(l=>{if(!this.destroyed)throw l})}}),e.on("GetDoc",({pdfInfo:r})=>{this._numPages=r.numPages,this._htmlForXfa=r.htmlForXfa,delete r.htmlForXfa,t._capability.resolve(new VG(r,this))}),e.on("DocException",function(r){let i;switch(r.name){case"PasswordException":i=new aS(r.message,r.code);break;case"InvalidPDFException":i=new CI(r.message);break;case"MissingPDFException":i=new Ac(r.message);break;case"UnexpectedResponseException":i=new Rv(r.message,r.status);break;case"UnknownErrorException":i=new lS(r.message,r.details);break;default:bt("DocException - expected a valid Error.")}t._capability.reject(i)}),e.on("PasswordRequest",r=>{if(F(this,ss,Promise.withResolvers()),t.onPassword){const i=s=>{s instanceof Error?m(this,ss).reject(s):m(this,ss).resolve({password:s})};try{t.onPassword(i,r.code)}catch(s){m(this,ss).reject(s)}}else m(this,ss).reject(new aS(r.message,r.code));return m(this,ss).promise}),e.on("DataLoaded",r=>{var i;(i=t.onProgress)==null||i.call(t,{loaded:r.length,total:r.length}),this.downloadInfoCapability.resolve(r)}),e.on("StartRenderPage",r=>{if(this.destroyed)return;m(this,is).get(r.pageIndex)._startRenderPage(r.transparency,r.cacheKey)}),e.on("commonobj",([r,i,s])=>{var a;if(this.destroyed||this.commonObjs.has(r))return null;switch(i){case"Font":const{disableFontFace:l,fontExtraProperties:u,pdfBug:d}=this._params;if("error"in s){const y=s.error;Ve(`Error during font loading: ${y}`),this.commonObjs.resolve(r,y);break}const h=d&&((a=globalThis.FontInspector)!=null&&a.enabled)?(y,b)=>globalThis.FontInspector.fontAdded(y,b):null,p=new X8(s,{disableFontFace:l,inspectFont:h});this.fontLoader.bind(p).catch(()=>e.sendWithPromise("FontFallback",{id:r})).finally(()=>{!u&&p.data&&(p.data=null),this.commonObjs.resolve(r,p)});break;case"CopyLocalImage":const{imageRef:g}=s;mn(g,"The imageRef must be defined.");for(const y of m(this,is).values())for(const[,b]of y.objs)if((b==null?void 0:b.ref)===g)return b.dataLen?(this.commonObjs.resolve(r,structuredClone(b)),b.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(r,s);break;default:throw new Error(`Got unknown common object type ${i}`)}return null}),e.on("obj",([r,i,s,a])=>{var u;if(this.destroyed)return;const l=m(this,is).get(i);if(!l.objs.has(r)){if(l._intentStates.size===0){(u=a==null?void 0:a.bitmap)==null||u.close();return}switch(s){case"Image":l.objs.resolve(r,a),(a==null?void 0:a.dataLen)>w8&&(l._maybeCleanupAfterRender=!0);break;case"Pattern":l.objs.resolve(r,a);break;default:throw new Error(`Got unknown object type ${s}`)}}}),e.on("DocProgress",r=>{var i;this.destroyed||(i=t.onProgress)==null||i.call(t,{loaded:r.loaded,total:r.total})}),e.on("FetchBuiltInCMap",r=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.cMapReaderFactory?this.cMapReaderFactory.fetch(r):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),e.on("FetchStandardFontData",r=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.standardFontDataFactory?this.standardFontDataFactory.fetch(r):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var r;this.annotationStorage.size<=0&&Ve("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:e,transfer:t}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:e,filename:((r=this._fullReader)==null?void 0:r.filename)??null},t).finally(()=>{this.annotationStorage.resetModified()})}getPage(e){if(!Number.isInteger(e)||e<=0||e>this._numPages)return Promise.reject(new Error("Invalid page request."));const t=e-1,r=m(this,Qu).get(t);if(r)return r;const i=this.messageHandler.sendWithPromise("GetPage",{pageIndex:t}).then(s=>{if(this.destroyed)throw new Error("Transport destroyed");s.refStr&&m(this,Zu).set(s.refStr,e);const a=new GG(t,s,this,this._params.pdfBug);return m(this,is).set(t,a),a});return m(this,Qu).set(t,i),i}getPageIndex(e){return JR(e)?this.messageHandler.sendWithPromise("GetPageIndex",{num:e.num,gen:e.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(e,t){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:e,intent:t})}getFieldObjects(){return z(this,Wl,qh).call(this,"GetFieldObjects")}hasJSActions(){return z(this,Wl,qh).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(e){return typeof e!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:e})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return z(this,Wl,qh).call(this,"GetDocJSActions")}getPageJSActions(e){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:e})}getStructTree(e){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:e})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(e){return z(this,Wl,qh).call(this,"GetOptionalContentConfig").then(t=>new fG(t,e))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const e="GetMetadata",t=m(this,to).get(e);if(t)return t;const r=this.messageHandler.sendWithPromise(e,null).then(i=>{var s,a;return{info:i[0],metadata:i[1]?new dG(i[1]):null,contentDispositionFilename:((s=this._fullReader)==null?void 0:s.filename)??null,contentLength:((a=this._fullReader)==null?void 0:a.contentLength)??null}});return m(this,to).set(e,r),r}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(e=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const t of m(this,is).values())if(!t.cleanup())throw new Error(`startCleanup: Page ${t.pageNumber} is currently rendering.`);this.commonObjs.clear(),e||this.fontLoader.clear(),m(this,to).clear(),this.filterFactory.destroy(!0),Nd.cleanup()}}cachedPageNumber(e){if(!JR(e))return null;const t=e.gen===0?`${e.num}R`:`${e.num}R${e.gen}`;return m(this,Zu).get(t)??null}}to=new WeakMap,is=new WeakMap,Qu=new WeakMap,Zu=new WeakMap,ss=new WeakMap,Wl=new WeakSet,qh=function(e,t=null){const r=m(this,to).get(e);if(r)return r;const i=this.messageHandler.sendWithPromise(e,t);return m(this,to).set(e,i),i};const yy=Symbol("INITIAL_DATA");var _i,Sp,$S;class wN{constructor(){H(this,Sp);H(this,_i,Object.create(null))}get(e,t=null){if(t){const i=z(this,Sp,$S).call(this,e);return i.promise.then(()=>t(i.data)),null}const r=m(this,_i)[e];if(!r||r.data===yy)throw new Error(`Requesting object that isn't resolved yet ${e}.`);return r.data}has(e){const t=m(this,_i)[e];return!!t&&t.data!==yy}resolve(e,t=null){const r=z(this,Sp,$S).call(this,e);r.data=t,r.resolve()}clear(){var e;for(const t in m(this,_i)){const{data:r}=m(this,_i)[t];(e=r==null?void 0:r.bitmap)==null||e.close()}F(this,_i,Object.create(null))}*[Symbol.iterator](){for(const e in m(this,_i)){const{data:t}=m(this,_i)[e];t!==yy&&(yield[e,t])}}}_i=new WeakMap,Sp=new WeakSet,$S=function(e){var t;return(t=m(this,_i))[e]||(t[e]={...Promise.withResolvers(),data:yy})};var xa;class qG{constructor(e){H(this,xa,null);F(this,xa,e),this.onContinue=null}get promise(){return m(this,xa).capability.promise}cancel(e=0){m(this,xa).cancel(null,e)}get separateAnnots(){const{separateAnnots:e}=m(this,xa).operatorList;if(!e)return!1;const{annotationCanvasMap:t}=m(this,xa);return e.form||e.canvas&&(t==null?void 0:t.size)>0}}xa=new WeakMap;var Sa,Ul;const gl=class gl{constructor({callback:e,params:t,objs:r,commonObjs:i,annotationCanvasMap:s,operatorList:a,pageIndex:l,canvasFactory:u,filterFactory:d,useRequestAnimationFrame:h=!1,pdfBug:p=!1,pageColors:g=null}){H(this,Sa,null);this.callback=e,this.params=t,this.objs=r,this.commonObjs=i,this.annotationCanvasMap=s,this.operatorListIdx=null,this.operatorList=a,this._pageIndex=l,this.canvasFactory=u,this.filterFactory=d,this._pdfBug=p,this.pageColors=g,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=h===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new qG(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=t.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:e=!1,optionalContentConfig:t}){var l,u;if(this.cancelled)return;if(this._canvas){if(m(gl,Ul).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");m(gl,Ul).add(this._canvas)}this._pdfBug&&((l=globalThis.StepperManager)!=null&&l.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:r,viewport:i,transform:s,background:a}=this.params;this.gfx=new Au(r,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:t},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:s,viewport:i,transparency:e,background:a}),this.operatorListIdx=0,this.graphicsReady=!0,(u=this.graphicsReadyCallback)==null||u.call(this)}cancel(e=null,t=0){var r;this.running=!1,this.cancelled=!0,(r=this.gfx)==null||r.endDrawing(),m(this,Sa)&&(window.cancelAnimationFrame(m(this,Sa)),F(this,Sa,null)),m(gl,Ul).delete(this._canvas),this.callback(e||new gE(`Rendering cancelled, page ${this._pageIndex+1}`,t))}operatorListChanged(){var e;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(e=this.stepper)==null||e.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?F(this,Sa,window.requestAnimationFrame(()=>{F(this,Sa,null),this._nextBound().catch(this._cancelBound)})):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),m(gl,Ul).delete(this._canvas),this.callback())))}};Sa=new WeakMap,Ul=new WeakMap,H(gl,Ul,new WeakSet);let BS=gl;const KG="4.4.168",QG="19fbc8998";function eT(n){return Math.floor(Math.max(0,Math.min(1,n))*255).toString(16).padStart(2,"0")}function Lh(n){return Math.max(0,Math.min(255,255*n))}class tT{static CMYK_G([e,t,r,i]){return["G",1-Math.min(1,.3*e+.59*r+.11*t+i)]}static G_CMYK([e]){return["CMYK",0,0,0,1-e]}static G_RGB([e]){return["RGB",e,e,e]}static G_rgb([e]){return e=Lh(e),[e,e,e]}static G_HTML([e]){const t=eT(e);return`#${t}${t}${t}`}static RGB_G([e,t,r]){return["G",.3*e+.59*t+.11*r]}static RGB_rgb(e){return e.map(Lh)}static RGB_HTML(e){return`#${e.map(eT).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([e,t,r,i]){return["RGB",1-Math.min(1,e+i),1-Math.min(1,r+i),1-Math.min(1,t+i)]}static CMYK_rgb([e,t,r,i]){return[Lh(1-Math.min(1,e+i)),Lh(1-Math.min(1,r+i)),Lh(1-Math.min(1,t+i))]}static CMYK_HTML(e){const t=this.CMYK_RGB(e).slice(1);return this.RGB_HTML(t)}static RGB_CMYK([e,t,r]){const i=1-e,s=1-t,a=1-r,l=Math.min(i,s,a);return["CMYK",i,s,a,l]}}class xN{static setupStorage(e,t,r,i,s){const a=i.getValue(t,{value:null});switch(r.name){case"textarea":if(a.value!==null&&(e.textContent=a.value),s==="print")break;e.addEventListener("input",l=>{i.setValue(t,{value:l.target.value})});break;case"input":if(r.attributes.type==="radio"||r.attributes.type==="checkbox"){if(a.value===r.attributes.xfaOn?e.setAttribute("checked",!0):a.value===r.attributes.xfaOff&&e.removeAttribute("checked"),s==="print")break;e.addEventListener("change",l=>{i.setValue(t,{value:l.target.checked?l.target.getAttribute("xfaOn"):l.target.getAttribute("xfaOff")})})}else{if(a.value!==null&&e.setAttribute("value",a.value),s==="print")break;e.addEventListener("input",l=>{i.setValue(t,{value:l.target.value})})}break;case"select":if(a.value!==null){e.setAttribute("value",a.value);for(const l of r.children)l.attributes.value===a.value?l.attributes.selected=!0:l.attributes.hasOwnProperty("selected")&&delete l.attributes.selected}e.addEventListener("input",l=>{const u=l.target.options,d=u.selectedIndex===-1?"":u[u.selectedIndex].value;i.setValue(t,{value:d})});break}}static setAttributes({html:e,element:t,storage:r=null,intent:i,linkService:s}){const{attributes:a}=t,l=e instanceof HTMLAnchorElement;a.type==="radio"&&(a.name=`${a.name}-${i}`);for(const[u,d]of Object.entries(a))if(d!=null)switch(u){case"class":d.length&&e.setAttribute(u,d.join(" "));break;case"dataId":break;case"id":e.setAttribute("data-element-id",d);break;case"style":Object.assign(e.style,d);break;case"textContent":e.textContent=d;break;default:(!l||u!=="href"&&u!=="newWindow")&&e.setAttribute(u,d)}l&&s.addLinkAttributes(e,a.href,a.newWindow),r&&a.dataId&&this.setupStorage(e,a.dataId,t,r)}static render(e){var p,g;const t=e.annotationStorage,r=e.linkService,i=e.xfaHtml,s=e.intent||"display",a=document.createElement(i.name);i.attributes&&this.setAttributes({html:a,element:i,intent:s,linkService:r});const l=s!=="richText",u=e.div;if(u.append(a),e.viewport){const y=`matrix(${e.viewport.transform.join(",")})`;u.style.transform=y}l&&u.setAttribute("class","xfaLayer xfaFont");const d=[];if(i.children.length===0){if(i.value){const y=document.createTextNode(i.value);a.append(y),l&&Pf.shouldBuildText(i.name)&&d.push(y)}return{textDivs:d}}const h=[[i,-1,a]];for(;h.length>0;){const[y,b,w]=h.at(-1);if(b+1===y.children.length){h.pop();continue}const C=y.children[++h.at(-1)[1]];if(C===null)continue;const{name:x}=C;if(x==="#text"){const E=document.createTextNode(C.value);d.push(E),w.append(E);continue}const A=(p=C==null?void 0:C.attributes)!=null&&p.xmlns?document.createElementNS(C.attributes.xmlns,x):document.createElement(x);if(w.append(A),C.attributes&&this.setAttributes({html:A,element:C,storage:t,intent:s,linkService:r}),((g=C.children)==null?void 0:g.length)>0)h.push([C,-1,A]);else if(C.value){const E=document.createTextNode(C.value);l&&Pf.shouldBuildText(x)&&d.push(E),A.append(E)}}for(const y of u.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))y.setAttribute("readOnly",!0);return{textDivs:d}}static update(e){const t=`matrix(${e.viewport.transform.join(",")})`;e.div.style.transform=t,e.div.hidden=!1}}const Pg=1e3,ZG=9,wc=new WeakSet;function bo(n){return{width:n[2]-n[0],height:n[3]-n[1]}}class JG{static create(e){switch(e.data.annotationType){case un.LINK:return new SN(e);case un.TEXT:return new e9(e);case un.WIDGET:switch(e.data.fieldType){case"Tx":return new t9(e);case"Btn":return e.data.radioButton?new _N(e):e.data.checkBox?new r9(e):new i9(e);case"Ch":return new s9(e);case"Sig":return new n9(e)}return new Rc(e);case un.POPUP:return new jS(e);case un.FREETEXT:return new PN(e);case un.LINE:return new a9(e);case un.SQUARE:return new l9(e);case un.CIRCLE:return new c9(e);case un.POLYLINE:return new MN(e);case un.CARET:return new d9(e);case un.INK:return new IN(e);case un.POLYGON:return new u9(e);case un.HIGHLIGHT:return new h9(e);case un.UNDERLINE:return new f9(e);case un.SQUIGGLY:return new p9(e);case un.STRIKEOUT:return new g9(e);case un.STAMP:return new NN(e);case un.FILEATTACHMENT:return new m9(e);default:return new Zt(e)}}}var Vl,Ju,ed,Ep,HS;const AE=class AE{constructor(e,{isRenderable:t=!1,ignoreBorder:r=!1,createQuadrilaterals:i=!1}={}){H(this,Ep);H(this,Vl,null);H(this,Ju,!1);H(this,ed,null);this.isRenderable=t,this.data=e.data,this.layer=e.layer,this.linkService=e.linkService,this.downloadManager=e.downloadManager,this.imageResourcesPath=e.imageResourcesPath,this.renderForms=e.renderForms,this.svgFactory=e.svgFactory,this.annotationStorage=e.annotationStorage,this.enableScripting=e.enableScripting,this.hasJSActions=e.hasJSActions,this._fieldObjects=e.fieldObjects,this.parent=e.parent,t&&(this.container=this._createContainer(r)),i&&this._createQuadrilaterals()}static _hasPopupData({titleObj:e,contentsObj:t,richText:r}){return!!(e!=null&&e.str||t!=null&&t.str||r!=null&&r.str)}get hasPopupData(){return AE._hasPopupData(this.data)}updateEdited(e){var r;if(!this.container)return;m(this,Vl)||F(this,Vl,{rect:this.data.rect.slice(0)});const{rect:t}=e;t&&z(this,Ep,HS).call(this,t),(r=m(this,ed))==null||r.popup.updateEdited(e)}resetEdited(){var e;m(this,Vl)&&(z(this,Ep,HS).call(this,m(this,Vl).rect),(e=m(this,ed))==null||e.popup.resetEdited(),F(this,Vl,null))}_createContainer(e){const{data:t,parent:{page:r,viewport:i}}=this,s=document.createElement("section");s.setAttribute("data-annotation-id",t.id),this instanceof Rc||(s.tabIndex=Pg);const{style:a}=s;if(a.zIndex=this.parent.zIndex++,t.popupRef&&s.setAttribute("aria-haspopup","dialog"),t.alternativeText&&(s.title=t.alternativeText),t.noRotate&&s.classList.add("norotate"),!t.rect||this instanceof jS){const{rotation:w}=t;return!t.hasOwnCanvas&&w!==0&&this.setRotation(w,s),s}const{width:l,height:u}=bo(t.rect);if(!e&&t.borderStyle.width>0){a.borderWidth=`${t.borderStyle.width}px`;const w=t.borderStyle.horizontalCornerRadius,C=t.borderStyle.verticalCornerRadius;if(w>0||C>0){const A=`calc(${w}px * var(--scale-factor)) / calc(${C}px * var(--scale-factor))`;a.borderRadius=A}else if(this instanceof _N){const A=`calc(${l}px * var(--scale-factor)) / calc(${u}px * var(--scale-factor))`;a.borderRadius=A}switch(t.borderStyle.style){case Ih.SOLID:a.borderStyle="solid";break;case Ih.DASHED:a.borderStyle="dashed";break;case Ih.BEVELED:Ve("Unimplemented border style: beveled");break;case Ih.INSET:Ve("Unimplemented border style: inset");break;case Ih.UNDERLINE:a.borderBottomStyle="solid";break}const x=t.borderColor||null;x?(F(this,Ju,!0),a.borderColor=Me.makeHexColor(x[0]|0,x[1]|0,x[2]|0)):a.borderWidth=0}const d=Me.normalizeRect([t.rect[0],r.view[3]-t.rect[1]+r.view[1],t.rect[2],r.view[3]-t.rect[3]+r.view[1]]),{pageWidth:h,pageHeight:p,pageX:g,pageY:y}=i.rawDims;a.left=`${100*(d[0]-g)/h}%`,a.top=`${100*(d[1]-y)/p}%`;const{rotation:b}=t;return t.hasOwnCanvas||b===0?(a.width=`${100*l/h}%`,a.height=`${100*u/p}%`):this.setRotation(b,s),s}setRotation(e,t=this.container){if(!this.data.rect)return;const{pageWidth:r,pageHeight:i}=this.parent.viewport.rawDims,{width:s,height:a}=bo(this.data.rect);let l,u;e%180===0?(l=100*s/r,u=100*a/i):(l=100*a/r,u=100*s/i),t.style.width=`${l}%`,t.style.height=`${u}%`,t.setAttribute("data-main-rotation",(360-e)%360)}get _commonActions(){const e=(t,r,i)=>{const s=i.detail[t],a=s[0],l=s.slice(1);i.target.style[r]=tT[`${a}_HTML`](l),this.annotationStorage.setValue(this.data.id,{[r]:tT[`${a}_rgb`](l)})};return Je(this,"_commonActions",{display:t=>{const{display:r}=t.detail,i=r%2===1;this.container.style.visibility=i?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:i,noPrint:r===1||r===2})},print:t=>{this.annotationStorage.setValue(this.data.id,{noPrint:!t.detail.print})},hidden:t=>{const{hidden:r}=t.detail;this.container.style.visibility=r?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:r,noView:r})},focus:t=>{setTimeout(()=>t.target.focus({preventScroll:!1}),0)},userName:t=>{t.target.title=t.detail.userName},readonly:t=>{t.target.disabled=t.detail.readonly},required:t=>{this._setRequired(t.target,t.detail.required)},bgColor:t=>{e("bgColor","backgroundColor",t)},fillColor:t=>{e("fillColor","backgroundColor",t)},fgColor:t=>{e("fgColor","color",t)},textColor:t=>{e("textColor","color",t)},borderColor:t=>{e("borderColor","borderColor",t)},strokeColor:t=>{e("strokeColor","borderColor",t)},rotation:t=>{const r=t.detail.rotation;this.setRotation(r),this.annotationStorage.setValue(this.data.id,{rotation:r})}})}_dispatchEventFromSandbox(e,t){const r=this._commonActions;for(const i of Object.keys(t.detail)){const s=e[i]||r[i];s==null||s(t)}}_setDefaultPropertiesFromJS(e){if(!this.enableScripting)return;const t=this.annotationStorage.getRawValue(this.data.id);if(!t)return;const r=this._commonActions;for(const[i,s]of Object.entries(t)){const a=r[i];if(a){const l={detail:{[i]:s},target:e};a(l),delete t[i]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:e}=this.data;if(!e)return;const[t,r,i,s]=this.data.rect.map(w=>Math.fround(w));if(e.length===8){const[w,C,x,A]=e.subarray(2,6);if(i===w&&s===C&&t===x&&r===A)return}const{style:a}=this.container;let l;if(m(this,Ju)){const{borderColor:w,borderWidth:C}=a;a.borderWidth=0,l=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${w}" stroke-width="${C}">`],this.container.classList.add("hasBorder")}const u=i-t,d=s-r,{svgFactory:h}=this,p=h.createElement("svg");p.classList.add("quadrilateralsContainer"),p.setAttribute("width",0),p.setAttribute("height",0);const g=h.createElement("defs");p.append(g);const y=h.createElement("clipPath"),b=`clippath_${this.data.id}`;y.setAttribute("id",b),y.setAttribute("clipPathUnits","objectBoundingBox"),g.append(y);for(let w=2,C=e.length;w<C;w+=8){const x=e[w],A=e[w+1],E=e[w+2],_=e[w+3],k=h.createElement("rect"),M=(E-t)/u,T=(s-A)/d,N=(x-E)/u,W=(A-_)/d;k.setAttribute("x",M),k.setAttribute("y",T),k.setAttribute("width",N),k.setAttribute("height",W),y.append(k),l==null||l.push(`<rect vector-effect="non-scaling-stroke" x="${M}" y="${T}" width="${N}" height="${W}"/>`)}m(this,Ju)&&(l.push("</g></svg>')"),a.backgroundImage=l.join("")),this.container.append(p),this.container.style.clipPath=`url(#${b})`}_createPopup(){const{container:e,data:t}=this;e.setAttribute("aria-haspopup","dialog");const r=F(this,ed,new jS({data:{color:t.color,titleObj:t.titleObj,modificationDate:t.modificationDate,contentsObj:t.contentsObj,richText:t.richText,parentRect:t.rect,borderStyle:0,id:`popup_${t.id}`,rotation:t.rotation},parent:this.parent,elements:[this]}));this.parent.div.append(r.render())}render(){bt("Abstract method `AnnotationElement.render` called")}_getElementsByName(e,t=null){const r=[];if(this._fieldObjects){const i=this._fieldObjects[e];if(i)for(const{page:s,id:a,exportValues:l}of i){if(s===-1||a===t)continue;const u=typeof l=="string"?l:null,d=document.querySelector(`[data-element-id="${a}"]`);if(d&&!wc.has(d)){Ve(`_getElementsByName - element not allowed: ${a}`);continue}r.push({id:a,exportValue:u,domElement:d})}return r}for(const i of document.getElementsByName(e)){const{exportValue:s}=i,a=i.getAttribute("data-element-id");a!==t&&wc.has(i)&&r.push({id:a,exportValue:s,domElement:i})}return r}show(){var e;this.container&&(this.container.hidden=!1),(e=this.popup)==null||e.maybeShow()}hide(){var e;this.container&&(this.container.hidden=!0),(e=this.popup)==null||e.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const e=this.getElementsToTriggerPopup();if(Array.isArray(e))for(const t of e)t.classList.add("highlightArea");else e.classList.add("highlightArea")}get _isEditable(){return!1}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:e,data:{id:t}}=this;this.container.addEventListener("dblclick",()=>{var r;(r=this.linkService.eventBus)==null||r.dispatch("switchannotationeditormode",{source:this,mode:e,editId:t})})}};Vl=new WeakMap,Ju=new WeakMap,ed=new WeakMap,Ep=new WeakSet,HS=function(e){const{container:{style:t},data:{rect:r,rotation:i},parent:{viewport:{rawDims:{pageWidth:s,pageHeight:a,pageX:l,pageY:u}}}}=this;r==null||r.splice(0,4,...e);const{width:d,height:h}=bo(e);t.left=`${100*(e[0]-l)/s}%`,t.top=`${100*(a-e[3]+u)/a}%`,i===0?(t.width=`${100*d/s}%`,t.height=`${100*h/a}%`):this.setRotation(i)};let Zt=AE;var jr,dl,EN,CN;class SN extends Zt{constructor(t,r=null){super(t,{isRenderable:!0,ignoreBorder:!!(r!=null&&r.ignoreBorder),createQuadrilaterals:!0});H(this,jr);this.isTooltipOnly=t.data.isTooltipOnly}render(){const{data:t,linkService:r}=this,i=document.createElement("a");i.setAttribute("data-element-id",t.id);let s=!1;return t.url?(r.addLinkAttributes(i,t.url,t.newWindow),s=!0):t.action?(this._bindNamedAction(i,t.action),s=!0):t.attachment?(z(this,jr,EN).call(this,i,t.attachment,t.attachmentDest),s=!0):t.setOCGState?(z(this,jr,CN).call(this,i,t.setOCGState),s=!0):t.dest?(this._bindLink(i,t.dest),s=!0):(t.actions&&(t.actions.Action||t.actions["Mouse Up"]||t.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(i,t),s=!0),t.resetForm?(this._bindResetFormAction(i,t.resetForm),s=!0):this.isTooltipOnly&&!s&&(this._bindLink(i,""),s=!0)),this.container.classList.add("linkAnnotation"),s&&this.container.append(i),this.container}_bindLink(t,r){t.href=this.linkService.getDestinationHash(r),t.onclick=()=>(r&&this.linkService.goToDestination(r),!1),(r||r==="")&&z(this,jr,dl).call(this)}_bindNamedAction(t,r){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeNamedAction(r),!1),z(this,jr,dl).call(this)}_bindJSAction(t,r){t.href=this.linkService.getAnchorUrl("");const i=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const s of Object.keys(r.actions)){const a=i.get(s);a&&(t[a]=()=>{var l;return(l=this.linkService.eventBus)==null||l.dispatch("dispatcheventinsandbox",{source:this,detail:{id:r.id,name:s}}),!1})}t.onclick||(t.onclick=()=>!1),z(this,jr,dl).call(this)}_bindResetFormAction(t,r){const i=t.onclick;if(i||(t.href=this.linkService.getAnchorUrl("")),z(this,jr,dl).call(this),!this._fieldObjects){Ve('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),i||(t.onclick=()=>!1);return}t.onclick=()=>{var p;i==null||i();const{fields:s,refs:a,include:l}=r,u=[];if(s.length!==0||a.length!==0){const g=new Set(a);for(const y of s){const b=this._fieldObjects[y]||[];for(const{id:w}of b)g.add(w)}for(const y of Object.values(this._fieldObjects))for(const b of y)g.has(b.id)===l&&u.push(b)}else for(const g of Object.values(this._fieldObjects))u.push(...g);const d=this.annotationStorage,h=[];for(const g of u){const{id:y}=g;switch(h.push(y),g.type){case"text":{const w=g.defaultValue||"";d.setValue(y,{value:w});break}case"checkbox":case"radiobutton":{const w=g.defaultValue===g.exportValues;d.setValue(y,{value:w});break}case"combobox":case"listbox":{const w=g.defaultValue||"";d.setValue(y,{value:w});break}default:continue}const b=document.querySelector(`[data-element-id="${y}"]`);if(b){if(!wc.has(b)){Ve(`_bindResetFormAction - element not allowed: ${y}`);continue}}else continue;b.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((p=this.linkService.eventBus)==null||p.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:h,name:"ResetForm"}})),!1}}}jr=new WeakSet,dl=function(){this.container.setAttribute("data-internal-link","")},EN=function(t,r,i=null){t.href=this.linkService.getAnchorUrl(""),r.description&&(t.title=r.description),t.onclick=()=>{var s;return(s=this.downloadManager)==null||s.openOrDownloadData(r.content,r.filename,i),!1},z(this,jr,dl).call(this)},CN=function(t,r){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeSetOCGState(r),!1),z(this,jr,dl).call(this)};class e9 extends Zt{constructor(e){super(e,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const e=document.createElement("img");return e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),e.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(e),this.container}}class Rc extends Zt{render(){return this.container}showElementAndHideCanvas(e){var t;this.data.hasOwnCanvas&&(((t=e.previousSibling)==null?void 0:t.nodeName)==="CANVAS"&&(e.previousSibling.hidden=!0),e.hidden=!1)}_getKeyModifier(e){return br.platform.isMac?e.metaKey:e.ctrlKey}_setEventListener(e,t,r,i,s){r.includes("mouse")?e.addEventListener(r,a=>{var l;(l=this.linkService.eventBus)==null||l.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:i,value:s(a),shift:a.shiftKey,modifier:this._getKeyModifier(a)}})}):e.addEventListener(r,a=>{var l;if(r==="blur"){if(!t.focused||!a.relatedTarget)return;t.focused=!1}else if(r==="focus"){if(t.focused)return;t.focused=!0}s&&((l=this.linkService.eventBus)==null||l.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:i,value:s(a)}}))})}_setEventListeners(e,t,r,i){var s,a,l;for(const[u,d]of r)(d==="Action"||(s=this.data.actions)!=null&&s[d])&&((d==="Focus"||d==="Blur")&&(t||(t={focused:!1})),this._setEventListener(e,t,u,d,i),d==="Focus"&&!((a=this.data.actions)!=null&&a.Blur)?this._setEventListener(e,t,"blur","Blur",null):d==="Blur"&&!((l=this.data.actions)!=null&&l.Focus)&&this._setEventListener(e,t,"focus","Focus",null))}_setBackgroundColor(e){const t=this.data.backgroundColor||null;e.style.backgroundColor=t===null?"transparent":Me.makeHexColor(t[0],t[1],t[2])}_setTextStyle(e){const t=["left","center","right"],{fontColor:r}=this.data.defaultAppearanceData,i=this.data.defaultAppearanceData.fontSize||ZG,s=e.style;let a;const l=2,u=d=>Math.round(10*d)/10;if(this.data.multiLine){const d=Math.abs(this.data.rect[3]-this.data.rect[1]-l),h=Math.round(d/(hx*i))||1,p=d/h;a=Math.min(i,u(p/hx))}else{const d=Math.abs(this.data.rect[3]-this.data.rect[1]-l);a=Math.min(i,u(d/hx))}s.fontSize=`calc(${a}px * var(--scale-factor))`,s.color=Me.makeHexColor(r[0],r[1],r[2]),this.data.textAlignment!==null&&(s.textAlign=t[this.data.textAlignment])}_setRequired(e,t){t?e.setAttribute("required",!0):e.removeAttribute("required"),e.setAttribute("aria-required",t)}}class t9 extends Rc{constructor(e){const t=e.renderForms||e.data.hasOwnCanvas||!e.data.hasAppearance&&!!e.data.fieldValue;super(e,{isRenderable:t})}setPropertyOnSiblings(e,t,r,i){const s=this.annotationStorage;for(const a of this._getElementsByName(e.name,e.id))a.domElement&&(a.domElement[t]=r),s.setValue(a.id,{[i]:r})}render(){var i,s;const e=this.annotationStorage,t=this.data.id;this.container.classList.add("textWidgetAnnotation");let r=null;if(this.renderForms){const a=e.getValue(t,{value:this.data.fieldValue});let l=a.value||"";const u=e.getValue(t,{charLimit:this.data.maxLen}).charLimit;u&&l.length>u&&(l=l.slice(0,u));let d=a.formattedValue||((i=this.data.textContent)==null?void 0:i.join(`
`))||null;d&&this.data.comb&&(d=d.replaceAll(/\s+/g,""));const h={userValue:l,formattedValue:d,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(r=document.createElement("textarea"),r.textContent=d??l,this.data.doNotScroll&&(r.style.overflowY="hidden")):(r=document.createElement("input"),r.type="text",r.setAttribute("value",d??l),this.data.doNotScroll&&(r.style.overflowX="hidden")),this.data.hasOwnCanvas&&(r.hidden=!0),wc.add(r),r.setAttribute("data-element-id",t),r.disabled=this.data.readOnly,r.name=this.data.fieldName,r.tabIndex=Pg,this._setRequired(r,this.data.required),u&&(r.maxLength=u),r.addEventListener("input",g=>{e.setValue(t,{value:g.target.value}),this.setPropertyOnSiblings(r,"value",g.target.value,"value"),h.formattedValue=null}),r.addEventListener("resetform",g=>{const y=this.data.defaultFieldValue??"";r.value=h.userValue=y,h.formattedValue=null});let p=g=>{const{formattedValue:y}=h;y!=null&&(g.target.value=y),g.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){r.addEventListener("focus",y=>{var w;if(h.focused)return;const{target:b}=y;h.userValue&&(b.value=h.userValue),h.lastCommittedValue=b.value,h.commitKey=1,(w=this.data.actions)!=null&&w.Focus||(h.focused=!0)}),r.addEventListener("updatefromsandbox",y=>{this.showElementAndHideCanvas(y.target);const b={value(w){h.userValue=w.detail.value??"",e.setValue(t,{value:h.userValue.toString()}),w.target.value=h.userValue},formattedValue(w){const{formattedValue:C}=w.detail;h.formattedValue=C,C!=null&&w.target!==document.activeElement&&(w.target.value=C),e.setValue(t,{formattedValue:C})},selRange(w){w.target.setSelectionRange(...w.detail.selRange)},charLimit:w=>{var E;const{charLimit:C}=w.detail,{target:x}=w;if(C===0){x.removeAttribute("maxLength");return}x.setAttribute("maxLength",C);let A=h.userValue;!A||A.length<=C||(A=A.slice(0,C),x.value=h.userValue=A,e.setValue(t,{value:A}),(E=this.linkService.eventBus)==null||E.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:A,willCommit:!0,commitKey:1,selStart:x.selectionStart,selEnd:x.selectionEnd}}))}};this._dispatchEventFromSandbox(b,y)}),r.addEventListener("keydown",y=>{var C;h.commitKey=1;let b=-1;if(y.key==="Escape"?b=0:y.key==="Enter"&&!this.data.multiLine?b=2:y.key==="Tab"&&(h.commitKey=3),b===-1)return;const{value:w}=y.target;h.lastCommittedValue!==w&&(h.lastCommittedValue=w,h.userValue=w,(C=this.linkService.eventBus)==null||C.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:w,willCommit:!0,commitKey:b,selStart:y.target.selectionStart,selEnd:y.target.selectionEnd}}))});const g=p;p=null,r.addEventListener("blur",y=>{var w,C;if(!h.focused||!y.relatedTarget)return;(w=this.data.actions)!=null&&w.Blur||(h.focused=!1);const{value:b}=y.target;h.userValue=b,h.lastCommittedValue!==b&&((C=this.linkService.eventBus)==null||C.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:b,willCommit:!0,commitKey:h.commitKey,selStart:y.target.selectionStart,selEnd:y.target.selectionEnd}})),g(y)}),(s=this.data.actions)!=null&&s.Keystroke&&r.addEventListener("beforeinput",y=>{var k;h.lastCommittedValue=null;const{data:b,target:w}=y,{value:C,selectionStart:x,selectionEnd:A}=w;let E=x,_=A;switch(y.inputType){case"deleteWordBackward":{const M=C.substring(0,x).match(/\w*[^\w]*$/);M&&(E-=M[0].length);break}case"deleteWordForward":{const M=C.substring(x).match(/^[^\w]*\w*/);M&&(_+=M[0].length);break}case"deleteContentBackward":x===A&&(E-=1);break;case"deleteContentForward":x===A&&(_+=1);break}y.preventDefault(),(k=this.linkService.eventBus)==null||k.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:C,change:b||"",willCommit:!1,selStart:E,selEnd:_}})}),this._setEventListeners(r,h,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],y=>y.target.value)}if(p&&r.addEventListener("blur",p),this.data.comb){const y=(this.data.rect[2]-this.data.rect[0])/u;r.classList.add("comb"),r.style.letterSpacing=`calc(${y}px * var(--scale-factor) - 1ch)`}}else r=document.createElement("div"),r.textContent=this.data.fieldValue,r.style.verticalAlign="middle",r.style.display="table-cell",this.data.hasOwnCanvas&&(r.hidden=!0);return this._setTextStyle(r),this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}class n9 extends Rc{constructor(e){super(e,{isRenderable:!!e.data.hasOwnCanvas})}}class r9 extends Rc{constructor(e){super(e,{isRenderable:e.renderForms})}render(){const e=this.annotationStorage,t=this.data,r=t.id;let i=e.getValue(r,{value:t.exportValue===t.fieldValue}).value;typeof i=="string"&&(i=i!=="Off",e.setValue(r,{value:i})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const s=document.createElement("input");return wc.add(s),s.setAttribute("data-element-id",r),s.disabled=t.readOnly,this._setRequired(s,this.data.required),s.type="checkbox",s.name=t.fieldName,i&&s.setAttribute("checked",!0),s.setAttribute("exportValue",t.exportValue),s.tabIndex=Pg,s.addEventListener("change",a=>{const{name:l,checked:u}=a.target;for(const d of this._getElementsByName(l,r)){const h=u&&d.exportValue===t.exportValue;d.domElement&&(d.domElement.checked=h),e.setValue(d.id,{value:h})}e.setValue(r,{value:u})}),s.addEventListener("resetform",a=>{const l=t.defaultFieldValue||"Off";a.target.checked=l===t.exportValue}),this.enableScripting&&this.hasJSActions&&(s.addEventListener("updatefromsandbox",a=>{const l={value(u){u.target.checked=u.detail.value!=="Off",e.setValue(r,{value:u.target.checked})}};this._dispatchEventFromSandbox(l,a)}),this._setEventListeners(s,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],a=>a.target.checked)),this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class _N extends Rc{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const e=this.annotationStorage,t=this.data,r=t.id;let i=e.getValue(r,{value:t.fieldValue===t.buttonValue}).value;if(typeof i=="string"&&(i=i!==t.buttonValue,e.setValue(r,{value:i})),i)for(const a of this._getElementsByName(t.fieldName,r))e.setValue(a.id,{value:!1});const s=document.createElement("input");if(wc.add(s),s.setAttribute("data-element-id",r),s.disabled=t.readOnly,this._setRequired(s,this.data.required),s.type="radio",s.name=t.fieldName,i&&s.setAttribute("checked",!0),s.tabIndex=Pg,s.addEventListener("change",a=>{const{name:l,checked:u}=a.target;for(const d of this._getElementsByName(l,r))e.setValue(d.id,{value:!1});e.setValue(r,{value:u})}),s.addEventListener("resetform",a=>{const l=t.defaultFieldValue;a.target.checked=l!=null&&l===t.buttonValue}),this.enableScripting&&this.hasJSActions){const a=t.buttonValue;s.addEventListener("updatefromsandbox",l=>{const u={value:d=>{const h=a===d.detail.value;for(const p of this._getElementsByName(d.target.name)){const g=h&&p.id===r;p.domElement&&(p.domElement.checked=g),e.setValue(p.id,{value:g})}}};this._dispatchEventFromSandbox(u,l)}),this._setEventListeners(s,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],l=>l.target.checked)}return this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class i9 extends SN{constructor(e){super(e,{ignoreBorder:e.data.hasAppearance})}render(){const e=super.render();e.classList.add("buttonWidgetAnnotation","pushButton");const t=e.lastChild;return this.enableScripting&&this.hasJSActions&&t&&(this._setDefaultPropertiesFromJS(t),t.addEventListener("updatefromsandbox",r=>{this._dispatchEventFromSandbox({},r)})),e}}class s9 extends Rc{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const e=this.annotationStorage,t=this.data.id,r=e.getValue(t,{value:this.data.fieldValue}),i=document.createElement("select");wc.add(i),i.setAttribute("data-element-id",t),i.disabled=this.data.readOnly,this._setRequired(i,this.data.required),i.name=this.data.fieldName,i.tabIndex=Pg;let s=this.data.combo&&this.data.options.length>0;this.data.combo||(i.size=this.data.options.length,this.data.multiSelect&&(i.multiple=!0)),i.addEventListener("resetform",h=>{const p=this.data.defaultFieldValue;for(const g of i.options)g.selected=g.value===p});for(const h of this.data.options){const p=document.createElement("option");p.textContent=h.displayValue,p.value=h.exportValue,r.value.includes(h.exportValue)&&(p.setAttribute("selected",!0),s=!1),i.append(p)}let a=null;if(s){const h=document.createElement("option");h.value=" ",h.setAttribute("hidden",!0),h.setAttribute("selected",!0),i.prepend(h),a=()=>{h.remove(),i.removeEventListener("input",a),a=null},i.addEventListener("input",a)}const l=h=>{const p=h?"value":"textContent",{options:g,multiple:y}=i;return y?Array.prototype.filter.call(g,b=>b.selected).map(b=>b[p]):g.selectedIndex===-1?null:g[g.selectedIndex][p]};let u=l(!1);const d=h=>{const p=h.target.options;return Array.prototype.map.call(p,g=>({displayValue:g.textContent,exportValue:g.value}))};return this.enableScripting&&this.hasJSActions?(i.addEventListener("updatefromsandbox",h=>{const p={value(g){a==null||a();const y=g.detail.value,b=new Set(Array.isArray(y)?y:[y]);for(const w of i.options)w.selected=b.has(w.value);e.setValue(t,{value:l(!0)}),u=l(!1)},multipleSelection(g){i.multiple=!0},remove(g){const y=i.options,b=g.detail.remove;y[b].selected=!1,i.remove(b),y.length>0&&Array.prototype.findIndex.call(y,C=>C.selected)===-1&&(y[0].selected=!0),e.setValue(t,{value:l(!0),items:d(g)}),u=l(!1)},clear(g){for(;i.length!==0;)i.remove(0);e.setValue(t,{value:null,items:[]}),u=l(!1)},insert(g){const{index:y,displayValue:b,exportValue:w}=g.detail.insert,C=i.children[y],x=document.createElement("option");x.textContent=b,x.value=w,C?C.before(x):i.append(x),e.setValue(t,{value:l(!0),items:d(g)}),u=l(!1)},items(g){const{items:y}=g.detail;for(;i.length!==0;)i.remove(0);for(const b of y){const{displayValue:w,exportValue:C}=b,x=document.createElement("option");x.textContent=w,x.value=C,i.append(x)}i.options.length>0&&(i.options[0].selected=!0),e.setValue(t,{value:l(!0),items:d(g)}),u=l(!1)},indices(g){const y=new Set(g.detail.indices);for(const b of g.target.options)b.selected=y.has(b.index);e.setValue(t,{value:l(!0)}),u=l(!1)},editable(g){g.target.disabled=!g.detail.editable}};this._dispatchEventFromSandbox(p,h)}),i.addEventListener("input",h=>{var y;const p=l(!0),g=l(!1);e.setValue(t,{value:p}),h.preventDefault(),(y=this.linkService.eventBus)==null||y.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:u,change:g,changeEx:p,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(i,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],h=>h.target.value)):i.addEventListener("input",function(h){e.setValue(t,{value:l(!0)})}),this.data.combo&&this._setTextStyle(i),this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}class jS extends Zt{constructor(e){const{data:t,elements:r}=e;super(e,{isRenderable:Zt._hasPopupData(t)}),this.elements=r,this.popup=null}render(){this.container.classList.add("popupAnnotation");const e=this.popup=new o9({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),t=[];for(const r of this.elements)r.popup=e,t.push(r.data.id),r.addHighlightArea();return this.container.setAttribute("aria-controls",t.map(r=>`${AI}${r}`).join(",")),this.container}}var td,$0,B0,nd,Gl,Gt,no,Xl,Cp,_p,rd,ro,Ai,io,Ap,so,kp,Yl,ql,wt,zy,WS,AN,kN,RN,TN,$y,By,US;class o9{constructor({container:e,color:t,elements:r,titleObj:i,modificationDate:s,contentsObj:a,richText:l,parent:u,rect:d,parentRect:h,open:p}){H(this,wt);H(this,td,z(this,wt,RN).bind(this));H(this,$0,z(this,wt,US).bind(this));H(this,B0,z(this,wt,By).bind(this));H(this,nd,z(this,wt,$y).bind(this));H(this,Gl,null);H(this,Gt,null);H(this,no,null);H(this,Xl,null);H(this,Cp,null);H(this,_p,null);H(this,rd,null);H(this,ro,!1);H(this,Ai,null);H(this,io,null);H(this,Ap,null);H(this,so,null);H(this,kp,null);H(this,Yl,null);H(this,ql,!1);var g;F(this,Gt,e),F(this,kp,i),F(this,no,a),F(this,so,l),F(this,_p,u),F(this,Gl,t),F(this,Ap,d),F(this,rd,h),F(this,Cp,r),F(this,Xl,MI.toDateObject(s)),this.trigger=r.flatMap(y=>y.getElementsToTriggerPopup());for(const y of this.trigger)y.addEventListener("click",m(this,nd)),y.addEventListener("mouseenter",m(this,B0)),y.addEventListener("mouseleave",m(this,$0)),y.classList.add("popupTriggerArea");for(const y of r)(g=y.container)==null||g.addEventListener("keydown",m(this,td));m(this,Gt).hidden=!0,p&&z(this,wt,$y).call(this)}render(){if(m(this,Ai))return;const e=F(this,Ai,document.createElement("div"));if(e.className="popup",m(this,Gl)){const s=e.style.outlineColor=Me.makeHexColor(...m(this,Gl));CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?e.style.backgroundColor=`color-mix(in srgb, ${s} 30%, white)`:e.style.backgroundColor=Me.makeHexColor(...m(this,Gl).map(l=>Math.floor(.7*(255-l)+l)))}const t=document.createElement("span");t.className="header";const r=document.createElement("h1");if(t.append(r),{dir:r.dir,str:r.textContent}=m(this,kp),e.append(t),m(this,Xl)){const s=document.createElement("span");s.classList.add("popupDate"),s.setAttribute("data-l10n-id","pdfjs-annotation-date-string"),s.setAttribute("data-l10n-args",JSON.stringify({date:m(this,Xl).toLocaleDateString(),time:m(this,Xl).toLocaleTimeString()})),t.append(s)}const i=m(this,wt,zy);if(i)xN.render({xfaHtml:i,intent:"richText",div:e}),e.lastChild.classList.add("richText","popupContent");else{const s=this._formatContents(m(this,no));e.append(s)}m(this,Gt).append(e)}_formatContents({str:e,dir:t}){const r=document.createElement("p");r.classList.add("popupContent"),r.dir=t;const i=e.split(/(?:\r\n?|\n)/);for(let s=0,a=i.length;s<a;++s){const l=i[s];r.append(document.createTextNode(l)),s<a-1&&r.append(document.createElement("br"))}return r}updateEdited({rect:e,popupContent:t}){var r;m(this,Yl)||F(this,Yl,{contentsObj:m(this,no),richText:m(this,so)}),e&&F(this,io,null),t&&(F(this,so,z(this,wt,kN).call(this,t)),F(this,no,null)),(r=m(this,Ai))==null||r.remove(),F(this,Ai,null)}resetEdited(){var e;m(this,Yl)&&({contentsObj:Mr(this,no)._,richText:Mr(this,so)._}=m(this,Yl),F(this,Yl,null),(e=m(this,Ai))==null||e.remove(),F(this,Ai,null),F(this,io,null))}forceHide(){F(this,ql,this.isVisible),m(this,ql)&&(m(this,Gt).hidden=!0)}maybeShow(){m(this,ql)&&(m(this,Ai)||z(this,wt,By).call(this),F(this,ql,!1),m(this,Gt).hidden=!1)}get isVisible(){return m(this,Gt).hidden===!1}}td=new WeakMap,$0=new WeakMap,B0=new WeakMap,nd=new WeakMap,Gl=new WeakMap,Gt=new WeakMap,no=new WeakMap,Xl=new WeakMap,Cp=new WeakMap,_p=new WeakMap,rd=new WeakMap,ro=new WeakMap,Ai=new WeakMap,io=new WeakMap,Ap=new WeakMap,so=new WeakMap,kp=new WeakMap,Yl=new WeakMap,ql=new WeakMap,wt=new WeakSet,zy=function(){const e=m(this,so),t=m(this,no);return e!=null&&e.str&&(!(t!=null&&t.str)||t.str===e.str)&&m(this,so).html||null},WS=function(){var e,t,r;return((r=(t=(e=m(this,wt,zy))==null?void 0:e.attributes)==null?void 0:t.style)==null?void 0:r.fontSize)||0},AN=function(){var e,t,r;return((r=(t=(e=m(this,wt,zy))==null?void 0:e.attributes)==null?void 0:t.style)==null?void 0:r.color)||null},kN=function(e){const t=[],r={str:e,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:t}]}},i={style:{color:m(this,wt,AN),fontSize:m(this,wt,WS)?`calc(${m(this,wt,WS)}px * var(--scale-factor))`:""}};for(const s of e.split(`
`))t.push({name:"span",value:s,attributes:i});return r},RN=function(e){e.altKey||e.shiftKey||e.ctrlKey||e.metaKey||(e.key==="Enter"||e.key==="Escape"&&m(this,ro))&&z(this,wt,$y).call(this)},TN=function(){if(m(this,io)!==null)return;const{page:{view:e},viewport:{rawDims:{pageWidth:t,pageHeight:r,pageX:i,pageY:s}}}=m(this,_p);let a=!!m(this,rd),l=a?m(this,rd):m(this,Ap);for(const b of m(this,Cp))if(!l||Me.intersect(b.data.rect,l)!==null){l=b.data.rect,a=!0;break}const u=Me.normalizeRect([l[0],e[3]-l[1]+e[1],l[2],e[3]-l[3]+e[1]]),h=a?l[2]-l[0]+5:0,p=u[0]+h,g=u[1];F(this,io,[100*(p-i)/t,100*(g-s)/r]);const{style:y}=m(this,Gt);y.left=`${m(this,io)[0]}%`,y.top=`${m(this,io)[1]}%`},$y=function(){F(this,ro,!m(this,ro)),m(this,ro)?(z(this,wt,By).call(this),m(this,Gt).addEventListener("click",m(this,nd)),m(this,Gt).addEventListener("keydown",m(this,td))):(z(this,wt,US).call(this),m(this,Gt).removeEventListener("click",m(this,nd)),m(this,Gt).removeEventListener("keydown",m(this,td)))},By=function(){m(this,Ai)||this.render(),this.isVisible?m(this,ro)&&m(this,Gt).classList.add("focused"):(z(this,wt,TN).call(this),m(this,Gt).hidden=!1,m(this,Gt).style.zIndex=parseInt(m(this,Gt).style.zIndex)+1e3)},US=function(){m(this,Gt).classList.remove("focused"),!(m(this,ro)||!this.isVisible)&&(m(this,Gt).hidden=!0,m(this,Gt).style.zIndex=parseInt(m(this,Gt).style.zIndex)-1e3)};class PN extends Zt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.textContent=e.data.textContent,this.textPosition=e.data.textPosition,this.annotationEditorType=Ke.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const e=document.createElement("div");e.classList.add("annotationTextContent"),e.setAttribute("role","comment");for(const t of this.textContent){const r=document.createElement("span");r.textContent=t,e.append(r)}this.container.append(e)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}get _isEditable(){return this.data.hasOwnCanvas}}var Rp;class a9 extends Zt{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});H(this,Rp,null)}render(){this.container.classList.add("lineAnnotation");const t=this.data,{width:r,height:i}=bo(t.rect),s=this.svgFactory.create(r,i,!0),a=F(this,Rp,this.svgFactory.createElement("svg:line"));return a.setAttribute("x1",t.rect[2]-t.lineCoordinates[0]),a.setAttribute("y1",t.rect[3]-t.lineCoordinates[1]),a.setAttribute("x2",t.rect[2]-t.lineCoordinates[2]),a.setAttribute("y2",t.rect[3]-t.lineCoordinates[3]),a.setAttribute("stroke-width",t.borderStyle.width||1),a.setAttribute("stroke","transparent"),a.setAttribute("fill","transparent"),s.append(a),this.container.append(s),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return m(this,Rp)}addHighlightArea(){this.container.classList.add("highlightArea")}}Rp=new WeakMap;var Tp;class l9 extends Zt{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});H(this,Tp,null)}render(){this.container.classList.add("squareAnnotation");const t=this.data,{width:r,height:i}=bo(t.rect),s=this.svgFactory.create(r,i,!0),a=t.borderStyle.width,l=F(this,Tp,this.svgFactory.createElement("svg:rect"));return l.setAttribute("x",a/2),l.setAttribute("y",a/2),l.setAttribute("width",r-a),l.setAttribute("height",i-a),l.setAttribute("stroke-width",a||1),l.setAttribute("stroke","transparent"),l.setAttribute("fill","transparent"),s.append(l),this.container.append(s),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return m(this,Tp)}addHighlightArea(){this.container.classList.add("highlightArea")}}Tp=new WeakMap;var Pp;class c9 extends Zt{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});H(this,Pp,null)}render(){this.container.classList.add("circleAnnotation");const t=this.data,{width:r,height:i}=bo(t.rect),s=this.svgFactory.create(r,i,!0),a=t.borderStyle.width,l=F(this,Pp,this.svgFactory.createElement("svg:ellipse"));return l.setAttribute("cx",r/2),l.setAttribute("cy",i/2),l.setAttribute("rx",r/2-a/2),l.setAttribute("ry",i/2-a/2),l.setAttribute("stroke-width",a||1),l.setAttribute("stroke","transparent"),l.setAttribute("fill","transparent"),s.append(l),this.container.append(s),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return m(this,Pp)}addHighlightArea(){this.container.classList.add("highlightArea")}}Pp=new WeakMap;var Mp;class MN extends Zt{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});H(this,Mp,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,vertices:r,borderStyle:i,popupRef:s}}=this;if(!r)return this.container;const{width:a,height:l}=bo(t),u=this.svgFactory.create(a,l,!0);let d=[];for(let p=0,g=r.length;p<g;p+=2){const y=r[p]-t[0],b=t[3]-r[p+1];d.push(`${y},${b}`)}d=d.join(" ");const h=F(this,Mp,this.svgFactory.createElement(this.svgElementName));return h.setAttribute("points",d),h.setAttribute("stroke-width",i.width||1),h.setAttribute("stroke","transparent"),h.setAttribute("fill","transparent"),u.append(h),this.container.append(u),!s&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return m(this,Mp)}addHighlightArea(){this.container.classList.add("highlightArea")}}Mp=new WeakMap;class u9 extends MN{constructor(e){super(e),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class d9 extends Zt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var Ip;class IN extends Zt{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});H(this,Ip,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=Ke.INK}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,inkLists:r,borderStyle:i,popupRef:s}}=this,{width:a,height:l}=bo(t),u=this.svgFactory.create(a,l,!0);for(const d of r){let h=[];for(let g=0,y=d.length;g<y;g+=2){const b=d[g]-t[0],w=t[3]-d[g+1];h.push(`${b},${w}`)}h=h.join(" ");const p=this.svgFactory.createElement(this.svgElementName);m(this,Ip).push(p),p.setAttribute("points",h),p.setAttribute("stroke-width",i.width||1),p.setAttribute("stroke","transparent"),p.setAttribute("fill","transparent"),!s&&this.hasPopupData&&this._createPopup(),u.append(p)}return this.container.append(u),this.container}getElementsToTriggerPopup(){return m(this,Ip)}addHighlightArea(){this.container.classList.add("highlightArea")}}Ip=new WeakMap;class h9 extends Zt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this.container}}class f9 extends Zt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class p9 extends Zt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class g9 extends Zt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class NN extends Zt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("stampAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var Np,Lp,VS;class m9 extends Zt{constructor(t){var i;super(t,{isRenderable:!0});H(this,Lp);H(this,Np,null);const{file:r}=this.data;this.filename=r.filename,this.content=r.content,(i=this.linkService.eventBus)==null||i.dispatch("fileattachmentannotation",{source:this,...r})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:t,data:r}=this;let i;r.hasAppearance||r.fillAlpha===0?i=document.createElement("div"):(i=document.createElement("img"),i.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(r.name)?"paperclip":"pushpin"}.svg`,r.fillAlpha&&r.fillAlpha<1&&(i.style=`filter: opacity(${Math.round(r.fillAlpha*100)}%);`)),i.addEventListener("dblclick",z(this,Lp,VS).bind(this)),F(this,Np,i);const{isMac:s}=br.platform;return t.addEventListener("keydown",a=>{a.key==="Enter"&&(s?a.metaKey:a.ctrlKey)&&z(this,Lp,VS).call(this)}),!r.popupRef&&this.hasPopupData?this._createPopup():i.classList.add("popupTriggerArea"),t.append(i),t}getElementsToTriggerPopup(){return m(this,Np)}addHighlightArea(){this.container.classList.add("highlightArea")}}Np=new WeakMap,Lp=new WeakSet,VS=function(){var t;(t=this.downloadManager)==null||t.openOrDownloadData(this.content,this.filename)};var Dp,Kl,id,Sc,LN,GS;class y9{constructor({div:e,accessibilityManager:t,annotationCanvasMap:r,annotationEditorUIManager:i,page:s,viewport:a}){H(this,Sc);H(this,Dp,null);H(this,Kl,null);H(this,id,new Map);this.div=e,F(this,Dp,t),F(this,Kl,r),this.page=s,this.viewport=a,this.zIndex=0,this._annotationEditorUIManager=i}async render(e){var a;const{annotations:t}=e,r=this.div;vc(r,this.viewport);const i=new Map,s={data:null,layer:r,linkService:e.linkService,downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||"",renderForms:e.renderForms!==!1,svgFactory:new pE,annotationStorage:e.annotationStorage||new bE,enableScripting:e.enableScripting===!0,hasJSActions:e.hasJSActions,fieldObjects:e.fieldObjects,parent:this,elements:null};for(const l of t){if(l.noHTML)continue;const u=l.annotationType===un.POPUP;if(u){const p=i.get(l.id);if(!p)continue;s.elements=p}else{const{width:p,height:g}=bo(l.rect);if(p<=0||g<=0)continue}s.data=l;const d=JG.create(s);if(!d.isRenderable)continue;if(!u&&l.popupRef){const p=i.get(l.popupRef);p?p.push(d):i.set(l.popupRef,[d])}const h=d.render();l.hidden&&(h.style.visibility="hidden"),z(this,Sc,LN).call(this,h,l.id),d.annotationEditorType>0&&(m(this,id).set(d.data.id,d),(a=this._annotationEditorUIManager)==null||a.renderAnnotationElement(d))}z(this,Sc,GS).call(this)}update({viewport:e}){const t=this.div;this.viewport=e,vc(t,{rotation:e.rotation}),z(this,Sc,GS).call(this),t.hidden=!1}getEditableAnnotations(){return Array.from(m(this,id).values())}getEditableAnnotation(e){return m(this,id).get(e)}}Dp=new WeakMap,Kl=new WeakMap,id=new WeakMap,Sc=new WeakSet,LN=function(e,t){var i;const r=e.firstChild||e;r.id=`${AI}${t}`,this.div.append(e),(i=m(this,Dp))==null||i.moveElementInDOM(this.div,e,r,!1)},GS=function(){if(!m(this,Kl))return;const e=this.div;for(const[t,r]of m(this,Kl)){const i=e.querySelector(`[data-annotation-id="${t}"]`);if(!i)continue;r.className="annotationContent";const{firstChild:s}=i;s?s.nodeName==="CANVAS"?s.replaceWith(r):s.classList.contains("annotationContent")?s.after(r):s.before(r):i.append(r)}m(this,Kl).clear()};const vy=/\r\n?|\n/g;var Op,Fp,zp,$p,Bp,ki,Fr,Hp,zr,sd,on,DN,ON,FN,Hy,xo,jy,Wy,zN,YS,$N;const Rt=class Rt extends gt{constructor(t){super({...t,name:"freeTextEditor"});H(this,on);H(this,Op,this.editorDivBlur.bind(this));H(this,Fp,this.editorDivFocus.bind(this));H(this,zp,this.editorDivInput.bind(this));H(this,$p,this.editorDivKeydown.bind(this));H(this,Bp,this.editorDivPaste.bind(this));H(this,ki);H(this,Fr,"");H(this,Hp,`${this.id}-editor`);H(this,zr);H(this,sd,null);F(this,ki,t.color||Rt._defaultColor||gt._defaultLineColor),F(this,zr,t.fontSize||Rt._defaultFontSize)}static get _keyboardManager(){const t=Rt.prototype,r=a=>a.isEmpty(),i=bc.TRANSLATE_SMALL,s=bc.TRANSLATE_BIG;return Je(this,"_keyboardManager",new Rg([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],t.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],t.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],t._translateEmpty,{args:[-i,0],checker:r}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t._translateEmpty,{args:[-s,0],checker:r}],[["ArrowRight","mac+ArrowRight"],t._translateEmpty,{args:[i,0],checker:r}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t._translateEmpty,{args:[s,0],checker:r}],[["ArrowUp","mac+ArrowUp"],t._translateEmpty,{args:[0,-i],checker:r}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t._translateEmpty,{args:[0,-s],checker:r}],[["ArrowDown","mac+ArrowDown"],t._translateEmpty,{args:[0,i],checker:r}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t._translateEmpty,{args:[0,s],checker:r}]]))}static initialize(t,r){gt.initialize(t,r,{strings:["pdfjs-free-text-default-content"]});const i=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(i.getPropertyValue("--freetext-padding"))}static updateDefaultParams(t,r){switch(t){case We.FREETEXT_SIZE:Rt._defaultFontSize=r;break;case We.FREETEXT_COLOR:Rt._defaultColor=r;break}}updateParams(t,r){switch(t){case We.FREETEXT_SIZE:z(this,on,DN).call(this,r);break;case We.FREETEXT_COLOR:z(this,on,ON).call(this,r);break}}static get defaultPropertiesToUpdate(){return[[We.FREETEXT_SIZE,Rt._defaultFontSize],[We.FREETEXT_COLOR,Rt._defaultColor||gt._defaultLineColor]]}get propertiesToUpdate(){return[[We.FREETEXT_SIZE,m(this,zr)],[We.FREETEXT_COLOR,m(this,ki)]]}_translateEmpty(t,r){this._uiManager.translateSelectedEditors(t,r,!0)}getInitialTranslation(){const t=this.parentScale;return[-Rt._internalPadding*t,-(Rt._internalPadding+m(this,zr))*t]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(this.isInEditMode())return;this.parent.setEditingState(!1),this.parent.updateToolbar(Ke.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant");const t=this._uiManager._signal;this.editorDiv.addEventListener("keydown",m(this,$p),{signal:t}),this.editorDiv.addEventListener("focus",m(this,Fp),{signal:t}),this.editorDiv.addEventListener("blur",m(this,Op),{signal:t}),this.editorDiv.addEventListener("input",m(this,zp),{signal:t}),this.editorDiv.addEventListener("paste",m(this,Bp),{signal:t})}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",m(this,Hp)),this._isDraggable=!0,this.editorDiv.removeEventListener("keydown",m(this,$p)),this.editorDiv.removeEventListener("focus",m(this,Fp)),this.editorDiv.removeEventListener("blur",m(this,Op)),this.editorDiv.removeEventListener("input",m(this,zp)),this.editorDiv.removeEventListener("paste",m(this,Bp)),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"))}focusin(t){this._focusEventsAllowed&&(super.focusin(t),t.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){var t;this.width||(this.enableEditMode(),this.editorDiv.focus(),(t=this._initialOptions)!=null&&t.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const t=m(this,Fr),r=F(this,Fr,z(this,on,FN).call(this).trimEnd());if(t===r)return;const i=s=>{if(F(this,Fr,s),!s){this.remove();return}z(this,on,Wy).call(this),this._uiManager.rebuild(this),z(this,on,Hy).call(this)};this.addCommands({cmd:()=>{i(r)},undo:()=>{i(t)},mustExec:!1}),z(this,on,Hy).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(t){this.enterInEditMode()}keydown(t){t.target===this.div&&t.key==="Enter"&&(this.enterInEditMode(),t.preventDefault())}editorDivKeydown(t){Rt._keyboardManager.exec(this,t)}editorDivFocus(t){this.isEditing=!0}editorDivBlur(t){this.isEditing=!1}editorDivInput(t){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let t,r;this.width&&(t=this.x,r=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",m(this,Hp)),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text"),this.enableEditing(),gt._l10nPromise.get("pdfjs-free-text-default-content").then(s=>{var a;return(a=this.editorDiv)==null?void 0:a.setAttribute("default-content",s)}),this.editorDiv.contentEditable=!0;const{style:i}=this.editorDiv;if(i.fontSize=`calc(${m(this,zr)}px * var(--scale-factor))`,i.color=m(this,ki),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),b0(this,this.div,["dblclick","keydown"]),this.width){const[s,a]=this.parentDimensions;if(this.annotationElementId){const{position:l}=m(this,sd);let[u,d]=this.getInitialTranslation();[u,d]=this.pageTranslationToScreen(u,d);const[h,p]=this.pageDimensions,[g,y]=this.pageTranslation;let b,w;switch(this.rotation){case 0:b=t+(l[0]-g)/h,w=r+this.height-(l[1]-y)/p;break;case 90:b=t+(l[0]-g)/h,w=r-(l[1]-y)/p,[u,d]=[d,-u];break;case 180:b=t-this.width+(l[0]-g)/h,w=r-(l[1]-y)/p,[u,d]=[-u,-d];break;case 270:b=t+(l[0]-g-this.height*p)/h,w=r+(l[1]-y-this.width*h)/p,[u,d]=[-d,u];break}this.setAt(b*s,w*a,u,d)}else this.setAt(t*s,r*a,this.width*s,this.height*a);z(this,on,Wy).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}editorDivPaste(t){var b,w,C;const r=t.clipboardData||window.clipboardData,{types:i}=r;if(i.length===1&&i[0]==="text/plain")return;t.preventDefault();const s=z(b=Rt,xo,YS).call(b,r.getData("text")||"").replaceAll(vy,`
`);if(!s)return;const a=window.getSelection();if(!a.rangeCount)return;this.editorDiv.normalize(),a.deleteFromDocument();const l=a.getRangeAt(0);if(!s.includes(`
`)){l.insertNode(document.createTextNode(s)),this.editorDiv.normalize(),a.collapseToStart();return}const{startContainer:u,startOffset:d}=l,h=[],p=[];if(u.nodeType===Node.TEXT_NODE){const x=u.parentElement;if(p.push(u.nodeValue.slice(d).replaceAll(vy,"")),x!==this.editorDiv){let A=h;for(const E of this.editorDiv.childNodes){if(E===x){A=p;continue}A.push(z(w=Rt,xo,jy).call(w,E))}}h.push(u.nodeValue.slice(0,d).replaceAll(vy,""))}else if(u===this.editorDiv){let x=h,A=0;for(const E of this.editorDiv.childNodes)A++===d&&(x=p),x.push(z(C=Rt,xo,jy).call(C,E))}F(this,Fr,`${h.join(`
`)}${s}${p.join(`
`)}`),z(this,on,Wy).call(this);const g=new Range;let y=h.reduce((x,A)=>x+A.length,0);for(const{firstChild:x}of this.editorDiv.childNodes)if(x.nodeType===Node.TEXT_NODE){const A=x.nodeValue.length;if(y<=A){g.setStart(x,y),g.setEnd(x,y);break}y-=A}a.removeAllRanges(),a.addRange(g)}get contentDiv(){return this.editorDiv}static deserialize(t,r,i){var l;let s=null;if(t instanceof PN){const{data:{defaultAppearanceData:{fontSize:u,fontColor:d},rect:h,rotation:p,id:g},textContent:y,textPosition:b,parent:{page:{pageNumber:w}}}=t;if(!y||y.length===0)return null;s=t={annotationType:Ke.FREETEXT,color:Array.from(d),fontSize:u,value:y.join(`
`),position:b,pageIndex:w-1,rect:h.slice(0),rotation:p,id:g,deleted:!1}}const a=super.deserialize(t,r,i);return F(a,zr,t.fontSize),F(a,ki,Me.makeHexColor(...t.color)),F(a,Fr,z(l=Rt,xo,YS).call(l,t.value)),a.annotationElementId=t.id||null,F(a,sd,s),a}serialize(t=!1){if(this.isEmpty())return null;if(this.deleted)return{pageIndex:this.pageIndex,id:this.annotationElementId,deleted:!0};const r=Rt._internalPadding*this.parentScale,i=this.getRect(r,r),s=gt._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:m(this,ki)),a={annotationType:Ke.FREETEXT,color:s,fontSize:m(this,zr),value:z(this,on,zN).call(this),pageIndex:this.pageIndex,rect:i,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return t?a:this.annotationElementId&&!z(this,on,$N).call(this,a)?null:(a.id=this.annotationElementId,a)}renderAnnotationElement(t){const r=super.renderAnnotationElement(t);if(this.deleted)return r;const{style:i}=r;i.fontSize=`calc(${m(this,zr)}px * var(--scale-factor))`,i.color=m(this,ki),r.replaceChildren();for(const a of m(this,Fr).split(`
`)){const l=document.createElement("div");l.append(a?document.createTextNode(a):document.createElement("br")),r.append(l)}const s=Rt._internalPadding*this.parentScale;return t.updateEdited({rect:this.getRect(s,s),popupContent:m(this,Fr)}),r}resetAnnotationElement(t){super.resetAnnotationElement(t),t.resetEdited()}};Op=new WeakMap,Fp=new WeakMap,zp=new WeakMap,$p=new WeakMap,Bp=new WeakMap,ki=new WeakMap,Fr=new WeakMap,Hp=new WeakMap,zr=new WeakMap,sd=new WeakMap,on=new WeakSet,DN=function(t){const r=s=>{this.editorDiv.style.fontSize=`calc(${s}px * var(--scale-factor))`,this.translate(0,-(s-m(this,zr))*this.parentScale),F(this,zr,s),z(this,on,Hy).call(this)},i=m(this,zr);this.addCommands({cmd:r.bind(this,t),undo:r.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:We.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},ON=function(t){const r=s=>{F(this,ki,this.editorDiv.style.color=s)},i=m(this,ki);this.addCommands({cmd:r.bind(this,t),undo:r.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:We.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},FN=function(){var r;const t=[];this.editorDiv.normalize();for(const i of this.editorDiv.childNodes)t.push(z(r=Rt,xo,jy).call(r,i));return t.join(`
`)},Hy=function(){const[t,r]=this.parentDimensions;let i;if(this.isAttachedToDOM)i=this.div.getBoundingClientRect();else{const{currentLayer:s,div:a}=this,l=a.style.display,u=a.classList.contains("hidden");a.classList.remove("hidden"),a.style.display="hidden",s.div.append(this.div),i=a.getBoundingClientRect(),a.remove(),a.style.display=l,a.classList.toggle("hidden",u)}this.rotation%180===this.parentRotation%180?(this.width=i.width/t,this.height=i.height/r):(this.width=i.height/t,this.height=i.width/r),this.fixAndSetPosition()},xo=new WeakSet,jy=function(t){return(t.nodeType===Node.TEXT_NODE?t.nodeValue:t.innerText).replaceAll(vy,"")},Wy=function(){if(this.editorDiv.replaceChildren(),!!m(this,Fr))for(const t of m(this,Fr).split(`
`)){const r=document.createElement("div");r.append(t?document.createTextNode(t):document.createElement("br")),this.editorDiv.append(r)}},zN=function(){return m(this,Fr).replaceAll(" "," ")},YS=function(t){return t.replaceAll(" "," ")},$N=function(t){const{value:r,fontSize:i,color:s,pageIndex:a}=m(this,sd);return this._hasBeenMoved||t.value!==r||t.fontSize!==i||t.color.some((l,u)=>l!==s[u])||t.pageIndex!==a},H(Rt,xo),Be(Rt,"_freeTextDefaultContent",""),Be(Rt,"_internalPadding",0),Be(Rt,"_defaultColor",null),Be(Rt,"_defaultFontSize",10),Be(Rt,"_type","freetext"),Be(Rt,"_editorType",Ke.FREETEXT);let XS=Rt;var jp,Ea,Ri,ir,BN,Uy,HN,jN,KS;class qS{constructor(e,t=0,r=0,i=!0){H(this,ir);H(this,jp);H(this,Ea,[]);H(this,Ri,[]);let s=1/0,a=-1/0,l=1/0,u=-1/0;const d=10**-4;for(const{x:C,y:x,width:A,height:E}of e){const _=Math.floor((C-t)/d)*d,k=Math.ceil((C+A+t)/d)*d,M=Math.floor((x-t)/d)*d,T=Math.ceil((x+E+t)/d)*d,N=[_,M,T,!0],W=[k,M,T,!1];m(this,Ea).push(N,W),s=Math.min(s,_),a=Math.max(a,k),l=Math.min(l,M),u=Math.max(u,T)}const h=a-s+2*r,p=u-l+2*r,g=s-r,y=l-r,b=m(this,Ea).at(i?-1:-2),w=[b[0],b[2]];for(const C of m(this,Ea)){const[x,A,E]=C;C[0]=(x-g)/h,C[1]=(A-y)/p,C[2]=(E-y)/p}F(this,jp,{x:g,y,width:h,height:p,lastPoint:w})}getOutlines(){m(this,Ea).sort((t,r)=>t[0]-r[0]||t[1]-r[1]||t[2]-r[2]);const e=[];for(const t of m(this,Ea))t[3]?(e.push(...z(this,ir,KS).call(this,t)),z(this,ir,HN).call(this,t)):(z(this,ir,jN).call(this,t),e.push(...z(this,ir,KS).call(this,t)));return z(this,ir,BN).call(this,e)}}jp=new WeakMap,Ea=new WeakMap,Ri=new WeakMap,ir=new WeakSet,BN=function(e){const t=[],r=new Set;for(const a of e){const[l,u,d]=a;t.push([l,u,a],[l,d,a])}t.sort((a,l)=>a[1]-l[1]||a[0]-l[0]);for(let a=0,l=t.length;a<l;a+=2){const u=t[a][2],d=t[a+1][2];u.push(d),d.push(u),r.add(u),r.add(d)}const i=[];let s;for(;r.size>0;){const a=r.values().next().value;let[l,u,d,h,p]=a;r.delete(a);let g=l,y=u;for(s=[l,d],i.push(s);;){let b;if(r.has(h))b=h;else if(r.has(p))b=p;else break;r.delete(b),[l,u,d,h,p]=b,g!==l&&(s.push(g,y,l,y===u?u:d),g=l),y=y===u?d:u}s.push(g,y)}return new v9(i,m(this,jp))},Uy=function(e){const t=m(this,Ri);let r=0,i=t.length-1;for(;r<=i;){const s=r+i>>1,a=t[s][0];if(a===e)return s;a<e?r=s+1:i=s-1}return i+1},HN=function([,e,t]){const r=z(this,ir,Uy).call(this,e);m(this,Ri).splice(r,0,[e,t])},jN=function([,e,t]){const r=z(this,ir,Uy).call(this,e);for(let i=r;i<m(this,Ri).length;i++){const[s,a]=m(this,Ri)[i];if(s!==e)break;if(s===e&&a===t){m(this,Ri).splice(i,1);return}}for(let i=r-1;i>=0;i--){const[s,a]=m(this,Ri)[i];if(s!==e)break;if(s===e&&a===t){m(this,Ri).splice(i,1);return}}},KS=function(e){const[t,r,i]=e,s=[[t,r,i]],a=z(this,ir,Uy).call(this,i);for(let l=0;l<a;l++){const[u,d]=m(this,Ri)[l];for(let h=0,p=s.length;h<p;h++){const[,g,y]=s[h];if(!(d<=g||y<=u)){if(g>=u){if(y>d)s[h][1]=d;else{if(p===1)return[];s.splice(h,1),h--,p--}continue}s[h][2]=u,y>d&&s.push([t,d,y])}}}return s};class WN{toSVGPath(){throw new Error("Abstract method `toSVGPath` must be implemented.")}get box(){throw new Error("Abstract getter `box` must be implemented.")}serialize(e,t){throw new Error("Abstract method `serialize` must be implemented.")}get free(){return this instanceof ZS}}var Wp,od;class v9 extends WN{constructor(t,r){super();H(this,Wp);H(this,od);F(this,od,t),F(this,Wp,r)}toSVGPath(){const t=[];for(const r of m(this,od)){let[i,s]=r;t.push(`M${i} ${s}`);for(let a=2;a<r.length;a+=2){const l=r[a],u=r[a+1];l===i?(t.push(`V${u}`),s=u):u===s&&(t.push(`H${l}`),i=l)}t.push("Z")}return t.join(" ")}serialize([t,r,i,s],a){const l=[],u=i-t,d=s-r;for(const h of m(this,od)){const p=new Array(h.length);for(let g=0;g<h.length;g+=2)p[g]=t+h[g]*u,p[g+1]=s-h[g+1]*d;l.push(p)}return l}get box(){return m(this,Wp)}}Wp=new WeakMap,od=new WeakMap;var os,oo,ad,ld,as,qe,Ql,Zl,Up,Vp,cd,ud,Ca,Gp,H0,j0,Xp,QS;const js=class js{constructor({x:e,y:t},r,i,s,a,l=0){H(this,Xp);H(this,os);H(this,oo,[]);H(this,ad);H(this,ld);H(this,as,[]);H(this,qe,new Float64Array(18));H(this,Ql);H(this,Zl);H(this,Up);H(this,Vp);H(this,cd);H(this,ud);H(this,Ca,[]);F(this,os,r),F(this,ud,s*i),F(this,ld,a),m(this,qe).set([NaN,NaN,NaN,NaN,e,t],6),F(this,ad,l),F(this,Vp,m(js,Gp)*i),F(this,Up,m(js,j0)*i),F(this,cd,i),m(this,Ca).push(e,t)}get free(){return!0}isEmpty(){return isNaN(m(this,qe)[8])}add({x:e,y:t}){var W;F(this,Ql,e),F(this,Zl,t);const[r,i,s,a]=m(this,os);let[l,u,d,h]=m(this,qe).subarray(8,12);const p=e-d,g=t-h,y=Math.hypot(p,g);if(y<m(this,Up))return!1;const b=y-m(this,Vp),w=b/y,C=w*p,x=w*g;let A=l,E=u;l=d,u=h,d+=C,h+=x,(W=m(this,Ca))==null||W.push(e,t);const _=-x/b,k=C/b,M=_*m(this,ud),T=k*m(this,ud);return m(this,qe).set(m(this,qe).subarray(2,8),0),m(this,qe).set([d+M,h+T],4),m(this,qe).set(m(this,qe).subarray(14,18),12),m(this,qe).set([d-M,h-T],16),isNaN(m(this,qe)[6])?(m(this,as).length===0&&(m(this,qe).set([l+M,u+T],2),m(this,as).push(NaN,NaN,NaN,NaN,(l+M-r)/s,(u+T-i)/a),m(this,qe).set([l-M,u-T],14),m(this,oo).push(NaN,NaN,NaN,NaN,(l-M-r)/s,(u-T-i)/a)),m(this,qe).set([A,E,l,u,d,h],6),!this.isEmpty()):(m(this,qe).set([A,E,l,u,d,h],6),Math.abs(Math.atan2(E-u,A-l)-Math.atan2(x,C))<Math.PI/2?([l,u,d,h]=m(this,qe).subarray(2,6),m(this,as).push(NaN,NaN,NaN,NaN,((l+d)/2-r)/s,((u+h)/2-i)/a),[l,u,A,E]=m(this,qe).subarray(14,18),m(this,oo).push(NaN,NaN,NaN,NaN,((A+l)/2-r)/s,((E+u)/2-i)/a),!0):([A,E,l,u,d,h]=m(this,qe).subarray(0,6),m(this,as).push(((A+5*l)/6-r)/s,((E+5*u)/6-i)/a,((5*l+d)/6-r)/s,((5*u+h)/6-i)/a,((l+d)/2-r)/s,((u+h)/2-i)/a),[d,h,l,u,A,E]=m(this,qe).subarray(12,18),m(this,oo).push(((A+5*l)/6-r)/s,((E+5*u)/6-i)/a,((5*l+d)/6-r)/s,((5*u+h)/6-i)/a,((l+d)/2-r)/s,((u+h)/2-i)/a),!0))}toSVGPath(){if(this.isEmpty())return"";const e=m(this,as),t=m(this,oo),r=m(this,qe).subarray(4,6),i=m(this,qe).subarray(16,18),[s,a,l,u]=m(this,os),[d,h,p,g]=z(this,Xp,QS).call(this);if(isNaN(m(this,qe)[6])&&!this.isEmpty())return`M${(m(this,qe)[2]-s)/l} ${(m(this,qe)[3]-a)/u} L${(m(this,qe)[4]-s)/l} ${(m(this,qe)[5]-a)/u} L${d} ${h} L${p} ${g} L${(m(this,qe)[16]-s)/l} ${(m(this,qe)[17]-a)/u} L${(m(this,qe)[14]-s)/l} ${(m(this,qe)[15]-a)/u} Z`;const y=[];y.push(`M${e[4]} ${e[5]}`);for(let b=6;b<e.length;b+=6)isNaN(e[b])?y.push(`L${e[b+4]} ${e[b+5]}`):y.push(`C${e[b]} ${e[b+1]} ${e[b+2]} ${e[b+3]} ${e[b+4]} ${e[b+5]}`);y.push(`L${(r[0]-s)/l} ${(r[1]-a)/u} L${d} ${h} L${p} ${g} L${(i[0]-s)/l} ${(i[1]-a)/u}`);for(let b=t.length-6;b>=6;b-=6)isNaN(t[b])?y.push(`L${t[b+4]} ${t[b+5]}`):y.push(`C${t[b]} ${t[b+1]} ${t[b+2]} ${t[b+3]} ${t[b+4]} ${t[b+5]}`);return y.push(`L${t[4]} ${t[5]} Z`),y.join(" ")}getOutlines(){var x;const e=m(this,as),t=m(this,oo),r=m(this,qe),i=r.subarray(4,6),s=r.subarray(16,18),[a,l,u,d]=m(this,os),h=new Float64Array((((x=m(this,Ca))==null?void 0:x.length)??0)+2);for(let A=0,E=h.length-2;A<E;A+=2)h[A]=(m(this,Ca)[A]-a)/u,h[A+1]=(m(this,Ca)[A+1]-l)/d;h[h.length-2]=(m(this,Ql)-a)/u,h[h.length-1]=(m(this,Zl)-l)/d;const[p,g,y,b]=z(this,Xp,QS).call(this);if(isNaN(r[6])&&!this.isEmpty()){const A=new Float64Array(36);return A.set([NaN,NaN,NaN,NaN,(r[2]-a)/u,(r[3]-l)/d,NaN,NaN,NaN,NaN,(r[4]-a)/u,(r[5]-l)/d,NaN,NaN,NaN,NaN,p,g,NaN,NaN,NaN,NaN,y,b,NaN,NaN,NaN,NaN,(r[16]-a)/u,(r[17]-l)/d,NaN,NaN,NaN,NaN,(r[14]-a)/u,(r[15]-l)/d],0),new ZS(A,h,m(this,os),m(this,cd),m(this,ad),m(this,ld))}const w=new Float64Array(m(this,as).length+24+m(this,oo).length);let C=e.length;for(let A=0;A<C;A+=2){if(isNaN(e[A])){w[A]=w[A+1]=NaN;continue}w[A]=e[A],w[A+1]=e[A+1]}w.set([NaN,NaN,NaN,NaN,(i[0]-a)/u,(i[1]-l)/d,NaN,NaN,NaN,NaN,p,g,NaN,NaN,NaN,NaN,y,b,NaN,NaN,NaN,NaN,(s[0]-a)/u,(s[1]-l)/d],C),C+=24;for(let A=t.length-6;A>=6;A-=6)for(let E=0;E<6;E+=2){if(isNaN(t[A+E])){w[C]=w[C+1]=NaN,C+=2;continue}w[C]=t[A+E],w[C+1]=t[A+E+1],C+=2}return w.set([NaN,NaN,NaN,NaN,t[4],t[5]],C),new ZS(w,h,m(this,os),m(this,cd),m(this,ad),m(this,ld))}};os=new WeakMap,oo=new WeakMap,ad=new WeakMap,ld=new WeakMap,as=new WeakMap,qe=new WeakMap,Ql=new WeakMap,Zl=new WeakMap,Up=new WeakMap,Vp=new WeakMap,cd=new WeakMap,ud=new WeakMap,Ca=new WeakMap,Gp=new WeakMap,H0=new WeakMap,j0=new WeakMap,Xp=new WeakSet,QS=function(){const e=m(this,qe).subarray(4,6),t=m(this,qe).subarray(16,18),[r,i,s,a]=m(this,os);return[(m(this,Ql)+(e[0]-t[0])/2-r)/s,(m(this,Zl)+(e[1]-t[1])/2-i)/a,(m(this,Ql)+(t[0]-e[0])/2-r)/s,(m(this,Zl)+(t[1]-e[1])/2-i)/a]},H(js,Gp,8),H(js,H0,2),H(js,j0,m(js,Gp)+m(js,H0));let S0=js;var dd,Jl,ao,Yp,$r,qp,Qt,wr,Kh,Qh,UN;class ZS extends WN{constructor(t,r,i,s,a,l){super();H(this,wr);H(this,dd);H(this,Jl,null);H(this,ao);H(this,Yp);H(this,$r);H(this,qp);H(this,Qt);F(this,Qt,t),F(this,$r,r),F(this,dd,i),F(this,qp,s),F(this,ao,a),F(this,Yp,l),z(this,wr,UN).call(this,l);const{x:u,y:d,width:h,height:p}=m(this,Jl);for(let g=0,y=t.length;g<y;g+=2)t[g]=(t[g]-u)/h,t[g+1]=(t[g+1]-d)/p;for(let g=0,y=r.length;g<y;g+=2)r[g]=(r[g]-u)/h,r[g+1]=(r[g+1]-d)/p}toSVGPath(){const t=[`M${m(this,Qt)[4]} ${m(this,Qt)[5]}`];for(let r=6,i=m(this,Qt).length;r<i;r+=6){if(isNaN(m(this,Qt)[r])){t.push(`L${m(this,Qt)[r+4]} ${m(this,Qt)[r+5]}`);continue}t.push(`C${m(this,Qt)[r]} ${m(this,Qt)[r+1]} ${m(this,Qt)[r+2]} ${m(this,Qt)[r+3]} ${m(this,Qt)[r+4]} ${m(this,Qt)[r+5]}`)}return t.push("Z"),t.join(" ")}serialize([t,r,i,s],a){const l=i-t,u=s-r;let d,h;switch(a){case 0:d=z(this,wr,Kh).call(this,m(this,Qt),t,s,l,-u),h=z(this,wr,Kh).call(this,m(this,$r),t,s,l,-u);break;case 90:d=z(this,wr,Qh).call(this,m(this,Qt),t,r,l,u),h=z(this,wr,Qh).call(this,m(this,$r),t,r,l,u);break;case 180:d=z(this,wr,Kh).call(this,m(this,Qt),i,r,-l,u),h=z(this,wr,Kh).call(this,m(this,$r),i,r,-l,u);break;case 270:d=z(this,wr,Qh).call(this,m(this,Qt),i,s,-l,-u),h=z(this,wr,Qh).call(this,m(this,$r),i,s,-l,-u);break}return{outline:Array.from(d),points:[Array.from(h)]}}get box(){return m(this,Jl)}getNewOutline(t,r){const{x:i,y:s,width:a,height:l}=m(this,Jl),[u,d,h,p]=m(this,dd),g=a*h,y=l*p,b=i*h+u,w=s*p+d,C=new S0({x:m(this,$r)[0]*g+b,y:m(this,$r)[1]*y+w},m(this,dd),m(this,qp),t,m(this,Yp),r??m(this,ao));for(let x=2;x<m(this,$r).length;x+=2)C.add({x:m(this,$r)[x]*g+b,y:m(this,$r)[x+1]*y+w});return C.getOutlines()}}dd=new WeakMap,Jl=new WeakMap,ao=new WeakMap,Yp=new WeakMap,$r=new WeakMap,qp=new WeakMap,Qt=new WeakMap,wr=new WeakSet,Kh=function(t,r,i,s,a){const l=new Float64Array(t.length);for(let u=0,d=t.length;u<d;u+=2)l[u]=r+t[u]*s,l[u+1]=i+t[u+1]*a;return l},Qh=function(t,r,i,s,a){const l=new Float64Array(t.length);for(let u=0,d=t.length;u<d;u+=2)l[u]=r+t[u+1]*s,l[u+1]=i+t[u]*a;return l},UN=function(t){const r=m(this,Qt);let i=r[4],s=r[5],a=i,l=s,u=i,d=s,h=i,p=s;const g=t?Math.max:Math.min;for(let x=6,A=r.length;x<A;x+=6){if(isNaN(r[x]))a=Math.min(a,r[x+4]),l=Math.min(l,r[x+5]),u=Math.max(u,r[x+4]),d=Math.max(d,r[x+5]),p<r[x+5]?(h=r[x+4],p=r[x+5]):p===r[x+5]&&(h=g(h,r[x+4]));else{const E=Me.bezierBoundingBox(i,s,...r.slice(x,x+6));a=Math.min(a,E[0]),l=Math.min(l,E[1]),u=Math.max(u,E[2]),d=Math.max(d,E[3]),p<E[3]?(h=E[2],p=E[3]):p===E[3]&&(h=g(h,E[2]))}i=r[x+4],s=r[x+5]}const y=a-m(this,ao),b=l-m(this,ao),w=u-a+2*m(this,ao),C=d-l+2*m(this,ao);F(this,Jl,{x:y,y:b,width:w,height:C,lastPoint:[h,p]})};var Kp,Qp,Ti,ec,hd,fn,Zp,fd,Jp,eg,Pi,pd,At,JS,e1,VN,hl,GN,oa;const Ws=class Ws{constructor({editor:e=null,uiManager:t=null}){H(this,At);H(this,Kp,z(this,At,VN).bind(this));H(this,Qp,z(this,At,GN).bind(this));H(this,Ti,null);H(this,ec,null);H(this,hd);H(this,fn,null);H(this,Zp,!1);H(this,fd,!1);H(this,Jp,null);H(this,eg);H(this,Pi,null);H(this,pd);var r;e?(F(this,fd,!1),F(this,pd,We.HIGHLIGHT_COLOR),F(this,Jp,e)):(F(this,fd,!0),F(this,pd,We.HIGHLIGHT_DEFAULT_COLOR)),F(this,Pi,(e==null?void 0:e._uiManager)||t),F(this,eg,m(this,Pi)._eventBus),F(this,hd,(e==null?void 0:e.color)||((r=m(this,Pi))==null?void 0:r.highlightColors.values().next().value)||"#FFFF98")}static get _keyboardManager(){return Je(this,"_keyboardManager",new Rg([[["Escape","mac+Escape"],Ws.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],Ws.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],Ws.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],Ws.prototype._moveToPrevious],[["Home","mac+Home"],Ws.prototype._moveToBeginning],[["End","mac+End"],Ws.prototype._moveToEnd]]))}renderButton(){const e=F(this,Ti,document.createElement("button"));e.className="colorPicker",e.tabIndex="0",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),e.setAttribute("aria-haspopup",!0);const t=m(this,Pi)._signal;e.addEventListener("click",z(this,At,hl).bind(this),{signal:t}),e.addEventListener("keydown",m(this,Kp),{signal:t});const r=F(this,ec,document.createElement("span"));return r.className="swatch",r.setAttribute("aria-hidden",!0),r.style.backgroundColor=m(this,hd),e.append(r),e}renderMainDropdown(){const e=F(this,fn,z(this,At,JS).call(this));return e.setAttribute("aria-orientation","horizontal"),e.setAttribute("aria-labelledby","highlightColorPickerLabel"),e}_colorSelectFromKeyboard(e){if(e.target===m(this,Ti)){z(this,At,hl).call(this,e);return}const t=e.target.getAttribute("data-color");t&&z(this,At,e1).call(this,t,e)}_moveToNext(e){var t,r;if(!m(this,At,oa)){z(this,At,hl).call(this,e);return}if(e.target===m(this,Ti)){(t=m(this,fn).firstChild)==null||t.focus();return}(r=e.target.nextSibling)==null||r.focus()}_moveToPrevious(e){var t,r;if(e.target===((t=m(this,fn))==null?void 0:t.firstChild)||e.target===m(this,Ti)){m(this,At,oa)&&this._hideDropdownFromKeyboard();return}m(this,At,oa)||z(this,At,hl).call(this,e),(r=e.target.previousSibling)==null||r.focus()}_moveToBeginning(e){var t;if(!m(this,At,oa)){z(this,At,hl).call(this,e);return}(t=m(this,fn).firstChild)==null||t.focus()}_moveToEnd(e){var t;if(!m(this,At,oa)){z(this,At,hl).call(this,e);return}(t=m(this,fn).lastChild)==null||t.focus()}hideDropdown(){var e;(e=m(this,fn))==null||e.classList.add("hidden"),window.removeEventListener("pointerdown",m(this,Qp))}_hideDropdownFromKeyboard(){var e;if(!m(this,fd)){if(!m(this,At,oa)){(e=m(this,Jp))==null||e.unselect();return}this.hideDropdown(),m(this,Ti).focus({preventScroll:!0,focusVisible:m(this,Zp)})}}updateColor(e){if(m(this,ec)&&(m(this,ec).style.backgroundColor=e),!m(this,fn))return;const t=m(this,Pi).highlightColors.values();for(const r of m(this,fn).children)r.setAttribute("aria-selected",t.next().value===e)}destroy(){var e,t;(e=m(this,Ti))==null||e.remove(),F(this,Ti,null),F(this,ec,null),(t=m(this,fn))==null||t.remove(),F(this,fn,null)}};Kp=new WeakMap,Qp=new WeakMap,Ti=new WeakMap,ec=new WeakMap,hd=new WeakMap,fn=new WeakMap,Zp=new WeakMap,fd=new WeakMap,Jp=new WeakMap,eg=new WeakMap,Pi=new WeakMap,pd=new WeakMap,At=new WeakSet,JS=function(){const e=document.createElement("div"),t=m(this,Pi)._signal;e.addEventListener("contextmenu",xr,{signal:t}),e.className="dropdown",e.role="listbox",e.setAttribute("aria-multiselectable",!1),e.setAttribute("aria-orientation","vertical"),e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown");for(const[r,i]of m(this,Pi).highlightColors){const s=document.createElement("button");s.tabIndex="0",s.role="option",s.setAttribute("data-color",i),s.title=r,s.setAttribute("data-l10n-id",`pdfjs-editor-colorpicker-${r}`);const a=document.createElement("span");s.append(a),a.className="swatch",a.style.backgroundColor=i,s.setAttribute("aria-selected",i===m(this,hd)),s.addEventListener("click",z(this,At,e1).bind(this,i),{signal:t}),e.append(s)}return e.addEventListener("keydown",m(this,Kp),{signal:t}),e},e1=function(e,t){t.stopPropagation(),m(this,eg).dispatch("switchannotationeditorparams",{source:this,type:m(this,pd),value:e})},VN=function(e){Ws._keyboardManager.exec(this,e)},hl=function(e){if(m(this,At,oa)){this.hideDropdown();return}if(F(this,Zp,e.detail===0),window.addEventListener("pointerdown",m(this,Qp),{signal:m(this,Pi)._signal}),m(this,fn)){m(this,fn).classList.remove("hidden");return}const t=F(this,fn,z(this,At,JS).call(this));m(this,Ti).append(t)},GN=function(e){var t;(t=m(this,fn))!=null&&t.contains(e.target)||this.hideDropdown()},oa=function(){return m(this,fn)&&!m(this,fn).classList.contains("hidden")};let E0=Ws;var gd,tg,_a,tc,md,ii,ng,rg,nc,Mi,er,Br,W0,yd,rc,pn,vd,ls,ig,Xe,t1,n1,XN,YN,qN,r1,Zh,ui,mu,KN,Vy,Jh,QN,ZN,JN,e2;const at=class at extends gt{constructor(t){super({...t,name:"highlightEditor"});H(this,Xe);H(this,gd,null);H(this,tg,0);H(this,_a);H(this,tc,null);H(this,md,null);H(this,ii,null);H(this,ng,null);H(this,rg,0);H(this,nc,null);H(this,Mi,null);H(this,er,null);H(this,Br,!1);H(this,W0,z(this,Xe,KN).bind(this));H(this,yd,null);H(this,rc);H(this,pn,null);H(this,vd,"");H(this,ls);H(this,ig,"");this.color=t.color||at._defaultColor,F(this,ls,t.thickness||at._defaultThickness),F(this,rc,t.opacity||at._defaultOpacity),F(this,_a,t.boxes||null),F(this,ig,t.methodOfCreation||""),F(this,vd,t.text||""),this._isDraggable=!1,t.highlightId>-1?(F(this,Br,!0),z(this,Xe,n1).call(this,t),z(this,Xe,Zh).call(this)):(F(this,gd,t.anchorNode),F(this,tg,t.anchorOffset),F(this,ng,t.focusNode),F(this,rg,t.focusOffset),z(this,Xe,t1).call(this),z(this,Xe,Zh).call(this),this.rotate(this.rotation))}static get _keyboardManager(){const t=at.prototype;return Je(this,"_keyboardManager",new Rg([[["ArrowLeft","mac+ArrowLeft"],t._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],t._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],t._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],t._moveCaret,{args:[3]}]]))}get telemetryInitialData(){return{action:"added",type:m(this,Br)?"free_highlight":"highlight",color:this._uiManager.highlightColorNames.get(this.color),thickness:m(this,ls),methodOfCreation:m(this,ig)}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.highlightColorNames.get(this.color)}}static computeTelemetryFinalData(t){return{numberOfColors:t.get("color").size}}static initialize(t,r){var i;gt.initialize(t,r),at._defaultColor||(at._defaultColor=((i=r.highlightColors)==null?void 0:i.values().next().value)||"#fff066")}static updateDefaultParams(t,r){switch(t){case We.HIGHLIGHT_DEFAULT_COLOR:at._defaultColor=r;break;case We.HIGHLIGHT_THICKNESS:at._defaultThickness=r;break}}translateInPage(t,r){}get toolbarPosition(){return m(this,yd)}updateParams(t,r){switch(t){case We.HIGHLIGHT_COLOR:z(this,Xe,XN).call(this,r);break;case We.HIGHLIGHT_THICKNESS:z(this,Xe,YN).call(this,r);break}}static get defaultPropertiesToUpdate(){return[[We.HIGHLIGHT_DEFAULT_COLOR,at._defaultColor],[We.HIGHLIGHT_THICKNESS,at._defaultThickness]]}get propertiesToUpdate(){return[[We.HIGHLIGHT_COLOR,this.color||at._defaultColor],[We.HIGHLIGHT_THICKNESS,m(this,ls)||at._defaultThickness],[We.HIGHLIGHT_FREE,m(this,Br)]]}async addEditToolbar(){const t=await super.addEditToolbar();return t?(this._uiManager.highlightColors&&(F(this,md,new E0({editor:this})),t.addColorPicker(m(this,md))),t):null}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(z(this,Xe,Jh).call(this))}getBaseTranslation(){return[0,0]}getRect(t,r){return super.getRect(t,r,z(this,Xe,Jh).call(this))}onceAdded(){this.parent.addUndoableEditor(this),this.div.focus()}remove(){z(this,Xe,r1).call(this),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(z(this,Xe,Zh).call(this),this.isAttachedToDOM||this.parent.add(this)))}setParent(t){var i;let r=!1;this.parent&&!t?z(this,Xe,r1).call(this):t&&(z(this,Xe,Zh).call(this,t),r=!this.parent&&((i=this.div)==null?void 0:i.classList.contains("selectedEditor"))),super.setParent(t),this.show(this._isVisible),r&&this.select()}rotate(t){var s,a,l;const{drawLayer:r}=this.parent;let i;m(this,Br)?(t=(t-this.rotation+360)%360,i=z(s=at,ui,mu).call(s,m(this,Mi).box,t)):i=z(a=at,ui,mu).call(a,this,t),r.rotate(m(this,er),t),r.rotate(m(this,pn),t),r.updateBox(m(this,er),i),r.updateBox(m(this,pn),z(l=at,ui,mu).call(l,m(this,ii).box,t))}render(){if(this.div)return this.div;const t=super.render();m(this,vd)&&(t.setAttribute("aria-label",m(this,vd)),t.setAttribute("role","mark")),m(this,Br)?t.classList.add("free"):this.div.addEventListener("keydown",m(this,W0),{signal:this._uiManager._signal});const r=F(this,nc,document.createElement("div"));t.append(r),r.setAttribute("aria-hidden","true"),r.className="internal",r.style.clipPath=m(this,tc);const[i,s]=this.parentDimensions;return this.setDims(this.width*i,this.height*s),b0(this,m(this,nc),["pointerover","pointerleave"]),this.enableEditing(),t}pointerover(){this.parent.drawLayer.addClass(m(this,pn),"hovered")}pointerleave(){this.parent.drawLayer.removeClass(m(this,pn),"hovered")}_moveCaret(t){switch(this.parent.unselect(this),t){case 0:case 2:z(this,Xe,Vy).call(this,!0);break;case 1:case 3:z(this,Xe,Vy).call(this,!1);break}}select(){var t,r;super.select(),m(this,pn)&&((t=this.parent)==null||t.drawLayer.removeClass(m(this,pn),"hovered"),(r=this.parent)==null||r.drawLayer.addClass(m(this,pn),"selected"))}unselect(){var t;super.unselect(),m(this,pn)&&((t=this.parent)==null||t.drawLayer.removeClass(m(this,pn),"selected"),m(this,Br)||z(this,Xe,Vy).call(this,!1))}get _mustFixPosition(){return!m(this,Br)}show(t=this._isVisible){super.show(t),this.parent&&(this.parent.drawLayer.show(m(this,er),t),this.parent.drawLayer.show(m(this,pn),t))}static startHighlighting(t,r,{target:i,x:s,y:a}){const{x:l,y:u,width:d,height:h}=i.getBoundingClientRect(),p=C=>{z(this,ui,JN).call(this,t,C)},g=t._signal,y={capture:!0,passive:!1,signal:g},b=C=>{C.preventDefault(),C.stopPropagation()},w=C=>{i.removeEventListener("pointermove",p),window.removeEventListener("blur",w),window.removeEventListener("pointerup",w),window.removeEventListener("pointerdown",b,y),window.removeEventListener("contextmenu",xr),z(this,ui,e2).call(this,t,C)};window.addEventListener("blur",w,{signal:g}),window.addEventListener("pointerup",w,{signal:g}),window.addEventListener("pointerdown",b,y),window.addEventListener("contextmenu",xr,{signal:g}),i.addEventListener("pointermove",p,{signal:g}),this._freeHighlight=new S0({x:s,y:a},[l,u,d,h],t.scale,this._defaultThickness/2,r,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=t.drawLayer.highlight(this._freeHighlight,this._defaultColor,this._defaultOpacity,!0)}static deserialize(t,r,i){var w;const s=super.deserialize(t,r,i),{rect:[a,l,u,d],color:h,quadPoints:p}=t;s.color=Me.makeHexColor(...h),F(s,rc,t.opacity);const[g,y]=s.pageDimensions;s.width=(u-a)/g,s.height=(d-l)/y;const b=F(s,_a,[]);for(let C=0;C<p.length;C+=8)b.push({x:(p[4]-u)/g,y:(d-(1-p[C+5]))/y,width:(p[C+2]-p[C])/g,height:(p[C+5]-p[C+1])/y});return z(w=s,Xe,t1).call(w),s}serialize(t=!1){if(this.isEmpty()||t)return null;const r=this.getRect(0,0),i=gt._colorManager.convert(this.color);return{annotationType:Ke.HIGHLIGHT,color:i,opacity:m(this,rc),thickness:m(this,ls),quadPoints:z(this,Xe,QN).call(this),outlines:z(this,Xe,ZN).call(this,r),pageIndex:this.pageIndex,rect:r,rotation:z(this,Xe,Jh).call(this),structTreeParentId:this._structTreeParentId}}static canCreateNewEmptyEditor(){return!1}};gd=new WeakMap,tg=new WeakMap,_a=new WeakMap,tc=new WeakMap,md=new WeakMap,ii=new WeakMap,ng=new WeakMap,rg=new WeakMap,nc=new WeakMap,Mi=new WeakMap,er=new WeakMap,Br=new WeakMap,W0=new WeakMap,yd=new WeakMap,rc=new WeakMap,pn=new WeakMap,vd=new WeakMap,ls=new WeakMap,ig=new WeakMap,Xe=new WeakSet,t1=function(){const t=new qS(m(this,_a),.001);F(this,Mi,t.getOutlines()),{x:this.x,y:this.y,width:this.width,height:this.height}=m(this,Mi).box;const r=new qS(m(this,_a),.0025,.001,this._uiManager.direction==="ltr");F(this,ii,r.getOutlines());const{lastPoint:i}=m(this,ii).box;F(this,yd,[(i[0]-this.x)/this.width,(i[1]-this.y)/this.height])},n1=function({highlightOutlines:t,highlightId:r,clipPathId:i}){var p,g;if(F(this,Mi,t),F(this,ii,t.getNewOutline(m(this,ls)/2+1.5,.0025)),r>=0)F(this,er,r),F(this,tc,i),this.parent.drawLayer.finalizeLine(r,t),F(this,pn,this.parent.drawLayer.highlightOutline(m(this,ii)));else if(this.parent){const y=this.parent.viewport.rotation;this.parent.drawLayer.updateLine(m(this,er),t),this.parent.drawLayer.updateBox(m(this,er),z(p=at,ui,mu).call(p,m(this,Mi).box,(y-this.rotation+360)%360)),this.parent.drawLayer.updateLine(m(this,pn),m(this,ii)),this.parent.drawLayer.updateBox(m(this,pn),z(g=at,ui,mu).call(g,m(this,ii).box,y))}const{x:a,y:l,width:u,height:d}=t.box;switch(this.rotation){case 0:this.x=a,this.y=l,this.width=u,this.height=d;break;case 90:{const[y,b]=this.parentDimensions;this.x=l,this.y=1-a,this.width=u*b/y,this.height=d*y/b;break}case 180:this.x=1-a,this.y=1-l,this.width=u,this.height=d;break;case 270:{const[y,b]=this.parentDimensions;this.x=1-l,this.y=a,this.width=u*b/y,this.height=d*y/b;break}}const{lastPoint:h}=m(this,ii).box;F(this,yd,[(h[0]-a)/u,(h[1]-l)/d])},XN=function(t){const r=s=>{var a,l;this.color=s,(a=this.parent)==null||a.drawLayer.changeColor(m(this,er),s),(l=m(this,md))==null||l.updateColor(s)},i=this.color;this.addCommands({cmd:r.bind(this,t),undo:r.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:We.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.highlightColorNames.get(t)},!0)},YN=function(t){const r=m(this,ls),i=s=>{F(this,ls,s),z(this,Xe,qN).call(this,s)};this.addCommands({cmd:i.bind(this,t),undo:i.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:We.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:t},!0)},qN=function(t){if(!m(this,Br))return;z(this,Xe,n1).call(this,{highlightOutlines:m(this,Mi).getNewOutline(t/2)}),this.fixAndSetPosition();const[r,i]=this.parentDimensions;this.setDims(this.width*r,this.height*i)},r1=function(){m(this,er)===null||!this.parent||(this.parent.drawLayer.remove(m(this,er)),F(this,er,null),this.parent.drawLayer.remove(m(this,pn)),F(this,pn,null))},Zh=function(t=this.parent){m(this,er)===null&&({id:Mr(this,er)._,clipPathId:Mr(this,tc)._}=t.drawLayer.highlight(m(this,Mi),this.color,m(this,rc)),F(this,pn,t.drawLayer.highlightOutline(m(this,ii))),m(this,nc)&&(m(this,nc).style.clipPath=m(this,tc)))},ui=new WeakSet,mu=function({x:t,y:r,width:i,height:s},a){switch(a){case 90:return{x:1-r-s,y:t,width:s,height:i};case 180:return{x:1-t-i,y:1-r-s,width:i,height:s};case 270:return{x:r,y:1-t-i,width:s,height:i}}return{x:t,y:r,width:i,height:s}},KN=function(t){at._keyboardManager.exec(this,t)},Vy=function(t){if(!m(this,gd))return;const r=window.getSelection();t?r.setPosition(m(this,gd),m(this,tg)):r.setPosition(m(this,ng),m(this,rg))},Jh=function(){return m(this,Br)?this.rotation:0},QN=function(){if(m(this,Br))return null;const[t,r]=this.pageDimensions,i=m(this,_a),s=new Float32Array(i.length*8);let a=0;for(const{x:l,y:u,width:d,height:h}of i){const p=l*t,g=(1-u-h)*r;s[a]=s[a+4]=p,s[a+1]=s[a+3]=g,s[a+2]=s[a+6]=p+d*t,s[a+5]=s[a+7]=g+h*r,a+=8}return s},ZN=function(t){return m(this,Mi).serialize(t,z(this,Xe,Jh).call(this))},JN=function(t,r){this._freeHighlight.add(r)&&t.drawLayer.updatePath(this._freeHighlightId,this._freeHighlight)},e2=function(t,r){this._freeHighlight.isEmpty()?t.drawLayer.removeFreeHighlight(this._freeHighlightId):t.createAndAddNewEditor(r,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""},H(at,ui),Be(at,"_defaultColor",null),Be(at,"_defaultOpacity",1),Be(at,"_defaultThickness",12),Be(at,"_l10nPromise"),Be(at,"_type","highlight"),Be(at,"_editorType",Ke.HIGHLIGHT),Be(at,"_freeHighlightId",-1),Be(at,"_freeHighlight",null),Be(at,"_freeHighlightClipId","");let C0=at;var ic,sc,sg,og,ag,oc,cs,lo,si,ac,lc,co,cc,uc,Aa,xe,t2,n2,r2,i2,s1,s2,o1,o2,a2,l2,c2,u2,fl,a1,Gy,Xy,yu,l1,Yy,ko,d2,c1,h2,f2,u1,qy,ef;const Bt=class Bt extends gt{constructor(t){super({...t,name:"inkEditor"});H(this,xe);H(this,ic,0);H(this,sc,0);H(this,sg,this.canvasPointermove.bind(this));H(this,og,this.canvasPointerleave.bind(this));H(this,ag,this.canvasPointerup.bind(this));H(this,oc,this.canvasPointerdown.bind(this));H(this,cs,null);H(this,lo,new Path2D);H(this,si,!1);H(this,ac,!1);H(this,lc,!1);H(this,co,null);H(this,cc,0);H(this,uc,0);H(this,Aa,null);this.color=t.color||null,this.thickness=t.thickness||null,this.opacity=t.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(t,r){gt.initialize(t,r)}static updateDefaultParams(t,r){switch(t){case We.INK_THICKNESS:Bt._defaultThickness=r;break;case We.INK_COLOR:Bt._defaultColor=r;break;case We.INK_OPACITY:Bt._defaultOpacity=r/100;break}}updateParams(t,r){switch(t){case We.INK_THICKNESS:z(this,xe,t2).call(this,r);break;case We.INK_COLOR:z(this,xe,n2).call(this,r);break;case We.INK_OPACITY:z(this,xe,r2).call(this,r);break}}static get defaultPropertiesToUpdate(){return[[We.INK_THICKNESS,Bt._defaultThickness],[We.INK_COLOR,Bt._defaultColor||gt._defaultLineColor],[We.INK_OPACITY,Math.round(Bt._defaultOpacity*100)]]}get propertiesToUpdate(){return[[We.INK_THICKNESS,this.thickness||Bt._defaultThickness],[We.INK_COLOR,this.color||Bt._defaultColor||gt._defaultLineColor],[We.INK_OPACITY,Math.round(100*(this.opacity??Bt._defaultOpacity))]]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.canvas||(z(this,xe,Gy).call(this),z(this,xe,Xy).call(this)),this.isAttachedToDOM||(this.parent.add(this),z(this,xe,yu).call(this)),z(this,xe,ef).call(this)))}remove(){var t;this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,m(this,cs)&&(clearTimeout(m(this,cs)),F(this,cs,null)),(t=m(this,co))==null||t.disconnect(),F(this,co,null),super.remove())}setParent(t){!this.parent&&t?this._uiManager.removeShouldRescale(this):this.parent&&t===null&&this._uiManager.addShouldRescale(this),super.setParent(t)}onScaleChanging(){const[t,r]=this.parentDimensions,i=this.width*t,s=this.height*r;this.setDimensions(i,s)}enableEditMode(){m(this,si)||this.canvas===null||(super.enableEditMode(),this._isDraggable=!1,this.canvas.addEventListener("pointerdown",m(this,oc),{signal:this._uiManager._signal}))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",m(this,oc)))}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}commit(){m(this,si)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),F(this,si,!0),this.div.classList.add("disabled"),z(this,xe,ef).call(this,!0),this.select(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(t){this._focusEventsAllowed&&(super.focusin(t),this.enableEditMode())}canvasPointerdown(t){t.button!==0||!this.isInEditMode()||m(this,si)||(this.setInForeground(),t.preventDefault(),this.div.contains(document.activeElement)||this.div.focus({preventScroll:!0}),z(this,xe,s2).call(this,t.offsetX,t.offsetY))}canvasPointermove(t){t.preventDefault(),z(this,xe,o1).call(this,t.offsetX,t.offsetY)}canvasPointerup(t){t.preventDefault(),z(this,xe,a1).call(this,t)}canvasPointerleave(t){z(this,xe,a1).call(this,t)}get isResizable(){return!this.isEmpty()&&m(this,si)}render(){if(this.div)return this.div;let t,r;this.width&&(t=this.x,r=this.y),super.render(),this.div.setAttribute("data-l10n-id","pdfjs-ink");const[i,s,a,l]=z(this,xe,i2).call(this);if(this.setAt(i,s,0,0),this.setDims(a,l),z(this,xe,Gy).call(this),this.width){const[u,d]=this.parentDimensions;this.setAspectRatio(this.width*u,this.height*d),this.setAt(t*u,r*d,this.width*u,this.height*d),F(this,lc,!0),z(this,xe,yu).call(this),this.setDims(this.width*u,this.height*d),z(this,xe,fl).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return z(this,xe,Xy).call(this),this.div}setDimensions(t,r){const i=Math.round(t),s=Math.round(r);if(m(this,cc)===i&&m(this,uc)===s)return;F(this,cc,i),F(this,uc,s),this.canvas.style.visibility="hidden";const[a,l]=this.parentDimensions;this.width=t/a,this.height=r/l,this.fixAndSetPosition(),m(this,si)&&z(this,xe,l1).call(this,t,r),z(this,xe,yu).call(this),z(this,xe,fl).call(this),this.canvas.style.visibility="visible",this.fixDims()}static deserialize(t,r,i){var C,x,A;if(t instanceof IN)return null;const s=super.deserialize(t,r,i);s.thickness=t.thickness,s.color=Me.makeHexColor(...t.color),s.opacity=t.opacity;const[a,l]=s.pageDimensions,u=s.width*a,d=s.height*l,h=s.parentScale,p=t.thickness/2;F(s,si,!0),F(s,cc,Math.round(u)),F(s,uc,Math.round(d));const{paths:g,rect:y,rotation:b}=t;for(let{bezier:E}of g){E=z(C=Bt,ko,h2).call(C,E,y,b);const _=[];s.paths.push(_);let k=h*(E[0]-p),M=h*(E[1]-p);for(let N=2,W=E.length;N<W;N+=6){const P=h*(E[N]-p),V=h*(E[N+1]-p),X=h*(E[N+2]-p),Y=h*(E[N+3]-p),D=h*(E[N+4]-p),G=h*(E[N+5]-p);_.push([[k,M],[P,V],[X,Y],[D,G]]),k=D,M=G}const T=z(this,ko,d2).call(this,_);s.bezierPath2D.push(T)}const w=z(x=s,xe,u1).call(x);return F(s,sc,Math.max(gt.MIN_SIZE,w[2]-w[0])),F(s,ic,Math.max(gt.MIN_SIZE,w[3]-w[1])),z(A=s,xe,l1).call(A,u,d),s}serialize(){if(this.isEmpty())return null;const t=this.getRect(0,0),r=gt._colorManager.convert(this.ctx.strokeStyle);return{annotationType:Ke.INK,color:r,thickness:this.thickness,opacity:this.opacity,paths:z(this,xe,f2).call(this,this.scaleFactor/this.parentScale,this.translationX,this.translationY,t),pageIndex:this.pageIndex,rect:t,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}};ic=new WeakMap,sc=new WeakMap,sg=new WeakMap,og=new WeakMap,ag=new WeakMap,oc=new WeakMap,cs=new WeakMap,lo=new WeakMap,si=new WeakMap,ac=new WeakMap,lc=new WeakMap,co=new WeakMap,cc=new WeakMap,uc=new WeakMap,Aa=new WeakMap,xe=new WeakSet,t2=function(t){const r=s=>{this.thickness=s,z(this,xe,ef).call(this)},i=this.thickness;this.addCommands({cmd:r.bind(this,t),undo:r.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:We.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})},n2=function(t){const r=s=>{this.color=s,z(this,xe,fl).call(this)},i=this.color;this.addCommands({cmd:r.bind(this,t),undo:r.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:We.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})},r2=function(t){const r=s=>{this.opacity=s,z(this,xe,fl).call(this)};t/=100;const i=this.opacity;this.addCommands({cmd:r.bind(this,t),undo:r.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:We.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})},i2=function(){const{parentRotation:t,parentDimensions:[r,i]}=this;switch(t){case 90:return[0,i,i,r];case 180:return[r,i,r,i];case 270:return[r,0,i,r];default:return[0,0,r,i]}},s1=function(){const{ctx:t,color:r,opacity:i,thickness:s,parentScale:a,scaleFactor:l}=this;t.lineWidth=s*a/l,t.lineCap="round",t.lineJoin="round",t.miterLimit=10,t.strokeStyle=`${r}${j8(i)}`},s2=function(t,r){const i=this._uiManager._signal;this.canvas.addEventListener("contextmenu",xr,{signal:i}),this.canvas.addEventListener("pointerleave",m(this,og),{signal:i}),this.canvas.addEventListener("pointermove",m(this,sg),{signal:i}),this.canvas.addEventListener("pointerup",m(this,ag),{signal:i}),this.canvas.removeEventListener("pointerdown",m(this,oc)),this.isEditing=!0,m(this,lc)||(F(this,lc,!0),z(this,xe,yu).call(this),this.thickness||(this.thickness=Bt._defaultThickness),this.color||(this.color=Bt._defaultColor||gt._defaultLineColor),this.opacity??(this.opacity=Bt._defaultOpacity)),this.currentPath.push([t,r]),F(this,ac,!1),z(this,xe,s1).call(this),F(this,Aa,()=>{z(this,xe,l2).call(this),m(this,Aa)&&window.requestAnimationFrame(m(this,Aa))}),window.requestAnimationFrame(m(this,Aa))},o1=function(t,r){const[i,s]=this.currentPath.at(-1);if(this.currentPath.length>1&&t===i&&r===s)return;const a=this.currentPath;let l=m(this,lo);if(a.push([t,r]),F(this,ac,!0),a.length<=2){l.moveTo(...a[0]),l.lineTo(t,r);return}a.length===3&&(F(this,lo,l=new Path2D),l.moveTo(...a[0])),z(this,xe,c2).call(this,l,...a.at(-3),...a.at(-2),t,r)},o2=function(){if(this.currentPath.length===0)return;const t=this.currentPath.at(-1);m(this,lo).lineTo(...t)},a2=function(t,r){F(this,Aa,null),t=Math.min(Math.max(t,0),this.canvas.width),r=Math.min(Math.max(r,0),this.canvas.height),z(this,xe,o1).call(this,t,r),z(this,xe,o2).call(this);let i;if(this.currentPath.length!==1)i=z(this,xe,u2).call(this);else{const d=[t,r];i=[[d,d.slice(),d.slice(),d]]}const s=m(this,lo),a=this.currentPath;this.currentPath=[],F(this,lo,new Path2D);const l=()=>{this.allRawPaths.push(a),this.paths.push(i),this.bezierPath2D.push(s),this._uiManager.rebuild(this)},u=()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(z(this,xe,Gy).call(this),z(this,xe,Xy).call(this)),z(this,xe,ef).call(this))};this.addCommands({cmd:l,undo:u,mustExec:!0})},l2=function(){if(!m(this,ac))return;F(this,ac,!1);const t=Math.ceil(this.thickness*this.parentScale),r=this.currentPath.slice(-3),i=r.map(l=>l[0]),s=r.map(l=>l[1]);Math.min(...i)-t,Math.max(...i)+t,Math.min(...s)-t,Math.max(...s)+t;const{ctx:a}=this;a.save(),a.clearRect(0,0,this.canvas.width,this.canvas.height);for(const l of this.bezierPath2D)a.stroke(l);a.stroke(m(this,lo)),a.restore()},c2=function(t,r,i,s,a,l,u){const d=(r+s)/2,h=(i+a)/2,p=(s+l)/2,g=(a+u)/2;t.bezierCurveTo(d+2*(s-d)/3,h+2*(a-h)/3,p+2*(s-p)/3,g+2*(a-g)/3,p,g)},u2=function(){const t=this.currentPath;if(t.length<=2)return[[t[0],t[0],t.at(-1),t.at(-1)]];const r=[];let i,[s,a]=t[0];for(i=1;i<t.length-2;i++){const[y,b]=t[i],[w,C]=t[i+1],x=(y+w)/2,A=(b+C)/2,E=[s+2*(y-s)/3,a+2*(b-a)/3],_=[x+2*(y-x)/3,A+2*(b-A)/3];r.push([[s,a],E,_,[x,A]]),[s,a]=[x,A]}const[l,u]=t[i],[d,h]=t[i+1],p=[s+2*(l-s)/3,a+2*(u-a)/3],g=[d+2*(l-d)/3,h+2*(u-h)/3];return r.push([[s,a],p,g,[d,h]]),r},fl=function(){if(this.isEmpty()){z(this,xe,Yy).call(this);return}z(this,xe,s1).call(this);const{canvas:t,ctx:r}=this;r.setTransform(1,0,0,1,0,0),r.clearRect(0,0,t.width,t.height),z(this,xe,Yy).call(this);for(const i of this.bezierPath2D)r.stroke(i)},a1=function(t){this.canvas.removeEventListener("pointerleave",m(this,og)),this.canvas.removeEventListener("pointermove",m(this,sg)),this.canvas.removeEventListener("pointerup",m(this,ag)),this.canvas.addEventListener("pointerdown",m(this,oc),{signal:this._uiManager._signal}),m(this,cs)&&clearTimeout(m(this,cs)),F(this,cs,setTimeout(()=>{F(this,cs,null),this.canvas.removeEventListener("contextmenu",xr)},10)),z(this,xe,a2).call(this,t.offsetX,t.offsetY),this.addToAnnotationStorage(),this.setInBackground()},Gy=function(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",this.canvas.setAttribute("data-l10n-id","pdfjs-ink-canvas"),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")},Xy=function(){F(this,co,new ResizeObserver(t=>{const r=t[0].contentRect;r.width&&r.height&&this.setDimensions(r.width,r.height)})),m(this,co).observe(this.div),this._uiManager._signal.addEventListener("abort",()=>{var t;(t=m(this,co))==null||t.disconnect(),F(this,co,null)},{once:!0})},yu=function(){if(!m(this,lc))return;const[t,r]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*t),this.canvas.height=Math.ceil(this.height*r),z(this,xe,Yy).call(this)},l1=function(t,r){const i=z(this,xe,qy).call(this),s=(t-i)/m(this,sc),a=(r-i)/m(this,ic);this.scaleFactor=Math.min(s,a)},Yy=function(){const t=z(this,xe,qy).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+t,this.translationY*this.scaleFactor+t)},ko=new WeakSet,d2=function(t){const r=new Path2D;for(let i=0,s=t.length;i<s;i++){const[a,l,u,d]=t[i];i===0&&r.moveTo(...a),r.bezierCurveTo(l[0],l[1],u[0],u[1],d[0],d[1])}return r},c1=function(t,r,i){const[s,a,l,u]=r;switch(i){case 0:for(let d=0,h=t.length;d<h;d+=2)t[d]+=s,t[d+1]=u-t[d+1];break;case 90:for(let d=0,h=t.length;d<h;d+=2){const p=t[d];t[d]=t[d+1]+s,t[d+1]=p+a}break;case 180:for(let d=0,h=t.length;d<h;d+=2)t[d]=l-t[d],t[d+1]+=a;break;case 270:for(let d=0,h=t.length;d<h;d+=2){const p=t[d];t[d]=l-t[d+1],t[d+1]=u-p}break;default:throw new Error("Invalid rotation")}return t},h2=function(t,r,i){const[s,a,l,u]=r;switch(i){case 0:for(let d=0,h=t.length;d<h;d+=2)t[d]-=s,t[d+1]=u-t[d+1];break;case 90:for(let d=0,h=t.length;d<h;d+=2){const p=t[d];t[d]=t[d+1]-a,t[d+1]=p-s}break;case 180:for(let d=0,h=t.length;d<h;d+=2)t[d]=l-t[d],t[d+1]-=a;break;case 270:for(let d=0,h=t.length;d<h;d+=2){const p=t[d];t[d]=u-t[d+1],t[d+1]=l-p}break;default:throw new Error("Invalid rotation")}return t},f2=function(t,r,i,s){var h,p;const a=[],l=this.thickness/2,u=t*r+l,d=t*i+l;for(const g of this.paths){const y=[],b=[];for(let w=0,C=g.length;w<C;w++){const[x,A,E,_]=g[w];if(x[0]===_[0]&&x[1]===_[1]&&C===1){const Y=t*x[0]+u,D=t*x[1]+d;y.push(Y,D),b.push(Y,D);break}const k=t*x[0]+u,M=t*x[1]+d,T=t*A[0]+u,N=t*A[1]+d,W=t*E[0]+u,P=t*E[1]+d,V=t*_[0]+u,X=t*_[1]+d;w===0&&(y.push(k,M),b.push(k,M)),y.push(T,N,W,P,V,X),b.push(T,N),w===C-1&&b.push(V,X)}a.push({bezier:z(h=Bt,ko,c1).call(h,y,s,this.rotation),points:z(p=Bt,ko,c1).call(p,b,s,this.rotation)})}return a},u1=function(){let t=1/0,r=-1/0,i=1/0,s=-1/0;for(const a of this.paths)for(const[l,u,d,h]of a){const p=Me.bezierBoundingBox(...l,...u,...d,...h);t=Math.min(t,p[0]),i=Math.min(i,p[1]),r=Math.max(r,p[2]),s=Math.max(s,p[3])}return[t,i,r,s]},qy=function(){return m(this,si)?Math.ceil(this.thickness*this.parentScale):0},ef=function(t=!1){if(this.isEmpty())return;if(!m(this,si)){z(this,xe,fl).call(this);return}const r=z(this,xe,u1).call(this),i=z(this,xe,qy).call(this);F(this,sc,Math.max(gt.MIN_SIZE,r[2]-r[0])),F(this,ic,Math.max(gt.MIN_SIZE,r[3]-r[1]));const s=Math.ceil(i+m(this,sc)*this.scaleFactor),a=Math.ceil(i+m(this,ic)*this.scaleFactor),[l,u]=this.parentDimensions;this.width=s/l,this.height=a/u,this.setAspectRatio(s,a);const d=this.translationX,h=this.translationY;this.translationX=-r[0],this.translationY=-r[1],z(this,xe,yu).call(this),z(this,xe,fl).call(this),F(this,cc,s),F(this,uc,a),this.setDims(s,a);const p=t?i/this.scaleFactor/2:0;this.translate(d-this.translationX-p,h-this.translationY-p)},H(Bt,ko),Be(Bt,"_defaultColor",null),Be(Bt,"_defaultOpacity",1),Be(Bt,"_defaultThickness",1),Be(Bt,"_type","ink"),Be(Bt,"_editorType",Ke.INK);let i1=Bt;var Pn,Mn,ka,uo,Ra,bd,us,ho,ds,Ii,lg,nt,tf,nf,Ky,h1,p2,g2,f1,Qy,m2;const ff=class ff extends gt{constructor(t){super({...t,name:"stampEditor"});H(this,nt);H(this,Pn,null);H(this,Mn,null);H(this,ka,null);H(this,uo,null);H(this,Ra,null);H(this,bd,"");H(this,us,null);H(this,ho,null);H(this,ds,null);H(this,Ii,!1);H(this,lg,!1);F(this,uo,t.bitmapUrl),F(this,Ra,t.bitmapFile)}static initialize(t,r){gt.initialize(t,r)}static get supportedTypes(){return Je(this,"supportedTypes",["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"].map(r=>`image/${r}`))}static get supportedTypesStr(){return Je(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(t){return this.supportedTypes.includes(t)}static paste(t,r){r.pasteEditor(Ke.STAMP,{bitmapFile:t.getAsFile()})}remove(){var t,r;m(this,Mn)&&(F(this,Pn,null),this._uiManager.imageManager.deleteId(m(this,Mn)),(t=m(this,us))==null||t.remove(),F(this,us,null),(r=m(this,ho))==null||r.disconnect(),F(this,ho,null),m(this,ds)&&(clearTimeout(m(this,ds)),F(this,ds,null))),super.remove()}rebuild(){if(!this.parent){m(this,Mn)&&z(this,nt,Ky).call(this);return}super.rebuild(),this.div!==null&&(m(this,Mn)&&m(this,us)===null&&z(this,nt,Ky).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(m(this,ka)||m(this,Pn)||m(this,uo)||m(this,Ra)||m(this,Mn))}get isResizable(){return!0}render(){if(this.div)return this.div;let t,r;if(this.width&&(t=this.x,r=this.y),super.render(),this.div.hidden=!0,this.addAltTextButton(),m(this,Pn)?z(this,nt,h1).call(this):z(this,nt,Ky).call(this),this.width){const[i,s]=this.parentDimensions;this.setAt(t*i,r*s,this.width*i,this.height*s)}return this.div}getImageForAltText(){return m(this,us)}static deserialize(t,r,i){if(t instanceof NN)return null;const s=super.deserialize(t,r,i),{rect:a,bitmapUrl:l,bitmapId:u,isSvg:d,accessibilityData:h}=t;u&&i.imageManager.isValidId(u)?F(s,Mn,u):F(s,uo,l),F(s,Ii,d);const[p,g]=s.pageDimensions;return s.width=(a[2]-a[0])/p,s.height=(a[3]-a[1])/g,h&&(s.altTextData=h),s}serialize(t=!1,r=null){if(this.isEmpty())return null;const i={annotationType:Ke.STAMP,bitmapId:m(this,Mn),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:m(this,Ii),structTreeParentId:this._structTreeParentId};if(t)return i.bitmapUrl=z(this,nt,Qy).call(this,!0),i.accessibilityData=this.altTextData,i;const{decorative:s,altText:a}=this.altTextData;if(!s&&a&&(i.accessibilityData={type:"Figure",alt:a}),r===null)return i;r.stamps||(r.stamps=new Map);const l=m(this,Ii)?(i.rect[2]-i.rect[0])*(i.rect[3]-i.rect[1]):null;if(!r.stamps.has(m(this,Mn)))r.stamps.set(m(this,Mn),{area:l,serialized:i}),i.bitmap=z(this,nt,Qy).call(this,!1);else if(m(this,Ii)){const u=r.stamps.get(m(this,Mn));l>u.area&&(u.area=l,u.serialized.bitmap.close(),u.serialized.bitmap=z(this,nt,Qy).call(this,!1))}return i}};Pn=new WeakMap,Mn=new WeakMap,ka=new WeakMap,uo=new WeakMap,Ra=new WeakMap,bd=new WeakMap,us=new WeakMap,ho=new WeakMap,ds=new WeakMap,Ii=new WeakMap,lg=new WeakMap,nt=new WeakSet,tf=function(t,r=!1){if(!t){this.remove();return}F(this,Pn,t.bitmap),r||(F(this,Mn,t.id),F(this,Ii,t.isSvg)),t.file&&F(this,bd,t.file.name),z(this,nt,h1).call(this)},nf=function(){F(this,ka,null),this._uiManager.enableWaiting(!1),m(this,us)&&this.div.focus()},Ky=function(){if(m(this,Mn)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(m(this,Mn)).then(i=>z(this,nt,tf).call(this,i,!0)).finally(()=>z(this,nt,nf).call(this));return}if(m(this,uo)){const i=m(this,uo);F(this,uo,null),this._uiManager.enableWaiting(!0),F(this,ka,this._uiManager.imageManager.getFromUrl(i).then(s=>z(this,nt,tf).call(this,s)).finally(()=>z(this,nt,nf).call(this)));return}if(m(this,Ra)){const i=m(this,Ra);F(this,Ra,null),this._uiManager.enableWaiting(!0),F(this,ka,this._uiManager.imageManager.getFromFile(i).then(s=>z(this,nt,tf).call(this,s)).finally(()=>z(this,nt,nf).call(this)));return}const t=document.createElement("input");t.type="file",t.accept=ff.supportedTypesStr;const r=this._uiManager._signal;F(this,ka,new Promise(i=>{t.addEventListener("change",async()=>{if(!t.files||t.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const s=await this._uiManager.imageManager.getFromFile(t.files[0]);z(this,nt,tf).call(this,s)}i()},{signal:r}),t.addEventListener("cancel",()=>{this.remove(),i()},{signal:r})}).finally(()=>z(this,nt,nf).call(this))),t.click()},h1=function(){const{div:t}=this;let{width:r,height:i}=m(this,Pn);const[s,a]=this.pageDimensions,l=.75;if(this.width)r=this.width*s,i=this.height*a;else if(r>l*s||i>l*a){const p=Math.min(l*s/r,l*a/i);r*=p,i*=p}const[u,d]=this.parentDimensions;this.setDims(r*u/s,i*d/a),this._uiManager.enableWaiting(!1);const h=F(this,us,document.createElement("canvas"));t.append(h),t.hidden=!1,z(this,nt,f1).call(this,r,i),z(this,nt,m2).call(this),m(this,lg)||(this.parent.addUndoableEditor(this),F(this,lg,!0)),this._reportTelemetry({action:"inserted_image"}),m(this,bd)&&h.setAttribute("aria-label",m(this,bd))},p2=function(t,r){var l;const[i,s]=this.parentDimensions;this.width=t/i,this.height=r/s,this.setDims(t,r),(l=this._initialOptions)!=null&&l.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,m(this,ds)!==null&&clearTimeout(m(this,ds)),F(this,ds,setTimeout(()=>{F(this,ds,null),z(this,nt,f1).call(this,t,r)},200))},g2=function(t,r){const{width:i,height:s}=m(this,Pn);let a=i,l=s,u=m(this,Pn);for(;a>2*t||l>2*r;){const d=a,h=l;a>2*t&&(a=a>=16384?Math.floor(a/2)-1:Math.ceil(a/2)),l>2*r&&(l=l>=16384?Math.floor(l/2)-1:Math.ceil(l/2));const p=new OffscreenCanvas(a,l);p.getContext("2d").drawImage(u,0,0,d,h,0,0,a,l),u=p.transferToImageBitmap()}return u},f1=function(t,r){t=Math.ceil(t),r=Math.ceil(r);const i=m(this,us);if(!i||i.width===t&&i.height===r)return;i.width=t,i.height=r;const s=m(this,Ii)?m(this,Pn):z(this,nt,g2).call(this,t,r);if(this._uiManager.hasMLManager&&!this.hasAltText()){const u=new OffscreenCanvas(t,r).getContext("2d");u.drawImage(s,0,0,s.width,s.height,0,0,t,r),this._uiManager.mlGuess({service:"image-to-text",request:{data:u.getImageData(0,0,t,r).data,width:t,height:r,channels:4}}).then(d=>{const h=(d==null?void 0:d.output)||"";this.parent&&h&&!this.hasAltText()&&(this.altTextData={altText:h,decorative:!1})})}const a=i.getContext("2d");a.filter=this._uiManager.hcmFilter,a.drawImage(s,0,0,s.width,s.height,0,0,t,r)},Qy=function(t){if(t){if(m(this,Ii)){const s=this._uiManager.imageManager.getSvgUrl(m(this,Mn));if(s)return s}const r=document.createElement("canvas");return{width:r.width,height:r.height}=m(this,Pn),r.getContext("2d").drawImage(m(this,Pn),0,0),r.toDataURL()}if(m(this,Ii)){const[r,i]=this.pageDimensions,s=Math.round(this.width*r*za.PDF_TO_CSS_UNITS),a=Math.round(this.height*i*za.PDF_TO_CSS_UNITS),l=new OffscreenCanvas(s,a);return l.getContext("2d").drawImage(m(this,Pn),0,0,m(this,Pn).width,m(this,Pn).height,0,0,s,a),l.transferToImageBitmap()}return structuredClone(m(this,Pn))},m2=function(){this._uiManager._signal&&(F(this,ho,new ResizeObserver(t=>{const r=t[0].contentRect;r.width&&r.height&&z(this,nt,p2).call(this,r.width,r.height)})),m(this,ho).observe(this.div),this._uiManager._signal.addEventListener("abort",()=>{var t;(t=m(this,ho))==null||t.disconnect(),F(this,ho,null)},{once:!0}))},Be(ff,"_type","stamp"),Be(ff,"_editorType",Ke.STAMP);let d1=ff;var dc,wd,hs,hc,fo,po,go,Hr,Ta,xd,Sd,tr,Le,Pa,Nn,y2,g1,m1,y1,Zy;const vi=class vi{constructor({uiManager:e,pageIndex:t,div:r,accessibilityManager:i,annotationLayer:s,drawLayer:a,textLayer:l,viewport:u,l10n:d}){H(this,Nn);H(this,dc);H(this,wd,!1);H(this,hs,null);H(this,hc,null);H(this,fo,null);H(this,po,null);H(this,go,null);H(this,Hr,new Map);H(this,Ta,!1);H(this,xd,!1);H(this,Sd,!1);H(this,tr,null);H(this,Le);const h=[...m(vi,Pa).values()];if(!vi._initialized){vi._initialized=!0;for(const p of h)p.initialize(d,e)}e.registerEditorTypes(h),F(this,Le,e),this.pageIndex=t,this.div=r,F(this,dc,i),F(this,hs,s),this.viewport=u,F(this,tr,l),this.drawLayer=a,m(this,Le).addLayer(this)}get isEmpty(){return m(this,Hr).size===0}get isInvisible(){return this.isEmpty&&m(this,Le).getMode()===Ke.NONE}updateToolbar(e){m(this,Le).updateToolbar(e)}updateMode(e=m(this,Le).getMode()){switch(z(this,Nn,Zy).call(this),e){case Ke.NONE:this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case Ke.INK:this.addInkEditorIfNeeded(!1),this.disableTextSelection(),this.togglePointerEvents(!0),this.disableClick();break;case Ke.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:t}=this.div;for(const r of m(vi,Pa).values())t.toggle(`${r._type}Editing`,e===r._editorType);this.div.hidden=!1}hasTextLayer(e){var t;return e===((t=m(this,tr))==null?void 0:t.div)}addInkEditorIfNeeded(e){if(m(this,Le).getMode()!==Ke.INK)return;if(!e){for(const r of m(this,Hr).values())if(r.isEmpty()){r.setInBackground();return}}this.createAndAddNewEditor({offsetX:0,offsetY:0},!1).setInBackground()}setEditingState(e){m(this,Le).setEditingState(e)}addCommands(e){m(this,Le).addCommands(e)}togglePointerEvents(e=!1){this.div.classList.toggle("disabled",!e)}toggleAnnotationLayerPointerEvents(e=!1){var t;(t=m(this,hs))==null||t.div.classList.toggle("disabled",!e)}enable(){this.div.tabIndex=0,this.togglePointerEvents(!0);const e=new Set;for(const r of m(this,Hr).values())r.enableEditing(),r.show(!0),r.annotationElementId&&(m(this,Le).removeChangedExistingAnnotation(r),e.add(r.annotationElementId));if(!m(this,hs))return;const t=m(this,hs).getEditableAnnotations();for(const r of t){if(r.hide(),m(this,Le).isDeletedAnnotationElement(r.data.id)||e.has(r.data.id))continue;const i=this.deserialize(r);i&&(this.addOrRebuild(i),i.enableEditing())}}disable(){var i;F(this,Sd,!0),this.div.tabIndex=-1,this.togglePointerEvents(!1);const e=new Map,t=new Map;for(const s of m(this,Hr).values())if(s.disableEditing(),!!s.annotationElementId){if(s.serialize()!==null){e.set(s.annotationElementId,s);continue}else t.set(s.annotationElementId,s);(i=this.getEditableAnnotation(s.annotationElementId))==null||i.show(),s.remove()}if(m(this,hs)){const s=m(this,hs).getEditableAnnotations();for(const a of s){const{id:l}=a.data;if(m(this,Le).isDeletedAnnotationElement(l))continue;let u=t.get(l);if(u){u.resetAnnotationElement(a),u.show(!1),a.show();continue}u=e.get(l),u&&(m(this,Le).addChangedExistingAnnotation(u),u.renderAnnotationElement(a),u.show(!1)),a.show()}}z(this,Nn,Zy).call(this),this.isEmpty&&(this.div.hidden=!0);const{classList:r}=this.div;for(const s of m(vi,Pa).values())r.remove(`${s._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),F(this,Sd,!1)}getEditableAnnotation(e){var t;return((t=m(this,hs))==null?void 0:t.getEditableAnnotation(e))||null}setActiveEditor(e){m(this,Le).getActive()!==e&&m(this,Le).setActiveEditor(e)}enableTextSelection(){var e;this.div.tabIndex=-1,(e=m(this,tr))!=null&&e.div&&!m(this,po)&&(F(this,po,z(this,Nn,y2).bind(this)),m(this,tr).div.addEventListener("pointerdown",m(this,po),{signal:m(this,Le)._signal}),m(this,tr).div.classList.add("highlighting"))}disableTextSelection(){var e;this.div.tabIndex=0,(e=m(this,tr))!=null&&e.div&&m(this,po)&&(m(this,tr).div.removeEventListener("pointerdown",m(this,po)),F(this,po,null),m(this,tr).div.classList.remove("highlighting"))}enableClick(){if(m(this,fo))return;const e=m(this,Le)._signal;F(this,fo,this.pointerdown.bind(this)),F(this,hc,this.pointerup.bind(this)),this.div.addEventListener("pointerdown",m(this,fo),{signal:e}),this.div.addEventListener("pointerup",m(this,hc),{signal:e})}disableClick(){m(this,fo)&&(this.div.removeEventListener("pointerdown",m(this,fo)),this.div.removeEventListener("pointerup",m(this,hc)),F(this,fo,null),F(this,hc,null))}attach(e){m(this,Hr).set(e.id,e);const{annotationElementId:t}=e;t&&m(this,Le).isDeletedAnnotationElement(t)&&m(this,Le).removeDeletedAnnotationElement(e)}detach(e){var t;m(this,Hr).delete(e.id),(t=m(this,dc))==null||t.removePointerInTextLayer(e.contentDiv),!m(this,Sd)&&e.annotationElementId&&m(this,Le).addDeletedAnnotationElement(e)}remove(e){this.detach(e),m(this,Le).removeEditor(e),e.div.remove(),e.isAttachedToDOM=!1,m(this,xd)||this.addInkEditorIfNeeded(!1)}changeParent(e){var t;e.parent!==this&&(e.parent&&e.annotationElementId&&(m(this,Le).addDeletedAnnotationElement(e.annotationElementId),gt.deleteAnnotationElement(e),e.annotationElementId=null),this.attach(e),(t=e.parent)==null||t.detach(e),e.setParent(this),e.div&&e.isAttachedToDOM&&(e.div.remove(),this.div.append(e.div)))}add(e){if(!(e.parent===this&&e.isAttachedToDOM)){if(this.changeParent(e),m(this,Le).addEditor(e),this.attach(e),!e.isAttachedToDOM){const t=e.render();this.div.append(t),e.isAttachedToDOM=!0}e.fixAndSetPosition(),e.onceAdded(),m(this,Le).addToAnnotationStorage(e),e._reportTelemetry(e.telemetryInitialData)}}moveEditorInDOM(e){var r;if(!e.isAttachedToDOM)return;const{activeElement:t}=document;e.div.contains(t)&&!m(this,go)&&(e._focusEventsAllowed=!1,F(this,go,setTimeout(()=>{F(this,go,null),e.div.contains(document.activeElement)?e._focusEventsAllowed=!0:(e.div.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:m(this,Le)._signal}),t.focus())},0))),e._structTreeParentId=(r=m(this,dc))==null?void 0:r.moveElementInDOM(this.div,e.div,e.contentDiv,!0)}addOrRebuild(e){e.needsToBeRebuilt()?(e.parent||(e.parent=this),e.rebuild(),e.show()):this.add(e)}addUndoableEditor(e){const t=()=>e._uiManager.rebuild(e),r=()=>{e.remove()};this.addCommands({cmd:t,undo:r,mustExec:!1})}getNextId(){return m(this,Le).getId()}get _signal(){return m(this,Le)._signal}canCreateNewEmptyEditor(){var e;return(e=m(this,Nn,g1))==null?void 0:e.canCreateNewEmptyEditor()}pasteEditor(e,t){m(this,Le).updateToolbar(e),m(this,Le).updateMode(e);const{offsetX:r,offsetY:i}=z(this,Nn,y1).call(this),s=this.getNextId(),a=z(this,Nn,m1).call(this,{parent:this,id:s,x:r,y:i,uiManager:m(this,Le),isCentered:!0,...t});a&&this.add(a)}deserialize(e){var t;return((t=m(vi,Pa).get(e.annotationType??e.annotationEditorType))==null?void 0:t.deserialize(e,this,m(this,Le)))||null}createAndAddNewEditor(e,t,r={}){const i=this.getNextId(),s=z(this,Nn,m1).call(this,{parent:this,id:i,x:e.offsetX,y:e.offsetY,uiManager:m(this,Le),isCentered:t,...r});return s&&this.add(s),s}addNewEditor(){this.createAndAddNewEditor(z(this,Nn,y1).call(this),!0)}setSelected(e){m(this,Le).setSelected(e)}toggleSelected(e){m(this,Le).toggleSelected(e)}isSelected(e){return m(this,Le).isSelected(e)}unselect(e){m(this,Le).unselect(e)}pointerup(e){const{isMac:t}=br.platform;if(!(e.button!==0||e.ctrlKey&&t)&&e.target===this.div&&m(this,Ta)){if(F(this,Ta,!1),!m(this,wd)){F(this,wd,!0);return}if(m(this,Le).getMode()===Ke.STAMP){m(this,Le).unselectAll();return}this.createAndAddNewEditor(e,!1)}}pointerdown(e){if(m(this,Le).getMode()===Ke.HIGHLIGHT&&this.enableTextSelection(),m(this,Ta)){F(this,Ta,!1);return}const{isMac:t}=br.platform;if(e.button!==0||e.ctrlKey&&t||e.target!==this.div)return;F(this,Ta,!0);const r=m(this,Le).getActive();F(this,wd,!r||r.isEmpty())}findNewParent(e,t,r){const i=m(this,Le).findParent(t,r);return i===null||i===this?!1:(i.changeParent(e),!0)}destroy(){var e,t;((e=m(this,Le).getActive())==null?void 0:e.parent)===this&&(m(this,Le).commitOrRemove(),m(this,Le).setActiveEditor(null)),m(this,go)&&(clearTimeout(m(this,go)),F(this,go,null));for(const r of m(this,Hr).values())(t=m(this,dc))==null||t.removePointerInTextLayer(r.contentDiv),r.setParent(null),r.isAttachedToDOM=!1,r.div.remove();this.div=null,m(this,Hr).clear(),m(this,Le).removeLayer(this)}render({viewport:e}){this.viewport=e,vc(this.div,e);for(const t of m(this,Le).getEditors(this.pageIndex))this.add(t),t.rebuild();this.updateMode()}update({viewport:e}){m(this,Le).commitOrRemove(),z(this,Nn,Zy).call(this);const t=this.viewport.rotation,r=e.rotation;if(this.viewport=e,vc(this.div,{rotation:r}),t!==r)for(const i of m(this,Hr).values())i.rotate(r);this.addInkEditorIfNeeded(!1)}get pageDimensions(){const{pageWidth:e,pageHeight:t}=this.viewport.rawDims;return[e,t]}get scale(){return m(this,Le).viewParameters.realScale}};dc=new WeakMap,wd=new WeakMap,hs=new WeakMap,hc=new WeakMap,fo=new WeakMap,po=new WeakMap,go=new WeakMap,Hr=new WeakMap,Ta=new WeakMap,xd=new WeakMap,Sd=new WeakMap,tr=new WeakMap,Le=new WeakMap,Pa=new WeakMap,Nn=new WeakSet,y2=function(e){if(m(this,Le).unselectAll(),e.target===m(this,tr).div){const{isMac:t}=br.platform;if(e.button!==0||e.ctrlKey&&t)return;m(this,Le).showAllEditors("highlight",!0,!0),m(this,tr).div.classList.add("free"),C0.startHighlighting(this,m(this,Le).direction==="ltr",e),m(this,tr).div.addEventListener("pointerup",()=>{m(this,tr).div.classList.remove("free")},{once:!0,signal:m(this,Le)._signal}),e.preventDefault()}},g1=function(){return m(vi,Pa).get(m(this,Le).getMode())},m1=function(e){const t=m(this,Nn,g1);return t?new t.prototype.constructor(e):null},y1=function(){const{x:e,y:t,width:r,height:i}=this.div.getBoundingClientRect(),s=Math.max(0,e),a=Math.max(0,t),l=Math.min(window.innerWidth,e+r),u=Math.min(window.innerHeight,t+i),d=(s+l)/2-e,h=(a+u)/2-t,[p,g]=this.viewport.rotation%180===0?[d,h]:[h,d];return{offsetX:p,offsetY:g}},Zy=function(){F(this,xd,!0);for(const e of m(this,Hr).values())e.isEmpty()&&e.remove();F(this,xd,!1)},Be(vi,"_initialized",!1),H(vi,Pa,new Map([XS,i1,d1,C0].map(e=>[e._editorType,e])));let p1=vi;var fs,cg,gn,Ma,ug,b1,Ec,w1,v2;const _n=class _n{constructor({pageIndex:e}){H(this,Ec);H(this,fs,null);H(this,cg,0);H(this,gn,new Map);H(this,Ma,new Map);this.pageIndex=e}setParent(e){if(!m(this,fs)){F(this,fs,e);return}if(m(this,fs)!==e){if(m(this,gn).size>0)for(const t of m(this,gn).values())t.remove(),e.append(t);F(this,fs,e)}}static get _svgFactory(){return Je(this,"_svgFactory",new pE)}highlight(e,t,r,i=!1){const s=Mr(this,cg)._++,a=z(this,Ec,w1).call(this,e.box);a.classList.add("highlight"),e.free&&a.classList.add("free");const l=_n._svgFactory.createElement("defs");a.append(l);const u=_n._svgFactory.createElement("path");l.append(u);const d=`path_p${this.pageIndex}_${s}`;u.setAttribute("id",d),u.setAttribute("d",e.toSVGPath()),i&&m(this,Ma).set(s,u);const h=z(this,Ec,v2).call(this,l,d),p=_n._svgFactory.createElement("use");return a.append(p),a.setAttribute("fill",t),a.setAttribute("fill-opacity",r),p.setAttribute("href",`#${d}`),m(this,gn).set(s,a),{id:s,clipPathId:`url(#${h})`}}highlightOutline(e){const t=Mr(this,cg)._++,r=z(this,Ec,w1).call(this,e.box);r.classList.add("highlightOutline");const i=_n._svgFactory.createElement("defs");r.append(i);const s=_n._svgFactory.createElement("path");i.append(s);const a=`path_p${this.pageIndex}_${t}`;s.setAttribute("id",a),s.setAttribute("d",e.toSVGPath()),s.setAttribute("vector-effect","non-scaling-stroke");let l;if(e.free){r.classList.add("free");const h=_n._svgFactory.createElement("mask");i.append(h),l=`mask_p${this.pageIndex}_${t}`,h.setAttribute("id",l),h.setAttribute("maskUnits","objectBoundingBox");const p=_n._svgFactory.createElement("rect");h.append(p),p.setAttribute("width","1"),p.setAttribute("height","1"),p.setAttribute("fill","white");const g=_n._svgFactory.createElement("use");h.append(g),g.setAttribute("href",`#${a}`),g.setAttribute("stroke","none"),g.setAttribute("fill","black"),g.setAttribute("fill-rule","nonzero"),g.classList.add("mask")}const u=_n._svgFactory.createElement("use");r.append(u),u.setAttribute("href",`#${a}`),l&&u.setAttribute("mask",`url(#${l})`);const d=u.cloneNode();return r.append(d),u.classList.add("mainOutline"),d.classList.add("secondaryOutline"),m(this,gn).set(t,r),t}finalizeLine(e,t){const r=m(this,Ma).get(e);m(this,Ma).delete(e),this.updateBox(e,t.box),r.setAttribute("d",t.toSVGPath())}updateLine(e,t){m(this,gn).get(e).firstChild.firstChild.setAttribute("d",t.toSVGPath())}removeFreeHighlight(e){this.remove(e),m(this,Ma).delete(e)}updatePath(e,t){m(this,Ma).get(e).setAttribute("d",t.toSVGPath())}updateBox(e,t){var r;z(r=_n,ug,b1).call(r,m(this,gn).get(e),t)}show(e,t){m(this,gn).get(e).classList.toggle("hidden",!t)}rotate(e,t){m(this,gn).get(e).setAttribute("data-main-rotation",t)}changeColor(e,t){m(this,gn).get(e).setAttribute("fill",t)}changeOpacity(e,t){m(this,gn).get(e).setAttribute("fill-opacity",t)}addClass(e,t){m(this,gn).get(e).classList.add(t)}removeClass(e,t){m(this,gn).get(e).classList.remove(t)}remove(e){m(this,fs)!==null&&(m(this,gn).get(e).remove(),m(this,gn).delete(e))}destroy(){F(this,fs,null);for(const e of m(this,gn).values())e.remove();m(this,gn).clear()}};fs=new WeakMap,cg=new WeakMap,gn=new WeakMap,Ma=new WeakMap,ug=new WeakSet,b1=function(e,{x:t=0,y:r=0,width:i=1,height:s=1}={}){const{style:a}=e;a.top=`${100*r}%`,a.left=`${100*t}%`,a.width=`${100*i}%`,a.height=`${100*s}%`},Ec=new WeakSet,w1=function(e){var r;const t=_n._svgFactory.create(1,1,!0);return m(this,fs).append(t),t.setAttribute("aria-hidden",!0),z(r=_n,ug,b1).call(r,t,e),t},v2=function(e,t){const r=_n._svgFactory.createElement("clipPath");e.append(r);const i=`clip_${t}`;r.setAttribute("id",i),r.setAttribute("clipPathUnits","objectBoundingBox");const s=_n._svgFactory.createElement("use");return r.append(s),s.setAttribute("href",`#${t}`),s.classList.add("clip"),i},H(_n,ug);let v1=_n;He.AbortException;He.AnnotationEditorLayer;He.AnnotationEditorParamsType;He.AnnotationEditorType;He.AnnotationEditorUIManager;He.AnnotationLayer;He.AnnotationMode;He.CMapCompressionType;He.ColorPicker;He.DOMSVGFactory;He.DrawLayer;He.FeatureTest;var b9=He.GlobalWorkerOptions;He.ImageKind;He.InvalidPDFException;He.MissingPDFException;He.OPS;He.Outliner;He.PDFDataRangeTransport;He.PDFDateString;He.PDFWorker;He.PasswordResponses;He.PermissionFlag;He.PixelsPerInch;He.RenderingCancelledException;He.TextLayer;He.UnexpectedResponseException;He.Util;He.VerbosityLevel;He.XfaLayer;He.build;He.createValidAbsoluteUrl;He.fetchData;var w9=He.getDocument;He.getFilenameFromUrl;He.getPdfFilenameFromUrl;He.getXfaPageViewport;He.isDataScheme;He.isPdfFile;He.noContextMenu;He.normalizeUnicode;He.renderTextLayer;He.setLayerDimensions;He.shadow;He.updateTextLayer;He.version;const x9=n=>ct.createElement("div",{style:{color:"black"}},"Loading ",Math.floor(n.loaded/n.total*100),"%"),S9=n=>ct.createElement("div",{style:{color:"black"}},n.message),E9=n=>{throw new Error(`Error loading PDF document: ${n.message}!`)},C9="https://unpkg.com/pdfjs-dist@4.4.168/build/pdf.worker.min.mjs",_9=({document:n,beforeLoad:e=x9,errorMessage:t=S9,children:r,onError:i=E9,workerSrc:s=C9})=>{const a=I.useRef(null),l=I.useRef(null),[u,d]=I.useState(null),[h,p]=I.useState(null);return I.useEffect(()=>(b9.workerSrc=s,a.current=w9(n),a.current.onProgress=g=>{p(g.loaded>g.total?null:g)},a.current.promise.then(g=>{l.current=g}).catch(g=>{g.message!="Worker was destroyed"&&(d(g),i(g))}).finally(()=>{p(null)}),()=>{a.current&&a.current.destroy(),l.current&&l.current.destroy()}),[n]),u?t(u):h?e(h):l.current&&r(l.current)};function A9({readRecords:n,displayedReads:e}){const{highlight:t,isScrolledTo:r,highlightBindings:i}=zV(),s=e.includes(t.readRecordId)?n[t.readRecordId].color:"#e6e6e6";return t.type==="text"?L.jsx(KV,{isScrolledTo:r,highlight:t,style:{background:s}}):L.jsx(b8,{isScrolledTo:r,highlight:t,bounds:i.textLayer,style:{background:s,pointerEvents:"none"}})}const k9=n=>{document.location.hash=`highlight-${n.id}`},R9=({highlights:n,resetHighlights:e})=>{const t=I.useContext(To);if(!t)throw new Error("PaperContext not found");const{readRecords:r}=t,i=s=>{const a=parseInt(s.slice(1,3),16),l=parseInt(s.slice(3,5),16),u=parseInt(s.slice(5,7),16);return`rgba(${a}, ${l}, ${u}, 1)`};return L.jsxs("div",{className:"sidebar",style:{width:"25%"},children:[n&&L.jsx("ul",{className:"sidebar__highlights",children:n.map((s,a)=>L.jsxs("li",{className:"sidebar__highlight",onClick:()=>{k9(s)},style:{backgroundColor:i(r[s.readRecordId].color)},children:[L.jsxs("div",{children:[s.content.text&&L.jsx("blockquote",{style:{marginTop:"0.5rem"},children:`${s.content.text.slice(0,90).trim()}…`}),s.content.image&&L.jsx("div",{className:"highlight__image__container",style:{marginTop:"0.5rem"},children:L.jsx("img",{src:s.content.image,alt:"Screenshot",className:"highlight__image"})})]}),L.jsxs("div",{className:"highlight__location",children:["Page ",s.position.boundingRect.pageNumber]})]},a))}),n&&n.length>0&&L.jsx("div",{style:{padding:"0.5rem"},children:L.jsx("button",{onClick:e,className:"sidebar__reset",children:"Reset highlights"})})]})},T9=({addHighlight:n})=>{const e=I.useRef(null),{getCurrentSelection:t,removeGhostHighlight:r,setTip:i}=uI();return L.jsx("div",{className:"Tip",children:L.jsx("button",{className:"Tip__compact",onClick:()=>{e.current=t(),n({content:e.current.content,type:e.current.type,position:e.current.position}),r(),i(null)},children:"Add highlight"})})};function P9(){const n=I.useContext(To);if(!n)throw new Error("PaperContext not found");const{paperUrl:e,setPaperUrl:t,highlights:r,addHighlight:i,resetHighlights:s,selectedHighlightId:a,currentReadId:l,readRecords:u,displayedReads:d}=n,h=()=>document.location.hash.slice(11),p=()=>{document.location.hash=""},g=I.useRef(null),y=()=>{const A=b(h());A&&g.current&&g.current.scrollToHighlight(A)};I.useEffect(()=>(window.addEventListener("hashchange",y),()=>{window.removeEventListener("hashchange",y)}),[y]);const b=A=>r.find(E=>E.id===A);I.useEffect(()=>{console.log("selectedHighlightId",a)},[a]);const[w,C]=I.useState(!1),x=A=>{var _;const E=(_=A.target.files)==null?void 0:_[0];if(E&&E.type==="application/pdf"){const k=new FileReader;k.onload=M=>{var T;t((T=M.target)==null?void 0:T.result)},k.readAsDataURL(E)}else alert("Please upload a valid PDF file.")};return L.jsx(rn,{style:{width:"100%",height:"100%",display:"flex",flexDirection:"row"},children:e?L.jsxs(L.Fragment,{children:[w&&L.jsx(R9,{highlights:r,resetHighlights:s}),w&&L.jsx(Rf,{sx:{position:"absolute",left:"calc(15% - 10px)",top:"50%",transform:"translateY(-50%)",backgroundColor:"white","&:hover":{backgroundColor:"#f0f0f0"},boxShadow:2,zIndex:1e3,width:"24px",height:"48px",borderRadius:"0 4px 4px 0"},onClick:()=>C(!1),children:L.jsx(uV,{})}),!w&&L.jsx(Rf,{sx:{position:"fixed",left:"0",top:"50%",transform:"translateY(-50%)",backgroundColor:"white","&:hover":{backgroundColor:"#f0f0f0"},boxShadow:2,zIndex:1e3,width:"24px",height:"48px",borderRadius:"0 4px 4px 0"},onClick:()=>C(!0),children:L.jsx(dV,{})}),L.jsx("div",{style:{height:"100%",width:w?"calc(75%)":"100%",position:"relative"},className:"pdf",children:L.jsx(_9,{document:e,children:A=>{var E,_;return L.jsx(qV,{enableAreaSelection:k=>k.altKey,pdfDocument:A,onScrollAway:p,utilsRef:k=>{g.current=k},selectionTip:Object.keys(u).length>0?L.jsx(T9,{addHighlight:i,color:(E=u[l])==null?void 0:E.color}):null,highlights:r,textSelectionColor:(_=u[l])==null?void 0:_.color,children:L.jsx(A9,{readRecords:u,displayedReads:d})})}})})]}):L.jsxs(rn,{sx:{width:"100%",height:"100%",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},children:[L.jsx("input",{type:"file",accept:"application/pdf",onChange:x,style:{display:"none"},id:"pdf-upload"}),L.jsx("label",{htmlFor:"pdf-upload",children:L.jsx(Id,{variant:"outlined",component:"span",startIcon:L.jsx(gV,{}),children:"Upload PDF"})})]})})}function M9({data:n}){const{id:e,readRecordId:t,label:r,type:i,content:s}=n,a=I.useContext(To);if(!a)throw new Error("PaperContext not found");const{readRecords:l,displayedReads:u,selectedHighlightId:d}=a,{color:h}=l[t],p=u.includes(t);return L.jsxs(rn,{className:`highlight-node ${e===d?"selected":""}`,id:`node-${e}`,sx:{backgroundColor:p?h:"#e6e6e6"},children:[L.jsx(La,{type:"target",position:Ie.Top}),L.jsx(Fa,{variant:"h6",children:r}),i==="area"&&L.jsx("img",{src:s,alt:"Node Content",style:{maxWidth:"100%",maxHeight:"100px"}}),L.jsx(La,{type:"source",position:Ie.Bottom})]})}function I9({data:n}){const{id:e,readRecordId:t,label:r,content:i,type:s,notes:a}=n,l=I.useContext(To);if(!l)throw new Error("PaperContext not found");const{readRecords:u,displayedReads:d}=l,{color:h}=u[t],p=d.includes(t);return L.jsxs(rn,{className:"overview-node",id:`node-${e}`,sx:{backgroundColor:p?h:"#e6e6e6"},children:[L.jsx(La,{type:"target",position:Ie.Top}),L.jsx(Fa,{variant:"h6",children:r}),s==="area"&&L.jsxs(L.Fragment,{children:[L.jsx("img",{src:i,alt:"Node Content",style:{maxWidth:"100%",maxHeight:"100px"}}),L.jsx("br",{})]}),L.jsx(Fa,{variant:"caption",children:a}),L.jsx(La,{type:"source",position:Ie.Bottom})]})}function N9({sourceX:n,sourceY:e,targetX:t,targetY:r,sourcePosition:i,targetPosition:s,markerEnd:a}){const[l,u,d]=ev({sourceX:n,sourceY:e,sourcePosition:i,targetX:t,targetY:r,targetPosition:s});return L.jsxs(L.Fragment,{children:[L.jsx(Ld,{path:l,markerEnd:a,style:{stroke:"black",strokeWidth:1,strokeDasharray:"5,5"}}),L.jsx(sM,{children:L.jsx("div",{className:"nodrag nopan",style:{transform:`translate(-50%, -50%) translate(${u}px,${d}px)`}})})]})}function L9({sourceX:n,sourceY:e,targetX:t,targetY:r,sourcePosition:i,targetPosition:s}){const[a,l,u]=ev({sourceX:n,sourceY:e,sourcePosition:i,targetX:t,targetY:r,targetPosition:s});return L.jsxs(L.Fragment,{children:[L.jsx(Ld,{path:a,style:{stroke:"black",strokeWidth:2}}),L.jsx(sM,{children:L.jsx("div",{className:"nodrag nopan",style:{transform:`translate(-50%, -50%) translate(${l}px,${u}px)`}})})]})}function D9({className:n}){return L.jsxs("div",{className:`references-container ${n}`,children:[L.jsx("h3",{className:"references-title",children:"References in Paper"}),L.jsx("p",{className:"references-placeholder",children:"No references found."})]})}var nT;(function(n){n.STRING="string",n.NUMBER="number",n.INTEGER="integer",n.BOOLEAN="boolean",n.ARRAY="array",n.OBJECT="object"})(nT||(nT={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rT;(function(n){n.LANGUAGE_UNSPECIFIED="language_unspecified",n.PYTHON="python"})(rT||(rT={}));var iT;(function(n){n.OUTCOME_UNSPECIFIED="outcome_unspecified",n.OUTCOME_OK="outcome_ok",n.OUTCOME_FAILED="outcome_failed",n.OUTCOME_DEADLINE_EXCEEDED="outcome_deadline_exceeded"})(iT||(iT={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sT=["user","model","function","system"];var oT;(function(n){n.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",n.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",n.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",n.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",n.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",n.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY"})(oT||(oT={}));var aT;(function(n){n.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",n.BLOCK_NONE="BLOCK_NONE"})(aT||(aT={}));var lT;(function(n){n.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",n.NEGLIGIBLE="NEGLIGIBLE",n.LOW="LOW",n.MEDIUM="MEDIUM",n.HIGH="HIGH"})(lT||(lT={}));var cT;(function(n){n.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",n.SAFETY="SAFETY",n.OTHER="OTHER"})(cT||(cT={}));var hf;(function(n){n.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",n.STOP="STOP",n.MAX_TOKENS="MAX_TOKENS",n.SAFETY="SAFETY",n.RECITATION="RECITATION",n.LANGUAGE="LANGUAGE",n.BLOCKLIST="BLOCKLIST",n.PROHIBITED_CONTENT="PROHIBITED_CONTENT",n.SPII="SPII",n.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",n.OTHER="OTHER"})(hf||(hf={}));var uT;(function(n){n.TASK_TYPE_UNSPECIFIED="TASK_TYPE_UNSPECIFIED",n.RETRIEVAL_QUERY="RETRIEVAL_QUERY",n.RETRIEVAL_DOCUMENT="RETRIEVAL_DOCUMENT",n.SEMANTIC_SIMILARITY="SEMANTIC_SIMILARITY",n.CLASSIFICATION="CLASSIFICATION",n.CLUSTERING="CLUSTERING"})(uT||(uT={}));var dT;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.AUTO="AUTO",n.ANY="ANY",n.NONE="NONE"})(dT||(dT={}));var hT;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.MODE_DYNAMIC="MODE_DYNAMIC"})(hT||(hT={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vn extends Error{constructor(e){super(`[GoogleGenerativeAI Error]: ${e}`)}}class uu extends Vn{constructor(e,t){super(e),this.response=t}}class b2 extends Vn{constructor(e,t,r,i){super(e),this.status=t,this.statusText=r,this.errorDetails=i}}class Na extends Vn{}class w2 extends Vn{}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O9="https://generativelanguage.googleapis.com",F9="v1beta",z9="0.23.0",$9="genai-js";var xc;(function(n){n.GENERATE_CONTENT="generateContent",n.STREAM_GENERATE_CONTENT="streamGenerateContent",n.COUNT_TOKENS="countTokens",n.EMBED_CONTENT="embedContent",n.BATCH_EMBED_CONTENTS="batchEmbedContents"})(xc||(xc={}));class B9{constructor(e,t,r,i,s){this.model=e,this.task=t,this.apiKey=r,this.stream=i,this.requestOptions=s}toString(){var e,t;const r=((e=this.requestOptions)===null||e===void 0?void 0:e.apiVersion)||F9;let s=`${((t=this.requestOptions)===null||t===void 0?void 0:t.baseUrl)||O9}/${r}/${this.model}:${this.task}`;return this.stream&&(s+="?alt=sse"),s}}function H9(n){const e=[];return n!=null&&n.apiClient&&e.push(n.apiClient),e.push(`${$9}/${z9}`),e.join(" ")}async function j9(n){var e;const t=new Headers;t.append("Content-Type","application/json"),t.append("x-goog-api-client",H9(n.requestOptions)),t.append("x-goog-api-key",n.apiKey);let r=(e=n.requestOptions)===null||e===void 0?void 0:e.customHeaders;if(r){if(!(r instanceof Headers))try{r=new Headers(r)}catch(i){throw new Na(`unable to convert customHeaders value ${JSON.stringify(r)} to Headers: ${i.message}`)}for(const[i,s]of r.entries()){if(i==="x-goog-api-key")throw new Na(`Cannot set reserved header name ${i}`);if(i==="x-goog-api-client")throw new Na(`Header name ${i} can only be set using the apiClient field`);t.append(i,s)}}return t}async function W9(n,e,t,r,i,s){const a=new B9(n,e,t,r,s);return{url:a.toString(),fetchOptions:Object.assign(Object.assign({},X9(s)),{method:"POST",headers:await j9(a),body:i})}}async function Mg(n,e,t,r,i,s={},a=fetch){const{url:l,fetchOptions:u}=await W9(n,e,t,r,i,s);return U9(l,u,a)}async function U9(n,e,t=fetch){let r;try{r=await t(n,e)}catch(i){V9(i,n)}return r.ok||await G9(r,n),r}function V9(n,e){let t=n;throw t.name==="AbortError"?(t=new w2(`Request aborted when fetching ${e.toString()}: ${n.message}`),t.stack=n.stack):n instanceof b2||n instanceof Na||(t=new Vn(`Error fetching from ${e.toString()}: ${n.message}`),t.stack=n.stack),t}async function G9(n,e){let t="",r;try{const i=await n.json();t=i.error.message,i.error.details&&(t+=` ${JSON.stringify(i.error.details)}`,r=i.error.details)}catch{}throw new b2(`Error fetching from ${e.toString()}: [${n.status} ${n.statusText}] ${t}`,n.status,n.statusText,r)}function X9(n){const e={};if((n==null?void 0:n.signal)!==void 0||(n==null?void 0:n.timeout)>=0){const t=new AbortController;(n==null?void 0:n.timeout)>=0&&setTimeout(()=>t.abort(),n.timeout),n!=null&&n.signal&&n.signal.addEventListener("abort",()=>{t.abort()}),e.signal=t.signal}return e}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SE(n){return n.text=()=>{if(n.candidates&&n.candidates.length>0){if(n.candidates.length>1&&console.warn(`This response had ${n.candidates.length} candidates. Returning text from the first candidate only. Access response.candidates directly to use the other candidates.`),Jy(n.candidates[0]))throw new uu(`${la(n)}`,n);return Y9(n)}else if(n.promptFeedback)throw new uu(`Text not available. ${la(n)}`,n);return""},n.functionCall=()=>{if(n.candidates&&n.candidates.length>0){if(n.candidates.length>1&&console.warn(`This response had ${n.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),Jy(n.candidates[0]))throw new uu(`${la(n)}`,n);return console.warn("response.functionCall() is deprecated. Use response.functionCalls() instead."),fT(n)[0]}else if(n.promptFeedback)throw new uu(`Function call not available. ${la(n)}`,n)},n.functionCalls=()=>{if(n.candidates&&n.candidates.length>0){if(n.candidates.length>1&&console.warn(`This response had ${n.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),Jy(n.candidates[0]))throw new uu(`${la(n)}`,n);return fT(n)}else if(n.promptFeedback)throw new uu(`Function call not available. ${la(n)}`,n)},n}function Y9(n){var e,t,r,i;const s=[];if(!((t=(e=n.candidates)===null||e===void 0?void 0:e[0].content)===null||t===void 0)&&t.parts)for(const a of(i=(r=n.candidates)===null||r===void 0?void 0:r[0].content)===null||i===void 0?void 0:i.parts)a.text&&s.push(a.text),a.executableCode&&s.push("\n```"+a.executableCode.language+`
`+a.executableCode.code+"\n```\n"),a.codeExecutionResult&&s.push("\n```\n"+a.codeExecutionResult.output+"\n```\n");return s.length>0?s.join(""):""}function fT(n){var e,t,r,i;const s=[];if(!((t=(e=n.candidates)===null||e===void 0?void 0:e[0].content)===null||t===void 0)&&t.parts)for(const a of(i=(r=n.candidates)===null||r===void 0?void 0:r[0].content)===null||i===void 0?void 0:i.parts)a.functionCall&&s.push(a.functionCall);if(s.length>0)return s}const q9=[hf.RECITATION,hf.SAFETY,hf.LANGUAGE];function Jy(n){return!!n.finishReason&&q9.includes(n.finishReason)}function la(n){var e,t,r;let i="";if((!n.candidates||n.candidates.length===0)&&n.promptFeedback)i+="Response was blocked",!((e=n.promptFeedback)===null||e===void 0)&&e.blockReason&&(i+=` due to ${n.promptFeedback.blockReason}`),!((t=n.promptFeedback)===null||t===void 0)&&t.blockReasonMessage&&(i+=`: ${n.promptFeedback.blockReasonMessage}`);else if(!((r=n.candidates)===null||r===void 0)&&r[0]){const s=n.candidates[0];Jy(s)&&(i+=`Candidate was blocked due to ${s.finishReason}`,s.finishMessage&&(i+=`: ${s.finishMessage}`))}return i}function Mf(n){return this instanceof Mf?(this.v=n,this):new Mf(n)}function K9(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(n,e||[]),i,s=[];return i={},a("next"),a("throw"),a("return"),i[Symbol.asyncIterator]=function(){return this},i;function a(g){r[g]&&(i[g]=function(y){return new Promise(function(b,w){s.push([g,y,b,w])>1||l(g,y)})})}function l(g,y){try{u(r[g](y))}catch(b){p(s[0][3],b)}}function u(g){g.value instanceof Mf?Promise.resolve(g.value.v).then(d,h):p(s[0][2],g)}function d(g){l("next",g)}function h(g){l("throw",g)}function p(g,y){g(y),s.shift(),s.length&&l(s[0][0],s[0][1])}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pT=/^data\: (.*)(?:\n\n|\r\r|\r\n\r\n)/;function Q9(n){const e=n.body.pipeThrough(new TextDecoderStream("utf8",{fatal:!0})),t=eX(e),[r,i]=t.tee();return{stream:J9(r),response:Z9(i)}}async function Z9(n){const e=[],t=n.getReader();for(;;){const{done:r,value:i}=await t.read();if(r)return SE(tX(e));e.push(i)}}function J9(n){return K9(this,arguments,function*(){const t=n.getReader();for(;;){const{value:r,done:i}=yield Mf(t.read());if(i)break;yield yield Mf(SE(r))}})}function eX(n){const e=n.getReader();return new ReadableStream({start(r){let i="";return s();function s(){return e.read().then(({value:a,done:l})=>{if(l){if(i.trim()){r.error(new Vn("Failed to parse stream"));return}r.close();return}i+=a;let u=i.match(pT),d;for(;u;){try{d=JSON.parse(u[1])}catch{r.error(new Vn(`Error parsing JSON response: "${u[1]}"`));return}r.enqueue(d),i=i.substring(u[0].length),u=i.match(pT)}return s()}).catch(a=>{let l=a;throw l.stack=a.stack,l.name==="AbortError"?l=new w2("Request aborted when reading from the stream"):l=new Vn("Error reading from the stream"),l})}}})}function tX(n){const e=n[n.length-1],t={promptFeedback:e==null?void 0:e.promptFeedback};for(const r of n){if(r.candidates){let i=0;for(const s of r.candidates)if(t.candidates||(t.candidates=[]),t.candidates[i]||(t.candidates[i]={index:i}),t.candidates[i].citationMetadata=s.citationMetadata,t.candidates[i].groundingMetadata=s.groundingMetadata,t.candidates[i].finishReason=s.finishReason,t.candidates[i].finishMessage=s.finishMessage,t.candidates[i].safetyRatings=s.safetyRatings,s.content&&s.content.parts){t.candidates[i].content||(t.candidates[i].content={role:s.content.role||"user",parts:[]});const a={};for(const l of s.content.parts)l.text&&(a.text=l.text),l.functionCall&&(a.functionCall=l.functionCall),l.executableCode&&(a.executableCode=l.executableCode),l.codeExecutionResult&&(a.codeExecutionResult=l.codeExecutionResult),Object.keys(a).length===0&&(a.text=""),t.candidates[i].content.parts.push(a)}i++}r.usageMetadata&&(t.usageMetadata=r.usageMetadata)}return t}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function x2(n,e,t,r){const i=await Mg(e,xc.STREAM_GENERATE_CONTENT,n,!0,JSON.stringify(t),r);return Q9(i)}async function S2(n,e,t,r){const s=await(await Mg(e,xc.GENERATE_CONTENT,n,!1,JSON.stringify(t),r)).json();return{response:SE(s)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E2(n){if(n!=null){if(typeof n=="string")return{role:"system",parts:[{text:n}]};if(n.text)return{role:"system",parts:[n]};if(n.parts)return n.role?n:{role:"system",parts:n.parts}}}function If(n){let e=[];if(typeof n=="string")e=[{text:n}];else for(const t of n)typeof t=="string"?e.push({text:t}):e.push(t);return nX(e)}function nX(n){const e={role:"user",parts:[]},t={role:"function",parts:[]};let r=!1,i=!1;for(const s of n)"functionResponse"in s?(t.parts.push(s),i=!0):(e.parts.push(s),r=!0);if(r&&i)throw new Vn("Within a single message, FunctionResponse cannot be mixed with other type of part in the request for sending chat message.");if(!r&&!i)throw new Vn("No content is provided for sending chat message.");return r?e:t}function rX(n,e){var t;let r={model:e==null?void 0:e.model,generationConfig:e==null?void 0:e.generationConfig,safetySettings:e==null?void 0:e.safetySettings,tools:e==null?void 0:e.tools,toolConfig:e==null?void 0:e.toolConfig,systemInstruction:e==null?void 0:e.systemInstruction,cachedContent:(t=e==null?void 0:e.cachedContent)===null||t===void 0?void 0:t.name,contents:[]};const i=n.generateContentRequest!=null;if(n.contents){if(i)throw new Na("CountTokensRequest must have one of contents or generateContentRequest, not both.");r.contents=n.contents}else if(i)r=Object.assign(Object.assign({},r),n.generateContentRequest);else{const s=If(n);r.contents=[s]}return{generateContentRequest:r}}function gT(n){let e;return n.contents?e=n:e={contents:[If(n)]},n.systemInstruction&&(e.systemInstruction=E2(n.systemInstruction)),e}function iX(n){return typeof n=="string"||Array.isArray(n)?{content:If(n)}:n}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mT=["text","inlineData","functionCall","functionResponse","executableCode","codeExecutionResult"],sX={user:["text","inlineData"],function:["functionResponse"],model:["text","functionCall","executableCode","codeExecutionResult"],system:["text"]};function oX(n){let e=!1;for(const t of n){const{role:r,parts:i}=t;if(!e&&r!=="user")throw new Vn(`First content should be with role 'user', got ${r}`);if(!sT.includes(r))throw new Vn(`Each item should include role field. Got ${r} but valid roles are: ${JSON.stringify(sT)}`);if(!Array.isArray(i))throw new Vn("Content should have 'parts' property with an array of Parts");if(i.length===0)throw new Vn("Each Content should have at least one part");const s={text:0,inlineData:0,functionCall:0,functionResponse:0,fileData:0,executableCode:0,codeExecutionResult:0};for(const l of i)for(const u of mT)u in l&&(s[u]+=1);const a=sX[r];for(const l of mT)if(!a.includes(l)&&s[l]>0)throw new Vn(`Content with role '${r}' can't contain '${l}' part`);e=!0}}function yT(n){var e;if(n.candidates===void 0||n.candidates.length===0)return!1;const t=(e=n.candidates[0])===null||e===void 0?void 0:e.content;if(t===void 0||t.parts===void 0||t.parts.length===0)return!1;for(const r of t.parts)if(r===void 0||Object.keys(r).length===0||r.text!==void 0&&r.text==="")return!1;return!0}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vT="SILENT_ERROR";class aX{constructor(e,t,r,i={}){this.model=t,this.params=r,this._requestOptions=i,this._history=[],this._sendPromise=Promise.resolve(),this._apiKey=e,r!=null&&r.history&&(oX(r.history),this._history=r.history)}async getHistory(){return await this._sendPromise,this._history}async sendMessage(e,t={}){var r,i,s,a,l,u;await this._sendPromise;const d=If(e),h={safetySettings:(r=this.params)===null||r===void 0?void 0:r.safetySettings,generationConfig:(i=this.params)===null||i===void 0?void 0:i.generationConfig,tools:(s=this.params)===null||s===void 0?void 0:s.tools,toolConfig:(a=this.params)===null||a===void 0?void 0:a.toolConfig,systemInstruction:(l=this.params)===null||l===void 0?void 0:l.systemInstruction,cachedContent:(u=this.params)===null||u===void 0?void 0:u.cachedContent,contents:[...this._history,d]},p=Object.assign(Object.assign({},this._requestOptions),t);let g;return this._sendPromise=this._sendPromise.then(()=>S2(this._apiKey,this.model,h,p)).then(y=>{var b;if(yT(y.response)){this._history.push(d);const w=Object.assign({parts:[],role:"model"},(b=y.response.candidates)===null||b===void 0?void 0:b[0].content);this._history.push(w)}else{const w=la(y.response);w&&console.warn(`sendMessage() was unsuccessful. ${w}. Inspect response object for details.`)}g=y}),await this._sendPromise,g}async sendMessageStream(e,t={}){var r,i,s,a,l,u;await this._sendPromise;const d=If(e),h={safetySettings:(r=this.params)===null||r===void 0?void 0:r.safetySettings,generationConfig:(i=this.params)===null||i===void 0?void 0:i.generationConfig,tools:(s=this.params)===null||s===void 0?void 0:s.tools,toolConfig:(a=this.params)===null||a===void 0?void 0:a.toolConfig,systemInstruction:(l=this.params)===null||l===void 0?void 0:l.systemInstruction,cachedContent:(u=this.params)===null||u===void 0?void 0:u.cachedContent,contents:[...this._history,d]},p=Object.assign(Object.assign({},this._requestOptions),t),g=x2(this._apiKey,this.model,h,p);return this._sendPromise=this._sendPromise.then(()=>g).catch(y=>{throw new Error(vT)}).then(y=>y.response).then(y=>{if(yT(y)){this._history.push(d);const b=Object.assign({},y.candidates[0].content);b.role||(b.role="model"),this._history.push(b)}else{const b=la(y);b&&console.warn(`sendMessageStream() was unsuccessful. ${b}. Inspect response object for details.`)}}).catch(y=>{y.message!==vT&&console.error(y)}),g}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lX(n,e,t,r){return(await Mg(e,xc.COUNT_TOKENS,n,!1,JSON.stringify(t),r)).json()}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cX(n,e,t,r){return(await Mg(e,xc.EMBED_CONTENT,n,!1,JSON.stringify(t),r)).json()}async function uX(n,e,t,r){const i=t.requests.map(a=>Object.assign(Object.assign({},a),{model:e}));return(await Mg(e,xc.BATCH_EMBED_CONTENTS,n,!1,JSON.stringify({requests:i}),r)).json()}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bT{constructor(e,t,r={}){this.apiKey=e,this._requestOptions=r,t.model.includes("/")?this.model=t.model:this.model=`models/${t.model}`,this.generationConfig=t.generationConfig||{},this.safetySettings=t.safetySettings||[],this.tools=t.tools,this.toolConfig=t.toolConfig,this.systemInstruction=E2(t.systemInstruction),this.cachedContent=t.cachedContent}async generateContent(e,t={}){var r;const i=gT(e),s=Object.assign(Object.assign({},this._requestOptions),t);return S2(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(r=this.cachedContent)===null||r===void 0?void 0:r.name},i),s)}async generateContentStream(e,t={}){var r;const i=gT(e),s=Object.assign(Object.assign({},this._requestOptions),t);return x2(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(r=this.cachedContent)===null||r===void 0?void 0:r.name},i),s)}startChat(e){var t;return new aX(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(t=this.cachedContent)===null||t===void 0?void 0:t.name},e),this._requestOptions)}async countTokens(e,t={}){const r=rX(e,{model:this.model,generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:this.cachedContent}),i=Object.assign(Object.assign({},this._requestOptions),t);return lX(this.apiKey,this.model,r,i)}async embedContent(e,t={}){const r=iX(e),i=Object.assign(Object.assign({},this._requestOptions),t);return cX(this.apiKey,this.model,r,i)}async batchEmbedContents(e,t={}){const r=Object.assign(Object.assign({},this._requestOptions),t);return uX(this.apiKey,this.model,e,r)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dX{constructor(e){this.apiKey=e}getGenerativeModel(e,t){if(!e.model)throw new Vn("Must provide a model name. Example: genai.getGenerativeModel({ model: 'my-model-name' })");return new bT(this.apiKey,e,t)}getGenerativeModelFromCachedContent(e,t,r){if(!e.name)throw new Na("Cached content must contain a `name` field.");if(!e.model)throw new Na("Cached content must contain a `model` field.");const i=["model","systemInstruction"];for(const a of i)if(t!=null&&t[a]&&e[a]&&(t==null?void 0:t[a])!==e[a]){if(a==="model"){const l=t.model.startsWith("models/")?t.model.replace("models/",""):t.model,u=e.model.startsWith("models/")?e.model.replace("models/",""):e.model;if(l===u)continue}throw new Na(`Different value for "${a}" specified in modelParams (${t[a]}) and cachedContent (${e[a]})`)}const s=Object.assign(Object.assign({},t),{model:e.model,tools:e.tools,toolConfig:e.toolConfig,systemInstruction:e.systemInstruction,cachedContent:e});return new bT(this.apiKey,s,r)}}const hX="AIzaSyD33qOpC9rpB2u-tcPMZVD7a3-nhZ6YpcQ",fX=new dX(hX);function pX(){const n=I.useContext(To);if(!n)throw new Error("PaperContext not found");const{nodes:e,updateNodeData:t,deleteHighlight:r,selectedHighlightId:i,setSelectedHighlightId:s}=n,[a,l]=I.useState(""),[u,d]=I.useState(""),[h,p]=I.useState([]),[g,y]=I.useState(""),[b,w]=I.useState(!1),[C,x]=I.useState(!1);I.useEffect(()=>{const _=e.find(k=>k.id===i);if(_){l(_.data.label);const k=_.data.content;d(_.data.summary),p(_.data.references),y(_.data.notes),_.data.summary||A(k)}},[i]);const A=async _=>{if(!_){d("No content to summarize.");return}try{const k=fX.getGenerativeModel({model:"gemini-2.0-flash-lite"}),M=`Summarize this in three sentences or less or if it's a single word/phrase give the definition: "${_}"`,N=await(await k.generateContent(M)).response;d(N.text()||"No summary available.")}catch(k){console.error("Error fetching summary:",k),d("Failed to fetch summary.")}},E=()=>{t(i,{label:a,summary:u,references:h,notes:g}),s(null)};return L.jsxs("div",{className:"wrapper",children:[L.jsx(Rf,{size:"small",sx:{position:"absolute",top:0,right:0,zIndex:1e3},onClick:()=>s(null),children:L.jsx(hV,{})}),L.jsxs(rn,{className:"field",children:[L.jsx("h3",{children:"Label"}),L.jsx("div",{onClick:()=>w(!0),style:{cursor:"pointer"},children:b?L.jsx(nS,{id:"label",variant:"outlined",sx:{width:"100%"},value:a,onChange:_=>l(_.target.value),onBlur:()=>w(!1),autoFocus:!0}):L.jsx(Fa,{children:a})})]}),L.jsxs(rn,{className:"field summary-container",children:[L.jsx("h3",{className:"summary-title",children:"Definition / Summary"}),L.jsxs("p",{className:"summary-generated",children:[L.jsx("span",{className:"summary-label",children:"(From Gemini)"})," ",u||"Generating summary..."]})]}),L.jsx(D9,{className:"field"}),L.jsxs(rn,{className:"field",children:[L.jsx("h3",{children:"Notes"}),L.jsx("div",{onClick:()=>x(!0),style:{cursor:"pointer"},children:C?L.jsx(nS,{id:"notes",variant:"outlined",sx:{width:"100%"},value:g,onChange:_=>y(_.target.value),onBlur:()=>x(!1),autoFocus:!0}):L.jsx(Fa,{children:g})})]}),L.jsxs(rn,{sx:{display:"flex",justifyContent:"center",alignItems:"center",gap:2},children:[L.jsx(Id,{variant:"outlined",color:"success",onClick:()=>E(),children:"Save"}),L.jsx(Id,{variant:"outlined",color:"error",onClick:()=>r(i),children:"Delete"})]})]})}const gX={highlight:M9,overview:I9},mX={temporal:N9,relation:L9};function yX(n){const{nodes:e,edges:t,setNodes:r,onNodesChange:i,onEdgesChange:s,onConnect:a,selectedHighlightId:l,setSelectedHighlightId:u}=n,[d,h]=I.useState(!1),p=(w,C)=>{console.log("drag event",C.data)},g=(w,C)=>{d||!w||(l===C.id?u(null):u(C.id))},y=()=>{console.log("open Overview"),r(d?e.map(w=>({...w,type:"highlight"})):e.map(w=>({...w,type:"overview"}))),u(null),h(!d)},{fitView:b}=rv();return I.useEffect(()=>{b()},[e]),L.jsxs(P3,{nodes:e,edges:t,onNodesChange:i,onEdgesChange:s,onConnect:a,onNodeDrag:p,onNodeClick:g,nodeTypes:gX,edgeTypes:mX,fitView:!0,style:{width:"100%",height:"100%"},children:[L.jsx(z3,{}),L.jsx(V3,{style:{color:"black"}}),L.jsx(rB,{}),L.jsx(vg,{position:"top-right",children:L.jsx(Rf,{onClick:y,children:d?L.jsx(fV,{}):L.jsx(pV,{})})})]})}function vX(){const n=I.useContext(To);if(!n)throw new Error("PaperContext not found");const{nodes:e,edges:t,setNodes:r,onNodesChange:i,onEdgesChange:s,onConnect:a,selectedHighlightId:l,setSelectedHighlightId:u}=n;return L.jsxs(rn,{style:{width:"100%",height:"100%",position:"relative"},children:[L.jsx(iM,{children:L.jsx(yX,{style:{height:"auto"},nodes:e,edges:t,setNodes:r,onNodesChange:i,onEdgesChange:s,onConnect:a,selectedHighlightId:l,setSelectedHighlightId:u})}),l&&L.jsx(rn,{style:{position:"absolute",bottom:0,left:0,width:"100%",height:"40%",backgroundColor:"white",borderTop:"1px solid #ccc",zIndex:5},children:L.jsx(pX,{})})]})}const bX=()=>{const n=I.useContext(To);if(!n)throw new Error("PaperContext not found");const{isAddingNewRead:e,setIsAddingNewRead:t,createRead:r}=n,[i,s]=I.useState(""),[a,l]=I.useState(null),u=()=>{if(!i){alert("Please enter a title");return}if(!a){alert("Please select a color");return}r(i,a),d()},d=()=>{s(""),l(null),t(!1)},h=["#FFADAD","#FFD6A5","#FDFFB6","#CAFFBF","#9BF6FF","#A0C4FF","#BDB2FF","#FFC6FF"];return L.jsxs(rn,{sx:{display:"flex",flexDirection:"column",width:"100vw",height:"100vh"},children:[L.jsx(rn,{sx:{height:"8%",width:"100%",display:"flex"},children:L.jsx(yV,{})}),L.jsxs(rn,{sx:{display:"flex",flexDirection:"row",width:"100%",height:"92%"},children:[L.jsx(rn,{className:"panel paper-panel",children:L.jsx(P9,{})}),L.jsx(rn,{className:"panel graph-panel",children:L.jsx(vX,{})})]}),L.jsxs(R6,{open:e,children:[L.jsx(H6,{children:"Create New Read"}),L.jsxs(z6,{sx:{p:3,display:"flex",flexDirection:"column",alignItems:"center"},children:[L.jsx(nS,{label:"Title",value:i,onChange:p=>s(p.target.value),style:{padding:4}}),L.jsx(rn,{sx:{my:2,display:"flex",flexDirection:"row",alignItems:"center"},children:h.map(p=>L.jsx(rn,{sx:{width:20,height:20,backgroundColor:p,borderRadius:4,margin:1,border:p===a?"2px solid black":"none"},onClick:()=>l(p)},p))})]}),L.jsxs(I6,{children:[L.jsx(Id,{variant:"text",color:"error",onClick:d,children:"Cancel"}),L.jsx(Id,{variant:"text",onClick:u,children:"Create"})]})]})]})};function wX(){return L.jsx(sB,{children:L.jsx(bX,{})})}xT.createRoot(document.getElementById("root")).render(L.jsx(I.StrictMode,{children:L.jsx(wX,{})}));
