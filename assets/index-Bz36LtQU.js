var eF=Object.defineProperty;var qA=n=>{throw TypeError(n)};var tF=(n,e,t)=>e in n?eF(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var _e=(n,e,t)=>tF(n,typeof e!="symbol"?e+"":e,t),Tw=(n,e,t)=>e.has(n)||qA("Cannot "+t);var m=(n,e,t)=>(Tw(n,e,"read from private field"),t?t.call(n):e.get(n)),V=(n,e,t)=>e.has(n)?qA("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,t),B=(n,e,t,r)=>(Tw(n,e,"write to private field"),r?r.call(n,t):e.set(n,t),t),j=(n,e,t)=>(Tw(n,e,"access private method"),t);var Ir=(n,e,t,r)=>({set _(i){B(n,e,i,t)},get _(){return m(n,e,r)}});function nF(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in n)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(n,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function t(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=t(i);fetch(i.href,s)}})();var Ym=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Dd(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function rF(n){if(n.__esModule)return n;var e=n.default;if(typeof e=="function"){var t=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(n).forEach(function(r){var i=Object.getOwnPropertyDescriptor(n,r);Object.defineProperty(t,r,i.get?i:{enumerable:!0,get:function(){return n[r]}})}),t}var Pw={exports:{}},Ch={},Mw={exports:{}},Ue={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var YA;function iF(){if(YA)return Ue;YA=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),o=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.iterator;function g(Y){return Y===null||typeof Y!="object"?null:(Y=f&&Y[f]||Y["@@iterator"],typeof Y=="function"?Y:null)}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,w={};function E(Y,te,K){this.props=Y,this.context=te,this.refs=w,this.updater=K||y}E.prototype.isReactComponent={},E.prototype.setState=function(Y,te){if(typeof Y!="object"&&typeof Y!="function"&&Y!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,Y,te,"setState")},E.prototype.forceUpdate=function(Y){this.updater.enqueueForceUpdate(this,Y,"forceUpdate")};function x(){}x.prototype=E.prototype;function _(Y,te,K){this.props=Y,this.context=te,this.refs=w,this.updater=K||y}var S=_.prototype=new x;S.constructor=_,v(S,E.prototype),S.isPureReactComponent=!0;var C=Array.isArray,k=Object.prototype.hasOwnProperty,I={current:null},P={key:!0,ref:!0,__self:!0,__source:!0};function M(Y,te,K){var ee,J={},ie=null,ne=null;if(te!=null)for(ee in te.ref!==void 0&&(ne=te.ref),te.key!==void 0&&(ie=""+te.key),te)k.call(te,ee)&&!P.hasOwnProperty(ee)&&(J[ee]=te[ee]);var oe=arguments.length-2;if(oe===1)J.children=K;else if(1<oe){for(var ue=Array(oe),he=0;he<oe;he++)ue[he]=arguments[he+2];J.children=ue}if(Y&&Y.defaultProps)for(ee in oe=Y.defaultProps,oe)J[ee]===void 0&&(J[ee]=oe[ee]);return{$$typeof:n,type:Y,key:ie,ref:ne,props:J,_owner:I.current}}function N(Y,te){return{$$typeof:n,type:Y.type,key:te,ref:Y.ref,props:Y.props,_owner:Y._owner}}function R(Y){return typeof Y=="object"&&Y!==null&&Y.$$typeof===n}function D(Y){var te={"=":"=0",":":"=2"};return"$"+Y.replace(/[=:]/g,function(K){return te[K]})}var $=/\/+/g;function G(Y,te){return typeof Y=="object"&&Y!==null&&Y.key!=null?D(""+Y.key):te.toString(36)}function L(Y,te,K,ee,J){var ie=typeof Y;(ie==="undefined"||ie==="boolean")&&(Y=null);var ne=!1;if(Y===null)ne=!0;else switch(ie){case"string":case"number":ne=!0;break;case"object":switch(Y.$$typeof){case n:case e:ne=!0}}if(ne)return ne=Y,J=J(ne),Y=ee===""?"."+G(ne,0):ee,C(J)?(K="",Y!=null&&(K=Y.replace($,"$&/")+"/"),L(J,te,K,"",function(he){return he})):J!=null&&(R(J)&&(J=N(J,K+(!J.key||ne&&ne.key===J.key?"":(""+J.key).replace($,"$&/")+"/")+Y)),te.push(J)),1;if(ne=0,ee=ee===""?".":ee+":",C(Y))for(var oe=0;oe<Y.length;oe++){ie=Y[oe];var ue=ee+G(ie,oe);ne+=L(ie,te,K,ue,J)}else if(ue=g(Y),typeof ue=="function")for(Y=ue.call(Y),oe=0;!(ie=Y.next()).done;)ie=ie.value,ue=ee+G(ie,oe++),ne+=L(ie,te,K,ue,J);else if(ie==="object")throw te=String(Y),Error("Objects are not valid as a React child (found: "+(te==="[object Object]"?"object with keys {"+Object.keys(Y).join(", ")+"}":te)+"). If you meant to render a collection of children, use an array instead.");return ne}function q(Y,te,K){if(Y==null)return Y;var ee=[],J=0;return L(Y,ee,"","",function(ie){return te.call(K,ie,J++)}),ee}function H(Y){if(Y._status===-1){var te=Y._result;te=te(),te.then(function(K){(Y._status===0||Y._status===-1)&&(Y._status=1,Y._result=K)},function(K){(Y._status===0||Y._status===-1)&&(Y._status=2,Y._result=K)}),Y._status===-1&&(Y._status=0,Y._result=te)}if(Y._status===1)return Y._result.default;throw Y._result}var X={current:null},W={transition:null},U={ReactCurrentDispatcher:X,ReactCurrentBatchConfig:W,ReactCurrentOwner:I};function Q(){throw Error("act(...) is not supported in production builds of React.")}return Ue.Children={map:q,forEach:function(Y,te,K){q(Y,function(){te.apply(this,arguments)},K)},count:function(Y){var te=0;return q(Y,function(){te++}),te},toArray:function(Y){return q(Y,function(te){return te})||[]},only:function(Y){if(!R(Y))throw Error("React.Children.only expected to receive a single React element child.");return Y}},Ue.Component=E,Ue.Fragment=t,Ue.Profiler=i,Ue.PureComponent=_,Ue.StrictMode=r,Ue.Suspense=u,Ue.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=U,Ue.act=Q,Ue.cloneElement=function(Y,te,K){if(Y==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+Y+".");var ee=v({},Y.props),J=Y.key,ie=Y.ref,ne=Y._owner;if(te!=null){if(te.ref!==void 0&&(ie=te.ref,ne=I.current),te.key!==void 0&&(J=""+te.key),Y.type&&Y.type.defaultProps)var oe=Y.type.defaultProps;for(ue in te)k.call(te,ue)&&!P.hasOwnProperty(ue)&&(ee[ue]=te[ue]===void 0&&oe!==void 0?oe[ue]:te[ue])}var ue=arguments.length-2;if(ue===1)ee.children=K;else if(1<ue){oe=Array(ue);for(var he=0;he<ue;he++)oe[he]=arguments[he+2];ee.children=oe}return{$$typeof:n,type:Y.type,key:J,ref:ie,props:ee,_owner:ne}},Ue.createContext=function(Y){return Y={$$typeof:o,_currentValue:Y,_currentValue2:Y,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},Y.Provider={$$typeof:s,_context:Y},Y.Consumer=Y},Ue.createElement=M,Ue.createFactory=function(Y){var te=M.bind(null,Y);return te.type=Y,te},Ue.createRef=function(){return{current:null}},Ue.forwardRef=function(Y){return{$$typeof:l,render:Y}},Ue.isValidElement=R,Ue.lazy=function(Y){return{$$typeof:h,_payload:{_status:-1,_result:Y},_init:H}},Ue.memo=function(Y,te){return{$$typeof:d,type:Y,compare:te===void 0?null:te}},Ue.startTransition=function(Y){var te=W.transition;W.transition={};try{Y()}finally{W.transition=te}},Ue.unstable_act=Q,Ue.useCallback=function(Y,te){return X.current.useCallback(Y,te)},Ue.useContext=function(Y){return X.current.useContext(Y)},Ue.useDebugValue=function(){},Ue.useDeferredValue=function(Y){return X.current.useDeferredValue(Y)},Ue.useEffect=function(Y,te){return X.current.useEffect(Y,te)},Ue.useId=function(){return X.current.useId()},Ue.useImperativeHandle=function(Y,te,K){return X.current.useImperativeHandle(Y,te,K)},Ue.useInsertionEffect=function(Y,te){return X.current.useInsertionEffect(Y,te)},Ue.useLayoutEffect=function(Y,te){return X.current.useLayoutEffect(Y,te)},Ue.useMemo=function(Y,te){return X.current.useMemo(Y,te)},Ue.useReducer=function(Y,te,K){return X.current.useReducer(Y,te,K)},Ue.useRef=function(Y){return X.current.useRef(Y)},Ue.useState=function(Y){return X.current.useState(Y)},Ue.useSyncExternalStore=function(Y,te,K){return X.current.useSyncExternalStore(Y,te,K)},Ue.useTransition=function(){return X.current.useTransition()},Ue.version="18.3.1",Ue}var XA;function Ac(){return XA||(XA=1,Mw.exports=iF()),Mw.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var KA;function sF(){if(KA)return Ch;KA=1;var n=Ac(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function o(l,u,d){var h,f={},g=null,y=null;d!==void 0&&(g=""+d),u.key!==void 0&&(g=""+u.key),u.ref!==void 0&&(y=u.ref);for(h in u)r.call(u,h)&&!s.hasOwnProperty(h)&&(f[h]=u[h]);if(l&&l.defaultProps)for(h in u=l.defaultProps,u)f[h]===void 0&&(f[h]=u[h]);return{$$typeof:e,type:l,key:g,ref:y,props:f,_owner:i.current}}return Ch.Fragment=t,Ch.jsx=o,Ch.jsxs=o,Ch}var QA;function oF(){return QA||(QA=1,Pw.exports=sF()),Pw.exports}var F=oF(),O=Ac();const ut=Dd(O),pS=nF({__proto__:null,default:ut},[O]);var Xm={},Iw={exports:{}},pr={},Nw={exports:{}},Lw={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ZA;function aF(){return ZA||(ZA=1,function(n){function e(W,U){var Q=W.length;W.push(U);e:for(;0<Q;){var Y=Q-1>>>1,te=W[Y];if(0<i(te,U))W[Y]=U,W[Q]=te,Q=Y;else break e}}function t(W){return W.length===0?null:W[0]}function r(W){if(W.length===0)return null;var U=W[0],Q=W.pop();if(Q!==U){W[0]=Q;e:for(var Y=0,te=W.length,K=te>>>1;Y<K;){var ee=2*(Y+1)-1,J=W[ee],ie=ee+1,ne=W[ie];if(0>i(J,Q))ie<te&&0>i(ne,J)?(W[Y]=ne,W[ie]=Q,Y=ie):(W[Y]=J,W[ee]=Q,Y=ee);else if(ie<te&&0>i(ne,Q))W[Y]=ne,W[ie]=Q,Y=ie;else break e}}return U}function i(W,U){var Q=W.sortIndex-U.sortIndex;return Q!==0?Q:W.id-U.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();n.unstable_now=function(){return o.now()-l}}var u=[],d=[],h=1,f=null,g=3,y=!1,v=!1,w=!1,E=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(W){for(var U=t(d);U!==null;){if(U.callback===null)r(d);else if(U.startTime<=W)r(d),U.sortIndex=U.expirationTime,e(u,U);else break;U=t(d)}}function C(W){if(w=!1,S(W),!v)if(t(u)!==null)v=!0,H(k);else{var U=t(d);U!==null&&X(C,U.startTime-W)}}function k(W,U){v=!1,w&&(w=!1,x(M),M=-1),y=!0;var Q=g;try{for(S(U),f=t(u);f!==null&&(!(f.expirationTime>U)||W&&!D());){var Y=f.callback;if(typeof Y=="function"){f.callback=null,g=f.priorityLevel;var te=Y(f.expirationTime<=U);U=n.unstable_now(),typeof te=="function"?f.callback=te:f===t(u)&&r(u),S(U)}else r(u);f=t(u)}if(f!==null)var K=!0;else{var ee=t(d);ee!==null&&X(C,ee.startTime-U),K=!1}return K}finally{f=null,g=Q,y=!1}}var I=!1,P=null,M=-1,N=5,R=-1;function D(){return!(n.unstable_now()-R<N)}function $(){if(P!==null){var W=n.unstable_now();R=W;var U=!0;try{U=P(!0,W)}finally{U?G():(I=!1,P=null)}}else I=!1}var G;if(typeof _=="function")G=function(){_($)};else if(typeof MessageChannel<"u"){var L=new MessageChannel,q=L.port2;L.port1.onmessage=$,G=function(){q.postMessage(null)}}else G=function(){E($,0)};function H(W){P=W,I||(I=!0,G())}function X(W,U){M=E(function(){W(n.unstable_now())},U)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(W){W.callback=null},n.unstable_continueExecution=function(){v||y||(v=!0,H(k))},n.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<W?Math.floor(1e3/W):5},n.unstable_getCurrentPriorityLevel=function(){return g},n.unstable_getFirstCallbackNode=function(){return t(u)},n.unstable_next=function(W){switch(g){case 1:case 2:case 3:var U=3;break;default:U=g}var Q=g;g=U;try{return W()}finally{g=Q}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(W,U){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var Q=g;g=W;try{return U()}finally{g=Q}},n.unstable_scheduleCallback=function(W,U,Q){var Y=n.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?Y+Q:Y):Q=Y,W){case 1:var te=-1;break;case 2:te=250;break;case 5:te=1073741823;break;case 4:te=1e4;break;default:te=5e3}return te=Q+te,W={id:h++,callback:U,priorityLevel:W,startTime:Q,expirationTime:te,sortIndex:-1},Q>Y?(W.sortIndex=Q,e(d,W),t(u)===null&&W===t(d)&&(w?(x(M),M=-1):w=!0,X(C,Q-Y))):(W.sortIndex=te,e(u,W),v||y||(v=!0,H(k))),W},n.unstable_shouldYield=D,n.unstable_wrapCallback=function(W){var U=g;return function(){var Q=g;g=U;try{return W.apply(this,arguments)}finally{g=Q}}}}(Lw)),Lw}var JA;function lF(){return JA||(JA=1,Nw.exports=aF()),Nw.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ek;function cF(){if(ek)return pr;ek=1;var n=Ac(),e=lF();function t(a){for(var c="https://reactjs.org/docs/error-decoder.html?invariant="+a,p=1;p<arguments.length;p++)c+="&args[]="+encodeURIComponent(arguments[p]);return"Minified React error #"+a+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function s(a,c){o(a,c),o(a+"Capture",c)}function o(a,c){for(i[a]=c,a=0;a<c.length;a++)r.add(c[a])}var l=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),u=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h={},f={};function g(a){return u.call(f,a)?!0:u.call(h,a)?!1:d.test(a)?f[a]=!0:(h[a]=!0,!1)}function y(a,c,p,b){if(p!==null&&p.type===0)return!1;switch(typeof c){case"function":case"symbol":return!0;case"boolean":return b?!1:p!==null?!p.acceptsBooleans:(a=a.toLowerCase().slice(0,5),a!=="data-"&&a!=="aria-");default:return!1}}function v(a,c,p,b){if(c===null||typeof c>"u"||y(a,c,p,b))return!0;if(b)return!1;if(p!==null)switch(p.type){case 3:return!c;case 4:return c===!1;case 5:return isNaN(c);case 6:return isNaN(c)||1>c}return!1}function w(a,c,p,b,A,T,z){this.acceptsBooleans=c===2||c===3||c===4,this.attributeName=b,this.attributeNamespace=A,this.mustUseProperty=p,this.propertyName=a,this.type=c,this.sanitizeURL=T,this.removeEmptyString=z}var E={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(a){E[a]=new w(a,0,!1,a,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(a){var c=a[0];E[c]=new w(c,1,!1,a[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(a){E[a]=new w(a,2,!1,a.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(a){E[a]=new w(a,2,!1,a,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(a){E[a]=new w(a,3,!1,a.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(a){E[a]=new w(a,3,!0,a,null,!1,!1)}),["capture","download"].forEach(function(a){E[a]=new w(a,4,!1,a,null,!1,!1)}),["cols","rows","size","span"].forEach(function(a){E[a]=new w(a,6,!1,a,null,!1,!1)}),["rowSpan","start"].forEach(function(a){E[a]=new w(a,5,!1,a.toLowerCase(),null,!1,!1)});var x=/[\-:]([a-z])/g;function _(a){return a[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(a){var c=a.replace(x,_);E[c]=new w(c,1,!1,a,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(a){var c=a.replace(x,_);E[c]=new w(c,1,!1,a,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(a){var c=a.replace(x,_);E[c]=new w(c,1,!1,a,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(a){E[a]=new w(a,1,!1,a.toLowerCase(),null,!1,!1)}),E.xlinkHref=new w("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(a){E[a]=new w(a,1,!1,a.toLowerCase(),null,!0,!0)});function S(a,c,p,b){var A=E.hasOwnProperty(c)?E[c]:null;(A!==null?A.type!==0:b||!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(v(c,p,A,b)&&(p=null),b||A===null?g(c)&&(p===null?a.removeAttribute(c):a.setAttribute(c,""+p)):A.mustUseProperty?a[A.propertyName]=p===null?A.type===3?!1:"":p:(c=A.attributeName,b=A.attributeNamespace,p===null?a.removeAttribute(c):(A=A.type,p=A===3||A===4&&p===!0?"":""+p,b?a.setAttributeNS(b,c,p):a.setAttribute(c,p))))}var C=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,k=Symbol.for("react.element"),I=Symbol.for("react.portal"),P=Symbol.for("react.fragment"),M=Symbol.for("react.strict_mode"),N=Symbol.for("react.profiler"),R=Symbol.for("react.provider"),D=Symbol.for("react.context"),$=Symbol.for("react.forward_ref"),G=Symbol.for("react.suspense"),L=Symbol.for("react.suspense_list"),q=Symbol.for("react.memo"),H=Symbol.for("react.lazy"),X=Symbol.for("react.offscreen"),W=Symbol.iterator;function U(a){return a===null||typeof a!="object"?null:(a=W&&a[W]||a["@@iterator"],typeof a=="function"?a:null)}var Q=Object.assign,Y;function te(a){if(Y===void 0)try{throw Error()}catch(p){var c=p.stack.trim().match(/\n( *(at )?)/);Y=c&&c[1]||""}return`
`+Y+a}var K=!1;function ee(a,c){if(!a||K)return"";K=!0;var p=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(c)if(c=function(){throw Error()},Object.defineProperty(c.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(c,[])}catch(ce){var b=ce}Reflect.construct(a,[],c)}else{try{c.call()}catch(ce){b=ce}a.call(c.prototype)}else{try{throw Error()}catch(ce){b=ce}a()}}catch(ce){if(ce&&b&&typeof ce.stack=="string"){for(var A=ce.stack.split(`
`),T=b.stack.split(`
`),z=A.length-1,Z=T.length-1;1<=z&&0<=Z&&A[z]!==T[Z];)Z--;for(;1<=z&&0<=Z;z--,Z--)if(A[z]!==T[Z]){if(z!==1||Z!==1)do if(z--,Z--,0>Z||A[z]!==T[Z]){var re=`
`+A[z].replace(" at new "," at ");return a.displayName&&re.includes("<anonymous>")&&(re=re.replace("<anonymous>",a.displayName)),re}while(1<=z&&0<=Z);break}}}finally{K=!1,Error.prepareStackTrace=p}return(a=a?a.displayName||a.name:"")?te(a):""}function J(a){switch(a.tag){case 5:return te(a.type);case 16:return te("Lazy");case 13:return te("Suspense");case 19:return te("SuspenseList");case 0:case 2:case 15:return a=ee(a.type,!1),a;case 11:return a=ee(a.type.render,!1),a;case 1:return a=ee(a.type,!0),a;default:return""}}function ie(a){if(a==null)return null;if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case P:return"Fragment";case I:return"Portal";case N:return"Profiler";case M:return"StrictMode";case G:return"Suspense";case L:return"SuspenseList"}if(typeof a=="object")switch(a.$$typeof){case D:return(a.displayName||"Context")+".Consumer";case R:return(a._context.displayName||"Context")+".Provider";case $:var c=a.render;return a=a.displayName,a||(a=c.displayName||c.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case q:return c=a.displayName||null,c!==null?c:ie(a.type)||"Memo";case H:c=a._payload,a=a._init;try{return ie(a(c))}catch{}}return null}function ne(a){var c=a.type;switch(a.tag){case 24:return"Cache";case 9:return(c.displayName||"Context")+".Consumer";case 10:return(c._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return a=c.render,a=a.displayName||a.name||"",c.displayName||(a!==""?"ForwardRef("+a+")":"ForwardRef");case 7:return"Fragment";case 5:return c;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ie(c);case 8:return c===M?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof c=="function")return c.displayName||c.name||null;if(typeof c=="string")return c}return null}function oe(a){switch(typeof a){case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function ue(a){var c=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(c==="checkbox"||c==="radio")}function he(a){var c=ue(a)?"checked":"value",p=Object.getOwnPropertyDescriptor(a.constructor.prototype,c),b=""+a[c];if(!a.hasOwnProperty(c)&&typeof p<"u"&&typeof p.get=="function"&&typeof p.set=="function"){var A=p.get,T=p.set;return Object.defineProperty(a,c,{configurable:!0,get:function(){return A.call(this)},set:function(z){b=""+z,T.call(this,z)}}),Object.defineProperty(a,c,{enumerable:p.enumerable}),{getValue:function(){return b},setValue:function(z){b=""+z},stopTracking:function(){a._valueTracker=null,delete a[c]}}}}function me(a){a._valueTracker||(a._valueTracker=he(a))}function fe(a){if(!a)return!1;var c=a._valueTracker;if(!c)return!0;var p=c.getValue(),b="";return a&&(b=ue(a)?a.checked?"true":"false":a.value),a=b,a!==p?(c.setValue(a),!0):!1}function we(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}function be(a,c){var p=c.checked;return Q({},c,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:p??a._wrapperState.initialChecked})}function Be(a,c){var p=c.defaultValue==null?"":c.defaultValue,b=c.checked!=null?c.checked:c.defaultChecked;p=oe(c.value!=null?c.value:p),a._wrapperState={initialChecked:b,initialValue:p,controlled:c.type==="checkbox"||c.type==="radio"?c.checked!=null:c.value!=null}}function st(a,c){c=c.checked,c!=null&&S(a,"checked",c,!1)}function Ot(a,c){st(a,c);var p=oe(c.value),b=c.type;if(p!=null)b==="number"?(p===0&&a.value===""||a.value!=p)&&(a.value=""+p):a.value!==""+p&&(a.value=""+p);else if(b==="submit"||b==="reset"){a.removeAttribute("value");return}c.hasOwnProperty("value")?vn(a,c.type,p):c.hasOwnProperty("defaultValue")&&vn(a,c.type,oe(c.defaultValue)),c.checked==null&&c.defaultChecked!=null&&(a.defaultChecked=!!c.defaultChecked)}function Tt(a,c,p){if(c.hasOwnProperty("value")||c.hasOwnProperty("defaultValue")){var b=c.type;if(!(b!=="submit"&&b!=="reset"||c.value!==void 0&&c.value!==null))return;c=""+a._wrapperState.initialValue,p||c===a.value||(a.value=c),a.defaultValue=c}p=a.name,p!==""&&(a.name=""),a.defaultChecked=!!a._wrapperState.initialChecked,p!==""&&(a.name=p)}function vn(a,c,p){(c!=="number"||we(a.ownerDocument)!==a)&&(p==null?a.defaultValue=""+a._wrapperState.initialValue:a.defaultValue!==""+p&&(a.defaultValue=""+p))}var St=Array.isArray;function dt(a,c,p,b){if(a=a.options,c){c={};for(var A=0;A<p.length;A++)c["$"+p[A]]=!0;for(p=0;p<a.length;p++)A=c.hasOwnProperty("$"+a[p].value),a[p].selected!==A&&(a[p].selected=A),A&&b&&(a[p].defaultSelected=!0)}else{for(p=""+oe(p),c=null,A=0;A<a.length;A++){if(a[A].value===p){a[A].selected=!0,b&&(a[A].defaultSelected=!0);return}c!==null||a[A].disabled||(c=a[A])}c!==null&&(c.selected=!0)}}function Pe(a,c){if(c.dangerouslySetInnerHTML!=null)throw Error(t(91));return Q({},c,{value:void 0,defaultValue:void 0,children:""+a._wrapperState.initialValue})}function Xn(a,c){var p=c.value;if(p==null){if(p=c.children,c=c.defaultValue,p!=null){if(c!=null)throw Error(t(92));if(St(p)){if(1<p.length)throw Error(t(93));p=p[0]}c=p}c==null&&(c=""),p=c}a._wrapperState={initialValue:oe(p)}}function Yt(a,c){var p=oe(c.value),b=oe(c.defaultValue);p!=null&&(p=""+p,p!==a.value&&(a.value=p),c.defaultValue==null&&a.defaultValue!==p&&(a.defaultValue=p)),b!=null&&(a.defaultValue=""+b)}function Kn(a){var c=a.textContent;c===a._wrapperState.initialValue&&c!==""&&c!==null&&(a.value=c)}function ar(a){switch(a){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lr(a,c){return a==null||a==="http://www.w3.org/1999/xhtml"?ar(c):a==="http://www.w3.org/2000/svg"&&c==="foreignObject"?"http://www.w3.org/1999/xhtml":a}var _r,Ar=function(a){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(c,p,b,A){MSApp.execUnsafeLocalFunction(function(){return a(c,p,b,A)})}:a}(function(a,c){if(a.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in a)a.innerHTML=c;else{for(_r=_r||document.createElement("div"),_r.innerHTML="<svg>"+c.valueOf().toString()+"</svg>",c=_r.firstChild;a.firstChild;)a.removeChild(a.firstChild);for(;c.firstChild;)a.appendChild(c.firstChild)}});function Qn(a,c){if(c){var p=a.firstChild;if(p&&p===a.lastChild&&p.nodeType===3){p.nodeValue=c;return}}a.textContent=c}var et={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Hi=["Webkit","ms","Moz","O"];Object.keys(et).forEach(function(a){Hi.forEach(function(c){c=c+a.charAt(0).toUpperCase()+a.substring(1),et[c]=et[a]})});function Wi(a,c,p){return c==null||typeof c=="boolean"||c===""?"":p||typeof c!="number"||c===0||et.hasOwnProperty(a)&&et[a]?(""+c).trim():c+"px"}function Va(a,c){a=a.style;for(var p in c)if(c.hasOwnProperty(p)){var b=p.indexOf("--")===0,A=Wi(p,c[p],b);p==="float"&&(p="cssFloat"),b?a.setProperty(p,A):a[p]=A}}var De=Q({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ot(a,c){if(c){if(De[a]&&(c.children!=null||c.dangerouslySetInnerHTML!=null))throw Error(t(137,a));if(c.dangerouslySetInnerHTML!=null){if(c.children!=null)throw Error(t(60));if(typeof c.dangerouslySetInnerHTML!="object"||!("__html"in c.dangerouslySetInnerHTML))throw Error(t(61))}if(c.style!=null&&typeof c.style!="object")throw Error(t(62))}}function Dt(a,c){if(a.indexOf("-")===-1)return typeof c.is=="string";switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Yr=null;function Io(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var $d=null,No=null,Lo=null;function Lg(a){if(a=ch(a)){if(typeof $d!="function")throw Error(t(280));var c=a.stateNode;c&&(c=cm(c),$d(a.stateNode,a.type,c))}}function Bd(a){No?Lo?Lo.push(a):Lo=[a]:No=a}function Og(){if(No){var a=No,c=Lo;if(Lo=No=null,Lg(a),c)for(a=0;a<c.length;a++)Lg(c[a])}}function Dg(a,c){return a(c)}function Fg(){}var jd=!1;function zg(a,c,p){if(jd)return a(c,p);jd=!0;try{return Dg(a,c,p)}finally{jd=!1,(No!==null||Lo!==null)&&(Fg(),Og())}}function Ga(a,c){var p=a.stateNode;if(p===null)return null;var b=cm(p);if(b===null)return null;p=b[c];e:switch(c){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(b=!b.disabled)||(a=a.type,b=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!b;break e;default:a=!1}if(a)return null;if(p&&typeof p!="function")throw Error(t(231,c,typeof p));return p}var Hd=!1;if(l)try{var qa={};Object.defineProperty(qa,"passive",{get:function(){Hd=!0}}),window.addEventListener("test",qa,qa),window.removeEventListener("test",qa,qa)}catch{Hd=!1}function zv(a,c,p,b,A,T,z,Z,re){var ce=Array.prototype.slice.call(arguments,3);try{c.apply(p,ce)}catch(ge){this.onError(ge)}}var Ya=!1,Mc=null,Ic=!1,Wd=null,$v={onError:function(a){Ya=!0,Mc=a}};function Bv(a,c,p,b,A,T,z,Z,re){Ya=!1,Mc=null,zv.apply($v,arguments)}function $g(a,c,p,b,A,T,z,Z,re){if(Bv.apply(this,arguments),Ya){if(Ya){var ce=Mc;Ya=!1,Mc=null}else throw Error(t(198));Ic||(Ic=!0,Wd=ce)}}function Ui(a){var c=a,p=a;if(a.alternate)for(;c.return;)c=c.return;else{a=c;do c=a,(c.flags&4098)!==0&&(p=c.return),a=c.return;while(a)}return c.tag===3?p:null}function Bg(a){if(a.tag===13){var c=a.memoizedState;if(c===null&&(a=a.alternate,a!==null&&(c=a.memoizedState)),c!==null)return c.dehydrated}return null}function jg(a){if(Ui(a)!==a)throw Error(t(188))}function jv(a){var c=a.alternate;if(!c){if(c=Ui(a),c===null)throw Error(t(188));return c!==a?null:a}for(var p=a,b=c;;){var A=p.return;if(A===null)break;var T=A.alternate;if(T===null){if(b=A.return,b!==null){p=b;continue}break}if(A.child===T.child){for(T=A.child;T;){if(T===p)return jg(A),a;if(T===b)return jg(A),c;T=T.sibling}throw Error(t(188))}if(p.return!==b.return)p=A,b=T;else{for(var z=!1,Z=A.child;Z;){if(Z===p){z=!0,p=A,b=T;break}if(Z===b){z=!0,b=A,p=T;break}Z=Z.sibling}if(!z){for(Z=T.child;Z;){if(Z===p){z=!0,p=T,b=A;break}if(Z===b){z=!0,b=T,p=A;break}Z=Z.sibling}if(!z)throw Error(t(189))}}if(p.alternate!==b)throw Error(t(190))}if(p.tag!==3)throw Error(t(188));return p.stateNode.current===p?a:c}function Hg(a){return a=jv(a),a!==null?Wg(a):null}function Wg(a){if(a.tag===5||a.tag===6)return a;for(a=a.child;a!==null;){var c=Wg(a);if(c!==null)return c;a=a.sibling}return null}var Ug=e.unstable_scheduleCallback,Vg=e.unstable_cancelCallback,Gg=e.unstable_shouldYield,Hv=e.unstable_requestPaint,Ft=e.unstable_now,Wv=e.unstable_getCurrentPriorityLevel,Ud=e.unstable_ImmediatePriority,qg=e.unstable_UserBlockingPriority,Nc=e.unstable_NormalPriority,Uv=e.unstable_LowPriority,Vd=e.unstable_IdlePriority,Lc=null,Xr=null;function Vv(a){if(Xr&&typeof Xr.onCommitFiberRoot=="function")try{Xr.onCommitFiberRoot(Lc,a,void 0,(a.current.flags&128)===128)}catch{}}var kr=Math.clz32?Math.clz32:Yv,Gv=Math.log,qv=Math.LN2;function Yv(a){return a>>>=0,a===0?32:31-(Gv(a)/qv|0)|0}var Rs=64,Oc=4194304;function Xa(a){switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return a&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return a}}function Oo(a,c){var p=a.pendingLanes;if(p===0)return 0;var b=0,A=a.suspendedLanes,T=a.pingedLanes,z=p&268435455;if(z!==0){var Z=z&~A;Z!==0?b=Xa(Z):(T&=z,T!==0&&(b=Xa(T)))}else z=p&~A,z!==0?b=Xa(z):T!==0&&(b=Xa(T));if(b===0)return 0;if(c!==0&&c!==b&&(c&A)===0&&(A=b&-b,T=c&-c,A>=T||A===16&&(T&4194240)!==0))return c;if((b&4)!==0&&(b|=p&16),c=a.entangledLanes,c!==0)for(a=a.entanglements,c&=b;0<c;)p=31-kr(c),A=1<<p,b|=a[p],c&=~A;return b}function Xv(a,c){switch(a){case 1:case 2:case 4:return c+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Kv(a,c){for(var p=a.suspendedLanes,b=a.pingedLanes,A=a.expirationTimes,T=a.pendingLanes;0<T;){var z=31-kr(T),Z=1<<z,re=A[z];re===-1?((Z&p)===0||(Z&b)!==0)&&(A[z]=Xv(Z,c)):re<=c&&(a.expiredLanes|=Z),T&=~Z}}function Dc(a){return a=a.pendingLanes&-1073741825,a!==0?a:a&1073741824?1073741824:0}function CC(){var a=Rs;return Rs<<=1,(Rs&4194240)===0&&(Rs=64),a}function Qv(a){for(var c=[],p=0;31>p;p++)c.push(a);return c}function Gd(a,c,p){a.pendingLanes|=c,c!==536870912&&(a.suspendedLanes=0,a.pingedLanes=0),a=a.eventTimes,c=31-kr(c),a[c]=p}function xO(a,c){var p=a.pendingLanes&~c;a.pendingLanes=c,a.suspendedLanes=0,a.pingedLanes=0,a.expiredLanes&=c,a.mutableReadLanes&=c,a.entangledLanes&=c,c=a.entanglements;var b=a.eventTimes;for(a=a.expirationTimes;0<p;){var A=31-kr(p),T=1<<A;c[A]=0,b[A]=-1,a[A]=-1,p&=~T}}function Zv(a,c){var p=a.entangledLanes|=c;for(a=a.entanglements;p;){var b=31-kr(p),A=1<<b;A&c|a[b]&c&&(a[b]|=c),p&=~A}}var pt=0;function _C(a){return a&=-a,1<a?4<a?(a&268435455)!==0?16:536870912:4:1}var AC,Jv,kC,RC,TC,eb=!1,Yg=[],Do=null,Fo=null,zo=null,qd=new Map,Yd=new Map,$o=[],SO="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function PC(a,c){switch(a){case"focusin":case"focusout":Do=null;break;case"dragenter":case"dragleave":Fo=null;break;case"mouseover":case"mouseout":zo=null;break;case"pointerover":case"pointerout":qd.delete(c.pointerId);break;case"gotpointercapture":case"lostpointercapture":Yd.delete(c.pointerId)}}function Xd(a,c,p,b,A,T){return a===null||a.nativeEvent!==T?(a={blockedOn:c,domEventName:p,eventSystemFlags:b,nativeEvent:T,targetContainers:[A]},c!==null&&(c=ch(c),c!==null&&Jv(c)),a):(a.eventSystemFlags|=b,c=a.targetContainers,A!==null&&c.indexOf(A)===-1&&c.push(A),a)}function EO(a,c,p,b,A){switch(c){case"focusin":return Do=Xd(Do,a,c,p,b,A),!0;case"dragenter":return Fo=Xd(Fo,a,c,p,b,A),!0;case"mouseover":return zo=Xd(zo,a,c,p,b,A),!0;case"pointerover":var T=A.pointerId;return qd.set(T,Xd(qd.get(T)||null,a,c,p,b,A)),!0;case"gotpointercapture":return T=A.pointerId,Yd.set(T,Xd(Yd.get(T)||null,a,c,p,b,A)),!0}return!1}function MC(a){var c=Ka(a.target);if(c!==null){var p=Ui(c);if(p!==null){if(c=p.tag,c===13){if(c=Bg(p),c!==null){a.blockedOn=c,TC(a.priority,function(){kC(p)});return}}else if(c===3&&p.stateNode.current.memoizedState.isDehydrated){a.blockedOn=p.tag===3?p.stateNode.containerInfo:null;return}}}a.blockedOn=null}function Xg(a){if(a.blockedOn!==null)return!1;for(var c=a.targetContainers;0<c.length;){var p=nb(a.domEventName,a.eventSystemFlags,c[0],a.nativeEvent);if(p===null){p=a.nativeEvent;var b=new p.constructor(p.type,p);Yr=b,p.target.dispatchEvent(b),Yr=null}else return c=ch(p),c!==null&&Jv(c),a.blockedOn=p,!1;c.shift()}return!0}function IC(a,c,p){Xg(a)&&p.delete(c)}function CO(){eb=!1,Do!==null&&Xg(Do)&&(Do=null),Fo!==null&&Xg(Fo)&&(Fo=null),zo!==null&&Xg(zo)&&(zo=null),qd.forEach(IC),Yd.forEach(IC)}function Kd(a,c){a.blockedOn===c&&(a.blockedOn=null,eb||(eb=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,CO)))}function Qd(a){function c(A){return Kd(A,a)}if(0<Yg.length){Kd(Yg[0],a);for(var p=1;p<Yg.length;p++){var b=Yg[p];b.blockedOn===a&&(b.blockedOn=null)}}for(Do!==null&&Kd(Do,a),Fo!==null&&Kd(Fo,a),zo!==null&&Kd(zo,a),qd.forEach(c),Yd.forEach(c),p=0;p<$o.length;p++)b=$o[p],b.blockedOn===a&&(b.blockedOn=null);for(;0<$o.length&&(p=$o[0],p.blockedOn===null);)MC(p),p.blockedOn===null&&$o.shift()}var Fc=C.ReactCurrentBatchConfig,Kg=!0;function _O(a,c,p,b){var A=pt,T=Fc.transition;Fc.transition=null;try{pt=1,tb(a,c,p,b)}finally{pt=A,Fc.transition=T}}function AO(a,c,p,b){var A=pt,T=Fc.transition;Fc.transition=null;try{pt=4,tb(a,c,p,b)}finally{pt=A,Fc.transition=T}}function tb(a,c,p,b){if(Kg){var A=nb(a,c,p,b);if(A===null)bb(a,c,b,Qg,p),PC(a,b);else if(EO(A,a,c,p,b))b.stopPropagation();else if(PC(a,b),c&4&&-1<SO.indexOf(a)){for(;A!==null;){var T=ch(A);if(T!==null&&AC(T),T=nb(a,c,p,b),T===null&&bb(a,c,b,Qg,p),T===A)break;A=T}A!==null&&b.stopPropagation()}else bb(a,c,b,null,p)}}var Qg=null;function nb(a,c,p,b){if(Qg=null,a=Io(b),a=Ka(a),a!==null)if(c=Ui(a),c===null)a=null;else if(p=c.tag,p===13){if(a=Bg(c),a!==null)return a;a=null}else if(p===3){if(c.stateNode.current.memoizedState.isDehydrated)return c.tag===3?c.stateNode.containerInfo:null;a=null}else c!==a&&(a=null);return Qg=a,null}function NC(a){switch(a){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Wv()){case Ud:return 1;case qg:return 4;case Nc:case Uv:return 16;case Vd:return 536870912;default:return 16}default:return 16}}var Bo=null,rb=null,Zg=null;function LC(){if(Zg)return Zg;var a,c=rb,p=c.length,b,A="value"in Bo?Bo.value:Bo.textContent,T=A.length;for(a=0;a<p&&c[a]===A[a];a++);var z=p-a;for(b=1;b<=z&&c[p-b]===A[T-b];b++);return Zg=A.slice(a,1<b?1-b:void 0)}function Jg(a){var c=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&c===13&&(a=13)):a=c,a===10&&(a=13),32<=a||a===13?a:0}function em(){return!0}function OC(){return!1}function Rr(a){function c(p,b,A,T,z){this._reactName=p,this._targetInst=A,this.type=b,this.nativeEvent=T,this.target=z,this.currentTarget=null;for(var Z in a)a.hasOwnProperty(Z)&&(p=a[Z],this[Z]=p?p(T):T[Z]);return this.isDefaultPrevented=(T.defaultPrevented!=null?T.defaultPrevented:T.returnValue===!1)?em:OC,this.isPropagationStopped=OC,this}return Q(c.prototype,{preventDefault:function(){this.defaultPrevented=!0;var p=this.nativeEvent;p&&(p.preventDefault?p.preventDefault():typeof p.returnValue!="unknown"&&(p.returnValue=!1),this.isDefaultPrevented=em)},stopPropagation:function(){var p=this.nativeEvent;p&&(p.stopPropagation?p.stopPropagation():typeof p.cancelBubble!="unknown"&&(p.cancelBubble=!0),this.isPropagationStopped=em)},persist:function(){},isPersistent:em}),c}var zc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ib=Rr(zc),Zd=Q({},zc,{view:0,detail:0}),kO=Rr(Zd),sb,ob,Jd,tm=Q({},Zd,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:lb,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==Jd&&(Jd&&a.type==="mousemove"?(sb=a.screenX-Jd.screenX,ob=a.screenY-Jd.screenY):ob=sb=0,Jd=a),sb)},movementY:function(a){return"movementY"in a?a.movementY:ob}}),DC=Rr(tm),RO=Q({},tm,{dataTransfer:0}),TO=Rr(RO),PO=Q({},Zd,{relatedTarget:0}),ab=Rr(PO),MO=Q({},zc,{animationName:0,elapsedTime:0,pseudoElement:0}),IO=Rr(MO),NO=Q({},zc,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),LO=Rr(NO),OO=Q({},zc,{data:0}),FC=Rr(OO),DO={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},FO={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},zO={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function $O(a){var c=this.nativeEvent;return c.getModifierState?c.getModifierState(a):(a=zO[a])?!!c[a]:!1}function lb(){return $O}var BO=Q({},Zd,{key:function(a){if(a.key){var c=DO[a.key]||a.key;if(c!=="Unidentified")return c}return a.type==="keypress"?(a=Jg(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?FO[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:lb,charCode:function(a){return a.type==="keypress"?Jg(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?Jg(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),jO=Rr(BO),HO=Q({},tm,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),zC=Rr(HO),WO=Q({},Zd,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:lb}),UO=Rr(WO),VO=Q({},zc,{propertyName:0,elapsedTime:0,pseudoElement:0}),GO=Rr(VO),qO=Q({},tm,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),YO=Rr(qO),XO=[9,13,27,32],cb=l&&"CompositionEvent"in window,eh=null;l&&"documentMode"in document&&(eh=document.documentMode);var KO=l&&"TextEvent"in window&&!eh,$C=l&&(!cb||eh&&8<eh&&11>=eh),BC=" ",jC=!1;function HC(a,c){switch(a){case"keyup":return XO.indexOf(c.keyCode)!==-1;case"keydown":return c.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function WC(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var $c=!1;function QO(a,c){switch(a){case"compositionend":return WC(c);case"keypress":return c.which!==32?null:(jC=!0,BC);case"textInput":return a=c.data,a===BC&&jC?null:a;default:return null}}function ZO(a,c){if($c)return a==="compositionend"||!cb&&HC(a,c)?(a=LC(),Zg=rb=Bo=null,$c=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(c.ctrlKey||c.altKey||c.metaKey)||c.ctrlKey&&c.altKey){if(c.char&&1<c.char.length)return c.char;if(c.which)return String.fromCharCode(c.which)}return null;case"compositionend":return $C&&c.locale!=="ko"?null:c.data;default:return null}}var JO={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function UC(a){var c=a&&a.nodeName&&a.nodeName.toLowerCase();return c==="input"?!!JO[a.type]:c==="textarea"}function VC(a,c,p,b){Bd(b),c=om(c,"onChange"),0<c.length&&(p=new ib("onChange","change",null,p,b),a.push({event:p,listeners:c}))}var th=null,nh=null;function eD(a){c_(a,0)}function nm(a){var c=Uc(a);if(fe(c))return a}function tD(a,c){if(a==="change")return c}var GC=!1;if(l){var ub;if(l){var db="oninput"in document;if(!db){var qC=document.createElement("div");qC.setAttribute("oninput","return;"),db=typeof qC.oninput=="function"}ub=db}else ub=!1;GC=ub&&(!document.documentMode||9<document.documentMode)}function YC(){th&&(th.detachEvent("onpropertychange",XC),nh=th=null)}function XC(a){if(a.propertyName==="value"&&nm(nh)){var c=[];VC(c,nh,a,Io(a)),zg(eD,c)}}function nD(a,c,p){a==="focusin"?(YC(),th=c,nh=p,th.attachEvent("onpropertychange",XC)):a==="focusout"&&YC()}function rD(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return nm(nh)}function iD(a,c){if(a==="click")return nm(c)}function sD(a,c){if(a==="input"||a==="change")return nm(c)}function oD(a,c){return a===c&&(a!==0||1/a===1/c)||a!==a&&c!==c}var fi=typeof Object.is=="function"?Object.is:oD;function rh(a,c){if(fi(a,c))return!0;if(typeof a!="object"||a===null||typeof c!="object"||c===null)return!1;var p=Object.keys(a),b=Object.keys(c);if(p.length!==b.length)return!1;for(b=0;b<p.length;b++){var A=p[b];if(!u.call(c,A)||!fi(a[A],c[A]))return!1}return!0}function KC(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function QC(a,c){var p=KC(a);a=0;for(var b;p;){if(p.nodeType===3){if(b=a+p.textContent.length,a<=c&&b>=c)return{node:p,offset:c-a};a=b}e:{for(;p;){if(p.nextSibling){p=p.nextSibling;break e}p=p.parentNode}p=void 0}p=KC(p)}}function ZC(a,c){return a&&c?a===c?!0:a&&a.nodeType===3?!1:c&&c.nodeType===3?ZC(a,c.parentNode):"contains"in a?a.contains(c):a.compareDocumentPosition?!!(a.compareDocumentPosition(c)&16):!1:!1}function JC(){for(var a=window,c=we();c instanceof a.HTMLIFrameElement;){try{var p=typeof c.contentWindow.location.href=="string"}catch{p=!1}if(p)a=c.contentWindow;else break;c=we(a.document)}return c}function hb(a){var c=a&&a.nodeName&&a.nodeName.toLowerCase();return c&&(c==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||c==="textarea"||a.contentEditable==="true")}function aD(a){var c=JC(),p=a.focusedElem,b=a.selectionRange;if(c!==p&&p&&p.ownerDocument&&ZC(p.ownerDocument.documentElement,p)){if(b!==null&&hb(p)){if(c=b.start,a=b.end,a===void 0&&(a=c),"selectionStart"in p)p.selectionStart=c,p.selectionEnd=Math.min(a,p.value.length);else if(a=(c=p.ownerDocument||document)&&c.defaultView||window,a.getSelection){a=a.getSelection();var A=p.textContent.length,T=Math.min(b.start,A);b=b.end===void 0?T:Math.min(b.end,A),!a.extend&&T>b&&(A=b,b=T,T=A),A=QC(p,T);var z=QC(p,b);A&&z&&(a.rangeCount!==1||a.anchorNode!==A.node||a.anchorOffset!==A.offset||a.focusNode!==z.node||a.focusOffset!==z.offset)&&(c=c.createRange(),c.setStart(A.node,A.offset),a.removeAllRanges(),T>b?(a.addRange(c),a.extend(z.node,z.offset)):(c.setEnd(z.node,z.offset),a.addRange(c)))}}for(c=[],a=p;a=a.parentNode;)a.nodeType===1&&c.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof p.focus=="function"&&p.focus(),p=0;p<c.length;p++)a=c[p],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var lD=l&&"documentMode"in document&&11>=document.documentMode,Bc=null,fb=null,ih=null,pb=!1;function e_(a,c,p){var b=p.window===p?p.document:p.nodeType===9?p:p.ownerDocument;pb||Bc==null||Bc!==we(b)||(b=Bc,"selectionStart"in b&&hb(b)?b={start:b.selectionStart,end:b.selectionEnd}:(b=(b.ownerDocument&&b.ownerDocument.defaultView||window).getSelection(),b={anchorNode:b.anchorNode,anchorOffset:b.anchorOffset,focusNode:b.focusNode,focusOffset:b.focusOffset}),ih&&rh(ih,b)||(ih=b,b=om(fb,"onSelect"),0<b.length&&(c=new ib("onSelect","select",null,c,p),a.push({event:c,listeners:b}),c.target=Bc)))}function rm(a,c){var p={};return p[a.toLowerCase()]=c.toLowerCase(),p["Webkit"+a]="webkit"+c,p["Moz"+a]="moz"+c,p}var jc={animationend:rm("Animation","AnimationEnd"),animationiteration:rm("Animation","AnimationIteration"),animationstart:rm("Animation","AnimationStart"),transitionend:rm("Transition","TransitionEnd")},gb={},t_={};l&&(t_=document.createElement("div").style,"AnimationEvent"in window||(delete jc.animationend.animation,delete jc.animationiteration.animation,delete jc.animationstart.animation),"TransitionEvent"in window||delete jc.transitionend.transition);function im(a){if(gb[a])return gb[a];if(!jc[a])return a;var c=jc[a],p;for(p in c)if(c.hasOwnProperty(p)&&p in t_)return gb[a]=c[p];return a}var n_=im("animationend"),r_=im("animationiteration"),i_=im("animationstart"),s_=im("transitionend"),o_=new Map,a_="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function jo(a,c){o_.set(a,c),s(c,[a])}for(var mb=0;mb<a_.length;mb++){var yb=a_[mb],cD=yb.toLowerCase(),uD=yb[0].toUpperCase()+yb.slice(1);jo(cD,"on"+uD)}jo(n_,"onAnimationEnd"),jo(r_,"onAnimationIteration"),jo(i_,"onAnimationStart"),jo("dblclick","onDoubleClick"),jo("focusin","onFocus"),jo("focusout","onBlur"),jo(s_,"onTransitionEnd"),o("onMouseEnter",["mouseout","mouseover"]),o("onMouseLeave",["mouseout","mouseover"]),o("onPointerEnter",["pointerout","pointerover"]),o("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var sh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),dD=new Set("cancel close invalid load scroll toggle".split(" ").concat(sh));function l_(a,c,p){var b=a.type||"unknown-event";a.currentTarget=p,$g(b,c,void 0,a),a.currentTarget=null}function c_(a,c){c=(c&4)!==0;for(var p=0;p<a.length;p++){var b=a[p],A=b.event;b=b.listeners;e:{var T=void 0;if(c)for(var z=b.length-1;0<=z;z--){var Z=b[z],re=Z.instance,ce=Z.currentTarget;if(Z=Z.listener,re!==T&&A.isPropagationStopped())break e;l_(A,Z,ce),T=re}else for(z=0;z<b.length;z++){if(Z=b[z],re=Z.instance,ce=Z.currentTarget,Z=Z.listener,re!==T&&A.isPropagationStopped())break e;l_(A,Z,ce),T=re}}}if(Ic)throw a=Wd,Ic=!1,Wd=null,a}function Pt(a,c){var p=c[_b];p===void 0&&(p=c[_b]=new Set);var b=a+"__bubble";p.has(b)||(u_(c,a,2,!1),p.add(b))}function vb(a,c,p){var b=0;c&&(b|=4),u_(p,a,b,c)}var sm="_reactListening"+Math.random().toString(36).slice(2);function oh(a){if(!a[sm]){a[sm]=!0,r.forEach(function(p){p!=="selectionchange"&&(dD.has(p)||vb(p,!1,a),vb(p,!0,a))});var c=a.nodeType===9?a:a.ownerDocument;c===null||c[sm]||(c[sm]=!0,vb("selectionchange",!1,c))}}function u_(a,c,p,b){switch(NC(c)){case 1:var A=_O;break;case 4:A=AO;break;default:A=tb}p=A.bind(null,c,p,a),A=void 0,!Hd||c!=="touchstart"&&c!=="touchmove"&&c!=="wheel"||(A=!0),b?A!==void 0?a.addEventListener(c,p,{capture:!0,passive:A}):a.addEventListener(c,p,!0):A!==void 0?a.addEventListener(c,p,{passive:A}):a.addEventListener(c,p,!1)}function bb(a,c,p,b,A){var T=b;if((c&1)===0&&(c&2)===0&&b!==null)e:for(;;){if(b===null)return;var z=b.tag;if(z===3||z===4){var Z=b.stateNode.containerInfo;if(Z===A||Z.nodeType===8&&Z.parentNode===A)break;if(z===4)for(z=b.return;z!==null;){var re=z.tag;if((re===3||re===4)&&(re=z.stateNode.containerInfo,re===A||re.nodeType===8&&re.parentNode===A))return;z=z.return}for(;Z!==null;){if(z=Ka(Z),z===null)return;if(re=z.tag,re===5||re===6){b=T=z;continue e}Z=Z.parentNode}}b=b.return}zg(function(){var ce=T,ge=Io(p),ye=[];e:{var pe=o_.get(a);if(pe!==void 0){var Ee=ib,ke=a;switch(a){case"keypress":if(Jg(p)===0)break e;case"keydown":case"keyup":Ee=jO;break;case"focusin":ke="focus",Ee=ab;break;case"focusout":ke="blur",Ee=ab;break;case"beforeblur":case"afterblur":Ee=ab;break;case"click":if(p.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ee=DC;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ee=TO;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ee=UO;break;case n_:case r_:case i_:Ee=IO;break;case s_:Ee=GO;break;case"scroll":Ee=kO;break;case"wheel":Ee=YO;break;case"copy":case"cut":case"paste":Ee=LO;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ee=zC}var Te=(c&4)!==0,Xt=!Te&&a==="scroll",ae=Te?pe!==null?pe+"Capture":null:pe;Te=[];for(var se=ce,le;se!==null;){le=se;var ve=le.stateNode;if(le.tag===5&&ve!==null&&(le=ve,ae!==null&&(ve=Ga(se,ae),ve!=null&&Te.push(ah(se,ve,le)))),Xt)break;se=se.return}0<Te.length&&(pe=new Ee(pe,ke,null,p,ge),ye.push({event:pe,listeners:Te}))}}if((c&7)===0){e:{if(pe=a==="mouseover"||a==="pointerover",Ee=a==="mouseout"||a==="pointerout",pe&&p!==Yr&&(ke=p.relatedTarget||p.fromElement)&&(Ka(ke)||ke[Ts]))break e;if((Ee||pe)&&(pe=ge.window===ge?ge:(pe=ge.ownerDocument)?pe.defaultView||pe.parentWindow:window,Ee?(ke=p.relatedTarget||p.toElement,Ee=ce,ke=ke?Ka(ke):null,ke!==null&&(Xt=Ui(ke),ke!==Xt||ke.tag!==5&&ke.tag!==6)&&(ke=null)):(Ee=null,ke=ce),Ee!==ke)){if(Te=DC,ve="onMouseLeave",ae="onMouseEnter",se="mouse",(a==="pointerout"||a==="pointerover")&&(Te=zC,ve="onPointerLeave",ae="onPointerEnter",se="pointer"),Xt=Ee==null?pe:Uc(Ee),le=ke==null?pe:Uc(ke),pe=new Te(ve,se+"leave",Ee,p,ge),pe.target=Xt,pe.relatedTarget=le,ve=null,Ka(ge)===ce&&(Te=new Te(ae,se+"enter",ke,p,ge),Te.target=le,Te.relatedTarget=Xt,ve=Te),Xt=ve,Ee&&ke)t:{for(Te=Ee,ae=ke,se=0,le=Te;le;le=Hc(le))se++;for(le=0,ve=ae;ve;ve=Hc(ve))le++;for(;0<se-le;)Te=Hc(Te),se--;for(;0<le-se;)ae=Hc(ae),le--;for(;se--;){if(Te===ae||ae!==null&&Te===ae.alternate)break t;Te=Hc(Te),ae=Hc(ae)}Te=null}else Te=null;Ee!==null&&d_(ye,pe,Ee,Te,!1),ke!==null&&Xt!==null&&d_(ye,Xt,ke,Te,!0)}}e:{if(pe=ce?Uc(ce):window,Ee=pe.nodeName&&pe.nodeName.toLowerCase(),Ee==="select"||Ee==="input"&&pe.type==="file")var Me=tD;else if(UC(pe))if(GC)Me=sD;else{Me=rD;var Fe=nD}else(Ee=pe.nodeName)&&Ee.toLowerCase()==="input"&&(pe.type==="checkbox"||pe.type==="radio")&&(Me=iD);if(Me&&(Me=Me(a,ce))){VC(ye,Me,p,ge);break e}Fe&&Fe(a,pe,ce),a==="focusout"&&(Fe=pe._wrapperState)&&Fe.controlled&&pe.type==="number"&&vn(pe,"number",pe.value)}switch(Fe=ce?Uc(ce):window,a){case"focusin":(UC(Fe)||Fe.contentEditable==="true")&&(Bc=Fe,fb=ce,ih=null);break;case"focusout":ih=fb=Bc=null;break;case"mousedown":pb=!0;break;case"contextmenu":case"mouseup":case"dragend":pb=!1,e_(ye,p,ge);break;case"selectionchange":if(lD)break;case"keydown":case"keyup":e_(ye,p,ge)}var ze;if(cb)e:{switch(a){case"compositionstart":var je="onCompositionStart";break e;case"compositionend":je="onCompositionEnd";break e;case"compositionupdate":je="onCompositionUpdate";break e}je=void 0}else $c?HC(a,p)&&(je="onCompositionEnd"):a==="keydown"&&p.keyCode===229&&(je="onCompositionStart");je&&($C&&p.locale!=="ko"&&($c||je!=="onCompositionStart"?je==="onCompositionEnd"&&$c&&(ze=LC()):(Bo=ge,rb="value"in Bo?Bo.value:Bo.textContent,$c=!0)),Fe=om(ce,je),0<Fe.length&&(je=new FC(je,a,null,p,ge),ye.push({event:je,listeners:Fe}),ze?je.data=ze:(ze=WC(p),ze!==null&&(je.data=ze)))),(ze=KO?QO(a,p):ZO(a,p))&&(ce=om(ce,"onBeforeInput"),0<ce.length&&(ge=new FC("onBeforeInput","beforeinput",null,p,ge),ye.push({event:ge,listeners:ce}),ge.data=ze))}c_(ye,c)})}function ah(a,c,p){return{instance:a,listener:c,currentTarget:p}}function om(a,c){for(var p=c+"Capture",b=[];a!==null;){var A=a,T=A.stateNode;A.tag===5&&T!==null&&(A=T,T=Ga(a,p),T!=null&&b.unshift(ah(a,T,A)),T=Ga(a,c),T!=null&&b.push(ah(a,T,A))),a=a.return}return b}function Hc(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5);return a||null}function d_(a,c,p,b,A){for(var T=c._reactName,z=[];p!==null&&p!==b;){var Z=p,re=Z.alternate,ce=Z.stateNode;if(re!==null&&re===b)break;Z.tag===5&&ce!==null&&(Z=ce,A?(re=Ga(p,T),re!=null&&z.unshift(ah(p,re,Z))):A||(re=Ga(p,T),re!=null&&z.push(ah(p,re,Z)))),p=p.return}z.length!==0&&a.push({event:c,listeners:z})}var hD=/\r\n?/g,fD=/\u0000|\uFFFD/g;function h_(a){return(typeof a=="string"?a:""+a).replace(hD,`
`).replace(fD,"")}function am(a,c,p){if(c=h_(c),h_(a)!==c&&p)throw Error(t(425))}function lm(){}var wb=null,xb=null;function Sb(a,c){return a==="textarea"||a==="noscript"||typeof c.children=="string"||typeof c.children=="number"||typeof c.dangerouslySetInnerHTML=="object"&&c.dangerouslySetInnerHTML!==null&&c.dangerouslySetInnerHTML.__html!=null}var Eb=typeof setTimeout=="function"?setTimeout:void 0,pD=typeof clearTimeout=="function"?clearTimeout:void 0,f_=typeof Promise=="function"?Promise:void 0,gD=typeof queueMicrotask=="function"?queueMicrotask:typeof f_<"u"?function(a){return f_.resolve(null).then(a).catch(mD)}:Eb;function mD(a){setTimeout(function(){throw a})}function Cb(a,c){var p=c,b=0;do{var A=p.nextSibling;if(a.removeChild(p),A&&A.nodeType===8)if(p=A.data,p==="/$"){if(b===0){a.removeChild(A),Qd(c);return}b--}else p!=="$"&&p!=="$?"&&p!=="$!"||b++;p=A}while(p);Qd(c)}function Ho(a){for(;a!=null;a=a.nextSibling){var c=a.nodeType;if(c===1||c===3)break;if(c===8){if(c=a.data,c==="$"||c==="$!"||c==="$?")break;if(c==="/$")return null}}return a}function p_(a){a=a.previousSibling;for(var c=0;a;){if(a.nodeType===8){var p=a.data;if(p==="$"||p==="$!"||p==="$?"){if(c===0)return a;c--}else p==="/$"&&c++}a=a.previousSibling}return null}var Wc=Math.random().toString(36).slice(2),Vi="__reactFiber$"+Wc,lh="__reactProps$"+Wc,Ts="__reactContainer$"+Wc,_b="__reactEvents$"+Wc,yD="__reactListeners$"+Wc,vD="__reactHandles$"+Wc;function Ka(a){var c=a[Vi];if(c)return c;for(var p=a.parentNode;p;){if(c=p[Ts]||p[Vi]){if(p=c.alternate,c.child!==null||p!==null&&p.child!==null)for(a=p_(a);a!==null;){if(p=a[Vi])return p;a=p_(a)}return c}a=p,p=a.parentNode}return null}function ch(a){return a=a[Vi]||a[Ts],!a||a.tag!==5&&a.tag!==6&&a.tag!==13&&a.tag!==3?null:a}function Uc(a){if(a.tag===5||a.tag===6)return a.stateNode;throw Error(t(33))}function cm(a){return a[lh]||null}var Ab=[],Vc=-1;function Wo(a){return{current:a}}function Mt(a){0>Vc||(a.current=Ab[Vc],Ab[Vc]=null,Vc--)}function kt(a,c){Vc++,Ab[Vc]=a.current,a.current=c}var Uo={},On=Wo(Uo),cr=Wo(!1),Qa=Uo;function Gc(a,c){var p=a.type.contextTypes;if(!p)return Uo;var b=a.stateNode;if(b&&b.__reactInternalMemoizedUnmaskedChildContext===c)return b.__reactInternalMemoizedMaskedChildContext;var A={},T;for(T in p)A[T]=c[T];return b&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=c,a.__reactInternalMemoizedMaskedChildContext=A),A}function ur(a){return a=a.childContextTypes,a!=null}function um(){Mt(cr),Mt(On)}function g_(a,c,p){if(On.current!==Uo)throw Error(t(168));kt(On,c),kt(cr,p)}function m_(a,c,p){var b=a.stateNode;if(c=c.childContextTypes,typeof b.getChildContext!="function")return p;b=b.getChildContext();for(var A in b)if(!(A in c))throw Error(t(108,ne(a)||"Unknown",A));return Q({},p,b)}function dm(a){return a=(a=a.stateNode)&&a.__reactInternalMemoizedMergedChildContext||Uo,Qa=On.current,kt(On,a),kt(cr,cr.current),!0}function y_(a,c,p){var b=a.stateNode;if(!b)throw Error(t(169));p?(a=m_(a,c,Qa),b.__reactInternalMemoizedMergedChildContext=a,Mt(cr),Mt(On),kt(On,a)):Mt(cr),kt(cr,p)}var Ps=null,hm=!1,kb=!1;function v_(a){Ps===null?Ps=[a]:Ps.push(a)}function bD(a){hm=!0,v_(a)}function Vo(){if(!kb&&Ps!==null){kb=!0;var a=0,c=pt;try{var p=Ps;for(pt=1;a<p.length;a++){var b=p[a];do b=b(!0);while(b!==null)}Ps=null,hm=!1}catch(A){throw Ps!==null&&(Ps=Ps.slice(a+1)),Ug(Ud,Vo),A}finally{pt=c,kb=!1}}return null}var qc=[],Yc=0,fm=null,pm=0,Kr=[],Qr=0,Za=null,Ms=1,Is="";function Ja(a,c){qc[Yc++]=pm,qc[Yc++]=fm,fm=a,pm=c}function b_(a,c,p){Kr[Qr++]=Ms,Kr[Qr++]=Is,Kr[Qr++]=Za,Za=a;var b=Ms;a=Is;var A=32-kr(b)-1;b&=~(1<<A),p+=1;var T=32-kr(c)+A;if(30<T){var z=A-A%5;T=(b&(1<<z)-1).toString(32),b>>=z,A-=z,Ms=1<<32-kr(c)+A|p<<A|b,Is=T+a}else Ms=1<<T|p<<A|b,Is=a}function Rb(a){a.return!==null&&(Ja(a,1),b_(a,1,0))}function Tb(a){for(;a===fm;)fm=qc[--Yc],qc[Yc]=null,pm=qc[--Yc],qc[Yc]=null;for(;a===Za;)Za=Kr[--Qr],Kr[Qr]=null,Is=Kr[--Qr],Kr[Qr]=null,Ms=Kr[--Qr],Kr[Qr]=null}var Tr=null,Pr=null,It=!1,pi=null;function w_(a,c){var p=ti(5,null,null,0);p.elementType="DELETED",p.stateNode=c,p.return=a,c=a.deletions,c===null?(a.deletions=[p],a.flags|=16):c.push(p)}function x_(a,c){switch(a.tag){case 5:var p=a.type;return c=c.nodeType!==1||p.toLowerCase()!==c.nodeName.toLowerCase()?null:c,c!==null?(a.stateNode=c,Tr=a,Pr=Ho(c.firstChild),!0):!1;case 6:return c=a.pendingProps===""||c.nodeType!==3?null:c,c!==null?(a.stateNode=c,Tr=a,Pr=null,!0):!1;case 13:return c=c.nodeType!==8?null:c,c!==null?(p=Za!==null?{id:Ms,overflow:Is}:null,a.memoizedState={dehydrated:c,treeContext:p,retryLane:1073741824},p=ti(18,null,null,0),p.stateNode=c,p.return=a,a.child=p,Tr=a,Pr=null,!0):!1;default:return!1}}function Pb(a){return(a.mode&1)!==0&&(a.flags&128)===0}function Mb(a){if(It){var c=Pr;if(c){var p=c;if(!x_(a,c)){if(Pb(a))throw Error(t(418));c=Ho(p.nextSibling);var b=Tr;c&&x_(a,c)?w_(b,p):(a.flags=a.flags&-4097|2,It=!1,Tr=a)}}else{if(Pb(a))throw Error(t(418));a.flags=a.flags&-4097|2,It=!1,Tr=a}}}function S_(a){for(a=a.return;a!==null&&a.tag!==5&&a.tag!==3&&a.tag!==13;)a=a.return;Tr=a}function gm(a){if(a!==Tr)return!1;if(!It)return S_(a),It=!0,!1;var c;if((c=a.tag!==3)&&!(c=a.tag!==5)&&(c=a.type,c=c!=="head"&&c!=="body"&&!Sb(a.type,a.memoizedProps)),c&&(c=Pr)){if(Pb(a))throw E_(),Error(t(418));for(;c;)w_(a,c),c=Ho(c.nextSibling)}if(S_(a),a.tag===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(t(317));e:{for(a=a.nextSibling,c=0;a;){if(a.nodeType===8){var p=a.data;if(p==="/$"){if(c===0){Pr=Ho(a.nextSibling);break e}c--}else p!=="$"&&p!=="$!"&&p!=="$?"||c++}a=a.nextSibling}Pr=null}}else Pr=Tr?Ho(a.stateNode.nextSibling):null;return!0}function E_(){for(var a=Pr;a;)a=Ho(a.nextSibling)}function Xc(){Pr=Tr=null,It=!1}function Ib(a){pi===null?pi=[a]:pi.push(a)}var wD=C.ReactCurrentBatchConfig;function uh(a,c,p){if(a=p.ref,a!==null&&typeof a!="function"&&typeof a!="object"){if(p._owner){if(p=p._owner,p){if(p.tag!==1)throw Error(t(309));var b=p.stateNode}if(!b)throw Error(t(147,a));var A=b,T=""+a;return c!==null&&c.ref!==null&&typeof c.ref=="function"&&c.ref._stringRef===T?c.ref:(c=function(z){var Z=A.refs;z===null?delete Z[T]:Z[T]=z},c._stringRef=T,c)}if(typeof a!="string")throw Error(t(284));if(!p._owner)throw Error(t(290,a))}return a}function mm(a,c){throw a=Object.prototype.toString.call(c),Error(t(31,a==="[object Object]"?"object with keys {"+Object.keys(c).join(", ")+"}":a))}function C_(a){var c=a._init;return c(a._payload)}function __(a){function c(ae,se){if(a){var le=ae.deletions;le===null?(ae.deletions=[se],ae.flags|=16):le.push(se)}}function p(ae,se){if(!a)return null;for(;se!==null;)c(ae,se),se=se.sibling;return null}function b(ae,se){for(ae=new Map;se!==null;)se.key!==null?ae.set(se.key,se):ae.set(se.index,se),se=se.sibling;return ae}function A(ae,se){return ae=Jo(ae,se),ae.index=0,ae.sibling=null,ae}function T(ae,se,le){return ae.index=le,a?(le=ae.alternate,le!==null?(le=le.index,le<se?(ae.flags|=2,se):le):(ae.flags|=2,se)):(ae.flags|=1048576,se)}function z(ae){return a&&ae.alternate===null&&(ae.flags|=2),ae}function Z(ae,se,le,ve){return se===null||se.tag!==6?(se=Ew(le,ae.mode,ve),se.return=ae,se):(se=A(se,le),se.return=ae,se)}function re(ae,se,le,ve){var Me=le.type;return Me===P?ge(ae,se,le.props.children,ve,le.key):se!==null&&(se.elementType===Me||typeof Me=="object"&&Me!==null&&Me.$$typeof===H&&C_(Me)===se.type)?(ve=A(se,le.props),ve.ref=uh(ae,se,le),ve.return=ae,ve):(ve=Bm(le.type,le.key,le.props,null,ae.mode,ve),ve.ref=uh(ae,se,le),ve.return=ae,ve)}function ce(ae,se,le,ve){return se===null||se.tag!==4||se.stateNode.containerInfo!==le.containerInfo||se.stateNode.implementation!==le.implementation?(se=Cw(le,ae.mode,ve),se.return=ae,se):(se=A(se,le.children||[]),se.return=ae,se)}function ge(ae,se,le,ve,Me){return se===null||se.tag!==7?(se=al(le,ae.mode,ve,Me),se.return=ae,se):(se=A(se,le),se.return=ae,se)}function ye(ae,se,le){if(typeof se=="string"&&se!==""||typeof se=="number")return se=Ew(""+se,ae.mode,le),se.return=ae,se;if(typeof se=="object"&&se!==null){switch(se.$$typeof){case k:return le=Bm(se.type,se.key,se.props,null,ae.mode,le),le.ref=uh(ae,null,se),le.return=ae,le;case I:return se=Cw(se,ae.mode,le),se.return=ae,se;case H:var ve=se._init;return ye(ae,ve(se._payload),le)}if(St(se)||U(se))return se=al(se,ae.mode,le,null),se.return=ae,se;mm(ae,se)}return null}function pe(ae,se,le,ve){var Me=se!==null?se.key:null;if(typeof le=="string"&&le!==""||typeof le=="number")return Me!==null?null:Z(ae,se,""+le,ve);if(typeof le=="object"&&le!==null){switch(le.$$typeof){case k:return le.key===Me?re(ae,se,le,ve):null;case I:return le.key===Me?ce(ae,se,le,ve):null;case H:return Me=le._init,pe(ae,se,Me(le._payload),ve)}if(St(le)||U(le))return Me!==null?null:ge(ae,se,le,ve,null);mm(ae,le)}return null}function Ee(ae,se,le,ve,Me){if(typeof ve=="string"&&ve!==""||typeof ve=="number")return ae=ae.get(le)||null,Z(se,ae,""+ve,Me);if(typeof ve=="object"&&ve!==null){switch(ve.$$typeof){case k:return ae=ae.get(ve.key===null?le:ve.key)||null,re(se,ae,ve,Me);case I:return ae=ae.get(ve.key===null?le:ve.key)||null,ce(se,ae,ve,Me);case H:var Fe=ve._init;return Ee(ae,se,le,Fe(ve._payload),Me)}if(St(ve)||U(ve))return ae=ae.get(le)||null,ge(se,ae,ve,Me,null);mm(se,ve)}return null}function ke(ae,se,le,ve){for(var Me=null,Fe=null,ze=se,je=se=0,xn=null;ze!==null&&je<le.length;je++){ze.index>je?(xn=ze,ze=null):xn=ze.sibling;var tt=pe(ae,ze,le[je],ve);if(tt===null){ze===null&&(ze=xn);break}a&&ze&&tt.alternate===null&&c(ae,ze),se=T(tt,se,je),Fe===null?Me=tt:Fe.sibling=tt,Fe=tt,ze=xn}if(je===le.length)return p(ae,ze),It&&Ja(ae,je),Me;if(ze===null){for(;je<le.length;je++)ze=ye(ae,le[je],ve),ze!==null&&(se=T(ze,se,je),Fe===null?Me=ze:Fe.sibling=ze,Fe=ze);return It&&Ja(ae,je),Me}for(ze=b(ae,ze);je<le.length;je++)xn=Ee(ze,ae,je,le[je],ve),xn!==null&&(a&&xn.alternate!==null&&ze.delete(xn.key===null?je:xn.key),se=T(xn,se,je),Fe===null?Me=xn:Fe.sibling=xn,Fe=xn);return a&&ze.forEach(function(ea){return c(ae,ea)}),It&&Ja(ae,je),Me}function Te(ae,se,le,ve){var Me=U(le);if(typeof Me!="function")throw Error(t(150));if(le=Me.call(le),le==null)throw Error(t(151));for(var Fe=Me=null,ze=se,je=se=0,xn=null,tt=le.next();ze!==null&&!tt.done;je++,tt=le.next()){ze.index>je?(xn=ze,ze=null):xn=ze.sibling;var ea=pe(ae,ze,tt.value,ve);if(ea===null){ze===null&&(ze=xn);break}a&&ze&&ea.alternate===null&&c(ae,ze),se=T(ea,se,je),Fe===null?Me=ea:Fe.sibling=ea,Fe=ea,ze=xn}if(tt.done)return p(ae,ze),It&&Ja(ae,je),Me;if(ze===null){for(;!tt.done;je++,tt=le.next())tt=ye(ae,tt.value,ve),tt!==null&&(se=T(tt,se,je),Fe===null?Me=tt:Fe.sibling=tt,Fe=tt);return It&&Ja(ae,je),Me}for(ze=b(ae,ze);!tt.done;je++,tt=le.next())tt=Ee(ze,ae,je,tt.value,ve),tt!==null&&(a&&tt.alternate!==null&&ze.delete(tt.key===null?je:tt.key),se=T(tt,se,je),Fe===null?Me=tt:Fe.sibling=tt,Fe=tt);return a&&ze.forEach(function(JD){return c(ae,JD)}),It&&Ja(ae,je),Me}function Xt(ae,se,le,ve){if(typeof le=="object"&&le!==null&&le.type===P&&le.key===null&&(le=le.props.children),typeof le=="object"&&le!==null){switch(le.$$typeof){case k:e:{for(var Me=le.key,Fe=se;Fe!==null;){if(Fe.key===Me){if(Me=le.type,Me===P){if(Fe.tag===7){p(ae,Fe.sibling),se=A(Fe,le.props.children),se.return=ae,ae=se;break e}}else if(Fe.elementType===Me||typeof Me=="object"&&Me!==null&&Me.$$typeof===H&&C_(Me)===Fe.type){p(ae,Fe.sibling),se=A(Fe,le.props),se.ref=uh(ae,Fe,le),se.return=ae,ae=se;break e}p(ae,Fe);break}else c(ae,Fe);Fe=Fe.sibling}le.type===P?(se=al(le.props.children,ae.mode,ve,le.key),se.return=ae,ae=se):(ve=Bm(le.type,le.key,le.props,null,ae.mode,ve),ve.ref=uh(ae,se,le),ve.return=ae,ae=ve)}return z(ae);case I:e:{for(Fe=le.key;se!==null;){if(se.key===Fe)if(se.tag===4&&se.stateNode.containerInfo===le.containerInfo&&se.stateNode.implementation===le.implementation){p(ae,se.sibling),se=A(se,le.children||[]),se.return=ae,ae=se;break e}else{p(ae,se);break}else c(ae,se);se=se.sibling}se=Cw(le,ae.mode,ve),se.return=ae,ae=se}return z(ae);case H:return Fe=le._init,Xt(ae,se,Fe(le._payload),ve)}if(St(le))return ke(ae,se,le,ve);if(U(le))return Te(ae,se,le,ve);mm(ae,le)}return typeof le=="string"&&le!==""||typeof le=="number"?(le=""+le,se!==null&&se.tag===6?(p(ae,se.sibling),se=A(se,le),se.return=ae,ae=se):(p(ae,se),se=Ew(le,ae.mode,ve),se.return=ae,ae=se),z(ae)):p(ae,se)}return Xt}var Kc=__(!0),A_=__(!1),ym=Wo(null),vm=null,Qc=null,Nb=null;function Lb(){Nb=Qc=vm=null}function Ob(a){var c=ym.current;Mt(ym),a._currentValue=c}function Db(a,c,p){for(;a!==null;){var b=a.alternate;if((a.childLanes&c)!==c?(a.childLanes|=c,b!==null&&(b.childLanes|=c)):b!==null&&(b.childLanes&c)!==c&&(b.childLanes|=c),a===p)break;a=a.return}}function Zc(a,c){vm=a,Nb=Qc=null,a=a.dependencies,a!==null&&a.firstContext!==null&&((a.lanes&c)!==0&&(dr=!0),a.firstContext=null)}function Zr(a){var c=a._currentValue;if(Nb!==a)if(a={context:a,memoizedValue:c,next:null},Qc===null){if(vm===null)throw Error(t(308));Qc=a,vm.dependencies={lanes:0,firstContext:a}}else Qc=Qc.next=a;return c}var el=null;function Fb(a){el===null?el=[a]:el.push(a)}function k_(a,c,p,b){var A=c.interleaved;return A===null?(p.next=p,Fb(c)):(p.next=A.next,A.next=p),c.interleaved=p,Ns(a,b)}function Ns(a,c){a.lanes|=c;var p=a.alternate;for(p!==null&&(p.lanes|=c),p=a,a=a.return;a!==null;)a.childLanes|=c,p=a.alternate,p!==null&&(p.childLanes|=c),p=a,a=a.return;return p.tag===3?p.stateNode:null}var Go=!1;function zb(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function R_(a,c){a=a.updateQueue,c.updateQueue===a&&(c.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,effects:a.effects})}function Ls(a,c){return{eventTime:a,lane:c,tag:0,payload:null,callback:null,next:null}}function qo(a,c,p){var b=a.updateQueue;if(b===null)return null;if(b=b.shared,(Ze&2)!==0){var A=b.pending;return A===null?c.next=c:(c.next=A.next,A.next=c),b.pending=c,Ns(a,p)}return A=b.interleaved,A===null?(c.next=c,Fb(b)):(c.next=A.next,A.next=c),b.interleaved=c,Ns(a,p)}function bm(a,c,p){if(c=c.updateQueue,c!==null&&(c=c.shared,(p&4194240)!==0)){var b=c.lanes;b&=a.pendingLanes,p|=b,c.lanes=p,Zv(a,p)}}function T_(a,c){var p=a.updateQueue,b=a.alternate;if(b!==null&&(b=b.updateQueue,p===b)){var A=null,T=null;if(p=p.firstBaseUpdate,p!==null){do{var z={eventTime:p.eventTime,lane:p.lane,tag:p.tag,payload:p.payload,callback:p.callback,next:null};T===null?A=T=z:T=T.next=z,p=p.next}while(p!==null);T===null?A=T=c:T=T.next=c}else A=T=c;p={baseState:b.baseState,firstBaseUpdate:A,lastBaseUpdate:T,shared:b.shared,effects:b.effects},a.updateQueue=p;return}a=p.lastBaseUpdate,a===null?p.firstBaseUpdate=c:a.next=c,p.lastBaseUpdate=c}function wm(a,c,p,b){var A=a.updateQueue;Go=!1;var T=A.firstBaseUpdate,z=A.lastBaseUpdate,Z=A.shared.pending;if(Z!==null){A.shared.pending=null;var re=Z,ce=re.next;re.next=null,z===null?T=ce:z.next=ce,z=re;var ge=a.alternate;ge!==null&&(ge=ge.updateQueue,Z=ge.lastBaseUpdate,Z!==z&&(Z===null?ge.firstBaseUpdate=ce:Z.next=ce,ge.lastBaseUpdate=re))}if(T!==null){var ye=A.baseState;z=0,ge=ce=re=null,Z=T;do{var pe=Z.lane,Ee=Z.eventTime;if((b&pe)===pe){ge!==null&&(ge=ge.next={eventTime:Ee,lane:0,tag:Z.tag,payload:Z.payload,callback:Z.callback,next:null});e:{var ke=a,Te=Z;switch(pe=c,Ee=p,Te.tag){case 1:if(ke=Te.payload,typeof ke=="function"){ye=ke.call(Ee,ye,pe);break e}ye=ke;break e;case 3:ke.flags=ke.flags&-65537|128;case 0:if(ke=Te.payload,pe=typeof ke=="function"?ke.call(Ee,ye,pe):ke,pe==null)break e;ye=Q({},ye,pe);break e;case 2:Go=!0}}Z.callback!==null&&Z.lane!==0&&(a.flags|=64,pe=A.effects,pe===null?A.effects=[Z]:pe.push(Z))}else Ee={eventTime:Ee,lane:pe,tag:Z.tag,payload:Z.payload,callback:Z.callback,next:null},ge===null?(ce=ge=Ee,re=ye):ge=ge.next=Ee,z|=pe;if(Z=Z.next,Z===null){if(Z=A.shared.pending,Z===null)break;pe=Z,Z=pe.next,pe.next=null,A.lastBaseUpdate=pe,A.shared.pending=null}}while(!0);if(ge===null&&(re=ye),A.baseState=re,A.firstBaseUpdate=ce,A.lastBaseUpdate=ge,c=A.shared.interleaved,c!==null){A=c;do z|=A.lane,A=A.next;while(A!==c)}else T===null&&(A.shared.lanes=0);rl|=z,a.lanes=z,a.memoizedState=ye}}function P_(a,c,p){if(a=c.effects,c.effects=null,a!==null)for(c=0;c<a.length;c++){var b=a[c],A=b.callback;if(A!==null){if(b.callback=null,b=p,typeof A!="function")throw Error(t(191,A));A.call(b)}}}var dh={},Gi=Wo(dh),hh=Wo(dh),fh=Wo(dh);function tl(a){if(a===dh)throw Error(t(174));return a}function $b(a,c){switch(kt(fh,c),kt(hh,a),kt(Gi,dh),a=c.nodeType,a){case 9:case 11:c=(c=c.documentElement)?c.namespaceURI:lr(null,"");break;default:a=a===8?c.parentNode:c,c=a.namespaceURI||null,a=a.tagName,c=lr(c,a)}Mt(Gi),kt(Gi,c)}function Jc(){Mt(Gi),Mt(hh),Mt(fh)}function M_(a){tl(fh.current);var c=tl(Gi.current),p=lr(c,a.type);c!==p&&(kt(hh,a),kt(Gi,p))}function Bb(a){hh.current===a&&(Mt(Gi),Mt(hh))}var zt=Wo(0);function xm(a){for(var c=a;c!==null;){if(c.tag===13){var p=c.memoizedState;if(p!==null&&(p=p.dehydrated,p===null||p.data==="$?"||p.data==="$!"))return c}else if(c.tag===19&&c.memoizedProps.revealOrder!==void 0){if((c.flags&128)!==0)return c}else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===a)break;for(;c.sibling===null;){if(c.return===null||c.return===a)return null;c=c.return}c.sibling.return=c.return,c=c.sibling}return null}var jb=[];function Hb(){for(var a=0;a<jb.length;a++)jb[a]._workInProgressVersionPrimary=null;jb.length=0}var Sm=C.ReactCurrentDispatcher,Wb=C.ReactCurrentBatchConfig,nl=0,$t=null,cn=null,bn=null,Em=!1,ph=!1,gh=0,xD=0;function Dn(){throw Error(t(321))}function Ub(a,c){if(c===null)return!1;for(var p=0;p<c.length&&p<a.length;p++)if(!fi(a[p],c[p]))return!1;return!0}function Vb(a,c,p,b,A,T){if(nl=T,$t=c,c.memoizedState=null,c.updateQueue=null,c.lanes=0,Sm.current=a===null||a.memoizedState===null?_D:AD,a=p(b,A),ph){T=0;do{if(ph=!1,gh=0,25<=T)throw Error(t(301));T+=1,bn=cn=null,c.updateQueue=null,Sm.current=kD,a=p(b,A)}while(ph)}if(Sm.current=Am,c=cn!==null&&cn.next!==null,nl=0,bn=cn=$t=null,Em=!1,c)throw Error(t(300));return a}function Gb(){var a=gh!==0;return gh=0,a}function qi(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return bn===null?$t.memoizedState=bn=a:bn=bn.next=a,bn}function Jr(){if(cn===null){var a=$t.alternate;a=a!==null?a.memoizedState:null}else a=cn.next;var c=bn===null?$t.memoizedState:bn.next;if(c!==null)bn=c,cn=a;else{if(a===null)throw Error(t(310));cn=a,a={memoizedState:cn.memoizedState,baseState:cn.baseState,baseQueue:cn.baseQueue,queue:cn.queue,next:null},bn===null?$t.memoizedState=bn=a:bn=bn.next=a}return bn}function mh(a,c){return typeof c=="function"?c(a):c}function qb(a){var c=Jr(),p=c.queue;if(p===null)throw Error(t(311));p.lastRenderedReducer=a;var b=cn,A=b.baseQueue,T=p.pending;if(T!==null){if(A!==null){var z=A.next;A.next=T.next,T.next=z}b.baseQueue=A=T,p.pending=null}if(A!==null){T=A.next,b=b.baseState;var Z=z=null,re=null,ce=T;do{var ge=ce.lane;if((nl&ge)===ge)re!==null&&(re=re.next={lane:0,action:ce.action,hasEagerState:ce.hasEagerState,eagerState:ce.eagerState,next:null}),b=ce.hasEagerState?ce.eagerState:a(b,ce.action);else{var ye={lane:ge,action:ce.action,hasEagerState:ce.hasEagerState,eagerState:ce.eagerState,next:null};re===null?(Z=re=ye,z=b):re=re.next=ye,$t.lanes|=ge,rl|=ge}ce=ce.next}while(ce!==null&&ce!==T);re===null?z=b:re.next=Z,fi(b,c.memoizedState)||(dr=!0),c.memoizedState=b,c.baseState=z,c.baseQueue=re,p.lastRenderedState=b}if(a=p.interleaved,a!==null){A=a;do T=A.lane,$t.lanes|=T,rl|=T,A=A.next;while(A!==a)}else A===null&&(p.lanes=0);return[c.memoizedState,p.dispatch]}function Yb(a){var c=Jr(),p=c.queue;if(p===null)throw Error(t(311));p.lastRenderedReducer=a;var b=p.dispatch,A=p.pending,T=c.memoizedState;if(A!==null){p.pending=null;var z=A=A.next;do T=a(T,z.action),z=z.next;while(z!==A);fi(T,c.memoizedState)||(dr=!0),c.memoizedState=T,c.baseQueue===null&&(c.baseState=T),p.lastRenderedState=T}return[T,b]}function I_(){}function N_(a,c){var p=$t,b=Jr(),A=c(),T=!fi(b.memoizedState,A);if(T&&(b.memoizedState=A,dr=!0),b=b.queue,Xb(D_.bind(null,p,b,a),[a]),b.getSnapshot!==c||T||bn!==null&&bn.memoizedState.tag&1){if(p.flags|=2048,yh(9,O_.bind(null,p,b,A,c),void 0,null),wn===null)throw Error(t(349));(nl&30)!==0||L_(p,c,A)}return A}function L_(a,c,p){a.flags|=16384,a={getSnapshot:c,value:p},c=$t.updateQueue,c===null?(c={lastEffect:null,stores:null},$t.updateQueue=c,c.stores=[a]):(p=c.stores,p===null?c.stores=[a]:p.push(a))}function O_(a,c,p,b){c.value=p,c.getSnapshot=b,F_(c)&&z_(a)}function D_(a,c,p){return p(function(){F_(c)&&z_(a)})}function F_(a){var c=a.getSnapshot;a=a.value;try{var p=c();return!fi(a,p)}catch{return!0}}function z_(a){var c=Ns(a,1);c!==null&&vi(c,a,1,-1)}function $_(a){var c=qi();return typeof a=="function"&&(a=a()),c.memoizedState=c.baseState=a,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:mh,lastRenderedState:a},c.queue=a,a=a.dispatch=CD.bind(null,$t,a),[c.memoizedState,a]}function yh(a,c,p,b){return a={tag:a,create:c,destroy:p,deps:b,next:null},c=$t.updateQueue,c===null?(c={lastEffect:null,stores:null},$t.updateQueue=c,c.lastEffect=a.next=a):(p=c.lastEffect,p===null?c.lastEffect=a.next=a:(b=p.next,p.next=a,a.next=b,c.lastEffect=a)),a}function B_(){return Jr().memoizedState}function Cm(a,c,p,b){var A=qi();$t.flags|=a,A.memoizedState=yh(1|c,p,void 0,b===void 0?null:b)}function _m(a,c,p,b){var A=Jr();b=b===void 0?null:b;var T=void 0;if(cn!==null){var z=cn.memoizedState;if(T=z.destroy,b!==null&&Ub(b,z.deps)){A.memoizedState=yh(c,p,T,b);return}}$t.flags|=a,A.memoizedState=yh(1|c,p,T,b)}function j_(a,c){return Cm(8390656,8,a,c)}function Xb(a,c){return _m(2048,8,a,c)}function H_(a,c){return _m(4,2,a,c)}function W_(a,c){return _m(4,4,a,c)}function U_(a,c){if(typeof c=="function")return a=a(),c(a),function(){c(null)};if(c!=null)return a=a(),c.current=a,function(){c.current=null}}function V_(a,c,p){return p=p!=null?p.concat([a]):null,_m(4,4,U_.bind(null,c,a),p)}function Kb(){}function G_(a,c){var p=Jr();c=c===void 0?null:c;var b=p.memoizedState;return b!==null&&c!==null&&Ub(c,b[1])?b[0]:(p.memoizedState=[a,c],a)}function q_(a,c){var p=Jr();c=c===void 0?null:c;var b=p.memoizedState;return b!==null&&c!==null&&Ub(c,b[1])?b[0]:(a=a(),p.memoizedState=[a,c],a)}function Y_(a,c,p){return(nl&21)===0?(a.baseState&&(a.baseState=!1,dr=!0),a.memoizedState=p):(fi(p,c)||(p=CC(),$t.lanes|=p,rl|=p,a.baseState=!0),c)}function SD(a,c){var p=pt;pt=p!==0&&4>p?p:4,a(!0);var b=Wb.transition;Wb.transition={};try{a(!1),c()}finally{pt=p,Wb.transition=b}}function X_(){return Jr().memoizedState}function ED(a,c,p){var b=Qo(a);if(p={lane:b,action:p,hasEagerState:!1,eagerState:null,next:null},K_(a))Q_(c,p);else if(p=k_(a,c,p,b),p!==null){var A=Jn();vi(p,a,b,A),Z_(p,c,b)}}function CD(a,c,p){var b=Qo(a),A={lane:b,action:p,hasEagerState:!1,eagerState:null,next:null};if(K_(a))Q_(c,A);else{var T=a.alternate;if(a.lanes===0&&(T===null||T.lanes===0)&&(T=c.lastRenderedReducer,T!==null))try{var z=c.lastRenderedState,Z=T(z,p);if(A.hasEagerState=!0,A.eagerState=Z,fi(Z,z)){var re=c.interleaved;re===null?(A.next=A,Fb(c)):(A.next=re.next,re.next=A),c.interleaved=A;return}}catch{}finally{}p=k_(a,c,A,b),p!==null&&(A=Jn(),vi(p,a,b,A),Z_(p,c,b))}}function K_(a){var c=a.alternate;return a===$t||c!==null&&c===$t}function Q_(a,c){ph=Em=!0;var p=a.pending;p===null?c.next=c:(c.next=p.next,p.next=c),a.pending=c}function Z_(a,c,p){if((p&4194240)!==0){var b=c.lanes;b&=a.pendingLanes,p|=b,c.lanes=p,Zv(a,p)}}var Am={readContext:Zr,useCallback:Dn,useContext:Dn,useEffect:Dn,useImperativeHandle:Dn,useInsertionEffect:Dn,useLayoutEffect:Dn,useMemo:Dn,useReducer:Dn,useRef:Dn,useState:Dn,useDebugValue:Dn,useDeferredValue:Dn,useTransition:Dn,useMutableSource:Dn,useSyncExternalStore:Dn,useId:Dn,unstable_isNewReconciler:!1},_D={readContext:Zr,useCallback:function(a,c){return qi().memoizedState=[a,c===void 0?null:c],a},useContext:Zr,useEffect:j_,useImperativeHandle:function(a,c,p){return p=p!=null?p.concat([a]):null,Cm(4194308,4,U_.bind(null,c,a),p)},useLayoutEffect:function(a,c){return Cm(4194308,4,a,c)},useInsertionEffect:function(a,c){return Cm(4,2,a,c)},useMemo:function(a,c){var p=qi();return c=c===void 0?null:c,a=a(),p.memoizedState=[a,c],a},useReducer:function(a,c,p){var b=qi();return c=p!==void 0?p(c):c,b.memoizedState=b.baseState=c,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:c},b.queue=a,a=a.dispatch=ED.bind(null,$t,a),[b.memoizedState,a]},useRef:function(a){var c=qi();return a={current:a},c.memoizedState=a},useState:$_,useDebugValue:Kb,useDeferredValue:function(a){return qi().memoizedState=a},useTransition:function(){var a=$_(!1),c=a[0];return a=SD.bind(null,a[1]),qi().memoizedState=a,[c,a]},useMutableSource:function(){},useSyncExternalStore:function(a,c,p){var b=$t,A=qi();if(It){if(p===void 0)throw Error(t(407));p=p()}else{if(p=c(),wn===null)throw Error(t(349));(nl&30)!==0||L_(b,c,p)}A.memoizedState=p;var T={value:p,getSnapshot:c};return A.queue=T,j_(D_.bind(null,b,T,a),[a]),b.flags|=2048,yh(9,O_.bind(null,b,T,p,c),void 0,null),p},useId:function(){var a=qi(),c=wn.identifierPrefix;if(It){var p=Is,b=Ms;p=(b&~(1<<32-kr(b)-1)).toString(32)+p,c=":"+c+"R"+p,p=gh++,0<p&&(c+="H"+p.toString(32)),c+=":"}else p=xD++,c=":"+c+"r"+p.toString(32)+":";return a.memoizedState=c},unstable_isNewReconciler:!1},AD={readContext:Zr,useCallback:G_,useContext:Zr,useEffect:Xb,useImperativeHandle:V_,useInsertionEffect:H_,useLayoutEffect:W_,useMemo:q_,useReducer:qb,useRef:B_,useState:function(){return qb(mh)},useDebugValue:Kb,useDeferredValue:function(a){var c=Jr();return Y_(c,cn.memoizedState,a)},useTransition:function(){var a=qb(mh)[0],c=Jr().memoizedState;return[a,c]},useMutableSource:I_,useSyncExternalStore:N_,useId:X_,unstable_isNewReconciler:!1},kD={readContext:Zr,useCallback:G_,useContext:Zr,useEffect:Xb,useImperativeHandle:V_,useInsertionEffect:H_,useLayoutEffect:W_,useMemo:q_,useReducer:Yb,useRef:B_,useState:function(){return Yb(mh)},useDebugValue:Kb,useDeferredValue:function(a){var c=Jr();return cn===null?c.memoizedState=a:Y_(c,cn.memoizedState,a)},useTransition:function(){var a=Yb(mh)[0],c=Jr().memoizedState;return[a,c]},useMutableSource:I_,useSyncExternalStore:N_,useId:X_,unstable_isNewReconciler:!1};function gi(a,c){if(a&&a.defaultProps){c=Q({},c),a=a.defaultProps;for(var p in a)c[p]===void 0&&(c[p]=a[p]);return c}return c}function Qb(a,c,p,b){c=a.memoizedState,p=p(b,c),p=p==null?c:Q({},c,p),a.memoizedState=p,a.lanes===0&&(a.updateQueue.baseState=p)}var km={isMounted:function(a){return(a=a._reactInternals)?Ui(a)===a:!1},enqueueSetState:function(a,c,p){a=a._reactInternals;var b=Jn(),A=Qo(a),T=Ls(b,A);T.payload=c,p!=null&&(T.callback=p),c=qo(a,T,A),c!==null&&(vi(c,a,A,b),bm(c,a,A))},enqueueReplaceState:function(a,c,p){a=a._reactInternals;var b=Jn(),A=Qo(a),T=Ls(b,A);T.tag=1,T.payload=c,p!=null&&(T.callback=p),c=qo(a,T,A),c!==null&&(vi(c,a,A,b),bm(c,a,A))},enqueueForceUpdate:function(a,c){a=a._reactInternals;var p=Jn(),b=Qo(a),A=Ls(p,b);A.tag=2,c!=null&&(A.callback=c),c=qo(a,A,b),c!==null&&(vi(c,a,b,p),bm(c,a,b))}};function J_(a,c,p,b,A,T,z){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(b,T,z):c.prototype&&c.prototype.isPureReactComponent?!rh(p,b)||!rh(A,T):!0}function eA(a,c,p){var b=!1,A=Uo,T=c.contextType;return typeof T=="object"&&T!==null?T=Zr(T):(A=ur(c)?Qa:On.current,b=c.contextTypes,T=(b=b!=null)?Gc(a,A):Uo),c=new c(p,T),a.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,c.updater=km,a.stateNode=c,c._reactInternals=a,b&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=A,a.__reactInternalMemoizedMaskedChildContext=T),c}function tA(a,c,p,b){a=c.state,typeof c.componentWillReceiveProps=="function"&&c.componentWillReceiveProps(p,b),typeof c.UNSAFE_componentWillReceiveProps=="function"&&c.UNSAFE_componentWillReceiveProps(p,b),c.state!==a&&km.enqueueReplaceState(c,c.state,null)}function Zb(a,c,p,b){var A=a.stateNode;A.props=p,A.state=a.memoizedState,A.refs={},zb(a);var T=c.contextType;typeof T=="object"&&T!==null?A.context=Zr(T):(T=ur(c)?Qa:On.current,A.context=Gc(a,T)),A.state=a.memoizedState,T=c.getDerivedStateFromProps,typeof T=="function"&&(Qb(a,c,T,p),A.state=a.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof A.getSnapshotBeforeUpdate=="function"||typeof A.UNSAFE_componentWillMount!="function"&&typeof A.componentWillMount!="function"||(c=A.state,typeof A.componentWillMount=="function"&&A.componentWillMount(),typeof A.UNSAFE_componentWillMount=="function"&&A.UNSAFE_componentWillMount(),c!==A.state&&km.enqueueReplaceState(A,A.state,null),wm(a,p,A,b),A.state=a.memoizedState),typeof A.componentDidMount=="function"&&(a.flags|=4194308)}function eu(a,c){try{var p="",b=c;do p+=J(b),b=b.return;while(b);var A=p}catch(T){A=`
Error generating stack: `+T.message+`
`+T.stack}return{value:a,source:c,stack:A,digest:null}}function Jb(a,c,p){return{value:a,source:null,stack:p??null,digest:c??null}}function ew(a,c){try{console.error(c.value)}catch(p){setTimeout(function(){throw p})}}var RD=typeof WeakMap=="function"?WeakMap:Map;function nA(a,c,p){p=Ls(-1,p),p.tag=3,p.payload={element:null};var b=c.value;return p.callback=function(){Lm||(Lm=!0,gw=b),ew(a,c)},p}function rA(a,c,p){p=Ls(-1,p),p.tag=3;var b=a.type.getDerivedStateFromError;if(typeof b=="function"){var A=c.value;p.payload=function(){return b(A)},p.callback=function(){ew(a,c)}}var T=a.stateNode;return T!==null&&typeof T.componentDidCatch=="function"&&(p.callback=function(){ew(a,c),typeof b!="function"&&(Xo===null?Xo=new Set([this]):Xo.add(this));var z=c.stack;this.componentDidCatch(c.value,{componentStack:z!==null?z:""})}),p}function iA(a,c,p){var b=a.pingCache;if(b===null){b=a.pingCache=new RD;var A=new Set;b.set(c,A)}else A=b.get(c),A===void 0&&(A=new Set,b.set(c,A));A.has(p)||(A.add(p),a=HD.bind(null,a,c,p),c.then(a,a))}function sA(a){do{var c;if((c=a.tag===13)&&(c=a.memoizedState,c=c!==null?c.dehydrated!==null:!0),c)return a;a=a.return}while(a!==null);return null}function oA(a,c,p,b,A){return(a.mode&1)===0?(a===c?a.flags|=65536:(a.flags|=128,p.flags|=131072,p.flags&=-52805,p.tag===1&&(p.alternate===null?p.tag=17:(c=Ls(-1,1),c.tag=2,qo(p,c,1))),p.lanes|=1),a):(a.flags|=65536,a.lanes=A,a)}var TD=C.ReactCurrentOwner,dr=!1;function Zn(a,c,p,b){c.child=a===null?A_(c,null,p,b):Kc(c,a.child,p,b)}function aA(a,c,p,b,A){p=p.render;var T=c.ref;return Zc(c,A),b=Vb(a,c,p,b,T,A),p=Gb(),a!==null&&!dr?(c.updateQueue=a.updateQueue,c.flags&=-2053,a.lanes&=~A,Os(a,c,A)):(It&&p&&Rb(c),c.flags|=1,Zn(a,c,b,A),c.child)}function lA(a,c,p,b,A){if(a===null){var T=p.type;return typeof T=="function"&&!Sw(T)&&T.defaultProps===void 0&&p.compare===null&&p.defaultProps===void 0?(c.tag=15,c.type=T,cA(a,c,T,b,A)):(a=Bm(p.type,null,b,c,c.mode,A),a.ref=c.ref,a.return=c,c.child=a)}if(T=a.child,(a.lanes&A)===0){var z=T.memoizedProps;if(p=p.compare,p=p!==null?p:rh,p(z,b)&&a.ref===c.ref)return Os(a,c,A)}return c.flags|=1,a=Jo(T,b),a.ref=c.ref,a.return=c,c.child=a}function cA(a,c,p,b,A){if(a!==null){var T=a.memoizedProps;if(rh(T,b)&&a.ref===c.ref)if(dr=!1,c.pendingProps=b=T,(a.lanes&A)!==0)(a.flags&131072)!==0&&(dr=!0);else return c.lanes=a.lanes,Os(a,c,A)}return tw(a,c,p,b,A)}function uA(a,c,p){var b=c.pendingProps,A=b.children,T=a!==null?a.memoizedState:null;if(b.mode==="hidden")if((c.mode&1)===0)c.memoizedState={baseLanes:0,cachePool:null,transitions:null},kt(nu,Mr),Mr|=p;else{if((p&1073741824)===0)return a=T!==null?T.baseLanes|p:p,c.lanes=c.childLanes=1073741824,c.memoizedState={baseLanes:a,cachePool:null,transitions:null},c.updateQueue=null,kt(nu,Mr),Mr|=a,null;c.memoizedState={baseLanes:0,cachePool:null,transitions:null},b=T!==null?T.baseLanes:p,kt(nu,Mr),Mr|=b}else T!==null?(b=T.baseLanes|p,c.memoizedState=null):b=p,kt(nu,Mr),Mr|=b;return Zn(a,c,A,p),c.child}function dA(a,c){var p=c.ref;(a===null&&p!==null||a!==null&&a.ref!==p)&&(c.flags|=512,c.flags|=2097152)}function tw(a,c,p,b,A){var T=ur(p)?Qa:On.current;return T=Gc(c,T),Zc(c,A),p=Vb(a,c,p,b,T,A),b=Gb(),a!==null&&!dr?(c.updateQueue=a.updateQueue,c.flags&=-2053,a.lanes&=~A,Os(a,c,A)):(It&&b&&Rb(c),c.flags|=1,Zn(a,c,p,A),c.child)}function hA(a,c,p,b,A){if(ur(p)){var T=!0;dm(c)}else T=!1;if(Zc(c,A),c.stateNode===null)Tm(a,c),eA(c,p,b),Zb(c,p,b,A),b=!0;else if(a===null){var z=c.stateNode,Z=c.memoizedProps;z.props=Z;var re=z.context,ce=p.contextType;typeof ce=="object"&&ce!==null?ce=Zr(ce):(ce=ur(p)?Qa:On.current,ce=Gc(c,ce));var ge=p.getDerivedStateFromProps,ye=typeof ge=="function"||typeof z.getSnapshotBeforeUpdate=="function";ye||typeof z.UNSAFE_componentWillReceiveProps!="function"&&typeof z.componentWillReceiveProps!="function"||(Z!==b||re!==ce)&&tA(c,z,b,ce),Go=!1;var pe=c.memoizedState;z.state=pe,wm(c,b,z,A),re=c.memoizedState,Z!==b||pe!==re||cr.current||Go?(typeof ge=="function"&&(Qb(c,p,ge,b),re=c.memoizedState),(Z=Go||J_(c,p,Z,b,pe,re,ce))?(ye||typeof z.UNSAFE_componentWillMount!="function"&&typeof z.componentWillMount!="function"||(typeof z.componentWillMount=="function"&&z.componentWillMount(),typeof z.UNSAFE_componentWillMount=="function"&&z.UNSAFE_componentWillMount()),typeof z.componentDidMount=="function"&&(c.flags|=4194308)):(typeof z.componentDidMount=="function"&&(c.flags|=4194308),c.memoizedProps=b,c.memoizedState=re),z.props=b,z.state=re,z.context=ce,b=Z):(typeof z.componentDidMount=="function"&&(c.flags|=4194308),b=!1)}else{z=c.stateNode,R_(a,c),Z=c.memoizedProps,ce=c.type===c.elementType?Z:gi(c.type,Z),z.props=ce,ye=c.pendingProps,pe=z.context,re=p.contextType,typeof re=="object"&&re!==null?re=Zr(re):(re=ur(p)?Qa:On.current,re=Gc(c,re));var Ee=p.getDerivedStateFromProps;(ge=typeof Ee=="function"||typeof z.getSnapshotBeforeUpdate=="function")||typeof z.UNSAFE_componentWillReceiveProps!="function"&&typeof z.componentWillReceiveProps!="function"||(Z!==ye||pe!==re)&&tA(c,z,b,re),Go=!1,pe=c.memoizedState,z.state=pe,wm(c,b,z,A);var ke=c.memoizedState;Z!==ye||pe!==ke||cr.current||Go?(typeof Ee=="function"&&(Qb(c,p,Ee,b),ke=c.memoizedState),(ce=Go||J_(c,p,ce,b,pe,ke,re)||!1)?(ge||typeof z.UNSAFE_componentWillUpdate!="function"&&typeof z.componentWillUpdate!="function"||(typeof z.componentWillUpdate=="function"&&z.componentWillUpdate(b,ke,re),typeof z.UNSAFE_componentWillUpdate=="function"&&z.UNSAFE_componentWillUpdate(b,ke,re)),typeof z.componentDidUpdate=="function"&&(c.flags|=4),typeof z.getSnapshotBeforeUpdate=="function"&&(c.flags|=1024)):(typeof z.componentDidUpdate!="function"||Z===a.memoizedProps&&pe===a.memoizedState||(c.flags|=4),typeof z.getSnapshotBeforeUpdate!="function"||Z===a.memoizedProps&&pe===a.memoizedState||(c.flags|=1024),c.memoizedProps=b,c.memoizedState=ke),z.props=b,z.state=ke,z.context=re,b=ce):(typeof z.componentDidUpdate!="function"||Z===a.memoizedProps&&pe===a.memoizedState||(c.flags|=4),typeof z.getSnapshotBeforeUpdate!="function"||Z===a.memoizedProps&&pe===a.memoizedState||(c.flags|=1024),b=!1)}return nw(a,c,p,b,T,A)}function nw(a,c,p,b,A,T){dA(a,c);var z=(c.flags&128)!==0;if(!b&&!z)return A&&y_(c,p,!1),Os(a,c,T);b=c.stateNode,TD.current=c;var Z=z&&typeof p.getDerivedStateFromError!="function"?null:b.render();return c.flags|=1,a!==null&&z?(c.child=Kc(c,a.child,null,T),c.child=Kc(c,null,Z,T)):Zn(a,c,Z,T),c.memoizedState=b.state,A&&y_(c,p,!0),c.child}function fA(a){var c=a.stateNode;c.pendingContext?g_(a,c.pendingContext,c.pendingContext!==c.context):c.context&&g_(a,c.context,!1),$b(a,c.containerInfo)}function pA(a,c,p,b,A){return Xc(),Ib(A),c.flags|=256,Zn(a,c,p,b),c.child}var rw={dehydrated:null,treeContext:null,retryLane:0};function iw(a){return{baseLanes:a,cachePool:null,transitions:null}}function gA(a,c,p){var b=c.pendingProps,A=zt.current,T=!1,z=(c.flags&128)!==0,Z;if((Z=z)||(Z=a!==null&&a.memoizedState===null?!1:(A&2)!==0),Z?(T=!0,c.flags&=-129):(a===null||a.memoizedState!==null)&&(A|=1),kt(zt,A&1),a===null)return Mb(c),a=c.memoizedState,a!==null&&(a=a.dehydrated,a!==null)?((c.mode&1)===0?c.lanes=1:a.data==="$!"?c.lanes=8:c.lanes=1073741824,null):(z=b.children,a=b.fallback,T?(b=c.mode,T=c.child,z={mode:"hidden",children:z},(b&1)===0&&T!==null?(T.childLanes=0,T.pendingProps=z):T=jm(z,b,0,null),a=al(a,b,p,null),T.return=c,a.return=c,T.sibling=a,c.child=T,c.child.memoizedState=iw(p),c.memoizedState=rw,a):sw(c,z));if(A=a.memoizedState,A!==null&&(Z=A.dehydrated,Z!==null))return PD(a,c,z,b,Z,A,p);if(T){T=b.fallback,z=c.mode,A=a.child,Z=A.sibling;var re={mode:"hidden",children:b.children};return(z&1)===0&&c.child!==A?(b=c.child,b.childLanes=0,b.pendingProps=re,c.deletions=null):(b=Jo(A,re),b.subtreeFlags=A.subtreeFlags&14680064),Z!==null?T=Jo(Z,T):(T=al(T,z,p,null),T.flags|=2),T.return=c,b.return=c,b.sibling=T,c.child=b,b=T,T=c.child,z=a.child.memoizedState,z=z===null?iw(p):{baseLanes:z.baseLanes|p,cachePool:null,transitions:z.transitions},T.memoizedState=z,T.childLanes=a.childLanes&~p,c.memoizedState=rw,b}return T=a.child,a=T.sibling,b=Jo(T,{mode:"visible",children:b.children}),(c.mode&1)===0&&(b.lanes=p),b.return=c,b.sibling=null,a!==null&&(p=c.deletions,p===null?(c.deletions=[a],c.flags|=16):p.push(a)),c.child=b,c.memoizedState=null,b}function sw(a,c){return c=jm({mode:"visible",children:c},a.mode,0,null),c.return=a,a.child=c}function Rm(a,c,p,b){return b!==null&&Ib(b),Kc(c,a.child,null,p),a=sw(c,c.pendingProps.children),a.flags|=2,c.memoizedState=null,a}function PD(a,c,p,b,A,T,z){if(p)return c.flags&256?(c.flags&=-257,b=Jb(Error(t(422))),Rm(a,c,z,b)):c.memoizedState!==null?(c.child=a.child,c.flags|=128,null):(T=b.fallback,A=c.mode,b=jm({mode:"visible",children:b.children},A,0,null),T=al(T,A,z,null),T.flags|=2,b.return=c,T.return=c,b.sibling=T,c.child=b,(c.mode&1)!==0&&Kc(c,a.child,null,z),c.child.memoizedState=iw(z),c.memoizedState=rw,T);if((c.mode&1)===0)return Rm(a,c,z,null);if(A.data==="$!"){if(b=A.nextSibling&&A.nextSibling.dataset,b)var Z=b.dgst;return b=Z,T=Error(t(419)),b=Jb(T,b,void 0),Rm(a,c,z,b)}if(Z=(z&a.childLanes)!==0,dr||Z){if(b=wn,b!==null){switch(z&-z){case 4:A=2;break;case 16:A=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:A=32;break;case 536870912:A=268435456;break;default:A=0}A=(A&(b.suspendedLanes|z))!==0?0:A,A!==0&&A!==T.retryLane&&(T.retryLane=A,Ns(a,A),vi(b,a,A,-1))}return xw(),b=Jb(Error(t(421))),Rm(a,c,z,b)}return A.data==="$?"?(c.flags|=128,c.child=a.child,c=WD.bind(null,a),A._reactRetry=c,null):(a=T.treeContext,Pr=Ho(A.nextSibling),Tr=c,It=!0,pi=null,a!==null&&(Kr[Qr++]=Ms,Kr[Qr++]=Is,Kr[Qr++]=Za,Ms=a.id,Is=a.overflow,Za=c),c=sw(c,b.children),c.flags|=4096,c)}function mA(a,c,p){a.lanes|=c;var b=a.alternate;b!==null&&(b.lanes|=c),Db(a.return,c,p)}function ow(a,c,p,b,A){var T=a.memoizedState;T===null?a.memoizedState={isBackwards:c,rendering:null,renderingStartTime:0,last:b,tail:p,tailMode:A}:(T.isBackwards=c,T.rendering=null,T.renderingStartTime=0,T.last=b,T.tail=p,T.tailMode=A)}function yA(a,c,p){var b=c.pendingProps,A=b.revealOrder,T=b.tail;if(Zn(a,c,b.children,p),b=zt.current,(b&2)!==0)b=b&1|2,c.flags|=128;else{if(a!==null&&(a.flags&128)!==0)e:for(a=c.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&mA(a,p,c);else if(a.tag===19)mA(a,p,c);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===c)break e;for(;a.sibling===null;){if(a.return===null||a.return===c)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}b&=1}if(kt(zt,b),(c.mode&1)===0)c.memoizedState=null;else switch(A){case"forwards":for(p=c.child,A=null;p!==null;)a=p.alternate,a!==null&&xm(a)===null&&(A=p),p=p.sibling;p=A,p===null?(A=c.child,c.child=null):(A=p.sibling,p.sibling=null),ow(c,!1,A,p,T);break;case"backwards":for(p=null,A=c.child,c.child=null;A!==null;){if(a=A.alternate,a!==null&&xm(a)===null){c.child=A;break}a=A.sibling,A.sibling=p,p=A,A=a}ow(c,!0,p,null,T);break;case"together":ow(c,!1,null,null,void 0);break;default:c.memoizedState=null}return c.child}function Tm(a,c){(c.mode&1)===0&&a!==null&&(a.alternate=null,c.alternate=null,c.flags|=2)}function Os(a,c,p){if(a!==null&&(c.dependencies=a.dependencies),rl|=c.lanes,(p&c.childLanes)===0)return null;if(a!==null&&c.child!==a.child)throw Error(t(153));if(c.child!==null){for(a=c.child,p=Jo(a,a.pendingProps),c.child=p,p.return=c;a.sibling!==null;)a=a.sibling,p=p.sibling=Jo(a,a.pendingProps),p.return=c;p.sibling=null}return c.child}function MD(a,c,p){switch(c.tag){case 3:fA(c),Xc();break;case 5:M_(c);break;case 1:ur(c.type)&&dm(c);break;case 4:$b(c,c.stateNode.containerInfo);break;case 10:var b=c.type._context,A=c.memoizedProps.value;kt(ym,b._currentValue),b._currentValue=A;break;case 13:if(b=c.memoizedState,b!==null)return b.dehydrated!==null?(kt(zt,zt.current&1),c.flags|=128,null):(p&c.child.childLanes)!==0?gA(a,c,p):(kt(zt,zt.current&1),a=Os(a,c,p),a!==null?a.sibling:null);kt(zt,zt.current&1);break;case 19:if(b=(p&c.childLanes)!==0,(a.flags&128)!==0){if(b)return yA(a,c,p);c.flags|=128}if(A=c.memoizedState,A!==null&&(A.rendering=null,A.tail=null,A.lastEffect=null),kt(zt,zt.current),b)break;return null;case 22:case 23:return c.lanes=0,uA(a,c,p)}return Os(a,c,p)}var vA,aw,bA,wA;vA=function(a,c){for(var p=c.child;p!==null;){if(p.tag===5||p.tag===6)a.appendChild(p.stateNode);else if(p.tag!==4&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===c)break;for(;p.sibling===null;){if(p.return===null||p.return===c)return;p=p.return}p.sibling.return=p.return,p=p.sibling}},aw=function(){},bA=function(a,c,p,b){var A=a.memoizedProps;if(A!==b){a=c.stateNode,tl(Gi.current);var T=null;switch(p){case"input":A=be(a,A),b=be(a,b),T=[];break;case"select":A=Q({},A,{value:void 0}),b=Q({},b,{value:void 0}),T=[];break;case"textarea":A=Pe(a,A),b=Pe(a,b),T=[];break;default:typeof A.onClick!="function"&&typeof b.onClick=="function"&&(a.onclick=lm)}ot(p,b);var z;p=null;for(ce in A)if(!b.hasOwnProperty(ce)&&A.hasOwnProperty(ce)&&A[ce]!=null)if(ce==="style"){var Z=A[ce];for(z in Z)Z.hasOwnProperty(z)&&(p||(p={}),p[z]="")}else ce!=="dangerouslySetInnerHTML"&&ce!=="children"&&ce!=="suppressContentEditableWarning"&&ce!=="suppressHydrationWarning"&&ce!=="autoFocus"&&(i.hasOwnProperty(ce)?T||(T=[]):(T=T||[]).push(ce,null));for(ce in b){var re=b[ce];if(Z=A!=null?A[ce]:void 0,b.hasOwnProperty(ce)&&re!==Z&&(re!=null||Z!=null))if(ce==="style")if(Z){for(z in Z)!Z.hasOwnProperty(z)||re&&re.hasOwnProperty(z)||(p||(p={}),p[z]="");for(z in re)re.hasOwnProperty(z)&&Z[z]!==re[z]&&(p||(p={}),p[z]=re[z])}else p||(T||(T=[]),T.push(ce,p)),p=re;else ce==="dangerouslySetInnerHTML"?(re=re?re.__html:void 0,Z=Z?Z.__html:void 0,re!=null&&Z!==re&&(T=T||[]).push(ce,re)):ce==="children"?typeof re!="string"&&typeof re!="number"||(T=T||[]).push(ce,""+re):ce!=="suppressContentEditableWarning"&&ce!=="suppressHydrationWarning"&&(i.hasOwnProperty(ce)?(re!=null&&ce==="onScroll"&&Pt("scroll",a),T||Z===re||(T=[])):(T=T||[]).push(ce,re))}p&&(T=T||[]).push("style",p);var ce=T;(c.updateQueue=ce)&&(c.flags|=4)}},wA=function(a,c,p,b){p!==b&&(c.flags|=4)};function vh(a,c){if(!It)switch(a.tailMode){case"hidden":c=a.tail;for(var p=null;c!==null;)c.alternate!==null&&(p=c),c=c.sibling;p===null?a.tail=null:p.sibling=null;break;case"collapsed":p=a.tail;for(var b=null;p!==null;)p.alternate!==null&&(b=p),p=p.sibling;b===null?c||a.tail===null?a.tail=null:a.tail.sibling=null:b.sibling=null}}function Fn(a){var c=a.alternate!==null&&a.alternate.child===a.child,p=0,b=0;if(c)for(var A=a.child;A!==null;)p|=A.lanes|A.childLanes,b|=A.subtreeFlags&14680064,b|=A.flags&14680064,A.return=a,A=A.sibling;else for(A=a.child;A!==null;)p|=A.lanes|A.childLanes,b|=A.subtreeFlags,b|=A.flags,A.return=a,A=A.sibling;return a.subtreeFlags|=b,a.childLanes=p,c}function ID(a,c,p){var b=c.pendingProps;switch(Tb(c),c.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Fn(c),null;case 1:return ur(c.type)&&um(),Fn(c),null;case 3:return b=c.stateNode,Jc(),Mt(cr),Mt(On),Hb(),b.pendingContext&&(b.context=b.pendingContext,b.pendingContext=null),(a===null||a.child===null)&&(gm(c)?c.flags|=4:a===null||a.memoizedState.isDehydrated&&(c.flags&256)===0||(c.flags|=1024,pi!==null&&(vw(pi),pi=null))),aw(a,c),Fn(c),null;case 5:Bb(c);var A=tl(fh.current);if(p=c.type,a!==null&&c.stateNode!=null)bA(a,c,p,b,A),a.ref!==c.ref&&(c.flags|=512,c.flags|=2097152);else{if(!b){if(c.stateNode===null)throw Error(t(166));return Fn(c),null}if(a=tl(Gi.current),gm(c)){b=c.stateNode,p=c.type;var T=c.memoizedProps;switch(b[Vi]=c,b[lh]=T,a=(c.mode&1)!==0,p){case"dialog":Pt("cancel",b),Pt("close",b);break;case"iframe":case"object":case"embed":Pt("load",b);break;case"video":case"audio":for(A=0;A<sh.length;A++)Pt(sh[A],b);break;case"source":Pt("error",b);break;case"img":case"image":case"link":Pt("error",b),Pt("load",b);break;case"details":Pt("toggle",b);break;case"input":Be(b,T),Pt("invalid",b);break;case"select":b._wrapperState={wasMultiple:!!T.multiple},Pt("invalid",b);break;case"textarea":Xn(b,T),Pt("invalid",b)}ot(p,T),A=null;for(var z in T)if(T.hasOwnProperty(z)){var Z=T[z];z==="children"?typeof Z=="string"?b.textContent!==Z&&(T.suppressHydrationWarning!==!0&&am(b.textContent,Z,a),A=["children",Z]):typeof Z=="number"&&b.textContent!==""+Z&&(T.suppressHydrationWarning!==!0&&am(b.textContent,Z,a),A=["children",""+Z]):i.hasOwnProperty(z)&&Z!=null&&z==="onScroll"&&Pt("scroll",b)}switch(p){case"input":me(b),Tt(b,T,!0);break;case"textarea":me(b),Kn(b);break;case"select":case"option":break;default:typeof T.onClick=="function"&&(b.onclick=lm)}b=A,c.updateQueue=b,b!==null&&(c.flags|=4)}else{z=A.nodeType===9?A:A.ownerDocument,a==="http://www.w3.org/1999/xhtml"&&(a=ar(p)),a==="http://www.w3.org/1999/xhtml"?p==="script"?(a=z.createElement("div"),a.innerHTML="<script><\/script>",a=a.removeChild(a.firstChild)):typeof b.is=="string"?a=z.createElement(p,{is:b.is}):(a=z.createElement(p),p==="select"&&(z=a,b.multiple?z.multiple=!0:b.size&&(z.size=b.size))):a=z.createElementNS(a,p),a[Vi]=c,a[lh]=b,vA(a,c,!1,!1),c.stateNode=a;e:{switch(z=Dt(p,b),p){case"dialog":Pt("cancel",a),Pt("close",a),A=b;break;case"iframe":case"object":case"embed":Pt("load",a),A=b;break;case"video":case"audio":for(A=0;A<sh.length;A++)Pt(sh[A],a);A=b;break;case"source":Pt("error",a),A=b;break;case"img":case"image":case"link":Pt("error",a),Pt("load",a),A=b;break;case"details":Pt("toggle",a),A=b;break;case"input":Be(a,b),A=be(a,b),Pt("invalid",a);break;case"option":A=b;break;case"select":a._wrapperState={wasMultiple:!!b.multiple},A=Q({},b,{value:void 0}),Pt("invalid",a);break;case"textarea":Xn(a,b),A=Pe(a,b),Pt("invalid",a);break;default:A=b}ot(p,A),Z=A;for(T in Z)if(Z.hasOwnProperty(T)){var re=Z[T];T==="style"?Va(a,re):T==="dangerouslySetInnerHTML"?(re=re?re.__html:void 0,re!=null&&Ar(a,re)):T==="children"?typeof re=="string"?(p!=="textarea"||re!=="")&&Qn(a,re):typeof re=="number"&&Qn(a,""+re):T!=="suppressContentEditableWarning"&&T!=="suppressHydrationWarning"&&T!=="autoFocus"&&(i.hasOwnProperty(T)?re!=null&&T==="onScroll"&&Pt("scroll",a):re!=null&&S(a,T,re,z))}switch(p){case"input":me(a),Tt(a,b,!1);break;case"textarea":me(a),Kn(a);break;case"option":b.value!=null&&a.setAttribute("value",""+oe(b.value));break;case"select":a.multiple=!!b.multiple,T=b.value,T!=null?dt(a,!!b.multiple,T,!1):b.defaultValue!=null&&dt(a,!!b.multiple,b.defaultValue,!0);break;default:typeof A.onClick=="function"&&(a.onclick=lm)}switch(p){case"button":case"input":case"select":case"textarea":b=!!b.autoFocus;break e;case"img":b=!0;break e;default:b=!1}}b&&(c.flags|=4)}c.ref!==null&&(c.flags|=512,c.flags|=2097152)}return Fn(c),null;case 6:if(a&&c.stateNode!=null)wA(a,c,a.memoizedProps,b);else{if(typeof b!="string"&&c.stateNode===null)throw Error(t(166));if(p=tl(fh.current),tl(Gi.current),gm(c)){if(b=c.stateNode,p=c.memoizedProps,b[Vi]=c,(T=b.nodeValue!==p)&&(a=Tr,a!==null))switch(a.tag){case 3:am(b.nodeValue,p,(a.mode&1)!==0);break;case 5:a.memoizedProps.suppressHydrationWarning!==!0&&am(b.nodeValue,p,(a.mode&1)!==0)}T&&(c.flags|=4)}else b=(p.nodeType===9?p:p.ownerDocument).createTextNode(b),b[Vi]=c,c.stateNode=b}return Fn(c),null;case 13:if(Mt(zt),b=c.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(It&&Pr!==null&&(c.mode&1)!==0&&(c.flags&128)===0)E_(),Xc(),c.flags|=98560,T=!1;else if(T=gm(c),b!==null&&b.dehydrated!==null){if(a===null){if(!T)throw Error(t(318));if(T=c.memoizedState,T=T!==null?T.dehydrated:null,!T)throw Error(t(317));T[Vi]=c}else Xc(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;Fn(c),T=!1}else pi!==null&&(vw(pi),pi=null),T=!0;if(!T)return c.flags&65536?c:null}return(c.flags&128)!==0?(c.lanes=p,c):(b=b!==null,b!==(a!==null&&a.memoizedState!==null)&&b&&(c.child.flags|=8192,(c.mode&1)!==0&&(a===null||(zt.current&1)!==0?un===0&&(un=3):xw())),c.updateQueue!==null&&(c.flags|=4),Fn(c),null);case 4:return Jc(),aw(a,c),a===null&&oh(c.stateNode.containerInfo),Fn(c),null;case 10:return Ob(c.type._context),Fn(c),null;case 17:return ur(c.type)&&um(),Fn(c),null;case 19:if(Mt(zt),T=c.memoizedState,T===null)return Fn(c),null;if(b=(c.flags&128)!==0,z=T.rendering,z===null)if(b)vh(T,!1);else{if(un!==0||a!==null&&(a.flags&128)!==0)for(a=c.child;a!==null;){if(z=xm(a),z!==null){for(c.flags|=128,vh(T,!1),b=z.updateQueue,b!==null&&(c.updateQueue=b,c.flags|=4),c.subtreeFlags=0,b=p,p=c.child;p!==null;)T=p,a=b,T.flags&=14680066,z=T.alternate,z===null?(T.childLanes=0,T.lanes=a,T.child=null,T.subtreeFlags=0,T.memoizedProps=null,T.memoizedState=null,T.updateQueue=null,T.dependencies=null,T.stateNode=null):(T.childLanes=z.childLanes,T.lanes=z.lanes,T.child=z.child,T.subtreeFlags=0,T.deletions=null,T.memoizedProps=z.memoizedProps,T.memoizedState=z.memoizedState,T.updateQueue=z.updateQueue,T.type=z.type,a=z.dependencies,T.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),p=p.sibling;return kt(zt,zt.current&1|2),c.child}a=a.sibling}T.tail!==null&&Ft()>ru&&(c.flags|=128,b=!0,vh(T,!1),c.lanes=4194304)}else{if(!b)if(a=xm(z),a!==null){if(c.flags|=128,b=!0,p=a.updateQueue,p!==null&&(c.updateQueue=p,c.flags|=4),vh(T,!0),T.tail===null&&T.tailMode==="hidden"&&!z.alternate&&!It)return Fn(c),null}else 2*Ft()-T.renderingStartTime>ru&&p!==1073741824&&(c.flags|=128,b=!0,vh(T,!1),c.lanes=4194304);T.isBackwards?(z.sibling=c.child,c.child=z):(p=T.last,p!==null?p.sibling=z:c.child=z,T.last=z)}return T.tail!==null?(c=T.tail,T.rendering=c,T.tail=c.sibling,T.renderingStartTime=Ft(),c.sibling=null,p=zt.current,kt(zt,b?p&1|2:p&1),c):(Fn(c),null);case 22:case 23:return ww(),b=c.memoizedState!==null,a!==null&&a.memoizedState!==null!==b&&(c.flags|=8192),b&&(c.mode&1)!==0?(Mr&1073741824)!==0&&(Fn(c),c.subtreeFlags&6&&(c.flags|=8192)):Fn(c),null;case 24:return null;case 25:return null}throw Error(t(156,c.tag))}function ND(a,c){switch(Tb(c),c.tag){case 1:return ur(c.type)&&um(),a=c.flags,a&65536?(c.flags=a&-65537|128,c):null;case 3:return Jc(),Mt(cr),Mt(On),Hb(),a=c.flags,(a&65536)!==0&&(a&128)===0?(c.flags=a&-65537|128,c):null;case 5:return Bb(c),null;case 13:if(Mt(zt),a=c.memoizedState,a!==null&&a.dehydrated!==null){if(c.alternate===null)throw Error(t(340));Xc()}return a=c.flags,a&65536?(c.flags=a&-65537|128,c):null;case 19:return Mt(zt),null;case 4:return Jc(),null;case 10:return Ob(c.type._context),null;case 22:case 23:return ww(),null;case 24:return null;default:return null}}var Pm=!1,zn=!1,LD=typeof WeakSet=="function"?WeakSet:Set,Ce=null;function tu(a,c){var p=a.ref;if(p!==null)if(typeof p=="function")try{p(null)}catch(b){Wt(a,c,b)}else p.current=null}function lw(a,c,p){try{p()}catch(b){Wt(a,c,b)}}var xA=!1;function OD(a,c){if(wb=Kg,a=JC(),hb(a)){if("selectionStart"in a)var p={start:a.selectionStart,end:a.selectionEnd};else e:{p=(p=a.ownerDocument)&&p.defaultView||window;var b=p.getSelection&&p.getSelection();if(b&&b.rangeCount!==0){p=b.anchorNode;var A=b.anchorOffset,T=b.focusNode;b=b.focusOffset;try{p.nodeType,T.nodeType}catch{p=null;break e}var z=0,Z=-1,re=-1,ce=0,ge=0,ye=a,pe=null;t:for(;;){for(var Ee;ye!==p||A!==0&&ye.nodeType!==3||(Z=z+A),ye!==T||b!==0&&ye.nodeType!==3||(re=z+b),ye.nodeType===3&&(z+=ye.nodeValue.length),(Ee=ye.firstChild)!==null;)pe=ye,ye=Ee;for(;;){if(ye===a)break t;if(pe===p&&++ce===A&&(Z=z),pe===T&&++ge===b&&(re=z),(Ee=ye.nextSibling)!==null)break;ye=pe,pe=ye.parentNode}ye=Ee}p=Z===-1||re===-1?null:{start:Z,end:re}}else p=null}p=p||{start:0,end:0}}else p=null;for(xb={focusedElem:a,selectionRange:p},Kg=!1,Ce=c;Ce!==null;)if(c=Ce,a=c.child,(c.subtreeFlags&1028)!==0&&a!==null)a.return=c,Ce=a;else for(;Ce!==null;){c=Ce;try{var ke=c.alternate;if((c.flags&1024)!==0)switch(c.tag){case 0:case 11:case 15:break;case 1:if(ke!==null){var Te=ke.memoizedProps,Xt=ke.memoizedState,ae=c.stateNode,se=ae.getSnapshotBeforeUpdate(c.elementType===c.type?Te:gi(c.type,Te),Xt);ae.__reactInternalSnapshotBeforeUpdate=se}break;case 3:var le=c.stateNode.containerInfo;le.nodeType===1?le.textContent="":le.nodeType===9&&le.documentElement&&le.removeChild(le.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(ve){Wt(c,c.return,ve)}if(a=c.sibling,a!==null){a.return=c.return,Ce=a;break}Ce=c.return}return ke=xA,xA=!1,ke}function bh(a,c,p){var b=c.updateQueue;if(b=b!==null?b.lastEffect:null,b!==null){var A=b=b.next;do{if((A.tag&a)===a){var T=A.destroy;A.destroy=void 0,T!==void 0&&lw(c,p,T)}A=A.next}while(A!==b)}}function Mm(a,c){if(c=c.updateQueue,c=c!==null?c.lastEffect:null,c!==null){var p=c=c.next;do{if((p.tag&a)===a){var b=p.create;p.destroy=b()}p=p.next}while(p!==c)}}function cw(a){var c=a.ref;if(c!==null){var p=a.stateNode;switch(a.tag){case 5:a=p;break;default:a=p}typeof c=="function"?c(a):c.current=a}}function SA(a){var c=a.alternate;c!==null&&(a.alternate=null,SA(c)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(c=a.stateNode,c!==null&&(delete c[Vi],delete c[lh],delete c[_b],delete c[yD],delete c[vD])),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}function EA(a){return a.tag===5||a.tag===3||a.tag===4}function CA(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||EA(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function uw(a,c,p){var b=a.tag;if(b===5||b===6)a=a.stateNode,c?p.nodeType===8?p.parentNode.insertBefore(a,c):p.insertBefore(a,c):(p.nodeType===8?(c=p.parentNode,c.insertBefore(a,p)):(c=p,c.appendChild(a)),p=p._reactRootContainer,p!=null||c.onclick!==null||(c.onclick=lm));else if(b!==4&&(a=a.child,a!==null))for(uw(a,c,p),a=a.sibling;a!==null;)uw(a,c,p),a=a.sibling}function dw(a,c,p){var b=a.tag;if(b===5||b===6)a=a.stateNode,c?p.insertBefore(a,c):p.appendChild(a);else if(b!==4&&(a=a.child,a!==null))for(dw(a,c,p),a=a.sibling;a!==null;)dw(a,c,p),a=a.sibling}var Cn=null,mi=!1;function Yo(a,c,p){for(p=p.child;p!==null;)_A(a,c,p),p=p.sibling}function _A(a,c,p){if(Xr&&typeof Xr.onCommitFiberUnmount=="function")try{Xr.onCommitFiberUnmount(Lc,p)}catch{}switch(p.tag){case 5:zn||tu(p,c);case 6:var b=Cn,A=mi;Cn=null,Yo(a,c,p),Cn=b,mi=A,Cn!==null&&(mi?(a=Cn,p=p.stateNode,a.nodeType===8?a.parentNode.removeChild(p):a.removeChild(p)):Cn.removeChild(p.stateNode));break;case 18:Cn!==null&&(mi?(a=Cn,p=p.stateNode,a.nodeType===8?Cb(a.parentNode,p):a.nodeType===1&&Cb(a,p),Qd(a)):Cb(Cn,p.stateNode));break;case 4:b=Cn,A=mi,Cn=p.stateNode.containerInfo,mi=!0,Yo(a,c,p),Cn=b,mi=A;break;case 0:case 11:case 14:case 15:if(!zn&&(b=p.updateQueue,b!==null&&(b=b.lastEffect,b!==null))){A=b=b.next;do{var T=A,z=T.destroy;T=T.tag,z!==void 0&&((T&2)!==0||(T&4)!==0)&&lw(p,c,z),A=A.next}while(A!==b)}Yo(a,c,p);break;case 1:if(!zn&&(tu(p,c),b=p.stateNode,typeof b.componentWillUnmount=="function"))try{b.props=p.memoizedProps,b.state=p.memoizedState,b.componentWillUnmount()}catch(Z){Wt(p,c,Z)}Yo(a,c,p);break;case 21:Yo(a,c,p);break;case 22:p.mode&1?(zn=(b=zn)||p.memoizedState!==null,Yo(a,c,p),zn=b):Yo(a,c,p);break;default:Yo(a,c,p)}}function AA(a){var c=a.updateQueue;if(c!==null){a.updateQueue=null;var p=a.stateNode;p===null&&(p=a.stateNode=new LD),c.forEach(function(b){var A=UD.bind(null,a,b);p.has(b)||(p.add(b),b.then(A,A))})}}function yi(a,c){var p=c.deletions;if(p!==null)for(var b=0;b<p.length;b++){var A=p[b];try{var T=a,z=c,Z=z;e:for(;Z!==null;){switch(Z.tag){case 5:Cn=Z.stateNode,mi=!1;break e;case 3:Cn=Z.stateNode.containerInfo,mi=!0;break e;case 4:Cn=Z.stateNode.containerInfo,mi=!0;break e}Z=Z.return}if(Cn===null)throw Error(t(160));_A(T,z,A),Cn=null,mi=!1;var re=A.alternate;re!==null&&(re.return=null),A.return=null}catch(ce){Wt(A,c,ce)}}if(c.subtreeFlags&12854)for(c=c.child;c!==null;)kA(c,a),c=c.sibling}function kA(a,c){var p=a.alternate,b=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:if(yi(c,a),Yi(a),b&4){try{bh(3,a,a.return),Mm(3,a)}catch(Te){Wt(a,a.return,Te)}try{bh(5,a,a.return)}catch(Te){Wt(a,a.return,Te)}}break;case 1:yi(c,a),Yi(a),b&512&&p!==null&&tu(p,p.return);break;case 5:if(yi(c,a),Yi(a),b&512&&p!==null&&tu(p,p.return),a.flags&32){var A=a.stateNode;try{Qn(A,"")}catch(Te){Wt(a,a.return,Te)}}if(b&4&&(A=a.stateNode,A!=null)){var T=a.memoizedProps,z=p!==null?p.memoizedProps:T,Z=a.type,re=a.updateQueue;if(a.updateQueue=null,re!==null)try{Z==="input"&&T.type==="radio"&&T.name!=null&&st(A,T),Dt(Z,z);var ce=Dt(Z,T);for(z=0;z<re.length;z+=2){var ge=re[z],ye=re[z+1];ge==="style"?Va(A,ye):ge==="dangerouslySetInnerHTML"?Ar(A,ye):ge==="children"?Qn(A,ye):S(A,ge,ye,ce)}switch(Z){case"input":Ot(A,T);break;case"textarea":Yt(A,T);break;case"select":var pe=A._wrapperState.wasMultiple;A._wrapperState.wasMultiple=!!T.multiple;var Ee=T.value;Ee!=null?dt(A,!!T.multiple,Ee,!1):pe!==!!T.multiple&&(T.defaultValue!=null?dt(A,!!T.multiple,T.defaultValue,!0):dt(A,!!T.multiple,T.multiple?[]:"",!1))}A[lh]=T}catch(Te){Wt(a,a.return,Te)}}break;case 6:if(yi(c,a),Yi(a),b&4){if(a.stateNode===null)throw Error(t(162));A=a.stateNode,T=a.memoizedProps;try{A.nodeValue=T}catch(Te){Wt(a,a.return,Te)}}break;case 3:if(yi(c,a),Yi(a),b&4&&p!==null&&p.memoizedState.isDehydrated)try{Qd(c.containerInfo)}catch(Te){Wt(a,a.return,Te)}break;case 4:yi(c,a),Yi(a);break;case 13:yi(c,a),Yi(a),A=a.child,A.flags&8192&&(T=A.memoizedState!==null,A.stateNode.isHidden=T,!T||A.alternate!==null&&A.alternate.memoizedState!==null||(pw=Ft())),b&4&&AA(a);break;case 22:if(ge=p!==null&&p.memoizedState!==null,a.mode&1?(zn=(ce=zn)||ge,yi(c,a),zn=ce):yi(c,a),Yi(a),b&8192){if(ce=a.memoizedState!==null,(a.stateNode.isHidden=ce)&&!ge&&(a.mode&1)!==0)for(Ce=a,ge=a.child;ge!==null;){for(ye=Ce=ge;Ce!==null;){switch(pe=Ce,Ee=pe.child,pe.tag){case 0:case 11:case 14:case 15:bh(4,pe,pe.return);break;case 1:tu(pe,pe.return);var ke=pe.stateNode;if(typeof ke.componentWillUnmount=="function"){b=pe,p=pe.return;try{c=b,ke.props=c.memoizedProps,ke.state=c.memoizedState,ke.componentWillUnmount()}catch(Te){Wt(b,p,Te)}}break;case 5:tu(pe,pe.return);break;case 22:if(pe.memoizedState!==null){PA(ye);continue}}Ee!==null?(Ee.return=pe,Ce=Ee):PA(ye)}ge=ge.sibling}e:for(ge=null,ye=a;;){if(ye.tag===5){if(ge===null){ge=ye;try{A=ye.stateNode,ce?(T=A.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none"):(Z=ye.stateNode,re=ye.memoizedProps.style,z=re!=null&&re.hasOwnProperty("display")?re.display:null,Z.style.display=Wi("display",z))}catch(Te){Wt(a,a.return,Te)}}}else if(ye.tag===6){if(ge===null)try{ye.stateNode.nodeValue=ce?"":ye.memoizedProps}catch(Te){Wt(a,a.return,Te)}}else if((ye.tag!==22&&ye.tag!==23||ye.memoizedState===null||ye===a)&&ye.child!==null){ye.child.return=ye,ye=ye.child;continue}if(ye===a)break e;for(;ye.sibling===null;){if(ye.return===null||ye.return===a)break e;ge===ye&&(ge=null),ye=ye.return}ge===ye&&(ge=null),ye.sibling.return=ye.return,ye=ye.sibling}}break;case 19:yi(c,a),Yi(a),b&4&&AA(a);break;case 21:break;default:yi(c,a),Yi(a)}}function Yi(a){var c=a.flags;if(c&2){try{e:{for(var p=a.return;p!==null;){if(EA(p)){var b=p;break e}p=p.return}throw Error(t(160))}switch(b.tag){case 5:var A=b.stateNode;b.flags&32&&(Qn(A,""),b.flags&=-33);var T=CA(a);dw(a,T,A);break;case 3:case 4:var z=b.stateNode.containerInfo,Z=CA(a);uw(a,Z,z);break;default:throw Error(t(161))}}catch(re){Wt(a,a.return,re)}a.flags&=-3}c&4096&&(a.flags&=-4097)}function DD(a,c,p){Ce=a,RA(a)}function RA(a,c,p){for(var b=(a.mode&1)!==0;Ce!==null;){var A=Ce,T=A.child;if(A.tag===22&&b){var z=A.memoizedState!==null||Pm;if(!z){var Z=A.alternate,re=Z!==null&&Z.memoizedState!==null||zn;Z=Pm;var ce=zn;if(Pm=z,(zn=re)&&!ce)for(Ce=A;Ce!==null;)z=Ce,re=z.child,z.tag===22&&z.memoizedState!==null?MA(A):re!==null?(re.return=z,Ce=re):MA(A);for(;T!==null;)Ce=T,RA(T),T=T.sibling;Ce=A,Pm=Z,zn=ce}TA(a)}else(A.subtreeFlags&8772)!==0&&T!==null?(T.return=A,Ce=T):TA(a)}}function TA(a){for(;Ce!==null;){var c=Ce;if((c.flags&8772)!==0){var p=c.alternate;try{if((c.flags&8772)!==0)switch(c.tag){case 0:case 11:case 15:zn||Mm(5,c);break;case 1:var b=c.stateNode;if(c.flags&4&&!zn)if(p===null)b.componentDidMount();else{var A=c.elementType===c.type?p.memoizedProps:gi(c.type,p.memoizedProps);b.componentDidUpdate(A,p.memoizedState,b.__reactInternalSnapshotBeforeUpdate)}var T=c.updateQueue;T!==null&&P_(c,T,b);break;case 3:var z=c.updateQueue;if(z!==null){if(p=null,c.child!==null)switch(c.child.tag){case 5:p=c.child.stateNode;break;case 1:p=c.child.stateNode}P_(c,z,p)}break;case 5:var Z=c.stateNode;if(p===null&&c.flags&4){p=Z;var re=c.memoizedProps;switch(c.type){case"button":case"input":case"select":case"textarea":re.autoFocus&&p.focus();break;case"img":re.src&&(p.src=re.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(c.memoizedState===null){var ce=c.alternate;if(ce!==null){var ge=ce.memoizedState;if(ge!==null){var ye=ge.dehydrated;ye!==null&&Qd(ye)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}zn||c.flags&512&&cw(c)}catch(pe){Wt(c,c.return,pe)}}if(c===a){Ce=null;break}if(p=c.sibling,p!==null){p.return=c.return,Ce=p;break}Ce=c.return}}function PA(a){for(;Ce!==null;){var c=Ce;if(c===a){Ce=null;break}var p=c.sibling;if(p!==null){p.return=c.return,Ce=p;break}Ce=c.return}}function MA(a){for(;Ce!==null;){var c=Ce;try{switch(c.tag){case 0:case 11:case 15:var p=c.return;try{Mm(4,c)}catch(re){Wt(c,p,re)}break;case 1:var b=c.stateNode;if(typeof b.componentDidMount=="function"){var A=c.return;try{b.componentDidMount()}catch(re){Wt(c,A,re)}}var T=c.return;try{cw(c)}catch(re){Wt(c,T,re)}break;case 5:var z=c.return;try{cw(c)}catch(re){Wt(c,z,re)}}}catch(re){Wt(c,c.return,re)}if(c===a){Ce=null;break}var Z=c.sibling;if(Z!==null){Z.return=c.return,Ce=Z;break}Ce=c.return}}var FD=Math.ceil,Im=C.ReactCurrentDispatcher,hw=C.ReactCurrentOwner,ei=C.ReactCurrentBatchConfig,Ze=0,wn=null,en=null,_n=0,Mr=0,nu=Wo(0),un=0,wh=null,rl=0,Nm=0,fw=0,xh=null,hr=null,pw=0,ru=1/0,Ds=null,Lm=!1,gw=null,Xo=null,Om=!1,Ko=null,Dm=0,Sh=0,mw=null,Fm=-1,zm=0;function Jn(){return(Ze&6)!==0?Ft():Fm!==-1?Fm:Fm=Ft()}function Qo(a){return(a.mode&1)===0?1:(Ze&2)!==0&&_n!==0?_n&-_n:wD.transition!==null?(zm===0&&(zm=CC()),zm):(a=pt,a!==0||(a=window.event,a=a===void 0?16:NC(a.type)),a)}function vi(a,c,p,b){if(50<Sh)throw Sh=0,mw=null,Error(t(185));Gd(a,p,b),((Ze&2)===0||a!==wn)&&(a===wn&&((Ze&2)===0&&(Nm|=p),un===4&&Zo(a,_n)),fr(a,b),p===1&&Ze===0&&(c.mode&1)===0&&(ru=Ft()+500,hm&&Vo()))}function fr(a,c){var p=a.callbackNode;Kv(a,c);var b=Oo(a,a===wn?_n:0);if(b===0)p!==null&&Vg(p),a.callbackNode=null,a.callbackPriority=0;else if(c=b&-b,a.callbackPriority!==c){if(p!=null&&Vg(p),c===1)a.tag===0?bD(NA.bind(null,a)):v_(NA.bind(null,a)),gD(function(){(Ze&6)===0&&Vo()}),p=null;else{switch(_C(b)){case 1:p=Ud;break;case 4:p=qg;break;case 16:p=Nc;break;case 536870912:p=Vd;break;default:p=Nc}p=jA(p,IA.bind(null,a))}a.callbackPriority=c,a.callbackNode=p}}function IA(a,c){if(Fm=-1,zm=0,(Ze&6)!==0)throw Error(t(327));var p=a.callbackNode;if(iu()&&a.callbackNode!==p)return null;var b=Oo(a,a===wn?_n:0);if(b===0)return null;if((b&30)!==0||(b&a.expiredLanes)!==0||c)c=$m(a,b);else{c=b;var A=Ze;Ze|=2;var T=OA();(wn!==a||_n!==c)&&(Ds=null,ru=Ft()+500,sl(a,c));do try{BD();break}catch(Z){LA(a,Z)}while(!0);Lb(),Im.current=T,Ze=A,en!==null?c=0:(wn=null,_n=0,c=un)}if(c!==0){if(c===2&&(A=Dc(a),A!==0&&(b=A,c=yw(a,A))),c===1)throw p=wh,sl(a,0),Zo(a,b),fr(a,Ft()),p;if(c===6)Zo(a,b);else{if(A=a.current.alternate,(b&30)===0&&!zD(A)&&(c=$m(a,b),c===2&&(T=Dc(a),T!==0&&(b=T,c=yw(a,T))),c===1))throw p=wh,sl(a,0),Zo(a,b),fr(a,Ft()),p;switch(a.finishedWork=A,a.finishedLanes=b,c){case 0:case 1:throw Error(t(345));case 2:ol(a,hr,Ds);break;case 3:if(Zo(a,b),(b&130023424)===b&&(c=pw+500-Ft(),10<c)){if(Oo(a,0)!==0)break;if(A=a.suspendedLanes,(A&b)!==b){Jn(),a.pingedLanes|=a.suspendedLanes&A;break}a.timeoutHandle=Eb(ol.bind(null,a,hr,Ds),c);break}ol(a,hr,Ds);break;case 4:if(Zo(a,b),(b&4194240)===b)break;for(c=a.eventTimes,A=-1;0<b;){var z=31-kr(b);T=1<<z,z=c[z],z>A&&(A=z),b&=~T}if(b=A,b=Ft()-b,b=(120>b?120:480>b?480:1080>b?1080:1920>b?1920:3e3>b?3e3:4320>b?4320:1960*FD(b/1960))-b,10<b){a.timeoutHandle=Eb(ol.bind(null,a,hr,Ds),b);break}ol(a,hr,Ds);break;case 5:ol(a,hr,Ds);break;default:throw Error(t(329))}}}return fr(a,Ft()),a.callbackNode===p?IA.bind(null,a):null}function yw(a,c){var p=xh;return a.current.memoizedState.isDehydrated&&(sl(a,c).flags|=256),a=$m(a,c),a!==2&&(c=hr,hr=p,c!==null&&vw(c)),a}function vw(a){hr===null?hr=a:hr.push.apply(hr,a)}function zD(a){for(var c=a;;){if(c.flags&16384){var p=c.updateQueue;if(p!==null&&(p=p.stores,p!==null))for(var b=0;b<p.length;b++){var A=p[b],T=A.getSnapshot;A=A.value;try{if(!fi(T(),A))return!1}catch{return!1}}}if(p=c.child,c.subtreeFlags&16384&&p!==null)p.return=c,c=p;else{if(c===a)break;for(;c.sibling===null;){if(c.return===null||c.return===a)return!0;c=c.return}c.sibling.return=c.return,c=c.sibling}}return!0}function Zo(a,c){for(c&=~fw,c&=~Nm,a.suspendedLanes|=c,a.pingedLanes&=~c,a=a.expirationTimes;0<c;){var p=31-kr(c),b=1<<p;a[p]=-1,c&=~b}}function NA(a){if((Ze&6)!==0)throw Error(t(327));iu();var c=Oo(a,0);if((c&1)===0)return fr(a,Ft()),null;var p=$m(a,c);if(a.tag!==0&&p===2){var b=Dc(a);b!==0&&(c=b,p=yw(a,b))}if(p===1)throw p=wh,sl(a,0),Zo(a,c),fr(a,Ft()),p;if(p===6)throw Error(t(345));return a.finishedWork=a.current.alternate,a.finishedLanes=c,ol(a,hr,Ds),fr(a,Ft()),null}function bw(a,c){var p=Ze;Ze|=1;try{return a(c)}finally{Ze=p,Ze===0&&(ru=Ft()+500,hm&&Vo())}}function il(a){Ko!==null&&Ko.tag===0&&(Ze&6)===0&&iu();var c=Ze;Ze|=1;var p=ei.transition,b=pt;try{if(ei.transition=null,pt=1,a)return a()}finally{pt=b,ei.transition=p,Ze=c,(Ze&6)===0&&Vo()}}function ww(){Mr=nu.current,Mt(nu)}function sl(a,c){a.finishedWork=null,a.finishedLanes=0;var p=a.timeoutHandle;if(p!==-1&&(a.timeoutHandle=-1,pD(p)),en!==null)for(p=en.return;p!==null;){var b=p;switch(Tb(b),b.tag){case 1:b=b.type.childContextTypes,b!=null&&um();break;case 3:Jc(),Mt(cr),Mt(On),Hb();break;case 5:Bb(b);break;case 4:Jc();break;case 13:Mt(zt);break;case 19:Mt(zt);break;case 10:Ob(b.type._context);break;case 22:case 23:ww()}p=p.return}if(wn=a,en=a=Jo(a.current,null),_n=Mr=c,un=0,wh=null,fw=Nm=rl=0,hr=xh=null,el!==null){for(c=0;c<el.length;c++)if(p=el[c],b=p.interleaved,b!==null){p.interleaved=null;var A=b.next,T=p.pending;if(T!==null){var z=T.next;T.next=A,b.next=z}p.pending=b}el=null}return a}function LA(a,c){do{var p=en;try{if(Lb(),Sm.current=Am,Em){for(var b=$t.memoizedState;b!==null;){var A=b.queue;A!==null&&(A.pending=null),b=b.next}Em=!1}if(nl=0,bn=cn=$t=null,ph=!1,gh=0,hw.current=null,p===null||p.return===null){un=1,wh=c,en=null;break}e:{var T=a,z=p.return,Z=p,re=c;if(c=_n,Z.flags|=32768,re!==null&&typeof re=="object"&&typeof re.then=="function"){var ce=re,ge=Z,ye=ge.tag;if((ge.mode&1)===0&&(ye===0||ye===11||ye===15)){var pe=ge.alternate;pe?(ge.updateQueue=pe.updateQueue,ge.memoizedState=pe.memoizedState,ge.lanes=pe.lanes):(ge.updateQueue=null,ge.memoizedState=null)}var Ee=sA(z);if(Ee!==null){Ee.flags&=-257,oA(Ee,z,Z,T,c),Ee.mode&1&&iA(T,ce,c),c=Ee,re=ce;var ke=c.updateQueue;if(ke===null){var Te=new Set;Te.add(re),c.updateQueue=Te}else ke.add(re);break e}else{if((c&1)===0){iA(T,ce,c),xw();break e}re=Error(t(426))}}else if(It&&Z.mode&1){var Xt=sA(z);if(Xt!==null){(Xt.flags&65536)===0&&(Xt.flags|=256),oA(Xt,z,Z,T,c),Ib(eu(re,Z));break e}}T=re=eu(re,Z),un!==4&&(un=2),xh===null?xh=[T]:xh.push(T),T=z;do{switch(T.tag){case 3:T.flags|=65536,c&=-c,T.lanes|=c;var ae=nA(T,re,c);T_(T,ae);break e;case 1:Z=re;var se=T.type,le=T.stateNode;if((T.flags&128)===0&&(typeof se.getDerivedStateFromError=="function"||le!==null&&typeof le.componentDidCatch=="function"&&(Xo===null||!Xo.has(le)))){T.flags|=65536,c&=-c,T.lanes|=c;var ve=rA(T,Z,c);T_(T,ve);break e}}T=T.return}while(T!==null)}FA(p)}catch(Me){c=Me,en===p&&p!==null&&(en=p=p.return);continue}break}while(!0)}function OA(){var a=Im.current;return Im.current=Am,a===null?Am:a}function xw(){(un===0||un===3||un===2)&&(un=4),wn===null||(rl&268435455)===0&&(Nm&268435455)===0||Zo(wn,_n)}function $m(a,c){var p=Ze;Ze|=2;var b=OA();(wn!==a||_n!==c)&&(Ds=null,sl(a,c));do try{$D();break}catch(A){LA(a,A)}while(!0);if(Lb(),Ze=p,Im.current=b,en!==null)throw Error(t(261));return wn=null,_n=0,un}function $D(){for(;en!==null;)DA(en)}function BD(){for(;en!==null&&!Gg();)DA(en)}function DA(a){var c=BA(a.alternate,a,Mr);a.memoizedProps=a.pendingProps,c===null?FA(a):en=c,hw.current=null}function FA(a){var c=a;do{var p=c.alternate;if(a=c.return,(c.flags&32768)===0){if(p=ID(p,c,Mr),p!==null){en=p;return}}else{if(p=ND(p,c),p!==null){p.flags&=32767,en=p;return}if(a!==null)a.flags|=32768,a.subtreeFlags=0,a.deletions=null;else{un=6,en=null;return}}if(c=c.sibling,c!==null){en=c;return}en=c=a}while(c!==null);un===0&&(un=5)}function ol(a,c,p){var b=pt,A=ei.transition;try{ei.transition=null,pt=1,jD(a,c,p,b)}finally{ei.transition=A,pt=b}return null}function jD(a,c,p,b){do iu();while(Ko!==null);if((Ze&6)!==0)throw Error(t(327));p=a.finishedWork;var A=a.finishedLanes;if(p===null)return null;if(a.finishedWork=null,a.finishedLanes=0,p===a.current)throw Error(t(177));a.callbackNode=null,a.callbackPriority=0;var T=p.lanes|p.childLanes;if(xO(a,T),a===wn&&(en=wn=null,_n=0),(p.subtreeFlags&2064)===0&&(p.flags&2064)===0||Om||(Om=!0,jA(Nc,function(){return iu(),null})),T=(p.flags&15990)!==0,(p.subtreeFlags&15990)!==0||T){T=ei.transition,ei.transition=null;var z=pt;pt=1;var Z=Ze;Ze|=4,hw.current=null,OD(a,p),kA(p,a),aD(xb),Kg=!!wb,xb=wb=null,a.current=p,DD(p),Hv(),Ze=Z,pt=z,ei.transition=T}else a.current=p;if(Om&&(Om=!1,Ko=a,Dm=A),T=a.pendingLanes,T===0&&(Xo=null),Vv(p.stateNode),fr(a,Ft()),c!==null)for(b=a.onRecoverableError,p=0;p<c.length;p++)A=c[p],b(A.value,{componentStack:A.stack,digest:A.digest});if(Lm)throw Lm=!1,a=gw,gw=null,a;return(Dm&1)!==0&&a.tag!==0&&iu(),T=a.pendingLanes,(T&1)!==0?a===mw?Sh++:(Sh=0,mw=a):Sh=0,Vo(),null}function iu(){if(Ko!==null){var a=_C(Dm),c=ei.transition,p=pt;try{if(ei.transition=null,pt=16>a?16:a,Ko===null)var b=!1;else{if(a=Ko,Ko=null,Dm=0,(Ze&6)!==0)throw Error(t(331));var A=Ze;for(Ze|=4,Ce=a.current;Ce!==null;){var T=Ce,z=T.child;if((Ce.flags&16)!==0){var Z=T.deletions;if(Z!==null){for(var re=0;re<Z.length;re++){var ce=Z[re];for(Ce=ce;Ce!==null;){var ge=Ce;switch(ge.tag){case 0:case 11:case 15:bh(8,ge,T)}var ye=ge.child;if(ye!==null)ye.return=ge,Ce=ye;else for(;Ce!==null;){ge=Ce;var pe=ge.sibling,Ee=ge.return;if(SA(ge),ge===ce){Ce=null;break}if(pe!==null){pe.return=Ee,Ce=pe;break}Ce=Ee}}}var ke=T.alternate;if(ke!==null){var Te=ke.child;if(Te!==null){ke.child=null;do{var Xt=Te.sibling;Te.sibling=null,Te=Xt}while(Te!==null)}}Ce=T}}if((T.subtreeFlags&2064)!==0&&z!==null)z.return=T,Ce=z;else e:for(;Ce!==null;){if(T=Ce,(T.flags&2048)!==0)switch(T.tag){case 0:case 11:case 15:bh(9,T,T.return)}var ae=T.sibling;if(ae!==null){ae.return=T.return,Ce=ae;break e}Ce=T.return}}var se=a.current;for(Ce=se;Ce!==null;){z=Ce;var le=z.child;if((z.subtreeFlags&2064)!==0&&le!==null)le.return=z,Ce=le;else e:for(z=se;Ce!==null;){if(Z=Ce,(Z.flags&2048)!==0)try{switch(Z.tag){case 0:case 11:case 15:Mm(9,Z)}}catch(Me){Wt(Z,Z.return,Me)}if(Z===z){Ce=null;break e}var ve=Z.sibling;if(ve!==null){ve.return=Z.return,Ce=ve;break e}Ce=Z.return}}if(Ze=A,Vo(),Xr&&typeof Xr.onPostCommitFiberRoot=="function")try{Xr.onPostCommitFiberRoot(Lc,a)}catch{}b=!0}return b}finally{pt=p,ei.transition=c}}return!1}function zA(a,c,p){c=eu(p,c),c=nA(a,c,1),a=qo(a,c,1),c=Jn(),a!==null&&(Gd(a,1,c),fr(a,c))}function Wt(a,c,p){if(a.tag===3)zA(a,a,p);else for(;c!==null;){if(c.tag===3){zA(c,a,p);break}else if(c.tag===1){var b=c.stateNode;if(typeof c.type.getDerivedStateFromError=="function"||typeof b.componentDidCatch=="function"&&(Xo===null||!Xo.has(b))){a=eu(p,a),a=rA(c,a,1),c=qo(c,a,1),a=Jn(),c!==null&&(Gd(c,1,a),fr(c,a));break}}c=c.return}}function HD(a,c,p){var b=a.pingCache;b!==null&&b.delete(c),c=Jn(),a.pingedLanes|=a.suspendedLanes&p,wn===a&&(_n&p)===p&&(un===4||un===3&&(_n&130023424)===_n&&500>Ft()-pw?sl(a,0):fw|=p),fr(a,c)}function $A(a,c){c===0&&((a.mode&1)===0?c=1:(c=Oc,Oc<<=1,(Oc&130023424)===0&&(Oc=4194304)));var p=Jn();a=Ns(a,c),a!==null&&(Gd(a,c,p),fr(a,p))}function WD(a){var c=a.memoizedState,p=0;c!==null&&(p=c.retryLane),$A(a,p)}function UD(a,c){var p=0;switch(a.tag){case 13:var b=a.stateNode,A=a.memoizedState;A!==null&&(p=A.retryLane);break;case 19:b=a.stateNode;break;default:throw Error(t(314))}b!==null&&b.delete(c),$A(a,p)}var BA;BA=function(a,c,p){if(a!==null)if(a.memoizedProps!==c.pendingProps||cr.current)dr=!0;else{if((a.lanes&p)===0&&(c.flags&128)===0)return dr=!1,MD(a,c,p);dr=(a.flags&131072)!==0}else dr=!1,It&&(c.flags&1048576)!==0&&b_(c,pm,c.index);switch(c.lanes=0,c.tag){case 2:var b=c.type;Tm(a,c),a=c.pendingProps;var A=Gc(c,On.current);Zc(c,p),A=Vb(null,c,b,a,A,p);var T=Gb();return c.flags|=1,typeof A=="object"&&A!==null&&typeof A.render=="function"&&A.$$typeof===void 0?(c.tag=1,c.memoizedState=null,c.updateQueue=null,ur(b)?(T=!0,dm(c)):T=!1,c.memoizedState=A.state!==null&&A.state!==void 0?A.state:null,zb(c),A.updater=km,c.stateNode=A,A._reactInternals=c,Zb(c,b,a,p),c=nw(null,c,b,!0,T,p)):(c.tag=0,It&&T&&Rb(c),Zn(null,c,A,p),c=c.child),c;case 16:b=c.elementType;e:{switch(Tm(a,c),a=c.pendingProps,A=b._init,b=A(b._payload),c.type=b,A=c.tag=GD(b),a=gi(b,a),A){case 0:c=tw(null,c,b,a,p);break e;case 1:c=hA(null,c,b,a,p);break e;case 11:c=aA(null,c,b,a,p);break e;case 14:c=lA(null,c,b,gi(b.type,a),p);break e}throw Error(t(306,b,""))}return c;case 0:return b=c.type,A=c.pendingProps,A=c.elementType===b?A:gi(b,A),tw(a,c,b,A,p);case 1:return b=c.type,A=c.pendingProps,A=c.elementType===b?A:gi(b,A),hA(a,c,b,A,p);case 3:e:{if(fA(c),a===null)throw Error(t(387));b=c.pendingProps,T=c.memoizedState,A=T.element,R_(a,c),wm(c,b,null,p);var z=c.memoizedState;if(b=z.element,T.isDehydrated)if(T={element:b,isDehydrated:!1,cache:z.cache,pendingSuspenseBoundaries:z.pendingSuspenseBoundaries,transitions:z.transitions},c.updateQueue.baseState=T,c.memoizedState=T,c.flags&256){A=eu(Error(t(423)),c),c=pA(a,c,b,p,A);break e}else if(b!==A){A=eu(Error(t(424)),c),c=pA(a,c,b,p,A);break e}else for(Pr=Ho(c.stateNode.containerInfo.firstChild),Tr=c,It=!0,pi=null,p=A_(c,null,b,p),c.child=p;p;)p.flags=p.flags&-3|4096,p=p.sibling;else{if(Xc(),b===A){c=Os(a,c,p);break e}Zn(a,c,b,p)}c=c.child}return c;case 5:return M_(c),a===null&&Mb(c),b=c.type,A=c.pendingProps,T=a!==null?a.memoizedProps:null,z=A.children,Sb(b,A)?z=null:T!==null&&Sb(b,T)&&(c.flags|=32),dA(a,c),Zn(a,c,z,p),c.child;case 6:return a===null&&Mb(c),null;case 13:return gA(a,c,p);case 4:return $b(c,c.stateNode.containerInfo),b=c.pendingProps,a===null?c.child=Kc(c,null,b,p):Zn(a,c,b,p),c.child;case 11:return b=c.type,A=c.pendingProps,A=c.elementType===b?A:gi(b,A),aA(a,c,b,A,p);case 7:return Zn(a,c,c.pendingProps,p),c.child;case 8:return Zn(a,c,c.pendingProps.children,p),c.child;case 12:return Zn(a,c,c.pendingProps.children,p),c.child;case 10:e:{if(b=c.type._context,A=c.pendingProps,T=c.memoizedProps,z=A.value,kt(ym,b._currentValue),b._currentValue=z,T!==null)if(fi(T.value,z)){if(T.children===A.children&&!cr.current){c=Os(a,c,p);break e}}else for(T=c.child,T!==null&&(T.return=c);T!==null;){var Z=T.dependencies;if(Z!==null){z=T.child;for(var re=Z.firstContext;re!==null;){if(re.context===b){if(T.tag===1){re=Ls(-1,p&-p),re.tag=2;var ce=T.updateQueue;if(ce!==null){ce=ce.shared;var ge=ce.pending;ge===null?re.next=re:(re.next=ge.next,ge.next=re),ce.pending=re}}T.lanes|=p,re=T.alternate,re!==null&&(re.lanes|=p),Db(T.return,p,c),Z.lanes|=p;break}re=re.next}}else if(T.tag===10)z=T.type===c.type?null:T.child;else if(T.tag===18){if(z=T.return,z===null)throw Error(t(341));z.lanes|=p,Z=z.alternate,Z!==null&&(Z.lanes|=p),Db(z,p,c),z=T.sibling}else z=T.child;if(z!==null)z.return=T;else for(z=T;z!==null;){if(z===c){z=null;break}if(T=z.sibling,T!==null){T.return=z.return,z=T;break}z=z.return}T=z}Zn(a,c,A.children,p),c=c.child}return c;case 9:return A=c.type,b=c.pendingProps.children,Zc(c,p),A=Zr(A),b=b(A),c.flags|=1,Zn(a,c,b,p),c.child;case 14:return b=c.type,A=gi(b,c.pendingProps),A=gi(b.type,A),lA(a,c,b,A,p);case 15:return cA(a,c,c.type,c.pendingProps,p);case 17:return b=c.type,A=c.pendingProps,A=c.elementType===b?A:gi(b,A),Tm(a,c),c.tag=1,ur(b)?(a=!0,dm(c)):a=!1,Zc(c,p),eA(c,b,A),Zb(c,b,A,p),nw(null,c,b,!0,a,p);case 19:return yA(a,c,p);case 22:return uA(a,c,p)}throw Error(t(156,c.tag))};function jA(a,c){return Ug(a,c)}function VD(a,c,p,b){this.tag=a,this.key=p,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=c,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=b,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ti(a,c,p,b){return new VD(a,c,p,b)}function Sw(a){return a=a.prototype,!(!a||!a.isReactComponent)}function GD(a){if(typeof a=="function")return Sw(a)?1:0;if(a!=null){if(a=a.$$typeof,a===$)return 11;if(a===q)return 14}return 2}function Jo(a,c){var p=a.alternate;return p===null?(p=ti(a.tag,c,a.key,a.mode),p.elementType=a.elementType,p.type=a.type,p.stateNode=a.stateNode,p.alternate=a,a.alternate=p):(p.pendingProps=c,p.type=a.type,p.flags=0,p.subtreeFlags=0,p.deletions=null),p.flags=a.flags&14680064,p.childLanes=a.childLanes,p.lanes=a.lanes,p.child=a.child,p.memoizedProps=a.memoizedProps,p.memoizedState=a.memoizedState,p.updateQueue=a.updateQueue,c=a.dependencies,p.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext},p.sibling=a.sibling,p.index=a.index,p.ref=a.ref,p}function Bm(a,c,p,b,A,T){var z=2;if(b=a,typeof a=="function")Sw(a)&&(z=1);else if(typeof a=="string")z=5;else e:switch(a){case P:return al(p.children,A,T,c);case M:z=8,A|=8;break;case N:return a=ti(12,p,c,A|2),a.elementType=N,a.lanes=T,a;case G:return a=ti(13,p,c,A),a.elementType=G,a.lanes=T,a;case L:return a=ti(19,p,c,A),a.elementType=L,a.lanes=T,a;case X:return jm(p,A,T,c);default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case R:z=10;break e;case D:z=9;break e;case $:z=11;break e;case q:z=14;break e;case H:z=16,b=null;break e}throw Error(t(130,a==null?a:typeof a,""))}return c=ti(z,p,c,A),c.elementType=a,c.type=b,c.lanes=T,c}function al(a,c,p,b){return a=ti(7,a,b,c),a.lanes=p,a}function jm(a,c,p,b){return a=ti(22,a,b,c),a.elementType=X,a.lanes=p,a.stateNode={isHidden:!1},a}function Ew(a,c,p){return a=ti(6,a,null,c),a.lanes=p,a}function Cw(a,c,p){return c=ti(4,a.children!==null?a.children:[],a.key,c),c.lanes=p,c.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},c}function qD(a,c,p,b,A){this.tag=c,this.containerInfo=a,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Qv(0),this.expirationTimes=Qv(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Qv(0),this.identifierPrefix=b,this.onRecoverableError=A,this.mutableSourceEagerHydrationData=null}function _w(a,c,p,b,A,T,z,Z,re){return a=new qD(a,c,p,Z,re),c===1?(c=1,T===!0&&(c|=8)):c=0,T=ti(3,null,null,c),a.current=T,T.stateNode=a,T.memoizedState={element:b,isDehydrated:p,cache:null,transitions:null,pendingSuspenseBoundaries:null},zb(T),a}function YD(a,c,p){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:I,key:b==null?null:""+b,children:a,containerInfo:c,implementation:p}}function HA(a){if(!a)return Uo;a=a._reactInternals;e:{if(Ui(a)!==a||a.tag!==1)throw Error(t(170));var c=a;do{switch(c.tag){case 3:c=c.stateNode.context;break e;case 1:if(ur(c.type)){c=c.stateNode.__reactInternalMemoizedMergedChildContext;break e}}c=c.return}while(c!==null);throw Error(t(171))}if(a.tag===1){var p=a.type;if(ur(p))return m_(a,p,c)}return c}function WA(a,c,p,b,A,T,z,Z,re){return a=_w(p,b,!0,a,A,T,z,Z,re),a.context=HA(null),p=a.current,b=Jn(),A=Qo(p),T=Ls(b,A),T.callback=c??null,qo(p,T,A),a.current.lanes=A,Gd(a,A,b),fr(a,b),a}function Hm(a,c,p,b){var A=c.current,T=Jn(),z=Qo(A);return p=HA(p),c.context===null?c.context=p:c.pendingContext=p,c=Ls(T,z),c.payload={element:a},b=b===void 0?null:b,b!==null&&(c.callback=b),a=qo(A,c,z),a!==null&&(vi(a,A,z,T),bm(a,A,z)),z}function Wm(a){if(a=a.current,!a.child)return null;switch(a.child.tag){case 5:return a.child.stateNode;default:return a.child.stateNode}}function UA(a,c){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var p=a.retryLane;a.retryLane=p!==0&&p<c?p:c}}function Aw(a,c){UA(a,c),(a=a.alternate)&&UA(a,c)}function XD(){return null}var VA=typeof reportError=="function"?reportError:function(a){console.error(a)};function kw(a){this._internalRoot=a}Um.prototype.render=kw.prototype.render=function(a){var c=this._internalRoot;if(c===null)throw Error(t(409));Hm(a,c,null,null)},Um.prototype.unmount=kw.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var c=a.containerInfo;il(function(){Hm(null,a,null,null)}),c[Ts]=null}};function Um(a){this._internalRoot=a}Um.prototype.unstable_scheduleHydration=function(a){if(a){var c=RC();a={blockedOn:null,target:a,priority:c};for(var p=0;p<$o.length&&c!==0&&c<$o[p].priority;p++);$o.splice(p,0,a),p===0&&MC(a)}};function Rw(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function Vm(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11&&(a.nodeType!==8||a.nodeValue!==" react-mount-point-unstable "))}function GA(){}function KD(a,c,p,b,A){if(A){if(typeof b=="function"){var T=b;b=function(){var ce=Wm(z);T.call(ce)}}var z=WA(c,b,a,0,null,!1,!1,"",GA);return a._reactRootContainer=z,a[Ts]=z.current,oh(a.nodeType===8?a.parentNode:a),il(),z}for(;A=a.lastChild;)a.removeChild(A);if(typeof b=="function"){var Z=b;b=function(){var ce=Wm(re);Z.call(ce)}}var re=_w(a,0,!1,null,null,!1,!1,"",GA);return a._reactRootContainer=re,a[Ts]=re.current,oh(a.nodeType===8?a.parentNode:a),il(function(){Hm(c,re,p,b)}),re}function Gm(a,c,p,b,A){var T=p._reactRootContainer;if(T){var z=T;if(typeof A=="function"){var Z=A;A=function(){var re=Wm(z);Z.call(re)}}Hm(c,z,a,A)}else z=KD(p,c,a,A,b);return Wm(z)}AC=function(a){switch(a.tag){case 3:var c=a.stateNode;if(c.current.memoizedState.isDehydrated){var p=Xa(c.pendingLanes);p!==0&&(Zv(c,p|1),fr(c,Ft()),(Ze&6)===0&&(ru=Ft()+500,Vo()))}break;case 13:il(function(){var b=Ns(a,1);if(b!==null){var A=Jn();vi(b,a,1,A)}}),Aw(a,1)}},Jv=function(a){if(a.tag===13){var c=Ns(a,134217728);if(c!==null){var p=Jn();vi(c,a,134217728,p)}Aw(a,134217728)}},kC=function(a){if(a.tag===13){var c=Qo(a),p=Ns(a,c);if(p!==null){var b=Jn();vi(p,a,c,b)}Aw(a,c)}},RC=function(){return pt},TC=function(a,c){var p=pt;try{return pt=a,c()}finally{pt=p}},$d=function(a,c,p){switch(c){case"input":if(Ot(a,p),c=p.name,p.type==="radio"&&c!=null){for(p=a;p.parentNode;)p=p.parentNode;for(p=p.querySelectorAll("input[name="+JSON.stringify(""+c)+'][type="radio"]'),c=0;c<p.length;c++){var b=p[c];if(b!==a&&b.form===a.form){var A=cm(b);if(!A)throw Error(t(90));fe(b),Ot(b,A)}}}break;case"textarea":Yt(a,p);break;case"select":c=p.value,c!=null&&dt(a,!!p.multiple,c,!1)}},Dg=bw,Fg=il;var QD={usingClientEntryPoint:!1,Events:[ch,Uc,cm,Bd,Og,bw]},Eh={findFiberByHostInstance:Ka,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ZD={bundleType:Eh.bundleType,version:Eh.version,rendererPackageName:Eh.rendererPackageName,rendererConfig:Eh.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:C.ReactCurrentDispatcher,findHostInstanceByFiber:function(a){return a=Hg(a),a===null?null:a.stateNode},findFiberByHostInstance:Eh.findFiberByHostInstance||XD,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var qm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!qm.isDisabled&&qm.supportsFiber)try{Lc=qm.inject(ZD),Xr=qm}catch{}}return pr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=QD,pr.createPortal=function(a,c){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Rw(c))throw Error(t(200));return YD(a,c,null,p)},pr.createRoot=function(a,c){if(!Rw(a))throw Error(t(299));var p=!1,b="",A=VA;return c!=null&&(c.unstable_strictMode===!0&&(p=!0),c.identifierPrefix!==void 0&&(b=c.identifierPrefix),c.onRecoverableError!==void 0&&(A=c.onRecoverableError)),c=_w(a,1,!1,null,null,p,!1,b,A),a[Ts]=c.current,oh(a.nodeType===8?a.parentNode:a),new kw(c)},pr.findDOMNode=function(a){if(a==null)return null;if(a.nodeType===1)return a;var c=a._reactInternals;if(c===void 0)throw typeof a.render=="function"?Error(t(188)):(a=Object.keys(a).join(","),Error(t(268,a)));return a=Hg(c),a=a===null?null:a.stateNode,a},pr.flushSync=function(a){return il(a)},pr.hydrate=function(a,c,p){if(!Vm(c))throw Error(t(200));return Gm(null,a,c,!0,p)},pr.hydrateRoot=function(a,c,p){if(!Rw(a))throw Error(t(405));var b=p!=null&&p.hydratedSources||null,A=!1,T="",z=VA;if(p!=null&&(p.unstable_strictMode===!0&&(A=!0),p.identifierPrefix!==void 0&&(T=p.identifierPrefix),p.onRecoverableError!==void 0&&(z=p.onRecoverableError)),c=WA(c,null,a,1,p??null,A,!1,T,z),a[Ts]=c.current,oh(a),b)for(a=0;a<b.length;a++)p=b[a],A=p._getVersion,A=A(p._source),c.mutableSourceEagerHydrationData==null?c.mutableSourceEagerHydrationData=[p,A]:c.mutableSourceEagerHydrationData.push(p,A);return new Um(c)},pr.render=function(a,c,p){if(!Vm(c))throw Error(t(200));return Gm(null,a,c,!1,p)},pr.unmountComponentAtNode=function(a){if(!Vm(a))throw Error(t(40));return a._reactRootContainer?(il(function(){Gm(null,null,a,!1,function(){a._reactRootContainer=null,a[Ts]=null})}),!0):!1},pr.unstable_batchedUpdates=bw,pr.unstable_renderSubtreeIntoContainer=function(a,c,p,b){if(!Vm(p))throw Error(t(200));if(a==null||a._reactInternals===void 0)throw Error(t(38));return Gm(a,c,p,!1,b)},pr.version="18.3.1-next-f1338f8080-20240426",pr}var tk;function q0(){if(tk)return Iw.exports;tk=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Iw.exports=cF(),Iw.exports}var nk;function uF(){if(nk)return Xm;nk=1;var n=q0();return Xm.createRoot=n.createRoot,Xm.hydrateRoot=n.hydrateRoot,Xm}var hM=uF();function ln(n){if(typeof n=="string"||typeof n=="number")return""+n;let e="";if(Array.isArray(n))for(let t=0,r;t<n.length;t++)(r=ln(n[t]))!==""&&(e+=(e&&" ")+r);else for(let t in n)n[t]&&(e+=(e&&" ")+t);return e}var dF={value:()=>{}};function Y0(){for(var n=0,e=arguments.length,t={},r;n<e;++n){if(!(r=arguments[n]+"")||r in t||/[\s.]/.test(r))throw new Error("illegal type: "+r);t[r]=[]}return new xy(t)}function xy(n){this._=n}function hF(n,e){return n.trim().split(/^|\s+/).map(function(t){var r="",i=t.indexOf(".");if(i>=0&&(r=t.slice(i+1),t=t.slice(0,i)),t&&!e.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:r}})}xy.prototype=Y0.prototype={constructor:xy,on:function(n,e){var t=this._,r=hF(n+"",t),i,s=-1,o=r.length;if(arguments.length<2){for(;++s<o;)if((i=(n=r[s]).type)&&(i=fF(t[i],n.name)))return i;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++s<o;)if(i=(n=r[s]).type)t[i]=rk(t[i],n.name,e);else if(e==null)for(i in t)t[i]=rk(t[i],n.name,null);return this},copy:function(){var n={},e=this._;for(var t in e)n[t]=e[t].slice();return new xy(n)},call:function(n,e){if((i=arguments.length-2)>0)for(var t=new Array(i),r=0,i,s;r<i;++r)t[r]=arguments[r+2];if(!this._.hasOwnProperty(n))throw new Error("unknown type: "+n);for(s=this._[n],r=0,i=s.length;r<i;++r)s[r].value.apply(e,t)},apply:function(n,e,t){if(!this._.hasOwnProperty(n))throw new Error("unknown type: "+n);for(var r=this._[n],i=0,s=r.length;i<s;++i)r[i].value.apply(e,t)}};function fF(n,e){for(var t=0,r=n.length,i;t<r;++t)if((i=n[t]).name===e)return i.value}function rk(n,e,t){for(var r=0,i=n.length;r<i;++r)if(n[r].name===e){n[r]=dF,n=n.slice(0,r).concat(n.slice(r+1));break}return t!=null&&n.push({name:e,value:t}),n}var gS="http://www.w3.org/1999/xhtml";const ik={svg:"http://www.w3.org/2000/svg",xhtml:gS,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function X0(n){var e=n+="",t=e.indexOf(":");return t>=0&&(e=n.slice(0,t))!=="xmlns"&&(n=n.slice(t+1)),ik.hasOwnProperty(e)?{space:ik[e],local:n}:n}function pF(n){return function(){var e=this.ownerDocument,t=this.namespaceURI;return t===gS&&e.documentElement.namespaceURI===gS?e.createElement(n):e.createElementNS(t,n)}}function gF(n){return function(){return this.ownerDocument.createElementNS(n.space,n.local)}}function fM(n){var e=X0(n);return(e.local?gF:pF)(e)}function mF(){}function y1(n){return n==null?mF:function(){return this.querySelector(n)}}function yF(n){typeof n!="function"&&(n=y1(n));for(var e=this._groups,t=e.length,r=new Array(t),i=0;i<t;++i)for(var s=e[i],o=s.length,l=r[i]=new Array(o),u,d,h=0;h<o;++h)(u=s[h])&&(d=n.call(u,u.__data__,h,s))&&("__data__"in u&&(d.__data__=u.__data__),l[h]=d);return new qr(r,this._parents)}function vF(n){return n==null?[]:Array.isArray(n)?n:Array.from(n)}function bF(){return[]}function pM(n){return n==null?bF:function(){return this.querySelectorAll(n)}}function wF(n){return function(){return vF(n.apply(this,arguments))}}function xF(n){typeof n=="function"?n=wF(n):n=pM(n);for(var e=this._groups,t=e.length,r=[],i=[],s=0;s<t;++s)for(var o=e[s],l=o.length,u,d=0;d<l;++d)(u=o[d])&&(r.push(n.call(u,u.__data__,d,o)),i.push(u));return new qr(r,i)}function gM(n){return function(){return this.matches(n)}}function mM(n){return function(e){return e.matches(n)}}var SF=Array.prototype.find;function EF(n){return function(){return SF.call(this.children,n)}}function CF(){return this.firstElementChild}function _F(n){return this.select(n==null?CF:EF(typeof n=="function"?n:mM(n)))}var AF=Array.prototype.filter;function kF(){return Array.from(this.children)}function RF(n){return function(){return AF.call(this.children,n)}}function TF(n){return this.selectAll(n==null?kF:RF(typeof n=="function"?n:mM(n)))}function PF(n){typeof n!="function"&&(n=gM(n));for(var e=this._groups,t=e.length,r=new Array(t),i=0;i<t;++i)for(var s=e[i],o=s.length,l=r[i]=[],u,d=0;d<o;++d)(u=s[d])&&n.call(u,u.__data__,d,s)&&l.push(u);return new qr(r,this._parents)}function yM(n){return new Array(n.length)}function MF(){return new qr(this._enter||this._groups.map(yM),this._parents)}function n0(n,e){this.ownerDocument=n.ownerDocument,this.namespaceURI=n.namespaceURI,this._next=null,this._parent=n,this.__data__=e}n0.prototype={constructor:n0,appendChild:function(n){return this._parent.insertBefore(n,this._next)},insertBefore:function(n,e){return this._parent.insertBefore(n,e)},querySelector:function(n){return this._parent.querySelector(n)},querySelectorAll:function(n){return this._parent.querySelectorAll(n)}};function IF(n){return function(){return n}}function NF(n,e,t,r,i,s){for(var o=0,l,u=e.length,d=s.length;o<d;++o)(l=e[o])?(l.__data__=s[o],r[o]=l):t[o]=new n0(n,s[o]);for(;o<u;++o)(l=e[o])&&(i[o]=l)}function LF(n,e,t,r,i,s,o){var l,u,d=new Map,h=e.length,f=s.length,g=new Array(h),y;for(l=0;l<h;++l)(u=e[l])&&(g[l]=y=o.call(u,u.__data__,l,e)+"",d.has(y)?i[l]=u:d.set(y,u));for(l=0;l<f;++l)y=o.call(n,s[l],l,s)+"",(u=d.get(y))?(r[l]=u,u.__data__=s[l],d.delete(y)):t[l]=new n0(n,s[l]);for(l=0;l<h;++l)(u=e[l])&&d.get(g[l])===u&&(i[l]=u)}function OF(n){return n.__data__}function DF(n,e){if(!arguments.length)return Array.from(this,OF);var t=e?LF:NF,r=this._parents,i=this._groups;typeof n!="function"&&(n=IF(n));for(var s=i.length,o=new Array(s),l=new Array(s),u=new Array(s),d=0;d<s;++d){var h=r[d],f=i[d],g=f.length,y=FF(n.call(h,h&&h.__data__,d,r)),v=y.length,w=l[d]=new Array(v),E=o[d]=new Array(v),x=u[d]=new Array(g);t(h,f,w,E,x,y,e);for(var _=0,S=0,C,k;_<v;++_)if(C=w[_]){for(_>=S&&(S=_+1);!(k=E[S])&&++S<v;);C._next=k||null}}return o=new qr(o,r),o._enter=l,o._exit=u,o}function FF(n){return typeof n=="object"&&"length"in n?n:Array.from(n)}function zF(){return new qr(this._exit||this._groups.map(yM),this._parents)}function $F(n,e,t){var r=this.enter(),i=this,s=this.exit();return typeof n=="function"?(r=n(r),r&&(r=r.selection())):r=r.append(n+""),e!=null&&(i=e(i),i&&(i=i.selection())),t==null?s.remove():t(s),r&&i?r.merge(i).order():i}function BF(n){for(var e=n.selection?n.selection():n,t=this._groups,r=e._groups,i=t.length,s=r.length,o=Math.min(i,s),l=new Array(i),u=0;u<o;++u)for(var d=t[u],h=r[u],f=d.length,g=l[u]=new Array(f),y,v=0;v<f;++v)(y=d[v]||h[v])&&(g[v]=y);for(;u<i;++u)l[u]=t[u];return new qr(l,this._parents)}function jF(){for(var n=this._groups,e=-1,t=n.length;++e<t;)for(var r=n[e],i=r.length-1,s=r[i],o;--i>=0;)(o=r[i])&&(s&&o.compareDocumentPosition(s)^4&&s.parentNode.insertBefore(o,s),s=o);return this}function HF(n){n||(n=WF);function e(f,g){return f&&g?n(f.__data__,g.__data__):!f-!g}for(var t=this._groups,r=t.length,i=new Array(r),s=0;s<r;++s){for(var o=t[s],l=o.length,u=i[s]=new Array(l),d,h=0;h<l;++h)(d=o[h])&&(u[h]=d);u.sort(e)}return new qr(i,this._parents).order()}function WF(n,e){return n<e?-1:n>e?1:n>=e?0:NaN}function UF(){var n=arguments[0];return arguments[0]=this,n.apply(null,arguments),this}function VF(){return Array.from(this)}function GF(){for(var n=this._groups,e=0,t=n.length;e<t;++e)for(var r=n[e],i=0,s=r.length;i<s;++i){var o=r[i];if(o)return o}return null}function qF(){let n=0;for(const e of this)++n;return n}function YF(){return!this.node()}function XF(n){for(var e=this._groups,t=0,r=e.length;t<r;++t)for(var i=e[t],s=0,o=i.length,l;s<o;++s)(l=i[s])&&n.call(l,l.__data__,s,i);return this}function KF(n){return function(){this.removeAttribute(n)}}function QF(n){return function(){this.removeAttributeNS(n.space,n.local)}}function ZF(n,e){return function(){this.setAttribute(n,e)}}function JF(n,e){return function(){this.setAttributeNS(n.space,n.local,e)}}function ez(n,e){return function(){var t=e.apply(this,arguments);t==null?this.removeAttribute(n):this.setAttribute(n,t)}}function tz(n,e){return function(){var t=e.apply(this,arguments);t==null?this.removeAttributeNS(n.space,n.local):this.setAttributeNS(n.space,n.local,t)}}function nz(n,e){var t=X0(n);if(arguments.length<2){var r=this.node();return t.local?r.getAttributeNS(t.space,t.local):r.getAttribute(t)}return this.each((e==null?t.local?QF:KF:typeof e=="function"?t.local?tz:ez:t.local?JF:ZF)(t,e))}function vM(n){return n.ownerDocument&&n.ownerDocument.defaultView||n.document&&n||n.defaultView}function rz(n){return function(){this.style.removeProperty(n)}}function iz(n,e,t){return function(){this.style.setProperty(n,e,t)}}function sz(n,e,t){return function(){var r=e.apply(this,arguments);r==null?this.style.removeProperty(n):this.style.setProperty(n,r,t)}}function oz(n,e,t){return arguments.length>1?this.each((e==null?rz:typeof e=="function"?sz:iz)(n,e,t??"")):_d(this.node(),n)}function _d(n,e){return n.style.getPropertyValue(e)||vM(n).getComputedStyle(n,null).getPropertyValue(e)}function az(n){return function(){delete this[n]}}function lz(n,e){return function(){this[n]=e}}function cz(n,e){return function(){var t=e.apply(this,arguments);t==null?delete this[n]:this[n]=t}}function uz(n,e){return arguments.length>1?this.each((e==null?az:typeof e=="function"?cz:lz)(n,e)):this.node()[n]}function bM(n){return n.trim().split(/^|\s+/)}function v1(n){return n.classList||new wM(n)}function wM(n){this._node=n,this._names=bM(n.getAttribute("class")||"")}wM.prototype={add:function(n){var e=this._names.indexOf(n);e<0&&(this._names.push(n),this._node.setAttribute("class",this._names.join(" ")))},remove:function(n){var e=this._names.indexOf(n);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(n){return this._names.indexOf(n)>=0}};function xM(n,e){for(var t=v1(n),r=-1,i=e.length;++r<i;)t.add(e[r])}function SM(n,e){for(var t=v1(n),r=-1,i=e.length;++r<i;)t.remove(e[r])}function dz(n){return function(){xM(this,n)}}function hz(n){return function(){SM(this,n)}}function fz(n,e){return function(){(e.apply(this,arguments)?xM:SM)(this,n)}}function pz(n,e){var t=bM(n+"");if(arguments.length<2){for(var r=v1(this.node()),i=-1,s=t.length;++i<s;)if(!r.contains(t[i]))return!1;return!0}return this.each((typeof e=="function"?fz:e?dz:hz)(t,e))}function gz(){this.textContent=""}function mz(n){return function(){this.textContent=n}}function yz(n){return function(){var e=n.apply(this,arguments);this.textContent=e??""}}function vz(n){return arguments.length?this.each(n==null?gz:(typeof n=="function"?yz:mz)(n)):this.node().textContent}function bz(){this.innerHTML=""}function wz(n){return function(){this.innerHTML=n}}function xz(n){return function(){var e=n.apply(this,arguments);this.innerHTML=e??""}}function Sz(n){return arguments.length?this.each(n==null?bz:(typeof n=="function"?xz:wz)(n)):this.node().innerHTML}function Ez(){this.nextSibling&&this.parentNode.appendChild(this)}function Cz(){return this.each(Ez)}function _z(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Az(){return this.each(_z)}function kz(n){var e=typeof n=="function"?n:fM(n);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function Rz(){return null}function Tz(n,e){var t=typeof n=="function"?n:fM(n),r=e==null?Rz:typeof e=="function"?e:y1(e);return this.select(function(){return this.insertBefore(t.apply(this,arguments),r.apply(this,arguments)||null)})}function Pz(){var n=this.parentNode;n&&n.removeChild(this)}function Mz(){return this.each(Pz)}function Iz(){var n=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(n,this.nextSibling):n}function Nz(){var n=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(n,this.nextSibling):n}function Lz(n){return this.select(n?Nz:Iz)}function Oz(n){return arguments.length?this.property("__data__",n):this.node().__data__}function Dz(n){return function(e){n.call(this,e,this.__data__)}}function Fz(n){return n.trim().split(/^|\s+/).map(function(e){var t="",r=e.indexOf(".");return r>=0&&(t=e.slice(r+1),e=e.slice(0,r)),{type:e,name:t}})}function zz(n){return function(){var e=this.__on;if(e){for(var t=0,r=-1,i=e.length,s;t<i;++t)s=e[t],(!n.type||s.type===n.type)&&s.name===n.name?this.removeEventListener(s.type,s.listener,s.options):e[++r]=s;++r?e.length=r:delete this.__on}}}function $z(n,e,t){return function(){var r=this.__on,i,s=Dz(e);if(r){for(var o=0,l=r.length;o<l;++o)if((i=r[o]).type===n.type&&i.name===n.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=s,i.options=t),i.value=e;return}}this.addEventListener(n.type,s,t),i={type:n.type,name:n.name,value:e,listener:s,options:t},r?r.push(i):this.__on=[i]}}function Bz(n,e,t){var r=Fz(n+""),i,s=r.length,o;if(arguments.length<2){var l=this.node().__on;if(l){for(var u=0,d=l.length,h;u<d;++u)for(i=0,h=l[u];i<s;++i)if((o=r[i]).type===h.type&&o.name===h.name)return h.value}return}for(l=e?$z:zz,i=0;i<s;++i)this.each(l(r[i],e,t));return this}function EM(n,e,t){var r=vM(n),i=r.CustomEvent;typeof i=="function"?i=new i(e,t):(i=r.document.createEvent("Event"),t?(i.initEvent(e,t.bubbles,t.cancelable),i.detail=t.detail):i.initEvent(e,!1,!1)),n.dispatchEvent(i)}function jz(n,e){return function(){return EM(this,n,e)}}function Hz(n,e){return function(){return EM(this,n,e.apply(this,arguments))}}function Wz(n,e){return this.each((typeof e=="function"?Hz:jz)(n,e))}function*Uz(){for(var n=this._groups,e=0,t=n.length;e<t;++e)for(var r=n[e],i=0,s=r.length,o;i<s;++i)(o=r[i])&&(yield o)}var CM=[null];function qr(n,e){this._groups=n,this._parents=e}function pg(){return new qr([[document.documentElement]],CM)}function Vz(){return this}qr.prototype=pg.prototype={constructor:qr,select:yF,selectAll:xF,selectChild:_F,selectChildren:TF,filter:PF,data:DF,enter:MF,exit:zF,join:$F,merge:BF,selection:Vz,order:jF,sort:HF,call:UF,nodes:VF,node:GF,size:qF,empty:YF,each:XF,attr:nz,style:oz,property:uz,classed:pz,text:vz,html:Sz,raise:Cz,lower:Az,append:kz,insert:Tz,remove:Mz,clone:Lz,datum:Oz,on:Bz,dispatch:Wz,[Symbol.iterator]:Uz};function Ur(n){return typeof n=="string"?new qr([[document.querySelector(n)]],[document.documentElement]):new qr([[n]],CM)}function Gz(n){let e;for(;e=n.sourceEvent;)n=e;return n}function Li(n,e){if(n=Gz(n),e===void 0&&(e=n.currentTarget),e){var t=e.ownerSVGElement||e;if(t.createSVGPoint){var r=t.createSVGPoint();return r.x=n.clientX,r.y=n.clientY,r=r.matrixTransform(e.getScreenCTM().inverse()),[r.x,r.y]}if(e.getBoundingClientRect){var i=e.getBoundingClientRect();return[n.clientX-i.left-e.clientLeft,n.clientY-i.top-e.clientTop]}}return[n.pageX,n.pageY]}const qz={passive:!1},yf={capture:!0,passive:!1};function Ow(n){n.stopImmediatePropagation()}function Eu(n){n.preventDefault(),n.stopImmediatePropagation()}function _M(n){var e=n.document.documentElement,t=Ur(n).on("dragstart.drag",Eu,yf);"onselectstart"in e?t.on("selectstart.drag",Eu,yf):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function AM(n,e){var t=n.document.documentElement,r=Ur(n).on("dragstart.drag",null);e&&(r.on("click.drag",Eu,yf),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in t?r.on("selectstart.drag",null):(t.style.MozUserSelect=t.__noselect,delete t.__noselect)}const Km=n=>()=>n;function mS(n,{sourceEvent:e,subject:t,target:r,identifier:i,active:s,x:o,y:l,dx:u,dy:d,dispatch:h}){Object.defineProperties(this,{type:{value:n,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},subject:{value:t,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:i,enumerable:!0,configurable:!0},active:{value:s,enumerable:!0,configurable:!0},x:{value:o,enumerable:!0,configurable:!0},y:{value:l,enumerable:!0,configurable:!0},dx:{value:u,enumerable:!0,configurable:!0},dy:{value:d,enumerable:!0,configurable:!0},_:{value:h}})}mS.prototype.on=function(){var n=this._.on.apply(this._,arguments);return n===this._?this:n};function Yz(n){return!n.ctrlKey&&!n.button}function Xz(){return this.parentNode}function Kz(n,e){return e??{x:n.x,y:n.y}}function Qz(){return navigator.maxTouchPoints||"ontouchstart"in this}function kM(){var n=Yz,e=Xz,t=Kz,r=Qz,i={},s=Y0("start","drag","end"),o=0,l,u,d,h,f=0;function g(C){C.on("mousedown.drag",y).filter(r).on("touchstart.drag",E).on("touchmove.drag",x,qz).on("touchend.drag touchcancel.drag",_).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function y(C,k){if(!(h||!n.call(this,C,k))){var I=S(this,e.call(this,C,k),C,k,"mouse");I&&(Ur(C.view).on("mousemove.drag",v,yf).on("mouseup.drag",w,yf),_M(C.view),Ow(C),d=!1,l=C.clientX,u=C.clientY,I("start",C))}}function v(C){if(Eu(C),!d){var k=C.clientX-l,I=C.clientY-u;d=k*k+I*I>f}i.mouse("drag",C)}function w(C){Ur(C.view).on("mousemove.drag mouseup.drag",null),AM(C.view,d),Eu(C),i.mouse("end",C)}function E(C,k){if(n.call(this,C,k)){var I=C.changedTouches,P=e.call(this,C,k),M=I.length,N,R;for(N=0;N<M;++N)(R=S(this,P,C,k,I[N].identifier,I[N]))&&(Ow(C),R("start",C,I[N]))}}function x(C){var k=C.changedTouches,I=k.length,P,M;for(P=0;P<I;++P)(M=i[k[P].identifier])&&(Eu(C),M("drag",C,k[P]))}function _(C){var k=C.changedTouches,I=k.length,P,M;for(h&&clearTimeout(h),h=setTimeout(function(){h=null},500),P=0;P<I;++P)(M=i[k[P].identifier])&&(Ow(C),M("end",C,k[P]))}function S(C,k,I,P,M,N){var R=s.copy(),D=Li(N||I,k),$,G,L;if((L=t.call(C,new mS("beforestart",{sourceEvent:I,target:g,identifier:M,active:o,x:D[0],y:D[1],dx:0,dy:0,dispatch:R}),P))!=null)return $=L.x-D[0]||0,G=L.y-D[1]||0,function q(H,X,W){var U=D,Q;switch(H){case"start":i[M]=q,Q=o++;break;case"end":delete i[M],--o;case"drag":D=Li(W||X,k),Q=o;break}R.call(H,C,new mS(H,{sourceEvent:X,subject:L,target:g,identifier:M,active:Q,x:D[0]+$,y:D[1]+G,dx:D[0]-U[0],dy:D[1]-U[1],dispatch:R}),P)}}return g.filter=function(C){return arguments.length?(n=typeof C=="function"?C:Km(!!C),g):n},g.container=function(C){return arguments.length?(e=typeof C=="function"?C:Km(C),g):e},g.subject=function(C){return arguments.length?(t=typeof C=="function"?C:Km(C),g):t},g.touchable=function(C){return arguments.length?(r=typeof C=="function"?C:Km(!!C),g):r},g.on=function(){var C=s.on.apply(s,arguments);return C===s?g:C},g.clickDistance=function(C){return arguments.length?(f=(C=+C)*C,g):Math.sqrt(f)},g}function b1(n,e,t){n.prototype=e.prototype=t,t.constructor=n}function RM(n,e){var t=Object.create(n.prototype);for(var r in e)t[r]=e[r];return t}function gg(){}var vf=.7,r0=1/vf,Cu="\\s*([+-]?\\d+)\\s*",bf="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ws="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Zz=/^#([0-9a-f]{3,8})$/,Jz=new RegExp(`^rgb\\(${Cu},${Cu},${Cu}\\)$`),e$=new RegExp(`^rgb\\(${ws},${ws},${ws}\\)$`),t$=new RegExp(`^rgba\\(${Cu},${Cu},${Cu},${bf}\\)$`),n$=new RegExp(`^rgba\\(${ws},${ws},${ws},${bf}\\)$`),r$=new RegExp(`^hsl\\(${bf},${ws},${ws}\\)$`),i$=new RegExp(`^hsla\\(${bf},${ws},${ws},${bf}\\)$`),sk={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};b1(gg,wf,{copy(n){return Object.assign(new this.constructor,this,n)},displayable(){return this.rgb().displayable()},hex:ok,formatHex:ok,formatHex8:s$,formatHsl:o$,formatRgb:ak,toString:ak});function ok(){return this.rgb().formatHex()}function s$(){return this.rgb().formatHex8()}function o$(){return TM(this).formatHsl()}function ak(){return this.rgb().formatRgb()}function wf(n){var e,t;return n=(n+"").trim().toLowerCase(),(e=Zz.exec(n))?(t=e[1].length,e=parseInt(e[1],16),t===6?lk(e):t===3?new br(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):t===8?Qm(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):t===4?Qm(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Jz.exec(n))?new br(e[1],e[2],e[3],1):(e=e$.exec(n))?new br(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=t$.exec(n))?Qm(e[1],e[2],e[3],e[4]):(e=n$.exec(n))?Qm(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=r$.exec(n))?dk(e[1],e[2]/100,e[3]/100,1):(e=i$.exec(n))?dk(e[1],e[2]/100,e[3]/100,e[4]):sk.hasOwnProperty(n)?lk(sk[n]):n==="transparent"?new br(NaN,NaN,NaN,0):null}function lk(n){return new br(n>>16&255,n>>8&255,n&255,1)}function Qm(n,e,t,r){return r<=0&&(n=e=t=NaN),new br(n,e,t,r)}function a$(n){return n instanceof gg||(n=wf(n)),n?(n=n.rgb(),new br(n.r,n.g,n.b,n.opacity)):new br}function yS(n,e,t,r){return arguments.length===1?a$(n):new br(n,e,t,r??1)}function br(n,e,t,r){this.r=+n,this.g=+e,this.b=+t,this.opacity=+r}b1(br,yS,RM(gg,{brighter(n){return n=n==null?r0:Math.pow(r0,n),new br(this.r*n,this.g*n,this.b*n,this.opacity)},darker(n){return n=n==null?vf:Math.pow(vf,n),new br(this.r*n,this.g*n,this.b*n,this.opacity)},rgb(){return this},clamp(){return new br(gc(this.r),gc(this.g),gc(this.b),i0(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:ck,formatHex:ck,formatHex8:l$,formatRgb:uk,toString:uk}));function ck(){return`#${vl(this.r)}${vl(this.g)}${vl(this.b)}`}function l$(){return`#${vl(this.r)}${vl(this.g)}${vl(this.b)}${vl((isNaN(this.opacity)?1:this.opacity)*255)}`}function uk(){const n=i0(this.opacity);return`${n===1?"rgb(":"rgba("}${gc(this.r)}, ${gc(this.g)}, ${gc(this.b)}${n===1?")":`, ${n})`}`}function i0(n){return isNaN(n)?1:Math.max(0,Math.min(1,n))}function gc(n){return Math.max(0,Math.min(255,Math.round(n)||0))}function vl(n){return n=gc(n),(n<16?"0":"")+n.toString(16)}function dk(n,e,t,r){return r<=0?n=e=t=NaN:t<=0||t>=1?n=e=NaN:e<=0&&(n=NaN),new Oi(n,e,t,r)}function TM(n){if(n instanceof Oi)return new Oi(n.h,n.s,n.l,n.opacity);if(n instanceof gg||(n=wf(n)),!n)return new Oi;if(n instanceof Oi)return n;n=n.rgb();var e=n.r/255,t=n.g/255,r=n.b/255,i=Math.min(e,t,r),s=Math.max(e,t,r),o=NaN,l=s-i,u=(s+i)/2;return l?(e===s?o=(t-r)/l+(t<r)*6:t===s?o=(r-e)/l+2:o=(e-t)/l+4,l/=u<.5?s+i:2-s-i,o*=60):l=u>0&&u<1?0:o,new Oi(o,l,u,n.opacity)}function c$(n,e,t,r){return arguments.length===1?TM(n):new Oi(n,e,t,r??1)}function Oi(n,e,t,r){this.h=+n,this.s=+e,this.l=+t,this.opacity=+r}b1(Oi,c$,RM(gg,{brighter(n){return n=n==null?r0:Math.pow(r0,n),new Oi(this.h,this.s,this.l*n,this.opacity)},darker(n){return n=n==null?vf:Math.pow(vf,n),new Oi(this.h,this.s,this.l*n,this.opacity)},rgb(){var n=this.h%360+(this.h<0)*360,e=isNaN(n)||isNaN(this.s)?0:this.s,t=this.l,r=t+(t<.5?t:1-t)*e,i=2*t-r;return new br(Dw(n>=240?n-240:n+120,i,r),Dw(n,i,r),Dw(n<120?n+240:n-120,i,r),this.opacity)},clamp(){return new Oi(hk(this.h),Zm(this.s),Zm(this.l),i0(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const n=i0(this.opacity);return`${n===1?"hsl(":"hsla("}${hk(this.h)}, ${Zm(this.s)*100}%, ${Zm(this.l)*100}%${n===1?")":`, ${n})`}`}}));function hk(n){return n=(n||0)%360,n<0?n+360:n}function Zm(n){return Math.max(0,Math.min(1,n||0))}function Dw(n,e,t){return(n<60?e+(t-e)*n/60:n<180?t:n<240?e+(t-e)*(240-n)/60:e)*255}const PM=n=>()=>n;function u$(n,e){return function(t){return n+t*e}}function d$(n,e,t){return n=Math.pow(n,t),e=Math.pow(e,t)-n,t=1/t,function(r){return Math.pow(n+r*e,t)}}function h$(n){return(n=+n)==1?MM:function(e,t){return t-e?d$(e,t,n):PM(isNaN(e)?t:e)}}function MM(n,e){var t=e-n;return t?u$(n,t):PM(isNaN(n)?e:n)}const fk=function n(e){var t=h$(e);function r(i,s){var o=t((i=yS(i)).r,(s=yS(s)).r),l=t(i.g,s.g),u=t(i.b,s.b),d=MM(i.opacity,s.opacity);return function(h){return i.r=o(h),i.g=l(h),i.b=u(h),i.opacity=d(h),i+""}}return r.gamma=n,r}(1);function ca(n,e){return n=+n,e=+e,function(t){return n*(1-t)+e*t}}var vS=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Fw=new RegExp(vS.source,"g");function f$(n){return function(){return n}}function p$(n){return function(e){return n(e)+""}}function g$(n,e){var t=vS.lastIndex=Fw.lastIndex=0,r,i,s,o=-1,l=[],u=[];for(n=n+"",e=e+"";(r=vS.exec(n))&&(i=Fw.exec(e));)(s=i.index)>t&&(s=e.slice(t,s),l[o]?l[o]+=s:l[++o]=s),(r=r[0])===(i=i[0])?l[o]?l[o]+=i:l[++o]=i:(l[++o]=null,u.push({i:o,x:ca(r,i)})),t=Fw.lastIndex;return t<e.length&&(s=e.slice(t),l[o]?l[o]+=s:l[++o]=s),l.length<2?u[0]?p$(u[0].x):f$(e):(e=u.length,function(d){for(var h=0,f;h<e;++h)l[(f=u[h]).i]=f.x(d);return l.join("")})}var pk=180/Math.PI,bS={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function IM(n,e,t,r,i,s){var o,l,u;return(o=Math.sqrt(n*n+e*e))&&(n/=o,e/=o),(u=n*t+e*r)&&(t-=n*u,r-=e*u),(l=Math.sqrt(t*t+r*r))&&(t/=l,r/=l,u/=l),n*r<e*t&&(n=-n,e=-e,u=-u,o=-o),{translateX:i,translateY:s,rotate:Math.atan2(e,n)*pk,skewX:Math.atan(u)*pk,scaleX:o,scaleY:l}}var Jm;function m$(n){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(n+"");return e.isIdentity?bS:IM(e.a,e.b,e.c,e.d,e.e,e.f)}function y$(n){return n==null||(Jm||(Jm=document.createElementNS("http://www.w3.org/2000/svg","g")),Jm.setAttribute("transform",n),!(n=Jm.transform.baseVal.consolidate()))?bS:(n=n.matrix,IM(n.a,n.b,n.c,n.d,n.e,n.f))}function NM(n,e,t,r){function i(d){return d.length?d.pop()+" ":""}function s(d,h,f,g,y,v){if(d!==f||h!==g){var w=y.push("translate(",null,e,null,t);v.push({i:w-4,x:ca(d,f)},{i:w-2,x:ca(h,g)})}else(f||g)&&y.push("translate("+f+e+g+t)}function o(d,h,f,g){d!==h?(d-h>180?h+=360:h-d>180&&(d+=360),g.push({i:f.push(i(f)+"rotate(",null,r)-2,x:ca(d,h)})):h&&f.push(i(f)+"rotate("+h+r)}function l(d,h,f,g){d!==h?g.push({i:f.push(i(f)+"skewX(",null,r)-2,x:ca(d,h)}):h&&f.push(i(f)+"skewX("+h+r)}function u(d,h,f,g,y,v){if(d!==f||h!==g){var w=y.push(i(y)+"scale(",null,",",null,")");v.push({i:w-4,x:ca(d,f)},{i:w-2,x:ca(h,g)})}else(f!==1||g!==1)&&y.push(i(y)+"scale("+f+","+g+")")}return function(d,h){var f=[],g=[];return d=n(d),h=n(h),s(d.translateX,d.translateY,h.translateX,h.translateY,f,g),o(d.rotate,h.rotate,f,g),l(d.skewX,h.skewX,f,g),u(d.scaleX,d.scaleY,h.scaleX,h.scaleY,f,g),d=h=null,function(y){for(var v=-1,w=g.length,E;++v<w;)f[(E=g[v]).i]=E.x(y);return f.join("")}}}var v$=NM(m$,"px, ","px)","deg)"),b$=NM(y$,", ",")",")"),w$=1e-12;function gk(n){return((n=Math.exp(n))+1/n)/2}function x$(n){return((n=Math.exp(n))-1/n)/2}function S$(n){return((n=Math.exp(2*n))-1)/(n+1)}const E$=function n(e,t,r){function i(s,o){var l=s[0],u=s[1],d=s[2],h=o[0],f=o[1],g=o[2],y=h-l,v=f-u,w=y*y+v*v,E,x;if(w<w$)x=Math.log(g/d)/e,E=function(P){return[l+P*y,u+P*v,d*Math.exp(e*P*x)]};else{var _=Math.sqrt(w),S=(g*g-d*d+r*w)/(2*d*t*_),C=(g*g-d*d-r*w)/(2*g*t*_),k=Math.log(Math.sqrt(S*S+1)-S),I=Math.log(Math.sqrt(C*C+1)-C);x=(I-k)/e,E=function(P){var M=P*x,N=gk(k),R=d/(t*_)*(N*S$(e*M+k)-x$(k));return[l+R*y,u+R*v,d*N/gk(e*M+k)]}}return E.duration=x*1e3*e/Math.SQRT2,E}return i.rho=function(s){var o=Math.max(.001,+s),l=o*o,u=l*l;return n(o,l,u)},i}(Math.SQRT2,2,4);var Ad=0,zh=0,_h=0,LM=1e3,s0,$h,o0=0,yc=0,K0=0,xf=typeof performance=="object"&&performance.now?performance:Date,OM=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(n){setTimeout(n,17)};function w1(){return yc||(OM(C$),yc=xf.now()+K0)}function C$(){yc=0}function a0(){this._call=this._time=this._next=null}a0.prototype=DM.prototype={constructor:a0,restart:function(n,e,t){if(typeof n!="function")throw new TypeError("callback is not a function");t=(t==null?w1():+t)+(e==null?0:+e),!this._next&&$h!==this&&($h?$h._next=this:s0=this,$h=this),this._call=n,this._time=t,wS()},stop:function(){this._call&&(this._call=null,this._time=1/0,wS())}};function DM(n,e,t){var r=new a0;return r.restart(n,e,t),r}function _$(){w1(),++Ad;for(var n=s0,e;n;)(e=yc-n._time)>=0&&n._call.call(void 0,e),n=n._next;--Ad}function mk(){yc=(o0=xf.now())+K0,Ad=zh=0;try{_$()}finally{Ad=0,k$(),yc=0}}function A$(){var n=xf.now(),e=n-o0;e>LM&&(K0-=e,o0=n)}function k$(){for(var n,e=s0,t,r=1/0;e;)e._call?(r>e._time&&(r=e._time),n=e,e=e._next):(t=e._next,e._next=null,e=n?n._next=t:s0=t);$h=n,wS(r)}function wS(n){if(!Ad){zh&&(zh=clearTimeout(zh));var e=n-yc;e>24?(n<1/0&&(zh=setTimeout(mk,n-xf.now()-K0)),_h&&(_h=clearInterval(_h))):(_h||(o0=xf.now(),_h=setInterval(A$,LM)),Ad=1,OM(mk))}}function yk(n,e,t){var r=new a0;return e=e==null?0:+e,r.restart(i=>{r.stop(),n(i+e)},e,t),r}var R$=Y0("start","end","cancel","interrupt"),T$=[],FM=0,vk=1,xS=2,Sy=3,bk=4,SS=5,Ey=6;function Q0(n,e,t,r,i,s){var o=n.__transition;if(!o)n.__transition={};else if(t in o)return;P$(n,t,{name:e,index:r,group:i,on:R$,tween:T$,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:FM})}function x1(n,e){var t=Bi(n,e);if(t.state>FM)throw new Error("too late; already scheduled");return t}function As(n,e){var t=Bi(n,e);if(t.state>Sy)throw new Error("too late; already running");return t}function Bi(n,e){var t=n.__transition;if(!t||!(t=t[e]))throw new Error("transition not found");return t}function P$(n,e,t){var r=n.__transition,i;r[e]=t,t.timer=DM(s,0,t.time);function s(d){t.state=vk,t.timer.restart(o,t.delay,t.time),t.delay<=d&&o(d-t.delay)}function o(d){var h,f,g,y;if(t.state!==vk)return u();for(h in r)if(y=r[h],y.name===t.name){if(y.state===Sy)return yk(o);y.state===bk?(y.state=Ey,y.timer.stop(),y.on.call("interrupt",n,n.__data__,y.index,y.group),delete r[h]):+h<e&&(y.state=Ey,y.timer.stop(),y.on.call("cancel",n,n.__data__,y.index,y.group),delete r[h])}if(yk(function(){t.state===Sy&&(t.state=bk,t.timer.restart(l,t.delay,t.time),l(d))}),t.state=xS,t.on.call("start",n,n.__data__,t.index,t.group),t.state===xS){for(t.state=Sy,i=new Array(g=t.tween.length),h=0,f=-1;h<g;++h)(y=t.tween[h].value.call(n,n.__data__,t.index,t.group))&&(i[++f]=y);i.length=f+1}}function l(d){for(var h=d<t.duration?t.ease.call(null,d/t.duration):(t.timer.restart(u),t.state=SS,1),f=-1,g=i.length;++f<g;)i[f].call(n,h);t.state===SS&&(t.on.call("end",n,n.__data__,t.index,t.group),u())}function u(){t.state=Ey,t.timer.stop(),delete r[e];for(var d in r)return;delete n.__transition}}function Cy(n,e){var t=n.__transition,r,i,s=!0,o;if(t){e=e==null?null:e+"";for(o in t){if((r=t[o]).name!==e){s=!1;continue}i=r.state>xS&&r.state<SS,r.state=Ey,r.timer.stop(),r.on.call(i?"interrupt":"cancel",n,n.__data__,r.index,r.group),delete t[o]}s&&delete n.__transition}}function M$(n){return this.each(function(){Cy(this,n)})}function I$(n,e){var t,r;return function(){var i=As(this,n),s=i.tween;if(s!==t){r=t=s;for(var o=0,l=r.length;o<l;++o)if(r[o].name===e){r=r.slice(),r.splice(o,1);break}}i.tween=r}}function N$(n,e,t){var r,i;if(typeof t!="function")throw new Error;return function(){var s=As(this,n),o=s.tween;if(o!==r){i=(r=o).slice();for(var l={name:e,value:t},u=0,d=i.length;u<d;++u)if(i[u].name===e){i[u]=l;break}u===d&&i.push(l)}s.tween=i}}function L$(n,e){var t=this._id;if(n+="",arguments.length<2){for(var r=Bi(this.node(),t).tween,i=0,s=r.length,o;i<s;++i)if((o=r[i]).name===n)return o.value;return null}return this.each((e==null?I$:N$)(t,n,e))}function S1(n,e,t){var r=n._id;return n.each(function(){var i=As(this,r);(i.value||(i.value={}))[e]=t.apply(this,arguments)}),function(i){return Bi(i,r).value[e]}}function zM(n,e){var t;return(typeof e=="number"?ca:e instanceof wf?fk:(t=wf(e))?(e=t,fk):g$)(n,e)}function O$(n){return function(){this.removeAttribute(n)}}function D$(n){return function(){this.removeAttributeNS(n.space,n.local)}}function F$(n,e,t){var r,i=t+"",s;return function(){var o=this.getAttribute(n);return o===i?null:o===r?s:s=e(r=o,t)}}function z$(n,e,t){var r,i=t+"",s;return function(){var o=this.getAttributeNS(n.space,n.local);return o===i?null:o===r?s:s=e(r=o,t)}}function $$(n,e,t){var r,i,s;return function(){var o,l=t(this),u;return l==null?void this.removeAttribute(n):(o=this.getAttribute(n),u=l+"",o===u?null:o===r&&u===i?s:(i=u,s=e(r=o,l)))}}function B$(n,e,t){var r,i,s;return function(){var o,l=t(this),u;return l==null?void this.removeAttributeNS(n.space,n.local):(o=this.getAttributeNS(n.space,n.local),u=l+"",o===u?null:o===r&&u===i?s:(i=u,s=e(r=o,l)))}}function j$(n,e){var t=X0(n),r=t==="transform"?b$:zM;return this.attrTween(n,typeof e=="function"?(t.local?B$:$$)(t,r,S1(this,"attr."+n,e)):e==null?(t.local?D$:O$)(t):(t.local?z$:F$)(t,r,e))}function H$(n,e){return function(t){this.setAttribute(n,e.call(this,t))}}function W$(n,e){return function(t){this.setAttributeNS(n.space,n.local,e.call(this,t))}}function U$(n,e){var t,r;function i(){var s=e.apply(this,arguments);return s!==r&&(t=(r=s)&&W$(n,s)),t}return i._value=e,i}function V$(n,e){var t,r;function i(){var s=e.apply(this,arguments);return s!==r&&(t=(r=s)&&H$(n,s)),t}return i._value=e,i}function G$(n,e){var t="attr."+n;if(arguments.length<2)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;var r=X0(n);return this.tween(t,(r.local?U$:V$)(r,e))}function q$(n,e){return function(){x1(this,n).delay=+e.apply(this,arguments)}}function Y$(n,e){return e=+e,function(){x1(this,n).delay=e}}function X$(n){var e=this._id;return arguments.length?this.each((typeof n=="function"?q$:Y$)(e,n)):Bi(this.node(),e).delay}function K$(n,e){return function(){As(this,n).duration=+e.apply(this,arguments)}}function Q$(n,e){return e=+e,function(){As(this,n).duration=e}}function Z$(n){var e=this._id;return arguments.length?this.each((typeof n=="function"?K$:Q$)(e,n)):Bi(this.node(),e).duration}function J$(n,e){if(typeof e!="function")throw new Error;return function(){As(this,n).ease=e}}function e5(n){var e=this._id;return arguments.length?this.each(J$(e,n)):Bi(this.node(),e).ease}function t5(n,e){return function(){var t=e.apply(this,arguments);if(typeof t!="function")throw new Error;As(this,n).ease=t}}function n5(n){if(typeof n!="function")throw new Error;return this.each(t5(this._id,n))}function r5(n){typeof n!="function"&&(n=gM(n));for(var e=this._groups,t=e.length,r=new Array(t),i=0;i<t;++i)for(var s=e[i],o=s.length,l=r[i]=[],u,d=0;d<o;++d)(u=s[d])&&n.call(u,u.__data__,d,s)&&l.push(u);return new Co(r,this._parents,this._name,this._id)}function i5(n){if(n._id!==this._id)throw new Error;for(var e=this._groups,t=n._groups,r=e.length,i=t.length,s=Math.min(r,i),o=new Array(r),l=0;l<s;++l)for(var u=e[l],d=t[l],h=u.length,f=o[l]=new Array(h),g,y=0;y<h;++y)(g=u[y]||d[y])&&(f[y]=g);for(;l<r;++l)o[l]=e[l];return new Co(o,this._parents,this._name,this._id)}function s5(n){return(n+"").trim().split(/^|\s+/).every(function(e){var t=e.indexOf(".");return t>=0&&(e=e.slice(0,t)),!e||e==="start"})}function o5(n,e,t){var r,i,s=s5(e)?x1:As;return function(){var o=s(this,n),l=o.on;l!==r&&(i=(r=l).copy()).on(e,t),o.on=i}}function a5(n,e){var t=this._id;return arguments.length<2?Bi(this.node(),t).on.on(n):this.each(o5(t,n,e))}function l5(n){return function(){var e=this.parentNode;for(var t in this.__transition)if(+t!==n)return;e&&e.removeChild(this)}}function c5(){return this.on("end.remove",l5(this._id))}function u5(n){var e=this._name,t=this._id;typeof n!="function"&&(n=y1(n));for(var r=this._groups,i=r.length,s=new Array(i),o=0;o<i;++o)for(var l=r[o],u=l.length,d=s[o]=new Array(u),h,f,g=0;g<u;++g)(h=l[g])&&(f=n.call(h,h.__data__,g,l))&&("__data__"in h&&(f.__data__=h.__data__),d[g]=f,Q0(d[g],e,t,g,d,Bi(h,t)));return new Co(s,this._parents,e,t)}function d5(n){var e=this._name,t=this._id;typeof n!="function"&&(n=pM(n));for(var r=this._groups,i=r.length,s=[],o=[],l=0;l<i;++l)for(var u=r[l],d=u.length,h,f=0;f<d;++f)if(h=u[f]){for(var g=n.call(h,h.__data__,f,u),y,v=Bi(h,t),w=0,E=g.length;w<E;++w)(y=g[w])&&Q0(y,e,t,w,g,v);s.push(g),o.push(h)}return new Co(s,o,e,t)}var h5=pg.prototype.constructor;function f5(){return new h5(this._groups,this._parents)}function p5(n,e){var t,r,i;return function(){var s=_d(this,n),o=(this.style.removeProperty(n),_d(this,n));return s===o?null:s===t&&o===r?i:i=e(t=s,r=o)}}function $M(n){return function(){this.style.removeProperty(n)}}function g5(n,e,t){var r,i=t+"",s;return function(){var o=_d(this,n);return o===i?null:o===r?s:s=e(r=o,t)}}function m5(n,e,t){var r,i,s;return function(){var o=_d(this,n),l=t(this),u=l+"";return l==null&&(u=l=(this.style.removeProperty(n),_d(this,n))),o===u?null:o===r&&u===i?s:(i=u,s=e(r=o,l))}}function y5(n,e){var t,r,i,s="style."+e,o="end."+s,l;return function(){var u=As(this,n),d=u.on,h=u.value[s]==null?l||(l=$M(e)):void 0;(d!==t||i!==h)&&(r=(t=d).copy()).on(o,i=h),u.on=r}}function v5(n,e,t){var r=(n+="")=="transform"?v$:zM;return e==null?this.styleTween(n,p5(n,r)).on("end.style."+n,$M(n)):typeof e=="function"?this.styleTween(n,m5(n,r,S1(this,"style."+n,e))).each(y5(this._id,n)):this.styleTween(n,g5(n,r,e),t).on("end.style."+n,null)}function b5(n,e,t){return function(r){this.style.setProperty(n,e.call(this,r),t)}}function w5(n,e,t){var r,i;function s(){var o=e.apply(this,arguments);return o!==i&&(r=(i=o)&&b5(n,o,t)),r}return s._value=e,s}function x5(n,e,t){var r="style."+(n+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;return this.tween(r,w5(n,e,t??""))}function S5(n){return function(){this.textContent=n}}function E5(n){return function(){var e=n(this);this.textContent=e??""}}function C5(n){return this.tween("text",typeof n=="function"?E5(S1(this,"text",n)):S5(n==null?"":n+""))}function _5(n){return function(e){this.textContent=n.call(this,e)}}function A5(n){var e,t;function r(){var i=n.apply(this,arguments);return i!==t&&(e=(t=i)&&_5(i)),e}return r._value=n,r}function k5(n){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(n==null)return this.tween(e,null);if(typeof n!="function")throw new Error;return this.tween(e,A5(n))}function R5(){for(var n=this._name,e=this._id,t=BM(),r=this._groups,i=r.length,s=0;s<i;++s)for(var o=r[s],l=o.length,u,d=0;d<l;++d)if(u=o[d]){var h=Bi(u,e);Q0(u,n,t,d,o,{time:h.time+h.delay+h.duration,delay:0,duration:h.duration,ease:h.ease})}return new Co(r,this._parents,n,t)}function T5(){var n,e,t=this,r=t._id,i=t.size();return new Promise(function(s,o){var l={value:o},u={value:function(){--i===0&&s()}};t.each(function(){var d=As(this,r),h=d.on;h!==n&&(e=(n=h).copy(),e._.cancel.push(l),e._.interrupt.push(l),e._.end.push(u)),d.on=e}),i===0&&s()})}var P5=0;function Co(n,e,t,r){this._groups=n,this._parents=e,this._name=t,this._id=r}function BM(){return++P5}var Fs=pg.prototype;Co.prototype={constructor:Co,select:u5,selectAll:d5,selectChild:Fs.selectChild,selectChildren:Fs.selectChildren,filter:r5,merge:i5,selection:f5,transition:R5,call:Fs.call,nodes:Fs.nodes,node:Fs.node,size:Fs.size,empty:Fs.empty,each:Fs.each,on:a5,attr:j$,attrTween:G$,style:v5,styleTween:x5,text:C5,textTween:k5,remove:c5,tween:L$,delay:X$,duration:Z$,ease:e5,easeVarying:n5,end:T5,[Symbol.iterator]:Fs[Symbol.iterator]};function M5(n){return((n*=2)<=1?n*n*n:(n-=2)*n*n+2)/2}var I5={time:null,delay:0,duration:250,ease:M5};function N5(n,e){for(var t;!(t=n.__transition)||!(t=t[e]);)if(!(n=n.parentNode))throw new Error(`transition ${e} not found`);return t}function L5(n){var e,t;n instanceof Co?(e=n._id,n=n._name):(e=BM(),(t=I5).time=w1(),n=n==null?null:n+"");for(var r=this._groups,i=r.length,s=0;s<i;++s)for(var o=r[s],l=o.length,u,d=0;d<l;++d)(u=o[d])&&Q0(u,n,e,d,o,t||N5(u,e));return new Co(r,this._parents,n,e)}pg.prototype.interrupt=M$;pg.prototype.transition=L5;const ey=n=>()=>n;function O5(n,{sourceEvent:e,target:t,transform:r,dispatch:i}){Object.defineProperties(this,{type:{value:n,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:t,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:i}})}function vo(n,e,t){this.k=n,this.x=e,this.y=t}vo.prototype={constructor:vo,scale:function(n){return n===1?this:new vo(this.k*n,this.x,this.y)},translate:function(n,e){return n===0&e===0?this:new vo(this.k,this.x+this.k*n,this.y+this.k*e)},apply:function(n){return[n[0]*this.k+this.x,n[1]*this.k+this.y]},applyX:function(n){return n*this.k+this.x},applyY:function(n){return n*this.k+this.y},invert:function(n){return[(n[0]-this.x)/this.k,(n[1]-this.y)/this.k]},invertX:function(n){return(n-this.x)/this.k},invertY:function(n){return(n-this.y)/this.k},rescaleX:function(n){return n.copy().domain(n.range().map(this.invertX,this).map(n.invert,n))},rescaleY:function(n){return n.copy().domain(n.range().map(this.invertY,this).map(n.invert,n))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Z0=new vo(1,0,0);jM.prototype=vo.prototype;function jM(n){for(;!n.__zoom;)if(!(n=n.parentNode))return Z0;return n.__zoom}function zw(n){n.stopImmediatePropagation()}function Ah(n){n.preventDefault(),n.stopImmediatePropagation()}function D5(n){return(!n.ctrlKey||n.type==="wheel")&&!n.button}function F5(){var n=this;return n instanceof SVGElement?(n=n.ownerSVGElement||n,n.hasAttribute("viewBox")?(n=n.viewBox.baseVal,[[n.x,n.y],[n.x+n.width,n.y+n.height]]):[[0,0],[n.width.baseVal.value,n.height.baseVal.value]]):[[0,0],[n.clientWidth,n.clientHeight]]}function wk(){return this.__zoom||Z0}function z5(n){return-n.deltaY*(n.deltaMode===1?.05:n.deltaMode?1:.002)*(n.ctrlKey?10:1)}function $5(){return navigator.maxTouchPoints||"ontouchstart"in this}function B5(n,e,t){var r=n.invertX(e[0][0])-t[0][0],i=n.invertX(e[1][0])-t[1][0],s=n.invertY(e[0][1])-t[0][1],o=n.invertY(e[1][1])-t[1][1];return n.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),o>s?(s+o)/2:Math.min(0,s)||Math.max(0,o))}function HM(){var n=D5,e=F5,t=B5,r=z5,i=$5,s=[0,1/0],o=[[-1/0,-1/0],[1/0,1/0]],l=250,u=E$,d=Y0("start","zoom","end"),h,f,g,y=500,v=150,w=0,E=10;function x(L){L.property("__zoom",wk).on("wheel.zoom",M,{passive:!1}).on("mousedown.zoom",N).on("dblclick.zoom",R).filter(i).on("touchstart.zoom",D).on("touchmove.zoom",$).on("touchend.zoom touchcancel.zoom",G).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}x.transform=function(L,q,H,X){var W=L.selection?L.selection():L;W.property("__zoom",wk),L!==W?k(L,q,H,X):W.interrupt().each(function(){I(this,arguments).event(X).start().zoom(null,typeof q=="function"?q.apply(this,arguments):q).end()})},x.scaleBy=function(L,q,H,X){x.scaleTo(L,function(){var W=this.__zoom.k,U=typeof q=="function"?q.apply(this,arguments):q;return W*U},H,X)},x.scaleTo=function(L,q,H,X){x.transform(L,function(){var W=e.apply(this,arguments),U=this.__zoom,Q=H==null?C(W):typeof H=="function"?H.apply(this,arguments):H,Y=U.invert(Q),te=typeof q=="function"?q.apply(this,arguments):q;return t(S(_(U,te),Q,Y),W,o)},H,X)},x.translateBy=function(L,q,H,X){x.transform(L,function(){return t(this.__zoom.translate(typeof q=="function"?q.apply(this,arguments):q,typeof H=="function"?H.apply(this,arguments):H),e.apply(this,arguments),o)},null,X)},x.translateTo=function(L,q,H,X,W){x.transform(L,function(){var U=e.apply(this,arguments),Q=this.__zoom,Y=X==null?C(U):typeof X=="function"?X.apply(this,arguments):X;return t(Z0.translate(Y[0],Y[1]).scale(Q.k).translate(typeof q=="function"?-q.apply(this,arguments):-q,typeof H=="function"?-H.apply(this,arguments):-H),U,o)},X,W)};function _(L,q){return q=Math.max(s[0],Math.min(s[1],q)),q===L.k?L:new vo(q,L.x,L.y)}function S(L,q,H){var X=q[0]-H[0]*L.k,W=q[1]-H[1]*L.k;return X===L.x&&W===L.y?L:new vo(L.k,X,W)}function C(L){return[(+L[0][0]+ +L[1][0])/2,(+L[0][1]+ +L[1][1])/2]}function k(L,q,H,X){L.on("start.zoom",function(){I(this,arguments).event(X).start()}).on("interrupt.zoom end.zoom",function(){I(this,arguments).event(X).end()}).tween("zoom",function(){var W=this,U=arguments,Q=I(W,U).event(X),Y=e.apply(W,U),te=H==null?C(Y):typeof H=="function"?H.apply(W,U):H,K=Math.max(Y[1][0]-Y[0][0],Y[1][1]-Y[0][1]),ee=W.__zoom,J=typeof q=="function"?q.apply(W,U):q,ie=u(ee.invert(te).concat(K/ee.k),J.invert(te).concat(K/J.k));return function(ne){if(ne===1)ne=J;else{var oe=ie(ne),ue=K/oe[2];ne=new vo(ue,te[0]-oe[0]*ue,te[1]-oe[1]*ue)}Q.zoom(null,ne)}})}function I(L,q,H){return!H&&L.__zooming||new P(L,q)}function P(L,q){this.that=L,this.args=q,this.active=0,this.sourceEvent=null,this.extent=e.apply(L,q),this.taps=0}P.prototype={event:function(L){return L&&(this.sourceEvent=L),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(L,q){return this.mouse&&L!=="mouse"&&(this.mouse[1]=q.invert(this.mouse[0])),this.touch0&&L!=="touch"&&(this.touch0[1]=q.invert(this.touch0[0])),this.touch1&&L!=="touch"&&(this.touch1[1]=q.invert(this.touch1[0])),this.that.__zoom=q,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(L){var q=Ur(this.that).datum();d.call(L,this.that,new O5(L,{sourceEvent:this.sourceEvent,target:x,transform:this.that.__zoom,dispatch:d}),q)}};function M(L,...q){if(!n.apply(this,arguments))return;var H=I(this,q).event(L),X=this.__zoom,W=Math.max(s[0],Math.min(s[1],X.k*Math.pow(2,r.apply(this,arguments)))),U=Li(L);if(H.wheel)(H.mouse[0][0]!==U[0]||H.mouse[0][1]!==U[1])&&(H.mouse[1]=X.invert(H.mouse[0]=U)),clearTimeout(H.wheel);else{if(X.k===W)return;H.mouse=[U,X.invert(U)],Cy(this),H.start()}Ah(L),H.wheel=setTimeout(Q,v),H.zoom("mouse",t(S(_(X,W),H.mouse[0],H.mouse[1]),H.extent,o));function Q(){H.wheel=null,H.end()}}function N(L,...q){if(g||!n.apply(this,arguments))return;var H=L.currentTarget,X=I(this,q,!0).event(L),W=Ur(L.view).on("mousemove.zoom",te,!0).on("mouseup.zoom",K,!0),U=Li(L,H),Q=L.clientX,Y=L.clientY;_M(L.view),zw(L),X.mouse=[U,this.__zoom.invert(U)],Cy(this),X.start();function te(ee){if(Ah(ee),!X.moved){var J=ee.clientX-Q,ie=ee.clientY-Y;X.moved=J*J+ie*ie>w}X.event(ee).zoom("mouse",t(S(X.that.__zoom,X.mouse[0]=Li(ee,H),X.mouse[1]),X.extent,o))}function K(ee){W.on("mousemove.zoom mouseup.zoom",null),AM(ee.view,X.moved),Ah(ee),X.event(ee).end()}}function R(L,...q){if(n.apply(this,arguments)){var H=this.__zoom,X=Li(L.changedTouches?L.changedTouches[0]:L,this),W=H.invert(X),U=H.k*(L.shiftKey?.5:2),Q=t(S(_(H,U),X,W),e.apply(this,q),o);Ah(L),l>0?Ur(this).transition().duration(l).call(k,Q,X,L):Ur(this).call(x.transform,Q,X,L)}}function D(L,...q){if(n.apply(this,arguments)){var H=L.touches,X=H.length,W=I(this,q,L.changedTouches.length===X).event(L),U,Q,Y,te;for(zw(L),Q=0;Q<X;++Q)Y=H[Q],te=Li(Y,this),te=[te,this.__zoom.invert(te),Y.identifier],W.touch0?!W.touch1&&W.touch0[2]!==te[2]&&(W.touch1=te,W.taps=0):(W.touch0=te,U=!0,W.taps=1+!!h);h&&(h=clearTimeout(h)),U&&(W.taps<2&&(f=te[0],h=setTimeout(function(){h=null},y)),Cy(this),W.start())}}function $(L,...q){if(this.__zooming){var H=I(this,q).event(L),X=L.changedTouches,W=X.length,U,Q,Y,te;for(Ah(L),U=0;U<W;++U)Q=X[U],Y=Li(Q,this),H.touch0&&H.touch0[2]===Q.identifier?H.touch0[0]=Y:H.touch1&&H.touch1[2]===Q.identifier&&(H.touch1[0]=Y);if(Q=H.that.__zoom,H.touch1){var K=H.touch0[0],ee=H.touch0[1],J=H.touch1[0],ie=H.touch1[1],ne=(ne=J[0]-K[0])*ne+(ne=J[1]-K[1])*ne,oe=(oe=ie[0]-ee[0])*oe+(oe=ie[1]-ee[1])*oe;Q=_(Q,Math.sqrt(ne/oe)),Y=[(K[0]+J[0])/2,(K[1]+J[1])/2],te=[(ee[0]+ie[0])/2,(ee[1]+ie[1])/2]}else if(H.touch0)Y=H.touch0[0],te=H.touch0[1];else return;H.zoom("touch",t(S(Q,Y,te),H.extent,o))}}function G(L,...q){if(this.__zooming){var H=I(this,q).event(L),X=L.changedTouches,W=X.length,U,Q;for(zw(L),g&&clearTimeout(g),g=setTimeout(function(){g=null},y),U=0;U<W;++U)Q=X[U],H.touch0&&H.touch0[2]===Q.identifier?delete H.touch0:H.touch1&&H.touch1[2]===Q.identifier&&delete H.touch1;if(H.touch1&&!H.touch0&&(H.touch0=H.touch1,delete H.touch1),H.touch0)H.touch0[1]=this.__zoom.invert(H.touch0[0]);else if(H.end(),H.taps===2&&(Q=Li(Q,this),Math.hypot(f[0]-Q[0],f[1]-Q[1])<E)){var Y=Ur(this).on("dblclick.zoom");Y&&Y.apply(this,arguments)}}}return x.wheelDelta=function(L){return arguments.length?(r=typeof L=="function"?L:ey(+L),x):r},x.filter=function(L){return arguments.length?(n=typeof L=="function"?L:ey(!!L),x):n},x.touchable=function(L){return arguments.length?(i=typeof L=="function"?L:ey(!!L),x):i},x.extent=function(L){return arguments.length?(e=typeof L=="function"?L:ey([[+L[0][0],+L[0][1]],[+L[1][0],+L[1][1]]]),x):e},x.scaleExtent=function(L){return arguments.length?(s[0]=+L[0],s[1]=+L[1],x):[s[0],s[1]]},x.translateExtent=function(L){return arguments.length?(o[0][0]=+L[0][0],o[1][0]=+L[1][0],o[0][1]=+L[0][1],o[1][1]=+L[1][1],x):[[o[0][0],o[0][1]],[o[1][0],o[1][1]]]},x.constrain=function(L){return arguments.length?(t=L,x):t},x.duration=function(L){return arguments.length?(l=+L,x):l},x.interpolate=function(L){return arguments.length?(u=L,x):u},x.on=function(){var L=d.on.apply(d,arguments);return L===d?x:L},x.clickDistance=function(L){return arguments.length?(w=(L=+L)*L,x):Math.sqrt(w)},x.tapDistance=function(L){return arguments.length?(E=+L,x):E},x}const Cs={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:n=>`Node type "${n}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:n=>`The old edge with id=${n} does not exist.`,error009:n=>`Marker type "${n}" doesn't exist.`,error008:(n,{id:e,sourceHandle:t,targetHandle:r})=>`Couldn't create edge for ${n} handle id: "${n==="source"?t:r}", edge id: ${e}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:n=>`Edge type "${n}" not found. Using fallback type "default".`,error012:n=>`Node with id "${n}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`,error013:(n="react")=>`It seems that you haven't loaded the styles. Please import '@xyflow/${n}/dist/style.css' or base.css to make sure everything is working properly.`,error014:()=>"useNodeConnections: No node ID found. Call useNodeConnections inside a custom Node or provide a node ID.",error015:()=>"It seems that you are trying to drag a node that is not initialized. Please use onNodesChange as explained in the docs."},Sf=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],WM=["Enter"," ","Escape"];var kd;(function(n){n.Strict="strict",n.Loose="loose"})(kd||(kd={}));var mc;(function(n){n.Free="free",n.Vertical="vertical",n.Horizontal="horizontal"})(mc||(mc={}));var Ef;(function(n){n.Partial="partial",n.Full="full"})(Ef||(Ef={}));const UM={inProgress:!1,isValid:null,from:null,fromHandle:null,fromPosition:null,fromNode:null,to:null,toHandle:null,toPosition:null,toNode:null};var da;(function(n){n.Bezier="default",n.Straight="straight",n.Step="step",n.SmoothStep="smoothstep",n.SimpleBezier="simplebezier"})(da||(da={}));var Rd;(function(n){n.Arrow="arrow",n.ArrowClosed="arrowclosed"})(Rd||(Rd={}));var Ne;(function(n){n.Left="left",n.Top="top",n.Right="right",n.Bottom="bottom"})(Ne||(Ne={}));const xk={[Ne.Left]:Ne.Right,[Ne.Right]:Ne.Left,[Ne.Top]:Ne.Bottom,[Ne.Bottom]:Ne.Top};function VM(n){return n===null?null:n?"valid":"invalid"}const GM=n=>"id"in n&&"source"in n&&"target"in n,j5=n=>"id"in n&&"position"in n&&!("source"in n)&&!("target"in n),E1=n=>"id"in n&&"internals"in n&&!("source"in n)&&!("target"in n),mg=(n,e=[0,0])=>{const{width:t,height:r}=Po(n),i=n.origin??e,s=t*i[0],o=r*i[1];return{x:n.position.x-s,y:n.position.y-o}},H5=(n,e={nodeOrigin:[0,0],nodeLookup:void 0})=>{if(n.length===0)return{x:0,y:0,width:0,height:0};const t=n.reduce((r,i)=>{const s=typeof i=="string";let o=!e.nodeLookup&&!s?i:void 0;e.nodeLookup&&(o=s?e.nodeLookup.get(i):E1(i)?i:e.nodeLookup.get(i.id));const l=o?l0(o,e.nodeOrigin):{x:0,y:0,x2:0,y2:0};return J0(r,l)},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return ev(t)},yg=(n,e={})=>{if(n.size===0)return{x:0,y:0,width:0,height:0};let t={x:1/0,y:1/0,x2:-1/0,y2:-1/0};return n.forEach(r=>{if(e.filter===void 0||e.filter(r)){const i=l0(r);t=J0(t,i)}}),ev(t)},qM=(n,e,[t,r,i]=[0,0,1],s=!1,o=!1)=>{const l={...vg(e,[t,r,i]),width:e.width/i,height:e.height/i},u=[];for(const d of n.values()){const{measured:h,selectable:f=!0,hidden:g=!1}=d;if(o&&!f||g)continue;const y=h.width??d.width??d.initialWidth??null,v=h.height??d.height??d.initialHeight??null,w=Cf(l,Pd(d)),E=(y??0)*(v??0),x=s&&w>0;(!d.internals.handleBounds||x||w>=E||d.dragging)&&u.push(d)}return u},W5=(n,e)=>{const t=new Set;return n.forEach(r=>{t.add(r.id)}),e.filter(r=>t.has(r.source)||t.has(r.target))};function ES(n,e){const t=new Map,r=e!=null&&e.nodes?new Set(e.nodes.map(i=>i.id)):null;return n.forEach(i=>{i.measured.width&&i.measured.height&&((e==null?void 0:e.includeHiddenNodes)||!i.hidden)&&(!r||r.has(i.id))&&t.set(i.id,i)}),t}async function CS({nodes:n,width:e,height:t,panZoom:r,minZoom:i,maxZoom:s},o){if(n.size===0)return Promise.resolve(!1);const l=yg(n),u=C1(l,e,t,(o==null?void 0:o.minZoom)??i,(o==null?void 0:o.maxZoom)??s,(o==null?void 0:o.padding)??.1);return await r.setViewport(u,{duration:o==null?void 0:o.duration}),Promise.resolve(!0)}function YM({nodeId:n,nextPosition:e,nodeLookup:t,nodeOrigin:r=[0,0],nodeExtent:i,onError:s}){const o=t.get(n),l=o.parentId?t.get(o.parentId):void 0,{x:u,y:d}=l?l.internals.positionAbsolute:{x:0,y:0},h=o.origin??r;let f=i;if(o.extent==="parent"&&!o.expandParent)if(!l)s==null||s("005",Cs.error005());else{const y=l.measured.width,v=l.measured.height;y&&v&&(f=[[u,d],[u+y,d+v]])}else l&&Md(o.extent)&&(f=[[o.extent[0][0]+u,o.extent[0][1]+d],[o.extent[1][0]+u,o.extent[1][1]+d]]);const g=Md(f)?vc(e,f,o.measured):e;return(o.measured.width===void 0||o.measured.height===void 0)&&(s==null||s("015",Cs.error015())),{position:{x:g.x-u+(o.measured.width??0)*h[0],y:g.y-d+(o.measured.height??0)*h[1]},positionAbsolute:g}}async function U5({nodesToRemove:n=[],edgesToRemove:e=[],nodes:t,edges:r,onBeforeDelete:i}){const s=new Set(n.map(g=>g.id)),o=[];for(const g of t){if(g.deletable===!1)continue;const y=s.has(g.id),v=!y&&g.parentId&&o.find(w=>w.id===g.parentId);(y||v)&&o.push(g)}const l=new Set(e.map(g=>g.id)),u=r.filter(g=>g.deletable!==!1),h=W5(o,u);for(const g of u)l.has(g.id)&&!h.find(v=>v.id===g.id)&&h.push(g);if(!i)return{edges:h,nodes:o};const f=await i({nodes:o,edges:h});return typeof f=="boolean"?f?{edges:h,nodes:o}:{edges:[],nodes:[]}:f}const Td=(n,e=0,t=1)=>Math.min(Math.max(n,e),t),vc=(n={x:0,y:0},e,t)=>({x:Td(n.x,e[0][0],e[1][0]-((t==null?void 0:t.width)??0)),y:Td(n.y,e[0][1],e[1][1]-((t==null?void 0:t.height)??0))});function XM(n,e,t){const{width:r,height:i}=Po(t),{x:s,y:o}=t.internals.positionAbsolute;return vc(n,[[s,o],[s+r,o+i]],e)}const Sk=(n,e,t)=>n<e?Td(Math.abs(n-e),1,e)/e:n>t?-Td(Math.abs(n-t),1,e)/e:0,KM=(n,e,t=15,r=40)=>{const i=Sk(n.x,r,e.width-r)*t,s=Sk(n.y,r,e.height-r)*t;return[i,s]},J0=(n,e)=>({x:Math.min(n.x,e.x),y:Math.min(n.y,e.y),x2:Math.max(n.x2,e.x2),y2:Math.max(n.y2,e.y2)}),_S=({x:n,y:e,width:t,height:r})=>({x:n,y:e,x2:n+t,y2:e+r}),ev=({x:n,y:e,x2:t,y2:r})=>({x:n,y:e,width:t-n,height:r-e}),Pd=(n,e=[0,0])=>{var i,s;const{x:t,y:r}=E1(n)?n.internals.positionAbsolute:mg(n,e);return{x:t,y:r,width:((i=n.measured)==null?void 0:i.width)??n.width??n.initialWidth??0,height:((s=n.measured)==null?void 0:s.height)??n.height??n.initialHeight??0}},l0=(n,e=[0,0])=>{var i,s;const{x:t,y:r}=E1(n)?n.internals.positionAbsolute:mg(n,e);return{x:t,y:r,x2:t+(((i=n.measured)==null?void 0:i.width)??n.width??n.initialWidth??0),y2:r+(((s=n.measured)==null?void 0:s.height)??n.height??n.initialHeight??0)}},QM=(n,e)=>ev(J0(_S(n),_S(e))),Cf=(n,e)=>{const t=Math.max(0,Math.min(n.x+n.width,e.x+e.width)-Math.max(n.x,e.x)),r=Math.max(0,Math.min(n.y+n.height,e.y+e.height)-Math.max(n.y,e.y));return Math.ceil(t*r)},Ek=n=>Di(n.width)&&Di(n.height)&&Di(n.x)&&Di(n.y),Di=n=>!isNaN(n)&&isFinite(n),V5=(n,e)=>{},tv=(n,e=[1,1])=>({x:e[0]*Math.round(n.x/e[0]),y:e[1]*Math.round(n.y/e[1])}),vg=({x:n,y:e},[t,r,i],s=!1,o=[1,1])=>{const l={x:(n-t)/i,y:(e-r)/i};return s?tv(l,o):l},ZM=({x:n,y:e},[t,r,i])=>({x:n*i+t,y:e*i+r}),C1=(n,e,t,r,i,s)=>{const o=e/(n.width*(1+s)),l=t/(n.height*(1+s)),u=Math.min(o,l),d=Td(u,r,i),h=n.x+n.width/2,f=n.y+n.height/2,g=e/2-h*d,y=t/2-f*d;return{x:g,y,zoom:d}},c0=()=>{var n;return typeof navigator<"u"&&((n=navigator==null?void 0:navigator.userAgent)==null?void 0:n.indexOf("Mac"))>=0};function Md(n){return n!==void 0&&n!=="parent"}function Po(n){var e,t;return{width:((e=n.measured)==null?void 0:e.width)??n.width??n.initialWidth??0,height:((t=n.measured)==null?void 0:t.height)??n.height??n.initialHeight??0}}function JM(n){var e,t;return(((e=n.measured)==null?void 0:e.width)??n.width??n.initialWidth)!==void 0&&(((t=n.measured)==null?void 0:t.height)??n.height??n.initialHeight)!==void 0}function eI(n,e={width:0,height:0},t,r,i){const s={...n},o=r.get(t);if(o){const l=o.origin||i;s.x+=o.internals.positionAbsolute.x-(e.width??0)*l[0],s.y+=o.internals.positionAbsolute.y-(e.height??0)*l[1]}return s}function Ck(n,e){if(n.size!==e.size)return!1;for(const t of n)if(!e.has(t))return!1;return!0}function af(n,{snapGrid:e=[0,0],snapToGrid:t=!1,transform:r,containerBounds:i}){const{x:s,y:o}=bo(n),l=vg({x:s-((i==null?void 0:i.left)??0),y:o-((i==null?void 0:i.top)??0)},r),{x:u,y:d}=t?tv(l,e):l;return{xSnapped:u,ySnapped:d,...l}}const nv=n=>({width:n.offsetWidth,height:n.offsetHeight}),tI=n=>{var e;return((e=n==null?void 0:n.getRootNode)==null?void 0:e.call(n))||(window==null?void 0:window.document)},G5=["INPUT","SELECT","TEXTAREA"];function AS(n){var r,i;const e=((i=(r=n.composedPath)==null?void 0:r.call(n))==null?void 0:i[0])||n.target;return(e==null?void 0:e.nodeType)!==1?!1:G5.includes(e.nodeName)||e.hasAttribute("contenteditable")||!!e.closest(".nokey")}const nI=n=>"clientX"in n,bo=(n,e)=>{var s,o;const t=nI(n),r=t?n.clientX:(s=n.touches)==null?void 0:s[0].clientX,i=t?n.clientY:(o=n.touches)==null?void 0:o[0].clientY;return{x:r-((e==null?void 0:e.left)??0),y:i-((e==null?void 0:e.top)??0)}},_k=(n,e,t,r,i)=>{const s=e.querySelectorAll(`.${n}`);return!s||!s.length?null:Array.from(s).map(o=>{const l=o.getBoundingClientRect();return{id:o.getAttribute("data-handleid"),type:n,nodeId:i,position:o.getAttribute("data-handlepos"),x:(l.left-t.left)/r,y:(l.top-t.top)/r,...nv(o)}})};function rI({sourceX:n,sourceY:e,targetX:t,targetY:r,sourceControlX:i,sourceControlY:s,targetControlX:o,targetControlY:l}){const u=n*.125+i*.375+o*.375+t*.125,d=e*.125+s*.375+l*.375+r*.125,h=Math.abs(u-n),f=Math.abs(d-e);return[u,d,h,f]}function ty(n,e){return n>=0?.5*n:e*25*Math.sqrt(-n)}function Ak({pos:n,x1:e,y1:t,x2:r,y2:i,c:s}){switch(n){case Ne.Left:return[e-ty(e-r,s),t];case Ne.Right:return[e+ty(r-e,s),t];case Ne.Top:return[e,t-ty(t-i,s)];case Ne.Bottom:return[e,t+ty(i-t,s)]}}function rv({sourceX:n,sourceY:e,sourcePosition:t=Ne.Bottom,targetX:r,targetY:i,targetPosition:s=Ne.Top,curvature:o=.25}){const[l,u]=Ak({pos:t,x1:n,y1:e,x2:r,y2:i,c:o}),[d,h]=Ak({pos:s,x1:r,y1:i,x2:n,y2:e,c:o}),[f,g,y,v]=rI({sourceX:n,sourceY:e,targetX:r,targetY:i,sourceControlX:l,sourceControlY:u,targetControlX:d,targetControlY:h});return[`M${n},${e} C${l},${u} ${d},${h} ${r},${i}`,f,g,y,v]}function iI({sourceX:n,sourceY:e,targetX:t,targetY:r}){const i=Math.abs(t-n)/2,s=t<n?t+i:t-i,o=Math.abs(r-e)/2,l=r<e?r+o:r-o;return[s,l,i,o]}function q5({sourceNode:n,targetNode:e,selected:t=!1,zIndex:r=0,elevateOnSelect:i=!1}){if(!i)return r;const s=t||e.selected||n.selected,o=Math.max(n.internals.z||0,e.internals.z||0,1e3);return r+(s?o:0)}function Y5({sourceNode:n,targetNode:e,width:t,height:r,transform:i}){const s=J0(l0(n),l0(e));s.x===s.x2&&(s.x2+=1),s.y===s.y2&&(s.y2+=1);const o={x:-i[0]/i[2],y:-i[1]/i[2],width:t/i[2],height:r/i[2]};return Cf(o,ev(s))>0}const X5=({source:n,sourceHandle:e,target:t,targetHandle:r})=>`xy-edge__${n}${e||""}-${t}${r||""}`,K5=(n,e)=>e.some(t=>t.source===n.source&&t.target===n.target&&(t.sourceHandle===n.sourceHandle||!t.sourceHandle&&!n.sourceHandle)&&(t.targetHandle===n.targetHandle||!t.targetHandle&&!n.targetHandle)),sI=(n,e)=>{if(!n.source||!n.target)return e;let t;return GM(n)?t={...n}:t={...n,id:X5(n)},K5(t,e)?e:(t.sourceHandle===null&&delete t.sourceHandle,t.targetHandle===null&&delete t.targetHandle,e.concat(t))};function oI({sourceX:n,sourceY:e,targetX:t,targetY:r}){const[i,s,o,l]=iI({sourceX:n,sourceY:e,targetX:t,targetY:r});return[`M ${n},${e}L ${t},${r}`,i,s,o,l]}const kk={[Ne.Left]:{x:-1,y:0},[Ne.Right]:{x:1,y:0},[Ne.Top]:{x:0,y:-1},[Ne.Bottom]:{x:0,y:1}},Q5=({source:n,sourcePosition:e=Ne.Bottom,target:t})=>e===Ne.Left||e===Ne.Right?n.x<t.x?{x:1,y:0}:{x:-1,y:0}:n.y<t.y?{x:0,y:1}:{x:0,y:-1},Rk=(n,e)=>Math.sqrt(Math.pow(e.x-n.x,2)+Math.pow(e.y-n.y,2));function Z5({source:n,sourcePosition:e=Ne.Bottom,target:t,targetPosition:r=Ne.Top,center:i,offset:s}){const o=kk[e],l=kk[r],u={x:n.x+o.x*s,y:n.y+o.y*s},d={x:t.x+l.x*s,y:t.y+l.y*s},h=Q5({source:u,sourcePosition:e,target:d}),f=h.x!==0?"x":"y",g=h[f];let y=[],v,w;const E={x:0,y:0},x={x:0,y:0},[_,S,C,k]=iI({sourceX:n.x,sourceY:n.y,targetX:t.x,targetY:t.y});if(o[f]*l[f]===-1){v=i.x??_,w=i.y??S;const P=[{x:v,y:u.y},{x:v,y:d.y}],M=[{x:u.x,y:w},{x:d.x,y:w}];o[f]===g?y=f==="x"?P:M:y=f==="x"?M:P}else{const P=[{x:u.x,y:d.y}],M=[{x:d.x,y:u.y}];if(f==="x"?y=o.x===g?M:P:y=o.y===g?P:M,e===r){const G=Math.abs(n[f]-t[f]);if(G<=s){const L=Math.min(s-1,s-G);o[f]===g?E[f]=(u[f]>n[f]?-1:1)*L:x[f]=(d[f]>t[f]?-1:1)*L}}if(e!==r){const G=f==="x"?"y":"x",L=o[f]===l[G],q=u[G]>d[G],H=u[G]<d[G];(o[f]===1&&(!L&&q||L&&H)||o[f]!==1&&(!L&&H||L&&q))&&(y=f==="x"?P:M)}const N={x:u.x+E.x,y:u.y+E.y},R={x:d.x+x.x,y:d.y+x.y},D=Math.max(Math.abs(N.x-y[0].x),Math.abs(R.x-y[0].x)),$=Math.max(Math.abs(N.y-y[0].y),Math.abs(R.y-y[0].y));D>=$?(v=(N.x+R.x)/2,w=y[0].y):(v=y[0].x,w=(N.y+R.y)/2)}return[[n,{x:u.x+E.x,y:u.y+E.y},...y,{x:d.x+x.x,y:d.y+x.y},t],v,w,C,k]}function J5(n,e,t,r){const i=Math.min(Rk(n,e)/2,Rk(e,t)/2,r),{x:s,y:o}=e;if(n.x===s&&s===t.x||n.y===o&&o===t.y)return`L${s} ${o}`;if(n.y===o){const d=n.x<t.x?-1:1,h=n.y<t.y?1:-1;return`L ${s+i*d},${o}Q ${s},${o} ${s},${o+i*h}`}const l=n.x<t.x?1:-1,u=n.y<t.y?-1:1;return`L ${s},${o+i*u}Q ${s},${o} ${s+i*l},${o}`}function kS({sourceX:n,sourceY:e,sourcePosition:t=Ne.Bottom,targetX:r,targetY:i,targetPosition:s=Ne.Top,borderRadius:o=5,centerX:l,centerY:u,offset:d=20}){const[h,f,g,y,v]=Z5({source:{x:n,y:e},sourcePosition:t,target:{x:r,y:i},targetPosition:s,center:{x:l,y:u},offset:d});return[h.reduce((E,x,_)=>{let S="";return _>0&&_<h.length-1?S=J5(h[_-1],x,h[_+1],o):S=`${_===0?"M":"L"}${x.x} ${x.y}`,E+=S,E},""),f,g,y,v]}function Tk(n){var e;return n&&!!(n.internals.handleBounds||(e=n.handles)!=null&&e.length)&&!!(n.measured.width||n.width||n.initialWidth)}function eB(n){var f;const{sourceNode:e,targetNode:t}=n;if(!Tk(e)||!Tk(t))return null;const r=e.internals.handleBounds||Pk(e.handles),i=t.internals.handleBounds||Pk(t.handles),s=Mk((r==null?void 0:r.source)??[],n.sourceHandle),o=Mk(n.connectionMode===kd.Strict?(i==null?void 0:i.target)??[]:((i==null?void 0:i.target)??[]).concat((i==null?void 0:i.source)??[]),n.targetHandle);if(!s||!o)return(f=n.onError)==null||f.call(n,"008",Cs.error008(s?"target":"source",{id:n.id,sourceHandle:n.sourceHandle,targetHandle:n.targetHandle})),null;const l=(s==null?void 0:s.position)||Ne.Bottom,u=(o==null?void 0:o.position)||Ne.Top,d=_f(e,s,l),h=_f(t,o,u);return{sourceX:d.x,sourceY:d.y,targetX:h.x,targetY:h.y,sourcePosition:l,targetPosition:u}}function Pk(n){if(!n)return null;const e=[],t=[];for(const r of n)r.width=r.width??1,r.height=r.height??1,r.type==="source"?e.push(r):r.type==="target"&&t.push(r);return{source:e,target:t}}function _f(n,e,t=Ne.Left,r=!1){const i=((e==null?void 0:e.x)??0)+n.internals.positionAbsolute.x,s=((e==null?void 0:e.y)??0)+n.internals.positionAbsolute.y,{width:o,height:l}=e??Po(n);if(r)return{x:i+o/2,y:s+l/2};switch((e==null?void 0:e.position)??t){case Ne.Top:return{x:i+o/2,y:s};case Ne.Right:return{x:i+o,y:s+l/2};case Ne.Bottom:return{x:i+o/2,y:s+l};case Ne.Left:return{x:i,y:s+l/2}}}function Mk(n,e){return n&&(e?n.find(t=>t.id===e):n[0])||null}function RS(n,e){return n?typeof n=="string"?n:`${e?`${e}__`:""}${Object.keys(n).sort().map(r=>`${r}=${n[r]}`).join("&")}`:""}function tB(n,{id:e,defaultColor:t,defaultMarkerStart:r,defaultMarkerEnd:i}){const s=new Set;return n.reduce((o,l)=>([l.markerStart||r,l.markerEnd||i].forEach(u=>{if(u&&typeof u=="object"){const d=RS(u,e);s.has(d)||(o.push({id:d,color:u.color||t,...u}),s.add(d))}}),o),[]).sort((o,l)=>o.id.localeCompare(l.id))}const _1={nodeOrigin:[0,0],nodeExtent:Sf,elevateNodesOnSelect:!0,defaults:{}},nB={..._1,checkEquality:!0};function A1(n,e){const t={...n};for(const r in e)e[r]!==void 0&&(t[r]=e[r]);return t}function rB(n,e,t){const r=A1(_1,t);for(const i of n.values())if(i.parentId)k1(i,n,e,r);else{const s=mg(i,r.nodeOrigin),o=Md(i.extent)?i.extent:r.nodeExtent,l=vc(s,o,Po(i));i.internals.positionAbsolute=l}}function TS(n,e,t,r){var l,u;const i=A1(nB,r),s=new Map(e),o=i!=null&&i.elevateNodesOnSelect?1e3:0;e.clear(),t.clear();for(const d of n){let h=s.get(d.id);if(i.checkEquality&&d===(h==null?void 0:h.internals.userNode))e.set(d.id,h);else{const f=mg(d,i.nodeOrigin),g=Md(d.extent)?d.extent:i.nodeExtent,y=vc(f,g,Po(d));h={...i.defaults,...d,measured:{width:(l=d.measured)==null?void 0:l.width,height:(u=d.measured)==null?void 0:u.height},internals:{positionAbsolute:y,handleBounds:d.measured?h==null?void 0:h.internals.handleBounds:void 0,z:aI(d,o),userNode:d}},e.set(d.id,h)}d.parentId&&k1(h,e,t,r)}}function iB(n,e){if(!n.parentId)return;const t=e.get(n.parentId);t?t.set(n.id,n):e.set(n.parentId,new Map([[n.id,n]]))}function k1(n,e,t,r){const{elevateNodesOnSelect:i,nodeOrigin:s,nodeExtent:o}=A1(_1,r),l=n.parentId,u=e.get(l);if(!u){console.warn(`Parent node ${l} not found. Please make sure that parent nodes are in front of their child nodes in the nodes array.`);return}iB(n,t);const d=i?1e3:0,{x:h,y:f,z:g}=sB(n,u,s,o,d),{positionAbsolute:y}=n.internals,v=h!==y.x||f!==y.y;(v||g!==n.internals.z)&&e.set(n.id,{...n,internals:{...n.internals,positionAbsolute:v?{x:h,y:f}:y,z:g}})}function aI(n,e){return(Di(n.zIndex)?n.zIndex:0)+(n.selected?e:0)}function sB(n,e,t,r,i){const{x:s,y:o}=e.internals.positionAbsolute,l=Po(n),u=mg(n,t),d=Md(n.extent)?vc(u,n.extent,l):u;let h=vc({x:s+d.x,y:o+d.y},r,l);n.extent==="parent"&&(h=XM(h,l,e));const f=aI(n,i),g=e.internals.z??0;return{x:h.x,y:h.y,z:g>f?g:f}}function R1(n,e,t,r=[0,0]){var o;const i=[],s=new Map;for(const l of n){const u=e.get(l.parentId);if(!u)continue;const d=((o=s.get(l.parentId))==null?void 0:o.expandedRect)??Pd(u),h=QM(d,l.rect);s.set(l.parentId,{expandedRect:h,parent:u})}return s.size>0&&s.forEach(({expandedRect:l,parent:u},d)=>{var S;const h=u.internals.positionAbsolute,f=Po(u),g=u.origin??r,y=l.x<h.x?Math.round(Math.abs(h.x-l.x)):0,v=l.y<h.y?Math.round(Math.abs(h.y-l.y)):0,w=Math.max(f.width,Math.round(l.width)),E=Math.max(f.height,Math.round(l.height)),x=(w-f.width)*g[0],_=(E-f.height)*g[1];(y>0||v>0||x||_)&&(i.push({id:d,type:"position",position:{x:u.position.x-y+x,y:u.position.y-v+_}}),(S=t.get(d))==null||S.forEach(C=>{n.some(k=>k.id===C.id)||i.push({id:C.id,type:"position",position:{x:C.position.x+y,y:C.position.y+v}})})),(f.width<l.width||f.height<l.height||y||v)&&i.push({id:d,type:"dimensions",setAttributes:!0,dimensions:{width:w+(y?g[0]*y-x:0),height:E+(v?g[1]*v-_:0)}})}),i}function oB(n,e,t,r,i,s){const o=r==null?void 0:r.querySelector(".xyflow__viewport");let l=!1;if(!o)return{changes:[],updatedInternals:l};const u=[],d=window.getComputedStyle(o),{m22:h}=new window.DOMMatrixReadOnly(d.transform),f=[];for(const g of n.values()){const y=e.get(g.id);if(!y)continue;if(y.hidden){e.set(y.id,{...y,internals:{...y.internals,handleBounds:void 0}}),l=!0;continue}const v=nv(g.nodeElement),w=y.measured.width!==v.width||y.measured.height!==v.height;if(!!(v.width&&v.height&&(w||!y.internals.handleBounds||g.force))){const x=g.nodeElement.getBoundingClientRect(),_=Md(y.extent)?y.extent:s;let{positionAbsolute:S}=y.internals;y.parentId&&y.extent==="parent"?S=XM(S,v,e.get(y.parentId)):_&&(S=vc(S,_,v));const C={...y,measured:v,internals:{...y.internals,positionAbsolute:S,handleBounds:{source:_k("source",g.nodeElement,x,h,y.id),target:_k("target",g.nodeElement,x,h,y.id)}}};e.set(y.id,C),y.parentId&&k1(C,e,t,{nodeOrigin:i}),l=!0,w&&(u.push({id:y.id,type:"dimensions",dimensions:v}),y.expandParent&&y.parentId&&f.push({id:y.id,parentId:y.parentId,rect:Pd(C,i)}))}}if(f.length>0){const g=R1(f,e,t,i);u.push(...g)}return{changes:u,updatedInternals:l}}async function aB({delta:n,panZoom:e,transform:t,translateExtent:r,width:i,height:s}){if(!e||!n.x&&!n.y)return Promise.resolve(!1);const o=await e.setViewportConstrained({x:t[0]+n.x,y:t[1]+n.y,zoom:t[2]},[[0,0],[i,s]],r),l=!!o&&(o.x!==t[0]||o.y!==t[1]||o.k!==t[2]);return Promise.resolve(l)}function Ik(n,e,t,r,i,s){let o=i;const l=r.get(o)||new Map;r.set(o,l.set(t,e)),o=`${i}-${n}`;const u=r.get(o)||new Map;if(r.set(o,u.set(t,e)),s){o=`${i}-${n}-${s}`;const d=r.get(o)||new Map;r.set(o,d.set(t,e))}}function lI(n,e,t){n.clear(),e.clear();for(const r of t){const{source:i,target:s,sourceHandle:o=null,targetHandle:l=null}=r,u={edgeId:r.id,source:i,target:s,sourceHandle:o,targetHandle:l},d=`${i}-${o}--${s}-${l}`,h=`${s}-${l}--${i}-${o}`;Ik("source",u,h,n,i,o),Ik("target",u,d,n,s,l),e.set(r.id,r)}}function cI(n,e){if(!n.parentId)return!1;const t=e.get(n.parentId);return t?t.selected?!0:cI(t,e):!1}function Nk(n,e,t){var i;let r=n;do{if((i=r==null?void 0:r.matches)!=null&&i.call(r,e))return!0;if(r===t)return!1;r=r==null?void 0:r.parentElement}while(r);return!1}function lB(n,e,t,r){const i=new Map;for(const[s,o]of n)if((o.selected||o.id===r)&&(!o.parentId||!cI(o,n))&&(o.draggable||e&&typeof o.draggable>"u")){const l=n.get(s);l&&i.set(s,{id:s,position:l.position||{x:0,y:0},distance:{x:t.x-l.internals.positionAbsolute.x,y:t.y-l.internals.positionAbsolute.y},extent:l.extent,parentId:l.parentId,origin:l.origin,expandParent:l.expandParent,internals:{positionAbsolute:l.internals.positionAbsolute||{x:0,y:0}},measured:{width:l.measured.width??0,height:l.measured.height??0}})}return i}function $w({nodeId:n,dragItems:e,nodeLookup:t,dragging:r=!0}){var o,l,u;const i=[];for(const[d,h]of e){const f=(o=t.get(d))==null?void 0:o.internals.userNode;f&&i.push({...f,position:h.position,dragging:r})}if(!n)return[i[0],i];const s=(l=t.get(n))==null?void 0:l.internals.userNode;return[s?{...s,position:((u=e.get(n))==null?void 0:u.position)||s.position,dragging:r}:i[0],i]}function cB({onNodeMouseDown:n,getStoreItems:e,onDragStart:t,onDrag:r,onDragStop:i}){let s={x:null,y:null},o=0,l=new Map,u=!1,d={x:0,y:0},h=null,f=!1,g=null,y=!1;function v({noDragClassName:E,handleSelector:x,domNode:_,isSelectable:S,nodeId:C,nodeClickDistance:k=0}){g=Ur(_);function I({x:R,y:D},$){const{nodeLookup:G,nodeExtent:L,snapGrid:q,snapToGrid:H,nodeOrigin:X,onNodeDrag:W,onSelectionDrag:U,onError:Q,updateNodePositions:Y}=e();s={x:R,y:D};let te=!1,K={x:0,y:0,x2:0,y2:0};if(l.size>1&&L){const ee=yg(l);K=_S(ee)}for(const[ee,J]of l){if(!G.has(ee))continue;let ie={x:R-J.distance.x,y:D-J.distance.y};H&&(ie=tv(ie,q));let ne=[[L[0][0],L[0][1]],[L[1][0],L[1][1]]];if(l.size>1&&L&&!J.extent){const{positionAbsolute:he}=J.internals,me=he.x-K.x+L[0][0],fe=he.x+J.measured.width-K.x2+L[1][0],we=he.y-K.y+L[0][1],be=he.y+J.measured.height-K.y2+L[1][1];ne=[[me,we],[fe,be]]}const{position:oe,positionAbsolute:ue}=YM({nodeId:ee,nextPosition:ie,nodeLookup:G,nodeExtent:ne,nodeOrigin:X,onError:Q});te=te||J.position.x!==oe.x||J.position.y!==oe.y,J.position=oe,J.internals.positionAbsolute=ue}if(te&&(Y(l,!0),$&&(r||W||!C&&U))){const[ee,J]=$w({nodeId:C,dragItems:l,nodeLookup:G});r==null||r($,l,ee,J),W==null||W($,ee,J),C||U==null||U($,J)}}async function P(){if(!h)return;const{transform:R,panBy:D,autoPanSpeed:$,autoPanOnNodeDrag:G}=e();if(!G){u=!1,cancelAnimationFrame(o);return}const[L,q]=KM(d,h,$);(L!==0||q!==0)&&(s.x=(s.x??0)-L/R[2],s.y=(s.y??0)-q/R[2],await D({x:L,y:q})&&I(s,null)),o=requestAnimationFrame(P)}function M(R){var te;const{nodeLookup:D,multiSelectionActive:$,nodesDraggable:G,transform:L,snapGrid:q,snapToGrid:H,selectNodesOnDrag:X,onNodeDragStart:W,onSelectionDragStart:U,unselectNodesAndEdges:Q}=e();f=!0,(!X||!S)&&!$&&C&&((te=D.get(C))!=null&&te.selected||Q()),S&&X&&C&&(n==null||n(C));const Y=af(R.sourceEvent,{transform:L,snapGrid:q,snapToGrid:H,containerBounds:h});if(s=Y,l=lB(D,G,Y,C),l.size>0&&(t||W||!C&&U)){const[K,ee]=$w({nodeId:C,dragItems:l,nodeLookup:D});t==null||t(R.sourceEvent,l,K,ee),W==null||W(R.sourceEvent,K,ee),C||U==null||U(R.sourceEvent,ee)}}const N=kM().clickDistance(k).on("start",R=>{const{domNode:D,nodeDragThreshold:$,transform:G,snapGrid:L,snapToGrid:q}=e();h=(D==null?void 0:D.getBoundingClientRect())||null,y=!1,$===0&&M(R),s=af(R.sourceEvent,{transform:G,snapGrid:L,snapToGrid:q,containerBounds:h}),d=bo(R.sourceEvent,h)}).on("drag",R=>{const{autoPanOnNodeDrag:D,transform:$,snapGrid:G,snapToGrid:L,nodeDragThreshold:q,nodeLookup:H}=e(),X=af(R.sourceEvent,{transform:$,snapGrid:G,snapToGrid:L,containerBounds:h});if((R.sourceEvent.type==="touchmove"&&R.sourceEvent.touches.length>1||C&&!H.has(C))&&(y=!0),!y){if(!u&&D&&f&&(u=!0,P()),!f){const W=X.xSnapped-(s.x??0),U=X.ySnapped-(s.y??0);Math.sqrt(W*W+U*U)>q&&M(R)}(s.x!==X.xSnapped||s.y!==X.ySnapped)&&l&&f&&(d=bo(R.sourceEvent,h),I(X,R.sourceEvent))}}).on("end",R=>{if(!(!f||y)&&(u=!1,f=!1,cancelAnimationFrame(o),l.size>0)){const{nodeLookup:D,updateNodePositions:$,onNodeDragStop:G,onSelectionDragStop:L}=e();if($(l,!1),i||G||!C&&L){const[q,H]=$w({nodeId:C,dragItems:l,nodeLookup:D,dragging:!1});i==null||i(R.sourceEvent,l,q,H),G==null||G(R.sourceEvent,q,H),C||L==null||L(R.sourceEvent,H)}}}).filter(R=>{const D=R.target;return!R.button&&(!E||!Nk(D,`.${E}`,_))&&(!x||Nk(D,x,_))});g.call(N)}function w(){g==null||g.on(".drag",null)}return{update:v,destroy:w}}function uB(n,e,t){const r=[],i={x:n.x-t,y:n.y-t,width:t*2,height:t*2};for(const s of e.values())Cf(i,Pd(s))>0&&r.push(s);return r}const dB=250;function hB(n,e,t,r){var l,u;let i=[],s=1/0;const o=uB(n,t,e+dB);for(const d of o){const h=[...((l=d.internals.handleBounds)==null?void 0:l.source)??[],...((u=d.internals.handleBounds)==null?void 0:u.target)??[]];for(const f of h){if(r.nodeId===f.nodeId&&r.type===f.type&&r.id===f.id)continue;const{x:g,y}=_f(d,f,f.position,!0),v=Math.sqrt(Math.pow(g-n.x,2)+Math.pow(y-n.y,2));v>e||(v<s?(i=[{...f,x:g,y}],s=v):v===s&&i.push({...f,x:g,y}))}}if(!i.length)return null;if(i.length>1){const d=r.type==="source"?"target":"source";return i.find(h=>h.type===d)??i[0]}return i[0]}function uI(n,e,t,r,i,s=!1){var d,h,f;const o=r.get(n);if(!o)return null;const l=i==="strict"?(d=o.internals.handleBounds)==null?void 0:d[e]:[...((h=o.internals.handleBounds)==null?void 0:h.source)??[],...((f=o.internals.handleBounds)==null?void 0:f.target)??[]],u=(t?l==null?void 0:l.find(g=>g.id===t):l==null?void 0:l[0])??null;return u&&s?{...u,..._f(o,u,u.position,!0)}:u}function dI(n,e){return n||(e!=null&&e.classList.contains("target")?"target":e!=null&&e.classList.contains("source")?"source":null)}function fB(n,e){let t=null;return e?t=!0:n&&!e&&(t=!1),t}const hI=()=>!0;function pB(n,{connectionMode:e,connectionRadius:t,handleId:r,nodeId:i,edgeUpdaterType:s,isTarget:o,domNode:l,nodeLookup:u,lib:d,autoPanOnConnect:h,flowId:f,panBy:g,cancelConnection:y,onConnectStart:v,onConnect:w,onConnectEnd:E,isValidConnection:x=hI,onReconnectEnd:_,updateConnection:S,getTransform:C,getFromHandle:k,autoPanSpeed:I}){const P=tI(n.target);let M=0,N;const{x:R,y:D}=bo(n),$=P==null?void 0:P.elementFromPoint(R,D),G=dI(s,$),L=l==null?void 0:l.getBoundingClientRect();if(!L||!G)return;const q=uI(i,G,r,u,e);if(!q)return;let H=bo(n,L),X=!1,W=null,U=!1,Q=null;function Y(){if(!h||!L)return;const[ue,he]=KM(H,L,I);g({x:ue,y:he}),M=requestAnimationFrame(Y)}const te={...q,nodeId:i,type:G,position:q.position},K=u.get(i),J={inProgress:!0,isValid:null,from:_f(K,te,Ne.Left,!0),fromHandle:te,fromPosition:te.position,fromNode:K,to:H,toHandle:null,toPosition:xk[te.position],toNode:null};S(J);let ie=J;v==null||v(n,{nodeId:i,handleId:r,handleType:G});function ne(ue){if(!k()||!te){oe(ue);return}const he=C();H=bo(ue,L),N=hB(vg(H,he,!1,[1,1]),t,u,te),X||(Y(),X=!0);const me=fI(ue,{handle:N,connectionMode:e,fromNodeId:i,fromHandleId:r,fromType:o?"target":"source",isValidConnection:x,doc:P,lib:d,flowId:f,nodeLookup:u});Q=me.handleDomNode,W=me.connection,U=fB(!!N,me.isValid);const fe={...ie,isValid:U,to:N&&U?ZM({x:N.x,y:N.y},he):H,toHandle:me.toHandle,toPosition:U&&me.toHandle?me.toHandle.position:xk[te.position],toNode:me.toHandle?u.get(me.toHandle.nodeId):null};U&&N&&ie.toHandle&&fe.toHandle&&ie.toHandle.type===fe.toHandle.type&&ie.toHandle.nodeId===fe.toHandle.nodeId&&ie.toHandle.id===fe.toHandle.id&&ie.to.x===fe.to.x&&ie.to.y===fe.to.y||(S(fe),ie=fe)}function oe(ue){(N||Q)&&W&&U&&(w==null||w(W));const{inProgress:he,...me}=ie,fe={...me,toPosition:ie.toHandle?ie.toPosition:null};E==null||E(ue,fe),s&&(_==null||_(ue,fe)),y(),cancelAnimationFrame(M),X=!1,U=!1,W=null,Q=null,P.removeEventListener("mousemove",ne),P.removeEventListener("mouseup",oe),P.removeEventListener("touchmove",ne),P.removeEventListener("touchend",oe)}P.addEventListener("mousemove",ne),P.addEventListener("mouseup",oe),P.addEventListener("touchmove",ne),P.addEventListener("touchend",oe)}function fI(n,{handle:e,connectionMode:t,fromNodeId:r,fromHandleId:i,fromType:s,doc:o,lib:l,flowId:u,isValidConnection:d=hI,nodeLookup:h}){const f=s==="target",g=e?o.querySelector(`.${l}-flow__handle[data-id="${u}-${e==null?void 0:e.nodeId}-${e==null?void 0:e.id}-${e==null?void 0:e.type}"]`):null,{x:y,y:v}=bo(n),w=o.elementFromPoint(y,v),E=w!=null&&w.classList.contains(`${l}-flow__handle`)?w:g,x={handleDomNode:E,isValid:!1,connection:null,toHandle:null};if(E){const _=dI(void 0,E),S=E.getAttribute("data-nodeid"),C=E.getAttribute("data-handleid"),k=E.classList.contains("connectable"),I=E.classList.contains("connectableend");if(!S||!_)return x;const P={source:f?S:r,sourceHandle:f?C:i,target:f?r:S,targetHandle:f?i:C};x.connection=P;const N=k&&I&&(t===kd.Strict?f&&_==="source"||!f&&_==="target":S!==r||C!==i);x.isValid=N&&d(P),x.toHandle=uI(S,_,C,h,t,!1)}return x}const PS={onPointerDown:pB,isValid:fI};function gB({domNode:n,panZoom:e,getTransform:t,getViewScale:r}){const i=Ur(n);function s({translateExtent:l,width:u,height:d,zoomStep:h=10,pannable:f=!0,zoomable:g=!0,inversePan:y=!1}){const v=S=>{const C=t();if(S.sourceEvent.type!=="wheel"||!e)return;const k=-S.sourceEvent.deltaY*(S.sourceEvent.deltaMode===1?.05:S.sourceEvent.deltaMode?1:.002)*h,I=C[2]*Math.pow(2,k);e.scaleTo(I)};let w=[0,0];const E=S=>{(S.sourceEvent.type==="mousedown"||S.sourceEvent.type==="touchstart")&&(w=[S.sourceEvent.clientX??S.sourceEvent.touches[0].clientX,S.sourceEvent.clientY??S.sourceEvent.touches[0].clientY])},x=S=>{const C=t();if(S.sourceEvent.type!=="mousemove"&&S.sourceEvent.type!=="touchmove"||!e)return;const k=[S.sourceEvent.clientX??S.sourceEvent.touches[0].clientX,S.sourceEvent.clientY??S.sourceEvent.touches[0].clientY],I=[k[0]-w[0],k[1]-w[1]];w=k;const P=r()*Math.max(C[2],Math.log(C[2]))*(y?-1:1),M={x:C[0]-I[0]*P,y:C[1]-I[1]*P},N=[[0,0],[u,d]];e.setViewportConstrained({x:M.x,y:M.y,zoom:C[2]},N,l)},_=HM().on("start",E).on("zoom",f?x:null).on("zoom.wheel",g?v:null);i.call(_,{})}function o(){i.on("zoom",null)}return{update:s,destroy:o,pointer:Li}}const mB=(n,e)=>n.x!==e.x||n.y!==e.y||n.zoom!==e.k,iv=n=>({x:n.x,y:n.y,zoom:n.k}),Bw=({x:n,y:e,zoom:t})=>Z0.translate(n,e).scale(t),wu=(n,e)=>n.target.closest(`.${e}`),pI=(n,e)=>e===2&&Array.isArray(n)&&n.includes(2),jw=(n,e=0,t=()=>{})=>{const r=typeof e=="number"&&e>0;return r||t(),r?n.transition().duration(e).on("end",t):n},gI=n=>{const e=n.ctrlKey&&c0()?10:1;return-n.deltaY*(n.deltaMode===1?.05:n.deltaMode?1:.002)*e};function yB({zoomPanValues:n,noWheelClassName:e,d3Selection:t,d3Zoom:r,panOnScrollMode:i,panOnScrollSpeed:s,zoomOnPinch:o,onPanZoomStart:l,onPanZoom:u,onPanZoomEnd:d}){return h=>{if(wu(h,e))return!1;h.preventDefault(),h.stopImmediatePropagation();const f=t.property("__zoom").k||1;if(h.ctrlKey&&o){const E=Li(h),x=gI(h),_=f*Math.pow(2,x);r.scaleTo(t,_,E,h);return}const g=h.deltaMode===1?20:1;let y=i===mc.Vertical?0:h.deltaX*g,v=i===mc.Horizontal?0:h.deltaY*g;!c0()&&h.shiftKey&&i!==mc.Vertical&&(y=h.deltaY*g,v=0),r.translateBy(t,-(y/f)*s,-(v/f)*s,{internal:!0});const w=iv(t.property("__zoom"));clearTimeout(n.panScrollTimeout),n.isPanScrolling||(n.isPanScrolling=!0,l==null||l(h,w)),n.isPanScrolling&&(u==null||u(h,w),n.panScrollTimeout=setTimeout(()=>{d==null||d(h,w),n.isPanScrolling=!1},150))}}function vB({noWheelClassName:n,preventScrolling:e,d3ZoomHandler:t}){return function(r,i){if(!e&&r.type==="wheel"&&!r.ctrlKey||wu(r,n))return null;r.preventDefault(),t.call(this,r,i)}}function bB({zoomPanValues:n,onDraggingChange:e,onPanZoomStart:t}){return r=>{var s,o,l;if((s=r.sourceEvent)!=null&&s.internal)return;const i=iv(r.transform);n.mouseButton=((o=r.sourceEvent)==null?void 0:o.button)||0,n.isZoomingOrPanning=!0,n.prevViewport=i,((l=r.sourceEvent)==null?void 0:l.type)==="mousedown"&&e(!0),t&&(t==null||t(r.sourceEvent,i))}}function wB({zoomPanValues:n,panOnDrag:e,onPaneContextMenu:t,onTransformChange:r,onPanZoom:i}){return s=>{var o,l;n.usedRightMouseButton=!!(t&&pI(e,n.mouseButton??0)),(o=s.sourceEvent)!=null&&o.sync||r([s.transform.x,s.transform.y,s.transform.k]),i&&!((l=s.sourceEvent)!=null&&l.internal)&&(i==null||i(s.sourceEvent,iv(s.transform)))}}function xB({zoomPanValues:n,panOnDrag:e,panOnScroll:t,onDraggingChange:r,onPanZoomEnd:i,onPaneContextMenu:s}){return o=>{var l;if(!((l=o.sourceEvent)!=null&&l.internal)&&(n.isZoomingOrPanning=!1,s&&pI(e,n.mouseButton??0)&&!n.usedRightMouseButton&&o.sourceEvent&&s(o.sourceEvent),n.usedRightMouseButton=!1,r(!1),i&&mB(n.prevViewport,o.transform))){const u=iv(o.transform);n.prevViewport=u,clearTimeout(n.timerId),n.timerId=setTimeout(()=>{i==null||i(o.sourceEvent,u)},t?150:0)}}}function SB({zoomActivationKeyPressed:n,zoomOnScroll:e,zoomOnPinch:t,panOnDrag:r,panOnScroll:i,zoomOnDoubleClick:s,userSelectionActive:o,noWheelClassName:l,noPanClassName:u,lib:d}){return h=>{var v;const f=n||e,g=t&&h.ctrlKey;if(h.button===1&&h.type==="mousedown"&&(wu(h,`${d}-flow__node`)||wu(h,`${d}-flow__edge`)))return!0;if(!r&&!f&&!i&&!s&&!t||o||wu(h,l)&&h.type==="wheel"||wu(h,u)&&(h.type!=="wheel"||i&&h.type==="wheel"&&!n)||!t&&h.ctrlKey&&h.type==="wheel")return!1;if(!t&&h.type==="touchstart"&&((v=h.touches)==null?void 0:v.length)>1)return h.preventDefault(),!1;if(!f&&!i&&!g&&h.type==="wheel"||!r&&(h.type==="mousedown"||h.type==="touchstart")||Array.isArray(r)&&!r.includes(h.button)&&h.type==="mousedown")return!1;const y=Array.isArray(r)&&r.includes(h.button)||!h.button||h.button<=1;return(!h.ctrlKey||h.type==="wheel")&&y}}function EB({domNode:n,minZoom:e,maxZoom:t,paneClickDistance:r,translateExtent:i,viewport:s,onPanZoom:o,onPanZoomStart:l,onPanZoomEnd:u,onDraggingChange:d}){const h={isZoomingOrPanning:!1,usedRightMouseButton:!1,prevViewport:{x:0,y:0,zoom:0},mouseButton:0,timerId:void 0,panScrollTimeout:void 0,isPanScrolling:!1},f=n.getBoundingClientRect(),g=HM().clickDistance(!Di(r)||r<0?0:r).scaleExtent([e,t]).translateExtent(i),y=Ur(n).call(g);S({x:s.x,y:s.y,zoom:Td(s.zoom,e,t)},[[0,0],[f.width,f.height]],i);const v=y.on("wheel.zoom"),w=y.on("dblclick.zoom");g.wheelDelta(gI);function E($,G){return y?new Promise(L=>{g==null||g.transform(jw(y,G==null?void 0:G.duration,()=>L(!0)),$)}):Promise.resolve(!1)}function x({noWheelClassName:$,noPanClassName:G,onPaneContextMenu:L,userSelectionActive:q,panOnScroll:H,panOnDrag:X,panOnScrollMode:W,panOnScrollSpeed:U,preventScrolling:Q,zoomOnPinch:Y,zoomOnScroll:te,zoomOnDoubleClick:K,zoomActivationKeyPressed:ee,lib:J,onTransformChange:ie}){q&&!h.isZoomingOrPanning&&_();const oe=H&&!ee&&!q?yB({zoomPanValues:h,noWheelClassName:$,d3Selection:y,d3Zoom:g,panOnScrollMode:W,panOnScrollSpeed:U,zoomOnPinch:Y,onPanZoomStart:l,onPanZoom:o,onPanZoomEnd:u}):vB({noWheelClassName:$,preventScrolling:Q,d3ZoomHandler:v});if(y.on("wheel.zoom",oe,{passive:!1}),!q){const he=bB({zoomPanValues:h,onDraggingChange:d,onPanZoomStart:l});g.on("start",he);const me=wB({zoomPanValues:h,panOnDrag:X,onPaneContextMenu:!!L,onPanZoom:o,onTransformChange:ie});g.on("zoom",me);const fe=xB({zoomPanValues:h,panOnDrag:X,panOnScroll:H,onPaneContextMenu:L,onPanZoomEnd:u,onDraggingChange:d});g.on("end",fe)}const ue=SB({zoomActivationKeyPressed:ee,panOnDrag:X,zoomOnScroll:te,panOnScroll:H,zoomOnDoubleClick:K,zoomOnPinch:Y,userSelectionActive:q,noPanClassName:G,noWheelClassName:$,lib:J});g.filter(ue),K?y.on("dblclick.zoom",w):y.on("dblclick.zoom",null)}function _(){g.on("zoom",null)}async function S($,G,L){const q=Bw($),H=g==null?void 0:g.constrain()(q,G,L);return H&&await E(H),new Promise(X=>X(H))}async function C($,G){const L=Bw($);return await E(L,G),new Promise(q=>q(L))}function k($){if(y){const G=Bw($),L=y.property("__zoom");(L.k!==$.zoom||L.x!==$.x||L.y!==$.y)&&(g==null||g.transform(y,G,null,{sync:!0}))}}function I(){const $=y?jM(y.node()):{x:0,y:0,k:1};return{x:$.x,y:$.y,zoom:$.k}}function P($,G){return y?new Promise(L=>{g==null||g.scaleTo(jw(y,G==null?void 0:G.duration,()=>L(!0)),$)}):Promise.resolve(!1)}function M($,G){return y?new Promise(L=>{g==null||g.scaleBy(jw(y,G==null?void 0:G.duration,()=>L(!0)),$)}):Promise.resolve(!1)}function N($){g==null||g.scaleExtent($)}function R($){g==null||g.translateExtent($)}function D($){const G=!Di($)||$<0?0:$;g==null||g.clickDistance(G)}return{update:x,destroy:_,setViewport:C,setViewportConstrained:S,getViewport:I,scaleTo:P,scaleBy:M,setScaleExtent:N,setTranslateExtent:R,syncViewport:k,setClickDistance:D}}var lf;(function(n){n.Line="line",n.Handle="handle"})(lf||(lf={}));function CB({width:n,prevWidth:e,height:t,prevHeight:r,affectsX:i,affectsY:s}){const o=n-e,l=t-r,u=[o>0?1:o<0?-1:0,l>0?1:l<0?-1:0];return o&&i&&(u[0]=u[0]*-1),l&&s&&(u[1]=u[1]*-1),u}function _B(n){const e=n.includes("right")||n.includes("left"),t=n.includes("bottom")||n.includes("top"),r=n.includes("left"),i=n.includes("top");return{isHorizontal:e,isVertical:t,affectsX:r,affectsY:i}}function ta(n,e){return Math.max(0,e-n)}function na(n,e){return Math.max(0,n-e)}function ny(n,e,t){return Math.max(0,e-n,n-t)}function Lk(n,e){return n?!e:e}function AB(n,e,t,r,i,s,o,l){let{affectsX:u,affectsY:d}=e;const{isHorizontal:h,isVertical:f}=e,g=h&&f,{xSnapped:y,ySnapped:v}=t,{minWidth:w,maxWidth:E,minHeight:x,maxHeight:_}=r,{x:S,y:C,width:k,height:I,aspectRatio:P}=n;let M=Math.floor(h?y-n.pointerX:0),N=Math.floor(f?v-n.pointerY:0);const R=k+(u?-M:M),D=I+(d?-N:N),$=-s[0]*k,G=-s[1]*I;let L=ny(R,w,E),q=ny(D,x,_);if(o){let W=0,U=0;u&&M<0?W=ta(S+M+$,o[0][0]):!u&&M>0&&(W=na(S+R+$,o[1][0])),d&&N<0?U=ta(C+N+G,o[0][1]):!d&&N>0&&(U=na(C+D+G,o[1][1])),L=Math.max(L,W),q=Math.max(q,U)}if(l){let W=0,U=0;u&&M>0?W=na(S+M,l[0][0]):!u&&M<0&&(W=ta(S+R,l[1][0])),d&&N>0?U=na(C+N,l[0][1]):!d&&N<0&&(U=ta(C+D,l[1][1])),L=Math.max(L,W),q=Math.max(q,U)}if(i){if(h){const W=ny(R/P,x,_)*P;if(L=Math.max(L,W),o){let U=0;!u&&!d||u&&!d&&g?U=na(C+G+R/P,o[1][1])*P:U=ta(C+G+(u?M:-M)/P,o[0][1])*P,L=Math.max(L,U)}if(l){let U=0;!u&&!d||u&&!d&&g?U=ta(C+R/P,l[1][1])*P:U=na(C+(u?M:-M)/P,l[0][1])*P,L=Math.max(L,U)}}if(f){const W=ny(D*P,w,E)/P;if(q=Math.max(q,W),o){let U=0;!u&&!d||d&&!u&&g?U=na(S+D*P+$,o[1][0])/P:U=ta(S+(d?N:-N)*P+$,o[0][0])/P,q=Math.max(q,U)}if(l){let U=0;!u&&!d||d&&!u&&g?U=ta(S+D*P,l[1][0])/P:U=na(S+(d?N:-N)*P,l[0][0])/P,q=Math.max(q,U)}}}N=N+(N<0?q:-q),M=M+(M<0?L:-L),i&&(g?R>D*P?N=(Lk(u,d)?-M:M)/P:M=(Lk(u,d)?-N:N)*P:h?(N=M/P,d=u):(M=N*P,u=d));const H=u?S+M:S,X=d?C+N:C;return{width:k+(u?-M:M),height:I+(d?-N:N),x:s[0]*M*(u?-1:1)+H,y:s[1]*N*(d?-1:1)+X}}const mI={width:0,height:0,x:0,y:0},kB={...mI,pointerX:0,pointerY:0,aspectRatio:1};function RB(n){return[[0,0],[n.measured.width,n.measured.height]]}function TB(n,e,t){const r=e.position.x+n.position.x,i=e.position.y+n.position.y,s=n.measured.width??0,o=n.measured.height??0,l=t[0]*s,u=t[1]*o;return[[r-l,i-u],[r+s-l,i+o-u]]}function PB({domNode:n,nodeId:e,getStoreItems:t,onChange:r,onEnd:i}){const s=Ur(n);function o({controlPosition:u,boundaries:d,keepAspectRatio:h,onResizeStart:f,onResize:g,onResizeEnd:y,shouldResize:v}){let w={...mI},E={...kB};const x=_B(u);let _,S=null,C=[],k,I,P;const M=kM().on("start",N=>{const{nodeLookup:R,transform:D,snapGrid:$,snapToGrid:G,nodeOrigin:L,paneDomNode:q}=t();if(_=R.get(e),!_)return;S=(q==null?void 0:q.getBoundingClientRect())??null;const{xSnapped:H,ySnapped:X}=af(N.sourceEvent,{transform:D,snapGrid:$,snapToGrid:G,containerBounds:S});w={width:_.measured.width??0,height:_.measured.height??0,x:_.position.x??0,y:_.position.y??0},E={...w,pointerX:H,pointerY:X,aspectRatio:w.width/w.height},k=void 0,_.parentId&&(_.extent==="parent"||_.expandParent)&&(k=R.get(_.parentId),I=k&&_.extent==="parent"?RB(k):void 0),C=[],P=void 0;for(const[W,U]of R)if(U.parentId===e&&(C.push({id:W,position:{...U.position},extent:U.extent}),U.extent==="parent"||U.expandParent)){const Q=TB(U,_,U.origin??L);P?P=[[Math.min(Q[0][0],P[0][0]),Math.min(Q[0][1],P[0][1])],[Math.max(Q[1][0],P[1][0]),Math.max(Q[1][1],P[1][1])]]:P=Q}f==null||f(N,{...w})}).on("drag",N=>{const{transform:R,snapGrid:D,snapToGrid:$,nodeOrigin:G}=t(),L=af(N.sourceEvent,{transform:R,snapGrid:D,snapToGrid:$,containerBounds:S}),q=[];if(!_)return;const{x:H,y:X,width:W,height:U}=w,Q={},Y=_.origin??G,{width:te,height:K,x:ee,y:J}=AB(E,x,L,d,h,Y,I,P),ie=te!==W,ne=K!==U,oe=ee!==H&&ie,ue=J!==X&&ne;if(!oe&&!ue&&!ie&&!ne)return;if((oe||ue||Y[0]===1||Y[1]===1)&&(Q.x=oe?ee:w.x,Q.y=ue?J:w.y,w.x=Q.x,w.y=Q.y,C.length>0)){const we=ee-H,be=J-X;for(const Be of C)Be.position={x:Be.position.x-we+Y[0]*(te-W),y:Be.position.y-be+Y[1]*(K-U)},q.push(Be)}if((ie||ne)&&(Q.width=ie?te:w.width,Q.height=ne?K:w.height,w.width=Q.width,w.height=Q.height),k&&_.expandParent){const we=Y[0]*(Q.width??0);Q.x&&Q.x<we&&(w.x=we,E.x=E.x-(Q.x-we));const be=Y[1]*(Q.height??0);Q.y&&Q.y<be&&(w.y=be,E.y=E.y-(Q.y-be))}const he=CB({width:w.width,prevWidth:W,height:w.height,prevHeight:U,affectsX:x.affectsX,affectsY:x.affectsY}),me={...w,direction:he};(v==null?void 0:v(N,me))!==!1&&(g==null||g(N,me),r(Q,q))}).on("end",N=>{y==null||y(N,{...w}),i==null||i()});s.call(M)}function l(){s.on(".drag",null)}return{update:o,destroy:l}}var Hw={exports:{}},Ww={},Uw={exports:{}},Vw={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ok;function MB(){if(Ok)return Vw;Ok=1;var n=Ac();function e(f,g){return f===g&&(f!==0||1/f===1/g)||f!==f&&g!==g}var t=typeof Object.is=="function"?Object.is:e,r=n.useState,i=n.useEffect,s=n.useLayoutEffect,o=n.useDebugValue;function l(f,g){var y=g(),v=r({inst:{value:y,getSnapshot:g}}),w=v[0].inst,E=v[1];return s(function(){w.value=y,w.getSnapshot=g,u(w)&&E({inst:w})},[f,y,g]),i(function(){return u(w)&&E({inst:w}),f(function(){u(w)&&E({inst:w})})},[f]),o(y),y}function u(f){var g=f.getSnapshot;f=f.value;try{var y=g();return!t(f,y)}catch{return!0}}function d(f,g){return g()}var h=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?d:l;return Vw.useSyncExternalStore=n.useSyncExternalStore!==void 0?n.useSyncExternalStore:h,Vw}var Dk;function IB(){return Dk||(Dk=1,Uw.exports=MB()),Uw.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fk;function NB(){if(Fk)return Ww;Fk=1;var n=Ac(),e=IB();function t(d,h){return d===h&&(d!==0||1/d===1/h)||d!==d&&h!==h}var r=typeof Object.is=="function"?Object.is:t,i=e.useSyncExternalStore,s=n.useRef,o=n.useEffect,l=n.useMemo,u=n.useDebugValue;return Ww.useSyncExternalStoreWithSelector=function(d,h,f,g,y){var v=s(null);if(v.current===null){var w={hasValue:!1,value:null};v.current=w}else w=v.current;v=l(function(){function x(I){if(!_){if(_=!0,S=I,I=g(I),y!==void 0&&w.hasValue){var P=w.value;if(y(P,I))return C=P}return C=I}if(P=C,r(S,I))return P;var M=g(I);return y!==void 0&&y(P,M)?(S=I,P):(S=I,C=M)}var _=!1,S,C,k=f===void 0?null:f;return[function(){return x(h())},k===null?void 0:function(){return x(k())}]},[h,f,g,y]);var E=i(d,v[0],v[1]);return o(function(){w.hasValue=!0,w.value=E},[E]),u(E),E},Ww}var zk;function LB(){return zk||(zk=1,Hw.exports=NB()),Hw.exports}var OB=LB();const DB=Dd(OB),FB={},$k=n=>{let e;const t=new Set,r=(h,f)=>{const g=typeof h=="function"?h(e):h;if(!Object.is(g,e)){const y=e;e=f??(typeof g!="object"||g===null)?g:Object.assign({},e,g),t.forEach(v=>v(e,y))}},i=()=>e,u={setState:r,getState:i,getInitialState:()=>d,subscribe:h=>(t.add(h),()=>t.delete(h)),destroy:()=>{(FB?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),t.clear()}},d=e=n(r,i,u);return u},zB=n=>n?$k(n):$k,{useDebugValue:$B}=ut,{useSyncExternalStoreWithSelector:BB}=DB,jB=n=>n;function yI(n,e=jB,t){const r=BB(n.subscribe,n.getState,n.getServerState||n.getInitialState,e,t);return $B(r),r}const Bk=(n,e)=>{const t=zB(n),r=(i,s=e)=>yI(t,i,s);return Object.assign(r,t),r},HB=(n,e)=>n?Bk(n,e):Bk;function qt(n,e){if(Object.is(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;if(n instanceof Map&&e instanceof Map){if(n.size!==e.size)return!1;for(const[r,i]of n)if(!Object.is(i,e.get(r)))return!1;return!0}if(n instanceof Set&&e instanceof Set){if(n.size!==e.size)return!1;for(const r of n)if(!e.has(r))return!1;return!0}const t=Object.keys(n);if(t.length!==Object.keys(e).length)return!1;for(const r of t)if(!Object.prototype.hasOwnProperty.call(e,r)||!Object.is(n[r],e[r]))return!1;return!0}var bg=q0();const ry=Dd(bg),sv=O.createContext(null),WB=sv.Provider,vI=Cs.error001();function Qe(n,e){const t=O.useContext(sv);if(t===null)throw new Error(vI);return yI(t,n,e)}function Lt(){const n=O.useContext(sv);if(n===null)throw new Error(vI);return O.useMemo(()=>({getState:n.getState,setState:n.setState,subscribe:n.subscribe}),[n])}const jk={display:"none"},UB={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},bI="react-flow__node-desc",wI="react-flow__edge-desc",VB="react-flow__aria-live",GB=n=>n.ariaLiveMessage;function qB({rfId:n}){const e=Qe(GB);return F.jsx("div",{id:`${VB}-${n}`,"aria-live":"assertive","aria-atomic":"true",style:UB,children:e})}function YB({rfId:n,disableKeyboardA11y:e}){return F.jsxs(F.Fragment,{children:[F.jsxs("div",{id:`${bI}-${n}`,style:jk,children:["Press enter or space to select a node.",!e&&"You can then use the arrow keys to move the node around."," Press delete to remove it and escape to cancel."," "]}),F.jsx("div",{id:`${wI}-${n}`,style:jk,children:"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel."}),!e&&F.jsx(qB,{rfId:n})]})}const XB=n=>n.userSelectionActive?"none":"all",wg=O.forwardRef(({position:n="top-left",children:e,className:t,style:r,...i},s)=>{const o=Qe(XB),l=`${n}`.split("-");return F.jsx("div",{className:ln(["react-flow__panel",t,...l]),style:{...r,pointerEvents:o},ref:s,...i,children:e})});wg.displayName="Panel";function KB({proOptions:n,position:e="bottom-right"}){return n!=null&&n.hideAttribution?null:F.jsx(wg,{position:e,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://pro.reactflow.dev",children:F.jsx("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution",children:"React Flow"})})}const QB=n=>{const e=[],t=[];for(const[,r]of n.nodeLookup)r.selected&&e.push(r.internals.userNode);for(const[,r]of n.edgeLookup)r.selected&&t.push(r);return{selectedNodes:e,selectedEdges:t}},iy=n=>n.id;function ZB(n,e){return qt(n.selectedNodes.map(iy),e.selectedNodes.map(iy))&&qt(n.selectedEdges.map(iy),e.selectedEdges.map(iy))}function JB({onSelectionChange:n}){const e=Lt(),{selectedNodes:t,selectedEdges:r}=Qe(QB,ZB);return O.useEffect(()=>{const i={nodes:t,edges:r};n==null||n(i),e.getState().onSelectionChangeHandlers.forEach(s=>s(i))},[t,r,n]),null}const ej=n=>!!n.onSelectionChangeHandlers;function tj({onSelectionChange:n}){const e=Qe(ej);return n||e?F.jsx(JB,{onSelectionChange:n}):null}const xI=[0,0],nj={x:0,y:0,zoom:1},rj=["nodes","edges","defaultNodes","defaultEdges","onConnect","onConnectStart","onConnectEnd","onClickConnectStart","onClickConnectEnd","nodesDraggable","nodesConnectable","nodesFocusable","edgesFocusable","edgesReconnectable","elevateNodesOnSelect","elevateEdgesOnSelect","minZoom","maxZoom","nodeExtent","onNodesChange","onEdgesChange","elementsSelectable","connectionMode","snapGrid","snapToGrid","translateExtent","connectOnClick","defaultEdgeOptions","fitView","fitViewOptions","onNodesDelete","onEdgesDelete","onDelete","onNodeDrag","onNodeDragStart","onNodeDragStop","onSelectionDrag","onSelectionDragStart","onSelectionDragStop","onMoveStart","onMove","onMoveEnd","noPanClassName","nodeOrigin","autoPanOnConnect","autoPanOnNodeDrag","onError","connectionRadius","isValidConnection","selectNodesOnDrag","nodeDragThreshold","onBeforeDelete","debug","autoPanSpeed","paneClickDistance"],Hk=[...rj,"rfId"],ij=n=>({setNodes:n.setNodes,setEdges:n.setEdges,setMinZoom:n.setMinZoom,setMaxZoom:n.setMaxZoom,setTranslateExtent:n.setTranslateExtent,setNodeExtent:n.setNodeExtent,reset:n.reset,setDefaultNodesAndEdges:n.setDefaultNodesAndEdges,setPaneClickDistance:n.setPaneClickDistance}),Wk={translateExtent:Sf,nodeOrigin:xI,minZoom:.5,maxZoom:2,elementsSelectable:!0,noPanClassName:"nopan",rfId:"1",paneClickDistance:0};function sj(n){const{setNodes:e,setEdges:t,setMinZoom:r,setMaxZoom:i,setTranslateExtent:s,setNodeExtent:o,reset:l,setDefaultNodesAndEdges:u,setPaneClickDistance:d}=Qe(ij,qt),h=Lt();O.useEffect(()=>(u(n.defaultNodes,n.defaultEdges),()=>{f.current=Wk,l()}),[]);const f=O.useRef(Wk);return O.useEffect(()=>{for(const g of Hk){const y=n[g],v=f.current[g];y!==v&&(typeof n[g]>"u"||(g==="nodes"?e(y):g==="edges"?t(y):g==="minZoom"?r(y):g==="maxZoom"?i(y):g==="translateExtent"?s(y):g==="nodeExtent"?o(y):g==="paneClickDistance"?d(y):g==="fitView"?h.setState({fitViewOnInit:y}):g==="fitViewOptions"?h.setState({fitViewOnInitOptions:y}):h.setState({[g]:y})))}f.current=n},Hk.map(g=>n[g])),null}function Uk(){return typeof window>"u"||!window.matchMedia?null:window.matchMedia("(prefers-color-scheme: dark)")}function oj(n){var r;const[e,t]=O.useState(n==="system"?null:n);return O.useEffect(()=>{if(n!=="system"){t(n);return}const i=Uk(),s=()=>t(i!=null&&i.matches?"dark":"light");return s(),i==null||i.addEventListener("change",s),()=>{i==null||i.removeEventListener("change",s)}},[n]),e!==null?e:(r=Uk())!=null&&r.matches?"dark":"light"}const Vk=typeof document<"u"?document:null;function Af(n=null,e={target:Vk,actInsideInputWithModifier:!0}){const[t,r]=O.useState(!1),i=O.useRef(!1),s=O.useRef(new Set([])),[o,l]=O.useMemo(()=>{if(n!==null){const d=(Array.isArray(n)?n:[n]).filter(f=>typeof f=="string").map(f=>f.replace("+",`
`).replace(`

`,`
+`).split(`
`)),h=d.reduce((f,g)=>f.concat(...g),[]);return[d,h]}return[[],[]]},[n]);return O.useEffect(()=>{const u=(e==null?void 0:e.target)||Vk;if(n!==null){const d=g=>{if(i.current=g.ctrlKey||g.metaKey||g.shiftKey,(!i.current||i.current&&!e.actInsideInputWithModifier)&&AS(g))return!1;const v=qk(g.code,l);s.current.add(g[v]),Gk(o,s.current,!1)&&(g.preventDefault(),r(!0))},h=g=>{if((!i.current||i.current&&!e.actInsideInputWithModifier)&&AS(g))return!1;const v=qk(g.code,l);Gk(o,s.current,!0)?(r(!1),s.current.clear()):s.current.delete(g[v]),g.key==="Meta"&&s.current.clear(),i.current=!1},f=()=>{s.current.clear(),r(!1)};return u==null||u.addEventListener("keydown",d),u==null||u.addEventListener("keyup",h),window.addEventListener("blur",f),window.addEventListener("contextmenu",f),()=>{u==null||u.removeEventListener("keydown",d),u==null||u.removeEventListener("keyup",h),window.removeEventListener("blur",f),window.removeEventListener("contextmenu",f)}}},[n,r]),t}function Gk(n,e,t){return n.filter(r=>t||r.length===e.size).some(r=>r.every(i=>e.has(i)))}function qk(n,e){return e.includes(n)?"code":"key"}const aj=()=>{const n=Lt();return O.useMemo(()=>({zoomIn:e=>{const{panZoom:t}=n.getState();return t?t.scaleBy(1.2,{duration:e==null?void 0:e.duration}):Promise.resolve(!1)},zoomOut:e=>{const{panZoom:t}=n.getState();return t?t.scaleBy(1/1.2,{duration:e==null?void 0:e.duration}):Promise.resolve(!1)},zoomTo:(e,t)=>{const{panZoom:r}=n.getState();return r?r.scaleTo(e,{duration:t==null?void 0:t.duration}):Promise.resolve(!1)},getZoom:()=>n.getState().transform[2],setViewport:async(e,t)=>{const{transform:[r,i,s],panZoom:o}=n.getState();return o?(await o.setViewport({x:e.x??r,y:e.y??i,zoom:e.zoom??s},{duration:t==null?void 0:t.duration}),Promise.resolve(!0)):Promise.resolve(!1)},getViewport:()=>{const[e,t,r]=n.getState().transform;return{x:e,y:t,zoom:r}},fitView:e=>{const{nodeLookup:t,minZoom:r,maxZoom:i,panZoom:s,domNode:o}=n.getState();if(!s||!o)return Promise.resolve(!1);const l=ES(t,e),{width:u,height:d}=nv(o);return CS({nodes:l,width:u,height:d,minZoom:r,maxZoom:i,panZoom:s},e)},setCenter:async(e,t,r)=>{const{width:i,height:s,maxZoom:o,panZoom:l}=n.getState(),u=typeof(r==null?void 0:r.zoom)<"u"?r.zoom:o,d=i/2-e*u,h=s/2-t*u;return l?(await l.setViewport({x:d,y:h,zoom:u},{duration:r==null?void 0:r.duration}),Promise.resolve(!0)):Promise.resolve(!1)},fitBounds:async(e,t)=>{const{width:r,height:i,minZoom:s,maxZoom:o,panZoom:l}=n.getState(),u=C1(e,r,i,s,o,(t==null?void 0:t.padding)??.1);return l?(await l.setViewport(u,{duration:t==null?void 0:t.duration}),Promise.resolve(!0)):Promise.resolve(!1)},screenToFlowPosition:(e,t={})=>{const{transform:r,snapGrid:i,snapToGrid:s,domNode:o}=n.getState();if(!o)return e;const{x:l,y:u}=o.getBoundingClientRect(),d={x:e.x-l,y:e.y-u},h=t.snapGrid??i,f=t.snapToGrid??s;return vg(d,r,f,h)},flowToScreenPosition:e=>{const{transform:t,domNode:r}=n.getState();if(!r)return e;const{x:i,y:s}=r.getBoundingClientRect(),o=ZM(e,t);return{x:o.x+i,y:o.y+s}}}),[])};function SI(n,e){const t=[],r=new Map,i=[];for(const s of n)if(s.type==="add"){i.push(s);continue}else if(s.type==="remove"||s.type==="replace")r.set(s.id,[s]);else{const o=r.get(s.id);o?o.push(s):r.set(s.id,[s])}for(const s of e){const o=r.get(s.id);if(!o){t.push(s);continue}if(o[0].type==="remove")continue;if(o[0].type==="replace"){t.push({...o[0].item});continue}const l={...s};for(const u of o)lj(u,l);t.push(l)}return i.length&&i.forEach(s=>{s.index!==void 0?t.splice(s.index,0,{...s.item}):t.push({...s.item})}),t}function lj(n,e){switch(n.type){case"select":{e.selected=n.selected;break}case"position":{typeof n.position<"u"&&(e.position=n.position),typeof n.dragging<"u"&&(e.dragging=n.dragging);break}case"dimensions":{typeof n.dimensions<"u"&&(e.measured??(e.measured={}),e.measured.width=n.dimensions.width,e.measured.height=n.dimensions.height,n.setAttributes&&(e.width=n.dimensions.width,e.height=n.dimensions.height)),typeof n.resizing=="boolean"&&(e.resizing=n.resizing);break}}}function EI(n,e){return SI(n,e)}function CI(n,e){return SI(n,e)}function ul(n,e){return{id:n,type:"select",selected:e}}function xu(n,e=new Set,t=!1){const r=[];for(const[i,s]of n){const o=e.has(i);!(s.selected===void 0&&!o)&&s.selected!==o&&(t&&(s.selected=o),r.push(ul(s.id,o)))}return r}function Yk({items:n=[],lookup:e}){var i;const t=[],r=new Map(n.map(s=>[s.id,s]));for(const[s,o]of n.entries()){const l=e.get(o.id),u=((i=l==null?void 0:l.internals)==null?void 0:i.userNode)??l;u!==void 0&&u!==o&&t.push({id:o.id,item:o,type:"replace"}),u===void 0&&t.push({item:o,type:"add",index:s})}for(const[s]of e)r.get(s)===void 0&&t.push({id:s,type:"remove"});return t}function Xk(n){return{id:n.id,type:"remove"}}const Kk=n=>j5(n),cj=n=>GM(n);function _I(n){return O.forwardRef(n)}const uj=typeof window<"u"?O.useLayoutEffect:O.useEffect;function Qk(n){const[e,t]=O.useState(BigInt(0)),[r]=O.useState(()=>dj(()=>t(i=>i+BigInt(1))));return uj(()=>{const i=r.get();i.length&&(n(i),r.reset())},[e]),r}function dj(n){let e=[];return{get:()=>e,reset:()=>{e=[]},push:t=>{e.push(t),n()}}}const AI=O.createContext(null);function hj({children:n}){const e=Lt(),t=O.useCallback(l=>{const{nodes:u=[],setNodes:d,hasDefaultNodes:h,onNodesChange:f,nodeLookup:g}=e.getState();let y=u;for(const v of l)y=typeof v=="function"?v(y):v;h?d(y):f&&f(Yk({items:y,lookup:g}))},[]),r=Qk(t),i=O.useCallback(l=>{const{edges:u=[],setEdges:d,hasDefaultEdges:h,onEdgesChange:f,edgeLookup:g}=e.getState();let y=u;for(const v of l)y=typeof v=="function"?v(y):v;h?d(y):f&&f(Yk({items:y,lookup:g}))},[]),s=Qk(i),o=O.useMemo(()=>({nodeQueue:r,edgeQueue:s}),[]);return F.jsx(AI.Provider,{value:o,children:n})}function fj(){const n=O.useContext(AI);if(!n)throw new Error("useBatchContext must be used within a BatchProvider");return n}const pj=n=>!!n.panZoom;function ov(){const n=aj(),e=Lt(),t=fj(),r=Qe(pj),i=O.useMemo(()=>{const s=f=>e.getState().nodeLookup.get(f),o=f=>{t.nodeQueue.push(f)},l=f=>{t.edgeQueue.push(f)},u=f=>{var x,_;const{nodeLookup:g,nodeOrigin:y}=e.getState(),v=Kk(f)?f:g.get(f.id),w=v.parentId?eI(v.position,v.measured,v.parentId,g,y):v.position,E={...v,position:w,width:((x=v.measured)==null?void 0:x.width)??v.width,height:((_=v.measured)==null?void 0:_.height)??v.height};return Pd(E)},d=(f,g,y={replace:!1})=>{o(v=>v.map(w=>{if(w.id===f){const E=typeof g=="function"?g(w):g;return y.replace&&Kk(E)?E:{...w,...E}}return w}))},h=(f,g,y={replace:!1})=>{l(v=>v.map(w=>{if(w.id===f){const E=typeof g=="function"?g(w):g;return y.replace&&cj(E)?E:{...w,...E}}return w}))};return{getNodes:()=>e.getState().nodes.map(f=>({...f})),getNode:f=>{var g;return(g=s(f))==null?void 0:g.internals.userNode},getInternalNode:s,getEdges:()=>{const{edges:f=[]}=e.getState();return f.map(g=>({...g}))},getEdge:f=>e.getState().edgeLookup.get(f),setNodes:o,setEdges:l,addNodes:f=>{const g=Array.isArray(f)?f:[f];t.nodeQueue.push(y=>[...y,...g])},addEdges:f=>{const g=Array.isArray(f)?f:[f];t.edgeQueue.push(y=>[...y,...g])},toObject:()=>{const{nodes:f=[],edges:g=[],transform:y}=e.getState(),[v,w,E]=y;return{nodes:f.map(x=>({...x})),edges:g.map(x=>({...x})),viewport:{x:v,y:w,zoom:E}}},deleteElements:async({nodes:f=[],edges:g=[]})=>{const{nodes:y,edges:v,onNodesDelete:w,onEdgesDelete:E,triggerNodeChanges:x,triggerEdgeChanges:_,onDelete:S,onBeforeDelete:C}=e.getState(),{nodes:k,edges:I}=await U5({nodesToRemove:f,edgesToRemove:g,nodes:y,edges:v,onBeforeDelete:C}),P=I.length>0,M=k.length>0;if(P){const N=I.map(Xk);E==null||E(I),_(N)}if(M){const N=k.map(Xk);w==null||w(k),x(N)}return(M||P)&&(S==null||S({nodes:k,edges:I})),{deletedNodes:k,deletedEdges:I}},getIntersectingNodes:(f,g=!0,y)=>{const v=Ek(f),w=v?f:u(f),E=y!==void 0;return w?(y||e.getState().nodes).filter(x=>{const _=e.getState().nodeLookup.get(x.id);if(_&&!v&&(x.id===f.id||!_.internals.positionAbsolute))return!1;const S=Pd(E?x:_),C=Cf(S,w);return g&&C>0||C>=w.width*w.height}):[]},isNodeIntersecting:(f,g,y=!0)=>{const w=Ek(f)?f:u(f);if(!w)return!1;const E=Cf(w,g);return y&&E>0||E>=w.width*w.height},updateNode:d,updateNodeData:(f,g,y={replace:!1})=>{d(f,v=>{const w=typeof g=="function"?g(v):g;return y.replace?{...v,data:w}:{...v,data:{...v.data,...w}}},y)},updateEdge:h,updateEdgeData:(f,g,y={replace:!1})=>{h(f,v=>{const w=typeof g=="function"?g(v):g;return y.replace?{...v,data:w}:{...v,data:{...v.data,...w}}},y)},getNodesBounds:f=>{const{nodeLookup:g,nodeOrigin:y}=e.getState();return H5(f,{nodeLookup:g,nodeOrigin:y})},getHandleConnections:({type:f,id:g,nodeId:y})=>{var v;return Array.from(((v=e.getState().connectionLookup.get(`${y}-${f}${g?`-${g}`:""}`))==null?void 0:v.values())??[])},getNodeConnections:({type:f,handleId:g,nodeId:y})=>{var v;return Array.from(((v=e.getState().connectionLookup.get(`${y}${f?g?`-${f}-${g}`:`-${f}`:""}`))==null?void 0:v.values())??[])}}},[]);return O.useMemo(()=>({...i,...n,viewportInitialized:r}),[r])}const Zk=n=>n.selected,gj={actInsideInputWithModifier:!1},mj=typeof window<"u"?window:void 0;function yj({deleteKeyCode:n,multiSelectionKeyCode:e}){const t=Lt(),{deleteElements:r}=ov(),i=Af(n,gj),s=Af(e,{target:mj});O.useEffect(()=>{if(i){const{edges:o,nodes:l}=t.getState();r({nodes:l.filter(Zk),edges:o.filter(Zk)}),t.setState({nodesSelectionActive:!1})}},[i]),O.useEffect(()=>{t.setState({multiSelectionActive:s})},[s])}function vj(n){const e=Lt();O.useEffect(()=>{const t=()=>{var i,s;if(!n.current)return!1;const r=nv(n.current);(r.height===0||r.width===0)&&((s=(i=e.getState()).onError)==null||s.call(i,"004",Cs.error004())),e.setState({width:r.width||500,height:r.height||500})};if(n.current){t(),window.addEventListener("resize",t);const r=new ResizeObserver(()=>t());return r.observe(n.current),()=>{window.removeEventListener("resize",t),r&&n.current&&r.unobserve(n.current)}}},[])}const av={position:"absolute",width:"100%",height:"100%",top:0,left:0},bj=n=>({userSelectionActive:n.userSelectionActive,lib:n.lib});function wj({onPaneContextMenu:n,zoomOnScroll:e=!0,zoomOnPinch:t=!0,panOnScroll:r=!1,panOnScrollSpeed:i=.5,panOnScrollMode:s=mc.Free,zoomOnDoubleClick:o=!0,panOnDrag:l=!0,defaultViewport:u,translateExtent:d,minZoom:h,maxZoom:f,zoomActivationKeyCode:g,preventScrolling:y=!0,children:v,noWheelClassName:w,noPanClassName:E,onViewportChange:x,isControlledViewport:_,paneClickDistance:S}){const C=Lt(),k=O.useRef(null),{userSelectionActive:I,lib:P}=Qe(bj,qt),M=Af(g),N=O.useRef();vj(k);const R=O.useCallback(D=>{x==null||x({x:D[0],y:D[1],zoom:D[2]}),_||C.setState({transform:D})},[x,_]);return O.useEffect(()=>{if(k.current){N.current=EB({domNode:k.current,minZoom:h,maxZoom:f,translateExtent:d,viewport:u,paneClickDistance:S,onDraggingChange:L=>C.setState({paneDragging:L}),onPanZoomStart:(L,q)=>{const{onViewportChangeStart:H,onMoveStart:X}=C.getState();X==null||X(L,q),H==null||H(q)},onPanZoom:(L,q)=>{const{onViewportChange:H,onMove:X}=C.getState();X==null||X(L,q),H==null||H(q)},onPanZoomEnd:(L,q)=>{const{onViewportChangeEnd:H,onMoveEnd:X}=C.getState();X==null||X(L,q),H==null||H(q)}});const{x:D,y:$,zoom:G}=N.current.getViewport();return C.setState({panZoom:N.current,transform:[D,$,G],domNode:k.current.closest(".react-flow")}),()=>{var L;(L=N.current)==null||L.destroy()}}},[]),O.useEffect(()=>{var D;(D=N.current)==null||D.update({onPaneContextMenu:n,zoomOnScroll:e,zoomOnPinch:t,panOnScroll:r,panOnScrollSpeed:i,panOnScrollMode:s,zoomOnDoubleClick:o,panOnDrag:l,zoomActivationKeyPressed:M,preventScrolling:y,noPanClassName:E,userSelectionActive:I,noWheelClassName:w,lib:P,onTransformChange:R})},[n,e,t,r,i,s,o,l,M,y,E,I,w,P,R]),F.jsx("div",{className:"react-flow__renderer",ref:k,style:av,children:v})}const xj=n=>({userSelectionActive:n.userSelectionActive,userSelectionRect:n.userSelectionRect});function Sj(){const{userSelectionActive:n,userSelectionRect:e}=Qe(xj,qt);return n&&e?F.jsx("div",{className:"react-flow__selection react-flow__container",style:{width:e.width,height:e.height,transform:`translate(${e.x}px, ${e.y}px)`}}):null}const Gw=(n,e)=>t=>{t.target===e.current&&(n==null||n(t))},Ej=n=>({userSelectionActive:n.userSelectionActive,elementsSelectable:n.elementsSelectable,dragging:n.paneDragging});function Cj({isSelecting:n,selectionKeyPressed:e,selectionMode:t=Ef.Full,panOnDrag:r,selectionOnDrag:i,onSelectionStart:s,onSelectionEnd:o,onPaneClick:l,onPaneContextMenu:u,onPaneScroll:d,onPaneMouseEnter:h,onPaneMouseMove:f,onPaneMouseLeave:g,children:y}){const v=Lt(),{userSelectionActive:w,elementsSelectable:E,dragging:x}=Qe(Ej,qt),_=E&&(n||w),S=O.useRef(null),C=O.useRef(),k=O.useRef(new Set),I=O.useRef(new Set),P=O.useRef(!1),M=O.useRef(!1),N=H=>{if(P.current){P.current=!1;return}l==null||l(H),v.getState().resetSelectedElements(),v.setState({nodesSelectionActive:!1})},R=H=>{if(Array.isArray(r)&&(r!=null&&r.includes(2))){H.preventDefault();return}u==null||u(H)},D=d?H=>d(H):void 0,$=H=>{var Y,te;const{resetSelectedElements:X,domNode:W}=v.getState();if(C.current=W==null?void 0:W.getBoundingClientRect(),!E||!n||H.button!==0||H.target!==S.current||!C.current)return;(te=(Y=H.target)==null?void 0:Y.setPointerCapture)==null||te.call(Y,H.pointerId),M.current=!0,P.current=!1;const{x:U,y:Q}=bo(H.nativeEvent,C.current);X(),v.setState({userSelectionRect:{width:0,height:0,startX:U,startY:Q,x:U,y:Q}}),s==null||s(H)},G=H=>{const{userSelectionRect:X,transform:W,nodeLookup:U,edgeLookup:Q,connectionLookup:Y,triggerNodeChanges:te,triggerEdgeChanges:K,defaultEdgeOptions:ee}=v.getState();if(!C.current||!X)return;P.current=!0;const{x:J,y:ie}=bo(H.nativeEvent,C.current),{startX:ne,startY:oe}=X,ue={startX:ne,startY:oe,x:J<ne?J:ne,y:ie<oe?ie:oe,width:Math.abs(J-ne),height:Math.abs(ie-oe)},he=k.current,me=I.current;k.current=new Set(qM(U,ue,W,t===Ef.Partial,!0).map(we=>we.id)),I.current=new Set;const fe=(ee==null?void 0:ee.selectable)??!0;for(const we of k.current){const be=Y.get(we);if(be)for(const{edgeId:Be}of be.values()){const st=Q.get(Be);st&&(st.selectable??fe)&&I.current.add(Be)}}if(!Ck(he,k.current)){const we=xu(U,k.current,!0);te(we)}if(!Ck(me,I.current)){const we=xu(Q,I.current);K(we)}v.setState({userSelectionRect:ue,userSelectionActive:!0,nodesSelectionActive:!1})},L=H=>{var W,U;if(H.button!==0||!M.current)return;(U=(W=H.target)==null?void 0:W.releasePointerCapture)==null||U.call(W,H.pointerId);const{userSelectionRect:X}=v.getState();!w&&X&&H.target===S.current&&(N==null||N(H)),v.setState({userSelectionActive:!1,userSelectionRect:null,nodesSelectionActive:k.current.size>0}),o==null||o(H),(e||i)&&(P.current=!1),M.current=!1},q=r===!0||Array.isArray(r)&&r.includes(0);return F.jsxs("div",{className:ln(["react-flow__pane",{draggable:q,dragging:x,selection:n}]),onClick:_?void 0:Gw(N,S),onContextMenu:Gw(R,S),onWheel:Gw(D,S),onPointerEnter:_?void 0:h,onPointerDown:_?$:f,onPointerMove:_?G:f,onPointerUp:_?L:void 0,onPointerLeave:g,ref:S,style:av,children:[y,F.jsx(Sj,{})]})}function MS({id:n,store:e,unselect:t=!1,nodeRef:r}){const{addSelectedNodes:i,unselectNodesAndEdges:s,multiSelectionActive:o,nodeLookup:l,onError:u}=e.getState(),d=l.get(n);if(!d){u==null||u("012",Cs.error012(n));return}e.setState({nodesSelectionActive:!1}),d.selected?(t||d.selected&&o)&&(s({nodes:[d],edges:[]}),requestAnimationFrame(()=>{var h;return(h=r==null?void 0:r.current)==null?void 0:h.blur()})):i([n])}function kI({nodeRef:n,disabled:e=!1,noDragClassName:t,handleSelector:r,nodeId:i,isSelectable:s,nodeClickDistance:o}){const l=Lt(),[u,d]=O.useState(!1),h=O.useRef();return O.useEffect(()=>{h.current=cB({getStoreItems:()=>l.getState(),onNodeMouseDown:f=>{MS({id:f,store:l,nodeRef:n})},onDragStart:()=>{d(!0)},onDragStop:()=>{d(!1)}})},[]),O.useEffect(()=>{var f,g;if(e)(f=h.current)==null||f.destroy();else if(n.current)return(g=h.current)==null||g.update({noDragClassName:t,handleSelector:r,domNode:n.current,isSelectable:s,nodeId:i,nodeClickDistance:o}),()=>{var y;(y=h.current)==null||y.destroy()}},[t,r,e,s,n,i]),u}const _j=n=>e=>e.selected&&(e.draggable||n&&typeof e.draggable>"u");function RI(){const n=Lt();return O.useCallback(t=>{const{nodeExtent:r,snapToGrid:i,snapGrid:s,nodesDraggable:o,onError:l,updateNodePositions:u,nodeLookup:d,nodeOrigin:h}=n.getState(),f=new Map,g=_j(o),y=i?s[0]:5,v=i?s[1]:5,w=t.direction.x*y*t.factor,E=t.direction.y*v*t.factor;for(const[,x]of d){if(!g(x))continue;let _={x:x.internals.positionAbsolute.x+w,y:x.internals.positionAbsolute.y+E};i&&(_=tv(_,s));const{position:S,positionAbsolute:C}=YM({nodeId:x.id,nextPosition:_,nodeLookup:d,nodeExtent:r,nodeOrigin:h,onError:l});x.position=S,x.internals.positionAbsolute=C,f.set(x.id,x)}u(f)},[])}const T1=O.createContext(null),Aj=T1.Provider;T1.Consumer;const TI=()=>O.useContext(T1),kj=n=>({connectOnClick:n.connectOnClick,noPanClassName:n.noPanClassName,rfId:n.rfId}),Rj=(n,e,t)=>r=>{const{connectionClickStartHandle:i,connectionMode:s,connection:o}=r,{fromHandle:l,toHandle:u,isValid:d}=o,h=(u==null?void 0:u.nodeId)===n&&(u==null?void 0:u.id)===e&&(u==null?void 0:u.type)===t;return{connectingFrom:(l==null?void 0:l.nodeId)===n&&(l==null?void 0:l.id)===e&&(l==null?void 0:l.type)===t,connectingTo:h,clickConnecting:(i==null?void 0:i.nodeId)===n&&(i==null?void 0:i.id)===e&&(i==null?void 0:i.type)===t,isPossibleEndHandle:s===kd.Strict?(l==null?void 0:l.type)!==t:n!==(l==null?void 0:l.nodeId)||e!==(l==null?void 0:l.id),connectionInProcess:!!l,clickConnectionInProcess:!!i,valid:h&&d}};function Tj({type:n="source",position:e=Ne.Top,isValidConnection:t,isConnectable:r=!0,isConnectableStart:i=!0,isConnectableEnd:s=!0,id:o,onConnect:l,children:u,className:d,onMouseDown:h,onTouchStart:f,...g},y){var q,H;const v=o||null,w=n==="target",E=Lt(),x=TI(),{connectOnClick:_,noPanClassName:S,rfId:C}=Qe(kj,qt),{connectingFrom:k,connectingTo:I,clickConnecting:P,isPossibleEndHandle:M,connectionInProcess:N,clickConnectionInProcess:R,valid:D}=Qe(Rj(x,v,n),qt);x||(H=(q=E.getState()).onError)==null||H.call(q,"010",Cs.error010());const $=X=>{const{defaultEdgeOptions:W,onConnect:U,hasDefaultEdges:Q}=E.getState(),Y={...W,...X};if(Q){const{edges:te,setEdges:K}=E.getState();K(sI(Y,te))}U==null||U(Y),l==null||l(Y)},G=X=>{if(!x)return;const W=nI(X.nativeEvent);if(i&&(W&&X.button===0||!W)){const U=E.getState();PS.onPointerDown(X.nativeEvent,{autoPanOnConnect:U.autoPanOnConnect,connectionMode:U.connectionMode,connectionRadius:U.connectionRadius,domNode:U.domNode,nodeLookup:U.nodeLookup,lib:U.lib,isTarget:w,handleId:v,nodeId:x,flowId:U.rfId,panBy:U.panBy,cancelConnection:U.cancelConnection,onConnectStart:U.onConnectStart,onConnectEnd:U.onConnectEnd,updateConnection:U.updateConnection,onConnect:$,isValidConnection:t||U.isValidConnection,getTransform:()=>E.getState().transform,getFromHandle:()=>E.getState().connection.fromHandle,autoPanSpeed:U.autoPanSpeed})}W?h==null||h(X):f==null||f(X)},L=X=>{const{onClickConnectStart:W,onClickConnectEnd:U,connectionClickStartHandle:Q,connectionMode:Y,isValidConnection:te,lib:K,rfId:ee,nodeLookup:J,connection:ie}=E.getState();if(!x||!Q&&!i)return;if(!Q){W==null||W(X.nativeEvent,{nodeId:x,handleId:v,handleType:n}),E.setState({connectionClickStartHandle:{nodeId:x,type:n,id:v}});return}const ne=tI(X.target),oe=t||te,{connection:ue,isValid:he}=PS.isValid(X.nativeEvent,{handle:{nodeId:x,id:v,type:n},connectionMode:Y,fromNodeId:Q.nodeId,fromHandleId:Q.id||null,fromType:Q.type,isValidConnection:oe,flowId:ee,doc:ne,lib:K,nodeLookup:J});he&&ue&&$(ue);const me=structuredClone(ie);delete me.inProgress,me.toPosition=me.toHandle?me.toHandle.position:null,U==null||U(X,me),E.setState({connectionClickStartHandle:null})};return F.jsx("div",{"data-handleid":v,"data-nodeid":x,"data-handlepos":e,"data-id":`${C}-${x}-${v}-${n}`,className:ln(["react-flow__handle",`react-flow__handle-${e}`,"nodrag",S,d,{source:!w,target:w,connectable:r,connectablestart:i,connectableend:s,clickconnecting:P,connectingfrom:k,connectingto:I,valid:D,connectionindicator:r&&(!N||M)&&(N||R?s:i)}]),onMouseDown:G,onTouchStart:G,onClick:_?L:void 0,ref:y,...g,children:u})}const Da=O.memo(_I(Tj));function Pj({data:n,isConnectable:e,sourcePosition:t=Ne.Bottom}){return F.jsxs(F.Fragment,{children:[n==null?void 0:n.label,F.jsx(Da,{type:"source",position:t,isConnectable:e})]})}function Mj({data:n,isConnectable:e,targetPosition:t=Ne.Top,sourcePosition:r=Ne.Bottom}){return F.jsxs(F.Fragment,{children:[F.jsx(Da,{type:"target",position:t,isConnectable:e}),n==null?void 0:n.label,F.jsx(Da,{type:"source",position:r,isConnectable:e})]})}function Ij(){return null}function Nj({data:n,isConnectable:e,targetPosition:t=Ne.Top}){return F.jsxs(F.Fragment,{children:[F.jsx(Da,{type:"target",position:t,isConnectable:e}),n==null?void 0:n.label]})}const u0={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}},Jk={input:Pj,default:Mj,output:Nj,group:Ij};function Lj(n){var e,t,r,i;return n.internals.handleBounds===void 0?{width:n.width??n.initialWidth??((e=n.style)==null?void 0:e.width),height:n.height??n.initialHeight??((t=n.style)==null?void 0:t.height)}:{width:n.width??((r=n.style)==null?void 0:r.width),height:n.height??((i=n.style)==null?void 0:i.height)}}const Oj=n=>{const{width:e,height:t,x:r,y:i}=yg(n.nodeLookup,{filter:s=>!!s.selected});return{width:Di(e)?e:null,height:Di(t)?t:null,userSelectionActive:n.userSelectionActive,transformString:`translate(${n.transform[0]}px,${n.transform[1]}px) scale(${n.transform[2]}) translate(${r}px,${i}px)`}};function Dj({onSelectionContextMenu:n,noPanClassName:e,disableKeyboardA11y:t}){const r=Lt(),{width:i,height:s,transformString:o,userSelectionActive:l}=Qe(Oj,qt),u=RI(),d=O.useRef(null);if(O.useEffect(()=>{var g;t||(g=d.current)==null||g.focus({preventScroll:!0})},[t]),kI({nodeRef:d}),l||!i||!s)return null;const h=n?g=>{const y=r.getState().nodes.filter(v=>v.selected);n(g,y)}:void 0,f=g=>{Object.prototype.hasOwnProperty.call(u0,g.key)&&(g.preventDefault(),u({direction:u0[g.key],factor:g.shiftKey?4:1}))};return F.jsx("div",{className:ln(["react-flow__nodesselection","react-flow__container",e]),style:{transform:o},children:F.jsx("div",{ref:d,className:"react-flow__nodesselection-rect",onContextMenu:h,tabIndex:t?void 0:-1,onKeyDown:t?void 0:f,style:{width:i,height:s}})})}const eR=typeof window<"u"?window:void 0,Fj=n=>({nodesSelectionActive:n.nodesSelectionActive,userSelectionActive:n.userSelectionActive});function PI({children:n,onPaneClick:e,onPaneMouseEnter:t,onPaneMouseMove:r,onPaneMouseLeave:i,onPaneContextMenu:s,onPaneScroll:o,paneClickDistance:l,deleteKeyCode:u,selectionKeyCode:d,selectionOnDrag:h,selectionMode:f,onSelectionStart:g,onSelectionEnd:y,multiSelectionKeyCode:v,panActivationKeyCode:w,zoomActivationKeyCode:E,elementsSelectable:x,zoomOnScroll:_,zoomOnPinch:S,panOnScroll:C,panOnScrollSpeed:k,panOnScrollMode:I,zoomOnDoubleClick:P,panOnDrag:M,defaultViewport:N,translateExtent:R,minZoom:D,maxZoom:$,preventScrolling:G,onSelectionContextMenu:L,noWheelClassName:q,noPanClassName:H,disableKeyboardA11y:X,onViewportChange:W,isControlledViewport:U}){const{nodesSelectionActive:Q,userSelectionActive:Y}=Qe(Fj),te=Af(d,{target:eR}),K=Af(w,{target:eR}),ee=K||M,J=K||C,ie=h&&ee!==!0,ne=te||Y||ie;return yj({deleteKeyCode:u,multiSelectionKeyCode:v}),F.jsx(wj,{onPaneContextMenu:s,elementsSelectable:x,zoomOnScroll:_,zoomOnPinch:S,panOnScroll:J,panOnScrollSpeed:k,panOnScrollMode:I,zoomOnDoubleClick:P,panOnDrag:!te&&ee,defaultViewport:N,translateExtent:R,minZoom:D,maxZoom:$,zoomActivationKeyCode:E,preventScrolling:G,noWheelClassName:q,noPanClassName:H,onViewportChange:W,isControlledViewport:U,paneClickDistance:l,children:F.jsxs(Cj,{onSelectionStart:g,onSelectionEnd:y,onPaneClick:e,onPaneMouseEnter:t,onPaneMouseMove:r,onPaneMouseLeave:i,onPaneContextMenu:s,onPaneScroll:o,panOnDrag:ee,isSelecting:!!ne,selectionMode:f,selectionKeyPressed:te,selectionOnDrag:ie,children:[n,Q&&F.jsx(Dj,{onSelectionContextMenu:L,noPanClassName:H,disableKeyboardA11y:X})]})})}PI.displayName="FlowRenderer";const zj=O.memo(PI),$j=n=>e=>n?qM(e.nodeLookup,{x:0,y:0,width:e.width,height:e.height},e.transform,!0).map(t=>t.id):Array.from(e.nodeLookup.keys());function Bj(n){return Qe(O.useCallback($j(n),[n]),qt)}const jj=n=>n.updateNodeInternals;function Hj(){const n=Qe(jj),[e]=O.useState(()=>typeof ResizeObserver>"u"?null:new ResizeObserver(t=>{const r=new Map;t.forEach(i=>{const s=i.target.getAttribute("data-id");r.set(s,{id:s,nodeElement:i.target,force:!0})}),n(r)}));return O.useEffect(()=>()=>{e==null||e.disconnect()},[e]),e}function Wj({node:n,nodeType:e,hasDimensions:t,resizeObserver:r}){const i=Lt(),s=O.useRef(null),o=O.useRef(null),l=O.useRef(n.sourcePosition),u=O.useRef(n.targetPosition),d=O.useRef(e),h=t&&!!n.internals.handleBounds;return O.useEffect(()=>{s.current&&!n.hidden&&(!h||o.current!==s.current)&&(o.current&&(r==null||r.unobserve(o.current)),r==null||r.observe(s.current),o.current=s.current)},[h,n.hidden]),O.useEffect(()=>()=>{o.current&&(r==null||r.unobserve(o.current),o.current=null)},[]),O.useEffect(()=>{if(s.current){const f=d.current!==e,g=l.current!==n.sourcePosition,y=u.current!==n.targetPosition;(f||g||y)&&(d.current=e,l.current=n.sourcePosition,u.current=n.targetPosition,i.getState().updateNodeInternals(new Map([[n.id,{id:n.id,nodeElement:s.current,force:!0}]])))}},[n.id,e,n.sourcePosition,n.targetPosition]),s}function Uj({id:n,onClick:e,onMouseEnter:t,onMouseMove:r,onMouseLeave:i,onContextMenu:s,onDoubleClick:o,nodesDraggable:l,elementsSelectable:u,nodesConnectable:d,nodesFocusable:h,resizeObserver:f,noDragClassName:g,noPanClassName:y,disableKeyboardA11y:v,rfId:w,nodeTypes:E,nodeClickDistance:x,onError:_}){const{node:S,internals:C,isParent:k}=Qe(ne=>{const oe=ne.nodeLookup.get(n),ue=ne.parentLookup.has(n);return{node:oe,internals:oe.internals,isParent:ue}},qt);let I=S.type||"default",P=(E==null?void 0:E[I])||Jk[I];P===void 0&&(_==null||_("003",Cs.error003(I)),I="default",P=Jk.default);const M=!!(S.draggable||l&&typeof S.draggable>"u"),N=!!(S.selectable||u&&typeof S.selectable>"u"),R=!!(S.connectable||d&&typeof S.connectable>"u"),D=!!(S.focusable||h&&typeof S.focusable>"u"),$=Lt(),G=JM(S),L=Wj({node:S,nodeType:I,hasDimensions:G,resizeObserver:f}),q=kI({nodeRef:L,disabled:S.hidden||!M,noDragClassName:g,handleSelector:S.dragHandle,nodeId:n,isSelectable:N,nodeClickDistance:x}),H=RI();if(S.hidden)return null;const X=Po(S),W=Lj(S),U=N||M||e||t||r||i,Q=t?ne=>t(ne,{...C.userNode}):void 0,Y=r?ne=>r(ne,{...C.userNode}):void 0,te=i?ne=>i(ne,{...C.userNode}):void 0,K=s?ne=>s(ne,{...C.userNode}):void 0,ee=o?ne=>o(ne,{...C.userNode}):void 0,J=ne=>{const{selectNodesOnDrag:oe,nodeDragThreshold:ue}=$.getState();N&&(!oe||!M||ue>0)&&MS({id:n,store:$,nodeRef:L}),e&&e(ne,{...C.userNode})},ie=ne=>{if(!(AS(ne.nativeEvent)||v))if(WM.includes(ne.key)&&N){const oe=ne.key==="Escape";MS({id:n,store:$,unselect:oe,nodeRef:L})}else M&&S.selected&&Object.prototype.hasOwnProperty.call(u0,ne.key)&&(ne.preventDefault(),$.setState({ariaLiveMessage:`Moved selected node ${ne.key.replace("Arrow","").toLowerCase()}. New position, x: ${~~C.positionAbsolute.x}, y: ${~~C.positionAbsolute.y}`}),H({direction:u0[ne.key],factor:ne.shiftKey?4:1}))};return F.jsx("div",{className:ln(["react-flow__node",`react-flow__node-${I}`,{[y]:M},S.className,{selected:S.selected,selectable:N,parent:k,draggable:M,dragging:q}]),ref:L,style:{zIndex:C.z,transform:`translate(${C.positionAbsolute.x}px,${C.positionAbsolute.y}px)`,pointerEvents:U?"all":"none",visibility:G?"visible":"hidden",...S.style,...W},"data-id":n,"data-testid":`rf__node-${n}`,onMouseEnter:Q,onMouseMove:Y,onMouseLeave:te,onContextMenu:K,onClick:J,onDoubleClick:ee,onKeyDown:D?ie:void 0,tabIndex:D?0:void 0,role:D?"button":void 0,"aria-describedby":v?void 0:`${bI}-${w}`,"aria-label":S.ariaLabel,children:F.jsx(Aj,{value:n,children:F.jsx(P,{id:n,data:S.data,type:I,positionAbsoluteX:C.positionAbsolute.x,positionAbsoluteY:C.positionAbsolute.y,selected:S.selected??!1,selectable:N,draggable:M,deletable:S.deletable??!0,isConnectable:R,sourcePosition:S.sourcePosition,targetPosition:S.targetPosition,dragging:q,dragHandle:S.dragHandle,zIndex:C.z,parentId:S.parentId,...X})})})}const Vj=n=>({nodesDraggable:n.nodesDraggable,nodesConnectable:n.nodesConnectable,nodesFocusable:n.nodesFocusable,elementsSelectable:n.elementsSelectable,onError:n.onError});function MI(n){const{nodesDraggable:e,nodesConnectable:t,nodesFocusable:r,elementsSelectable:i,onError:s}=Qe(Vj,qt),o=Bj(n.onlyRenderVisibleElements),l=Hj();return F.jsx("div",{className:"react-flow__nodes",style:av,children:o.map(u=>F.jsx(Uj,{id:u,nodeTypes:n.nodeTypes,nodeExtent:n.nodeExtent,onClick:n.onNodeClick,onMouseEnter:n.onNodeMouseEnter,onMouseMove:n.onNodeMouseMove,onMouseLeave:n.onNodeMouseLeave,onContextMenu:n.onNodeContextMenu,onDoubleClick:n.onNodeDoubleClick,noDragClassName:n.noDragClassName,noPanClassName:n.noPanClassName,rfId:n.rfId,disableKeyboardA11y:n.disableKeyboardA11y,resizeObserver:l,nodesDraggable:e,nodesConnectable:t,nodesFocusable:r,elementsSelectable:i,nodeClickDistance:n.nodeClickDistance,onError:s},u))})}MI.displayName="NodeRenderer";const Gj=O.memo(MI);function qj(n){return Qe(O.useCallback(t=>{if(!n)return t.edges.map(i=>i.id);const r=[];if(t.width&&t.height)for(const i of t.edges){const s=t.nodeLookup.get(i.source),o=t.nodeLookup.get(i.target);s&&o&&Y5({sourceNode:s,targetNode:o,width:t.width,height:t.height,transform:t.transform})&&r.push(i.id)}return r},[n]),qt)}const Yj=({color:n="none",strokeWidth:e=1})=>F.jsx("polyline",{style:{stroke:n,strokeWidth:e},strokeLinecap:"round",strokeLinejoin:"round",fill:"none",points:"-5,-4 0,0 -5,4"}),Xj=({color:n="none",strokeWidth:e=1})=>F.jsx("polyline",{style:{stroke:n,fill:n,strokeWidth:e},strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"}),tR={[Rd.Arrow]:Yj,[Rd.ArrowClosed]:Xj};function Kj(n){const e=Lt();return O.useMemo(()=>{var i,s;return Object.prototype.hasOwnProperty.call(tR,n)?tR[n]:((s=(i=e.getState()).onError)==null||s.call(i,"009",Cs.error009(n)),null)},[n])}const Qj=({id:n,type:e,color:t,width:r=12.5,height:i=12.5,markerUnits:s="strokeWidth",strokeWidth:o,orient:l="auto-start-reverse"})=>{const u=Kj(e);return u?F.jsx("marker",{className:"react-flow__arrowhead",id:n,markerWidth:`${r}`,markerHeight:`${i}`,viewBox:"-10 -10 20 20",markerUnits:s,orient:l,refX:"0",refY:"0",children:F.jsx(u,{color:t,strokeWidth:o})}):null},II=({defaultColor:n,rfId:e})=>{const t=Qe(s=>s.edges),r=Qe(s=>s.defaultEdgeOptions),i=O.useMemo(()=>tB(t,{id:e,defaultColor:n,defaultMarkerStart:r==null?void 0:r.markerStart,defaultMarkerEnd:r==null?void 0:r.markerEnd}),[t,r,e,n]);return i.length?F.jsx("svg",{className:"react-flow__marker",children:F.jsx("defs",{children:i.map(s=>F.jsx(Qj,{id:s.id,type:s.type,color:s.color,width:s.width,height:s.height,markerUnits:s.markerUnits,strokeWidth:s.strokeWidth,orient:s.orient},s.id))})}):null};II.displayName="MarkerDefinitions";var Zj=O.memo(II);function NI({x:n,y:e,label:t,labelStyle:r={},labelShowBg:i=!0,labelBgStyle:s={},labelBgPadding:o=[2,4],labelBgBorderRadius:l=2,children:u,className:d,...h}){const[f,g]=O.useState({x:1,y:0,width:0,height:0}),y=ln(["react-flow__edge-textwrapper",d]),v=O.useRef(null);return O.useEffect(()=>{if(v.current){const w=v.current.getBBox();g({x:w.x,y:w.y,width:w.width,height:w.height})}},[t]),typeof t>"u"||!t?null:F.jsxs("g",{transform:`translate(${n-f.width/2} ${e-f.height/2})`,className:y,visibility:f.width?"visible":"hidden",...h,children:[i&&F.jsx("rect",{width:f.width+2*o[0],x:-o[0],y:-o[1],height:f.height+2*o[1],className:"react-flow__edge-textbg",style:s,rx:l,ry:l}),F.jsx("text",{className:"react-flow__edge-text",y:f.height/2,dy:"0.3em",ref:v,style:r,children:t}),u]})}NI.displayName="EdgeText";const Jj=O.memo(NI);function Fd({path:n,labelX:e,labelY:t,label:r,labelStyle:i,labelShowBg:s,labelBgStyle:o,labelBgPadding:l,labelBgBorderRadius:u,interactionWidth:d=20,...h}){return F.jsxs(F.Fragment,{children:[F.jsx("path",{...h,d:n,fill:"none",className:ln(["react-flow__edge-path",h.className])}),d&&F.jsx("path",{d:n,fill:"none",strokeOpacity:0,strokeWidth:d,className:"react-flow__edge-interaction"}),r&&Di(e)&&Di(t)?F.jsx(Jj,{x:e,y:t,label:r,labelStyle:i,labelShowBg:s,labelBgStyle:o,labelBgPadding:l,labelBgBorderRadius:u}):null]})}function nR({pos:n,x1:e,y1:t,x2:r,y2:i}){return n===Ne.Left||n===Ne.Right?[.5*(e+r),t]:[e,.5*(t+i)]}function LI({sourceX:n,sourceY:e,sourcePosition:t=Ne.Bottom,targetX:r,targetY:i,targetPosition:s=Ne.Top}){const[o,l]=nR({pos:t,x1:n,y1:e,x2:r,y2:i}),[u,d]=nR({pos:s,x1:r,y1:i,x2:n,y2:e}),[h,f,g,y]=rI({sourceX:n,sourceY:e,targetX:r,targetY:i,sourceControlX:o,sourceControlY:l,targetControlX:u,targetControlY:d});return[`M${n},${e} C${o},${l} ${u},${d} ${r},${i}`,h,f,g,y]}function OI(n){return O.memo(({id:e,sourceX:t,sourceY:r,targetX:i,targetY:s,sourcePosition:o=Ne.Bottom,targetPosition:l=Ne.Top,label:u,labelStyle:d,labelShowBg:h,labelBgStyle:f,labelBgPadding:g,labelBgBorderRadius:y,style:v,markerEnd:w,markerStart:E,interactionWidth:x})=>{const[_,S,C]=LI({sourceX:t,sourceY:r,sourcePosition:o,targetX:i,targetY:s,targetPosition:l}),k=n.isInternal?void 0:e;return F.jsx(Fd,{id:k,path:_,labelX:S,labelY:C,label:u,labelStyle:d,labelShowBg:h,labelBgStyle:f,labelBgPadding:g,labelBgBorderRadius:y,style:v,markerEnd:w,markerStart:E,interactionWidth:x})})}const e3=OI({isInternal:!1}),DI=OI({isInternal:!0});e3.displayName="SimpleBezierEdge";DI.displayName="SimpleBezierEdgeInternal";function FI(n){return O.memo(({id:e,sourceX:t,sourceY:r,targetX:i,targetY:s,label:o,labelStyle:l,labelShowBg:u,labelBgStyle:d,labelBgPadding:h,labelBgBorderRadius:f,style:g,sourcePosition:y=Ne.Bottom,targetPosition:v=Ne.Top,markerEnd:w,markerStart:E,pathOptions:x,interactionWidth:_})=>{const[S,C,k]=kS({sourceX:t,sourceY:r,sourcePosition:y,targetX:i,targetY:s,targetPosition:v,borderRadius:x==null?void 0:x.borderRadius,offset:x==null?void 0:x.offset}),I=n.isInternal?void 0:e;return F.jsx(Fd,{id:I,path:S,labelX:C,labelY:k,label:o,labelStyle:l,labelShowBg:u,labelBgStyle:d,labelBgPadding:h,labelBgBorderRadius:f,style:g,markerEnd:w,markerStart:E,interactionWidth:_})})}const zI=FI({isInternal:!1}),$I=FI({isInternal:!0});zI.displayName="SmoothStepEdge";$I.displayName="SmoothStepEdgeInternal";function BI(n){return O.memo(({id:e,...t})=>{var i;const r=n.isInternal?void 0:e;return F.jsx(zI,{...t,id:r,pathOptions:O.useMemo(()=>{var s;return{borderRadius:0,offset:(s=t.pathOptions)==null?void 0:s.offset}},[(i=t.pathOptions)==null?void 0:i.offset])})})}const t3=BI({isInternal:!1}),jI=BI({isInternal:!0});t3.displayName="StepEdge";jI.displayName="StepEdgeInternal";function HI(n){return O.memo(({id:e,sourceX:t,sourceY:r,targetX:i,targetY:s,label:o,labelStyle:l,labelShowBg:u,labelBgStyle:d,labelBgPadding:h,labelBgBorderRadius:f,style:g,markerEnd:y,markerStart:v,interactionWidth:w})=>{const[E,x,_]=oI({sourceX:t,sourceY:r,targetX:i,targetY:s}),S=n.isInternal?void 0:e;return F.jsx(Fd,{id:S,path:E,labelX:x,labelY:_,label:o,labelStyle:l,labelShowBg:u,labelBgStyle:d,labelBgPadding:h,labelBgBorderRadius:f,style:g,markerEnd:y,markerStart:v,interactionWidth:w})})}const n3=HI({isInternal:!1}),WI=HI({isInternal:!0});n3.displayName="StraightEdge";WI.displayName="StraightEdgeInternal";function UI(n){return O.memo(({id:e,sourceX:t,sourceY:r,targetX:i,targetY:s,sourcePosition:o=Ne.Bottom,targetPosition:l=Ne.Top,label:u,labelStyle:d,labelShowBg:h,labelBgStyle:f,labelBgPadding:g,labelBgBorderRadius:y,style:v,markerEnd:w,markerStart:E,pathOptions:x,interactionWidth:_})=>{const[S,C,k]=rv({sourceX:t,sourceY:r,sourcePosition:o,targetX:i,targetY:s,targetPosition:l,curvature:x==null?void 0:x.curvature}),I=n.isInternal?void 0:e;return F.jsx(Fd,{id:I,path:S,labelX:C,labelY:k,label:u,labelStyle:d,labelShowBg:h,labelBgStyle:f,labelBgPadding:g,labelBgBorderRadius:y,style:v,markerEnd:w,markerStart:E,interactionWidth:_})})}const r3=UI({isInternal:!1}),VI=UI({isInternal:!0});r3.displayName="BezierEdge";VI.displayName="BezierEdgeInternal";const rR={default:VI,straight:WI,step:jI,smoothstep:$I,simplebezier:DI},iR={sourceX:null,sourceY:null,targetX:null,targetY:null,sourcePosition:null,targetPosition:null},i3=(n,e,t)=>t===Ne.Left?n-e:t===Ne.Right?n+e:n,s3=(n,e,t)=>t===Ne.Top?n-e:t===Ne.Bottom?n+e:n,sR="react-flow__edgeupdater";function oR({position:n,centerX:e,centerY:t,radius:r=10,onMouseDown:i,onMouseEnter:s,onMouseOut:o,type:l}){return F.jsx("circle",{onMouseDown:i,onMouseEnter:s,onMouseOut:o,className:ln([sR,`${sR}-${l}`]),cx:i3(e,r,n),cy:s3(t,r,n),r,stroke:"transparent",fill:"transparent"})}function o3({isReconnectable:n,reconnectRadius:e,edge:t,sourceX:r,sourceY:i,targetX:s,targetY:o,sourcePosition:l,targetPosition:u,onReconnect:d,onReconnectStart:h,onReconnectEnd:f,setReconnecting:g,setUpdateHover:y}){const v=Lt(),w=(C,k)=>{if(C.button!==0)return;const{autoPanOnConnect:I,domNode:P,isValidConnection:M,connectionMode:N,connectionRadius:R,lib:D,onConnectStart:$,onConnectEnd:G,cancelConnection:L,nodeLookup:q,rfId:H,panBy:X,updateConnection:W}=v.getState(),U=k.type==="target";g(!0),h==null||h(C,t,k.type);const Q=(te,K)=>{g(!1),f==null||f(te,t,k.type,K)},Y=te=>d==null?void 0:d(t,te);PS.onPointerDown(C.nativeEvent,{autoPanOnConnect:I,connectionMode:N,connectionRadius:R,domNode:P,handleId:k.id,nodeId:k.nodeId,nodeLookup:q,isTarget:U,edgeUpdaterType:k.type,lib:D,flowId:H,cancelConnection:L,panBy:X,isValidConnection:M,onConnect:Y,onConnectStart:$,onConnectEnd:G,onReconnectEnd:Q,updateConnection:W,getTransform:()=>v.getState().transform,getFromHandle:()=>v.getState().connection.fromHandle})},E=C=>w(C,{nodeId:t.target,id:t.targetHandle??null,type:"target"}),x=C=>w(C,{nodeId:t.source,id:t.sourceHandle??null,type:"source"}),_=()=>y(!0),S=()=>y(!1);return F.jsxs(F.Fragment,{children:[(n===!0||n==="source")&&F.jsx(oR,{position:l,centerX:r,centerY:i,radius:e,onMouseDown:E,onMouseEnter:_,onMouseOut:S,type:"source"}),(n===!0||n==="target")&&F.jsx(oR,{position:u,centerX:s,centerY:o,radius:e,onMouseDown:x,onMouseEnter:_,onMouseOut:S,type:"target"})]})}function a3({id:n,edgesFocusable:e,edgesReconnectable:t,elementsSelectable:r,onClick:i,onDoubleClick:s,onContextMenu:o,onMouseEnter:l,onMouseMove:u,onMouseLeave:d,reconnectRadius:h,onReconnect:f,onReconnectStart:g,onReconnectEnd:y,rfId:v,edgeTypes:w,noPanClassName:E,onError:x,disableKeyboardA11y:_}){let S=Qe(fe=>fe.edgeLookup.get(n));const C=Qe(fe=>fe.defaultEdgeOptions);S=C?{...C,...S}:S;let k=S.type||"default",I=(w==null?void 0:w[k])||rR[k];I===void 0&&(x==null||x("011",Cs.error011(k)),k="default",I=rR.default);const P=!!(S.focusable||e&&typeof S.focusable>"u"),M=typeof f<"u"&&(S.reconnectable||t&&typeof S.reconnectable>"u"),N=!!(S.selectable||r&&typeof S.selectable>"u"),R=O.useRef(null),[D,$]=O.useState(!1),[G,L]=O.useState(!1),q=Lt(),{zIndex:H,sourceX:X,sourceY:W,targetX:U,targetY:Q,sourcePosition:Y,targetPosition:te}=Qe(O.useCallback(fe=>{const we=fe.nodeLookup.get(S.source),be=fe.nodeLookup.get(S.target);if(!we||!be)return{zIndex:S.zIndex,...iR};const Be=eB({id:n,sourceNode:we,targetNode:be,sourceHandle:S.sourceHandle||null,targetHandle:S.targetHandle||null,connectionMode:fe.connectionMode,onError:x});return{zIndex:q5({selected:S.selected,zIndex:S.zIndex,sourceNode:we,targetNode:be,elevateOnSelect:fe.elevateEdgesOnSelect}),...Be||iR}},[S.source,S.target,S.sourceHandle,S.targetHandle,S.selected,S.zIndex]),qt),K=O.useMemo(()=>S.markerStart?`url('#${RS(S.markerStart,v)}')`:void 0,[S.markerStart,v]),ee=O.useMemo(()=>S.markerEnd?`url('#${RS(S.markerEnd,v)}')`:void 0,[S.markerEnd,v]);if(S.hidden||X===null||W===null||U===null||Q===null)return null;const J=fe=>{var st;const{addSelectedEdges:we,unselectNodesAndEdges:be,multiSelectionActive:Be}=q.getState();N&&(q.setState({nodesSelectionActive:!1}),S.selected&&Be?(be({nodes:[],edges:[S]}),(st=R.current)==null||st.blur()):we([n])),i&&i(fe,S)},ie=s?fe=>{s(fe,{...S})}:void 0,ne=o?fe=>{o(fe,{...S})}:void 0,oe=l?fe=>{l(fe,{...S})}:void 0,ue=u?fe=>{u(fe,{...S})}:void 0,he=d?fe=>{d(fe,{...S})}:void 0,me=fe=>{var we;if(!_&&WM.includes(fe.key)&&N){const{unselectNodesAndEdges:be,addSelectedEdges:Be}=q.getState();fe.key==="Escape"?((we=R.current)==null||we.blur(),be({edges:[S]})):Be([n])}};return F.jsx("svg",{style:{zIndex:H},children:F.jsxs("g",{className:ln(["react-flow__edge",`react-flow__edge-${k}`,S.className,E,{selected:S.selected,animated:S.animated,inactive:!N&&!i,updating:D,selectable:N}]),onClick:J,onDoubleClick:ie,onContextMenu:ne,onMouseEnter:oe,onMouseMove:ue,onMouseLeave:he,onKeyDown:P?me:void 0,tabIndex:P?0:void 0,role:P?"button":"img","data-id":n,"data-testid":`rf__edge-${n}`,"aria-label":S.ariaLabel===null?void 0:S.ariaLabel||`Edge from ${S.source} to ${S.target}`,"aria-describedby":P?`${wI}-${v}`:void 0,ref:R,children:[!G&&F.jsx(I,{id:n,source:S.source,target:S.target,type:S.type,selected:S.selected,animated:S.animated,selectable:N,deletable:S.deletable??!0,label:S.label,labelStyle:S.labelStyle,labelShowBg:S.labelShowBg,labelBgStyle:S.labelBgStyle,labelBgPadding:S.labelBgPadding,labelBgBorderRadius:S.labelBgBorderRadius,sourceX:X,sourceY:W,targetX:U,targetY:Q,sourcePosition:Y,targetPosition:te,data:S.data,style:S.style,sourceHandleId:S.sourceHandle,targetHandleId:S.targetHandle,markerStart:K,markerEnd:ee,pathOptions:"pathOptions"in S?S.pathOptions:void 0,interactionWidth:S.interactionWidth}),M&&F.jsx(o3,{edge:S,isReconnectable:M,reconnectRadius:h,onReconnect:f,onReconnectStart:g,onReconnectEnd:y,sourceX:X,sourceY:W,targetX:U,targetY:Q,sourcePosition:Y,targetPosition:te,setUpdateHover:$,setReconnecting:L})]})})}const l3=n=>({edgesFocusable:n.edgesFocusable,edgesReconnectable:n.edgesReconnectable,elementsSelectable:n.elementsSelectable,connectionMode:n.connectionMode,onError:n.onError});function GI({defaultMarkerColor:n,onlyRenderVisibleElements:e,rfId:t,edgeTypes:r,noPanClassName:i,onReconnect:s,onEdgeContextMenu:o,onEdgeMouseEnter:l,onEdgeMouseMove:u,onEdgeMouseLeave:d,onEdgeClick:h,reconnectRadius:f,onEdgeDoubleClick:g,onReconnectStart:y,onReconnectEnd:v,disableKeyboardA11y:w}){const{edgesFocusable:E,edgesReconnectable:x,elementsSelectable:_,onError:S}=Qe(l3,qt),C=qj(e);return F.jsxs("div",{className:"react-flow__edges",children:[F.jsx(Zj,{defaultColor:n,rfId:t}),C.map(k=>F.jsx(a3,{id:k,edgesFocusable:E,edgesReconnectable:x,elementsSelectable:_,noPanClassName:i,onReconnect:s,onContextMenu:o,onMouseEnter:l,onMouseMove:u,onMouseLeave:d,onClick:h,reconnectRadius:f,onDoubleClick:g,onReconnectStart:y,onReconnectEnd:v,rfId:t,onError:S,edgeTypes:r,disableKeyboardA11y:w},k))]})}GI.displayName="EdgeRenderer";const c3=O.memo(GI),u3=n=>`translate(${n.transform[0]}px,${n.transform[1]}px) scale(${n.transform[2]})`;function d3({children:n}){const e=Qe(u3);return F.jsx("div",{className:"react-flow__viewport xyflow__viewport react-flow__container",style:{transform:e},children:n})}function h3(n){const e=ov(),t=O.useRef(!1);O.useEffect(()=>{!t.current&&e.viewportInitialized&&n&&(setTimeout(()=>n(e),1),t.current=!0)},[n,e.viewportInitialized])}const f3=n=>{var e;return(e=n.panZoom)==null?void 0:e.syncViewport};function p3(n){const e=Qe(f3),t=Lt();return O.useEffect(()=>{n&&(e==null||e(n),t.setState({transform:[n.x,n.y,n.zoom]}))},[n,e]),null}function g3(n){return n.connection.inProgress?{...n.connection,to:vg(n.connection.to,n.transform)}:{...n.connection}}function m3(n){return g3}function y3(n){const e=m3();return Qe(e,qt)}const v3=n=>({nodesConnectable:n.nodesConnectable,isValid:n.connection.isValid,inProgress:n.connection.inProgress,width:n.width,height:n.height});function b3({containerStyle:n,style:e,type:t,component:r}){const{nodesConnectable:i,width:s,height:o,isValid:l,inProgress:u}=Qe(v3,qt);return!(s&&i&&u)?null:F.jsx("svg",{style:n,width:s,height:o,className:"react-flow__connectionline react-flow__container",children:F.jsx("g",{className:ln(["react-flow__connection",VM(l)]),children:F.jsx(qI,{style:e,type:t,CustomComponent:r,isValid:l})})})}const qI=({style:n,type:e=da.Bezier,CustomComponent:t,isValid:r})=>{const{inProgress:i,from:s,fromNode:o,fromHandle:l,fromPosition:u,to:d,toNode:h,toHandle:f,toPosition:g}=y3();if(!i)return;if(t)return F.jsx(t,{connectionLineType:e,connectionLineStyle:n,fromNode:o,fromHandle:l,fromX:s.x,fromY:s.y,toX:d.x,toY:d.y,fromPosition:u,toPosition:g,connectionStatus:VM(r),toNode:h,toHandle:f});let y="";const v={sourceX:s.x,sourceY:s.y,sourcePosition:u,targetX:d.x,targetY:d.y,targetPosition:g};switch(e){case da.Bezier:[y]=rv(v);break;case da.SimpleBezier:[y]=LI(v);break;case da.Step:[y]=kS({...v,borderRadius:0});break;case da.SmoothStep:[y]=kS(v);break;default:[y]=oI(v)}return F.jsx("path",{d:y,fill:"none",className:"react-flow__connection-path",style:n})};qI.displayName="ConnectionLine";const w3={};function aR(n=w3){O.useRef(n),Lt(),O.useEffect(()=>{},[n])}function x3(){Lt(),O.useRef(!1),O.useEffect(()=>{},[])}function YI({nodeTypes:n,edgeTypes:e,onInit:t,onNodeClick:r,onEdgeClick:i,onNodeDoubleClick:s,onEdgeDoubleClick:o,onNodeMouseEnter:l,onNodeMouseMove:u,onNodeMouseLeave:d,onNodeContextMenu:h,onSelectionContextMenu:f,onSelectionStart:g,onSelectionEnd:y,connectionLineType:v,connectionLineStyle:w,connectionLineComponent:E,connectionLineContainerStyle:x,selectionKeyCode:_,selectionOnDrag:S,selectionMode:C,multiSelectionKeyCode:k,panActivationKeyCode:I,zoomActivationKeyCode:P,deleteKeyCode:M,onlyRenderVisibleElements:N,elementsSelectable:R,defaultViewport:D,translateExtent:$,minZoom:G,maxZoom:L,preventScrolling:q,defaultMarkerColor:H,zoomOnScroll:X,zoomOnPinch:W,panOnScroll:U,panOnScrollSpeed:Q,panOnScrollMode:Y,zoomOnDoubleClick:te,panOnDrag:K,onPaneClick:ee,onPaneMouseEnter:J,onPaneMouseMove:ie,onPaneMouseLeave:ne,onPaneScroll:oe,onPaneContextMenu:ue,paneClickDistance:he,nodeClickDistance:me,onEdgeContextMenu:fe,onEdgeMouseEnter:we,onEdgeMouseMove:be,onEdgeMouseLeave:Be,reconnectRadius:st,onReconnect:Ot,onReconnectStart:Tt,onReconnectEnd:vn,noDragClassName:St,noWheelClassName:dt,noPanClassName:Pe,disableKeyboardA11y:Xn,nodeExtent:Yt,rfId:Kn,viewport:ar,onViewportChange:lr}){return aR(n),aR(e),x3(),h3(t),p3(ar),F.jsx(zj,{onPaneClick:ee,onPaneMouseEnter:J,onPaneMouseMove:ie,onPaneMouseLeave:ne,onPaneContextMenu:ue,onPaneScroll:oe,paneClickDistance:he,deleteKeyCode:M,selectionKeyCode:_,selectionOnDrag:S,selectionMode:C,onSelectionStart:g,onSelectionEnd:y,multiSelectionKeyCode:k,panActivationKeyCode:I,zoomActivationKeyCode:P,elementsSelectable:R,zoomOnScroll:X,zoomOnPinch:W,zoomOnDoubleClick:te,panOnScroll:U,panOnScrollSpeed:Q,panOnScrollMode:Y,panOnDrag:K,defaultViewport:D,translateExtent:$,minZoom:G,maxZoom:L,onSelectionContextMenu:f,preventScrolling:q,noDragClassName:St,noWheelClassName:dt,noPanClassName:Pe,disableKeyboardA11y:Xn,onViewportChange:lr,isControlledViewport:!!ar,children:F.jsxs(d3,{children:[F.jsx(c3,{edgeTypes:e,onEdgeClick:i,onEdgeDoubleClick:o,onReconnect:Ot,onReconnectStart:Tt,onReconnectEnd:vn,onlyRenderVisibleElements:N,onEdgeContextMenu:fe,onEdgeMouseEnter:we,onEdgeMouseMove:be,onEdgeMouseLeave:Be,reconnectRadius:st,defaultMarkerColor:H,noPanClassName:Pe,disableKeyboardA11y:Xn,rfId:Kn}),F.jsx(b3,{style:w,type:v,component:E,containerStyle:x}),F.jsx("div",{className:"react-flow__edgelabel-renderer"}),F.jsx(Gj,{nodeTypes:n,onNodeClick:r,onNodeDoubleClick:s,onNodeMouseEnter:l,onNodeMouseMove:u,onNodeMouseLeave:d,onNodeContextMenu:h,nodeClickDistance:me,onlyRenderVisibleElements:N,noPanClassName:Pe,noDragClassName:St,disableKeyboardA11y:Xn,nodeExtent:Yt,rfId:Kn}),F.jsx("div",{className:"react-flow__viewport-portal"})]})})}YI.displayName="GraphView";const S3=O.memo(YI),lR=({nodes:n,edges:e,defaultNodes:t,defaultEdges:r,width:i,height:s,fitView:o,nodeOrigin:l,nodeExtent:u}={})=>{const d=new Map,h=new Map,f=new Map,g=new Map,y=r??e??[],v=t??n??[],w=l??[0,0],E=u??Sf;lI(f,g,y),TS(v,d,h,{nodeOrigin:w,nodeExtent:E,elevateNodesOnSelect:!1});let x=[0,0,1];if(o&&i&&s){const _=yg(d,{filter:I=>!!((I.width||I.initialWidth)&&(I.height||I.initialHeight))}),{x:S,y:C,zoom:k}=C1(_,i,s,.5,2,.1);x=[S,C,k]}return{rfId:"1",width:0,height:0,transform:x,nodes:v,nodeLookup:d,parentLookup:h,edges:y,edgeLookup:g,connectionLookup:f,onNodesChange:null,onEdgesChange:null,hasDefaultNodes:t!==void 0,hasDefaultEdges:r!==void 0,panZoom:null,minZoom:.5,maxZoom:2,translateExtent:Sf,nodeExtent:E,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionMode:kd.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:w,nodeDragThreshold:1,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesReconnectable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,elevateEdgesOnSelect:!1,fitViewOnInit:!1,fitViewDone:!1,fitViewOnInitOptions:void 0,selectNodesOnDrag:!0,multiSelectionActive:!1,connection:{...UM},connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,autoPanSpeed:15,connectionRadius:20,onError:V5,isValidConnection:void 0,onSelectionChangeHandlers:[],lib:"react",debug:!1}},E3=({nodes:n,edges:e,defaultNodes:t,defaultEdges:r,width:i,height:s,fitView:o,nodeOrigin:l,nodeExtent:u})=>HB((d,h)=>({...lR({nodes:n,edges:e,width:i,height:s,fitView:o,nodeOrigin:l,nodeExtent:u,defaultNodes:t,defaultEdges:r}),setNodes:f=>{const{nodeLookup:g,parentLookup:y,nodeOrigin:v,elevateNodesOnSelect:w}=h();TS(f,g,y,{nodeOrigin:v,nodeExtent:u,elevateNodesOnSelect:w,checkEquality:!0}),d({nodes:f})},setEdges:f=>{const{connectionLookup:g,edgeLookup:y}=h();lI(g,y,f),d({edges:f})},setDefaultNodesAndEdges:(f,g)=>{if(f){const{setNodes:y}=h();y(f),d({hasDefaultNodes:!0})}if(g){const{setEdges:y}=h();y(g),d({hasDefaultEdges:!0})}},updateNodeInternals:(f,g={triggerFitView:!0})=>{const{triggerNodeChanges:y,nodeLookup:v,parentLookup:w,fitViewOnInit:E,fitViewDone:x,fitViewOnInitOptions:_,domNode:S,nodeOrigin:C,nodeExtent:k,debug:I,fitViewSync:P}=h(),{changes:M,updatedInternals:N}=oB(f,v,w,S,C,k);if(N){if(rB(v,w,{nodeOrigin:C,nodeExtent:k}),g.triggerFitView){let R=x;!x&&E&&(R=P({..._,nodes:_==null?void 0:_.nodes})),d({fitViewDone:R})}else d({});(M==null?void 0:M.length)>0&&(I&&console.log("React Flow: trigger node changes",M),y==null||y(M))}},updateNodePositions:(f,g=!1)=>{const y=[],v=[],{nodeLookup:w,triggerNodeChanges:E}=h();for(const[x,_]of f){const S=w.get(x),C=!!(S!=null&&S.expandParent&&(S!=null&&S.parentId)&&(_!=null&&_.position)),k={id:x,type:"position",position:C?{x:Math.max(0,_.position.x),y:Math.max(0,_.position.y)}:_.position,dragging:g};C&&S.parentId&&y.push({id:x,parentId:S.parentId,rect:{..._.internals.positionAbsolute,width:_.measured.width??0,height:_.measured.height??0}}),v.push(k)}if(y.length>0){const{parentLookup:x,nodeOrigin:_}=h(),S=R1(y,w,x,_);v.push(...S)}E(v)},triggerNodeChanges:f=>{const{onNodesChange:g,setNodes:y,nodes:v,hasDefaultNodes:w,debug:E}=h();if(f!=null&&f.length){if(w){const x=EI(f,v);y(x)}E&&console.log("React Flow: trigger node changes",f),g==null||g(f)}},triggerEdgeChanges:f=>{const{onEdgesChange:g,setEdges:y,edges:v,hasDefaultEdges:w,debug:E}=h();if(f!=null&&f.length){if(w){const x=CI(f,v);y(x)}E&&console.log("React Flow: trigger edge changes",f),g==null||g(f)}},addSelectedNodes:f=>{const{multiSelectionActive:g,edgeLookup:y,nodeLookup:v,triggerNodeChanges:w,triggerEdgeChanges:E}=h();if(g){const x=f.map(_=>ul(_,!0));w(x);return}w(xu(v,new Set([...f]),!0)),E(xu(y))},addSelectedEdges:f=>{const{multiSelectionActive:g,edgeLookup:y,nodeLookup:v,triggerNodeChanges:w,triggerEdgeChanges:E}=h();if(g){const x=f.map(_=>ul(_,!0));E(x);return}E(xu(y,new Set([...f]))),w(xu(v,new Set,!0))},unselectNodesAndEdges:({nodes:f,edges:g}={})=>{const{edges:y,nodes:v,nodeLookup:w,triggerNodeChanges:E,triggerEdgeChanges:x}=h(),_=f||v,S=g||y,C=_.map(I=>{const P=w.get(I.id);return P&&(P.selected=!1),ul(I.id,!1)}),k=S.map(I=>ul(I.id,!1));E(C),x(k)},setMinZoom:f=>{const{panZoom:g,maxZoom:y}=h();g==null||g.setScaleExtent([f,y]),d({minZoom:f})},setMaxZoom:f=>{const{panZoom:g,minZoom:y}=h();g==null||g.setScaleExtent([y,f]),d({maxZoom:f})},setTranslateExtent:f=>{var g;(g=h().panZoom)==null||g.setTranslateExtent(f),d({translateExtent:f})},setPaneClickDistance:f=>{var g;(g=h().panZoom)==null||g.setClickDistance(f)},resetSelectedElements:()=>{const{edges:f,nodes:g,triggerNodeChanges:y,triggerEdgeChanges:v}=h(),w=g.reduce((x,_)=>_.selected?[...x,ul(_.id,!1)]:x,[]),E=f.reduce((x,_)=>_.selected?[...x,ul(_.id,!1)]:x,[]);y(w),v(E)},setNodeExtent:f=>{const{nodes:g,nodeLookup:y,parentLookup:v,nodeOrigin:w,elevateNodesOnSelect:E,nodeExtent:x}=h();f[0][0]===x[0][0]&&f[0][1]===x[0][1]&&f[1][0]===x[1][0]&&f[1][1]===x[1][1]||(TS(g,y,v,{nodeOrigin:w,nodeExtent:f,elevateNodesOnSelect:E,checkEquality:!1}),d({nodeExtent:f}))},panBy:f=>{const{transform:g,width:y,height:v,panZoom:w,translateExtent:E}=h();return aB({delta:f,panZoom:w,transform:g,translateExtent:E,width:y,height:v})},fitView:f=>{const{panZoom:g,width:y,height:v,minZoom:w,maxZoom:E,nodeLookup:x}=h();if(!g)return Promise.resolve(!1);const _=ES(x,f);return CS({nodes:_,width:y,height:v,panZoom:g,minZoom:w,maxZoom:E},f)},fitViewSync:f=>{const{panZoom:g,width:y,height:v,minZoom:w,maxZoom:E,nodeLookup:x}=h();if(!g)return!1;const _=ES(x,f);return CS({nodes:_,width:y,height:v,panZoom:g,minZoom:w,maxZoom:E},f),_.size>0},cancelConnection:()=>{d({connection:{...UM}})},updateConnection:f=>{d({connection:f})},reset:()=>d({...lR()})}),Object.is);function XI({initialNodes:n,initialEdges:e,defaultNodes:t,defaultEdges:r,initialWidth:i,initialHeight:s,fitView:o,nodeOrigin:l,nodeExtent:u,children:d}){const[h]=O.useState(()=>E3({nodes:n,edges:e,defaultNodes:t,defaultEdges:r,width:i,height:s,fitView:o,nodeOrigin:l,nodeExtent:u}));return F.jsx(WB,{value:h,children:F.jsx(hj,{children:d})})}function C3({children:n,nodes:e,edges:t,defaultNodes:r,defaultEdges:i,width:s,height:o,fitView:l,nodeOrigin:u,nodeExtent:d}){return O.useContext(sv)?F.jsx(F.Fragment,{children:n}):F.jsx(XI,{initialNodes:e,initialEdges:t,defaultNodes:r,defaultEdges:i,initialWidth:s,initialHeight:o,fitView:l,nodeOrigin:u,nodeExtent:d,children:n})}const _3={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0};function A3({nodes:n,edges:e,defaultNodes:t,defaultEdges:r,className:i,nodeTypes:s,edgeTypes:o,onNodeClick:l,onEdgeClick:u,onInit:d,onMove:h,onMoveStart:f,onMoveEnd:g,onConnect:y,onConnectStart:v,onConnectEnd:w,onClickConnectStart:E,onClickConnectEnd:x,onNodeMouseEnter:_,onNodeMouseMove:S,onNodeMouseLeave:C,onNodeContextMenu:k,onNodeDoubleClick:I,onNodeDragStart:P,onNodeDrag:M,onNodeDragStop:N,onNodesDelete:R,onEdgesDelete:D,onDelete:$,onSelectionChange:G,onSelectionDragStart:L,onSelectionDrag:q,onSelectionDragStop:H,onSelectionContextMenu:X,onSelectionStart:W,onSelectionEnd:U,onBeforeDelete:Q,connectionMode:Y,connectionLineType:te=da.Bezier,connectionLineStyle:K,connectionLineComponent:ee,connectionLineContainerStyle:J,deleteKeyCode:ie="Backspace",selectionKeyCode:ne="Shift",selectionOnDrag:oe=!1,selectionMode:ue=Ef.Full,panActivationKeyCode:he="Space",multiSelectionKeyCode:me=c0()?"Meta":"Control",zoomActivationKeyCode:fe=c0()?"Meta":"Control",snapToGrid:we,snapGrid:be,onlyRenderVisibleElements:Be=!1,selectNodesOnDrag:st,nodesDraggable:Ot,nodesConnectable:Tt,nodesFocusable:vn,nodeOrigin:St=xI,edgesFocusable:dt,edgesReconnectable:Pe,elementsSelectable:Xn=!0,defaultViewport:Yt=nj,minZoom:Kn=.5,maxZoom:ar=2,translateExtent:lr=Sf,preventScrolling:_r=!0,nodeExtent:Ar,defaultMarkerColor:Qn="#b1b1b7",zoomOnScroll:et=!0,zoomOnPinch:Hi=!0,panOnScroll:Wi=!1,panOnScrollSpeed:Va=.5,panOnScrollMode:De=mc.Free,zoomOnDoubleClick:ot=!0,panOnDrag:Dt=!0,onPaneClick:Yr,onPaneMouseEnter:Io,onPaneMouseMove:$d,onPaneMouseLeave:No,onPaneScroll:Lo,onPaneContextMenu:Lg,paneClickDistance:Bd=0,nodeClickDistance:Og=0,children:Dg,onReconnect:Fg,onReconnectStart:jd,onReconnectEnd:zg,onEdgeContextMenu:Ga,onEdgeDoubleClick:Hd,onEdgeMouseEnter:qa,onEdgeMouseMove:zv,onEdgeMouseLeave:Ya,reconnectRadius:Mc=10,onNodesChange:Ic,onEdgesChange:Wd,noDragClassName:$v="nodrag",noWheelClassName:Bv="nowheel",noPanClassName:$g="nopan",fitView:Ui,fitViewOptions:Bg,connectOnClick:jg,attributionPosition:jv,proOptions:Hg,defaultEdgeOptions:Wg,elevateNodesOnSelect:Ug,elevateEdgesOnSelect:Vg,disableKeyboardA11y:Gg=!1,autoPanOnConnect:Hv,autoPanOnNodeDrag:Ft,autoPanSpeed:Wv,connectionRadius:Ud,isValidConnection:qg,onError:Nc,style:Uv,id:Vd,nodeDragThreshold:Lc,viewport:Xr,onViewportChange:Vv,width:kr,height:Gv,colorMode:qv="light",debug:Yv,onScroll:Rs,...Oc},Xa){const Oo=Vd||"1",Xv=oj(qv),Kv=O.useCallback(Dc=>{Dc.currentTarget.scrollTo({top:0,left:0,behavior:"instant"}),Rs==null||Rs(Dc)},[Rs]);return F.jsx("div",{"data-testid":"rf__wrapper",...Oc,onScroll:Kv,style:{...Uv,..._3},ref:Xa,className:ln(["react-flow",i,Xv]),id:Vd,children:F.jsxs(C3,{nodes:n,edges:e,width:kr,height:Gv,fitView:Ui,nodeOrigin:St,nodeExtent:Ar,children:[F.jsx(S3,{onInit:d,onNodeClick:l,onEdgeClick:u,onNodeMouseEnter:_,onNodeMouseMove:S,onNodeMouseLeave:C,onNodeContextMenu:k,onNodeDoubleClick:I,nodeTypes:s,edgeTypes:o,connectionLineType:te,connectionLineStyle:K,connectionLineComponent:ee,connectionLineContainerStyle:J,selectionKeyCode:ne,selectionOnDrag:oe,selectionMode:ue,deleteKeyCode:ie,multiSelectionKeyCode:me,panActivationKeyCode:he,zoomActivationKeyCode:fe,onlyRenderVisibleElements:Be,defaultViewport:Yt,translateExtent:lr,minZoom:Kn,maxZoom:ar,preventScrolling:_r,zoomOnScroll:et,zoomOnPinch:Hi,zoomOnDoubleClick:ot,panOnScroll:Wi,panOnScrollSpeed:Va,panOnScrollMode:De,panOnDrag:Dt,onPaneClick:Yr,onPaneMouseEnter:Io,onPaneMouseMove:$d,onPaneMouseLeave:No,onPaneScroll:Lo,onPaneContextMenu:Lg,paneClickDistance:Bd,nodeClickDistance:Og,onSelectionContextMenu:X,onSelectionStart:W,onSelectionEnd:U,onReconnect:Fg,onReconnectStart:jd,onReconnectEnd:zg,onEdgeContextMenu:Ga,onEdgeDoubleClick:Hd,onEdgeMouseEnter:qa,onEdgeMouseMove:zv,onEdgeMouseLeave:Ya,reconnectRadius:Mc,defaultMarkerColor:Qn,noDragClassName:$v,noWheelClassName:Bv,noPanClassName:$g,rfId:Oo,disableKeyboardA11y:Gg,nodeExtent:Ar,viewport:Xr,onViewportChange:Vv}),F.jsx(sj,{nodes:n,edges:e,defaultNodes:t,defaultEdges:r,onConnect:y,onConnectStart:v,onConnectEnd:w,onClickConnectStart:E,onClickConnectEnd:x,nodesDraggable:Ot,nodesConnectable:Tt,nodesFocusable:vn,edgesFocusable:dt,edgesReconnectable:Pe,elementsSelectable:Xn,elevateNodesOnSelect:Ug,elevateEdgesOnSelect:Vg,minZoom:Kn,maxZoom:ar,nodeExtent:Ar,onNodesChange:Ic,onEdgesChange:Wd,snapToGrid:we,snapGrid:be,connectionMode:Y,translateExtent:lr,connectOnClick:jg,defaultEdgeOptions:Wg,fitView:Ui,fitViewOptions:Bg,onNodesDelete:R,onEdgesDelete:D,onDelete:$,onNodeDragStart:P,onNodeDrag:M,onNodeDragStop:N,onSelectionDrag:q,onSelectionDragStart:L,onSelectionDragStop:H,onMove:h,onMoveStart:f,onMoveEnd:g,noPanClassName:$g,nodeOrigin:St,rfId:Oo,autoPanOnConnect:Hv,autoPanOnNodeDrag:Ft,autoPanSpeed:Wv,onError:Nc,connectionRadius:Ud,isValidConnection:qg,selectNodesOnDrag:st,nodeDragThreshold:Lc,onBeforeDelete:Q,paneClickDistance:Bd,debug:Yv}),F.jsx(tj,{onSelectionChange:G}),Dg,F.jsx(KB,{proOptions:Hg,position:jv}),F.jsx(YB,{rfId:Oo,disableKeyboardA11y:Gg})]})})}var k3=_I(A3);const R3=n=>{var e;return(e=n.domNode)==null?void 0:e.querySelector(".react-flow__edgelabel-renderer")};function KI({children:n}){const e=Qe(R3);return e?bg.createPortal(n,e):null}function T3(n){const[e,t]=O.useState(n),r=O.useCallback(i=>t(s=>EI(i,s)),[]);return[e,t,r]}function P3(n){const[e,t]=O.useState(n),r=O.useCallback(i=>t(s=>CI(i,s)),[]);return[e,t,r]}function M3({dimensions:n,lineWidth:e,variant:t,className:r}){return F.jsx("path",{strokeWidth:e,d:`M${n[0]/2} 0 V${n[1]} M0 ${n[1]/2} H${n[0]}`,className:ln(["react-flow__background-pattern",t,r])})}function I3({radius:n,className:e}){return F.jsx("circle",{cx:n,cy:n,r:n,className:ln(["react-flow__background-pattern","dots",e])})}var La;(function(n){n.Lines="lines",n.Dots="dots",n.Cross="cross"})(La||(La={}));const N3={[La.Dots]:1,[La.Lines]:1,[La.Cross]:6},L3=n=>({transform:n.transform,patternId:`pattern-${n.rfId}`});function QI({id:n,variant:e=La.Dots,gap:t=20,size:r,lineWidth:i=1,offset:s=0,color:o,bgColor:l,style:u,className:d,patternClassName:h}){const f=O.useRef(null),{transform:g,patternId:y}=Qe(L3,qt),v=r||N3[e],w=e===La.Dots,E=e===La.Cross,x=Array.isArray(t)?t:[t,t],_=[x[0]*g[2]||1,x[1]*g[2]||1],S=v*g[2],C=Array.isArray(s)?s:[s,s],k=E?[S,S]:_,I=[C[0]*g[2]||1+k[0]/2,C[1]*g[2]||1+k[1]/2],P=`${y}${n||""}`;return F.jsxs("svg",{className:ln(["react-flow__background",d]),style:{...u,...av,"--xy-background-color-props":l,"--xy-background-pattern-color-props":o},ref:f,"data-testid":"rf__background",children:[F.jsx("pattern",{id:P,x:g[0]%_[0],y:g[1]%_[1],width:_[0],height:_[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${I[0]},-${I[1]})`,children:w?F.jsx(I3,{radius:S/2,className:h}):F.jsx(M3,{dimensions:k,lineWidth:i,variant:e,className:h})}),F.jsx("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${P})`})]})}QI.displayName="Background";const O3=O.memo(QI);function D3(){return F.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",children:F.jsx("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"})})}function F3(){return F.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5",children:F.jsx("path",{d:"M0 0h32v4.2H0z"})})}function z3(){return F.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30",children:F.jsx("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"})})}function $3(){return F.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:F.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"})})}function B3(){return F.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:F.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"})})}function sy({children:n,className:e,...t}){return F.jsx("button",{type:"button",className:ln(["react-flow__controls-button",e]),...t,children:n})}const j3=n=>({isInteractive:n.nodesDraggable||n.nodesConnectable||n.elementsSelectable,minZoomReached:n.transform[2]<=n.minZoom,maxZoomReached:n.transform[2]>=n.maxZoom});function ZI({style:n,showZoom:e=!0,showFitView:t=!0,showInteractive:r=!0,fitViewOptions:i,onZoomIn:s,onZoomOut:o,onFitView:l,onInteractiveChange:u,className:d,children:h,position:f="bottom-left",orientation:g="vertical","aria-label":y="React Flow controls"}){const v=Lt(),{isInteractive:w,minZoomReached:E,maxZoomReached:x}=Qe(j3,qt),{zoomIn:_,zoomOut:S,fitView:C}=ov(),k=()=>{_(),s==null||s()},I=()=>{S(),o==null||o()},P=()=>{C(i),l==null||l()},M=()=>{v.setState({nodesDraggable:!w,nodesConnectable:!w,elementsSelectable:!w}),u==null||u(!w)},N=g==="horizontal"?"horizontal":"vertical";return F.jsxs(wg,{className:ln(["react-flow__controls",N,d]),position:f,style:n,"data-testid":"rf__controls","aria-label":y,children:[e&&F.jsxs(F.Fragment,{children:[F.jsx(sy,{onClick:k,className:"react-flow__controls-zoomin",title:"zoom in","aria-label":"zoom in",disabled:x,children:F.jsx(D3,{})}),F.jsx(sy,{onClick:I,className:"react-flow__controls-zoomout",title:"zoom out","aria-label":"zoom out",disabled:E,children:F.jsx(F3,{})})]}),t&&F.jsx(sy,{className:"react-flow__controls-fitview",onClick:P,title:"fit view","aria-label":"fit view",children:F.jsx(z3,{})}),r&&F.jsx(sy,{className:"react-flow__controls-interactive",onClick:M,title:"toggle interactivity","aria-label":"toggle interactivity",children:w?F.jsx(B3,{}):F.jsx($3,{})}),h]})}ZI.displayName="Controls";const H3=O.memo(ZI);function W3({id:n,x:e,y:t,width:r,height:i,style:s,color:o,strokeColor:l,strokeWidth:u,className:d,borderRadius:h,shapeRendering:f,selected:g,onClick:y}){const{background:v,backgroundColor:w}=s||{},E=o||v||w;return F.jsx("rect",{className:ln(["react-flow__minimap-node",{selected:g},d]),x:e,y:t,rx:h,ry:h,width:r,height:i,style:{fill:E,stroke:l,strokeWidth:u},shapeRendering:f,onClick:y?x=>y(x,n):void 0})}const U3=O.memo(W3),V3=n=>n.nodes.map(e=>e.id),qw=n=>n instanceof Function?n:()=>n;function G3({nodeStrokeColor:n,nodeColor:e,nodeClassName:t="",nodeBorderRadius:r=5,nodeStrokeWidth:i,nodeComponent:s=U3,onClick:o}){const l=Qe(V3,qt),u=qw(e),d=qw(n),h=qw(t),f=typeof window>"u"||window.chrome?"crispEdges":"geometricPrecision";return F.jsx(F.Fragment,{children:l.map(g=>F.jsx(Y3,{id:g,nodeColorFunc:u,nodeStrokeColorFunc:d,nodeClassNameFunc:h,nodeBorderRadius:r,nodeStrokeWidth:i,NodeComponent:s,onClick:o,shapeRendering:f},g))})}function q3({id:n,nodeColorFunc:e,nodeStrokeColorFunc:t,nodeClassNameFunc:r,nodeBorderRadius:i,nodeStrokeWidth:s,shapeRendering:o,NodeComponent:l,onClick:u}){const{node:d,x:h,y:f,width:g,height:y}=Qe(v=>{const w=v.nodeLookup.get(n),{x:E,y:x}=w.internals.positionAbsolute,{width:_,height:S}=Po(w);return{node:w,x:E,y:x,width:_,height:S}},qt);return!d||d.hidden||!JM(d)?null:F.jsx(l,{x:h,y:f,width:g,height:y,style:d.style,selected:!!d.selected,className:r(d),color:e(d),borderRadius:i,strokeColor:t(d),strokeWidth:s,shapeRendering:o,onClick:u,id:d.id})}const Y3=O.memo(q3);var X3=O.memo(G3);const K3=200,Q3=150,Z3=n=>{const e={x:-n.transform[0]/n.transform[2],y:-n.transform[1]/n.transform[2],width:n.width/n.transform[2],height:n.height/n.transform[2]};return{viewBB:e,boundingRect:n.nodeLookup.size>0?QM(yg(n.nodeLookup),e):e,rfId:n.rfId,panZoom:n.panZoom,translateExtent:n.translateExtent,flowWidth:n.width,flowHeight:n.height}},J3="react-flow__minimap-desc";function JI({style:n,className:e,nodeStrokeColor:t,nodeColor:r,nodeClassName:i="",nodeBorderRadius:s=5,nodeStrokeWidth:o,nodeComponent:l,bgColor:u,maskColor:d,maskStrokeColor:h,maskStrokeWidth:f,position:g="bottom-right",onClick:y,onNodeClick:v,pannable:w=!1,zoomable:E=!1,ariaLabel:x="React Flow mini map",inversePan:_,zoomStep:S=10,offsetScale:C=5}){const k=Lt(),I=O.useRef(null),{boundingRect:P,viewBB:M,rfId:N,panZoom:R,translateExtent:D,flowWidth:$,flowHeight:G}=Qe(Z3,qt),L=(n==null?void 0:n.width)??K3,q=(n==null?void 0:n.height)??Q3,H=P.width/L,X=P.height/q,W=Math.max(H,X),U=W*L,Q=W*q,Y=C*W,te=P.x-(U-P.width)/2-Y,K=P.y-(Q-P.height)/2-Y,ee=U+Y*2,J=Q+Y*2,ie=`${J3}-${N}`,ne=O.useRef(0),oe=O.useRef();ne.current=W,O.useEffect(()=>{if(I.current&&R)return oe.current=gB({domNode:I.current,panZoom:R,getTransform:()=>k.getState().transform,getViewScale:()=>ne.current}),()=>{var me;(me=oe.current)==null||me.destroy()}},[R]),O.useEffect(()=>{var me;(me=oe.current)==null||me.update({translateExtent:D,width:$,height:G,inversePan:_,pannable:w,zoomStep:S,zoomable:E})},[w,E,_,S,D,$,G]);const ue=y?me=>{var be;const[fe,we]=((be=oe.current)==null?void 0:be.pointer(me))||[0,0];y(me,{x:fe,y:we})}:void 0,he=v?O.useCallback((me,fe)=>{const we=k.getState().nodeLookup.get(fe);v(me,we)},[]):void 0;return F.jsx(wg,{position:g,style:{...n,"--xy-minimap-background-color-props":typeof u=="string"?u:void 0,"--xy-minimap-mask-background-color-props":typeof d=="string"?d:void 0,"--xy-minimap-mask-stroke-color-props":typeof h=="string"?h:void 0,"--xy-minimap-mask-stroke-width-props":typeof f=="number"?f*W:void 0,"--xy-minimap-node-background-color-props":typeof r=="string"?r:void 0,"--xy-minimap-node-stroke-color-props":typeof t=="string"?t:void 0,"--xy-minimap-node-stroke-width-props":typeof o=="string"?o:void 0},className:ln(["react-flow__minimap",e]),"data-testid":"rf__minimap",children:F.jsxs("svg",{width:L,height:q,viewBox:`${te} ${K} ${ee} ${J}`,className:"react-flow__minimap-svg",role:"img","aria-labelledby":ie,ref:I,onClick:ue,children:[x&&F.jsx("title",{id:ie,children:x}),F.jsx(X3,{onClick:he,nodeColor:r,nodeStrokeColor:t,nodeBorderRadius:s,nodeClassName:i,nodeStrokeWidth:o,nodeComponent:l}),F.jsx("path",{className:"react-flow__minimap-mask",d:`M${te-Y},${K-Y}h${ee+Y*2}v${J+Y*2}h${-ee-Y*2}z
        M${M.x},${M.y}h${M.width}v${M.height}h${-M.width}z`,fillRule:"evenodd",pointerEvents:"none"})]})})}JI.displayName="MiniMap";const eH=O.memo(JI);function tH({nodeId:n,position:e,variant:t=lf.Handle,className:r,style:i={},children:s,color:o,minWidth:l=10,minHeight:u=10,maxWidth:d=Number.MAX_VALUE,maxHeight:h=Number.MAX_VALUE,keepAspectRatio:f=!1,shouldResize:g,onResizeStart:y,onResize:v,onResizeEnd:w}){const E=TI(),x=typeof n=="string"?n:E,_=Lt(),S=O.useRef(null),C=t===lf.Line?"right":"bottom-right",k=e??C,I=O.useRef(null);O.useEffect(()=>{if(!(!S.current||!x))return I.current||(I.current=PB({domNode:S.current,nodeId:x,getStoreItems:()=>{const{nodeLookup:R,transform:D,snapGrid:$,snapToGrid:G,nodeOrigin:L,domNode:q}=_.getState();return{nodeLookup:R,transform:D,snapGrid:$,snapToGrid:G,nodeOrigin:L,paneDomNode:q}},onChange:(R,D)=>{const{triggerNodeChanges:$,nodeLookup:G,parentLookup:L,nodeOrigin:q}=_.getState(),H=[],X={x:R.x,y:R.y},W=G.get(x);if(W&&W.expandParent&&W.parentId){const U=W.origin??q,Q=R.width??W.measured.width??0,Y=R.height??W.measured.height??0,te={id:W.id,parentId:W.parentId,rect:{width:Q,height:Y,...eI({x:R.x??W.position.x,y:R.y??W.position.y},{width:Q,height:Y},W.parentId,G,U)}},K=R1([te],G,L,q);H.push(...K),X.x=R.x?Math.max(U[0]*Q,R.x):void 0,X.y=R.y?Math.max(U[1]*Y,R.y):void 0}if(X.x!==void 0&&X.y!==void 0){const U={id:x,type:"position",position:{...X}};H.push(U)}if(R.width!==void 0&&R.height!==void 0){const U={id:x,type:"dimensions",resizing:!0,setAttributes:!0,dimensions:{width:R.width,height:R.height}};H.push(U)}for(const U of D){const Q={...U,type:"position"};H.push(Q)}$(H)},onEnd:()=>{const R={id:x,type:"dimensions",resizing:!1};_.getState().triggerNodeChanges([R])}})),I.current.update({controlPosition:k,boundaries:{minWidth:l,minHeight:u,maxWidth:d,maxHeight:h},keepAspectRatio:f,onResizeStart:y,onResize:v,onResizeEnd:w,shouldResize:g}),()=>{var R;(R=I.current)==null||R.destroy()}},[k,l,u,d,h,f,y,v,w,g]);const P=k.split("-"),M=t===lf.Line?"borderColor":"backgroundColor",N=o?{...i,[M]:o}:i;return F.jsx("div",{className:ln(["react-flow__resize-control","nodrag",...P,t,r]),ref:S,style:N,children:s})}O.memo(tH);const Mo=O.createContext(null),nH=({children:n})=>{const[e,t]=O.useState(null),[r,i]=O.useState([]),[s,o]=O.useState(0),[l,u]=O.useState({}),[d,h]=O.useState(!1),[f,g]=O.useState("0"),[y,v]=O.useState(null),[w,E]=O.useState([]),[x,_,S]=T3([]),[C,k,I]=P3([]),P=150,M=150,N=O.useCallback(W=>{console.log("Connect",W);const U={...W,type:"relation",markerEnd:{type:Rd.Arrow}};k(Q=>sI(U,Q))},[]);O.useEffect(()=>{o(r.filter(W=>W.id.startsWith(f.toString())).length)},[f]);const R=W=>{var U;if(W.type==="text"){const Q=((U=W.content.text)==null?void 0:U.trim())??"",Y=Q.split(/\s+/),te=Y.length>10?Y.slice(0,10).join(" ")+"...":Q;return{type:W.type,label:te,content:W.content.text}}else if(W.type==="area")return{type:W.type,label:"Image",content:W.content.image}},D=W=>{var Y;console.log("Add highlight",W,r);const U=`${f}-${s}`;o(te=>te+1),i(te=>[...te,{...W,id:U,readRecordId:f}]);const Q=s===0;if(_(te=>[...te,{id:U,type:"highlight",data:{id:U,readRecordId:f,...R(W),summary:"",references:[],notes:"Write your notes here..."},position:{x:Q?Object.keys(l).findIndex(K=>K===f)*P:x[x.length-1].position.x,y:Q?M:x[x.length-1].position.y+M}}]),console.log("Nodes",x),!Q){const te=(Y=r[r.length-1])==null?void 0:Y.id;k(K=>[...K,{id:U,source:te,target:U,type:"temporal",markerEnd:{type:Rd.Arrow}}])}v(U)},$=(W,U)=>{let Q=[...x];Q=Q.map(Y=>Y.id===W?{...Y,data:{...Y.data,...U}}:Y),console.log("Updated nodes",Q),_(Q)},G=W=>{console.log("Delete highlight",W),i(r.filter(U=>U.id!==W)),_(x.filter(U=>U.id!==W)),k(C.filter(U=>U.id!==W&&U.source!==W&&U.target!==W)),v(null)},L=()=>{console.log("Reset highlights"),i([]),_([]),k([]),v(null),o(0)},q=(W,U)=>{const Q=Object.keys(l).length.toString();u(Y=>({...Y,[Q]:{id:Q,title:W,color:U}})),g(Q),X(Q)},H=W=>{E(U=>U.filter(Q=>Q!==W))},X=W=>{E(U=>[...U,W])};return F.jsx(Mo.Provider,{value:{paperUrl:e,setPaperUrl:t,highlights:r,addHighlight:D,updateNodeData:$,deleteHighlight:G,resetHighlights:L,nodes:x,setNodes:_,onNodesChange:S,edges:C,setEdges:k,onEdgesChange:I,onConnect:N,readRecords:l,isAddingNewRead:d,setIsAddingNewRead:h,currentReadId:f,setCurrentReadId:g,selectedHighlightId:y,setSelectedHighlightId:v,createRead:q,displayedReads:w,hideRead:H,showRead:X},children:n})},kf={black:"#000",white:"#fff"},su={300:"#e57373",400:"#ef5350",500:"#f44336",700:"#d32f2f",800:"#c62828"},ou={50:"#f3e5f5",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",700:"#7b1fa2"},au={50:"#e3f2fd",200:"#90caf9",400:"#42a5f5",700:"#1976d2",800:"#1565c0"},lu={300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",700:"#0288d1",900:"#01579b"},cu={300:"#81c784",400:"#66bb6a",500:"#4caf50",700:"#388e3c",800:"#2e7d32",900:"#1b5e20"},kh={300:"#ffb74d",400:"#ffa726",500:"#ff9800",700:"#f57c00",900:"#e65100"},rH={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"};function _o(n,...e){const t=new URL(`https://mui.com/production-error/?code=${n}`);return e.forEach(r=>t.searchParams.append("args[]",r)),`Minified MUI error #${n}; visit ${t} for the full message.`}const lv="$$material";function d0(){return d0=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},d0.apply(null,arguments)}function iH(n){if(n.sheet)return n.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===n)return document.styleSheets[e]}function sH(n){var e=document.createElement("style");return e.setAttribute("data-emotion",n.key),n.nonce!==void 0&&e.setAttribute("nonce",n.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var oH=function(){function n(t){var r=this;this._insertTag=function(i){var s;r.tags.length===0?r.insertionPoint?s=r.insertionPoint.nextSibling:r.prepend?s=r.container.firstChild:s=r.before:s=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,s),r.tags.push(i)},this.isSpeedy=t.speedy===void 0?!0:t.speedy,this.tags=[],this.ctr=0,this.nonce=t.nonce,this.key=t.key,this.container=t.container,this.prepend=t.prepend,this.insertionPoint=t.insertionPoint,this.before=null}var e=n.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(sH(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var s=iH(i);try{s.insertRule(r,s.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){var i;return(i=r.parentNode)==null?void 0:i.removeChild(r)}),this.tags=[],this.ctr=0},n}(),$n="-ms-",h0="-moz-",at="-webkit-",eN="comm",P1="rule",M1="decl",aH="@import",tN="@keyframes",lH="@layer",cH=Math.abs,cv=String.fromCharCode,uH=Object.assign;function dH(n,e){return Nn(n,0)^45?(((e<<2^Nn(n,0))<<2^Nn(n,1))<<2^Nn(n,2))<<2^Nn(n,3):0}function nN(n){return n.trim()}function hH(n,e){return(n=e.exec(n))?n[0]:n}function ct(n,e,t){return n.replace(e,t)}function IS(n,e){return n.indexOf(e)}function Nn(n,e){return n.charCodeAt(e)|0}function Rf(n,e,t){return n.slice(e,t)}function ms(n){return n.length}function I1(n){return n.length}function oy(n,e){return e.push(n),n}function fH(n,e){return n.map(e).join("")}var uv=1,Id=1,rN=0,Er=0,sn=0,zd="";function dv(n,e,t,r,i,s,o){return{value:n,root:e,parent:t,type:r,props:i,children:s,line:uv,column:Id,length:o,return:""}}function Rh(n,e){return uH(dv("",null,null,"",null,null,0),n,{length:-n.length},e)}function pH(){return sn}function gH(){return sn=Er>0?Nn(zd,--Er):0,Id--,sn===10&&(Id=1,uv--),sn}function Gr(){return sn=Er<rN?Nn(zd,Er++):0,Id++,sn===10&&(Id=1,uv++),sn}function xs(){return Nn(zd,Er)}function _y(){return Er}function xg(n,e){return Rf(zd,n,e)}function Tf(n){switch(n){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function iN(n){return uv=Id=1,rN=ms(zd=n),Er=0,[]}function sN(n){return zd="",n}function Ay(n){return nN(xg(Er-1,NS(n===91?n+2:n===40?n+1:n)))}function mH(n){for(;(sn=xs())&&sn<33;)Gr();return Tf(n)>2||Tf(sn)>3?"":" "}function yH(n,e){for(;--e&&Gr()&&!(sn<48||sn>102||sn>57&&sn<65||sn>70&&sn<97););return xg(n,_y()+(e<6&&xs()==32&&Gr()==32))}function NS(n){for(;Gr();)switch(sn){case n:return Er;case 34:case 39:n!==34&&n!==39&&NS(sn);break;case 40:n===41&&NS(n);break;case 92:Gr();break}return Er}function vH(n,e){for(;Gr()&&n+sn!==57;)if(n+sn===84&&xs()===47)break;return"/*"+xg(e,Er-1)+"*"+cv(n===47?n:Gr())}function bH(n){for(;!Tf(xs());)Gr();return xg(n,Er)}function wH(n){return sN(ky("",null,null,null,[""],n=iN(n),0,[0],n))}function ky(n,e,t,r,i,s,o,l,u){for(var d=0,h=0,f=o,g=0,y=0,v=0,w=1,E=1,x=1,_=0,S="",C=i,k=s,I=r,P=S;E;)switch(v=_,_=Gr()){case 40:if(v!=108&&Nn(P,f-1)==58){IS(P+=ct(Ay(_),"&","&\f"),"&\f")!=-1&&(x=-1);break}case 34:case 39:case 91:P+=Ay(_);break;case 9:case 10:case 13:case 32:P+=mH(v);break;case 92:P+=yH(_y()-1,7);continue;case 47:switch(xs()){case 42:case 47:oy(xH(vH(Gr(),_y()),e,t),u);break;default:P+="/"}break;case 123*w:l[d++]=ms(P)*x;case 125*w:case 59:case 0:switch(_){case 0:case 125:E=0;case 59+h:x==-1&&(P=ct(P,/\f/g,"")),y>0&&ms(P)-f&&oy(y>32?uR(P+";",r,t,f-1):uR(ct(P," ","")+";",r,t,f-2),u);break;case 59:P+=";";default:if(oy(I=cR(P,e,t,d,h,i,l,S,C=[],k=[],f),s),_===123)if(h===0)ky(P,e,I,I,C,s,f,l,k);else switch(g===99&&Nn(P,3)===110?100:g){case 100:case 108:case 109:case 115:ky(n,I,I,r&&oy(cR(n,I,I,0,0,i,l,S,i,C=[],f),k),i,k,f,l,r?C:k);break;default:ky(P,I,I,I,[""],k,0,l,k)}}d=h=y=0,w=x=1,S=P="",f=o;break;case 58:f=1+ms(P),y=v;default:if(w<1){if(_==123)--w;else if(_==125&&w++==0&&gH()==125)continue}switch(P+=cv(_),_*w){case 38:x=h>0?1:(P+="\f",-1);break;case 44:l[d++]=(ms(P)-1)*x,x=1;break;case 64:xs()===45&&(P+=Ay(Gr())),g=xs(),h=f=ms(S=P+=bH(_y())),_++;break;case 45:v===45&&ms(P)==2&&(w=0)}}return s}function cR(n,e,t,r,i,s,o,l,u,d,h){for(var f=i-1,g=i===0?s:[""],y=I1(g),v=0,w=0,E=0;v<r;++v)for(var x=0,_=Rf(n,f+1,f=cH(w=o[v])),S=n;x<y;++x)(S=nN(w>0?g[x]+" "+_:ct(_,/&\f/g,g[x])))&&(u[E++]=S);return dv(n,e,t,i===0?P1:l,u,d,h)}function xH(n,e,t){return dv(n,e,t,eN,cv(pH()),Rf(n,2,-2),0)}function uR(n,e,t,r){return dv(n,e,t,M1,Rf(n,0,r),Rf(n,r+1,-1),r)}function _u(n,e){for(var t="",r=I1(n),i=0;i<r;i++)t+=e(n[i],i,n,e)||"";return t}function SH(n,e,t,r){switch(n.type){case lH:if(n.children.length)break;case aH:case M1:return n.return=n.return||n.value;case eN:return"";case tN:return n.return=n.value+"{"+_u(n.children,r)+"}";case P1:n.value=n.props.join(",")}return ms(t=_u(n.children,r))?n.return=n.value+"{"+t+"}":""}function EH(n){var e=I1(n);return function(t,r,i,s){for(var o="",l=0;l<e;l++)o+=n[l](t,r,i,s)||"";return o}}function CH(n){return function(e){e.root||(e=e.return)&&n(e)}}function oN(n){var e=Object.create(null);return function(t){return e[t]===void 0&&(e[t]=n(t)),e[t]}}var _H=function(e,t,r){for(var i=0,s=0;i=s,s=xs(),i===38&&s===12&&(t[r]=1),!Tf(s);)Gr();return xg(e,Er)},AH=function(e,t){var r=-1,i=44;do switch(Tf(i)){case 0:i===38&&xs()===12&&(t[r]=1),e[r]+=_H(Er-1,t,r);break;case 2:e[r]+=Ay(i);break;case 4:if(i===44){e[++r]=xs()===58?"&\f":"",t[r]=e[r].length;break}default:e[r]+=cv(i)}while(i=Gr());return e},kH=function(e,t){return sN(AH(iN(e),t))},dR=new WeakMap,RH=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var t=e.value,r=e.parent,i=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&t.charCodeAt(0)!==58&&!dR.get(r))&&!i){dR.set(e,!0);for(var s=[],o=kH(t,s),l=r.props,u=0,d=0;u<o.length;u++)for(var h=0;h<l.length;h++,d++)e.props[d]=s[u]?o[u].replace(/&\f/g,l[h]):l[h]+" "+o[u]}}},TH=function(e){if(e.type==="decl"){var t=e.value;t.charCodeAt(0)===108&&t.charCodeAt(2)===98&&(e.return="",e.value="")}};function aN(n,e){switch(dH(n,e)){case 5103:return at+"print-"+n+n;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return at+n+n;case 5349:case 4246:case 4810:case 6968:case 2756:return at+n+h0+n+$n+n+n;case 6828:case 4268:return at+n+$n+n+n;case 6165:return at+n+$n+"flex-"+n+n;case 5187:return at+n+ct(n,/(\w+).+(:[^]+)/,at+"box-$1$2"+$n+"flex-$1$2")+n;case 5443:return at+n+$n+"flex-item-"+ct(n,/flex-|-self/,"")+n;case 4675:return at+n+$n+"flex-line-pack"+ct(n,/align-content|flex-|-self/,"")+n;case 5548:return at+n+$n+ct(n,"shrink","negative")+n;case 5292:return at+n+$n+ct(n,"basis","preferred-size")+n;case 6060:return at+"box-"+ct(n,"-grow","")+at+n+$n+ct(n,"grow","positive")+n;case 4554:return at+ct(n,/([^-])(transform)/g,"$1"+at+"$2")+n;case 6187:return ct(ct(ct(n,/(zoom-|grab)/,at+"$1"),/(image-set)/,at+"$1"),n,"")+n;case 5495:case 3959:return ct(n,/(image-set\([^]*)/,at+"$1$`$1");case 4968:return ct(ct(n,/(.+:)(flex-)?(.*)/,at+"box-pack:$3"+$n+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+at+n+n;case 4095:case 3583:case 4068:case 2532:return ct(n,/(.+)-inline(.+)/,at+"$1$2")+n;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(ms(n)-1-e>6)switch(Nn(n,e+1)){case 109:if(Nn(n,e+4)!==45)break;case 102:return ct(n,/(.+:)(.+)-([^]+)/,"$1"+at+"$2-$3$1"+h0+(Nn(n,e+3)==108?"$3":"$2-$3"))+n;case 115:return~IS(n,"stretch")?aN(ct(n,"stretch","fill-available"),e)+n:n}break;case 4949:if(Nn(n,e+1)!==115)break;case 6444:switch(Nn(n,ms(n)-3-(~IS(n,"!important")&&10))){case 107:return ct(n,":",":"+at)+n;case 101:return ct(n,/(.+:)([^;!]+)(;|!.+)?/,"$1"+at+(Nn(n,14)===45?"inline-":"")+"box$3$1"+at+"$2$3$1"+$n+"$2box$3")+n}break;case 5936:switch(Nn(n,e+11)){case 114:return at+n+$n+ct(n,/[svh]\w+-[tblr]{2}/,"tb")+n;case 108:return at+n+$n+ct(n,/[svh]\w+-[tblr]{2}/,"tb-rl")+n;case 45:return at+n+$n+ct(n,/[svh]\w+-[tblr]{2}/,"lr")+n}return at+n+$n+n+n}return n}var PH=function(e,t,r,i){if(e.length>-1&&!e.return)switch(e.type){case M1:e.return=aN(e.value,e.length);break;case tN:return _u([Rh(e,{value:ct(e.value,"@","@"+at)})],i);case P1:if(e.length)return fH(e.props,function(s){switch(hH(s,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return _u([Rh(e,{props:[ct(s,/:(read-\w+)/,":"+h0+"$1")]})],i);case"::placeholder":return _u([Rh(e,{props:[ct(s,/:(plac\w+)/,":"+at+"input-$1")]}),Rh(e,{props:[ct(s,/:(plac\w+)/,":"+h0+"$1")]}),Rh(e,{props:[ct(s,/:(plac\w+)/,$n+"input-$1")]})],i)}return""})}},MH=[PH],IH=function(e){var t=e.key;if(t==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(w){var E=w.getAttribute("data-emotion");E.indexOf(" ")!==-1&&(document.head.appendChild(w),w.setAttribute("data-s",""))})}var i=e.stylisPlugins||MH,s={},o,l=[];o=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),function(w){for(var E=w.getAttribute("data-emotion").split(" "),x=1;x<E.length;x++)s[E[x]]=!0;l.push(w)});var u,d=[RH,TH];{var h,f=[SH,CH(function(w){h.insert(w)})],g=EH(d.concat(i,f)),y=function(E){return _u(wH(E),g)};u=function(E,x,_,S){h=_,y(E?E+"{"+x.styles+"}":x.styles),S&&(v.inserted[x.name]=!0)}}var v={key:t,sheet:new oH({key:t,container:o,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:s,registered:{},insert:u};return v.sheet.hydrate(l),v},Yw={exports:{}},ht={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hR;function NH(){if(hR)return ht;hR=1;var n=typeof Symbol=="function"&&Symbol.for,e=n?Symbol.for("react.element"):60103,t=n?Symbol.for("react.portal"):60106,r=n?Symbol.for("react.fragment"):60107,i=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,o=n?Symbol.for("react.provider"):60109,l=n?Symbol.for("react.context"):60110,u=n?Symbol.for("react.async_mode"):60111,d=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,f=n?Symbol.for("react.suspense"):60113,g=n?Symbol.for("react.suspense_list"):60120,y=n?Symbol.for("react.memo"):60115,v=n?Symbol.for("react.lazy"):60116,w=n?Symbol.for("react.block"):60121,E=n?Symbol.for("react.fundamental"):60117,x=n?Symbol.for("react.responder"):60118,_=n?Symbol.for("react.scope"):60119;function S(k){if(typeof k=="object"&&k!==null){var I=k.$$typeof;switch(I){case e:switch(k=k.type,k){case u:case d:case r:case s:case i:case f:return k;default:switch(k=k&&k.$$typeof,k){case l:case h:case v:case y:case o:return k;default:return I}}case t:return I}}}function C(k){return S(k)===d}return ht.AsyncMode=u,ht.ConcurrentMode=d,ht.ContextConsumer=l,ht.ContextProvider=o,ht.Element=e,ht.ForwardRef=h,ht.Fragment=r,ht.Lazy=v,ht.Memo=y,ht.Portal=t,ht.Profiler=s,ht.StrictMode=i,ht.Suspense=f,ht.isAsyncMode=function(k){return C(k)||S(k)===u},ht.isConcurrentMode=C,ht.isContextConsumer=function(k){return S(k)===l},ht.isContextProvider=function(k){return S(k)===o},ht.isElement=function(k){return typeof k=="object"&&k!==null&&k.$$typeof===e},ht.isForwardRef=function(k){return S(k)===h},ht.isFragment=function(k){return S(k)===r},ht.isLazy=function(k){return S(k)===v},ht.isMemo=function(k){return S(k)===y},ht.isPortal=function(k){return S(k)===t},ht.isProfiler=function(k){return S(k)===s},ht.isStrictMode=function(k){return S(k)===i},ht.isSuspense=function(k){return S(k)===f},ht.isValidElementType=function(k){return typeof k=="string"||typeof k=="function"||k===r||k===d||k===s||k===i||k===f||k===g||typeof k=="object"&&k!==null&&(k.$$typeof===v||k.$$typeof===y||k.$$typeof===o||k.$$typeof===l||k.$$typeof===h||k.$$typeof===E||k.$$typeof===x||k.$$typeof===_||k.$$typeof===w)},ht.typeOf=S,ht}var fR;function LH(){return fR||(fR=1,Yw.exports=NH()),Yw.exports}var Xw,pR;function OH(){if(pR)return Xw;pR=1;var n=LH(),e={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},t={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},r={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},i={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};s[n.ForwardRef]=r,s[n.Memo]=i;function o(v){return n.isMemo(v)?i:s[v.$$typeof]||e}var l=Object.defineProperty,u=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,f=Object.getPrototypeOf,g=Object.prototype;function y(v,w,E){if(typeof w!="string"){if(g){var x=f(w);x&&x!==g&&y(v,x,E)}var _=u(w);d&&(_=_.concat(d(w)));for(var S=o(v),C=o(w),k=0;k<_.length;++k){var I=_[k];if(!t[I]&&!(E&&E[I])&&!(C&&C[I])&&!(S&&S[I])){var P=h(w,I);try{l(v,I,P)}catch{}}}}return v}return Xw=y,Xw}OH();var DH=!0;function lN(n,e,t){var r="";return t.split(" ").forEach(function(i){n[i]!==void 0?e.push(n[i]+";"):i&&(r+=i+" ")}),r}var N1=function(e,t,r){var i=e.key+"-"+t.name;(r===!1||DH===!1)&&e.registered[i]===void 0&&(e.registered[i]=t.styles)},L1=function(e,t,r){N1(e,t,r);var i=e.key+"-"+t.name;if(e.inserted[t.name]===void 0){var s=t;do e.insert(t===s?"."+i:"",s,e.sheet,!0),s=s.next;while(s!==void 0)}};function FH(n){for(var e=0,t,r=0,i=n.length;i>=4;++r,i-=4)t=n.charCodeAt(r)&255|(n.charCodeAt(++r)&255)<<8|(n.charCodeAt(++r)&255)<<16|(n.charCodeAt(++r)&255)<<24,t=(t&65535)*1540483477+((t>>>16)*59797<<16),t^=t>>>24,e=(t&65535)*1540483477+((t>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(n.charCodeAt(r+2)&255)<<16;case 2:e^=(n.charCodeAt(r+1)&255)<<8;case 1:e^=n.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var zH={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},$H=/[A-Z]|^ms/g,BH=/_EMO_([^_]+?)_([^]*?)_EMO_/g,cN=function(e){return e.charCodeAt(1)===45},gR=function(e){return e!=null&&typeof e!="boolean"},Kw=oN(function(n){return cN(n)?n:n.replace($H,"-$&").toLowerCase()}),mR=function(e,t){switch(e){case"animation":case"animationName":if(typeof t=="string")return t.replace(BH,function(r,i,s){return ys={name:i,styles:s,next:ys},i})}return zH[e]!==1&&!cN(e)&&typeof t=="number"&&t!==0?t+"px":t};function Pf(n,e,t){if(t==null)return"";var r=t;if(r.__emotion_styles!==void 0)return r;switch(typeof t){case"boolean":return"";case"object":{var i=t;if(i.anim===1)return ys={name:i.name,styles:i.styles,next:ys},i.name;var s=t;if(s.styles!==void 0){var o=s.next;if(o!==void 0)for(;o!==void 0;)ys={name:o.name,styles:o.styles,next:ys},o=o.next;var l=s.styles+";";return l}return jH(n,e,t)}case"function":{if(n!==void 0){var u=ys,d=t(n);return ys=u,Pf(n,e,d)}break}}var h=t;if(e==null)return h;var f=e[h];return f!==void 0?f:h}function jH(n,e,t){var r="";if(Array.isArray(t))for(var i=0;i<t.length;i++)r+=Pf(n,e,t[i])+";";else for(var s in t){var o=t[s];if(typeof o!="object"){var l=o;e!=null&&e[l]!==void 0?r+=s+"{"+e[l]+"}":gR(l)&&(r+=Kw(s)+":"+mR(s,l)+";")}else if(Array.isArray(o)&&typeof o[0]=="string"&&(e==null||e[o[0]]===void 0))for(var u=0;u<o.length;u++)gR(o[u])&&(r+=Kw(s)+":"+mR(s,o[u])+";");else{var d=Pf(n,e,o);switch(s){case"animation":case"animationName":{r+=Kw(s)+":"+d+";";break}default:r+=s+"{"+d+"}"}}}return r}var yR=/label:\s*([^\s;{]+)\s*(;|$)/g,ys;function Sg(n,e,t){if(n.length===1&&typeof n[0]=="object"&&n[0]!==null&&n[0].styles!==void 0)return n[0];var r=!0,i="";ys=void 0;var s=n[0];if(s==null||s.raw===void 0)r=!1,i+=Pf(t,e,s);else{var o=s;i+=o[0]}for(var l=1;l<n.length;l++)if(i+=Pf(t,e,n[l]),r){var u=s;i+=u[l]}yR.lastIndex=0;for(var d="",h;(h=yR.exec(i))!==null;)d+="-"+h[1];var f=FH(i)+d;return{name:f,styles:i,next:ys}}var HH=function(e){return e()},uN=pS.useInsertionEffect?pS.useInsertionEffect:!1,dN=uN||HH,vR=uN||O.useLayoutEffect,hN=O.createContext(typeof HTMLElement<"u"?IH({key:"css"}):null);hN.Provider;var O1=function(e){return O.forwardRef(function(t,r){var i=O.useContext(hN);return e(t,i,r)})},hv=O.createContext({}),D1={}.hasOwnProperty,LS="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",WH=function(e,t){var r={};for(var i in t)D1.call(t,i)&&(r[i]=t[i]);return r[LS]=e,r},UH=function(e){var t=e.cache,r=e.serialized,i=e.isStringTag;return N1(t,r,i),dN(function(){return L1(t,r,i)}),null},VH=O1(function(n,e,t){var r=n.css;typeof r=="string"&&e.registered[r]!==void 0&&(r=e.registered[r]);var i=n[LS],s=[r],o="";typeof n.className=="string"?o=lN(e.registered,s,n.className):n.className!=null&&(o=n.className+" ");var l=Sg(s,void 0,O.useContext(hv));o+=e.key+"-"+l.name;var u={};for(var d in n)D1.call(n,d)&&d!=="css"&&d!==LS&&(u[d]=n[d]);return u.className=o,t&&(u.ref=t),O.createElement(O.Fragment,null,O.createElement(UH,{cache:e,serialized:l,isStringTag:typeof i=="string"}),O.createElement(i,u))}),GH=VH,bR=function(e,t){var r=arguments;if(t==null||!D1.call(t,"css"))return O.createElement.apply(void 0,r);var i=r.length,s=new Array(i);s[0]=GH,s[1]=WH(e,t);for(var o=2;o<i;o++)s[o]=r[o];return O.createElement.apply(null,s)};(function(n){var e;e||(e=n.JSX||(n.JSX={}))})(bR||(bR={}));var qH=O1(function(n,e){var t=n.styles,r=Sg([t],void 0,O.useContext(hv)),i=O.useRef();return vR(function(){var s=e.key+"-global",o=new e.sheet.constructor({key:s,nonce:e.sheet.nonce,container:e.sheet.container,speedy:e.sheet.isSpeedy}),l=!1,u=document.querySelector('style[data-emotion="'+s+" "+r.name+'"]');return e.sheet.tags.length&&(o.before=e.sheet.tags[0]),u!==null&&(l=!0,u.setAttribute("data-emotion",s),o.hydrate([u])),i.current=[o,l],function(){o.flush()}},[e]),vR(function(){var s=i.current,o=s[0],l=s[1];if(l){s[1]=!1;return}if(r.next!==void 0&&L1(e,r.next,!0),o.tags.length){var u=o.tags[o.tags.length-1].nextElementSibling;o.before=u,o.flush()}e.insert("",r,o,!1)},[e,r.name]),null});function F1(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return Sg(e)}function Eg(){var n=F1.apply(void 0,arguments),e="animation-"+n.name;return{name:e,styles:"@keyframes "+e+"{"+n.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}var YH=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,XH=oN(function(n){return YH.test(n)||n.charCodeAt(0)===111&&n.charCodeAt(1)===110&&n.charCodeAt(2)<91}),KH=XH,QH=function(e){return e!=="theme"},wR=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?KH:QH},xR=function(e,t,r){var i;if(t){var s=t.shouldForwardProp;i=e.__emotion_forwardProp&&s?function(o){return e.__emotion_forwardProp(o)&&s(o)}:s}return typeof i!="function"&&r&&(i=e.__emotion_forwardProp),i},ZH=function(e){var t=e.cache,r=e.serialized,i=e.isStringTag;return N1(t,r,i),dN(function(){return L1(t,r,i)}),null},JH=function n(e,t){var r=e.__emotion_real===e,i=r&&e.__emotion_base||e,s,o;t!==void 0&&(s=t.label,o=t.target);var l=xR(e,t,r),u=l||wR(i),d=!u("as");return function(){var h=arguments,f=r&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(s!==void 0&&f.push("label:"+s+";"),h[0]==null||h[0].raw===void 0)f.push.apply(f,h);else{var g=h[0];f.push(g[0]);for(var y=h.length,v=1;v<y;v++)f.push(h[v],g[v])}var w=O1(function(E,x,_){var S=d&&E.as||i,C="",k=[],I=E;if(E.theme==null){I={};for(var P in E)I[P]=E[P];I.theme=O.useContext(hv)}typeof E.className=="string"?C=lN(x.registered,k,E.className):E.className!=null&&(C=E.className+" ");var M=Sg(f.concat(k),x.registered,I);C+=x.key+"-"+M.name,o!==void 0&&(C+=" "+o);var N=d&&l===void 0?wR(S):u,R={};for(var D in E)d&&D==="as"||N(D)&&(R[D]=E[D]);return R.className=C,_&&(R.ref=_),O.createElement(O.Fragment,null,O.createElement(ZH,{cache:x,serialized:M,isStringTag:typeof S=="string"}),O.createElement(S,R))});return w.displayName=s!==void 0?s:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",w.defaultProps=e.defaultProps,w.__emotion_real=w,w.__emotion_base=i,w.__emotion_styles=f,w.__emotion_forwardProp=l,Object.defineProperty(w,"toString",{value:function(){return"."+o}}),w.withComponent=function(E,x){var _=n(E,d0({},t,x,{shouldForwardProp:xR(w,x,!0)}));return _.apply(void 0,f)},w}},e4=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],OS=JH.bind(null);e4.forEach(function(n){OS[n]=OS(n)});var Qw={exports:{}},Zw,SR;function t4(){if(SR)return Zw;SR=1;var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Zw=n,Zw}var Jw,ER;function n4(){if(ER)return Jw;ER=1;var n=t4();function e(){}function t(){}return t.resetWarningCache=e,Jw=function(){function r(o,l,u,d,h,f){if(f!==n){var g=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw g.name="Invariant Violation",g}}r.isRequired=r;function i(){return r}var s={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:t,resetWarningCache:e};return s.PropTypes=s,s},Jw}var CR;function fN(){return CR||(CR=1,Qw.exports=n4()()),Qw.exports}function r4(n){return n==null||Object.keys(n).length===0}function i4(n){const{styles:e,defaultTheme:t={}}=n,r=typeof e=="function"?i=>e(r4(i)?t:i):e;return F.jsx(qH,{styles:r})}/**
 * @mui/styled-engine v6.4.6
 *
 * @license MIT
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function pN(n,e){return OS(n,e)}function s4(n,e){Array.isArray(n.__emotion_styles)&&(n.__emotion_styles=e(n.__emotion_styles))}const _R=[];function AR(n){return _R[0]=n,Sg(_R)}var ex={exports:{}},yt={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kR;function o4(){if(kR)return yt;kR=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),o=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),h=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),g=Symbol.for("react.offscreen"),y=Symbol.for("react.client.reference");function v(w){if(typeof w=="object"&&w!==null){var E=w.$$typeof;switch(E){case n:switch(w=w.type,w){case t:case i:case r:case u:case d:return w;default:switch(w=w&&w.$$typeof,w){case o:case l:case f:case h:return w;case s:return w;default:return E}}case e:return E}}}return yt.ContextConsumer=s,yt.ContextProvider=o,yt.Element=n,yt.ForwardRef=l,yt.Fragment=t,yt.Lazy=f,yt.Memo=h,yt.Portal=e,yt.Profiler=i,yt.StrictMode=r,yt.Suspense=u,yt.SuspenseList=d,yt.isContextConsumer=function(w){return v(w)===s},yt.isContextProvider=function(w){return v(w)===o},yt.isElement=function(w){return typeof w=="object"&&w!==null&&w.$$typeof===n},yt.isForwardRef=function(w){return v(w)===l},yt.isFragment=function(w){return v(w)===t},yt.isLazy=function(w){return v(w)===f},yt.isMemo=function(w){return v(w)===h},yt.isPortal=function(w){return v(w)===e},yt.isProfiler=function(w){return v(w)===i},yt.isStrictMode=function(w){return v(w)===r},yt.isSuspense=function(w){return v(w)===u},yt.isSuspenseList=function(w){return v(w)===d},yt.isValidElementType=function(w){return typeof w=="string"||typeof w=="function"||w===t||w===i||w===r||w===u||w===d||w===g||typeof w=="object"&&w!==null&&(w.$$typeof===f||w.$$typeof===h||w.$$typeof===o||w.$$typeof===s||w.$$typeof===l||w.$$typeof===y||w.getModuleId!==void 0)},yt.typeOf=v,yt}var RR;function a4(){return RR||(RR=1,ex.exports=o4()),ex.exports}var gN=a4();function vs(n){if(typeof n!="object"||n===null)return!1;const e=Object.getPrototypeOf(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)}function mN(n){if(O.isValidElement(n)||gN.isValidElementType(n)||!vs(n))return n;const e={};return Object.keys(n).forEach(t=>{e[t]=mN(n[t])}),e}function Yn(n,e,t={clone:!0}){const r=t.clone?{...n}:n;return vs(n)&&vs(e)&&Object.keys(e).forEach(i=>{O.isValidElement(e[i])||gN.isValidElementType(e[i])?r[i]=e[i]:vs(e[i])&&Object.prototype.hasOwnProperty.call(n,i)&&vs(n[i])?r[i]=Yn(n[i],e[i],t):t.clone?r[i]=vs(e[i])?mN(e[i]):e[i]:r[i]=e[i]}),r}const l4=n=>{const e=Object.keys(n).map(t=>({key:t,val:n[t]}))||[];return e.sort((t,r)=>t.val-r.val),e.reduce((t,r)=>({...t,[r.key]:r.val}),{})};function c4(n){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:t="px",step:r=5,...i}=n,s=l4(e),o=Object.keys(s);function l(g){return`@media (min-width:${typeof e[g]=="number"?e[g]:g}${t})`}function u(g){return`@media (max-width:${(typeof e[g]=="number"?e[g]:g)-r/100}${t})`}function d(g,y){const v=o.indexOf(y);return`@media (min-width:${typeof e[g]=="number"?e[g]:g}${t}) and (max-width:${(v!==-1&&typeof e[o[v]]=="number"?e[o[v]]:y)-r/100}${t})`}function h(g){return o.indexOf(g)+1<o.length?d(g,o[o.indexOf(g)+1]):l(g)}function f(g){const y=o.indexOf(g);return y===0?l(o[1]):y===o.length-1?u(o[y]):d(g,o[o.indexOf(g)+1]).replace("@media","@media not all and")}return{keys:o,values:s,up:l,down:u,between:d,only:h,not:f,unit:t,...i}}function u4(n,e){if(!n.containerQueries)return e;const t=Object.keys(e).filter(r=>r.startsWith("@container")).sort((r,i)=>{var o,l;const s=/min-width:\s*([0-9.]+)/;return+(((o=r.match(s))==null?void 0:o[1])||0)-+(((l=i.match(s))==null?void 0:l[1])||0)});return t.length?t.reduce((r,i)=>{const s=e[i];return delete r[i],r[i]=s,r},{...e}):e}function d4(n,e){return e==="@"||e.startsWith("@")&&(n.some(t=>e.startsWith(`@${t}`))||!!e.match(/^@\d/))}function h4(n,e){const t=e.match(/^@([^/]+)?\/?(.+)?$/);if(!t)return null;const[,r,i]=t,s=Number.isNaN(+r)?r||0:+r;return n.containerQueries(i).up(s)}function f4(n){const e=(s,o)=>s.replace("@media",o?`@container ${o}`:"@container");function t(s,o){s.up=(...l)=>e(n.breakpoints.up(...l),o),s.down=(...l)=>e(n.breakpoints.down(...l),o),s.between=(...l)=>e(n.breakpoints.between(...l),o),s.only=(...l)=>e(n.breakpoints.only(...l),o),s.not=(...l)=>{const u=e(n.breakpoints.not(...l),o);return u.includes("not all and")?u.replace("not all and ","").replace("min-width:","width<").replace("max-width:","width>").replace("and","or"):u}}const r={},i=s=>(t(r,s),r);return t(i),{...n,containerQueries:i}}const p4={borderRadius:4};function cf(n,e){return e?Yn(n,e,{clone:!1}):n}const fv={xs:0,sm:600,md:900,lg:1200,xl:1536},TR={keys:["xs","sm","md","lg","xl"],up:n=>`@media (min-width:${fv[n]}px)`},g4={containerQueries:n=>({up:e=>{let t=typeof e=="number"?e:fv[e]||e;return typeof t=="number"&&(t=`${t}px`),n?`@container ${n} (min-width:${t})`:`@container (min-width:${t})`}})};function Ao(n,e,t){const r=n.theme||{};if(Array.isArray(e)){const s=r.breakpoints||TR;return e.reduce((o,l,u)=>(o[s.up(s.keys[u])]=t(e[u]),o),{})}if(typeof e=="object"){const s=r.breakpoints||TR;return Object.keys(e).reduce((o,l)=>{if(d4(s.keys,l)){const u=h4(r.containerQueries?r:g4,l);u&&(o[u]=t(e[l],l))}else if(Object.keys(s.values||fv).includes(l)){const u=s.up(l);o[u]=t(e[l],l)}else{const u=l;o[u]=e[u]}return o},{})}return t(e)}function m4(n={}){var t;return((t=n.keys)==null?void 0:t.reduce((r,i)=>{const s=n.up(i);return r[s]={},r},{}))||{}}function y4(n,e){return n.reduce((t,r)=>{const i=t[r];return(!i||Object.keys(i).length===0)&&delete t[r],t},e)}function Le(n){if(typeof n!="string")throw new Error(_o(7));return n.charAt(0).toUpperCase()+n.slice(1)}function pv(n,e,t=!0){if(!e||typeof e!="string")return null;if(n&&n.vars&&t){const r=`vars.${e}`.split(".").reduce((i,s)=>i&&i[s]?i[s]:null,n);if(r!=null)return r}return e.split(".").reduce((r,i)=>r&&r[i]!=null?r[i]:null,n)}function f0(n,e,t,r=t){let i;return typeof n=="function"?i=n(t):Array.isArray(n)?i=n[t]||r:i=pv(n,t)||r,e&&(i=e(i,r,n)),i}function Jt(n){const{prop:e,cssProperty:t=n.prop,themeKey:r,transform:i}=n,s=o=>{if(o[e]==null)return null;const l=o[e],u=o.theme,d=pv(u,r)||{};return Ao(o,l,f=>{let g=f0(d,i,f);return f===g&&typeof f=="string"&&(g=f0(d,i,`${e}${f==="default"?"":Le(f)}`,f)),t===!1?g:{[t]:g}})};return s.propTypes={},s.filterProps=[e],s}function v4(n){const e={};return t=>(e[t]===void 0&&(e[t]=n(t)),e[t])}const b4={m:"margin",p:"padding"},w4={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},PR={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},x4=v4(n=>{if(n.length>2)if(PR[n])n=PR[n];else return[n];const[e,t]=n.split(""),r=b4[e],i=w4[t]||"";return Array.isArray(i)?i.map(s=>r+s):[r+i]}),z1=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],$1=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...z1,...$1];function Cg(n,e,t,r){const i=pv(n,e,!0)??t;return typeof i=="number"||typeof i=="string"?s=>typeof s=="string"?s:typeof i=="string"?`calc(${s} * ${i})`:i*s:Array.isArray(i)?s=>{if(typeof s=="string")return s;const o=Math.abs(s),l=i[o];return s>=0?l:typeof l=="number"?-l:`-${l}`}:typeof i=="function"?i:()=>{}}function B1(n){return Cg(n,"spacing",8)}function _g(n,e){return typeof e=="string"||e==null?e:n(e)}function S4(n,e){return t=>n.reduce((r,i)=>(r[i]=_g(e,t),r),{})}function E4(n,e,t,r){if(!e.includes(t))return null;const i=x4(t),s=S4(i,r),o=n[t];return Ao(n,o,s)}function yN(n,e){const t=B1(n.theme);return Object.keys(n).map(r=>E4(n,e,r,t)).reduce(cf,{})}function Ut(n){return yN(n,z1)}Ut.propTypes={};Ut.filterProps=z1;function Vt(n){return yN(n,$1)}Vt.propTypes={};Vt.filterProps=$1;function vN(n=8,e=B1({spacing:n})){if(n.mui)return n;const t=(...r)=>(r.length===0?[1]:r).map(s=>{const o=e(s);return typeof o=="number"?`${o}px`:o}).join(" ");return t.mui=!0,t}function gv(...n){const e=n.reduce((r,i)=>(i.filterProps.forEach(s=>{r[s]=i}),r),{}),t=r=>Object.keys(r).reduce((i,s)=>e[s]?cf(i,e[s](r)):i,{});return t.propTypes={},t.filterProps=n.reduce((r,i)=>r.concat(i.filterProps),[]),t}function ci(n){return typeof n!="number"?n:`${n}px solid`}function hi(n,e){return Jt({prop:n,themeKey:"borders",transform:e})}const C4=hi("border",ci),_4=hi("borderTop",ci),A4=hi("borderRight",ci),k4=hi("borderBottom",ci),R4=hi("borderLeft",ci),T4=hi("borderColor"),P4=hi("borderTopColor"),M4=hi("borderRightColor"),I4=hi("borderBottomColor"),N4=hi("borderLeftColor"),L4=hi("outline",ci),O4=hi("outlineColor"),mv=n=>{if(n.borderRadius!==void 0&&n.borderRadius!==null){const e=Cg(n.theme,"shape.borderRadius",4),t=r=>({borderRadius:_g(e,r)});return Ao(n,n.borderRadius,t)}return null};mv.propTypes={};mv.filterProps=["borderRadius"];gv(C4,_4,A4,k4,R4,T4,P4,M4,I4,N4,mv,L4,O4);const yv=n=>{if(n.gap!==void 0&&n.gap!==null){const e=Cg(n.theme,"spacing",8),t=r=>({gap:_g(e,r)});return Ao(n,n.gap,t)}return null};yv.propTypes={};yv.filterProps=["gap"];const vv=n=>{if(n.columnGap!==void 0&&n.columnGap!==null){const e=Cg(n.theme,"spacing",8),t=r=>({columnGap:_g(e,r)});return Ao(n,n.columnGap,t)}return null};vv.propTypes={};vv.filterProps=["columnGap"];const bv=n=>{if(n.rowGap!==void 0&&n.rowGap!==null){const e=Cg(n.theme,"spacing",8),t=r=>({rowGap:_g(e,r)});return Ao(n,n.rowGap,t)}return null};bv.propTypes={};bv.filterProps=["rowGap"];const D4=Jt({prop:"gridColumn"}),F4=Jt({prop:"gridRow"}),z4=Jt({prop:"gridAutoFlow"}),$4=Jt({prop:"gridAutoColumns"}),B4=Jt({prop:"gridAutoRows"}),j4=Jt({prop:"gridTemplateColumns"}),H4=Jt({prop:"gridTemplateRows"}),W4=Jt({prop:"gridTemplateAreas"}),U4=Jt({prop:"gridArea"});gv(yv,vv,bv,D4,F4,z4,$4,B4,j4,H4,W4,U4);function Au(n,e){return e==="grey"?e:n}const V4=Jt({prop:"color",themeKey:"palette",transform:Au}),G4=Jt({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:Au}),q4=Jt({prop:"backgroundColor",themeKey:"palette",transform:Au});gv(V4,G4,q4);function Vr(n){return n<=1&&n!==0?`${n*100}%`:n}const Y4=Jt({prop:"width",transform:Vr}),j1=n=>{if(n.maxWidth!==void 0&&n.maxWidth!==null){const e=t=>{var i,s,o,l,u;const r=((o=(s=(i=n.theme)==null?void 0:i.breakpoints)==null?void 0:s.values)==null?void 0:o[t])||fv[t];return r?((u=(l=n.theme)==null?void 0:l.breakpoints)==null?void 0:u.unit)!=="px"?{maxWidth:`${r}${n.theme.breakpoints.unit}`}:{maxWidth:r}:{maxWidth:Vr(t)}};return Ao(n,n.maxWidth,e)}return null};j1.filterProps=["maxWidth"];const X4=Jt({prop:"minWidth",transform:Vr}),K4=Jt({prop:"height",transform:Vr}),Q4=Jt({prop:"maxHeight",transform:Vr}),Z4=Jt({prop:"minHeight",transform:Vr});Jt({prop:"size",cssProperty:"width",transform:Vr});Jt({prop:"size",cssProperty:"height",transform:Vr});const J4=Jt({prop:"boxSizing"});gv(Y4,j1,X4,K4,Q4,Z4,J4);const Ag={border:{themeKey:"borders",transform:ci},borderTop:{themeKey:"borders",transform:ci},borderRight:{themeKey:"borders",transform:ci},borderBottom:{themeKey:"borders",transform:ci},borderLeft:{themeKey:"borders",transform:ci},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:ci},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:mv},color:{themeKey:"palette",transform:Au},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:Au},backgroundColor:{themeKey:"palette",transform:Au},p:{style:Vt},pt:{style:Vt},pr:{style:Vt},pb:{style:Vt},pl:{style:Vt},px:{style:Vt},py:{style:Vt},padding:{style:Vt},paddingTop:{style:Vt},paddingRight:{style:Vt},paddingBottom:{style:Vt},paddingLeft:{style:Vt},paddingX:{style:Vt},paddingY:{style:Vt},paddingInline:{style:Vt},paddingInlineStart:{style:Vt},paddingInlineEnd:{style:Vt},paddingBlock:{style:Vt},paddingBlockStart:{style:Vt},paddingBlockEnd:{style:Vt},m:{style:Ut},mt:{style:Ut},mr:{style:Ut},mb:{style:Ut},ml:{style:Ut},mx:{style:Ut},my:{style:Ut},margin:{style:Ut},marginTop:{style:Ut},marginRight:{style:Ut},marginBottom:{style:Ut},marginLeft:{style:Ut},marginX:{style:Ut},marginY:{style:Ut},marginInline:{style:Ut},marginInlineStart:{style:Ut},marginInlineEnd:{style:Ut},marginBlock:{style:Ut},marginBlockStart:{style:Ut},marginBlockEnd:{style:Ut},displayPrint:{cssProperty:!1,transform:n=>({"@media print":{display:n}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:yv},rowGap:{style:bv},columnGap:{style:vv},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:Vr},maxWidth:{style:j1},minWidth:{transform:Vr},height:{transform:Vr},maxHeight:{transform:Vr},minHeight:{transform:Vr},boxSizing:{},font:{themeKey:"font"},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function eW(...n){const e=n.reduce((r,i)=>r.concat(Object.keys(i)),[]),t=new Set(e);return n.every(r=>t.size===Object.keys(r).length)}function tW(n,e){return typeof n=="function"?n(e):n}function nW(){function n(t,r,i,s){const o={[t]:r,theme:i},l=s[t];if(!l)return{[t]:r};const{cssProperty:u=t,themeKey:d,transform:h,style:f}=l;if(r==null)return null;if(d==="typography"&&r==="inherit")return{[t]:r};const g=pv(i,d)||{};return f?f(o):Ao(o,r,v=>{let w=f0(g,h,v);return v===w&&typeof v=="string"&&(w=f0(g,h,`${t}${v==="default"?"":Le(v)}`,v)),u===!1?w:{[u]:w}})}function e(t){const{sx:r,theme:i={}}=t||{};if(!r)return null;const s=i.unstable_sxConfig??Ag;function o(l){let u=l;if(typeof l=="function")u=l(i);else if(typeof l!="object")return l;if(!u)return null;const d=m4(i.breakpoints),h=Object.keys(d);let f=d;return Object.keys(u).forEach(g=>{const y=tW(u[g],i);if(y!=null)if(typeof y=="object")if(s[g])f=cf(f,n(g,y,i,s));else{const v=Ao({theme:i},y,w=>({[g]:w}));eW(v,y)?f[g]=e({sx:y,theme:i}):f=cf(f,v)}else f=cf(f,n(g,y,i,s))}),u4(i,y4(h,f))}return Array.isArray(r)?r.map(o):o(r)}return e}const bc=nW();bc.filterProps=["sx"];function rW(n,e){var r;const t=this;if(t.vars){if(!((r=t.colorSchemes)!=null&&r[n])||typeof t.getColorSchemeSelector!="function")return{};let i=t.getColorSchemeSelector(n);return i==="&"?e:((i.includes("data-")||i.includes("."))&&(i=`*:where(${i.replace(/\s*&$/,"")}) &`),{[i]:e})}return t.palette.mode===n?e:{}}function H1(n={},...e){const{breakpoints:t={},palette:r={},spacing:i,shape:s={},...o}=n,l=c4(t),u=vN(i);let d=Yn({breakpoints:l,direction:"ltr",components:{},palette:{mode:"light",...r},spacing:u,shape:{...p4,...s}},o);return d=f4(d),d.applyStyles=rW,d=e.reduce((h,f)=>Yn(h,f),d),d.unstable_sxConfig={...Ag,...o==null?void 0:o.unstable_sxConfig},d.unstable_sx=function(f){return bc({sx:f,theme:this})},d}function iW(n){return Object.keys(n).length===0}function sW(n=null){const e=O.useContext(hv);return!e||iW(e)?n:e}const oW=H1();function W1(n=oW){return sW(n)}function aW({styles:n,themeId:e,defaultTheme:t={}}){const r=W1(t),i=typeof n=="function"?n(e&&r[e]||r):n;return F.jsx(i4,{styles:i})}const lW=n=>{var r;const e={systemProps:{},otherProps:{}},t=((r=n==null?void 0:n.theme)==null?void 0:r.unstable_sxConfig)??Ag;return Object.keys(n).forEach(i=>{t[i]?e.systemProps[i]=n[i]:e.otherProps[i]=n[i]}),e};function bN(n){const{sx:e,...t}=n,{systemProps:r,otherProps:i}=lW(t);let s;return Array.isArray(e)?s=[r,...e]:typeof e=="function"?s=(...o)=>{const l=e(...o);return vs(l)?{...r,...l}:r}:s={...r,...e},{...i,sx:s}}const MR=n=>n,cW=()=>{let n=MR;return{configure(e){n=e},generate(e){return n(e)},reset(){n=MR}}},wN=cW();function xN(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n)){var i=n.length;for(e=0;e<i;e++)n[e]&&(t=xN(n[e]))&&(r&&(r+=" "),r+=t)}else for(t in n)n[t]&&(r&&(r+=" "),r+=t);return r}function $e(){for(var n,e,t=0,r="",i=arguments.length;t<i;t++)(n=arguments[t])&&(e=xN(n))&&(r&&(r+=" "),r+=e);return r}function uW(n={}){const{themeId:e,defaultTheme:t,defaultClassName:r="MuiBox-root",generateClassName:i}=n,s=pN("div",{shouldForwardProp:l=>l!=="theme"&&l!=="sx"&&l!=="as"})(bc);return O.forwardRef(function(u,d){const h=W1(t),{className:f,component:g="div",...y}=bN(u);return F.jsx(s,{as:g,ref:d,className:$e(f,i?i(r):r),theme:e&&h[e]||h,...y})})}const dW={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function rt(n,e,t="Mui"){const r=dW[e];return r?`${t}-${r}`:`${wN.generate(n)}-${e}`}function Ye(n,e,t="Mui"){const r={};return e.forEach(i=>{r[i]=rt(n,i,t)}),r}function SN(n){const{variants:e,...t}=n,r={variants:e,style:AR(t),isProcessed:!0};return r.style===t||e&&e.forEach(i=>{typeof i.style!="function"&&(i.style=AR(i.style))}),r}const hW=H1();function tx(n){return n!=="ownerState"&&n!=="theme"&&n!=="sx"&&n!=="as"}function fW(n){return n?(e,t)=>t[n]:null}function pW(n,e,t){n.theme=yW(n.theme)?t:n.theme[e]||n.theme}function Ry(n,e){const t=typeof e=="function"?e(n):e;if(Array.isArray(t))return t.flatMap(r=>Ry(n,r));if(Array.isArray(t==null?void 0:t.variants)){let r;if(t.isProcessed)r=t.style;else{const{variants:i,...s}=t;r=s}return EN(n,t.variants,[r])}return t!=null&&t.isProcessed?t.style:t}function EN(n,e,t=[]){var i;let r;e:for(let s=0;s<e.length;s+=1){const o=e[s];if(typeof o.props=="function"){if(r??(r={...n,...n.ownerState,ownerState:n.ownerState}),!o.props(r))continue}else for(const l in o.props)if(n[l]!==o.props[l]&&((i=n.ownerState)==null?void 0:i[l])!==o.props[l])continue e;typeof o.style=="function"?(r??(r={...n,...n.ownerState,ownerState:n.ownerState}),t.push(o.style(r))):t.push(o.style)}return t}function gW(n={}){const{themeId:e,defaultTheme:t=hW,rootShouldForwardProp:r=tx,slotShouldForwardProp:i=tx}=n;function s(l){pW(l,e,t)}return(l,u={})=>{s4(l,k=>k.filter(I=>I!==bc));const{name:d,slot:h,skipVariantsResolver:f,skipSx:g,overridesResolver:y=fW(bW(h)),...v}=u,w=f!==void 0?f:h&&h!=="Root"&&h!=="root"||!1,E=g||!1;let x=tx;h==="Root"||h==="root"?x=r:h?x=i:vW(l)&&(x=void 0);const _=pN(l,{shouldForwardProp:x,label:mW(),...v}),S=k=>{if(typeof k=="function"&&k.__emotion_real!==k)return function(P){return Ry(P,k)};if(vs(k)){const I=SN(k);return I.variants?function(M){return Ry(M,I)}:I.style}return k},C=(...k)=>{const I=[],P=k.map(S),M=[];if(I.push(s),d&&y&&M.push(function($){var H,X;const L=(X=(H=$.theme.components)==null?void 0:H[d])==null?void 0:X.styleOverrides;if(!L)return null;const q={};for(const W in L)q[W]=Ry($,L[W]);return y($,q)}),d&&!w&&M.push(function($){var q,H;const G=$.theme,L=(H=(q=G==null?void 0:G.components)==null?void 0:q[d])==null?void 0:H.variants;return L?EN($,L):null}),E||M.push(bc),Array.isArray(P[0])){const D=P.shift(),$=new Array(I.length).fill(""),G=new Array(M.length).fill("");let L;L=[...$,...D,...G],L.raw=[...$,...D.raw,...G],I.unshift(L)}const N=[...I,...P,...M],R=_(...N);return l.muiName&&(R.muiName=l.muiName),R};return _.withConfig&&(C.withConfig=_.withConfig),C}}function mW(n,e){return void 0}function yW(n){for(const e in n)return!1;return!0}function vW(n){return typeof n=="string"&&n.charCodeAt(0)>96}function bW(n){return n&&n.charAt(0).toLowerCase()+n.slice(1)}function p0(n,e){const t={...e};for(const r in n)if(Object.prototype.hasOwnProperty.call(n,r)){const i=r;if(i==="components"||i==="slots")t[i]={...n[i],...t[i]};else if(i==="componentsProps"||i==="slotProps"){const s=n[i],o=e[i];if(!o)t[i]=s||{};else if(!s)t[i]=o;else{t[i]={...o};for(const l in s)if(Object.prototype.hasOwnProperty.call(s,l)){const u=l;t[i][u]=p0(s[u],o[u])}}}else t[i]===void 0&&(t[i]=n[i])}return t}const Fa=typeof window<"u"?O.useLayoutEffect:O.useEffect;function wW(n,e=Number.MIN_SAFE_INTEGER,t=Number.MAX_SAFE_INTEGER){return Math.max(e,Math.min(n,t))}function U1(n,e=0,t=1){return wW(n,e,t)}function xW(n){n=n.slice(1);const e=new RegExp(`.{1,${n.length>=6?2:1}}`,"g");let t=n.match(e);return t&&t[0].length===1&&(t=t.map(r=>r+r)),t?`rgb${t.length===4?"a":""}(${t.map((r,i)=>i<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function za(n){if(n.type)return n;if(n.charAt(0)==="#")return za(xW(n));const e=n.indexOf("("),t=n.substring(0,e);if(!["rgb","rgba","hsl","hsla","color"].includes(t))throw new Error(_o(9,n));let r=n.substring(e+1,n.length-1),i;if(t==="color"){if(r=r.split(" "),i=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),!["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].includes(i))throw new Error(_o(10,i))}else r=r.split(",");return r=r.map(s=>parseFloat(s)),{type:t,values:r,colorSpace:i}}const SW=n=>{const e=za(n);return e.values.slice(0,3).map((t,r)=>e.type.includes("hsl")&&r!==0?`${t}%`:t).join(" ")},Bh=(n,e)=>{try{return SW(n)}catch{return n}};function wv(n){const{type:e,colorSpace:t}=n;let{values:r}=n;return e.includes("rgb")?r=r.map((i,s)=>s<3?parseInt(i,10):i):e.includes("hsl")&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),e.includes("color")?r=`${t} ${r.join(" ")}`:r=`${r.join(", ")}`,`${e}(${r})`}function CN(n){n=za(n);const{values:e}=n,t=e[0],r=e[1]/100,i=e[2]/100,s=r*Math.min(i,1-i),o=(d,h=(d+t/30)%12)=>i-s*Math.max(Math.min(h-3,9-h,1),-1);let l="rgb";const u=[Math.round(o(0)*255),Math.round(o(8)*255),Math.round(o(4)*255)];return n.type==="hsla"&&(l+="a",u.push(e[3])),wv({type:l,values:u})}function DS(n){n=za(n);let e=n.type==="hsl"||n.type==="hsla"?za(CN(n)).values:n.values;return e=e.map(t=>(n.type!=="color"&&(t/=255),t<=.03928?t/12.92:((t+.055)/1.055)**2.4)),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function EW(n,e){const t=DS(n),r=DS(e);return(Math.max(t,r)+.05)/(Math.min(t,r)+.05)}function Vn(n,e){return n=za(n),e=U1(e),(n.type==="rgb"||n.type==="hsl")&&(n.type+="a"),n.type==="color"?n.values[3]=`/${e}`:n.values[3]=e,wv(n)}function ay(n,e,t){try{return Vn(n,e)}catch{return n}}function V1(n,e){if(n=za(n),e=U1(e),n.type.includes("hsl"))n.values[2]*=1-e;else if(n.type.includes("rgb")||n.type.includes("color"))for(let t=0;t<3;t+=1)n.values[t]*=1-e;return wv(n)}function Et(n,e,t){try{return V1(n,e)}catch{return n}}function G1(n,e){if(n=za(n),e=U1(e),n.type.includes("hsl"))n.values[2]+=(100-n.values[2])*e;else if(n.type.includes("rgb"))for(let t=0;t<3;t+=1)n.values[t]+=(255-n.values[t])*e;else if(n.type.includes("color"))for(let t=0;t<3;t+=1)n.values[t]+=(1-n.values[t])*e;return wv(n)}function Ct(n,e,t){try{return G1(n,e)}catch{return n}}function CW(n,e=.15){return DS(n)>.5?V1(n,e):G1(n,e)}function ly(n,e,t){try{return CW(n,e)}catch{return n}}function IR(...n){return n.reduce((e,t)=>t==null?e:function(...i){e.apply(this,i),t.apply(this,i)},()=>{})}function _N(n,e=166){let t;function r(...i){const s=()=>{n.apply(this,i)};clearTimeout(t),t=setTimeout(s,e)}return r.clear=()=>{clearTimeout(t)},r}function nx(n,e){var t,r,i;return O.isValidElement(n)&&e.indexOf(n.type.muiName??((i=(r=(t=n.type)==null?void 0:t._payload)==null?void 0:r.value)==null?void 0:i.muiName))!==-1}function Fi(n){return n&&n.ownerDocument||document}function ko(n){return Fi(n).defaultView||window}function FS(n,e){typeof n=="function"?n(e):n&&(n.current=e)}let NR=0;function _W(n){const[e,t]=O.useState(n),r=n||e;return O.useEffect(()=>{e==null&&(NR+=1,t(`mui-${NR}`))},[e]),r}const AW={...pS},LR=AW.useId;function kg(n){if(LR!==void 0){const e=LR();return n??e}return _W(n)}function zS({controlled:n,default:e,name:t,state:r="value"}){const{current:i}=O.useRef(n!==void 0),[s,o]=O.useState(e),l=i?n:s,u=O.useCallback(d=>{i||o(d)},[]);return[l,u]}function ku(n){const e=O.useRef(n);return Fa(()=>{e.current=n}),O.useRef((...t)=>(0,e.current)(...t)).current}function or(...n){return O.useMemo(()=>n.every(e=>e==null)?null:e=>{n.forEach(t=>{FS(t,e)})},n)}const OR={};function AN(n,e){const t=O.useRef(OR);return t.current===OR&&(t.current=n(e)),t}const kW=[];function RW(n){O.useEffect(n,kW)}class q1{constructor(){_e(this,"currentId",null);_e(this,"clear",()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)});_e(this,"disposeEffect",()=>this.clear)}static create(){return new q1}start(e,t){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,t()},e)}}function kN(){const n=AN(q1.create).current;return RW(n.disposeEffect),n}function DR(n){try{return n.matches(":focus-visible")}catch{}return!1}function RN(n=window){const e=n.document.documentElement.clientWidth;return n.innerWidth-e}function it(n,e,t=void 0){const r={};for(const i in n){const s=n[i];let o="",l=!0;for(let u=0;u<s.length;u+=1){const d=s[u];d&&(o+=(l===!0?"":" ")+e(d),l=!1,t&&t[d]&&(o+=" "+t[d]))}r[i]=o}return r}function TW(n){return typeof n=="string"}function TN(n,e,t){return n===void 0||TW(n)?e:{...e,ownerState:{...e.ownerState,...t}}}function PN(n,e=[]){if(n===void 0)return{};const t={};return Object.keys(n).filter(r=>r.match(/^on[A-Z]/)&&typeof n[r]=="function"&&!e.includes(r)).forEach(r=>{t[r]=n[r]}),t}function FR(n){if(n===void 0)return{};const e={};return Object.keys(n).filter(t=>!(t.match(/^on[A-Z]/)&&typeof n[t]=="function")).forEach(t=>{e[t]=n[t]}),e}function MN(n){const{getSlotProps:e,additionalProps:t,externalSlotProps:r,externalForwardedProps:i,className:s}=n;if(!e){const y=$e(t==null?void 0:t.className,s,i==null?void 0:i.className,r==null?void 0:r.className),v={...t==null?void 0:t.style,...i==null?void 0:i.style,...r==null?void 0:r.style},w={...t,...i,...r};return y.length>0&&(w.className=y),Object.keys(v).length>0&&(w.style=v),{props:w,internalRef:void 0}}const o=PN({...i,...r}),l=FR(r),u=FR(i),d=e(o),h=$e(d==null?void 0:d.className,t==null?void 0:t.className,s,i==null?void 0:i.className,r==null?void 0:r.className),f={...d==null?void 0:d.style,...t==null?void 0:t.style,...i==null?void 0:i.style,...r==null?void 0:r.style},g={...d,...t,...u,...l};return h.length>0&&(g.className=h),Object.keys(f).length>0&&(g.style=f),{props:g,internalRef:d.ref}}function IN(n,e,t){return typeof n=="function"?n(e,t):n}function PW(n){var f;const{elementType:e,externalSlotProps:t,ownerState:r,skipResolvingSlotProps:i=!1,...s}=n,o=i?{}:IN(t,r),{props:l,internalRef:u}=MN({...s,externalSlotProps:o}),d=or(u,o==null?void 0:o.ref,(f=n.additionalProps)==null?void 0:f.ref);return TN(e,{...l,ref:d},r)}function Rg(n){var e;return parseInt(O.version,10)>=19?((e=n==null?void 0:n.props)==null?void 0:e.ref)||null:(n==null?void 0:n.ref)||null}const MW=O.createContext(),IW=()=>O.useContext(MW)??!1,NW=O.createContext(void 0);function LW(n){const{theme:e,name:t,props:r}=n;if(!e||!e.components||!e.components[t])return r;const i=e.components[t];return i.defaultProps?p0(i.defaultProps,r):!i.styleOverrides&&!i.variants?p0(i,r):r}function OW({props:n,name:e}){const t=O.useContext(NW);return LW({props:n,name:e,theme:{components:t}})}const zR={theme:void 0};function DW(n){let e,t;return function(i){let s=e;return(s===void 0||i.theme!==t)&&(zR.theme=i.theme,s=SN(n(zR)),e=s,t=i.theme),s}}function FW(n=""){function e(...r){if(!r.length)return"";const i=r[0];return typeof i=="string"&&!i.match(/(#|\(|\)|(-?(\d*\.)?\d+)(px|em|%|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc))|^(-?(\d*\.)?\d+)$|(\d+ \d+ \d+)/)?`, var(--${n?`${n}-`:""}${i}${e(...r.slice(1))})`:`, ${i}`}return(r,...i)=>`var(--${n?`${n}-`:""}${r}${e(...i)})`}const $R=(n,e,t,r=[])=>{let i=n;e.forEach((s,o)=>{o===e.length-1?Array.isArray(i)?i[Number(s)]=t:i&&typeof i=="object"&&(i[s]=t):i&&typeof i=="object"&&(i[s]||(i[s]=r.includes(s)?[]:{}),i=i[s])})},zW=(n,e,t)=>{function r(i,s=[],o=[]){Object.entries(i).forEach(([l,u])=>{(!t||t&&!t([...s,l]))&&u!=null&&(typeof u=="object"&&Object.keys(u).length>0?r(u,[...s,l],Array.isArray(u)?[...o,l]:o):e([...s,l],u,o))})}r(n)},$W=(n,e)=>typeof e=="number"?["lineHeight","fontWeight","opacity","zIndex"].some(r=>n.includes(r))||n[n.length-1].toLowerCase().includes("opacity")?e:`${e}px`:e;function rx(n,e){const{prefix:t,shouldSkipGeneratingVar:r}=e||{},i={},s={},o={};return zW(n,(l,u,d)=>{if((typeof u=="string"||typeof u=="number")&&(!r||!r(l,u))){const h=`--${t?`${t}-`:""}${l.join("-")}`,f=$W(l,u);Object.assign(i,{[h]:f}),$R(s,l,`var(${h})`,d),$R(o,l,`var(${h}, ${f})`,d)}},l=>l[0]==="vars"),{css:i,vars:s,varsWithDefaults:o}}function BW(n,e={}){const{getSelector:t=E,disableCssColorScheme:r,colorSchemeSelector:i}=e,{colorSchemes:s={},components:o,defaultColorScheme:l="light",...u}=n,{vars:d,css:h,varsWithDefaults:f}=rx(u,e);let g=f;const y={},{[l]:v,...w}=s;if(Object.entries(w||{}).forEach(([S,C])=>{const{vars:k,css:I,varsWithDefaults:P}=rx(C,e);g=Yn(g,P),y[S]={css:I,vars:k}}),v){const{css:S,vars:C,varsWithDefaults:k}=rx(v,e);g=Yn(g,k),y[l]={css:S,vars:C}}function E(S,C){var I,P;let k=i;if(i==="class"&&(k=".%s"),i==="data"&&(k="[data-%s]"),i!=null&&i.startsWith("data-")&&!i.includes("%s")&&(k=`[${i}="%s"]`),S){if(k==="media")return n.defaultColorScheme===S?":root":{[`@media (prefers-color-scheme: ${((P=(I=s[S])==null?void 0:I.palette)==null?void 0:P.mode)||S})`]:{":root":C}};if(k)return n.defaultColorScheme===S?`:root, ${k.replace("%s",String(S))}`:k.replace("%s",String(S))}return":root"}return{vars:g,generateThemeVars:()=>{let S={...d};return Object.entries(y).forEach(([,{vars:C}])=>{S=Yn(S,C)}),S},generateStyleSheets:()=>{var M,N;const S=[],C=n.defaultColorScheme||"light";function k(R,D){Object.keys(D).length&&S.push(typeof R=="string"?{[R]:{...D}}:R)}k(t(void 0,{...h}),h);const{[C]:I,...P}=y;if(I){const{css:R}=I,D=(N=(M=s[C])==null?void 0:M.palette)==null?void 0:N.mode,$=!r&&D?{colorScheme:D,...R}:{...R};k(t(C,{...$}),$)}return Object.entries(P).forEach(([R,{css:D}])=>{var L,q;const $=(q=(L=s[R])==null?void 0:L.palette)==null?void 0:q.mode,G=!r&&$?{colorScheme:$,...D}:{...D};k(t(R,{...G}),G)}),S}}}function jW(n){return function(t){return n==="media"?`@media (prefers-color-scheme: ${t})`:n?n.startsWith("data-")&&!n.includes("%s")?`[${n}="${t}"] &`:n==="class"?`.${t} &`:n==="data"?`[data-${t}] &`:`${n.replace("%s",t)} &`:"&"}}function NN(){return{text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:kf.white,default:kf.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}}}const HW=NN();function LN(){return{text:{primary:kf.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:kf.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}}}const BR=LN();function jR(n,e,t,r){const i=r.light||r,s=r.dark||r*1.5;n[e]||(n.hasOwnProperty(t)?n[e]=n[t]:e==="light"?n.light=G1(n.main,i):e==="dark"&&(n.dark=V1(n.main,s)))}function WW(n="light"){return n==="dark"?{main:au[200],light:au[50],dark:au[400]}:{main:au[700],light:au[400],dark:au[800]}}function UW(n="light"){return n==="dark"?{main:ou[200],light:ou[50],dark:ou[400]}:{main:ou[500],light:ou[300],dark:ou[700]}}function VW(n="light"){return n==="dark"?{main:su[500],light:su[300],dark:su[700]}:{main:su[700],light:su[400],dark:su[800]}}function GW(n="light"){return n==="dark"?{main:lu[400],light:lu[300],dark:lu[700]}:{main:lu[700],light:lu[500],dark:lu[900]}}function qW(n="light"){return n==="dark"?{main:cu[400],light:cu[300],dark:cu[700]}:{main:cu[800],light:cu[500],dark:cu[900]}}function YW(n="light"){return n==="dark"?{main:kh[400],light:kh[300],dark:kh[700]}:{main:"#ed6c02",light:kh[500],dark:kh[900]}}function Y1(n){const{mode:e="light",contrastThreshold:t=3,tonalOffset:r=.2,...i}=n,s=n.primary||WW(e),o=n.secondary||UW(e),l=n.error||VW(e),u=n.info||GW(e),d=n.success||qW(e),h=n.warning||YW(e);function f(w){return EW(w,BR.text.primary)>=t?BR.text.primary:HW.text.primary}const g=({color:w,name:E,mainShade:x=500,lightShade:_=300,darkShade:S=700})=>{if(w={...w},!w.main&&w[x]&&(w.main=w[x]),!w.hasOwnProperty("main"))throw new Error(_o(11,E?` (${E})`:"",x));if(typeof w.main!="string")throw new Error(_o(12,E?` (${E})`:"",JSON.stringify(w.main)));return jR(w,"light",_,r),jR(w,"dark",S,r),w.contrastText||(w.contrastText=f(w.main)),w};let y;return e==="light"?y=NN():e==="dark"&&(y=LN()),Yn({common:{...kf},mode:e,primary:g({color:s,name:"primary"}),secondary:g({color:o,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:g({color:l,name:"error"}),warning:g({color:h,name:"warning"}),info:g({color:u,name:"info"}),success:g({color:d,name:"success"}),grey:rH,contrastThreshold:t,getContrastText:f,augmentColor:g,tonalOffset:r,...y},i)}function XW(n){const e={};return Object.entries(n).forEach(r=>{const[i,s]=r;typeof s=="object"&&(e[i]=`${s.fontStyle?`${s.fontStyle} `:""}${s.fontVariant?`${s.fontVariant} `:""}${s.fontWeight?`${s.fontWeight} `:""}${s.fontStretch?`${s.fontStretch} `:""}${s.fontSize||""}${s.lineHeight?`/${s.lineHeight} `:""}${s.fontFamily||""}`)}),e}function KW(n,e){return{toolbar:{minHeight:56,[n.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[n.up("sm")]:{minHeight:64}},...e}}function QW(n){return Math.round(n*1e5)/1e5}const HR={textTransform:"uppercase"},WR='"Roboto", "Helvetica", "Arial", sans-serif';function ZW(n,e){const{fontFamily:t=WR,fontSize:r=14,fontWeightLight:i=300,fontWeightRegular:s=400,fontWeightMedium:o=500,fontWeightBold:l=700,htmlFontSize:u=16,allVariants:d,pxToRem:h,...f}=typeof e=="function"?e(n):e,g=r/14,y=h||(E=>`${E/u*g}rem`),v=(E,x,_,S,C)=>({fontFamily:t,fontWeight:E,fontSize:y(x),lineHeight:_,...t===WR?{letterSpacing:`${QW(S/x)}em`}:{},...C,...d}),w={h1:v(i,96,1.167,-1.5),h2:v(i,60,1.2,-.5),h3:v(s,48,1.167,0),h4:v(s,34,1.235,.25),h5:v(s,24,1.334,0),h6:v(o,20,1.6,.15),subtitle1:v(s,16,1.75,.15),subtitle2:v(o,14,1.57,.1),body1:v(s,16,1.5,.15),body2:v(s,14,1.43,.15),button:v(o,14,1.75,.4,HR),caption:v(s,12,1.66,.4),overline:v(s,12,2.66,1,HR),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return Yn({htmlFontSize:u,pxToRem:y,fontFamily:t,fontSize:r,fontWeightLight:i,fontWeightRegular:s,fontWeightMedium:o,fontWeightBold:l,...w},f,{clone:!1})}const JW=.2,e6=.14,t6=.12;function Nt(...n){return[`${n[0]}px ${n[1]}px ${n[2]}px ${n[3]}px rgba(0,0,0,${JW})`,`${n[4]}px ${n[5]}px ${n[6]}px ${n[7]}px rgba(0,0,0,${e6})`,`${n[8]}px ${n[9]}px ${n[10]}px ${n[11]}px rgba(0,0,0,${t6})`].join(",")}const n6=["none",Nt(0,2,1,-1,0,1,1,0,0,1,3,0),Nt(0,3,1,-2,0,2,2,0,0,1,5,0),Nt(0,3,3,-2,0,3,4,0,0,1,8,0),Nt(0,2,4,-1,0,4,5,0,0,1,10,0),Nt(0,3,5,-1,0,5,8,0,0,1,14,0),Nt(0,3,5,-1,0,6,10,0,0,1,18,0),Nt(0,4,5,-2,0,7,10,1,0,2,16,1),Nt(0,5,5,-3,0,8,10,1,0,3,14,2),Nt(0,5,6,-3,0,9,12,1,0,3,16,2),Nt(0,6,6,-3,0,10,14,1,0,4,18,3),Nt(0,6,7,-4,0,11,15,1,0,4,20,3),Nt(0,7,8,-4,0,12,17,2,0,5,22,4),Nt(0,7,8,-4,0,13,19,2,0,5,24,4),Nt(0,7,9,-4,0,14,21,2,0,5,26,4),Nt(0,8,9,-5,0,15,22,2,0,6,28,5),Nt(0,8,10,-5,0,16,24,2,0,6,30,5),Nt(0,8,11,-5,0,17,26,2,0,6,32,5),Nt(0,9,11,-5,0,18,28,2,0,7,34,6),Nt(0,9,12,-6,0,19,29,2,0,7,36,6),Nt(0,10,13,-6,0,20,31,3,0,8,38,7),Nt(0,10,13,-6,0,21,33,3,0,8,40,7),Nt(0,10,14,-6,0,22,35,3,0,8,42,7),Nt(0,11,14,-7,0,23,36,3,0,9,44,8),Nt(0,11,15,-7,0,24,38,3,0,9,46,8)],r6={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},i6={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function UR(n){return`${Math.round(n)}ms`}function s6(n){if(!n)return 0;const e=n/36;return Math.min(Math.round((4+15*e**.25+e/5)*10),3e3)}function o6(n){const e={...r6,...n.easing},t={...i6,...n.duration};return{getAutoHeightDuration:s6,create:(i=["all"],s={})=>{const{duration:o=t.standard,easing:l=e.easeInOut,delay:u=0,...d}=s;return(Array.isArray(i)?i:[i]).map(h=>`${h} ${typeof o=="string"?o:UR(o)} ${l} ${typeof u=="string"?u:UR(u)}`).join(",")},...n,easing:e,duration:t}}const a6={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};function l6(n){return vs(n)||typeof n>"u"||typeof n=="string"||typeof n=="boolean"||typeof n=="number"||Array.isArray(n)}function ON(n={}){const e={...n};function t(r){const i=Object.entries(r);for(let s=0;s<i.length;s++){const[o,l]=i[s];!l6(l)||o.startsWith("unstable_")?delete r[o]:vs(l)&&(r[o]={...l},t(r[o]))}}return t(e),`import { unstable_createBreakpoints as createBreakpoints, createTransitions } from '@mui/material/styles';

const theme = ${JSON.stringify(e,null,2)};

theme.breakpoints = createBreakpoints(theme.breakpoints || {});
theme.transitions = createTransitions(theme.transitions || {});

export default theme;`}function $S(n={},...e){const{breakpoints:t,mixins:r={},spacing:i,palette:s={},transitions:o={},typography:l={},shape:u,...d}=n;if(n.vars&&n.generateThemeVars===void 0)throw new Error(_o(20));const h=Y1(s),f=H1(n);let g=Yn(f,{mixins:KW(f.breakpoints,r),palette:h,shadows:n6.slice(),typography:ZW(h,l),transitions:o6(o),zIndex:{...a6}});return g=Yn(g,d),g=e.reduce((y,v)=>Yn(y,v),g),g.unstable_sxConfig={...Ag,...d==null?void 0:d.unstable_sxConfig},g.unstable_sx=function(v){return bc({sx:v,theme:this})},g.toRuntimeSource=ON,g}function BS(n){let e;return n<1?e=5.11916*n**2:e=4.5*Math.log(n+1)+2,Math.round(e*10)/1e3}const c6=[...Array(25)].map((n,e)=>{if(e===0)return"none";const t=BS(e);return`linear-gradient(rgba(255 255 255 / ${t}), rgba(255 255 255 / ${t}))`});function DN(n){return{inputPlaceholder:n==="dark"?.5:.42,inputUnderline:n==="dark"?.7:.42,switchTrackDisabled:n==="dark"?.2:.12,switchTrack:n==="dark"?.3:.38}}function FN(n){return n==="dark"?c6:[]}function u6(n){const{palette:e={mode:"light"},opacity:t,overlays:r,...i}=n,s=Y1(e);return{palette:s,opacity:{...DN(s.mode),...t},overlays:r||FN(s.mode),...i}}function d6(n){var e;return!!n[0].match(/(cssVarPrefix|colorSchemeSelector|rootSelector|typography|mixins|breakpoints|direction|transitions)/)||!!n[0].match(/sxConfig$/)||n[0]==="palette"&&!!((e=n[1])!=null&&e.match(/(mode|contrastThreshold|tonalOffset)/))}const h6=n=>[...[...Array(25)].map((e,t)=>`--${n?`${n}-`:""}overlays-${t}`),`--${n?`${n}-`:""}palette-AppBar-darkBg`,`--${n?`${n}-`:""}palette-AppBar-darkColor`],f6=n=>(e,t)=>{const r=n.rootSelector||":root",i=n.colorSchemeSelector;let s=i;if(i==="class"&&(s=".%s"),i==="data"&&(s="[data-%s]"),i!=null&&i.startsWith("data-")&&!i.includes("%s")&&(s=`[${i}="%s"]`),n.defaultColorScheme===e){if(e==="dark"){const o={};return h6(n.cssVarPrefix).forEach(l=>{o[l]=t[l],delete t[l]}),s==="media"?{[r]:t,"@media (prefers-color-scheme: dark)":{[r]:o}}:s?{[s.replace("%s",e)]:o,[`${r}, ${s.replace("%s",e)}`]:t}:{[r]:{...t,...o}}}if(s&&s!=="media")return`${r}, ${s.replace("%s",String(e))}`}else if(e){if(s==="media")return{[`@media (prefers-color-scheme: ${String(e)})`]:{[r]:t}};if(s)return s.replace("%s",String(e))}return r};function p6(n,e){e.forEach(t=>{n[t]||(n[t]={})})}function de(n,e,t){!n[e]&&t&&(n[e]=t)}function jh(n){return typeof n!="string"||!n.startsWith("hsl")?n:CN(n)}function zs(n,e){`${e}Channel`in n||(n[`${e}Channel`]=Bh(jh(n[e])))}function g6(n){return typeof n=="number"?`${n}px`:typeof n=="string"||typeof n=="function"||Array.isArray(n)?n:"8px"}const Xi=n=>{try{return n()}catch{}},m6=(n="mui")=>FW(n);function ix(n,e,t,r){if(!e)return;e=e===!0?{}:e;const i=r==="dark"?"dark":"light";if(!t){n[r]=u6({...e,palette:{mode:i,...e==null?void 0:e.palette}});return}const{palette:s,...o}=$S({...t,palette:{mode:i,...e==null?void 0:e.palette}});return n[r]={...e,palette:s,opacity:{...DN(i),...e==null?void 0:e.opacity},overlays:(e==null?void 0:e.overlays)||FN(i)},o}function y6(n={},...e){const{colorSchemes:t={light:!0},defaultColorScheme:r,disableCssColorScheme:i=!1,cssVarPrefix:s="mui",shouldSkipGeneratingVar:o=d6,colorSchemeSelector:l=t.light&&t.dark?"media":void 0,rootSelector:u=":root",...d}=n,h=Object.keys(t)[0],f=r||(t.light&&h!=="light"?"light":h),g=m6(s),{[f]:y,light:v,dark:w,...E}=t,x={...E};let _=y;if((f==="dark"&&!("dark"in t)||f==="light"&&!("light"in t))&&(_=!0),!_)throw new Error(_o(21,f));const S=ix(x,_,d,f);v&&!x.light&&ix(x,v,void 0,"light"),w&&!x.dark&&ix(x,w,void 0,"dark");let C={defaultColorScheme:f,...S,cssVarPrefix:s,colorSchemeSelector:l,rootSelector:u,getCssVar:g,colorSchemes:x,font:{...XW(S.typography),...S.font},spacing:g6(d.spacing)};Object.keys(C.colorSchemes).forEach(N=>{const R=C.colorSchemes[N].palette,D=$=>{const G=$.split("-"),L=G[1],q=G[2];return g($,R[L][q])};if(R.mode==="light"&&(de(R.common,"background","#fff"),de(R.common,"onBackground","#000")),R.mode==="dark"&&(de(R.common,"background","#000"),de(R.common,"onBackground","#fff")),p6(R,["Alert","AppBar","Avatar","Button","Chip","FilledInput","LinearProgress","Skeleton","Slider","SnackbarContent","SpeedDialAction","StepConnector","StepContent","Switch","TableCell","Tooltip"]),R.mode==="light"){de(R.Alert,"errorColor",Et(R.error.light,.6)),de(R.Alert,"infoColor",Et(R.info.light,.6)),de(R.Alert,"successColor",Et(R.success.light,.6)),de(R.Alert,"warningColor",Et(R.warning.light,.6)),de(R.Alert,"errorFilledBg",D("palette-error-main")),de(R.Alert,"infoFilledBg",D("palette-info-main")),de(R.Alert,"successFilledBg",D("palette-success-main")),de(R.Alert,"warningFilledBg",D("palette-warning-main")),de(R.Alert,"errorFilledColor",Xi(()=>R.getContrastText(R.error.main))),de(R.Alert,"infoFilledColor",Xi(()=>R.getContrastText(R.info.main))),de(R.Alert,"successFilledColor",Xi(()=>R.getContrastText(R.success.main))),de(R.Alert,"warningFilledColor",Xi(()=>R.getContrastText(R.warning.main))),de(R.Alert,"errorStandardBg",Ct(R.error.light,.9)),de(R.Alert,"infoStandardBg",Ct(R.info.light,.9)),de(R.Alert,"successStandardBg",Ct(R.success.light,.9)),de(R.Alert,"warningStandardBg",Ct(R.warning.light,.9)),de(R.Alert,"errorIconColor",D("palette-error-main")),de(R.Alert,"infoIconColor",D("palette-info-main")),de(R.Alert,"successIconColor",D("palette-success-main")),de(R.Alert,"warningIconColor",D("palette-warning-main")),de(R.AppBar,"defaultBg",D("palette-grey-100")),de(R.Avatar,"defaultBg",D("palette-grey-400")),de(R.Button,"inheritContainedBg",D("palette-grey-300")),de(R.Button,"inheritContainedHoverBg",D("palette-grey-A100")),de(R.Chip,"defaultBorder",D("palette-grey-400")),de(R.Chip,"defaultAvatarColor",D("palette-grey-700")),de(R.Chip,"defaultIconColor",D("palette-grey-700")),de(R.FilledInput,"bg","rgba(0, 0, 0, 0.06)"),de(R.FilledInput,"hoverBg","rgba(0, 0, 0, 0.09)"),de(R.FilledInput,"disabledBg","rgba(0, 0, 0, 0.12)"),de(R.LinearProgress,"primaryBg",Ct(R.primary.main,.62)),de(R.LinearProgress,"secondaryBg",Ct(R.secondary.main,.62)),de(R.LinearProgress,"errorBg",Ct(R.error.main,.62)),de(R.LinearProgress,"infoBg",Ct(R.info.main,.62)),de(R.LinearProgress,"successBg",Ct(R.success.main,.62)),de(R.LinearProgress,"warningBg",Ct(R.warning.main,.62)),de(R.Skeleton,"bg",`rgba(${D("palette-text-primaryChannel")} / 0.11)`),de(R.Slider,"primaryTrack",Ct(R.primary.main,.62)),de(R.Slider,"secondaryTrack",Ct(R.secondary.main,.62)),de(R.Slider,"errorTrack",Ct(R.error.main,.62)),de(R.Slider,"infoTrack",Ct(R.info.main,.62)),de(R.Slider,"successTrack",Ct(R.success.main,.62)),de(R.Slider,"warningTrack",Ct(R.warning.main,.62));const $=ly(R.background.default,.8);de(R.SnackbarContent,"bg",$),de(R.SnackbarContent,"color",Xi(()=>R.getContrastText($))),de(R.SpeedDialAction,"fabHoverBg",ly(R.background.paper,.15)),de(R.StepConnector,"border",D("palette-grey-400")),de(R.StepContent,"border",D("palette-grey-400")),de(R.Switch,"defaultColor",D("palette-common-white")),de(R.Switch,"defaultDisabledColor",D("palette-grey-100")),de(R.Switch,"primaryDisabledColor",Ct(R.primary.main,.62)),de(R.Switch,"secondaryDisabledColor",Ct(R.secondary.main,.62)),de(R.Switch,"errorDisabledColor",Ct(R.error.main,.62)),de(R.Switch,"infoDisabledColor",Ct(R.info.main,.62)),de(R.Switch,"successDisabledColor",Ct(R.success.main,.62)),de(R.Switch,"warningDisabledColor",Ct(R.warning.main,.62)),de(R.TableCell,"border",Ct(ay(R.divider,1),.88)),de(R.Tooltip,"bg",ay(R.grey[700],.92))}if(R.mode==="dark"){de(R.Alert,"errorColor",Ct(R.error.light,.6)),de(R.Alert,"infoColor",Ct(R.info.light,.6)),de(R.Alert,"successColor",Ct(R.success.light,.6)),de(R.Alert,"warningColor",Ct(R.warning.light,.6)),de(R.Alert,"errorFilledBg",D("palette-error-dark")),de(R.Alert,"infoFilledBg",D("palette-info-dark")),de(R.Alert,"successFilledBg",D("palette-success-dark")),de(R.Alert,"warningFilledBg",D("palette-warning-dark")),de(R.Alert,"errorFilledColor",Xi(()=>R.getContrastText(R.error.dark))),de(R.Alert,"infoFilledColor",Xi(()=>R.getContrastText(R.info.dark))),de(R.Alert,"successFilledColor",Xi(()=>R.getContrastText(R.success.dark))),de(R.Alert,"warningFilledColor",Xi(()=>R.getContrastText(R.warning.dark))),de(R.Alert,"errorStandardBg",Et(R.error.light,.9)),de(R.Alert,"infoStandardBg",Et(R.info.light,.9)),de(R.Alert,"successStandardBg",Et(R.success.light,.9)),de(R.Alert,"warningStandardBg",Et(R.warning.light,.9)),de(R.Alert,"errorIconColor",D("palette-error-main")),de(R.Alert,"infoIconColor",D("palette-info-main")),de(R.Alert,"successIconColor",D("palette-success-main")),de(R.Alert,"warningIconColor",D("palette-warning-main")),de(R.AppBar,"defaultBg",D("palette-grey-900")),de(R.AppBar,"darkBg",D("palette-background-paper")),de(R.AppBar,"darkColor",D("palette-text-primary")),de(R.Avatar,"defaultBg",D("palette-grey-600")),de(R.Button,"inheritContainedBg",D("palette-grey-800")),de(R.Button,"inheritContainedHoverBg",D("palette-grey-700")),de(R.Chip,"defaultBorder",D("palette-grey-700")),de(R.Chip,"defaultAvatarColor",D("palette-grey-300")),de(R.Chip,"defaultIconColor",D("palette-grey-300")),de(R.FilledInput,"bg","rgba(255, 255, 255, 0.09)"),de(R.FilledInput,"hoverBg","rgba(255, 255, 255, 0.13)"),de(R.FilledInput,"disabledBg","rgba(255, 255, 255, 0.12)"),de(R.LinearProgress,"primaryBg",Et(R.primary.main,.5)),de(R.LinearProgress,"secondaryBg",Et(R.secondary.main,.5)),de(R.LinearProgress,"errorBg",Et(R.error.main,.5)),de(R.LinearProgress,"infoBg",Et(R.info.main,.5)),de(R.LinearProgress,"successBg",Et(R.success.main,.5)),de(R.LinearProgress,"warningBg",Et(R.warning.main,.5)),de(R.Skeleton,"bg",`rgba(${D("palette-text-primaryChannel")} / 0.13)`),de(R.Slider,"primaryTrack",Et(R.primary.main,.5)),de(R.Slider,"secondaryTrack",Et(R.secondary.main,.5)),de(R.Slider,"errorTrack",Et(R.error.main,.5)),de(R.Slider,"infoTrack",Et(R.info.main,.5)),de(R.Slider,"successTrack",Et(R.success.main,.5)),de(R.Slider,"warningTrack",Et(R.warning.main,.5));const $=ly(R.background.default,.98);de(R.SnackbarContent,"bg",$),de(R.SnackbarContent,"color",Xi(()=>R.getContrastText($))),de(R.SpeedDialAction,"fabHoverBg",ly(R.background.paper,.15)),de(R.StepConnector,"border",D("palette-grey-600")),de(R.StepContent,"border",D("palette-grey-600")),de(R.Switch,"defaultColor",D("palette-grey-300")),de(R.Switch,"defaultDisabledColor",D("palette-grey-600")),de(R.Switch,"primaryDisabledColor",Et(R.primary.main,.55)),de(R.Switch,"secondaryDisabledColor",Et(R.secondary.main,.55)),de(R.Switch,"errorDisabledColor",Et(R.error.main,.55)),de(R.Switch,"infoDisabledColor",Et(R.info.main,.55)),de(R.Switch,"successDisabledColor",Et(R.success.main,.55)),de(R.Switch,"warningDisabledColor",Et(R.warning.main,.55)),de(R.TableCell,"border",Et(ay(R.divider,1),.68)),de(R.Tooltip,"bg",ay(R.grey[700],.92))}zs(R.background,"default"),zs(R.background,"paper"),zs(R.common,"background"),zs(R.common,"onBackground"),zs(R,"divider"),Object.keys(R).forEach($=>{const G=R[$];$!=="tonalOffset"&&G&&typeof G=="object"&&(G.main&&de(R[$],"mainChannel",Bh(jh(G.main))),G.light&&de(R[$],"lightChannel",Bh(jh(G.light))),G.dark&&de(R[$],"darkChannel",Bh(jh(G.dark))),G.contrastText&&de(R[$],"contrastTextChannel",Bh(jh(G.contrastText))),$==="text"&&(zs(R[$],"primary"),zs(R[$],"secondary")),$==="action"&&(G.active&&zs(R[$],"active"),G.selected&&zs(R[$],"selected")))})}),C=e.reduce((N,R)=>Yn(N,R),C);const k={prefix:s,disableCssColorScheme:i,shouldSkipGeneratingVar:o,getSelector:f6(C)},{vars:I,generateThemeVars:P,generateStyleSheets:M}=BW(C,k);return C.vars=I,Object.entries(C.colorSchemes[C.defaultColorScheme]).forEach(([N,R])=>{C[N]=R}),C.generateThemeVars=P,C.generateStyleSheets=M,C.generateSpacing=function(){return vN(d.spacing,B1(this))},C.getColorSchemeSelector=jW(l),C.spacing=C.generateSpacing(),C.shouldSkipGeneratingVar=o,C.unstable_sxConfig={...Ag,...d==null?void 0:d.unstable_sxConfig},C.unstable_sx=function(R){return bc({sx:R,theme:this})},C.toRuntimeSource=ON,C}function VR(n,e,t){n.colorSchemes&&t&&(n.colorSchemes[e]={...t!==!0&&t,palette:Y1({...t===!0?{}:t.palette,mode:e})})}function zN(n={},...e){const{palette:t,cssVariables:r=!1,colorSchemes:i=t?void 0:{light:!0},defaultColorScheme:s=t==null?void 0:t.mode,...o}=n,l=s||"light",u=i==null?void 0:i[l],d={...i,...t?{[l]:{...typeof u!="boolean"&&u,palette:t}}:void 0};if(r===!1){if(!("colorSchemes"in n))return $S(n,...e);let h=t;"palette"in n||d[l]&&(d[l]!==!0?h=d[l].palette:l==="dark"&&(h={mode:"dark"}));const f=$S({...n,palette:h},...e);return f.defaultColorScheme=l,f.colorSchemes=d,f.palette.mode==="light"&&(f.colorSchemes.light={...d.light!==!0&&d.light,palette:f.palette},VR(f,"dark",d.dark)),f.palette.mode==="dark"&&(f.colorSchemes.dark={...d.dark!==!0&&d.dark,palette:f.palette},VR(f,"light",d.light)),f}return!t&&!("light"in d)&&l==="light"&&(d.light=!0),y6({...o,colorSchemes:d,defaultColorScheme:l,...typeof r!="boolean"&&r},...e)}const X1=zN();function xv(){const n=W1(X1);return n[lv]||n}function $N(n){return n!=="ownerState"&&n!=="theme"&&n!=="sx"&&n!=="as"}const Cr=n=>$N(n)&&n!=="classes",Ae=gW({themeId:lv,defaultTheme:X1,rootShouldForwardProp:Cr});function v6(n){return F.jsx(aW,{...n,defaultTheme:X1,themeId:lv})}function b6(n){return function(t){return F.jsx(v6,{styles:typeof n=="function"?r=>n({theme:r,...t}):n})}}function w6(){return bN}const xt=DW;function ft(n){return OW(n)}function x6(n){return rt("MuiSvgIcon",n)}Ye("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const S6=n=>{const{color:e,fontSize:t,classes:r}=n,i={root:["root",e!=="inherit"&&`color${Le(e)}`,`fontSize${Le(t)}`]};return it(i,x6,r)},E6=Ae("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.color!=="inherit"&&e[`color${Le(t.color)}`],e[`fontSize${Le(t.fontSize)}`]]}})(xt(({theme:n})=>{var e,t,r,i,s,o,l,u,d,h,f,g,y,v;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",flexShrink:0,transition:(i=(e=n.transitions)==null?void 0:e.create)==null?void 0:i.call(e,"fill",{duration:(r=(t=(n.vars??n).transitions)==null?void 0:t.duration)==null?void 0:r.shorter}),variants:[{props:w=>!w.hasSvgAsChild,style:{fill:"currentColor"}},{props:{fontSize:"inherit"},style:{fontSize:"inherit"}},{props:{fontSize:"small"},style:{fontSize:((o=(s=n.typography)==null?void 0:s.pxToRem)==null?void 0:o.call(s,20))||"1.25rem"}},{props:{fontSize:"medium"},style:{fontSize:((u=(l=n.typography)==null?void 0:l.pxToRem)==null?void 0:u.call(l,24))||"1.5rem"}},{props:{fontSize:"large"},style:{fontSize:((h=(d=n.typography)==null?void 0:d.pxToRem)==null?void 0:h.call(d,35))||"2.1875rem"}},...Object.entries((n.vars??n).palette).filter(([,w])=>w&&w.main).map(([w])=>{var E,x;return{props:{color:w},style:{color:(x=(E=(n.vars??n).palette)==null?void 0:E[w])==null?void 0:x.main}}}),{props:{color:"action"},style:{color:(g=(f=(n.vars??n).palette)==null?void 0:f.action)==null?void 0:g.active}},{props:{color:"disabled"},style:{color:(v=(y=(n.vars??n).palette)==null?void 0:y.action)==null?void 0:v.disabled}},{props:{color:"inherit"},style:{color:void 0}}]}})),jS=O.forwardRef(function(e,t){const r=ft({props:e,name:"MuiSvgIcon"}),{children:i,className:s,color:o="inherit",component:l="svg",fontSize:u="medium",htmlColor:d,inheritViewBox:h=!1,titleAccess:f,viewBox:g="0 0 24 24",...y}=r,v=O.isValidElement(i)&&i.type==="svg",w={...r,color:o,component:l,fontSize:u,instanceFontSize:e.fontSize,inheritViewBox:h,viewBox:g,hasSvgAsChild:v},E={};h||(E.viewBox=g);const x=S6(w);return F.jsxs(E6,{as:l,className:$e(x.root,s),focusable:"false",color:d,"aria-hidden":f?void 0:!0,role:f?"img":void 0,ref:t,...E,...y,...v&&i.props,ownerState:w,children:[v?i.props.children:i,f?F.jsx("title",{children:f}):null]})});jS.muiName="SvgIcon";function ji(n,e){function t(r,i){return F.jsx(jS,{"data-testid":`${e}Icon`,ref:i,...r,children:n})}return t.muiName=jS.muiName,O.memo(O.forwardRef(t))}function BN(n,e){if(!n)return e;if(typeof n=="function"||typeof e=="function")return i=>{const s=typeof e=="function"?e(i):e,o=typeof n=="function"?n({...i,...s}):n,l=$e(i==null?void 0:i.className,s==null?void 0:s.className,o==null?void 0:o.className);return{...s,...o,...!!l&&{className:l},...(s==null?void 0:s.style)&&(o==null?void 0:o.style)&&{style:{...s.style,...o.style}},...(s==null?void 0:s.sx)&&(o==null?void 0:o.sx)&&{sx:[...Array.isArray(s.sx)?s.sx:[s.sx],...Array.isArray(o.sx)?o.sx:[o.sx]]}}};const t=e,r=$e(t==null?void 0:t.className,n==null?void 0:n.className);return{...e,...n,...!!r&&{className:r},...(t==null?void 0:t.style)&&(n==null?void 0:n.style)&&{style:{...t.style,...n.style}},...(t==null?void 0:t.sx)&&(n==null?void 0:n.sx)&&{sx:[...Array.isArray(t.sx)?t.sx:[t.sx],...Array.isArray(n.sx)?n.sx:[n.sx]]}}}function jN(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)!==-1)continue;t[r]=n[r]}return t}function HS(n,e){return HS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,r){return t.__proto__=r,t},HS(n,e)}function HN(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,HS(n,e)}const GR={disabled:!1},g0=ut.createContext(null);var C6=function(e){return e.scrollTop},Hh="unmounted",dl="exited",hl="entering",fu="entered",WS="exiting",ks=function(n){HN(e,n);function e(r,i){var s;s=n.call(this,r,i)||this;var o=i,l=o&&!o.isMounting?r.enter:r.appear,u;return s.appearStatus=null,r.in?l?(u=dl,s.appearStatus=hl):u=fu:r.unmountOnExit||r.mountOnEnter?u=Hh:u=dl,s.state={status:u},s.nextCallback=null,s}e.getDerivedStateFromProps=function(i,s){var o=i.in;return o&&s.status===Hh?{status:dl}:null};var t=e.prototype;return t.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},t.componentDidUpdate=function(i){var s=null;if(i!==this.props){var o=this.state.status;this.props.in?o!==hl&&o!==fu&&(s=hl):(o===hl||o===fu)&&(s=WS)}this.updateStatus(!1,s)},t.componentWillUnmount=function(){this.cancelNextCallback()},t.getTimeouts=function(){var i=this.props.timeout,s,o,l;return s=o=l=i,i!=null&&typeof i!="number"&&(s=i.exit,o=i.enter,l=i.appear!==void 0?i.appear:o),{exit:s,enter:o,appear:l}},t.updateStatus=function(i,s){if(i===void 0&&(i=!1),s!==null)if(this.cancelNextCallback(),s===hl){if(this.props.unmountOnExit||this.props.mountOnEnter){var o=this.props.nodeRef?this.props.nodeRef.current:ry.findDOMNode(this);o&&C6(o)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===dl&&this.setState({status:Hh})},t.performEnter=function(i){var s=this,o=this.props.enter,l=this.context?this.context.isMounting:i,u=this.props.nodeRef?[l]:[ry.findDOMNode(this),l],d=u[0],h=u[1],f=this.getTimeouts(),g=l?f.appear:f.enter;if(!i&&!o||GR.disabled){this.safeSetState({status:fu},function(){s.props.onEntered(d)});return}this.props.onEnter(d,h),this.safeSetState({status:hl},function(){s.props.onEntering(d,h),s.onTransitionEnd(g,function(){s.safeSetState({status:fu},function(){s.props.onEntered(d,h)})})})},t.performExit=function(){var i=this,s=this.props.exit,o=this.getTimeouts(),l=this.props.nodeRef?void 0:ry.findDOMNode(this);if(!s||GR.disabled){this.safeSetState({status:dl},function(){i.props.onExited(l)});return}this.props.onExit(l),this.safeSetState({status:WS},function(){i.props.onExiting(l),i.onTransitionEnd(o.exit,function(){i.safeSetState({status:dl},function(){i.props.onExited(l)})})})},t.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},t.safeSetState=function(i,s){s=this.setNextCallback(s),this.setState(i,s)},t.setNextCallback=function(i){var s=this,o=!0;return this.nextCallback=function(l){o&&(o=!1,s.nextCallback=null,i(l))},this.nextCallback.cancel=function(){o=!1},this.nextCallback},t.onTransitionEnd=function(i,s){this.setNextCallback(s);var o=this.props.nodeRef?this.props.nodeRef.current:ry.findDOMNode(this),l=i==null&&!this.props.addEndListener;if(!o||l){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var u=this.props.nodeRef?[this.nextCallback]:[o,this.nextCallback],d=u[0],h=u[1];this.props.addEndListener(d,h)}i!=null&&setTimeout(this.nextCallback,i)},t.render=function(){var i=this.state.status;if(i===Hh)return null;var s=this.props,o=s.children;s.in,s.mountOnEnter,s.unmountOnExit,s.appear,s.enter,s.exit,s.timeout,s.addEndListener,s.onEnter,s.onEntering,s.onEntered,s.onExit,s.onExiting,s.onExited,s.nodeRef;var l=jN(s,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return ut.createElement(g0.Provider,{value:null},typeof o=="function"?o(i,l):ut.cloneElement(ut.Children.only(o),l))},e}(ut.Component);ks.contextType=g0;ks.propTypes={};function uu(){}ks.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:uu,onEntering:uu,onEntered:uu,onExit:uu,onExiting:uu,onExited:uu};ks.UNMOUNTED=Hh;ks.EXITED=dl;ks.ENTERING=hl;ks.ENTERED=fu;ks.EXITING=WS;function _6(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function K1(n,e){var t=function(s){return e&&O.isValidElement(s)?e(s):s},r=Object.create(null);return n&&O.Children.map(n,function(i){return i}).forEach(function(i){r[i.key]=t(i)}),r}function A6(n,e){n=n||{},e=e||{};function t(h){return h in e?e[h]:n[h]}var r=Object.create(null),i=[];for(var s in n)s in e?i.length&&(r[s]=i,i=[]):i.push(s);var o,l={};for(var u in e){if(r[u])for(o=0;o<r[u].length;o++){var d=r[u][o];l[r[u][o]]=t(d)}l[u]=t(u)}for(o=0;o<i.length;o++)l[i[o]]=t(i[o]);return l}function bl(n,e,t){return t[e]!=null?t[e]:n.props[e]}function k6(n,e){return K1(n.children,function(t){return O.cloneElement(t,{onExited:e.bind(null,t),in:!0,appear:bl(t,"appear",n),enter:bl(t,"enter",n),exit:bl(t,"exit",n)})})}function R6(n,e,t){var r=K1(n.children),i=A6(e,r);return Object.keys(i).forEach(function(s){var o=i[s];if(O.isValidElement(o)){var l=s in e,u=s in r,d=e[s],h=O.isValidElement(d)&&!d.props.in;u&&(!l||h)?i[s]=O.cloneElement(o,{onExited:t.bind(null,o),in:!0,exit:bl(o,"exit",n),enter:bl(o,"enter",n)}):!u&&l&&!h?i[s]=O.cloneElement(o,{in:!1}):u&&l&&O.isValidElement(d)&&(i[s]=O.cloneElement(o,{onExited:t.bind(null,o),in:d.props.in,exit:bl(o,"exit",n),enter:bl(o,"enter",n)}))}}),i}var T6=Object.values||function(n){return Object.keys(n).map(function(e){return n[e]})},P6={component:"div",childFactory:function(e){return e}},Q1=function(n){HN(e,n);function e(r,i){var s;s=n.call(this,r,i)||this;var o=s.handleExited.bind(_6(s));return s.state={contextValue:{isMounting:!0},handleExited:o,firstRender:!0},s}var t=e.prototype;return t.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},t.componentWillUnmount=function(){this.mounted=!1},e.getDerivedStateFromProps=function(i,s){var o=s.children,l=s.handleExited,u=s.firstRender;return{children:u?k6(i,l):R6(i,o,l),firstRender:!1}},t.handleExited=function(i,s){var o=K1(this.props.children);i.key in o||(i.props.onExited&&i.props.onExited(s),this.mounted&&this.setState(function(l){var u=d0({},l.children);return delete u[i.key],{children:u}}))},t.render=function(){var i=this.props,s=i.component,o=i.childFactory,l=jN(i,["component","childFactory"]),u=this.state.contextValue,d=T6(this.state.children).map(o);return delete l.appear,delete l.enter,delete l.exit,s===null?ut.createElement(g0.Provider,{value:u},d):ut.createElement(g0.Provider,{value:u},ut.createElement(s,l,d))},e}(ut.Component);Q1.propTypes={};Q1.defaultProps=P6;const WN=n=>n.scrollTop;function m0(n,e){const{timeout:t,easing:r,style:i={}}=n;return{duration:i.transitionDuration??(typeof t=="number"?t:t[e.mode]||0),easing:i.transitionTimingFunction??(typeof r=="object"?r[e.mode]:r),delay:i.transitionDelay}}function M6(n){return rt("MuiPaper",n)}Ye("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const I6=n=>{const{square:e,elevation:t,variant:r,classes:i}=n,s={root:["root",r,!e&&"rounded",r==="elevation"&&`elevation${t}`]};return it(s,M6,i)},N6=Ae("div",{name:"MuiPaper",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,e[t.variant],!t.square&&e.rounded,t.variant==="elevation"&&e[`elevation${t.elevation}`]]}})(xt(({theme:n})=>({backgroundColor:(n.vars||n).palette.background.paper,color:(n.vars||n).palette.text.primary,transition:n.transitions.create("box-shadow"),variants:[{props:({ownerState:e})=>!e.square,style:{borderRadius:n.shape.borderRadius}},{props:{variant:"outlined"},style:{border:`1px solid ${(n.vars||n).palette.divider}`}},{props:{variant:"elevation"},style:{boxShadow:"var(--Paper-shadow)",backgroundImage:"var(--Paper-overlay)"}}]}))),Z1=O.forwardRef(function(e,t){var y;const r=ft({props:e,name:"MuiPaper"}),i=xv(),{className:s,component:o="div",elevation:l=1,square:u=!1,variant:d="elevation",...h}=r,f={...r,component:o,elevation:l,square:u,variant:d},g=I6(f);return F.jsx(N6,{as:o,ownerState:f,className:$e(g.root,s),ref:t,...h,style:{...d==="elevation"&&{"--Paper-shadow":(i.vars||i).shadows[l],...i.vars&&{"--Paper-overlay":(y=i.vars.overlays)==null?void 0:y[l]},...!i.vars&&i.palette.mode==="dark"&&{"--Paper-overlay":`linear-gradient(${Vn("#fff",BS(l))}, ${Vn("#fff",BS(l))})`}},...h.style}})});function Ht(n,e){const{className:t,elementType:r,ownerState:i,externalForwardedProps:s,internalForwardedProps:o,shouldForwardComponentProp:l=!1,...u}=e,{component:d,slots:h={[n]:void 0},slotProps:f={[n]:void 0},...g}=s,y=h[n]||r,v=IN(f[n],i),{props:{component:w,...E},internalRef:x}=MN({className:t,...u,externalForwardedProps:n==="root"?g:void 0,externalSlotProps:v}),_=or(x,v==null?void 0:v.ref,e.ref),S=n==="root"?w||d:w,C=TN(y,{...n==="root"&&!d&&!h[n]&&o,...n!=="root"&&!h[n]&&o,...E,...S&&!l&&{as:S},...S&&l&&{component:S},ref:_},i);return[y,C]}class y0{constructor(){_e(this,"mountEffect",()=>{this.shouldMount&&!this.didMount&&this.ref.current!==null&&(this.didMount=!0,this.mounted.resolve())});this.ref={current:null},this.mounted=null,this.didMount=!1,this.shouldMount=!1,this.setShouldMount=null}static create(){return new y0}static use(){const e=AN(y0.create).current,[t,r]=O.useState(!1);return e.shouldMount=t,e.setShouldMount=r,O.useEffect(e.mountEffect,[t]),e}mount(){return this.mounted||(this.mounted=O6(),this.shouldMount=!0,this.setShouldMount(this.shouldMount)),this.mounted}start(...e){this.mount().then(()=>{var t;return(t=this.ref.current)==null?void 0:t.start(...e)})}stop(...e){this.mount().then(()=>{var t;return(t=this.ref.current)==null?void 0:t.stop(...e)})}pulsate(...e){this.mount().then(()=>{var t;return(t=this.ref.current)==null?void 0:t.pulsate(...e)})}}function L6(){return y0.use()}function O6(){let n,e;const t=new Promise((r,i)=>{n=r,e=i});return t.resolve=n,t.reject=e,t}function D6(n){const{className:e,classes:t,pulsate:r=!1,rippleX:i,rippleY:s,rippleSize:o,in:l,onExited:u,timeout:d}=n,[h,f]=O.useState(!1),g=$e(e,t.ripple,t.rippleVisible,r&&t.ripplePulsate),y={width:o,height:o,top:-(o/2)+s,left:-(o/2)+i},v=$e(t.child,h&&t.childLeaving,r&&t.childPulsate);return!l&&!h&&f(!0),O.useEffect(()=>{if(!l&&u!=null){const w=setTimeout(u,d);return()=>{clearTimeout(w)}}},[u,l,d]),F.jsx("span",{className:g,style:y,children:F.jsx("span",{className:v})})}const li=Ye("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),US=550,F6=80,z6=Eg`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`,$6=Eg`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`,B6=Eg`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`,j6=Ae("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),H6=Ae(D6,{name:"MuiTouchRipple",slot:"Ripple"})`
  opacity: 0;
  position: absolute;

  &.${li.rippleVisible} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${z6};
    animation-duration: ${US}ms;
    animation-timing-function: ${({theme:n})=>n.transitions.easing.easeInOut};
  }

  &.${li.ripplePulsate} {
    animation-duration: ${({theme:n})=>n.transitions.duration.shorter}ms;
  }

  & .${li.child} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${li.childLeaving} {
    opacity: 0;
    animation-name: ${$6};
    animation-duration: ${US}ms;
    animation-timing-function: ${({theme:n})=>n.transitions.easing.easeInOut};
  }

  & .${li.childPulsate} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${B6};
    animation-duration: 2500ms;
    animation-timing-function: ${({theme:n})=>n.transitions.easing.easeInOut};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`,W6=O.forwardRef(function(e,t){const r=ft({props:e,name:"MuiTouchRipple"}),{center:i=!1,classes:s={},className:o,...l}=r,[u,d]=O.useState([]),h=O.useRef(0),f=O.useRef(null);O.useEffect(()=>{f.current&&(f.current(),f.current=null)},[u]);const g=O.useRef(!1),y=kN(),v=O.useRef(null),w=O.useRef(null),E=O.useCallback(C=>{const{pulsate:k,rippleX:I,rippleY:P,rippleSize:M,cb:N}=C;d(R=>[...R,F.jsx(H6,{classes:{ripple:$e(s.ripple,li.ripple),rippleVisible:$e(s.rippleVisible,li.rippleVisible),ripplePulsate:$e(s.ripplePulsate,li.ripplePulsate),child:$e(s.child,li.child),childLeaving:$e(s.childLeaving,li.childLeaving),childPulsate:$e(s.childPulsate,li.childPulsate)},timeout:US,pulsate:k,rippleX:I,rippleY:P,rippleSize:M},h.current)]),h.current+=1,f.current=N},[s]),x=O.useCallback((C={},k={},I=()=>{})=>{const{pulsate:P=!1,center:M=i||k.pulsate,fakeElement:N=!1}=k;if((C==null?void 0:C.type)==="mousedown"&&g.current){g.current=!1;return}(C==null?void 0:C.type)==="touchstart"&&(g.current=!0);const R=N?null:w.current,D=R?R.getBoundingClientRect():{width:0,height:0,left:0,top:0};let $,G,L;if(M||C===void 0||C.clientX===0&&C.clientY===0||!C.clientX&&!C.touches)$=Math.round(D.width/2),G=Math.round(D.height/2);else{const{clientX:q,clientY:H}=C.touches&&C.touches.length>0?C.touches[0]:C;$=Math.round(q-D.left),G=Math.round(H-D.top)}if(M)L=Math.sqrt((2*D.width**2+D.height**2)/3),L%2===0&&(L+=1);else{const q=Math.max(Math.abs((R?R.clientWidth:0)-$),$)*2+2,H=Math.max(Math.abs((R?R.clientHeight:0)-G),G)*2+2;L=Math.sqrt(q**2+H**2)}C!=null&&C.touches?v.current===null&&(v.current=()=>{E({pulsate:P,rippleX:$,rippleY:G,rippleSize:L,cb:I})},y.start(F6,()=>{v.current&&(v.current(),v.current=null)})):E({pulsate:P,rippleX:$,rippleY:G,rippleSize:L,cb:I})},[i,E,y]),_=O.useCallback(()=>{x({},{pulsate:!0})},[x]),S=O.useCallback((C,k)=>{if(y.clear(),(C==null?void 0:C.type)==="touchend"&&v.current){v.current(),v.current=null,y.start(0,()=>{S(C,k)});return}v.current=null,d(I=>I.length>0?I.slice(1):I),f.current=k},[y]);return O.useImperativeHandle(t,()=>({pulsate:_,start:x,stop:S}),[_,x,S]),F.jsx(j6,{className:$e(li.root,s.root,o),ref:w,...l,children:F.jsx(Q1,{component:null,exit:!0,children:u})})});function U6(n){return rt("MuiButtonBase",n)}const V6=Ye("MuiButtonBase",["root","disabled","focusVisible"]),G6=n=>{const{disabled:e,focusVisible:t,focusVisibleClassName:r,classes:i}=n,o=it({root:["root",e&&"disabled",t&&"focusVisible"]},U6,i);return t&&r&&(o.root+=` ${r}`),o},q6=Ae("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(n,e)=>e.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${V6.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),Sv=O.forwardRef(function(e,t){const r=ft({props:e,name:"MuiButtonBase"}),{action:i,centerRipple:s=!1,children:o,className:l,component:u="button",disabled:d=!1,disableRipple:h=!1,disableTouchRipple:f=!1,focusRipple:g=!1,focusVisibleClassName:y,LinkComponent:v="a",onBlur:w,onClick:E,onContextMenu:x,onDragLeave:_,onFocus:S,onFocusVisible:C,onKeyDown:k,onKeyUp:I,onMouseDown:P,onMouseLeave:M,onMouseUp:N,onTouchEnd:R,onTouchMove:D,onTouchStart:$,tabIndex:G=0,TouchRippleProps:L,touchRippleRef:q,type:H,...X}=r,W=O.useRef(null),U=L6(),Q=or(U.ref,q),[Y,te]=O.useState(!1);d&&Y&&te(!1),O.useImperativeHandle(i,()=>({focusVisible:()=>{te(!0),W.current.focus()}}),[]);const K=U.shouldMount&&!h&&!d;O.useEffect(()=>{Y&&g&&!h&&U.pulsate()},[h,g,Y,U]);const ee=$s(U,"start",P,f),J=$s(U,"stop",x,f),ie=$s(U,"stop",_,f),ne=$s(U,"stop",N,f),oe=$s(U,"stop",Pe=>{Y&&Pe.preventDefault(),M&&M(Pe)},f),ue=$s(U,"start",$,f),he=$s(U,"stop",R,f),me=$s(U,"stop",D,f),fe=$s(U,"stop",Pe=>{DR(Pe.target)||te(!1),w&&w(Pe)},!1),we=ku(Pe=>{W.current||(W.current=Pe.currentTarget),DR(Pe.target)&&(te(!0),C&&C(Pe)),S&&S(Pe)}),be=()=>{const Pe=W.current;return u&&u!=="button"&&!(Pe.tagName==="A"&&Pe.href)},Be=ku(Pe=>{g&&!Pe.repeat&&Y&&Pe.key===" "&&U.stop(Pe,()=>{U.start(Pe)}),Pe.target===Pe.currentTarget&&be()&&Pe.key===" "&&Pe.preventDefault(),k&&k(Pe),Pe.target===Pe.currentTarget&&be()&&Pe.key==="Enter"&&!d&&(Pe.preventDefault(),E&&E(Pe))}),st=ku(Pe=>{g&&Pe.key===" "&&Y&&!Pe.defaultPrevented&&U.stop(Pe,()=>{U.pulsate(Pe)}),I&&I(Pe),E&&Pe.target===Pe.currentTarget&&be()&&Pe.key===" "&&!Pe.defaultPrevented&&E(Pe)});let Ot=u;Ot==="button"&&(X.href||X.to)&&(Ot=v);const Tt={};Ot==="button"?(Tt.type=H===void 0?"button":H,Tt.disabled=d):(!X.href&&!X.to&&(Tt.role="button"),d&&(Tt["aria-disabled"]=d));const vn=or(t,W),St={...r,centerRipple:s,component:u,disabled:d,disableRipple:h,disableTouchRipple:f,focusRipple:g,tabIndex:G,focusVisible:Y},dt=G6(St);return F.jsxs(q6,{as:Ot,className:$e(dt.root,l),ownerState:St,onBlur:fe,onClick:E,onContextMenu:J,onFocus:we,onKeyDown:Be,onKeyUp:st,onMouseDown:ee,onMouseLeave:oe,onMouseUp:ne,onDragLeave:ie,onTouchEnd:he,onTouchMove:me,onTouchStart:ue,ref:vn,tabIndex:d?-1:G,type:H,...Tt,...X,children:[o,K?F.jsx(W6,{ref:Q,center:s,...L}):null]})});function $s(n,e,t,r=!1){return ku(i=>(t&&t(i),r||n[e](i),!0))}function Y6(n){return typeof n.main=="string"}function X6(n,e=[]){if(!Y6(n))return!1;for(const t of e)if(!n.hasOwnProperty(t)||typeof n[t]!="string")return!1;return!0}function zi(n=[]){return([,e])=>e&&X6(e,n)}function K6(n){return rt("MuiCircularProgress",n)}Ye("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);const ra=44,VS=Eg`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`,GS=Eg`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: -126px;
  }
`,Q6=typeof VS!="string"?F1`
        animation: ${VS} 1.4s linear infinite;
      `:null,Z6=typeof GS!="string"?F1`
        animation: ${GS} 1.4s ease-in-out infinite;
      `:null,J6=n=>{const{classes:e,variant:t,color:r,disableShrink:i}=n,s={root:["root",t,`color${Le(r)}`],svg:["svg"],circle:["circle",`circle${Le(t)}`,i&&"circleDisableShrink"]};return it(s,K6,e)},eU=Ae("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,e[t.variant],e[`color${Le(t.color)}`]]}})(xt(({theme:n})=>({display:"inline-block",variants:[{props:{variant:"determinate"},style:{transition:n.transitions.create("transform")}},{props:{variant:"indeterminate"},style:Q6||{animation:`${VS} 1.4s linear infinite`}},...Object.entries(n.palette).filter(zi()).map(([e])=>({props:{color:e},style:{color:(n.vars||n).palette[e].main}}))]}))),tU=Ae("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:(n,e)=>e.svg})({display:"block"}),nU=Ae("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.circle,e[`circle${Le(t.variant)}`],t.disableShrink&&e.circleDisableShrink]}})(xt(({theme:n})=>({stroke:"currentColor",variants:[{props:{variant:"determinate"},style:{transition:n.transitions.create("stroke-dashoffset")}},{props:{variant:"indeterminate"},style:{strokeDasharray:"80px, 200px",strokeDashoffset:0}},{props:({ownerState:e})=>e.variant==="indeterminate"&&!e.disableShrink,style:Z6||{animation:`${GS} 1.4s ease-in-out infinite`}}]}))),UN=O.forwardRef(function(e,t){const r=ft({props:e,name:"MuiCircularProgress"}),{className:i,color:s="primary",disableShrink:o=!1,size:l=40,style:u,thickness:d=3.6,value:h=0,variant:f="indeterminate",...g}=r,y={...r,color:s,disableShrink:o,size:l,thickness:d,value:h,variant:f},v=J6(y),w={},E={},x={};if(f==="determinate"){const _=2*Math.PI*((ra-d)/2);w.strokeDasharray=_.toFixed(3),x["aria-valuenow"]=Math.round(h),w.strokeDashoffset=`${((100-h)/100*_).toFixed(3)}px`,E.transform="rotate(-90deg)"}return F.jsx(eU,{className:$e(v.root,i),style:{width:l,height:l,...E,...u},ownerState:y,ref:t,role:"progressbar",...x,...g,children:F.jsx(tU,{className:v.svg,ownerState:y,viewBox:`${ra/2} ${ra/2} ${ra} ${ra}`,children:F.jsx(nU,{className:v.circle,style:w,ownerState:y,cx:ra,cy:ra,r:(ra-d)/2,fill:"none",strokeWidth:d})})})});function rU(n){return rt("MuiIconButton",n)}const qR=Ye("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge","loading","loadingIndicator","loadingWrapper"]),iU=n=>{const{classes:e,disabled:t,color:r,edge:i,size:s,loading:o}=n,l={root:["root",o&&"loading",t&&"disabled",r!=="default"&&`color${Le(r)}`,i&&`edge${Le(i)}`,`size${Le(s)}`],loadingIndicator:["loadingIndicator"],loadingWrapper:["loadingWrapper"]};return it(l,rU,e)},sU=Ae(Sv,{name:"MuiIconButton",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.loading&&e.loading,t.color!=="default"&&e[`color${Le(t.color)}`],t.edge&&e[`edge${Le(t.edge)}`],e[`size${Le(t.size)}`]]}})(xt(({theme:n})=>({textAlign:"center",flex:"0 0 auto",fontSize:n.typography.pxToRem(24),padding:8,borderRadius:"50%",color:(n.vars||n).palette.action.active,transition:n.transitions.create("background-color",{duration:n.transitions.duration.shortest}),variants:[{props:e=>!e.disableRipple,style:{"--IconButton-hoverBg":n.vars?`rgba(${n.vars.palette.action.activeChannel} / ${n.vars.palette.action.hoverOpacity})`:Vn(n.palette.action.active,n.palette.action.hoverOpacity),"&:hover":{backgroundColor:"var(--IconButton-hoverBg)","@media (hover: none)":{backgroundColor:"transparent"}}}},{props:{edge:"start"},style:{marginLeft:-12}},{props:{edge:"start",size:"small"},style:{marginLeft:-3}},{props:{edge:"end"},style:{marginRight:-12}},{props:{edge:"end",size:"small"},style:{marginRight:-3}}]})),xt(({theme:n})=>({variants:[{props:{color:"inherit"},style:{color:"inherit"}},...Object.entries(n.palette).filter(zi()).map(([e])=>({props:{color:e},style:{color:(n.vars||n).palette[e].main}})),...Object.entries(n.palette).filter(zi()).map(([e])=>({props:{color:e},style:{"--IconButton-hoverBg":n.vars?`rgba(${(n.vars||n).palette[e].mainChannel} / ${n.vars.palette.action.hoverOpacity})`:Vn((n.vars||n).palette[e].main,n.palette.action.hoverOpacity)}})),{props:{size:"small"},style:{padding:5,fontSize:n.typography.pxToRem(18)}},{props:{size:"large"},style:{padding:12,fontSize:n.typography.pxToRem(28)}}],[`&.${qR.disabled}`]:{backgroundColor:"transparent",color:(n.vars||n).palette.action.disabled},[`&.${qR.loading}`]:{color:"transparent"}}))),oU=Ae("span",{name:"MuiIconButton",slot:"LoadingIndicator",overridesResolver:(n,e)=>e.loadingIndicator})(({theme:n})=>({display:"none",position:"absolute",visibility:"visible",top:"50%",left:"50%",transform:"translate(-50%, -50%)",color:(n.vars||n).palette.action.disabled,variants:[{props:{loading:!0},style:{display:"flex"}}]})),Mf=O.forwardRef(function(e,t){const r=ft({props:e,name:"MuiIconButton"}),{edge:i=!1,children:s,className:o,color:l="default",disabled:u=!1,disableFocusRipple:d=!1,size:h="medium",id:f,loading:g=null,loadingIndicator:y,...v}=r,w=kg(f),E=y??F.jsx(UN,{"aria-labelledby":w,color:"inherit",size:16}),x={...r,edge:i,color:l,disabled:u,disableFocusRipple:d,loading:g,loadingIndicator:E,size:h},_=iU(x);return F.jsxs(sU,{id:g?w:f,className:$e(_.root,o),centerRipple:!0,focusRipple:!d,disabled:u||g,ref:t,...v,ownerState:x,children:[typeof g=="boolean"&&F.jsx("span",{className:_.loadingWrapper,style:{display:"contents"},children:F.jsx(oU,{className:_.loadingIndicator,ownerState:x,children:g&&E})}),s]})});function aU(n){return rt("MuiTypography",n)}Ye("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const lU={primary:!0,secondary:!0,error:!0,info:!0,success:!0,warning:!0,textPrimary:!0,textSecondary:!0,textDisabled:!0},cU=w6(),uU=n=>{const{align:e,gutterBottom:t,noWrap:r,paragraph:i,variant:s,classes:o}=n,l={root:["root",s,n.align!=="inherit"&&`align${Le(e)}`,t&&"gutterBottom",r&&"noWrap",i&&"paragraph"]};return it(l,aU,o)},dU=Ae("span",{name:"MuiTypography",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.variant&&e[t.variant],t.align!=="inherit"&&e[`align${Le(t.align)}`],t.noWrap&&e.noWrap,t.gutterBottom&&e.gutterBottom,t.paragraph&&e.paragraph]}})(xt(({theme:n})=>{var e;return{margin:0,variants:[{props:{variant:"inherit"},style:{font:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}},...Object.entries(n.typography).filter(([t,r])=>t!=="inherit"&&r&&typeof r=="object").map(([t,r])=>({props:{variant:t},style:r})),...Object.entries(n.palette).filter(zi()).map(([t])=>({props:{color:t},style:{color:(n.vars||n).palette[t].main}})),...Object.entries(((e=n.palette)==null?void 0:e.text)||{}).filter(([,t])=>typeof t=="string").map(([t])=>({props:{color:`text${Le(t)}`},style:{color:(n.vars||n).palette.text[t]}})),{props:({ownerState:t})=>t.align!=="inherit",style:{textAlign:"var(--Typography-textAlign)"}},{props:({ownerState:t})=>t.noWrap,style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},{props:({ownerState:t})=>t.gutterBottom,style:{marginBottom:"0.35em"}},{props:({ownerState:t})=>t.paragraph,style:{marginBottom:16}}]}})),YR={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},$a=O.forwardRef(function(e,t){const{color:r,...i}=ft({props:e,name:"MuiTypography"}),s=!lU[r],o=cU({...i,...s&&{color:r}}),{align:l="inherit",className:u,component:d,gutterBottom:h=!1,noWrap:f=!1,paragraph:g=!1,variant:y="body1",variantMapping:v=YR,...w}=o,E={...o,align:l,color:r,className:u,component:d,gutterBottom:h,noWrap:f,paragraph:g,variant:y,variantMapping:v},x=d||(g?"p":v[y]||YR[y])||"span",_=uU(E);return F.jsx(dU,{as:x,ref:t,className:$e(_.root,u),...w,ownerState:E,style:{...l!=="inherit"&&{"--Typography-textAlign":l},...w.style}})});function hU(n){return typeof n=="function"?n():n}const fU=O.forwardRef(function(e,t){const{children:r,container:i,disablePortal:s=!1}=e,[o,l]=O.useState(null),u=or(O.isValidElement(r)?Rg(r):null,t);if(Fa(()=>{s||l(hU(i)||document.body)},[i,s]),Fa(()=>{if(o&&!s)return FS(t,o),()=>{FS(t,null)}},[t,o,s]),s){if(O.isValidElement(r)){const d={ref:u};return O.cloneElement(r,d)}return r}return o&&bg.createPortal(r,o)});function cy(n){return parseInt(n,10)||0}const pU={shadow:{visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"}};function gU(n){for(const e in n)return!1;return!0}function mU(n){return gU(n)||n.outerHeightStyle===0&&!n.overflowing}const yU=O.forwardRef(function(e,t){const{onChange:r,maxRows:i,minRows:s=1,style:o,value:l,...u}=e,{current:d}=O.useRef(l!=null),h=O.useRef(null),f=or(t,h),g=O.useRef(null),y=O.useRef(null),v=O.useCallback(()=>{const _=h.current,S=y.current;if(!_||!S)return;const k=ko(_).getComputedStyle(_);if(k.width==="0px")return{outerHeightStyle:0,overflowing:!1};S.style.width=k.width,S.value=_.value||e.placeholder||"x",S.value.slice(-1)===`
`&&(S.value+=" ");const I=k.boxSizing,P=cy(k.paddingBottom)+cy(k.paddingTop),M=cy(k.borderBottomWidth)+cy(k.borderTopWidth),N=S.scrollHeight;S.value="x";const R=S.scrollHeight;let D=N;s&&(D=Math.max(Number(s)*R,D)),i&&(D=Math.min(Number(i)*R,D)),D=Math.max(D,R);const $=D+(I==="border-box"?P+M:0),G=Math.abs(D-N)<=1;return{outerHeightStyle:$,overflowing:G}},[i,s,e.placeholder]),w=O.useCallback(()=>{const _=h.current,S=v();if(!_||!S||mU(S))return;const C=S.outerHeightStyle;g.current!==C&&(g.current=C,_.style.height=`${C}px`),_.style.overflow=S.overflowing?"hidden":""},[v]),E=O.useRef(-1);Fa(()=>{const _=_N(()=>w()),S=h==null?void 0:h.current;if(!S)return;const C=ko(S);C.addEventListener("resize",_);let k;return typeof ResizeObserver<"u"&&(k=new ResizeObserver(()=>{k.unobserve(S),cancelAnimationFrame(E.current),w(),E.current=requestAnimationFrame(()=>{k.observe(S)})}),k.observe(S)),()=>{_.clear(),cancelAnimationFrame(E.current),C.removeEventListener("resize",_),k&&k.disconnect()}},[v,w]),Fa(()=>{w()});const x=_=>{d||w(),r&&r(_)};return F.jsxs(O.Fragment,{children:[F.jsx("textarea",{value:l,onChange:x,ref:f,rows:s,style:o,...u}),F.jsx("textarea",{"aria-hidden":!0,className:e.className,readOnly:!0,ref:y,tabIndex:-1,style:{...pU.shadow,...o,paddingTop:0,paddingBottom:0}})]})});function qS(n){return typeof n=="string"}function kc({props:n,states:e,muiFormControl:t}){return e.reduce((r,i)=>(r[i]=n[i],t&&typeof n[i]>"u"&&(r[i]=t[i]),r),{})}const J1=O.createContext(void 0);function Wa(){return O.useContext(J1)}function XR(n){return n!=null&&!(Array.isArray(n)&&n.length===0)}function v0(n,e=!1){return n&&(XR(n.value)&&n.value!==""||e&&XR(n.defaultValue)&&n.defaultValue!=="")}function vU(n){return n.startAdornment}function bU(n){return rt("MuiInputBase",n)}const Nd=Ye("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]);var KR;const Ev=(n,e)=>{const{ownerState:t}=n;return[e.root,t.formControl&&e.formControl,t.startAdornment&&e.adornedStart,t.endAdornment&&e.adornedEnd,t.error&&e.error,t.size==="small"&&e.sizeSmall,t.multiline&&e.multiline,t.color&&e[`color${Le(t.color)}`],t.fullWidth&&e.fullWidth,t.hiddenLabel&&e.hiddenLabel]},Cv=(n,e)=>{const{ownerState:t}=n;return[e.input,t.size==="small"&&e.inputSizeSmall,t.multiline&&e.inputMultiline,t.type==="search"&&e.inputTypeSearch,t.startAdornment&&e.inputAdornedStart,t.endAdornment&&e.inputAdornedEnd,t.hiddenLabel&&e.inputHiddenLabel]},wU=n=>{const{classes:e,color:t,disabled:r,error:i,endAdornment:s,focused:o,formControl:l,fullWidth:u,hiddenLabel:d,multiline:h,readOnly:f,size:g,startAdornment:y,type:v}=n,w={root:["root",`color${Le(t)}`,r&&"disabled",i&&"error",u&&"fullWidth",o&&"focused",l&&"formControl",g&&g!=="medium"&&`size${Le(g)}`,h&&"multiline",y&&"adornedStart",s&&"adornedEnd",d&&"hiddenLabel",f&&"readOnly"],input:["input",r&&"disabled",v==="search"&&"inputTypeSearch",h&&"inputMultiline",g==="small"&&"inputSizeSmall",d&&"inputHiddenLabel",y&&"inputAdornedStart",s&&"inputAdornedEnd",f&&"readOnly"]};return it(w,bU,e)},_v=Ae("div",{name:"MuiInputBase",slot:"Root",overridesResolver:Ev})(xt(({theme:n})=>({...n.typography.body1,color:(n.vars||n).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${Nd.disabled}`]:{color:(n.vars||n).palette.text.disabled,cursor:"default"},variants:[{props:({ownerState:e})=>e.multiline,style:{padding:"4px 0 5px"}},{props:({ownerState:e,size:t})=>e.multiline&&t==="small",style:{paddingTop:1}},{props:({ownerState:e})=>e.fullWidth,style:{width:"100%"}}]}))),Av=Ae("input",{name:"MuiInputBase",slot:"Input",overridesResolver:Cv})(xt(({theme:n})=>{const e=n.palette.mode==="light",t={color:"currentColor",...n.vars?{opacity:n.vars.opacity.inputPlaceholder}:{opacity:e?.42:.5},transition:n.transitions.create("opacity",{duration:n.transitions.duration.shorter})},r={opacity:"0 !important"},i=n.vars?{opacity:n.vars.opacity.inputPlaceholder}:{opacity:e?.42:.5};return{font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%","&::-webkit-input-placeholder":t,"&::-moz-placeholder":t,"&::-ms-input-placeholder":t,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${Nd.formControl} &`]:{"&::-webkit-input-placeholder":r,"&::-moz-placeholder":r,"&::-ms-input-placeholder":r,"&:focus::-webkit-input-placeholder":i,"&:focus::-moz-placeholder":i,"&:focus::-ms-input-placeholder":i},[`&.${Nd.disabled}`]:{opacity:1,WebkitTextFillColor:(n.vars||n).palette.text.disabled},variants:[{props:({ownerState:s})=>!s.disableInjectingGlobalStyles,style:{animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}}},{props:{size:"small"},style:{paddingTop:1}},{props:({ownerState:s})=>s.multiline,style:{height:"auto",resize:"none",padding:0,paddingTop:0}},{props:{type:"search"},style:{MozAppearance:"textfield"}}]}})),QR=b6({"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}),eC=O.forwardRef(function(e,t){const r=ft({props:e,name:"MuiInputBase"}),{"aria-describedby":i,autoComplete:s,autoFocus:o,className:l,color:u,components:d={},componentsProps:h={},defaultValue:f,disabled:g,disableInjectingGlobalStyles:y,endAdornment:v,error:w,fullWidth:E=!1,id:x,inputComponent:_="input",inputProps:S={},inputRef:C,margin:k,maxRows:I,minRows:P,multiline:M=!1,name:N,onBlur:R,onChange:D,onClick:$,onFocus:G,onKeyDown:L,onKeyUp:q,placeholder:H,readOnly:X,renderSuffix:W,rows:U,size:Q,slotProps:Y={},slots:te={},startAdornment:K,type:ee="text",value:J,...ie}=r,ne=S.value!=null?S.value:J,{current:oe}=O.useRef(ne!=null),ue=O.useRef(),he=O.useCallback(et=>{},[]),me=or(ue,C,S.ref,he),[fe,we]=O.useState(!1),be=Wa(),Be=kc({props:r,muiFormControl:be,states:["color","disabled","error","hiddenLabel","size","required","filled"]});Be.focused=be?be.focused:fe,O.useEffect(()=>{!be&&g&&fe&&(we(!1),R&&R())},[be,g,fe,R]);const st=be&&be.onFilled,Ot=be&&be.onEmpty,Tt=O.useCallback(et=>{v0(et)?st&&st():Ot&&Ot()},[st,Ot]);Fa(()=>{oe&&Tt({value:ne})},[ne,Tt,oe]);const vn=et=>{G&&G(et),S.onFocus&&S.onFocus(et),be&&be.onFocus?be.onFocus(et):we(!0)},St=et=>{R&&R(et),S.onBlur&&S.onBlur(et),be&&be.onBlur?be.onBlur(et):we(!1)},dt=(et,...Hi)=>{if(!oe){const Wi=et.target||ue.current;if(Wi==null)throw new Error(_o(1));Tt({value:Wi.value})}S.onChange&&S.onChange(et,...Hi),D&&D(et,...Hi)};O.useEffect(()=>{Tt(ue.current)},[]);const Pe=et=>{ue.current&&et.currentTarget===et.target&&ue.current.focus(),$&&$(et)};let Xn=_,Yt=S;M&&Xn==="input"&&(U?Yt={type:void 0,minRows:U,maxRows:U,...Yt}:Yt={type:void 0,maxRows:I,minRows:P,...Yt},Xn=yU);const Kn=et=>{Tt(et.animationName==="mui-auto-fill-cancel"?ue.current:{value:"x"})};O.useEffect(()=>{be&&be.setAdornedStart(!!K)},[be,K]);const ar={...r,color:Be.color||"primary",disabled:Be.disabled,endAdornment:v,error:Be.error,focused:Be.focused,formControl:be,fullWidth:E,hiddenLabel:Be.hiddenLabel,multiline:M,size:Be.size,startAdornment:K,type:ee},lr=wU(ar),_r=te.root||d.Root||_v,Ar=Y.root||h.root||{},Qn=te.input||d.Input||Av;return Yt={...Yt,...Y.input??h.input},F.jsxs(O.Fragment,{children:[!y&&typeof QR=="function"&&(KR||(KR=F.jsx(QR,{}))),F.jsxs(_r,{...Ar,ref:t,onClick:Pe,...ie,...!qS(_r)&&{ownerState:{...ar,...Ar.ownerState}},className:$e(lr.root,Ar.className,l,X&&"MuiInputBase-readOnly"),children:[K,F.jsx(J1.Provider,{value:null,children:F.jsx(Qn,{"aria-invalid":Be.error,"aria-describedby":i,autoComplete:s,autoFocus:o,defaultValue:f,disabled:Be.disabled,id:x,onAnimationStart:Kn,name:N,placeholder:H,readOnly:X,required:Be.required,rows:U,value:ne,onKeyDown:L,onKeyUp:q,type:ee,...Yt,...!qS(Qn)&&{as:Xn,ownerState:{...ar,...Yt.ownerState}},ref:me,className:$e(lr.input,Yt.className,X&&"MuiInputBase-readOnly"),onBlur:St,onChange:dt,onFocus:vn})}),v,W?W({...Be,startAdornment:K}):null]})]})});function xU(n){return rt("MuiInput",n)}const Th={...Nd,...Ye("MuiInput",["root","underline","input"])};function SU(n){return rt("MuiOutlinedInput",n)}const Ki={...Nd,...Ye("MuiOutlinedInput",["root","notchedOutline","input"])};function EU(n){return rt("MuiFilledInput",n)}const ll={...Nd,...Ye("MuiFilledInput",["root","underline","input","adornedStart","adornedEnd","sizeSmall","multiline","hiddenLabel"])},CU=ji(F.jsx("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown"),_U={entering:{opacity:1},entered:{opacity:1}},YS=O.forwardRef(function(e,t){const r=xv(),i={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{addEndListener:s,appear:o=!0,children:l,easing:u,in:d,onEnter:h,onEntered:f,onEntering:g,onExit:y,onExited:v,onExiting:w,style:E,timeout:x=i,TransitionComponent:_=ks,...S}=e,C=O.useRef(null),k=or(C,Rg(l),t),I=L=>q=>{if(L){const H=C.current;q===void 0?L(H):L(H,q)}},P=I(g),M=I((L,q)=>{WN(L);const H=m0({style:E,timeout:x,easing:u},{mode:"enter"});L.style.webkitTransition=r.transitions.create("opacity",H),L.style.transition=r.transitions.create("opacity",H),h&&h(L,q)}),N=I(f),R=I(w),D=I(L=>{const q=m0({style:E,timeout:x,easing:u},{mode:"exit"});L.style.webkitTransition=r.transitions.create("opacity",q),L.style.transition=r.transitions.create("opacity",q),y&&y(L)}),$=I(v),G=L=>{s&&s(C.current,L)};return F.jsx(_,{appear:o,in:d,nodeRef:C,onEnter:M,onEntered:N,onEntering:P,onExit:D,onExited:$,onExiting:R,addEndListener:G,timeout:x,...S,children:(L,{ownerState:q,...H})=>O.cloneElement(l,{style:{opacity:0,visibility:L==="exited"&&!d?"hidden":void 0,..._U[L],...E,...l.props.style},ref:k,...H})})});function AU(n){return rt("MuiBackdrop",n)}Ye("MuiBackdrop",["root","invisible"]);const kU=n=>{const{classes:e,invisible:t}=n;return it({root:["root",t&&"invisible"]},AU,e)},RU=Ae("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.invisible&&e.invisible]}})({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent",variants:[{props:{invisible:!0},style:{backgroundColor:"transparent"}}]}),VN=O.forwardRef(function(e,t){const r=ft({props:e,name:"MuiBackdrop"}),{children:i,className:s,component:o="div",invisible:l=!1,open:u,components:d={},componentsProps:h={},slotProps:f={},slots:g={},TransitionComponent:y,transitionDuration:v,...w}=r,E={...r,component:o,invisible:l},x=kU(E),_={transition:y,root:d.Root,...g},S={...h,...f},C={slots:_,slotProps:S},[k,I]=Ht("root",{elementType:RU,externalForwardedProps:C,className:$e(x.root,s),ownerState:E}),[P,M]=Ht("transition",{elementType:YS,externalForwardedProps:C,ownerState:E});return F.jsx(P,{in:u,timeout:v,...w,...M,children:F.jsx(k,{"aria-hidden":!0,...I,classes:x,ref:t,children:i})})}),TU=Ye("MuiBox",["root"]),PU=zN(),rn=uW({themeId:lv,defaultTheme:PU,defaultClassName:TU.root,generateClassName:wN.generate});function MU(n){return rt("MuiButton",n)}const cl=Ye("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","colorPrimary","colorSecondary","colorSuccess","colorError","colorInfo","colorWarning","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","icon","iconSizeSmall","iconSizeMedium","iconSizeLarge","loading","loadingWrapper","loadingIconPlaceholder","loadingIndicator","loadingPositionCenter","loadingPositionStart","loadingPositionEnd"]),IU=O.createContext({}),NU=O.createContext(void 0),LU=n=>{const{color:e,disableElevation:t,fullWidth:r,size:i,variant:s,loading:o,loadingPosition:l,classes:u}=n,d={root:["root",o&&"loading",s,`${s}${Le(e)}`,`size${Le(i)}`,`${s}Size${Le(i)}`,`color${Le(e)}`,t&&"disableElevation",r&&"fullWidth",o&&`loadingPosition${Le(l)}`],startIcon:["icon","startIcon",`iconSize${Le(i)}`],endIcon:["icon","endIcon",`iconSize${Le(i)}`],loadingIndicator:["loadingIndicator"],loadingWrapper:["loadingWrapper"]},h=it(d,MU,u);return{...u,...h}},GN=[{props:{size:"small"},style:{"& > *:nth-of-type(1)":{fontSize:18}}},{props:{size:"medium"},style:{"& > *:nth-of-type(1)":{fontSize:20}}},{props:{size:"large"},style:{"& > *:nth-of-type(1)":{fontSize:22}}}],OU=Ae(Sv,{shouldForwardProp:n=>Cr(n)||n==="classes",name:"MuiButton",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,e[t.variant],e[`${t.variant}${Le(t.color)}`],e[`size${Le(t.size)}`],e[`${t.variant}Size${Le(t.size)}`],t.color==="inherit"&&e.colorInherit,t.disableElevation&&e.disableElevation,t.fullWidth&&e.fullWidth,t.loading&&e.loading]}})(xt(({theme:n})=>{const e=n.palette.mode==="light"?n.palette.grey[300]:n.palette.grey[800],t=n.palette.mode==="light"?n.palette.grey.A100:n.palette.grey[700];return{...n.typography.button,minWidth:64,padding:"6px 16px",border:0,borderRadius:(n.vars||n).shape.borderRadius,transition:n.transitions.create(["background-color","box-shadow","border-color","color"],{duration:n.transitions.duration.short}),"&:hover":{textDecoration:"none"},[`&.${cl.disabled}`]:{color:(n.vars||n).palette.action.disabled},variants:[{props:{variant:"contained"},style:{color:"var(--variant-containedColor)",backgroundColor:"var(--variant-containedBg)",boxShadow:(n.vars||n).shadows[2],"&:hover":{boxShadow:(n.vars||n).shadows[4],"@media (hover: none)":{boxShadow:(n.vars||n).shadows[2]}},"&:active":{boxShadow:(n.vars||n).shadows[8]},[`&.${cl.focusVisible}`]:{boxShadow:(n.vars||n).shadows[6]},[`&.${cl.disabled}`]:{color:(n.vars||n).palette.action.disabled,boxShadow:(n.vars||n).shadows[0],backgroundColor:(n.vars||n).palette.action.disabledBackground}}},{props:{variant:"outlined"},style:{padding:"5px 15px",border:"1px solid currentColor",borderColor:"var(--variant-outlinedBorder, currentColor)",backgroundColor:"var(--variant-outlinedBg)",color:"var(--variant-outlinedColor)",[`&.${cl.disabled}`]:{border:`1px solid ${(n.vars||n).palette.action.disabledBackground}`}}},{props:{variant:"text"},style:{padding:"6px 8px",color:"var(--variant-textColor)",backgroundColor:"var(--variant-textBg)"}},...Object.entries(n.palette).filter(zi()).map(([r])=>({props:{color:r},style:{"--variant-textColor":(n.vars||n).palette[r].main,"--variant-outlinedColor":(n.vars||n).palette[r].main,"--variant-outlinedBorder":n.vars?`rgba(${n.vars.palette[r].mainChannel} / 0.5)`:Vn(n.palette[r].main,.5),"--variant-containedColor":(n.vars||n).palette[r].contrastText,"--variant-containedBg":(n.vars||n).palette[r].main,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":(n.vars||n).palette[r].dark,"--variant-textBg":n.vars?`rgba(${n.vars.palette[r].mainChannel} / ${n.vars.palette.action.hoverOpacity})`:Vn(n.palette[r].main,n.palette.action.hoverOpacity),"--variant-outlinedBorder":(n.vars||n).palette[r].main,"--variant-outlinedBg":n.vars?`rgba(${n.vars.palette[r].mainChannel} / ${n.vars.palette.action.hoverOpacity})`:Vn(n.palette[r].main,n.palette.action.hoverOpacity)}}}})),{props:{color:"inherit"},style:{color:"inherit",borderColor:"currentColor","--variant-containedBg":n.vars?n.vars.palette.Button.inheritContainedBg:e,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":n.vars?n.vars.palette.Button.inheritContainedHoverBg:t,"--variant-textBg":n.vars?`rgba(${n.vars.palette.text.primaryChannel} / ${n.vars.palette.action.hoverOpacity})`:Vn(n.palette.text.primary,n.palette.action.hoverOpacity),"--variant-outlinedBg":n.vars?`rgba(${n.vars.palette.text.primaryChannel} / ${n.vars.palette.action.hoverOpacity})`:Vn(n.palette.text.primary,n.palette.action.hoverOpacity)}}}},{props:{size:"small",variant:"text"},style:{padding:"4px 5px",fontSize:n.typography.pxToRem(13)}},{props:{size:"large",variant:"text"},style:{padding:"8px 11px",fontSize:n.typography.pxToRem(15)}},{props:{size:"small",variant:"outlined"},style:{padding:"3px 9px",fontSize:n.typography.pxToRem(13)}},{props:{size:"large",variant:"outlined"},style:{padding:"7px 21px",fontSize:n.typography.pxToRem(15)}},{props:{size:"small",variant:"contained"},style:{padding:"4px 10px",fontSize:n.typography.pxToRem(13)}},{props:{size:"large",variant:"contained"},style:{padding:"8px 22px",fontSize:n.typography.pxToRem(15)}},{props:{disableElevation:!0},style:{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${cl.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${cl.disabled}`]:{boxShadow:"none"}}},{props:{fullWidth:!0},style:{width:"100%"}},{props:{loadingPosition:"center"},style:{transition:n.transitions.create(["background-color","box-shadow","border-color"],{duration:n.transitions.duration.short}),[`&.${cl.loading}`]:{color:"transparent"}}}]}})),DU=Ae("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.startIcon,t.loading&&e.startIconLoadingStart,e[`iconSize${Le(t.size)}`]]}})(({theme:n})=>({display:"inherit",marginRight:8,marginLeft:-4,variants:[{props:{size:"small"},style:{marginLeft:-2}},{props:{loadingPosition:"start",loading:!0},style:{transition:n.transitions.create(["opacity"],{duration:n.transitions.duration.short}),opacity:0}},{props:{loadingPosition:"start",loading:!0,fullWidth:!0},style:{marginRight:-8}},...GN]})),FU=Ae("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.endIcon,t.loading&&e.endIconLoadingEnd,e[`iconSize${Le(t.size)}`]]}})(({theme:n})=>({display:"inherit",marginRight:-4,marginLeft:8,variants:[{props:{size:"small"},style:{marginRight:-2}},{props:{loadingPosition:"end",loading:!0},style:{transition:n.transitions.create(["opacity"],{duration:n.transitions.duration.short}),opacity:0}},{props:{loadingPosition:"end",loading:!0,fullWidth:!0},style:{marginLeft:-8}},...GN]})),zU=Ae("span",{name:"MuiButton",slot:"LoadingIndicator",overridesResolver:(n,e)=>e.loadingIndicator})(({theme:n})=>({display:"none",position:"absolute",visibility:"visible",variants:[{props:{loading:!0},style:{display:"flex"}},{props:{loadingPosition:"start"},style:{left:14}},{props:{loadingPosition:"start",size:"small"},style:{left:10}},{props:{variant:"text",loadingPosition:"start"},style:{left:6}},{props:{loadingPosition:"center"},style:{left:"50%",transform:"translate(-50%)",color:(n.vars||n).palette.action.disabled}},{props:{loadingPosition:"end"},style:{right:14}},{props:{loadingPosition:"end",size:"small"},style:{right:10}},{props:{variant:"text",loadingPosition:"end"},style:{right:6}},{props:{loadingPosition:"start",fullWidth:!0},style:{position:"relative",left:-10}},{props:{loadingPosition:"end",fullWidth:!0},style:{position:"relative",right:-10}}]})),ZR=Ae("span",{name:"MuiButton",slot:"LoadingIconPlaceholder",overridesResolver:(n,e)=>e.loadingIconPlaceholder})({display:"inline-block",width:"1em",height:"1em"}),Ld=O.forwardRef(function(e,t){const r=O.useContext(IU),i=O.useContext(NU),s=p0(r,e),o=ft({props:s,name:"MuiButton"}),{children:l,color:u="primary",component:d="button",className:h,disabled:f=!1,disableElevation:g=!1,disableFocusRipple:y=!1,endIcon:v,focusVisibleClassName:w,fullWidth:E=!1,id:x,loading:_=null,loadingIndicator:S,loadingPosition:C="center",size:k="medium",startIcon:I,type:P,variant:M="text",...N}=o,R=kg(x),D=S??F.jsx(UN,{"aria-labelledby":R,color:"inherit",size:16}),$={...o,color:u,component:d,disabled:f,disableElevation:g,disableFocusRipple:y,fullWidth:E,loading:_,loadingIndicator:D,loadingPosition:C,size:k,type:P,variant:M},G=LU($),L=(I||_&&C==="start")&&F.jsx(DU,{className:G.startIcon,ownerState:$,children:I||F.jsx(ZR,{className:G.loadingIconPlaceholder,ownerState:$})}),q=(v||_&&C==="end")&&F.jsx(FU,{className:G.endIcon,ownerState:$,children:v||F.jsx(ZR,{className:G.loadingIconPlaceholder,ownerState:$})}),H=i||"",X=typeof _=="boolean"?F.jsx("span",{className:G.loadingWrapper,style:{display:"contents"},children:_&&F.jsx(zU,{className:G.loadingIndicator,ownerState:$,children:D})}):null;return F.jsxs(OU,{ownerState:$,className:$e(r.className,G.root,h,H),component:d,disabled:f||_,focusRipple:!y,focusVisibleClassName:$e(G.focusVisible,w),ref:t,type:P,id:_?R:x,...N,classes:G,children:[L,C!=="end"&&X,l,C==="end"&&X,q]})});function $U(n){return rt("PrivateSwitchBase",n)}Ye("PrivateSwitchBase",["root","checked","disabled","input","edgeStart","edgeEnd"]);const BU=n=>{const{classes:e,checked:t,disabled:r,edge:i}=n,s={root:["root",t&&"checked",r&&"disabled",i&&`edge${Le(i)}`],input:["input"]};return it(s,$U,e)},jU=Ae(Sv)({padding:9,borderRadius:"50%",variants:[{props:{edge:"start",size:"small"},style:{marginLeft:-3}},{props:({edge:n,ownerState:e})=>n==="start"&&e.size!=="small",style:{marginLeft:-12}},{props:{edge:"end",size:"small"},style:{marginRight:-3}},{props:({edge:n,ownerState:e})=>n==="end"&&e.size!=="small",style:{marginRight:-12}}]}),HU=Ae("input",{shouldForwardProp:Cr})({cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1}),WU=O.forwardRef(function(e,t){const{autoFocus:r,checked:i,checkedIcon:s,defaultChecked:o,disabled:l,disableFocusRipple:u=!1,edge:d=!1,icon:h,id:f,inputProps:g,inputRef:y,name:v,onBlur:w,onChange:E,onFocus:x,readOnly:_,required:S=!1,tabIndex:C,type:k,value:I,slots:P={},slotProps:M={},...N}=e,[R,D]=zS({controlled:i,default:!!o,name:"SwitchBase",state:"checked"}),$=Wa(),G=J=>{x&&x(J),$&&$.onFocus&&$.onFocus(J)},L=J=>{w&&w(J),$&&$.onBlur&&$.onBlur(J)},q=J=>{if(J.nativeEvent.defaultPrevented)return;const ie=J.target.checked;D(ie),E&&E(J,ie)};let H=l;$&&typeof H>"u"&&(H=$.disabled);const X=k==="checkbox"||k==="radio",W={...e,checked:R,disabled:H,disableFocusRipple:u,edge:d},U=BU(W),Q={slots:P,slotProps:{input:g,...M}},[Y,te]=Ht("root",{ref:t,elementType:jU,className:U.root,shouldForwardComponentProp:!0,externalForwardedProps:{...Q,component:"span",...N},getSlotProps:J=>({...J,onFocus:ie=>{var ne;(ne=J.onFocus)==null||ne.call(J,ie),G(ie)},onBlur:ie=>{var ne;(ne=J.onBlur)==null||ne.call(J,ie),L(ie)}}),ownerState:W,additionalProps:{centerRipple:!0,focusRipple:!u,disabled:H,role:void 0,tabIndex:null}}),[K,ee]=Ht("input",{ref:y,elementType:HU,className:U.input,externalForwardedProps:Q,getSlotProps:J=>({onChange:ie=>{var ne;(ne=J.onChange)==null||ne.call(J,ie),q(ie)}}),ownerState:W,additionalProps:{autoFocus:r,checked:i,defaultChecked:o,disabled:H,id:X?f:void 0,name:v,readOnly:_,required:S,tabIndex:C,type:k,...k==="checkbox"&&I===void 0?{}:{value:I}}});return F.jsxs(Y,{...te,children:[F.jsx(K,{...ee}),R?s:h]})}),UU=ji(F.jsx("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}),"CheckBoxOutlineBlank"),VU=ji(F.jsx("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckBox"),GU=ji(F.jsx("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z"}),"IndeterminateCheckBox");function qU(n){return rt("MuiCheckbox",n)}const sx=Ye("MuiCheckbox",["root","checked","disabled","indeterminate","colorPrimary","colorSecondary","sizeSmall","sizeMedium"]),YU=n=>{const{classes:e,indeterminate:t,color:r,size:i}=n,s={root:["root",t&&"indeterminate",`color${Le(r)}`,`size${Le(i)}`]},o=it(s,qU,e);return{...e,...o}},XU=Ae(WU,{shouldForwardProp:n=>Cr(n)||n==="classes",name:"MuiCheckbox",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.indeterminate&&e.indeterminate,e[`size${Le(t.size)}`],t.color!=="default"&&e[`color${Le(t.color)}`]]}})(xt(({theme:n})=>({color:(n.vars||n).palette.text.secondary,variants:[{props:{color:"default",disableRipple:!1},style:{"&:hover":{backgroundColor:n.vars?`rgba(${n.vars.palette.action.activeChannel} / ${n.vars.palette.action.hoverOpacity})`:Vn(n.palette.action.active,n.palette.action.hoverOpacity)}}},...Object.entries(n.palette).filter(zi()).map(([e])=>({props:{color:e,disableRipple:!1},style:{"&:hover":{backgroundColor:n.vars?`rgba(${n.vars.palette[e].mainChannel} / ${n.vars.palette.action.hoverOpacity})`:Vn(n.palette[e].main,n.palette.action.hoverOpacity)}}})),...Object.entries(n.palette).filter(zi()).map(([e])=>({props:{color:e},style:{[`&.${sx.checked}, &.${sx.indeterminate}`]:{color:(n.vars||n).palette[e].main},[`&.${sx.disabled}`]:{color:(n.vars||n).palette.action.disabled}}})),{props:{disableRipple:!1},style:{"&:hover":{"@media (hover: none)":{backgroundColor:"transparent"}}}}]}))),KU=F.jsx(VU,{}),QU=F.jsx(UU,{}),ZU=F.jsx(GU,{}),JU=O.forwardRef(function(e,t){const r=ft({props:e,name:"MuiCheckbox"}),{checkedIcon:i=KU,color:s="primary",icon:o=QU,indeterminate:l=!1,indeterminateIcon:u=ZU,inputProps:d,size:h="medium",disableRipple:f=!1,className:g,slots:y={},slotProps:v={},...w}=r,E=l?u:o,x=l?u:i,_={...r,disableRipple:f,color:s,indeterminate:l,size:h},S=YU(_),C=v.input??d,[k,I]=Ht("root",{ref:t,elementType:XU,className:$e(S.root,g),shouldForwardComponentProp:!0,externalForwardedProps:{slots:y,slotProps:v,...w},ownerState:_,additionalProps:{type:"checkbox",icon:O.cloneElement(E,{fontSize:E.props.fontSize??h}),checkedIcon:O.cloneElement(x,{fontSize:x.props.fontSize??h}),disableRipple:f,slots:y,slotProps:{input:BN(typeof C=="function"?C(_):C,{"data-indeterminate":l})}}});return F.jsx(k,{...I,classes:S})});function eV(n){const e=Fi(n);return e.body===n?ko(n).innerWidth>e.documentElement.clientWidth:n.scrollHeight>n.clientHeight}function uf(n,e){e?n.setAttribute("aria-hidden","true"):n.removeAttribute("aria-hidden")}function JR(n){return parseInt(ko(n).getComputedStyle(n).paddingRight,10)||0}function tV(n){const t=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].includes(n.tagName),r=n.tagName==="INPUT"&&n.getAttribute("type")==="hidden";return t||r}function eT(n,e,t,r,i){const s=[e,t,...r];[].forEach.call(n.children,o=>{const l=!s.includes(o),u=!tV(o);l&&u&&uf(o,i)})}function ox(n,e){let t=-1;return n.some((r,i)=>e(r)?(t=i,!0):!1),t}function nV(n,e){const t=[],r=n.container;if(!e.disableScrollLock){if(eV(r)){const o=RN(ko(r));t.push({value:r.style.paddingRight,property:"padding-right",el:r}),r.style.paddingRight=`${JR(r)+o}px`;const l=Fi(r).querySelectorAll(".mui-fixed");[].forEach.call(l,u=>{t.push({value:u.style.paddingRight,property:"padding-right",el:u}),u.style.paddingRight=`${JR(u)+o}px`})}let s;if(r.parentNode instanceof DocumentFragment)s=Fi(r).body;else{const o=r.parentElement,l=ko(r);s=(o==null?void 0:o.nodeName)==="HTML"&&l.getComputedStyle(o).overflowY==="scroll"?o:r}t.push({value:s.style.overflow,property:"overflow",el:s},{value:s.style.overflowX,property:"overflow-x",el:s},{value:s.style.overflowY,property:"overflow-y",el:s}),s.style.overflow="hidden"}return()=>{t.forEach(({value:s,el:o,property:l})=>{s?o.style.setProperty(l,s):o.style.removeProperty(l)})}}function rV(n){const e=[];return[].forEach.call(n.children,t=>{t.getAttribute("aria-hidden")==="true"&&e.push(t)}),e}class iV{constructor(){this.modals=[],this.containers=[]}add(e,t){let r=this.modals.indexOf(e);if(r!==-1)return r;r=this.modals.length,this.modals.push(e),e.modalRef&&uf(e.modalRef,!1);const i=rV(t);eT(t,e.mount,e.modalRef,i,!0);const s=ox(this.containers,o=>o.container===t);return s!==-1?(this.containers[s].modals.push(e),r):(this.containers.push({modals:[e],container:t,restore:null,hiddenSiblings:i}),r)}mount(e,t){const r=ox(this.containers,s=>s.modals.includes(e)),i=this.containers[r];i.restore||(i.restore=nV(i,t))}remove(e,t=!0){const r=this.modals.indexOf(e);if(r===-1)return r;const i=ox(this.containers,o=>o.modals.includes(e)),s=this.containers[i];if(s.modals.splice(s.modals.indexOf(e),1),this.modals.splice(r,1),s.modals.length===0)s.restore&&s.restore(),e.modalRef&&uf(e.modalRef,t),eT(s.container,e.mount,e.modalRef,s.hiddenSiblings,!1),this.containers.splice(i,1);else{const o=s.modals[s.modals.length-1];o.modalRef&&uf(o.modalRef,!1)}return r}isTopModal(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}}const sV=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function oV(n){const e=parseInt(n.getAttribute("tabindex")||"",10);return Number.isNaN(e)?n.contentEditable==="true"||(n.nodeName==="AUDIO"||n.nodeName==="VIDEO"||n.nodeName==="DETAILS")&&n.getAttribute("tabindex")===null?0:n.tabIndex:e}function aV(n){if(n.tagName!=="INPUT"||n.type!=="radio"||!n.name)return!1;const e=r=>n.ownerDocument.querySelector(`input[type="radio"]${r}`);let t=e(`[name="${n.name}"]:checked`);return t||(t=e(`[name="${n.name}"]`)),t!==n}function lV(n){return!(n.disabled||n.tagName==="INPUT"&&n.type==="hidden"||aV(n))}function cV(n){const e=[],t=[];return Array.from(n.querySelectorAll(sV)).forEach((r,i)=>{const s=oV(r);s===-1||!lV(r)||(s===0?e.push(r):t.push({documentOrder:i,tabIndex:s,node:r}))}),t.sort((r,i)=>r.tabIndex===i.tabIndex?r.documentOrder-i.documentOrder:r.tabIndex-i.tabIndex).map(r=>r.node).concat(e)}function uV(){return!0}function dV(n){const{children:e,disableAutoFocus:t=!1,disableEnforceFocus:r=!1,disableRestoreFocus:i=!1,getTabbable:s=cV,isEnabled:o=uV,open:l}=n,u=O.useRef(!1),d=O.useRef(null),h=O.useRef(null),f=O.useRef(null),g=O.useRef(null),y=O.useRef(!1),v=O.useRef(null),w=or(Rg(e),v),E=O.useRef(null);O.useEffect(()=>{!l||!v.current||(y.current=!t)},[t,l]),O.useEffect(()=>{if(!l||!v.current)return;const S=Fi(v.current);return v.current.contains(S.activeElement)||(v.current.hasAttribute("tabIndex")||v.current.setAttribute("tabIndex","-1"),y.current&&v.current.focus()),()=>{i||(f.current&&f.current.focus&&(u.current=!0,f.current.focus()),f.current=null)}},[l]),O.useEffect(()=>{if(!l||!v.current)return;const S=Fi(v.current),C=P=>{E.current=P,!(r||!o()||P.key!=="Tab")&&S.activeElement===v.current&&P.shiftKey&&(u.current=!0,h.current&&h.current.focus())},k=()=>{var N,R;const P=v.current;if(P===null)return;if(!S.hasFocus()||!o()||u.current){u.current=!1;return}if(P.contains(S.activeElement)||r&&S.activeElement!==d.current&&S.activeElement!==h.current)return;if(S.activeElement!==g.current)g.current=null;else if(g.current!==null)return;if(!y.current)return;let M=[];if((S.activeElement===d.current||S.activeElement===h.current)&&(M=s(v.current)),M.length>0){const D=!!((N=E.current)!=null&&N.shiftKey&&((R=E.current)==null?void 0:R.key)==="Tab"),$=M[0],G=M[M.length-1];typeof $!="string"&&typeof G!="string"&&(D?G.focus():$.focus())}else P.focus()};S.addEventListener("focusin",k),S.addEventListener("keydown",C,!0);const I=setInterval(()=>{S.activeElement&&S.activeElement.tagName==="BODY"&&k()},50);return()=>{clearInterval(I),S.removeEventListener("focusin",k),S.removeEventListener("keydown",C,!0)}},[t,r,i,o,l,s]);const x=S=>{f.current===null&&(f.current=S.relatedTarget),y.current=!0,g.current=S.target;const C=e.props.onFocus;C&&C(S)},_=S=>{f.current===null&&(f.current=S.relatedTarget),y.current=!0};return F.jsxs(O.Fragment,{children:[F.jsx("div",{tabIndex:l?0:-1,onFocus:_,ref:d,"data-testid":"sentinelStart"}),O.cloneElement(e,{ref:w,onFocus:x}),F.jsx("div",{tabIndex:l?0:-1,onFocus:_,ref:h,"data-testid":"sentinelEnd"})]})}function hV(n){return typeof n=="function"?n():n}function fV(n){return n?n.props.hasOwnProperty("in"):!1}const tT=()=>{},uy=new iV;function pV(n){const{container:e,disableEscapeKeyDown:t=!1,disableScrollLock:r=!1,closeAfterTransition:i=!1,onTransitionEnter:s,onTransitionExited:o,children:l,onClose:u,open:d,rootRef:h}=n,f=O.useRef({}),g=O.useRef(null),y=O.useRef(null),v=or(y,h),[w,E]=O.useState(!d),x=fV(l);let _=!0;(n["aria-hidden"]==="false"||n["aria-hidden"]===!1)&&(_=!1);const S=()=>Fi(g.current),C=()=>(f.current.modalRef=y.current,f.current.mount=g.current,f.current),k=()=>{uy.mount(C(),{disableScrollLock:r}),y.current&&(y.current.scrollTop=0)},I=ku(()=>{const q=hV(e)||S().body;uy.add(C(),q),y.current&&k()}),P=()=>uy.isTopModal(C()),M=ku(q=>{g.current=q,q&&(d&&P()?k():y.current&&uf(y.current,_))}),N=O.useCallback(()=>{uy.remove(C(),_)},[_]);O.useEffect(()=>()=>{N()},[N]),O.useEffect(()=>{d?I():(!x||!i)&&N()},[d,N,x,i,I]);const R=q=>H=>{var X;(X=q.onKeyDown)==null||X.call(q,H),!(H.key!=="Escape"||H.which===229||!P())&&(t||(H.stopPropagation(),u&&u(H,"escapeKeyDown")))},D=q=>H=>{var X;(X=q.onClick)==null||X.call(q,H),H.target===H.currentTarget&&u&&u(H,"backdropClick")};return{getRootProps:(q={})=>{const H=PN(n);delete H.onTransitionEnter,delete H.onTransitionExited;const X={...H,...q};return{role:"presentation",...X,onKeyDown:R(X),ref:v}},getBackdropProps:(q={})=>{const H=q;return{"aria-hidden":!0,...H,onClick:D(H),open:d}},getTransitionProps:()=>{const q=()=>{E(!1),s&&s()},H=()=>{E(!0),o&&o(),i&&N()};return{onEnter:IR(q,(l==null?void 0:l.props.onEnter)??tT),onExited:IR(H,(l==null?void 0:l.props.onExited)??tT)}},rootRef:v,portalRef:M,isTopModal:P,exited:w,hasTransition:x}}function gV(n){return rt("MuiModal",n)}Ye("MuiModal",["root","hidden","backdrop"]);const mV=n=>{const{open:e,exited:t,classes:r}=n;return it({root:["root",!e&&t&&"hidden"],backdrop:["backdrop"]},gV,r)},yV=Ae("div",{name:"MuiModal",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,!t.open&&t.exited&&e.hidden]}})(xt(({theme:n})=>({position:"fixed",zIndex:(n.vars||n).zIndex.modal,right:0,bottom:0,top:0,left:0,variants:[{props:({ownerState:e})=>!e.open&&e.exited,style:{visibility:"hidden"}}]}))),vV=Ae(VN,{name:"MuiModal",slot:"Backdrop",overridesResolver:(n,e)=>e.backdrop})({zIndex:-1}),qN=O.forwardRef(function(e,t){const r=ft({name:"MuiModal",props:e}),{BackdropComponent:i=vV,BackdropProps:s,classes:o,className:l,closeAfterTransition:u=!1,children:d,container:h,component:f,components:g={},componentsProps:y={},disableAutoFocus:v=!1,disableEnforceFocus:w=!1,disableEscapeKeyDown:E=!1,disablePortal:x=!1,disableRestoreFocus:_=!1,disableScrollLock:S=!1,hideBackdrop:C=!1,keepMounted:k=!1,onBackdropClick:I,onClose:P,onTransitionEnter:M,onTransitionExited:N,open:R,slotProps:D={},slots:$={},theme:G,...L}=r,q={...r,closeAfterTransition:u,disableAutoFocus:v,disableEnforceFocus:w,disableEscapeKeyDown:E,disablePortal:x,disableRestoreFocus:_,disableScrollLock:S,hideBackdrop:C,keepMounted:k},{getRootProps:H,getBackdropProps:X,getTransitionProps:W,portalRef:U,isTopModal:Q,exited:Y,hasTransition:te}=pV({...q,rootRef:t}),K={...q,exited:Y},ee=mV(K),J={};if(d.props.tabIndex===void 0&&(J.tabIndex="-1"),te){const{onEnter:me,onExited:fe}=W();J.onEnter=me,J.onExited=fe}const ie={slots:{root:g.Root,backdrop:g.Backdrop,...$},slotProps:{...y,...D}},[ne,oe]=Ht("root",{ref:t,elementType:yV,externalForwardedProps:{...ie,...L,component:f},getSlotProps:H,ownerState:K,className:$e(l,ee==null?void 0:ee.root,!K.open&&K.exited&&(ee==null?void 0:ee.hidden))}),[ue,he]=Ht("backdrop",{ref:s==null?void 0:s.ref,elementType:i,externalForwardedProps:ie,shouldForwardComponentProp:!0,additionalProps:s,getSlotProps:me=>X({...me,onClick:fe=>{I&&I(fe),me!=null&&me.onClick&&me.onClick(fe)}}),className:$e(s==null?void 0:s.className,ee==null?void 0:ee.backdrop),ownerState:K});return!k&&!R&&(!te||Y)?null:F.jsx(fU,{ref:U,container:h,disablePortal:x,children:F.jsxs(ne,{...oe,children:[!C&&i?F.jsx(ue,{...he}):null,F.jsx(dV,{disableEnforceFocus:w,disableAutoFocus:v,disableRestoreFocus:_,isEnabled:Q,open:R,children:O.cloneElement(d,J)})]})})});function bV(n){return rt("MuiDialog",n)}const ax=Ye("MuiDialog",["root","scrollPaper","scrollBody","container","paper","paperScrollPaper","paperScrollBody","paperWidthFalse","paperWidthXs","paperWidthSm","paperWidthMd","paperWidthLg","paperWidthXl","paperFullWidth","paperFullScreen"]),YN=O.createContext({}),wV=Ae(VN,{name:"MuiDialog",slot:"Backdrop",overrides:(n,e)=>e.backdrop})({zIndex:-1}),xV=n=>{const{classes:e,scroll:t,maxWidth:r,fullWidth:i,fullScreen:s}=n,o={root:["root"],container:["container",`scroll${Le(t)}`],paper:["paper",`paperScroll${Le(t)}`,`paperWidth${Le(String(r))}`,i&&"paperFullWidth",s&&"paperFullScreen"]};return it(o,bV,e)},SV=Ae(qN,{name:"MuiDialog",slot:"Root",overridesResolver:(n,e)=>e.root})({"@media print":{position:"absolute !important"}}),EV=Ae("div",{name:"MuiDialog",slot:"Container",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.container,e[`scroll${Le(t.scroll)}`]]}})({height:"100%","@media print":{height:"auto"},outline:0,variants:[{props:{scroll:"paper"},style:{display:"flex",justifyContent:"center",alignItems:"center"}},{props:{scroll:"body"},style:{overflowY:"auto",overflowX:"hidden",textAlign:"center","&::after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}}}]}),CV=Ae(Z1,{name:"MuiDialog",slot:"Paper",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.paper,e[`scrollPaper${Le(t.scroll)}`],e[`paperWidth${Le(String(t.maxWidth))}`],t.fullWidth&&e.paperFullWidth,t.fullScreen&&e.paperFullScreen]}})(xt(({theme:n})=>({margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"},variants:[{props:{scroll:"paper"},style:{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"}},{props:{scroll:"body"},style:{display:"inline-block",verticalAlign:"middle",textAlign:"initial"}},{props:({ownerState:e})=>!e.maxWidth,style:{maxWidth:"calc(100% - 64px)"}},{props:{maxWidth:"xs"},style:{maxWidth:n.breakpoints.unit==="px"?Math.max(n.breakpoints.values.xs,444):`max(${n.breakpoints.values.xs}${n.breakpoints.unit}, 444px)`,[`&.${ax.paperScrollBody}`]:{[n.breakpoints.down(Math.max(n.breakpoints.values.xs,444)+32*2)]:{maxWidth:"calc(100% - 64px)"}}}},...Object.keys(n.breakpoints.values).filter(e=>e!=="xs").map(e=>({props:{maxWidth:e},style:{maxWidth:`${n.breakpoints.values[e]}${n.breakpoints.unit}`,[`&.${ax.paperScrollBody}`]:{[n.breakpoints.down(n.breakpoints.values[e]+32*2)]:{maxWidth:"calc(100% - 64px)"}}}})),{props:({ownerState:e})=>e.fullWidth,style:{width:"calc(100% - 64px)"}},{props:({ownerState:e})=>e.fullScreen,style:{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,[`&.${ax.paperScrollBody}`]:{margin:0,maxWidth:"100%"}}}]}))),_V=O.forwardRef(function(e,t){const r=ft({props:e,name:"MuiDialog"}),i=xv(),s={enter:i.transitions.duration.enteringScreen,exit:i.transitions.duration.leavingScreen},{"aria-describedby":o,"aria-labelledby":l,"aria-modal":u=!0,BackdropComponent:d,BackdropProps:h,children:f,className:g,disableEscapeKeyDown:y=!1,fullScreen:v=!1,fullWidth:w=!1,maxWidth:E="sm",onBackdropClick:x,onClick:_,onClose:S,open:C,PaperComponent:k=Z1,PaperProps:I={},scroll:P="paper",slots:M={},slotProps:N={},TransitionComponent:R=YS,transitionDuration:D=s,TransitionProps:$,...G}=r,L={...r,disableEscapeKeyDown:y,fullScreen:v,fullWidth:w,maxWidth:E,scroll:P},q=xV(L),H=O.useRef(),X=be=>{H.current=be.target===be.currentTarget},W=be=>{_&&_(be),H.current&&(H.current=null,x&&x(be),S&&S(be,"backdropClick"))},U=kg(l),Q=O.useMemo(()=>({titleId:U}),[U]),Y={transition:R,...M},te={transition:$,paper:I,backdrop:h,...N},K={slots:Y,slotProps:te},[ee,J]=Ht("root",{elementType:SV,shouldForwardComponentProp:!0,externalForwardedProps:K,ownerState:L,className:$e(q.root,g),ref:t}),[ie,ne]=Ht("backdrop",{elementType:wV,shouldForwardComponentProp:!0,externalForwardedProps:K,ownerState:L}),[oe,ue]=Ht("paper",{elementType:CV,shouldForwardComponentProp:!0,externalForwardedProps:K,ownerState:L,className:$e(q.paper,I.className)}),[he,me]=Ht("container",{elementType:EV,externalForwardedProps:K,ownerState:L,className:$e(q.container)}),[fe,we]=Ht("transition",{elementType:YS,externalForwardedProps:K,ownerState:L,additionalProps:{appear:!0,in:C,timeout:D,role:"presentation"}});return F.jsx(ee,{closeAfterTransition:!0,slots:{backdrop:ie},slotProps:{backdrop:{transitionDuration:D,as:d,...ne}},disableEscapeKeyDown:y,onClose:S,open:C,onClick:W,...J,...G,children:F.jsx(fe,{...we,children:F.jsx(he,{onMouseDown:X,...me,children:F.jsx(oe,{as:k,elevation:24,role:"dialog","aria-describedby":o,"aria-labelledby":U,"aria-modal":u,...ue,children:F.jsx(YN.Provider,{value:Q,children:f})})})})})});function AV(n){return rt("MuiDialogActions",n)}Ye("MuiDialogActions",["root","spacing"]);const kV=n=>{const{classes:e,disableSpacing:t}=n;return it({root:["root",!t&&"spacing"]},AV,e)},RV=Ae("div",{name:"MuiDialogActions",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,!t.disableSpacing&&e.spacing]}})({display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto",variants:[{props:({ownerState:n})=>!n.disableSpacing,style:{"& > :not(style) ~ :not(style)":{marginLeft:8}}}]}),TV=O.forwardRef(function(e,t){const r=ft({props:e,name:"MuiDialogActions"}),{className:i,disableSpacing:s=!1,...o}=r,l={...r,disableSpacing:s},u=kV(l);return F.jsx(RV,{className:$e(u.root,i),ownerState:l,ref:t,...o})});function PV(n){return rt("MuiDialogContent",n)}Ye("MuiDialogContent",["root","dividers"]);function MV(n){return rt("MuiDialogTitle",n)}const IV=Ye("MuiDialogTitle",["root"]),NV=n=>{const{classes:e,dividers:t}=n;return it({root:["root",t&&"dividers"]},PV,e)},LV=Ae("div",{name:"MuiDialogContent",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.dividers&&e.dividers]}})(xt(({theme:n})=>({flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"20px 24px",variants:[{props:({ownerState:e})=>e.dividers,style:{padding:"16px 24px",borderTop:`1px solid ${(n.vars||n).palette.divider}`,borderBottom:`1px solid ${(n.vars||n).palette.divider}`}},{props:({ownerState:e})=>!e.dividers,style:{[`.${IV.root} + &`]:{paddingTop:0}}}]}))),OV=O.forwardRef(function(e,t){const r=ft({props:e,name:"MuiDialogContent"}),{className:i,dividers:s=!1,...o}=r,l={...r,dividers:s},u=NV(l);return F.jsx(LV,{className:$e(u.root,i),ownerState:l,ref:t,...o})}),DV=n=>{const{classes:e}=n;return it({root:["root"]},MV,e)},FV=Ae($a,{name:"MuiDialogTitle",slot:"Root",overridesResolver:(n,e)=>e.root})({padding:"16px 24px",flex:"0 0 auto"}),zV=O.forwardRef(function(e,t){const r=ft({props:e,name:"MuiDialogTitle"}),{className:i,id:s,...o}=r,l=r,u=DV(l),{titleId:d=s}=O.useContext(YN);return F.jsx(FV,{component:"h2",className:$e(u.root,i),ownerState:l,ref:t,variant:"h6",id:s??d,...o})}),nT=Ye("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]),$V=n=>{const{classes:e,disableUnderline:t,startAdornment:r,endAdornment:i,size:s,hiddenLabel:o,multiline:l}=n,u={root:["root",!t&&"underline",r&&"adornedStart",i&&"adornedEnd",s==="small"&&`size${Le(s)}`,o&&"hiddenLabel",l&&"multiline"],input:["input"]},d=it(u,EU,e);return{...e,...d}},BV=Ae(_v,{shouldForwardProp:n=>Cr(n)||n==="classes",name:"MuiFilledInput",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[...Ev(n,e),!t.disableUnderline&&e.underline]}})(xt(({theme:n})=>{const e=n.palette.mode==="light",t=e?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",r=e?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",i=e?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",s=e?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return{position:"relative",backgroundColor:n.vars?n.vars.palette.FilledInput.bg:r,borderTopLeftRadius:(n.vars||n).shape.borderRadius,borderTopRightRadius:(n.vars||n).shape.borderRadius,transition:n.transitions.create("background-color",{duration:n.transitions.duration.shorter,easing:n.transitions.easing.easeOut}),"&:hover":{backgroundColor:n.vars?n.vars.palette.FilledInput.hoverBg:i,"@media (hover: none)":{backgroundColor:n.vars?n.vars.palette.FilledInput.bg:r}},[`&.${ll.focused}`]:{backgroundColor:n.vars?n.vars.palette.FilledInput.bg:r},[`&.${ll.disabled}`]:{backgroundColor:n.vars?n.vars.palette.FilledInput.disabledBg:s},variants:[{props:({ownerState:o})=>!o.disableUnderline,style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:n.transitions.create("transform",{duration:n.transitions.duration.shorter,easing:n.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${ll.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${ll.error}`]:{"&::before, &::after":{borderBottomColor:(n.vars||n).palette.error.main}},"&::before":{borderBottom:`1px solid ${n.vars?`rgba(${n.vars.palette.common.onBackgroundChannel} / ${n.vars.opacity.inputUnderline})`:t}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:n.transitions.create("border-bottom-color",{duration:n.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${ll.disabled}, .${ll.error}):before`]:{borderBottom:`1px solid ${(n.vars||n).palette.text.primary}`},[`&.${ll.disabled}:before`]:{borderBottomStyle:"dotted"}}},...Object.entries(n.palette).filter(zi()).map(([o])=>{var l;return{props:{disableUnderline:!1,color:o},style:{"&::after":{borderBottom:`2px solid ${(l=(n.vars||n).palette[o])==null?void 0:l.main}`}}}}),{props:({ownerState:o})=>o.startAdornment,style:{paddingLeft:12}},{props:({ownerState:o})=>o.endAdornment,style:{paddingRight:12}},{props:({ownerState:o})=>o.multiline,style:{padding:"25px 12px 8px"}},{props:({ownerState:o,size:l})=>o.multiline&&l==="small",style:{paddingTop:21,paddingBottom:4}},{props:({ownerState:o})=>o.multiline&&o.hiddenLabel,style:{paddingTop:16,paddingBottom:17}},{props:({ownerState:o})=>o.multiline&&o.hiddenLabel&&o.size==="small",style:{paddingTop:8,paddingBottom:9}}]}})),jV=Ae(Av,{name:"MuiFilledInput",slot:"Input",overridesResolver:Cv})(xt(({theme:n})=>({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12,...!n.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:n.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:n.palette.mode==="light"?null:"#fff",caretColor:n.palette.mode==="light"?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},...n.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[n.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},variants:[{props:{size:"small"},style:{paddingTop:21,paddingBottom:4}},{props:({ownerState:e})=>e.hiddenLabel,style:{paddingTop:16,paddingBottom:17}},{props:({ownerState:e})=>e.startAdornment,style:{paddingLeft:0}},{props:({ownerState:e})=>e.endAdornment,style:{paddingRight:0}},{props:({ownerState:e})=>e.hiddenLabel&&e.size==="small",style:{paddingTop:8,paddingBottom:9}},{props:({ownerState:e})=>e.multiline,style:{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0}}]}))),tC=O.forwardRef(function(e,t){const r=ft({props:e,name:"MuiFilledInput"}),{disableUnderline:i=!1,components:s={},componentsProps:o,fullWidth:l=!1,hiddenLabel:u,inputComponent:d="input",multiline:h=!1,slotProps:f,slots:g={},type:y="text",...v}=r,w={...r,disableUnderline:i,fullWidth:l,inputComponent:d,multiline:h,type:y},E=$V(r),x={root:{ownerState:w},input:{ownerState:w}},_=f??o?Yn(x,f??o):x,S=g.root??s.Root??BV,C=g.input??s.Input??jV;return F.jsx(eC,{slots:{root:S,input:C},slotProps:_,fullWidth:l,inputComponent:d,multiline:h,ref:t,type:y,...v,classes:E})});tC.muiName="Input";function HV(n){return rt("MuiFormControl",n)}Ye("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const WV=n=>{const{classes:e,margin:t,fullWidth:r}=n,i={root:["root",t!=="none"&&`margin${Le(t)}`,r&&"fullWidth"]};return it(i,HV,e)},UV=Ae("div",{name:"MuiFormControl",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,e[`margin${Le(t.margin)}`],t.fullWidth&&e.fullWidth]}})({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top",variants:[{props:{margin:"normal"},style:{marginTop:16,marginBottom:8}},{props:{margin:"dense"},style:{marginTop:8,marginBottom:4}},{props:{fullWidth:!0},style:{width:"100%"}}]}),XN=O.forwardRef(function(e,t){const r=ft({props:e,name:"MuiFormControl"}),{children:i,className:s,color:o="primary",component:l="div",disabled:u=!1,error:d=!1,focused:h,fullWidth:f=!1,hiddenLabel:g=!1,margin:y="none",required:v=!1,size:w="medium",variant:E="outlined",...x}=r,_={...r,color:o,component:l,disabled:u,error:d,fullWidth:f,hiddenLabel:g,margin:y,required:v,size:w,variant:E},S=WV(_),[C,k]=O.useState(()=>{let q=!1;return i&&O.Children.forEach(i,H=>{if(!nx(H,["Input","Select"]))return;const X=nx(H,["Select"])?H.props.input:H;X&&vU(X.props)&&(q=!0)}),q}),[I,P]=O.useState(()=>{let q=!1;return i&&O.Children.forEach(i,H=>{nx(H,["Input","Select"])&&(v0(H.props,!0)||v0(H.props.inputProps,!0))&&(q=!0)}),q}),[M,N]=O.useState(!1);u&&M&&N(!1);const R=h!==void 0&&!u?h:M;let D;O.useRef(!1);const $=O.useCallback(()=>{P(!0)},[]),G=O.useCallback(()=>{P(!1)},[]),L=O.useMemo(()=>({adornedStart:C,setAdornedStart:k,color:o,disabled:u,error:d,filled:I,focused:R,fullWidth:f,hiddenLabel:g,size:w,onBlur:()=>{N(!1)},onFocus:()=>{N(!0)},onEmpty:G,onFilled:$,registerEffect:D,required:v,variant:E}),[C,o,u,d,I,R,f,g,D,G,$,v,w,E]);return F.jsx(J1.Provider,{value:L,children:F.jsx(UV,{as:l,ownerState:_,className:$e(S.root,s),ref:t,...x,children:i})})});function VV(n){return rt("MuiFormControlLabel",n)}const Wh=Ye("MuiFormControlLabel",["root","labelPlacementStart","labelPlacementTop","labelPlacementBottom","disabled","label","error","required","asterisk"]),GV=n=>{const{classes:e,disabled:t,labelPlacement:r,error:i,required:s}=n,o={root:["root",t&&"disabled",`labelPlacement${Le(r)}`,i&&"error",s&&"required"],label:["label",t&&"disabled"],asterisk:["asterisk",i&&"error"]};return it(o,VV,e)},qV=Ae("label",{name:"MuiFormControlLabel",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[{[`& .${Wh.label}`]:e.label},e.root,e[`labelPlacement${Le(t.labelPlacement)}`]]}})(xt(({theme:n})=>({display:"inline-flex",alignItems:"center",cursor:"pointer",verticalAlign:"middle",WebkitTapHighlightColor:"transparent",marginLeft:-11,marginRight:16,[`&.${Wh.disabled}`]:{cursor:"default"},[`& .${Wh.label}`]:{[`&.${Wh.disabled}`]:{color:(n.vars||n).palette.text.disabled}},variants:[{props:{labelPlacement:"start"},style:{flexDirection:"row-reverse",marginRight:-11}},{props:{labelPlacement:"top"},style:{flexDirection:"column-reverse"}},{props:{labelPlacement:"bottom"},style:{flexDirection:"column"}},{props:({labelPlacement:e})=>e==="start"||e==="top"||e==="bottom",style:{marginLeft:16}}]}))),YV=Ae("span",{name:"MuiFormControlLabel",slot:"Asterisk",overridesResolver:(n,e)=>e.asterisk})(xt(({theme:n})=>({[`&.${Wh.error}`]:{color:(n.vars||n).palette.error.main}}))),XV=O.forwardRef(function(e,t){const r=ft({props:e,name:"MuiFormControlLabel"}),{checked:i,className:s,componentsProps:o={},control:l,disabled:u,disableTypography:d,inputRef:h,label:f,labelPlacement:g="end",name:y,onChange:v,required:w,slots:E={},slotProps:x={},value:_,...S}=r,C=Wa(),k=u??l.props.disabled??(C==null?void 0:C.disabled),I=w??l.props.required,P={disabled:k,required:I};["checked","name","onChange","value","inputRef"].forEach(q=>{typeof l.props[q]>"u"&&typeof r[q]<"u"&&(P[q]=r[q])});const M=kc({props:r,muiFormControl:C,states:["error"]}),N={...r,disabled:k,labelPlacement:g,required:I,error:M.error},R=GV(N),D={slots:E,slotProps:{...o,...x}},[$,G]=Ht("typography",{elementType:$a,externalForwardedProps:D,ownerState:N});let L=f;return L!=null&&L.type!==$a&&!d&&(L=F.jsx($,{component:"span",...G,className:$e(R.label,G==null?void 0:G.className),children:L})),F.jsxs(qV,{className:$e(R.root,s),ownerState:N,ref:t,...S,children:[O.cloneElement(l,P),I?F.jsxs("div",{children:[L,F.jsxs(YV,{ownerState:N,"aria-hidden":!0,className:R.asterisk,children:[" ","*"]})]}):L]})});function KV(n){return rt("MuiFormHelperText",n)}const rT=Ye("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]);var iT;const QV=n=>{const{classes:e,contained:t,size:r,disabled:i,error:s,filled:o,focused:l,required:u}=n,d={root:["root",i&&"disabled",s&&"error",r&&`size${Le(r)}`,t&&"contained",l&&"focused",o&&"filled",u&&"required"]};return it(d,KV,e)},ZV=Ae("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.size&&e[`size${Le(t.size)}`],t.contained&&e.contained,t.filled&&e.filled]}})(xt(({theme:n})=>({color:(n.vars||n).palette.text.secondary,...n.typography.caption,textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,[`&.${rT.disabled}`]:{color:(n.vars||n).palette.text.disabled},[`&.${rT.error}`]:{color:(n.vars||n).palette.error.main},variants:[{props:{size:"small"},style:{marginTop:4}},{props:({ownerState:e})=>e.contained,style:{marginLeft:14,marginRight:14}}]}))),JV=O.forwardRef(function(e,t){const r=ft({props:e,name:"MuiFormHelperText"}),{children:i,className:s,component:o="p",disabled:l,error:u,filled:d,focused:h,margin:f,required:g,variant:y,...v}=r,w=Wa(),E=kc({props:r,muiFormControl:w,states:["variant","size","disabled","error","filled","focused","required"]}),x={...r,component:o,contained:E.variant==="filled"||E.variant==="outlined",variant:E.variant,size:E.size,disabled:E.disabled,error:E.error,filled:E.filled,focused:E.focused,required:E.required};delete x.ownerState;const _=QV(x);return F.jsx(ZV,{as:o,className:$e(_.root,s),ref:t,...v,ownerState:x,children:i===" "?iT||(iT=F.jsx("span",{className:"notranslate","aria-hidden":!0,children:"​"})):i})});function e8(n){return rt("MuiFormLabel",n)}const df=Ye("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),t8=n=>{const{classes:e,color:t,focused:r,disabled:i,error:s,filled:o,required:l}=n,u={root:["root",`color${Le(t)}`,i&&"disabled",s&&"error",o&&"filled",r&&"focused",l&&"required"],asterisk:["asterisk",s&&"error"]};return it(u,e8,e)},n8=Ae("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.color==="secondary"&&e.colorSecondary,t.filled&&e.filled]}})(xt(({theme:n})=>({color:(n.vars||n).palette.text.secondary,...n.typography.body1,lineHeight:"1.4375em",padding:0,position:"relative",variants:[...Object.entries(n.palette).filter(zi()).map(([e])=>({props:{color:e},style:{[`&.${df.focused}`]:{color:(n.vars||n).palette[e].main}}})),{props:{},style:{[`&.${df.disabled}`]:{color:(n.vars||n).palette.text.disabled},[`&.${df.error}`]:{color:(n.vars||n).palette.error.main}}}]}))),r8=Ae("span",{name:"MuiFormLabel",slot:"Asterisk",overridesResolver:(n,e)=>e.asterisk})(xt(({theme:n})=>({[`&.${df.error}`]:{color:(n.vars||n).palette.error.main}}))),i8=O.forwardRef(function(e,t){const r=ft({props:e,name:"MuiFormLabel"}),{children:i,className:s,color:o,component:l="label",disabled:u,error:d,filled:h,focused:f,required:g,...y}=r,v=Wa(),w=kc({props:r,muiFormControl:v,states:["color","required","focused","disabled","error","filled"]}),E={...r,color:w.color||"primary",component:l,disabled:w.disabled,error:w.error,filled:w.filled,focused:w.focused,required:w.required},x=t8(E);return F.jsxs(n8,{as:l,ownerState:E,className:$e(x.root,s),ref:t,...y,children:[i,w.required&&F.jsxs(r8,{ownerState:E,"aria-hidden":!0,className:x.asterisk,children:[" ","*"]})]})});function XS(n){return`scale(${n}, ${n**2})`}const s8={entering:{opacity:1,transform:XS(1)},entered:{opacity:1,transform:"none"}},lx=typeof navigator<"u"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),KS=O.forwardRef(function(e,t){const{addEndListener:r,appear:i=!0,children:s,easing:o,in:l,onEnter:u,onEntered:d,onEntering:h,onExit:f,onExited:g,onExiting:y,style:v,timeout:w="auto",TransitionComponent:E=ks,...x}=e,_=kN(),S=O.useRef(),C=xv(),k=O.useRef(null),I=or(k,Rg(s),t),P=q=>H=>{if(q){const X=k.current;H===void 0?q(X):q(X,H)}},M=P(h),N=P((q,H)=>{WN(q);const{duration:X,delay:W,easing:U}=m0({style:v,timeout:w,easing:o},{mode:"enter"});let Q;w==="auto"?(Q=C.transitions.getAutoHeightDuration(q.clientHeight),S.current=Q):Q=X,q.style.transition=[C.transitions.create("opacity",{duration:Q,delay:W}),C.transitions.create("transform",{duration:lx?Q:Q*.666,delay:W,easing:U})].join(","),u&&u(q,H)}),R=P(d),D=P(y),$=P(q=>{const{duration:H,delay:X,easing:W}=m0({style:v,timeout:w,easing:o},{mode:"exit"});let U;w==="auto"?(U=C.transitions.getAutoHeightDuration(q.clientHeight),S.current=U):U=H,q.style.transition=[C.transitions.create("opacity",{duration:U,delay:X}),C.transitions.create("transform",{duration:lx?U:U*.666,delay:lx?X:X||U*.333,easing:W})].join(","),q.style.opacity=0,q.style.transform=XS(.75),f&&f(q)}),G=P(g),L=q=>{w==="auto"&&_.start(S.current||0,q),r&&r(k.current,q)};return F.jsx(E,{appear:i,in:l,nodeRef:k,onEnter:N,onEntered:R,onEntering:M,onExit:$,onExited:G,onExiting:D,addEndListener:L,timeout:w==="auto"?null:w,...x,children:(q,{ownerState:H,...X})=>O.cloneElement(s,{style:{opacity:0,transform:XS(.75),visibility:q==="exited"&&!l?"hidden":void 0,...s8[q],...v,...s.props.style},ref:I,...X})})});KS&&(KS.muiSupportAuto=!0);const o8=n=>{const{classes:e,disableUnderline:t}=n,i=it({root:["root",!t&&"underline"],input:["input"]},xU,e);return{...e,...i}},a8=Ae(_v,{shouldForwardProp:n=>Cr(n)||n==="classes",name:"MuiInput",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[...Ev(n,e),!t.disableUnderline&&e.underline]}})(xt(({theme:n})=>{let t=n.palette.mode==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return n.vars&&(t=`rgba(${n.vars.palette.common.onBackgroundChannel} / ${n.vars.opacity.inputUnderline})`),{position:"relative",variants:[{props:({ownerState:r})=>r.formControl,style:{"label + &":{marginTop:16}}},{props:({ownerState:r})=>!r.disableUnderline,style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:n.transitions.create("transform",{duration:n.transitions.duration.shorter,easing:n.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${Th.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${Th.error}`]:{"&::before, &::after":{borderBottomColor:(n.vars||n).palette.error.main}},"&::before":{borderBottom:`1px solid ${t}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:n.transitions.create("border-bottom-color",{duration:n.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${Th.disabled}, .${Th.error}):before`]:{borderBottom:`2px solid ${(n.vars||n).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${t}`}},[`&.${Th.disabled}:before`]:{borderBottomStyle:"dotted"}}},...Object.entries(n.palette).filter(zi()).map(([r])=>({props:{color:r,disableUnderline:!1},style:{"&::after":{borderBottom:`2px solid ${(n.vars||n).palette[r].main}`}}}))]}})),l8=Ae(Av,{name:"MuiInput",slot:"Input",overridesResolver:Cv})({}),nC=O.forwardRef(function(e,t){const r=ft({props:e,name:"MuiInput"}),{disableUnderline:i=!1,components:s={},componentsProps:o,fullWidth:l=!1,inputComponent:u="input",multiline:d=!1,slotProps:h,slots:f={},type:g="text",...y}=r,v=o8(r),E={root:{ownerState:{disableUnderline:i}}},x=h??o?Yn(h??o,E):E,_=f.root??s.Root??a8,S=f.input??s.Input??l8;return F.jsx(eC,{slots:{root:_,input:S},slotProps:x,fullWidth:l,inputComponent:u,multiline:d,ref:t,type:g,...y,classes:v})});nC.muiName="Input";function c8(n){return rt("MuiInputLabel",n)}Ye("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const u8=n=>{const{classes:e,formControl:t,size:r,shrink:i,disableAnimation:s,variant:o,required:l}=n,u={root:["root",t&&"formControl",!s&&"animated",i&&"shrink",r&&r!=="normal"&&`size${Le(r)}`,o],asterisk:[l&&"asterisk"]},d=it(u,c8,e);return{...e,...d}},d8=Ae(i8,{shouldForwardProp:n=>Cr(n)||n==="classes",name:"MuiInputLabel",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[{[`& .${df.asterisk}`]:e.asterisk},e.root,t.formControl&&e.formControl,t.size==="small"&&e.sizeSmall,t.shrink&&e.shrink,!t.disableAnimation&&e.animated,t.focused&&e.focused,e[t.variant]]}})(xt(({theme:n})=>({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%",variants:[{props:({ownerState:e})=>e.formControl,style:{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"}},{props:{size:"small"},style:{transform:"translate(0, 17px) scale(1)"}},{props:({ownerState:e})=>e.shrink,style:{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"}},{props:({ownerState:e})=>!e.disableAnimation,style:{transition:n.transitions.create(["color","transform","max-width"],{duration:n.transitions.duration.shorter,easing:n.transitions.easing.easeOut})}},{props:{variant:"filled"},style:{zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"}},{props:{variant:"filled",size:"small"},style:{transform:"translate(12px, 13px) scale(1)"}},{props:({variant:e,ownerState:t})=>e==="filled"&&t.shrink,style:{userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"}},{props:({variant:e,ownerState:t,size:r})=>e==="filled"&&t.shrink&&r==="small",style:{transform:"translate(12px, 4px) scale(0.75)"}},{props:{variant:"outlined"},style:{zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"}},{props:{variant:"outlined",size:"small"},style:{transform:"translate(14px, 9px) scale(1)"}},{props:({variant:e,ownerState:t})=>e==="outlined"&&t.shrink,style:{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}}]}))),h8=O.forwardRef(function(e,t){const r=ft({name:"MuiInputLabel",props:e}),{disableAnimation:i=!1,margin:s,shrink:o,variant:l,className:u,...d}=r,h=Wa();let f=o;typeof f>"u"&&h&&(f=h.filled||h.focused||h.adornedStart);const g=kc({props:r,muiFormControl:h,states:["size","variant","required","focused"]}),y={...r,disableAnimation:i,formControl:h,shrink:f,size:g.size,variant:g.variant,required:g.required,focused:g.focused},v=u8(y);return F.jsx(d8,{"data-shrink":f,ref:t,className:$e(v.root,u),...d,ownerState:y,classes:v})}),QS=O.createContext({});function f8(n){return rt("MuiList",n)}Ye("MuiList",["root","padding","dense","subheader"]);const p8=n=>{const{classes:e,disablePadding:t,dense:r,subheader:i}=n;return it({root:["root",!t&&"padding",r&&"dense",i&&"subheader"]},f8,e)},g8=Ae("ul",{name:"MuiList",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,!t.disablePadding&&e.padding,t.dense&&e.dense,t.subheader&&e.subheader]}})({listStyle:"none",margin:0,padding:0,position:"relative",variants:[{props:({ownerState:n})=>!n.disablePadding,style:{paddingTop:8,paddingBottom:8}},{props:({ownerState:n})=>n.subheader,style:{paddingTop:0}}]}),m8=O.forwardRef(function(e,t){const r=ft({props:e,name:"MuiList"}),{children:i,className:s,component:o="ul",dense:l=!1,disablePadding:u=!1,subheader:d,...h}=r,f=O.useMemo(()=>({dense:l}),[l]),g={...r,component:o,dense:l,disablePadding:u},y=p8(g);return F.jsx(QS.Provider,{value:f,children:F.jsxs(g8,{as:o,className:$e(y.root,s),ref:t,ownerState:g,...h,children:[d,i]})})}),sT=Ye("MuiListItemIcon",["root","alignItemsFlexStart"]),oT=Ye("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]);function cx(n,e,t){return n===e?n.firstChild:e&&e.nextElementSibling?e.nextElementSibling:t?null:n.firstChild}function aT(n,e,t){return n===e?t?n.firstChild:n.lastChild:e&&e.previousElementSibling?e.previousElementSibling:t?null:n.lastChild}function KN(n,e){if(e===void 0)return!0;let t=n.innerText;return t===void 0&&(t=n.textContent),t=t.trim().toLowerCase(),t.length===0?!1:e.repeating?t[0]===e.keys[0]:t.startsWith(e.keys.join(""))}function Ph(n,e,t,r,i,s){let o=!1,l=i(n,e,e?t:!1);for(;l;){if(l===n.firstChild){if(o)return!1;o=!0}const u=r?!1:l.disabled||l.getAttribute("aria-disabled")==="true";if(!l.hasAttribute("tabindex")||!KN(l,s)||u)l=i(n,l,t);else return l.focus(),!0}return!1}const y8=O.forwardRef(function(e,t){const{actions:r,autoFocus:i=!1,autoFocusItem:s=!1,children:o,className:l,disabledItemsFocusable:u=!1,disableListWrap:d=!1,onKeyDown:h,variant:f="selectedMenu",...g}=e,y=O.useRef(null),v=O.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});Fa(()=>{i&&y.current.focus()},[i]),O.useImperativeHandle(r,()=>({adjustStyleForScrollbar:(S,{direction:C})=>{const k=!y.current.style.width;if(S.clientHeight<y.current.clientHeight&&k){const I=`${RN(ko(S))}px`;y.current.style[C==="rtl"?"paddingLeft":"paddingRight"]=I,y.current.style.width=`calc(100% + ${I})`}return y.current}}),[]);const w=S=>{const C=y.current,k=S.key;if(S.ctrlKey||S.metaKey||S.altKey){h&&h(S);return}const P=Fi(C).activeElement;if(k==="ArrowDown")S.preventDefault(),Ph(C,P,d,u,cx);else if(k==="ArrowUp")S.preventDefault(),Ph(C,P,d,u,aT);else if(k==="Home")S.preventDefault(),Ph(C,null,d,u,cx);else if(k==="End")S.preventDefault(),Ph(C,null,d,u,aT);else if(k.length===1){const M=v.current,N=k.toLowerCase(),R=performance.now();M.keys.length>0&&(R-M.lastTime>500?(M.keys=[],M.repeating=!0,M.previousKeyMatched=!0):M.repeating&&N!==M.keys[0]&&(M.repeating=!1)),M.lastTime=R,M.keys.push(N);const D=P&&!M.repeating&&KN(P,M);M.previousKeyMatched&&(D||Ph(C,P,!1,u,cx,M))?S.preventDefault():M.previousKeyMatched=!1}h&&h(S)},E=or(y,t);let x=-1;O.Children.forEach(o,(S,C)=>{if(!O.isValidElement(S)){x===C&&(x+=1,x>=o.length&&(x=-1));return}S.props.disabled||(f==="selectedMenu"&&S.props.selected||x===-1)&&(x=C),x===C&&(S.props.disabled||S.props.muiSkipListHighlight||S.type.muiSkipListHighlight)&&(x+=1,x>=o.length&&(x=-1))});const _=O.Children.map(o,(S,C)=>{if(C===x){const k={};return s&&(k.autoFocus=!0),S.props.tabIndex===void 0&&f==="selectedMenu"&&(k.tabIndex=0),O.cloneElement(S,k)}return S});return F.jsx(m8,{role:"menu",ref:E,className:l,onKeyDown:w,tabIndex:i?0:-1,...g,children:_})});function v8(n){return rt("MuiPopover",n)}Ye("MuiPopover",["root","paper"]);function lT(n,e){let t=0;return typeof e=="number"?t=e:e==="center"?t=n.height/2:e==="bottom"&&(t=n.height),t}function cT(n,e){let t=0;return typeof e=="number"?t=e:e==="center"?t=n.width/2:e==="right"&&(t=n.width),t}function uT(n){return[n.horizontal,n.vertical].map(e=>typeof e=="number"?`${e}px`:e).join(" ")}function ux(n){return typeof n=="function"?n():n}const b8=n=>{const{classes:e}=n;return it({root:["root"],paper:["paper"]},v8,e)},w8=Ae(qN,{name:"MuiPopover",slot:"Root",overridesResolver:(n,e)=>e.root})({}),QN=Ae(Z1,{name:"MuiPopover",slot:"Paper",overridesResolver:(n,e)=>e.paper})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),x8=O.forwardRef(function(e,t){const r=ft({props:e,name:"MuiPopover"}),{action:i,anchorEl:s,anchorOrigin:o={vertical:"top",horizontal:"left"},anchorPosition:l,anchorReference:u="anchorEl",children:d,className:h,container:f,elevation:g=8,marginThreshold:y=16,open:v,PaperProps:w={},slots:E={},slotProps:x={},transformOrigin:_={vertical:"top",horizontal:"left"},TransitionComponent:S,transitionDuration:C="auto",TransitionProps:k={},disableScrollLock:I=!1,...P}=r,M=O.useRef(),N={...r,anchorOrigin:o,anchorReference:u,elevation:g,marginThreshold:y,transformOrigin:_,TransitionComponent:S,transitionDuration:C,TransitionProps:k},R=b8(N),D=O.useCallback(()=>{if(u==="anchorPosition")return l;const he=ux(s),fe=(he&&he.nodeType===1?he:Fi(M.current).body).getBoundingClientRect();return{top:fe.top+lT(fe,o.vertical),left:fe.left+cT(fe,o.horizontal)}},[s,o.horizontal,o.vertical,l,u]),$=O.useCallback(he=>({vertical:lT(he,_.vertical),horizontal:cT(he,_.horizontal)}),[_.horizontal,_.vertical]),G=O.useCallback(he=>{const me={width:he.offsetWidth,height:he.offsetHeight},fe=$(me);if(u==="none")return{top:null,left:null,transformOrigin:uT(fe)};const we=D();let be=we.top-fe.vertical,Be=we.left-fe.horizontal;const st=be+me.height,Ot=Be+me.width,Tt=ko(ux(s)),vn=Tt.innerHeight-y,St=Tt.innerWidth-y;if(y!==null&&be<y){const dt=be-y;be-=dt,fe.vertical+=dt}else if(y!==null&&st>vn){const dt=st-vn;be-=dt,fe.vertical+=dt}if(y!==null&&Be<y){const dt=Be-y;Be-=dt,fe.horizontal+=dt}else if(Ot>St){const dt=Ot-St;Be-=dt,fe.horizontal+=dt}return{top:`${Math.round(be)}px`,left:`${Math.round(Be)}px`,transformOrigin:uT(fe)}},[s,u,D,$,y]),[L,q]=O.useState(v),H=O.useCallback(()=>{const he=M.current;if(!he)return;const me=G(he);me.top!==null&&he.style.setProperty("top",me.top),me.left!==null&&(he.style.left=me.left),he.style.transformOrigin=me.transformOrigin,q(!0)},[G]);O.useEffect(()=>(I&&window.addEventListener("scroll",H),()=>window.removeEventListener("scroll",H)),[s,I,H]);const X=()=>{H()},W=()=>{q(!1)};O.useEffect(()=>{v&&H()}),O.useImperativeHandle(i,()=>v?{updatePosition:()=>{H()}}:null,[v,H]),O.useEffect(()=>{if(!v)return;const he=_N(()=>{H()}),me=ko(s);return me.addEventListener("resize",he),()=>{he.clear(),me.removeEventListener("resize",he)}},[s,v,H]);let U=C;const Q={slots:{transition:S,...E},slotProps:{transition:k,paper:w,...x}},[Y,te]=Ht("transition",{elementType:KS,externalForwardedProps:Q,ownerState:N,getSlotProps:he=>({...he,onEntering:(me,fe)=>{var we;(we=he.onEntering)==null||we.call(he,me,fe),X()},onExited:me=>{var fe;(fe=he.onExited)==null||fe.call(he,me),W()}}),additionalProps:{appear:!0,in:v}});C==="auto"&&!Y.muiSupportAuto&&(U=void 0);const K=f||(s?Fi(ux(s)).body:void 0),[ee,{slots:J,slotProps:ie,...ne}]=Ht("root",{ref:t,elementType:w8,externalForwardedProps:{...Q,...P},shouldForwardComponentProp:!0,additionalProps:{slots:{backdrop:E.backdrop},slotProps:{backdrop:BN(typeof x.backdrop=="function"?x.backdrop(N):x.backdrop,{invisible:!0})},container:K,open:v},ownerState:N,className:$e(R.root,h)}),[oe,ue]=Ht("paper",{ref:M,className:R.paper,elementType:QN,externalForwardedProps:Q,shouldForwardComponentProp:!0,additionalProps:{elevation:g,style:L?void 0:{opacity:0}},ownerState:N});return F.jsx(ee,{...ne,...!qS(ee)&&{slots:J,slotProps:ie,disableScrollLock:I},children:F.jsx(Y,{...te,timeout:U,children:F.jsx(oe,{...ue,children:d})})})});function S8(n){return rt("MuiMenu",n)}Ye("MuiMenu",["root","paper","list"]);const E8={vertical:"top",horizontal:"right"},C8={vertical:"top",horizontal:"left"},_8=n=>{const{classes:e}=n;return it({root:["root"],paper:["paper"],list:["list"]},S8,e)},A8=Ae(x8,{shouldForwardProp:n=>Cr(n)||n==="classes",name:"MuiMenu",slot:"Root",overridesResolver:(n,e)=>e.root})({}),k8=Ae(QN,{name:"MuiMenu",slot:"Paper",overridesResolver:(n,e)=>e.paper})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),R8=Ae(y8,{name:"MuiMenu",slot:"List",overridesResolver:(n,e)=>e.list})({outline:0}),T8=O.forwardRef(function(e,t){const r=ft({props:e,name:"MuiMenu"}),{autoFocus:i=!0,children:s,className:o,disableAutoFocusItem:l=!1,MenuListProps:u={},onClose:d,open:h,PaperProps:f={},PopoverClasses:g,transitionDuration:y="auto",TransitionProps:{onEntering:v,...w}={},variant:E="selectedMenu",slots:x={},slotProps:_={},...S}=r,C=IW(),k={...r,autoFocus:i,disableAutoFocusItem:l,MenuListProps:u,onEntering:v,PaperProps:f,transitionDuration:y,TransitionProps:w,variant:E},I=_8(k),P=i&&!l&&h,M=O.useRef(null),N=(U,Q)=>{M.current&&M.current.adjustStyleForScrollbar(U,{direction:C?"rtl":"ltr"}),v&&v(U,Q)},R=U=>{U.key==="Tab"&&(U.preventDefault(),d&&d(U,"tabKeyDown"))};let D=-1;O.Children.map(s,(U,Q)=>{O.isValidElement(U)&&(U.props.disabled||(E==="selectedMenu"&&U.props.selected||D===-1)&&(D=Q))});const $={slots:x,slotProps:{list:u,transition:w,paper:f,..._}},G=PW({elementType:x.root,externalSlotProps:_.root,ownerState:k,className:[I.root,o]}),[L,q]=Ht("paper",{className:I.paper,elementType:k8,externalForwardedProps:$,shouldForwardComponentProp:!0,ownerState:k}),[H,X]=Ht("list",{className:$e(I.list,u.className),elementType:R8,shouldForwardComponentProp:!0,externalForwardedProps:$,getSlotProps:U=>({...U,onKeyDown:Q=>{var Y;R(Q),(Y=U.onKeyDown)==null||Y.call(U,Q)}}),ownerState:k}),W=typeof $.slotProps.transition=="function"?$.slotProps.transition(k):$.slotProps.transition;return F.jsx(A8,{onClose:d,anchorOrigin:{vertical:"bottom",horizontal:C?"right":"left"},transformOrigin:C?E8:C8,slots:{root:x.root,paper:L,backdrop:x.backdrop,...x.transition&&{transition:x.transition}},slotProps:{root:G,paper:q,backdrop:typeof _.backdrop=="function"?_.backdrop(k):_.backdrop,transition:{...W,onEntering:(...U)=>{var Q;N(...U),(Q=W==null?void 0:W.onEntering)==null||Q.call(W,...U)}}},open:h,ref:t,transitionDuration:y,ownerState:k,...S,classes:g,children:F.jsx(H,{actions:M,autoFocus:i&&(D===-1||l),autoFocusItem:P,variant:E,...X,children:s})})});function P8(n){return rt("MuiMenuItem",n)}const Mh=Ye("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),M8=(n,e)=>{const{ownerState:t}=n;return[e.root,t.dense&&e.dense,t.divider&&e.divider,!t.disableGutters&&e.gutters]},I8=n=>{const{disabled:e,dense:t,divider:r,disableGutters:i,selected:s,classes:o}=n,u=it({root:["root",t&&"dense",e&&"disabled",!i&&"gutters",r&&"divider",s&&"selected"]},P8,o);return{...o,...u}},N8=Ae(Sv,{shouldForwardProp:n=>Cr(n)||n==="classes",name:"MuiMenuItem",slot:"Root",overridesResolver:M8})(xt(({theme:n})=>({...n.typography.body1,display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap","&:hover":{textDecoration:"none",backgroundColor:(n.vars||n).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${Mh.selected}`]:{backgroundColor:n.vars?`rgba(${n.vars.palette.primary.mainChannel} / ${n.vars.palette.action.selectedOpacity})`:Vn(n.palette.primary.main,n.palette.action.selectedOpacity),[`&.${Mh.focusVisible}`]:{backgroundColor:n.vars?`rgba(${n.vars.palette.primary.mainChannel} / calc(${n.vars.palette.action.selectedOpacity} + ${n.vars.palette.action.focusOpacity}))`:Vn(n.palette.primary.main,n.palette.action.selectedOpacity+n.palette.action.focusOpacity)}},[`&.${Mh.selected}:hover`]:{backgroundColor:n.vars?`rgba(${n.vars.palette.primary.mainChannel} / calc(${n.vars.palette.action.selectedOpacity} + ${n.vars.palette.action.hoverOpacity}))`:Vn(n.palette.primary.main,n.palette.action.selectedOpacity+n.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:n.vars?`rgba(${n.vars.palette.primary.mainChannel} / ${n.vars.palette.action.selectedOpacity})`:Vn(n.palette.primary.main,n.palette.action.selectedOpacity)}},[`&.${Mh.focusVisible}`]:{backgroundColor:(n.vars||n).palette.action.focus},[`&.${Mh.disabled}`]:{opacity:(n.vars||n).palette.action.disabledOpacity},[`& + .${nT.root}`]:{marginTop:n.spacing(1),marginBottom:n.spacing(1)},[`& + .${nT.inset}`]:{marginLeft:52},[`& .${oT.root}`]:{marginTop:0,marginBottom:0},[`& .${oT.inset}`]:{paddingLeft:36},[`& .${sT.root}`]:{minWidth:36},variants:[{props:({ownerState:e})=>!e.disableGutters,style:{paddingLeft:16,paddingRight:16}},{props:({ownerState:e})=>e.divider,style:{borderBottom:`1px solid ${(n.vars||n).palette.divider}`,backgroundClip:"padding-box"}},{props:({ownerState:e})=>!e.dense,style:{[n.breakpoints.up("sm")]:{minHeight:"auto"}}},{props:({ownerState:e})=>e.dense,style:{minHeight:32,paddingTop:4,paddingBottom:4,...n.typography.body2,[`& .${sT.root} svg`]:{fontSize:"1.25rem"}}}]}))),L8=O.forwardRef(function(e,t){const r=ft({props:e,name:"MuiMenuItem"}),{autoFocus:i=!1,component:s="li",dense:o=!1,divider:l=!1,disableGutters:u=!1,focusVisibleClassName:d,role:h="menuitem",tabIndex:f,className:g,...y}=r,v=O.useContext(QS),w=O.useMemo(()=>({dense:o||v.dense||!1,disableGutters:u}),[v.dense,o,u]),E=O.useRef(null);Fa(()=>{i&&E.current&&E.current.focus()},[i]);const x={...r,dense:w.dense,divider:l,disableGutters:u},_=I8(r),S=or(E,t);let C;return r.disabled||(C=f!==void 0?f:-1),F.jsx(QS.Provider,{value:w,children:F.jsx(N8,{ref:S,role:h,tabIndex:C,component:s,focusVisibleClassName:$e(_.focusVisible,d),className:$e(_.root,g),...y,ownerState:x,classes:_})})});function O8(n){return rt("MuiNativeSelect",n)}const rC=Ye("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),D8=n=>{const{classes:e,variant:t,disabled:r,multiple:i,open:s,error:o}=n,l={select:["select",t,r&&"disabled",i&&"multiple",o&&"error"],icon:["icon",`icon${Le(t)}`,s&&"iconOpen",r&&"disabled"]};return it(l,O8,e)},ZN=Ae("select")(({theme:n})=>({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":{borderRadius:0},[`&.${rC.disabled}`]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(n.vars||n).palette.background.paper},variants:[{props:({ownerState:e})=>e.variant!=="filled"&&e.variant!=="outlined",style:{"&&&":{paddingRight:24,minWidth:16}}},{props:{variant:"filled"},style:{"&&&":{paddingRight:32}}},{props:{variant:"outlined"},style:{borderRadius:(n.vars||n).shape.borderRadius,"&:focus":{borderRadius:(n.vars||n).shape.borderRadius},"&&&":{paddingRight:32}}}]})),F8=Ae(ZN,{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:Cr,overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.select,e[t.variant],t.error&&e.error,{[`&.${rC.multiple}`]:e.multiple}]}})({}),JN=Ae("svg")(({theme:n})=>({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(n.vars||n).palette.action.active,[`&.${rC.disabled}`]:{color:(n.vars||n).palette.action.disabled},variants:[{props:({ownerState:e})=>e.open,style:{transform:"rotate(180deg)"}},{props:{variant:"filled"},style:{right:7}},{props:{variant:"outlined"},style:{right:7}}]})),z8=Ae(JN,{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.icon,t.variant&&e[`icon${Le(t.variant)}`],t.open&&e.iconOpen]}})({}),$8=O.forwardRef(function(e,t){const{className:r,disabled:i,error:s,IconComponent:o,inputRef:l,variant:u="standard",...d}=e,h={...e,disabled:i,variant:u,error:s},f=D8(h);return F.jsxs(O.Fragment,{children:[F.jsx(F8,{ownerState:h,className:$e(f.select,r),disabled:i,ref:l||t,...d}),e.multiple?null:F.jsx(z8,{as:o,ownerState:h,className:f.icon})]})});var dT;const B8=Ae("fieldset",{shouldForwardProp:Cr})({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),j8=Ae("legend",{shouldForwardProp:Cr})(xt(({theme:n})=>({float:"unset",width:"auto",overflow:"hidden",variants:[{props:({ownerState:e})=>!e.withLabel,style:{padding:0,lineHeight:"11px",transition:n.transitions.create("width",{duration:150,easing:n.transitions.easing.easeOut})}},{props:({ownerState:e})=>e.withLabel,style:{display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:n.transitions.create("max-width",{duration:50,easing:n.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}}},{props:({ownerState:e})=>e.withLabel&&e.notched,style:{maxWidth:"100%",transition:n.transitions.create("max-width",{duration:100,easing:n.transitions.easing.easeOut,delay:50})}}]})));function H8(n){const{children:e,classes:t,className:r,label:i,notched:s,...o}=n,l=i!=null&&i!=="",u={...n,notched:s,withLabel:l};return F.jsx(B8,{"aria-hidden":!0,className:r,ownerState:u,...o,children:F.jsx(j8,{ownerState:u,children:l?F.jsx("span",{children:i}):dT||(dT=F.jsx("span",{className:"notranslate","aria-hidden":!0,children:"​"}))})})}const W8=n=>{const{classes:e}=n,r=it({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},SU,e);return{...e,...r}},U8=Ae(_v,{shouldForwardProp:n=>Cr(n)||n==="classes",name:"MuiOutlinedInput",slot:"Root",overridesResolver:Ev})(xt(({theme:n})=>{const e=n.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{position:"relative",borderRadius:(n.vars||n).shape.borderRadius,[`&:hover .${Ki.notchedOutline}`]:{borderColor:(n.vars||n).palette.text.primary},"@media (hover: none)":{[`&:hover .${Ki.notchedOutline}`]:{borderColor:n.vars?`rgba(${n.vars.palette.common.onBackgroundChannel} / 0.23)`:e}},[`&.${Ki.focused} .${Ki.notchedOutline}`]:{borderWidth:2},variants:[...Object.entries(n.palette).filter(zi()).map(([t])=>({props:{color:t},style:{[`&.${Ki.focused} .${Ki.notchedOutline}`]:{borderColor:(n.vars||n).palette[t].main}}})),{props:{},style:{[`&.${Ki.error} .${Ki.notchedOutline}`]:{borderColor:(n.vars||n).palette.error.main},[`&.${Ki.disabled} .${Ki.notchedOutline}`]:{borderColor:(n.vars||n).palette.action.disabled}}},{props:({ownerState:t})=>t.startAdornment,style:{paddingLeft:14}},{props:({ownerState:t})=>t.endAdornment,style:{paddingRight:14}},{props:({ownerState:t})=>t.multiline,style:{padding:"16.5px 14px"}},{props:({ownerState:t,size:r})=>t.multiline&&r==="small",style:{padding:"8.5px 14px"}}]}})),V8=Ae(H8,{name:"MuiOutlinedInput",slot:"NotchedOutline",overridesResolver:(n,e)=>e.notchedOutline})(xt(({theme:n})=>{const e=n.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:n.vars?`rgba(${n.vars.palette.common.onBackgroundChannel} / 0.23)`:e}})),G8=Ae(Av,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:Cv})(xt(({theme:n})=>({padding:"16.5px 14px",...!n.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:n.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:n.palette.mode==="light"?null:"#fff",caretColor:n.palette.mode==="light"?null:"#fff",borderRadius:"inherit"}},...n.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[n.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},variants:[{props:{size:"small"},style:{padding:"8.5px 14px"}},{props:({ownerState:e})=>e.multiline,style:{padding:0}},{props:({ownerState:e})=>e.startAdornment,style:{paddingLeft:0}},{props:({ownerState:e})=>e.endAdornment,style:{paddingRight:0}}]}))),iC=O.forwardRef(function(e,t){var r;const i=ft({props:e,name:"MuiOutlinedInput"}),{components:s={},fullWidth:o=!1,inputComponent:l="input",label:u,multiline:d=!1,notched:h,slots:f={},type:g="text",...y}=i,v=W8(i),w=Wa(),E=kc({props:i,muiFormControl:w,states:["color","disabled","error","focused","hiddenLabel","size","required"]}),x={...i,color:E.color||"primary",disabled:E.disabled,error:E.error,focused:E.focused,formControl:w,fullWidth:o,hiddenLabel:E.hiddenLabel,multiline:d,size:E.size,type:g},_=f.root??s.Root??U8,S=f.input??s.Input??G8;return F.jsx(eC,{slots:{root:_,input:S},renderSuffix:C=>F.jsx(V8,{ownerState:x,className:v.notchedOutline,label:u!=null&&u!==""&&E.required?r||(r=F.jsxs(O.Fragment,{children:[u," ","*"]})):u,notched:typeof h<"u"?h:!!(C.startAdornment||C.filled||C.focused)}),fullWidth:o,inputComponent:l,multiline:d,ref:t,type:g,...y,classes:{...v,notchedOutline:null}})});iC.muiName="Input";function e2(n){return rt("MuiSelect",n)}const Ih=Ye("MuiSelect",["root","select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]);var hT;const q8=Ae(ZN,{name:"MuiSelect",slot:"Select",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[{[`&.${Ih.select}`]:e.select},{[`&.${Ih.select}`]:e[t.variant]},{[`&.${Ih.error}`]:e.error},{[`&.${Ih.multiple}`]:e.multiple}]}})({[`&.${Ih.select}`]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),Y8=Ae(JN,{name:"MuiSelect",slot:"Icon",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.icon,t.variant&&e[`icon${Le(t.variant)}`],t.open&&e.iconOpen]}})({}),X8=Ae("input",{shouldForwardProp:n=>$N(n)&&n!=="classes",name:"MuiSelect",slot:"NativeInput",overridesResolver:(n,e)=>e.nativeInput})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function fT(n,e){return typeof e=="object"&&e!==null?n===e:String(n)===String(e)}function K8(n){return n==null||typeof n=="string"&&!n.trim()}const Q8=n=>{const{classes:e,variant:t,disabled:r,multiple:i,open:s,error:o}=n,l={select:["select",t,r&&"disabled",i&&"multiple",o&&"error"],icon:["icon",`icon${Le(t)}`,s&&"iconOpen",r&&"disabled"],nativeInput:["nativeInput"]};return it(l,e2,e)},Z8=O.forwardRef(function(e,t){var Va;const{"aria-describedby":r,"aria-label":i,autoFocus:s,autoWidth:o,children:l,className:u,defaultOpen:d,defaultValue:h,disabled:f,displayEmpty:g,error:y=!1,IconComponent:v,inputRef:w,labelId:E,MenuProps:x={},multiple:_,name:S,onBlur:C,onChange:k,onClose:I,onFocus:P,onOpen:M,open:N,readOnly:R,renderValue:D,required:$,SelectDisplayProps:G={},tabIndex:L,type:q,value:H,variant:X="standard",...W}=e,[U,Q]=zS({controlled:H,default:h,name:"Select"}),[Y,te]=zS({controlled:N,default:d,name:"Select"}),K=O.useRef(null),ee=O.useRef(null),[J,ie]=O.useState(null),{current:ne}=O.useRef(N!=null),[oe,ue]=O.useState(),he=or(t,w),me=O.useCallback(De=>{ee.current=De,De&&ie(De)},[]),fe=J==null?void 0:J.parentNode;O.useImperativeHandle(he,()=>({focus:()=>{ee.current.focus()},node:K.current,value:U}),[U]),O.useEffect(()=>{d&&Y&&J&&!ne&&(ue(o?null:fe.clientWidth),ee.current.focus())},[J,o]),O.useEffect(()=>{s&&ee.current.focus()},[s]),O.useEffect(()=>{if(!E)return;const De=Fi(ee.current).getElementById(E);if(De){const ot=()=>{getSelection().isCollapsed&&ee.current.focus()};return De.addEventListener("click",ot),()=>{De.removeEventListener("click",ot)}}},[E]);const we=(De,ot)=>{De?M&&M(ot):I&&I(ot),ne||(ue(o?null:fe.clientWidth),te(De))},be=De=>{De.button===0&&(De.preventDefault(),ee.current.focus(),we(!0,De))},Be=De=>{we(!1,De)},st=O.Children.toArray(l),Ot=De=>{const ot=st.find(Dt=>Dt.props.value===De.target.value);ot!==void 0&&(Q(ot.props.value),k&&k(De,ot))},Tt=De=>ot=>{let Dt;if(ot.currentTarget.hasAttribute("tabindex")){if(_){Dt=Array.isArray(U)?U.slice():[];const Yr=U.indexOf(De.props.value);Yr===-1?Dt.push(De.props.value):Dt.splice(Yr,1)}else Dt=De.props.value;if(De.props.onClick&&De.props.onClick(ot),U!==Dt&&(Q(Dt),k)){const Yr=ot.nativeEvent||ot,Io=new Yr.constructor(Yr.type,Yr);Object.defineProperty(Io,"target",{writable:!0,value:{value:Dt,name:S}}),k(Io,De)}_||we(!1,ot)}},vn=De=>{R||[" ","ArrowUp","ArrowDown","Enter"].includes(De.key)&&(De.preventDefault(),we(!0,De))},St=J!==null&&Y,dt=De=>{!St&&C&&(Object.defineProperty(De,"target",{writable:!0,value:{value:U,name:S}}),C(De))};delete W["aria-invalid"];let Pe,Xn;const Yt=[];let Kn=!1;(v0({value:U})||g)&&(D?Pe=D(U):Kn=!0);const ar=st.map(De=>{if(!O.isValidElement(De))return null;let ot;if(_){if(!Array.isArray(U))throw new Error(_o(2));ot=U.some(Dt=>fT(Dt,De.props.value)),ot&&Kn&&Yt.push(De.props.children)}else ot=fT(U,De.props.value),ot&&Kn&&(Xn=De.props.children);return O.cloneElement(De,{"aria-selected":ot?"true":"false",onClick:Tt(De),onKeyUp:Dt=>{Dt.key===" "&&Dt.preventDefault(),De.props.onKeyUp&&De.props.onKeyUp(Dt)},role:"option",selected:ot,value:void 0,"data-value":De.props.value})});Kn&&(_?Yt.length===0?Pe=null:Pe=Yt.reduce((De,ot,Dt)=>(De.push(ot),Dt<Yt.length-1&&De.push(", "),De),[]):Pe=Xn);let lr=oe;!o&&ne&&J&&(lr=fe.clientWidth);let _r;typeof L<"u"?_r=L:_r=f?null:0;const Ar=G.id||(S?`mui-component-select-${S}`:void 0),Qn={...e,variant:X,value:U,open:St,error:y},et=Q8(Qn),Hi={...x.PaperProps,...(Va=x.slotProps)==null?void 0:Va.paper},Wi=kg();return F.jsxs(O.Fragment,{children:[F.jsx(q8,{as:"div",ref:me,tabIndex:_r,role:"combobox","aria-controls":St?Wi:void 0,"aria-disabled":f?"true":void 0,"aria-expanded":St?"true":"false","aria-haspopup":"listbox","aria-label":i,"aria-labelledby":[E,Ar].filter(Boolean).join(" ")||void 0,"aria-describedby":r,"aria-required":$?"true":void 0,"aria-invalid":y?"true":void 0,onKeyDown:vn,onMouseDown:f||R?null:be,onBlur:dt,onFocus:P,...G,ownerState:Qn,className:$e(G.className,et.select,u),id:Ar,children:K8(Pe)?hT||(hT=F.jsx("span",{className:"notranslate","aria-hidden":!0,children:"​"})):Pe}),F.jsx(X8,{"aria-invalid":y,value:Array.isArray(U)?U.join(","):U,name:S,ref:K,"aria-hidden":!0,onChange:Ot,tabIndex:-1,disabled:f,className:et.nativeInput,autoFocus:s,required:$,...W,ownerState:Qn}),F.jsx(Y8,{as:v,className:et.icon,ownerState:Qn}),F.jsx(T8,{id:`menu-${S||""}`,anchorEl:fe,open:St,onClose:Be,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},...x,slotProps:{...x.slotProps,list:{"aria-labelledby":E,role:"listbox","aria-multiselectable":_?"true":void 0,disableListWrap:!0,id:Wi,...x.MenuListProps},paper:{...Hi,style:{minWidth:lr,...Hi!=null?Hi.style:null}}},children:ar})]})}),J8=n=>{const{classes:e}=n,r=it({root:["root"]},e2,e);return{...e,...r}},sC={name:"MuiSelect",overridesResolver:(n,e)=>e.root,shouldForwardProp:n=>Cr(n)&&n!=="variant",slot:"Root"},eG=Ae(nC,sC)(""),tG=Ae(iC,sC)(""),nG=Ae(tC,sC)(""),oC=O.forwardRef(function(e,t){const r=ft({name:"MuiSelect",props:e}),{autoWidth:i=!1,children:s,classes:o={},className:l,defaultOpen:u=!1,displayEmpty:d=!1,IconComponent:h=CU,id:f,input:g,inputProps:y,label:v,labelId:w,MenuProps:E,multiple:x=!1,native:_=!1,onClose:S,onOpen:C,open:k,renderValue:I,SelectDisplayProps:P,variant:M="outlined",...N}=r,R=_?$8:Z8,D=Wa(),$=kc({props:r,muiFormControl:D,states:["variant","error"]}),G=$.variant||M,L={...r,variant:G,classes:o},q=J8(L),{root:H,...X}=q,W=g||{standard:F.jsx(eG,{ownerState:L}),outlined:F.jsx(tG,{label:v,ownerState:L}),filled:F.jsx(nG,{ownerState:L})}[G],U=or(t,Rg(W));return F.jsx(O.Fragment,{children:O.cloneElement(W,{inputComponent:R,inputProps:{children:s,error:$.error,IconComponent:h,variant:G,type:void 0,multiple:x,..._?{id:f}:{autoWidth:i,defaultOpen:u,displayEmpty:d,labelId:w,MenuProps:E,onClose:S,onOpen:C,open:k,renderValue:I,SelectDisplayProps:{id:f,...P}},...y,classes:y?Yn(X,y.classes):X,...g?g.props.inputProps:{}},...(x&&_||d)&&G==="outlined"?{notched:!0}:{},ref:U,className:$e(W.props.className,l,q.root),...!g&&{variant:G},...N})})});oC.muiName="Select";function rG(n){return rt("MuiTextField",n)}Ye("MuiTextField",["root"]);const iG={standard:nC,filled:tC,outlined:iC},sG=n=>{const{classes:e}=n;return it({root:["root"]},rG,e)},oG=Ae(XN,{name:"MuiTextField",slot:"Root",overridesResolver:(n,e)=>e.root})({}),ZS=O.forwardRef(function(e,t){const r=ft({props:e,name:"MuiTextField"}),{autoComplete:i,autoFocus:s=!1,children:o,className:l,color:u="primary",defaultValue:d,disabled:h=!1,error:f=!1,FormHelperTextProps:g,fullWidth:y=!1,helperText:v,id:w,InputLabelProps:E,inputProps:x,InputProps:_,inputRef:S,label:C,maxRows:k,minRows:I,multiline:P=!1,name:M,onBlur:N,onChange:R,onFocus:D,placeholder:$,required:G=!1,rows:L,select:q=!1,SelectProps:H,slots:X={},slotProps:W={},type:U,value:Q,variant:Y="outlined",...te}=r,K={...r,autoFocus:s,color:u,disabled:h,error:f,fullWidth:y,multiline:P,required:G,select:q,variant:Y},ee=sG(K),J=kg(w),ie=v&&J?`${J}-helper-text`:void 0,ne=C&&J?`${J}-label`:void 0,oe=iG[Y],ue={slots:X,slotProps:{input:_,inputLabel:E,htmlInput:x,formHelperText:g,select:H,...W}},he={},me=ue.slotProps.inputLabel;Y==="outlined"&&(me&&typeof me.shrink<"u"&&(he.notched=me.shrink),he.label=C),q&&((!H||!H.native)&&(he.id=void 0),he["aria-describedby"]=void 0);const[fe,we]=Ht("input",{elementType:oe,externalForwardedProps:ue,additionalProps:he,ownerState:K}),[be,Be]=Ht("inputLabel",{elementType:h8,externalForwardedProps:ue,ownerState:K}),[st,Ot]=Ht("htmlInput",{elementType:"input",externalForwardedProps:ue,ownerState:K}),[Tt,vn]=Ht("formHelperText",{elementType:JV,externalForwardedProps:ue,ownerState:K}),[St,dt]=Ht("select",{elementType:oC,externalForwardedProps:ue,ownerState:K}),Pe=F.jsx(fe,{"aria-describedby":ie,autoComplete:i,autoFocus:s,defaultValue:d,fullWidth:y,multiline:P,name:M,rows:L,maxRows:k,minRows:I,type:U,value:Q,id:J,inputRef:S,onBlur:N,onChange:R,onFocus:D,placeholder:$,inputProps:Ot,slots:{input:X.htmlInput?st:void 0},...we});return F.jsxs(oG,{className:$e(ee.root,l),disabled:h,error:f,fullWidth:y,ref:t,required:G,color:u,variant:Y,ownerState:K,...te,children:[C!=null&&C!==""&&F.jsx(be,{htmlFor:J,id:ne,...Be,children:C}),q?F.jsx(St,{"aria-describedby":ie,id:J,labelId:ne,value:Q,input:Pe,...dt,children:o}):Pe,v&&F.jsx(Tt,{id:ie,...vn,children:v})]})}),pT=ji(F.jsx("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6z"}),"Add"),aG=ji(F.jsx("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20z"}),"ArrowBack"),lG=ji(F.jsx("path",{d:"m12 4-1.41 1.41L16.17 11H4v2h12.17l-5.58 5.59L12 20l8-8z"}),"ArrowForward"),cG=ji(F.jsx("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close"),uG=ji(F.jsx("path",{d:"M22 3.41 16.71 8.7 20 12h-8V4l3.29 3.29L20.59 2zM3.41 22l5.29-5.29L12 20v-8H4l3.29 3.29L2 20.59z"}),"CloseFullscreen"),dG=ji(F.jsx("path",{d:"M21 11V3h-8l3.29 3.29-10 10L3 13v8h8l-3.29-3.29 10-10z"}),"OpenInFull"),hG=ji(F.jsx("path",{d:"M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8zm4 18H6V4h7v5h5zM8 15.01l1.41 1.41L11 14.84V19h2v-4.16l1.59 1.59L16 15.01 12.01 11z"}),"UploadFile"),fG="/re-ad/re-ad-logo.png";function pG(){const n=O.useContext(Mo);if(!n)throw new Error("PaperContext not found");const{paperUrl:e,readRecords:t,currentReadId:r,setCurrentReadId:i,setIsAddingNewRead:s,displayedReads:o,hideRead:l,showRead:u}=n,d=()=>{if(!e){alert("Please upload a paper first");return}s(!0)};return F.jsxs("div",{className:"NavBar",children:[F.jsxs("div",{className:"logo-text",children:[F.jsx("img",{src:fG,height:40}),F.jsx("h3",{children:"e:ad"})]}),F.jsxs(rn,{className:"highlights",sx:{mx:2},children:[Object.values(t).length>0&&Object.values(t).map(h=>F.jsx(rn,{className:"read",sx:{borderBottom:r===h.id?`2px solid ${h.color}`:"none"},children:F.jsx(XV,{control:F.jsx(JU,{onChange:()=>{o.includes(h.id)?l(h.id):u(h.id)},sx:{color:h.color,"&.Mui-checked":{color:h.color}},checked:o.includes(h.id),disabled:r===h.id}),label:h.title})},h.id)),Object.values(t).length>0?F.jsx(Mf,{onClick:d,children:F.jsx(pT,{})}):F.jsx(Ld,{className:"mui-button",size:"small",variant:"text",startIcon:F.jsx(pT,{}),onClick:d,children:F.jsx("span",{style:{lineHeight:0},children:"NEW READ"})})]}),F.jsxs(rn,{sx:{mx:3,display:"flex",flexDirection:"row",alignItems:"center",gap:1},children:[F.jsx("h4",{children:"Active Read:"}),Object.values(t).length>0?F.jsx("div",{children:F.jsx(XN,{size:"small",fullWidth:!0,children:F.jsx(oC,{value:r,onChange:h=>i(h.target.value),sx:{"& .MuiOutlinedInput-notchedOutline":{borderColor:t[r].color},"&:hover .MuiOutlinedInput-notchedOutline":{borderColor:t[r].color},"&.Mui-focused .MuiOutlinedInput-notchedOutline":{borderColor:t[r].color}},children:Object.values(t).map(h=>F.jsx(L8,{value:h.id,children:h.title},h.id))})})}):F.jsx("div",{children:F.jsx("p",{children:"None"})})]})]})}const gG="modulepreload",mG=function(n){return"/re-ad/"+n},gT={},Uh=function(e,t,r){let i=Promise.resolve();if(t&&t.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.allSettled(t.map(u=>{if(u=mG(u),u in gT)return;gT[u]=!0;const d=u.endsWith(".css"),h=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${h}`))return;const f=document.createElement("link");if(f.rel=d?"stylesheet":gG,d||(f.as="script"),f.crossOrigin="",f.href=u,l&&f.setAttribute("nonce",l),document.head.appendChild(f),d)return new Promise((g,y)=>{f.addEventListener("load",g),f.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${u}`)))})}))}function s(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return i.then(o=>{for(const l of o||[])l.status==="rejected"&&s(l.reason);return e().catch(s)})};var dx,mT;function yG(){if(mT)return dx;mT=1;var n="Expected a function",e=NaN,t="[object Symbol]",r=/^\s+|\s+$/g,i=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,o=/^0o[0-7]+$/i,l=parseInt,u=typeof Ym=="object"&&Ym&&Ym.Object===Object&&Ym,d=typeof self=="object"&&self&&self.Object===Object&&self,h=u||d||Function("return this")(),f=Object.prototype,g=f.toString,y=Math.max,v=Math.min,w=function(){return h.Date.now()};function E(k,I,P){var M,N,R,D,$,G,L=0,q=!1,H=!1,X=!0;if(typeof k!="function")throw new TypeError(n);I=C(I)||0,x(P)&&(q=!!P.leading,H="maxWait"in P,R=H?y(C(P.maxWait)||0,I):R,X="trailing"in P?!!P.trailing:X);function W(ne){var oe=M,ue=N;return M=N=void 0,L=ne,D=k.apply(ue,oe),D}function U(ne){return L=ne,$=setTimeout(te,I),q?W(ne):D}function Q(ne){var oe=ne-G,ue=ne-L,he=I-oe;return H?v(he,R-ue):he}function Y(ne){var oe=ne-G,ue=ne-L;return G===void 0||oe>=I||oe<0||H&&ue>=R}function te(){var ne=w();if(Y(ne))return K(ne);$=setTimeout(te,Q(ne))}function K(ne){return $=void 0,X&&M?W(ne):(M=N=void 0,D)}function ee(){$!==void 0&&clearTimeout($),L=0,M=G=N=$=void 0}function J(){return $===void 0?D:K(w())}function ie(){var ne=w(),oe=Y(ne);if(M=arguments,N=this,G=ne,oe){if($===void 0)return U(G);if(H)return $=setTimeout(te,I),W(G)}return $===void 0&&($=setTimeout(te,I)),D}return ie.cancel=ee,ie.flush=J,ie}function x(k){var I=typeof k;return!!k&&(I=="object"||I=="function")}function _(k){return!!k&&typeof k=="object"}function S(k){return typeof k=="symbol"||_(k)&&g.call(k)==t}function C(k){if(typeof k=="number")return k;if(S(k))return e;if(x(k)){var I=typeof k.valueOf=="function"?k.valueOf():k;k=x(I)?I+"":I}if(typeof k!="string")return k===0?k:+k;k=k.replace(r,"");var P=s.test(k);return P||o.test(k)?l(k.slice(2),P?2:8):i.test(k)?e:+k}return dx=E,dx}var vG=yG();const bG=Dd(vG),JS=O.createContext(void 0),t2=()=>{const n=O.useContext(JS);if(n===void 0)throw new Error("usePdfHighlighterContext must be used within PdfHighlighter!");return n},n2=(n,{width:e,height:t})=>({x1:n.left,y1:n.top,x2:n.left+n.width,y2:n.top+n.height,width:e,height:t,pageNumber:n.pageNumber}),r2=({boundingRect:n,rects:e},t)=>{const r=n.pageNumber,i=t.getPageView(r-1).viewport,s=o=>n2(o,i);return{boundingRect:s(n),rects:(e||[]).map(s)}},wG=(n,e)=>{const[t,r,i,s]=e.convertToViewportRectangle([n.x1,n.y1,n.x2,n.y2]);return{left:Math.min(t,i),top:Math.min(r,s),width:Math.abs(i-t),height:Math.abs(r-s),pageNumber:n.pageNumber}},i2=(n,e,t=!1)=>{const{width:r,height:i}=e;if(t)return wG(n,e);if(n.x1===void 0)throw new Error("You are using old position format, please update");const s=r*n.x1/n.width,o=i*n.y1/n.height,l=r*n.x2/n.width,u=i*n.y2/n.height;return{left:s,top:o,width:l-s,height:u-o,pageNumber:n.pageNumber}},xG=({boundingRect:n,rects:e,usePdfCoordinates:t},r)=>{const i=n.pageNumber,s=r.getPageView(i-1).viewport,o=l=>i2(l,s,t);return{boundingRect:o(n),rects:(e||[]).map(o)}},SG=n=>{const e=Array.from(n).map(h=>{const{left:f,top:g,width:y,height:v,pageNumber:w}=h,E=f,x=f+y,_=g,S=g+v;return{X0:E,X1:x,Y0:_,Y1:S,pageNumber:w}});let t=Number.MAX_SAFE_INTEGER;e.forEach(h=>{t=Math.min(t,h.pageNumber??t)});const r=e.filter(h=>(h.X0>0||h.X1>0||h.Y0>0||h.Y1>0)&&h.pageNumber===t),i=r.reduce((h,f)=>({X0:Math.min(h.X0,f.X0),X1:Math.max(h.X1,f.X1),Y0:Math.min(h.Y0,f.Y0),Y1:Math.max(h.Y1,f.Y1),pageNumber:t}),r[0]),{X0:s,X1:o,Y0:l,Y1:u,pageNumber:d}=i;return{left:s,top:l,width:o-s,height:u-l,pageNumber:d}},EG=n=>n.sort((e,t)=>{const r=(e.pageNumber||0)*e.top-(t.pageNumber||0)*t.top;return r===0?e.left-t.left:r}),CG=(n,e)=>n.pageNumber===e.pageNumber&&n.left<=e.left&&e.left<=n.left+n.width,_G=(n,e,t=5)=>n.pageNumber===e.pageNumber&&Math.abs(n.top-e.top)<t&&Math.abs(n.height-e.height)<t,AG=(n,e)=>n.pageNumber===e.pageNumber&&n.top>e.top&&n.left>e.left&&n.top+n.height<e.top+e.height&&n.left+n.width<e.left+e.width,kG=(n,e,t=10)=>{const r=n.left+n.width,i=e.left+e.width;return n.pageNumber===e.pageNumber&&n.left<=e.left&&r<=i&&e.left-r<=t},yT=(n,e)=>{n.width=Math.max(e.width-n.left+e.left,n.width)},RG=n=>{const e=EG(n),t=new Set,r=e.filter(s=>e.every(o=>!AG(s,o)));let i=0;for(;i<=2;)r.forEach(s=>{r.forEach(o=>{s===o||t.has(s)||t.has(o)||_G(s,o)&&(CG(s,o)&&(yT(s,o),s.height=Math.max(s.height,o.height),t.add(o)),kG(s,o)&&(yT(s,o),t.add(o)))})}),i+=1;return r.filter(s=>!t.has(s))},TG=(n,e)=>!(n.top<e.top||n.bottom>e.bottom||n.right>e.right||n.left<e.left),PG=(n,e,t=!0)=>{const r=Array.from(n.getClientRects()),i=[];for(const s of r)for(const o of e){const l=o.node.getBoundingClientRect();if(TG(s,l)&&s.width>0&&s.height>0&&s.width<l.width&&s.left>l.left&&s.height<l.height){const u={top:s.top+o.node.scrollTop-l.top,left:s.left+o.node.scrollLeft-l.left,width:s.width,height:s.height,pageNumber:o.number};i.push(u)}}return t?RG(i):i},MG=n=>n.reduce((e,t)=>(t&&[t.position.boundingRect.pageNumber,...t.position.rects.map(i=>i.pageNumber||0)].forEach(i=>{e[i]||(e[i]=[]);const s={...t,position:{...t.position,rects:t.position.rects.filter(o=>i===o.pageNumber)}};e[i].push(s)}),e),{}),s2=n=>(n||{}).ownerDocument||document,b0=n=>(s2(n)||{}).defaultView||window,If=n=>n instanceof HTMLElement||n instanceof b0(n).HTMLElement,IG=n=>n instanceof HTMLCanvasElement||n instanceof b0(n).HTMLCanvasElement,bs=n=>n,hf=n=>{const e=bs(n.closest(".page"));if(!e||!If(e))return null;const t=Number(bs(e).dataset.pageNumber);return{node:e,number:t}},NG=n=>{const e=n.startContainer.parentElement,t=n.endContainer.parentElement;if(!If(e)||!If(t))return[];const r=hf(bs(e)),i=hf(bs(t));if(!(r!=null&&r.number)||!(i!=null&&i.number))return[];if(r.number===i.number)return[r];if(r.number===i.number-1)return[r,i];const s=[];let o=r.number;const l=r.node.ownerDocument;for(;o<=i.number;){const u=hf(l.querySelector(`[data-page-number='${o}'`));u&&s.push(u),o++}return s},LG=(n,e)=>{const t=s2(n);let r=n.querySelector(`.${e}`);return!r&&n.children.length&&(r=t.createElement("div"),r.className=e,n.appendChild(r)),r},o2=O.createContext(void 0),OG=()=>{const n=O.useContext(o2);if(n===void 0)throw new Error("useHighlightContainerContext must be used within a child of PdfHighlighter!");return n},DG=(n,e)=>{const{left:t,top:r,width:i,height:s}=e,o=n?n.ownerDocument:null,l=o&&o.createElement("canvas");if(!l||!IG(l))return"";l.width=i,l.height=s;const u=l.getContext("2d");if(!u||!n)return"";const d=window.devicePixelRatio;return u.drawImage(n,t*d,r*d,i*d,s*d,0,0,i,s),l.toDataURL("image/png")},a2=(n,e,t)=>DG(t.getPageView(e-1).canvas,n),FG="empty-id",zG=({highlightsByPage:n,pageNumber:e,scrolledToHighlightId:t,viewer:r,highlightBindings:i,children:s})=>{const o=n[e]||[];return ut.createElement("div",null,o.map((l,u)=>{const d={...l,id:"id"in l?l.id:FG,position:xG(l.position,r)},h=t===d.id,f={highlight:d,viewportToScaled:g=>{const y=r.getPageView((g.pageNumber||e)-1).viewport;return n2(g,y)},screenshot:g=>a2(g,e,r),isScrolledTo:h,highlightBindings:i};return ut.createElement(o2.Provider,{value:f,key:u},s)}))},vT=(n,e)=>({left:Math.min(e.x,n.x),top:Math.min(e.y,n.y),width:Math.abs(e.x-n.x),height:Math.abs(e.y-n.y)}),bT=(n,e,t)=>{const r=n.getBoundingClientRect();return{x:e-r.left+n.scrollLeft,y:t-r.top+n.scrollTop-window.scrollY}},$G=({viewer:n,onSelection:e,onReset:t,onDragStart:r,enableAreaSelection:i,onChange:s,style:o})=>{const[l,u]=O.useState(null),[d,h]=O.useState(null),[f,g]=O.useState(!1),y=O.useRef(null),v=O.useRef(null),w=()=>{t&&t(),u(null),h(null),g(!1)};return O.useEffect(()=>{if(s&&s(!!(l&&d)),!y.current)return;const E=bs(y.current.parentElement),x=C=>{if(!l||!d||!v.current)return;const k=vT(l,d),I=k.width>=1&&k.height>=1;if(!E.contains(bs(C.target))||!I){w();return}g(!0);const P=hf(v.current);if(!P)return;const M={...k,top:k.top-P.node.offsetTop,left:k.left-P.node.offsetLeft,pageNumber:P.number},N={boundingRect:M,rects:[]},R=r2(N,n),D=a2(M,M.pageNumber,n);e&&e(N,R,D,w,C)},_=C=>{!y.current||!l||f||h(bT(E,C.pageX,C.pageY))},S=C=>{const k=P=>i(P)&&If(P.target)&&!!bs(P.target).closest(".page"),I=P=>l&&!bs(P.target).closest(".PdfHighlighter__tip-container");if(!k(C)){I(C)&&w();return}v.current=bs(C.target),r&&r(C),u(bT(E,C.pageX,C.pageY)),h(null),g(!1)};return E.addEventListener("mousemove",_),E.addEventListener("mousedown",S),document.addEventListener("mouseup",x),()=>{E.removeEventListener("mousemove",_),E.removeEventListener("mousedown",S),document.removeEventListener("mouseup",x)}},[l,d]),ut.createElement("div",{className:"MouseSelection-container",ref:y},l&&d&&ut.createElement("div",{className:"MouseSelection",style:{...vT(l,d),...o}}))},BG=(n,e,t)=>Math.min(Math.max(n,e),t),hx=5,jG=({viewer:n,updateTipPositionRef:e})=>{const[t,r]=O.useState(0),[i,s]=O.useState(0),o=O.useRef(null),l=()=>{if(!o.current)return;const{offsetHeight:N,offsetWidth:R}=o.current;r(N),s(R)};e.current=l,O.useLayoutEffect(()=>{l()},[l]);const{getTip:u}=t2(),d=u();if(!d)return null;const{position:h,content:f}=d,{boundingRect:g}=h,y=g.pageNumber,v=n.getPageView(y-1).div,w=v.getBoundingClientRect(),{left:E,width:x}=w,_=n.container.scrollTop,S=v.offsetLeft+g.left+g.width/2,C=g.top+v.offsetTop,k=C+g.height,P=C-t-hx<_?k+hx:C-t-hx,M=BG(S-i/2,0,E+x-i);return ut.createElement("div",{className:"PdfHighlighter__tip-container",style:{top:P,left:M,height:"max-content",width:"max-content"},ref:o},f)};let l2,c2,u2;(async()=>{const n=await Uh(()=>import("./pdf_viewer-B7ZwkPJS.js"),[]);l2=n.EventBus,c2=n.PDFLinkService,u2=n.PDFViewer})();const HG=10,WG="auto",UG="rgba(153,193,218,255)",VG=n=>LG(n,"PdfHighlighter__highlight-layer"),wT=(n,e)=>{var t;(t=n.viewer)==null||t.classList.toggle("PdfHighlighter--disable-selection",e)},GG=({highlights:n,onScrollAway:e,pdfScaleValue:t=WG,onSelection:r,onCreateGhostHighlight:i,onRemoveGhostHighlight:s,selectionTip:o,enableAreaSelection:l,mouseSelectionStyle:u,pdfDocument:d,children:h,textSelectionColor:f=UG,utilsRef:g,style:y})=>{const[v,w]=O.useState(null),[E,x]=O.useState(!1),_=O.useRef(null),S=O.useRef({}),C=O.useRef(null),k=O.useRef(null),I=O.useRef(null),P=O.useRef(!1),M=O.useRef(!1),N=O.useRef(()=>{}),R=O.useRef(new l2),D=O.useRef(new c2({eventBus:R.current,externalLinkTarget:2})),$=O.useRef(null),G=O.useRef(null);O.useLayoutEffect(()=>{if(!_.current)return;const ne=bG(()=>{G.current=G.current||new u2({container:_.current,eventBus:R.current,textLayerMode:2,removePageBorders:!0,linkService:D.current}),G.current.setDocument(d),D.current.setDocument(d),D.current.setViewer(G.current),x(!0)},100);return ne(),()=>{ne.cancel()}},[document]),O.useLayoutEffect(()=>{if(!_.current)return;$.current=new ResizeObserver(W),$.current.observe(_.current);const ne=_.current.ownerDocument;return R.current.on("textlayerrendered",Q),R.current.on("pagesinit",W),ne.addEventListener("keydown",X),Q(),()=>{var oe;R.current.off("pagesinit",W),R.current.off("textlayerrendered",Q),ne.removeEventListener("keydown",X),(oe=$.current)==null||oe.disconnect()}},[o,n,r]);const L=()=>{e&&e(),I.current=null,Q()},q=()=>{const ne=_.current,oe=b0(ne).getSelection();if(!ne||!oe||oe.isCollapsed||!G.current)return;const ue=oe.rangeCount>0?oe.getRangeAt(0):null;if(!ue||!ne.contains(ue.commonAncestorContainer))return;const he=NG(ue);if(!he||he.length===0)return;const me=PG(ue,he);if(me.length===0)return;const fe={boundingRect:SG(me),rects:me},we=r2(fe,G.current),be={text:oe.toString().split(`
`).join(" ")};k.current={content:be,type:"text",position:we,makeGhostHighlight:()=>(C.current={content:be,type:"text",position:we},i&&i(C.current),ee(),Q(),C.current)},r&&r(k.current),o&&w({position:fe,content:o})},H=ne=>{!If(ne.target)||bs(ne.target).closest(".PdfHighlighter__tip-container")||(w(null),ee(),K(),te(!1))},X=ne=>{ne.code==="Escape"&&(ee(),K(),w(null))},W=()=>{G.current&&(G.current.currentScaleValue=t.toString())},U=(ne,oe)=>{G.current&&ne.reactRoot.render(ut.createElement(JS.Provider,{value:ie},ut.createElement(zG,{highlightsByPage:MG([...n,C.current]),pageNumber:oe,scrolledToHighlightId:I.current,viewer:G.current,highlightBindings:ne,children:h})))},Q=()=>{var ne;if(G.current)for(let oe=1;oe<=d.numPages;oe++){const ue=S.current[oe];if((ne=ue==null?void 0:ue.container)!=null&&ne.isConnected)U(ue,oe);else{const{textLayer:he}=G.current.getPageView(oe-1)||{};if(!he)continue;const me=VG(he.div);if(me){const fe=hM.createRoot(me);S.current[oe]={reactRoot:fe,container:me,textLayer:he.div},U(S.current[oe],oe)}}}},Y=()=>!!k.current||!!C.current||P.current||M.current,te=ne=>{var oe;ne!==void 0?M.current=ne:M.current=!M.current,G.current&&((oe=G.current.viewer)==null||oe.classList.toggle("PdfHighlighter--disable-selection",M.current))},K=()=>{s&&C.current&&s(C.current),C.current=null,Q()},ee=()=>{k.current=null;const ne=_.current,oe=b0(ne).getSelection();!ne||!oe||oe.removeAllRanges()},ie={isEditingOrHighlighting:Y,getCurrentSelection:()=>k.current,getGhostHighlight:()=>C.current,removeGhostHighlight:K,toggleEditInProgress:te,isEditInProgress:()=>M.current,isSelectionInProgress:()=>!!k.current||P.current,scrollToHighlight:ne=>{const{boundingRect:oe,usePdfCoordinates:ue}=ne.position,he=oe.pageNumber;G.current.container.removeEventListener("scroll",L);const me=G.current.getPageView(he-1).viewport;G.current.scrollPageIntoView({pageNumber:he,destArray:[null,{name:"XYZ"},...me.convertToPdfPoint(0,i2(oe,me,ue).top-HG),0]}),I.current=ne.id,Q(),setTimeout(()=>{G.current.container.addEventListener("scroll",L,{once:!0})},100)},getViewer:()=>G.current,getTip:()=>v,setTip:w,updateTipPosition:N.current};return g(ie),ut.createElement(JS.Provider,{value:ie},ut.createElement("div",{ref:_,className:"PdfHighlighter",onPointerDown:H,onPointerUp:q,style:y},ut.createElement("div",{className:"pdfViewer"}),ut.createElement("style",null,`
          .textLayer ::selection {
            background: ${f};
          }
        `),E&&ut.createElement(jG,{viewer:G.current,updateTipPositionRef:N}),E&&l&&ut.createElement($G,{viewer:G.current,onChange:ne=>P.current=ne,enableAreaSelection:l,style:u,onDragStart:()=>wT(G.current,!0),onReset:()=>{k.current=null,wT(G.current,!1)},onSelection:(ne,oe,ue,he)=>{k.current={content:{image:ue},type:"area",position:oe,makeGhostHighlight:()=>(C.current={position:oe,type:"area",content:{image:ue}},i&&i(C.current),he(),Q(),C.current)},r&&r(k.current),o&&w({position:ne,content:o})}})))},qG=({highlight:n,onClick:e,onMouseOver:t,onMouseOut:r,isScrolledTo:i,onContextMenu:s,style:o})=>{const l=i?"TextHighlight--scrolledTo":"",{rects:u}=n.position;return ut.createElement("div",{className:`TextHighlight ${l}`,onContextMenu:s},ut.createElement("div",{className:"TextHighlight__parts"},u.map((d,h)=>ut.createElement("div",{onMouseOver:t,onMouseOut:r,onClick:e,key:h,style:{...d,...o},className:"TextHighlight__part"}))))};var Nh={exports:{}},fx={};function d2(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n))for(e=0;e<n.length;e++)n[e]&&(t=d2(n[e]))&&(r&&(r+=" "),r+=t);else for(e in n)n[e]&&(r&&(r+=" "),r+=e);return r}function xT(){for(var n,e,t=0,r="";t<arguments.length;)(n=arguments[t++])&&(e=d2(n))&&(r&&(r+=" "),r+=e);return r}const YG=Object.freeze(Object.defineProperty({__proto__:null,clsx:xT,default:xT},Symbol.toStringTag,{value:"Module"})),XG=rF(YG);var Kt={},ia={},ST;function kv(){if(ST)return ia;ST=1,Object.defineProperty(ia,"__esModule",{value:!0}),ia.dontSetMe=i,ia.findInArray=n,ia.int=r,ia.isFunction=e,ia.isNum=t;function n(s,o){for(let l=0,u=s.length;l<u;l++)if(o.apply(o,[s[l],l,s]))return s[l]}function e(s){return typeof s=="function"||Object.prototype.toString.call(s)==="[object Function]"}function t(s){return typeof s=="number"&&!isNaN(s)}function r(s){return parseInt(s,10)}function i(s,o,l){if(s[o])return new Error("Invalid prop ".concat(o," passed to ").concat(l," - do not set this, set it on the child."))}return ia}var sa={},ET;function KG(){if(ET)return sa;ET=1,Object.defineProperty(sa,"__esModule",{value:!0}),sa.browserPrefixToKey=t,sa.browserPrefixToStyle=r,sa.default=void 0,sa.getPrefix=e;const n=["Moz","Webkit","O","ms"];function e(){var s;let o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"transform";if(typeof window>"u")return"";const l=(s=window.document)===null||s===void 0||(s=s.documentElement)===null||s===void 0?void 0:s.style;if(!l||o in l)return"";for(let u=0;u<n.length;u++)if(t(o,n[u])in l)return n[u];return""}function t(s,o){return o?"".concat(o).concat(i(s)):s}function r(s,o){return o?"-".concat(o.toLowerCase(),"-").concat(s):s}function i(s){let o="",l=!0;for(let u=0;u<s.length;u++)l?(o+=s[u].toUpperCase(),l=!1):s[u]==="-"?l=!0:o+=s[u];return o}return sa.default=e(),sa}var CT;function aC(){if(CT)return Kt;CT=1,Object.defineProperty(Kt,"__esModule",{value:!0}),Kt.addClassName=k,Kt.addEvent=l,Kt.addUserSelectStyles=S,Kt.createCSSTransform=v,Kt.createSVGTransform=w,Kt.getTouch=x,Kt.getTouchIdentifier=_,Kt.getTranslation=E,Kt.innerHeight=f,Kt.innerWidth=g,Kt.matchesSelector=s,Kt.matchesSelectorAndParentsTo=o,Kt.offsetXYFromParent=y,Kt.outerHeight=d,Kt.outerWidth=h,Kt.removeClassName=I,Kt.removeEvent=u,Kt.removeUserSelectStyles=C;var n=kv(),e=r(KG());function t(P){if(typeof WeakMap!="function")return null;var M=new WeakMap,N=new WeakMap;return(t=function(R){return R?N:M})(P)}function r(P,M){if(P&&P.__esModule)return P;if(P===null||typeof P!="object"&&typeof P!="function")return{default:P};var N=t(M);if(N&&N.has(P))return N.get(P);var R={},D=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var $ in P)if($!=="default"&&Object.prototype.hasOwnProperty.call(P,$)){var G=D?Object.getOwnPropertyDescriptor(P,$):null;G&&(G.get||G.set)?Object.defineProperty(R,$,G):R[$]=P[$]}return R.default=P,N&&N.set(P,R),R}let i="";function s(P,M){return i||(i=(0,n.findInArray)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],function(N){return(0,n.isFunction)(P[N])})),(0,n.isFunction)(P[i])?P[i](M):!1}function o(P,M,N){let R=P;do{if(s(R,M))return!0;if(R===N)return!1;R=R.parentNode}while(R);return!1}function l(P,M,N,R){if(!P)return;const D={capture:!0,...R};P.addEventListener?P.addEventListener(M,N,D):P.attachEvent?P.attachEvent("on"+M,N):P["on"+M]=N}function u(P,M,N,R){if(!P)return;const D={capture:!0,...R};P.removeEventListener?P.removeEventListener(M,N,D):P.detachEvent?P.detachEvent("on"+M,N):P["on"+M]=null}function d(P){let M=P.clientHeight;const N=P.ownerDocument.defaultView.getComputedStyle(P);return M+=(0,n.int)(N.borderTopWidth),M+=(0,n.int)(N.borderBottomWidth),M}function h(P){let M=P.clientWidth;const N=P.ownerDocument.defaultView.getComputedStyle(P);return M+=(0,n.int)(N.borderLeftWidth),M+=(0,n.int)(N.borderRightWidth),M}function f(P){let M=P.clientHeight;const N=P.ownerDocument.defaultView.getComputedStyle(P);return M-=(0,n.int)(N.paddingTop),M-=(0,n.int)(N.paddingBottom),M}function g(P){let M=P.clientWidth;const N=P.ownerDocument.defaultView.getComputedStyle(P);return M-=(0,n.int)(N.paddingLeft),M-=(0,n.int)(N.paddingRight),M}function y(P,M,N){const D=M===M.ownerDocument.body?{left:0,top:0}:M.getBoundingClientRect(),$=(P.clientX+M.scrollLeft-D.left)/N,G=(P.clientY+M.scrollTop-D.top)/N;return{x:$,y:G}}function v(P,M){const N=E(P,M,"px");return{[(0,e.browserPrefixToKey)("transform",e.default)]:N}}function w(P,M){return E(P,M,"")}function E(P,M,N){let{x:R,y:D}=P,$="translate(".concat(R).concat(N,",").concat(D).concat(N,")");if(M){const G="".concat(typeof M.x=="string"?M.x:M.x+N),L="".concat(typeof M.y=="string"?M.y:M.y+N);$="translate(".concat(G,", ").concat(L,")")+$}return $}function x(P,M){return P.targetTouches&&(0,n.findInArray)(P.targetTouches,N=>M===N.identifier)||P.changedTouches&&(0,n.findInArray)(P.changedTouches,N=>M===N.identifier)}function _(P){if(P.targetTouches&&P.targetTouches[0])return P.targetTouches[0].identifier;if(P.changedTouches&&P.changedTouches[0])return P.changedTouches[0].identifier}function S(P){if(!P)return;let M=P.getElementById("react-draggable-style-el");M||(M=P.createElement("style"),M.type="text/css",M.id="react-draggable-style-el",M.innerHTML=`.react-draggable-transparent-selection *::-moz-selection {all: inherit;}
`,M.innerHTML+=`.react-draggable-transparent-selection *::selection {all: inherit;}
`,P.getElementsByTagName("head")[0].appendChild(M)),P.body&&k(P.body,"react-draggable-transparent-selection")}function C(P){if(P)try{if(P.body&&I(P.body,"react-draggable-transparent-selection"),P.selection)P.selection.empty();else{const M=(P.defaultView||window).getSelection();M&&M.type!=="Caret"&&M.removeAllRanges()}}catch{}}function k(P,M){P.classList?P.classList.add(M):P.className.match(new RegExp("(?:^|\\s)".concat(M,"(?!\\S)")))||(P.className+=" ".concat(M))}function I(P,M){P.classList?P.classList.remove(M):P.className=P.className.replace(new RegExp("(?:^|\\s)".concat(M,"(?!\\S)"),"g"),"")}return Kt}var Qi={},_T;function h2(){if(_T)return Qi;_T=1,Object.defineProperty(Qi,"__esModule",{value:!0}),Qi.canDragX=i,Qi.canDragY=s,Qi.createCoreData=l,Qi.createDraggableData=u,Qi.getBoundPosition=t,Qi.getControlPosition=o,Qi.snapToGrid=r;var n=kv(),e=aC();function t(f,g,y){if(!f.props.bounds)return[g,y];let{bounds:v}=f.props;v=typeof v=="string"?v:d(v);const w=h(f);if(typeof v=="string"){const{ownerDocument:E}=w,x=E.defaultView;let _;if(v==="parent"?_=w.parentNode:_=E.querySelector(v),!(_ instanceof x.HTMLElement))throw new Error('Bounds selector "'+v+'" could not find an element.');const S=_,C=x.getComputedStyle(w),k=x.getComputedStyle(S);v={left:-w.offsetLeft+(0,n.int)(k.paddingLeft)+(0,n.int)(C.marginLeft),top:-w.offsetTop+(0,n.int)(k.paddingTop)+(0,n.int)(C.marginTop),right:(0,e.innerWidth)(S)-(0,e.outerWidth)(w)-w.offsetLeft+(0,n.int)(k.paddingRight)-(0,n.int)(C.marginRight),bottom:(0,e.innerHeight)(S)-(0,e.outerHeight)(w)-w.offsetTop+(0,n.int)(k.paddingBottom)-(0,n.int)(C.marginBottom)}}return(0,n.isNum)(v.right)&&(g=Math.min(g,v.right)),(0,n.isNum)(v.bottom)&&(y=Math.min(y,v.bottom)),(0,n.isNum)(v.left)&&(g=Math.max(g,v.left)),(0,n.isNum)(v.top)&&(y=Math.max(y,v.top)),[g,y]}function r(f,g,y){const v=Math.round(g/f[0])*f[0],w=Math.round(y/f[1])*f[1];return[v,w]}function i(f){return f.props.axis==="both"||f.props.axis==="x"}function s(f){return f.props.axis==="both"||f.props.axis==="y"}function o(f,g,y){const v=typeof g=="number"?(0,e.getTouch)(f,g):null;if(typeof g=="number"&&!v)return null;const w=h(y),E=y.props.offsetParent||w.offsetParent||w.ownerDocument.body;return(0,e.offsetXYFromParent)(v||f,E,y.props.scale)}function l(f,g,y){const v=!(0,n.isNum)(f.lastX),w=h(f);return v?{node:w,deltaX:0,deltaY:0,lastX:g,lastY:y,x:g,y}:{node:w,deltaX:g-f.lastX,deltaY:y-f.lastY,lastX:f.lastX,lastY:f.lastY,x:g,y}}function u(f,g){const y=f.props.scale;return{node:g.node,x:f.state.x+g.deltaX/y,y:f.state.y+g.deltaY/y,deltaX:g.deltaX/y,deltaY:g.deltaY/y,lastX:f.state.x,lastY:f.state.y}}function d(f){return{left:f.left,top:f.top,right:f.right,bottom:f.bottom}}function h(f){const g=f.findDOMNode();if(!g)throw new Error("<DraggableCore>: Unmounted during event!");return g}return Qi}var Lh={},dy={},AT;function f2(){if(AT)return dy;AT=1,Object.defineProperty(dy,"__esModule",{value:!0}),dy.default=n;function n(){}return dy}var kT;function QG(){if(kT)return Lh;kT=1,Object.defineProperty(Lh,"__esModule",{value:!0}),Lh.default=void 0;var n=d(Ac()),e=l(fN()),t=l(q0()),r=aC(),i=h2(),s=kv(),o=l(f2());function l(E){return E&&E.__esModule?E:{default:E}}function u(E){if(typeof WeakMap!="function")return null;var x=new WeakMap,_=new WeakMap;return(u=function(S){return S?_:x})(E)}function d(E,x){if(E&&E.__esModule)return E;if(E===null||typeof E!="object"&&typeof E!="function")return{default:E};var _=u(x);if(_&&_.has(E))return _.get(E);var S={},C=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var k in E)if(k!=="default"&&Object.prototype.hasOwnProperty.call(E,k)){var I=C?Object.getOwnPropertyDescriptor(E,k):null;I&&(I.get||I.set)?Object.defineProperty(S,k,I):S[k]=E[k]}return S.default=E,_&&_.set(E,S),S}function h(E,x,_){return x=f(x),x in E?Object.defineProperty(E,x,{value:_,enumerable:!0,configurable:!0,writable:!0}):E[x]=_,E}function f(E){var x=g(E,"string");return typeof x=="symbol"?x:String(x)}function g(E,x){if(typeof E!="object"||E===null)return E;var _=E[Symbol.toPrimitive];if(_!==void 0){var S=_.call(E,x);if(typeof S!="object")return S;throw new TypeError("@@toPrimitive must return a primitive value.")}return(x==="string"?String:Number)(E)}const y={touch:{start:"touchstart",move:"touchmove",stop:"touchend"},mouse:{start:"mousedown",move:"mousemove",stop:"mouseup"}};let v=y.mouse,w=class extends n.Component{constructor(){super(...arguments),h(this,"dragging",!1),h(this,"lastX",NaN),h(this,"lastY",NaN),h(this,"touchIdentifier",null),h(this,"mounted",!1),h(this,"handleDragStart",x=>{if(this.props.onMouseDown(x),!this.props.allowAnyClick&&typeof x.button=="number"&&x.button!==0)return!1;const _=this.findDOMNode();if(!_||!_.ownerDocument||!_.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");const{ownerDocument:S}=_;if(this.props.disabled||!(x.target instanceof S.defaultView.Node)||this.props.handle&&!(0,r.matchesSelectorAndParentsTo)(x.target,this.props.handle,_)||this.props.cancel&&(0,r.matchesSelectorAndParentsTo)(x.target,this.props.cancel,_))return;x.type==="touchstart"&&x.preventDefault();const C=(0,r.getTouchIdentifier)(x);this.touchIdentifier=C;const k=(0,i.getControlPosition)(x,C,this);if(k==null)return;const{x:I,y:P}=k,M=(0,i.createCoreData)(this,I,P);(0,o.default)("DraggableCore: handleDragStart: %j",M),(0,o.default)("calling",this.props.onStart),!(this.props.onStart(x,M)===!1||this.mounted===!1)&&(this.props.enableUserSelectHack&&(0,r.addUserSelectStyles)(S),this.dragging=!0,this.lastX=I,this.lastY=P,(0,r.addEvent)(S,v.move,this.handleDrag),(0,r.addEvent)(S,v.stop,this.handleDragStop))}),h(this,"handleDrag",x=>{const _=(0,i.getControlPosition)(x,this.touchIdentifier,this);if(_==null)return;let{x:S,y:C}=_;if(Array.isArray(this.props.grid)){let P=S-this.lastX,M=C-this.lastY;if([P,M]=(0,i.snapToGrid)(this.props.grid,P,M),!P&&!M)return;S=this.lastX+P,C=this.lastY+M}const k=(0,i.createCoreData)(this,S,C);if((0,o.default)("DraggableCore: handleDrag: %j",k),this.props.onDrag(x,k)===!1||this.mounted===!1){try{this.handleDragStop(new MouseEvent("mouseup"))}catch{const M=document.createEvent("MouseEvents");M.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),this.handleDragStop(M)}return}this.lastX=S,this.lastY=C}),h(this,"handleDragStop",x=>{if(!this.dragging)return;const _=(0,i.getControlPosition)(x,this.touchIdentifier,this);if(_==null)return;let{x:S,y:C}=_;if(Array.isArray(this.props.grid)){let M=S-this.lastX||0,N=C-this.lastY||0;[M,N]=(0,i.snapToGrid)(this.props.grid,M,N),S=this.lastX+M,C=this.lastY+N}const k=(0,i.createCoreData)(this,S,C);if(this.props.onStop(x,k)===!1||this.mounted===!1)return!1;const P=this.findDOMNode();P&&this.props.enableUserSelectHack&&(0,r.removeUserSelectStyles)(P.ownerDocument),(0,o.default)("DraggableCore: handleDragStop: %j",k),this.dragging=!1,this.lastX=NaN,this.lastY=NaN,P&&((0,o.default)("DraggableCore: Removing handlers"),(0,r.removeEvent)(P.ownerDocument,v.move,this.handleDrag),(0,r.removeEvent)(P.ownerDocument,v.stop,this.handleDragStop))}),h(this,"onMouseDown",x=>(v=y.mouse,this.handleDragStart(x))),h(this,"onMouseUp",x=>(v=y.mouse,this.handleDragStop(x))),h(this,"onTouchStart",x=>(v=y.touch,this.handleDragStart(x))),h(this,"onTouchEnd",x=>(v=y.touch,this.handleDragStop(x)))}componentDidMount(){this.mounted=!0;const x=this.findDOMNode();x&&(0,r.addEvent)(x,y.touch.start,this.onTouchStart,{passive:!1})}componentWillUnmount(){this.mounted=!1;const x=this.findDOMNode();if(x){const{ownerDocument:_}=x;(0,r.removeEvent)(_,y.mouse.move,this.handleDrag),(0,r.removeEvent)(_,y.touch.move,this.handleDrag),(0,r.removeEvent)(_,y.mouse.stop,this.handleDragStop),(0,r.removeEvent)(_,y.touch.stop,this.handleDragStop),(0,r.removeEvent)(x,y.touch.start,this.onTouchStart,{passive:!1}),this.props.enableUserSelectHack&&(0,r.removeUserSelectStyles)(_)}}findDOMNode(){var x,_;return(x=this.props)!==null&&x!==void 0&&x.nodeRef?(_=this.props)===null||_===void 0||(_=_.nodeRef)===null||_===void 0?void 0:_.current:t.default.findDOMNode(this)}render(){return n.cloneElement(n.Children.only(this.props.children),{onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}};return Lh.default=w,h(w,"displayName","DraggableCore"),h(w,"propTypes",{allowAnyClick:e.default.bool,children:e.default.node.isRequired,disabled:e.default.bool,enableUserSelectHack:e.default.bool,offsetParent:function(E,x){if(E[x]&&E[x].nodeType!==1)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:e.default.arrayOf(e.default.number),handle:e.default.string,cancel:e.default.string,nodeRef:e.default.object,onStart:e.default.func,onDrag:e.default.func,onStop:e.default.func,onMouseDown:e.default.func,scale:e.default.number,className:s.dontSetMe,style:s.dontSetMe,transform:s.dontSetMe}),h(w,"defaultProps",{allowAnyClick:!1,disabled:!1,enableUserSelectHack:!0,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){},scale:1}),Lh}var RT;function ZG(){return RT||(RT=1,function(n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"DraggableCore",{enumerable:!0,get:function(){return u.default}}),n.default=void 0;var e=g(Ac()),t=h(fN()),r=h(q0()),i=h(XG),s=aC(),o=h2(),l=kv(),u=h(QG()),d=h(f2());function h(_){return _&&_.__esModule?_:{default:_}}function f(_){if(typeof WeakMap!="function")return null;var S=new WeakMap,C=new WeakMap;return(f=function(k){return k?C:S})(_)}function g(_,S){if(_&&_.__esModule)return _;if(_===null||typeof _!="object"&&typeof _!="function")return{default:_};var C=f(S);if(C&&C.has(_))return C.get(_);var k={},I=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var P in _)if(P!=="default"&&Object.prototype.hasOwnProperty.call(_,P)){var M=I?Object.getOwnPropertyDescriptor(_,P):null;M&&(M.get||M.set)?Object.defineProperty(k,P,M):k[P]=_[P]}return k.default=_,C&&C.set(_,k),k}function y(){return y=Object.assign?Object.assign.bind():function(_){for(var S=1;S<arguments.length;S++){var C=arguments[S];for(var k in C)Object.prototype.hasOwnProperty.call(C,k)&&(_[k]=C[k])}return _},y.apply(this,arguments)}function v(_,S,C){return S=w(S),S in _?Object.defineProperty(_,S,{value:C,enumerable:!0,configurable:!0,writable:!0}):_[S]=C,_}function w(_){var S=E(_,"string");return typeof S=="symbol"?S:String(S)}function E(_,S){if(typeof _!="object"||_===null)return _;var C=_[Symbol.toPrimitive];if(C!==void 0){var k=C.call(_,S);if(typeof k!="object")return k;throw new TypeError("@@toPrimitive must return a primitive value.")}return(S==="string"?String:Number)(_)}class x extends e.Component{static getDerivedStateFromProps(S,C){let{position:k}=S,{prevPropsPosition:I}=C;return k&&(!I||k.x!==I.x||k.y!==I.y)?((0,d.default)("Draggable: getDerivedStateFromProps %j",{position:k,prevPropsPosition:I}),{x:k.x,y:k.y,prevPropsPosition:{...k}}):null}constructor(S){super(S),v(this,"onDragStart",(C,k)=>{if((0,d.default)("Draggable: onDragStart: %j",k),this.props.onStart(C,(0,o.createDraggableData)(this,k))===!1)return!1;this.setState({dragging:!0,dragged:!0})}),v(this,"onDrag",(C,k)=>{if(!this.state.dragging)return!1;(0,d.default)("Draggable: onDrag: %j",k);const I=(0,o.createDraggableData)(this,k),P={x:I.x,y:I.y,slackX:0,slackY:0};if(this.props.bounds){const{x:N,y:R}=P;P.x+=this.state.slackX,P.y+=this.state.slackY;const[D,$]=(0,o.getBoundPosition)(this,P.x,P.y);P.x=D,P.y=$,P.slackX=this.state.slackX+(N-P.x),P.slackY=this.state.slackY+(R-P.y),I.x=P.x,I.y=P.y,I.deltaX=P.x-this.state.x,I.deltaY=P.y-this.state.y}if(this.props.onDrag(C,I)===!1)return!1;this.setState(P)}),v(this,"onDragStop",(C,k)=>{if(!this.state.dragging||this.props.onStop(C,(0,o.createDraggableData)(this,k))===!1)return!1;(0,d.default)("Draggable: onDragStop: %j",k);const P={dragging:!1,slackX:0,slackY:0};if(!!this.props.position){const{x:N,y:R}=this.props.position;P.x=N,P.y=R}this.setState(P)}),this.state={dragging:!1,dragged:!1,x:S.position?S.position.x:S.defaultPosition.x,y:S.position?S.position.y:S.defaultPosition.y,prevPropsPosition:{...S.position},slackX:0,slackY:0,isElementSVG:!1},S.position&&!(S.onDrag||S.onStop)&&console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element.")}componentDidMount(){typeof window.SVGElement<"u"&&this.findDOMNode()instanceof window.SVGElement&&this.setState({isElementSVG:!0})}componentWillUnmount(){this.setState({dragging:!1})}findDOMNode(){var S,C;return(S=(C=this.props)===null||C===void 0||(C=C.nodeRef)===null||C===void 0?void 0:C.current)!==null&&S!==void 0?S:r.default.findDOMNode(this)}render(){const{axis:S,bounds:C,children:k,defaultPosition:I,defaultClassName:P,defaultClassNameDragging:M,defaultClassNameDragged:N,position:R,positionOffset:D,scale:$,...G}=this.props;let L={},q=null;const X=!!!R||this.state.dragging,W=R||I,U={x:(0,o.canDragX)(this)&&X?this.state.x:W.x,y:(0,o.canDragY)(this)&&X?this.state.y:W.y};this.state.isElementSVG?q=(0,s.createSVGTransform)(U,D):L=(0,s.createCSSTransform)(U,D);const Q=(0,i.default)(k.props.className||"",P,{[M]:this.state.dragging,[N]:this.state.dragged});return e.createElement(u.default,y({},G,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),e.cloneElement(e.Children.only(k),{className:Q,style:{...k.props.style,...L},transform:q}))}}n.default=x,v(x,"displayName","Draggable"),v(x,"propTypes",{...u.default.propTypes,axis:t.default.oneOf(["both","x","y","none"]),bounds:t.default.oneOfType([t.default.shape({left:t.default.number,right:t.default.number,top:t.default.number,bottom:t.default.number}),t.default.string,t.default.oneOf([!1])]),defaultClassName:t.default.string,defaultClassNameDragging:t.default.string,defaultClassNameDragged:t.default.string,defaultPosition:t.default.shape({x:t.default.number,y:t.default.number}),positionOffset:t.default.shape({x:t.default.oneOfType([t.default.number,t.default.string]),y:t.default.oneOfType([t.default.number,t.default.string])}),position:t.default.shape({x:t.default.number,y:t.default.number}),className:l.dontSetMe,style:l.dontSetMe,transform:l.dontSetMe}),v(x,"defaultProps",{...u.default.defaultProps,axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},scale:1})}(fx)),fx}var TT;function JG(){if(TT)return Nh.exports;TT=1;const{default:n,DraggableCore:e}=ZG();return Nh.exports=n,Nh.exports.default=n,Nh.exports.DraggableCore=e,Nh.exports}var eq=JG();const tq=Dd(eq);var nn=function(){return nn=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},nn.apply(this,arguments)},PT={width:"100%",height:"10px",top:"0px",left:"0px",cursor:"row-resize"},MT={width:"10px",height:"100%",top:"0px",left:"0px",cursor:"col-resize"},hy={width:"20px",height:"20px",position:"absolute",zIndex:1},nq={top:nn(nn({},PT),{top:"-5px"}),right:nn(nn({},MT),{left:void 0,right:"-5px"}),bottom:nn(nn({},PT),{top:void 0,bottom:"-5px"}),left:nn(nn({},MT),{left:"-5px"}),topRight:nn(nn({},hy),{right:"-10px",top:"-10px",cursor:"ne-resize"}),bottomRight:nn(nn({},hy),{right:"-10px",bottom:"-10px",cursor:"se-resize"}),bottomLeft:nn(nn({},hy),{left:"-10px",bottom:"-10px",cursor:"sw-resize"}),topLeft:nn(nn({},hy),{left:"-10px",top:"-10px",cursor:"nw-resize"})},rq=O.memo(function(n){var e=n.onResizeStart,t=n.direction,r=n.children,i=n.replaceStyles,s=n.className,o=O.useCallback(function(d){e(d,t)},[e,t]),l=O.useCallback(function(d){e(d,t)},[e,t]),u=O.useMemo(function(){return nn(nn({position:"absolute",userSelect:"none"},nq[t]),i??{})},[i,t]);return F.jsx("div",{className:s||void 0,style:u,onMouseDown:o,onTouchStart:l,children:r})}),iq=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(r[s]=i[s])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Ji=function(){return Ji=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},Ji.apply(this,arguments)},sq={width:"auto",height:"auto"},fy=function(n,e,t){return Math.max(Math.min(n,t),e)},IT=function(n,e,t){var r=Math.round(n/e);return r*e+t*(r-1)},du=function(n,e){return new RegExp(n,"i").test(e)},py=function(n){return!!(n.touches&&n.touches.length)},oq=function(n){return!!((n.clientX||n.clientX===0)&&(n.clientY||n.clientY===0))},NT=function(n,e,t){t===void 0&&(t=0);var r=e.reduce(function(s,o,l){return Math.abs(o-n)<Math.abs(e[s]-n)?l:s},0),i=Math.abs(e[r]-n);return t===0||i<t?e[r]:n},px=function(n){return n=n.toString(),n==="auto"||n.endsWith("px")||n.endsWith("%")||n.endsWith("vh")||n.endsWith("vw")||n.endsWith("vmax")||n.endsWith("vmin")?n:"".concat(n,"px")},gy=function(n,e,t,r){if(n&&typeof n=="string"){if(n.endsWith("px"))return Number(n.replace("px",""));if(n.endsWith("%")){var i=Number(n.replace("%",""))/100;return e*i}if(n.endsWith("vw")){var i=Number(n.replace("vw",""))/100;return t*i}if(n.endsWith("vh")){var i=Number(n.replace("vh",""))/100;return r*i}}return n},aq=function(n,e,t,r,i,s,o){return r=gy(r,n.width,e,t),i=gy(i,n.height,e,t),s=gy(s,n.width,e,t),o=gy(o,n.height,e,t),{maxWidth:typeof r>"u"?void 0:Number(r),maxHeight:typeof i>"u"?void 0:Number(i),minWidth:typeof s>"u"?void 0:Number(s),minHeight:typeof o>"u"?void 0:Number(o)}},lq=function(n){return Array.isArray(n)?n:[n,n]},cq=["as","ref","style","className","grid","gridGap","snap","bounds","boundsByDirection","size","defaultSize","minWidth","minHeight","maxWidth","maxHeight","lockAspectRatio","lockAspectRatioExtraWidth","lockAspectRatioExtraHeight","enable","handleStyles","handleClasses","handleWrapperStyle","handleWrapperClass","children","onResizeStart","onResize","onResizeStop","handleComponent","scale","resizeRatio","snapGap"],LT="__resizable_base__",uq=function(n){iq(e,n);function e(t){var r,i,s,o,l=n.call(this,t)||this;return l.ratio=1,l.resizable=null,l.parentLeft=0,l.parentTop=0,l.resizableLeft=0,l.resizableRight=0,l.resizableTop=0,l.resizableBottom=0,l.targetLeft=0,l.targetTop=0,l.delta={width:0,height:0},l.appendBase=function(){if(!l.resizable||!l.window)return null;var u=l.parentNode;if(!u)return null;var d=l.window.document.createElement("div");return d.style.width="100%",d.style.height="100%",d.style.position="absolute",d.style.transform="scale(0, 0)",d.style.left="0",d.style.flex="0 0 100%",d.classList?d.classList.add(LT):d.className+=LT,u.appendChild(d),d},l.removeBase=function(u){var d=l.parentNode;d&&d.removeChild(u)},l.state={isResizing:!1,width:(i=(r=l.propsSize)===null||r===void 0?void 0:r.width)!==null&&i!==void 0?i:"auto",height:(o=(s=l.propsSize)===null||s===void 0?void 0:s.height)!==null&&o!==void 0?o:"auto",direction:"right",original:{x:0,y:0,width:0,height:0},backgroundStyle:{height:"100%",width:"100%",backgroundColor:"rgba(0,0,0,0)",cursor:"auto",opacity:0,position:"fixed",zIndex:9999,top:"0",left:"0",bottom:"0",right:"0"},flexBasis:void 0},l.onResizeStart=l.onResizeStart.bind(l),l.onMouseMove=l.onMouseMove.bind(l),l.onMouseUp=l.onMouseUp.bind(l),l}return Object.defineProperty(e.prototype,"parentNode",{get:function(){return this.resizable?this.resizable.parentNode:null},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"window",{get:function(){return!this.resizable||!this.resizable.ownerDocument?null:this.resizable.ownerDocument.defaultView},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"propsSize",{get:function(){return this.props.size||this.props.defaultSize||sq},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){var t=0,r=0;if(this.resizable&&this.window){var i=this.resizable.offsetWidth,s=this.resizable.offsetHeight,o=this.resizable.style.position;o!=="relative"&&(this.resizable.style.position="relative"),t=this.resizable.style.width!=="auto"?this.resizable.offsetWidth:i,r=this.resizable.style.height!=="auto"?this.resizable.offsetHeight:s,this.resizable.style.position=o}return{width:t,height:r}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"sizeStyle",{get:function(){var t=this,r=this.props.size,i=function(l){var u;if(typeof t.state[l]>"u"||t.state[l]==="auto")return"auto";if(t.propsSize&&t.propsSize[l]&&(!((u=t.propsSize[l])===null||u===void 0)&&u.toString().endsWith("%"))){if(t.state[l].toString().endsWith("%"))return t.state[l].toString();var d=t.getParentSize(),h=Number(t.state[l].toString().replace("px","")),f=h/d[l]*100;return"".concat(f,"%")}return px(t.state[l])},s=r&&typeof r.width<"u"&&!this.state.isResizing?px(r.width):i("width"),o=r&&typeof r.height<"u"&&!this.state.isResizing?px(r.height):i("height");return{width:s,height:o}},enumerable:!1,configurable:!0}),e.prototype.getParentSize=function(){if(!this.parentNode)return this.window?{width:this.window.innerWidth,height:this.window.innerHeight}:{width:0,height:0};var t=this.appendBase();if(!t)return{width:0,height:0};var r=!1,i=this.parentNode.style.flexWrap;i!=="wrap"&&(r=!0,this.parentNode.style.flexWrap="wrap"),t.style.position="relative",t.style.minWidth="100%",t.style.minHeight="100%";var s={width:t.offsetWidth,height:t.offsetHeight};return r&&(this.parentNode.style.flexWrap=i),this.removeBase(t),s},e.prototype.bindEvents=function(){this.window&&(this.window.addEventListener("mouseup",this.onMouseUp),this.window.addEventListener("mousemove",this.onMouseMove),this.window.addEventListener("mouseleave",this.onMouseUp),this.window.addEventListener("touchmove",this.onMouseMove,{capture:!0,passive:!1}),this.window.addEventListener("touchend",this.onMouseUp))},e.prototype.unbindEvents=function(){this.window&&(this.window.removeEventListener("mouseup",this.onMouseUp),this.window.removeEventListener("mousemove",this.onMouseMove),this.window.removeEventListener("mouseleave",this.onMouseUp),this.window.removeEventListener("touchmove",this.onMouseMove,!0),this.window.removeEventListener("touchend",this.onMouseUp))},e.prototype.componentDidMount=function(){if(!(!this.resizable||!this.window)){var t=this.window.getComputedStyle(this.resizable);this.setState({width:this.state.width||this.size.width,height:this.state.height||this.size.height,flexBasis:t.flexBasis!=="auto"?t.flexBasis:void 0})}},e.prototype.componentWillUnmount=function(){this.window&&this.unbindEvents()},e.prototype.createSizeForCssProperty=function(t,r){var i=this.propsSize&&this.propsSize[r];return this.state[r]==="auto"&&this.state.original[r]===t&&(typeof i>"u"||i==="auto")?"auto":t},e.prototype.calculateNewMaxFromBoundary=function(t,r){var i=this.props.boundsByDirection,s=this.state.direction,o=i&&du("left",s),l=i&&du("top",s),u,d;if(this.props.bounds==="parent"){var h=this.parentNode;h&&(u=o?this.resizableRight-this.parentLeft:h.offsetWidth+(this.parentLeft-this.resizableLeft),d=l?this.resizableBottom-this.parentTop:h.offsetHeight+(this.parentTop-this.resizableTop))}else this.props.bounds==="window"?this.window&&(u=o?this.resizableRight:this.window.innerWidth-this.resizableLeft,d=l?this.resizableBottom:this.window.innerHeight-this.resizableTop):this.props.bounds&&(u=o?this.resizableRight-this.targetLeft:this.props.bounds.offsetWidth+(this.targetLeft-this.resizableLeft),d=l?this.resizableBottom-this.targetTop:this.props.bounds.offsetHeight+(this.targetTop-this.resizableTop));return u&&Number.isFinite(u)&&(t=t&&t<u?t:u),d&&Number.isFinite(d)&&(r=r&&r<d?r:d),{maxWidth:t,maxHeight:r}},e.prototype.calculateNewSizeFromDirection=function(t,r){var i=this.props.scale||1,s=lq(this.props.resizeRatio||1),o=s[0],l=s[1],u=this.state,d=u.direction,h=u.original,f=this.props,g=f.lockAspectRatio,y=f.lockAspectRatioExtraHeight,v=f.lockAspectRatioExtraWidth,w=h.width,E=h.height,x=y||0,_=v||0;return du("right",d)&&(w=h.width+(t-h.x)*o/i,g&&(E=(w-_)/this.ratio+x)),du("left",d)&&(w=h.width-(t-h.x)*o/i,g&&(E=(w-_)/this.ratio+x)),du("bottom",d)&&(E=h.height+(r-h.y)*l/i,g&&(w=(E-x)*this.ratio+_)),du("top",d)&&(E=h.height-(r-h.y)*l/i,g&&(w=(E-x)*this.ratio+_)),{newWidth:w,newHeight:E}},e.prototype.calculateNewSizeFromAspectRatio=function(t,r,i,s){var o=this.props,l=o.lockAspectRatio,u=o.lockAspectRatioExtraHeight,d=o.lockAspectRatioExtraWidth,h=typeof s.width>"u"?10:s.width,f=typeof i.width>"u"||i.width<0?t:i.width,g=typeof s.height>"u"?10:s.height,y=typeof i.height>"u"||i.height<0?r:i.height,v=u||0,w=d||0;if(l){var E=(g-v)*this.ratio+w,x=(y-v)*this.ratio+w,_=(h-w)/this.ratio+v,S=(f-w)/this.ratio+v,C=Math.max(h,E),k=Math.min(f,x),I=Math.max(g,_),P=Math.min(y,S);t=fy(t,C,k),r=fy(r,I,P)}else t=fy(t,h,f),r=fy(r,g,y);return{newWidth:t,newHeight:r}},e.prototype.setBoundingClientRect=function(){var t=1/(this.props.scale||1);if(this.props.bounds==="parent"){var r=this.parentNode;if(r){var i=r.getBoundingClientRect();this.parentLeft=i.left*t,this.parentTop=i.top*t}}if(this.props.bounds&&typeof this.props.bounds!="string"){var s=this.props.bounds.getBoundingClientRect();this.targetLeft=s.left*t,this.targetTop=s.top*t}if(this.resizable){var o=this.resizable.getBoundingClientRect(),l=o.left,u=o.top,d=o.right,h=o.bottom;this.resizableLeft=l*t,this.resizableRight=d*t,this.resizableTop=u*t,this.resizableBottom=h*t}},e.prototype.onResizeStart=function(t,r){if(!(!this.resizable||!this.window)){var i=0,s=0;if(t.nativeEvent&&oq(t.nativeEvent)?(i=t.nativeEvent.clientX,s=t.nativeEvent.clientY):t.nativeEvent&&py(t.nativeEvent)&&(i=t.nativeEvent.touches[0].clientX,s=t.nativeEvent.touches[0].clientY),this.props.onResizeStart&&this.resizable){var o=this.props.onResizeStart(t,r,this.resizable);if(o===!1)return}this.props.size&&(typeof this.props.size.height<"u"&&this.props.size.height!==this.state.height&&this.setState({height:this.props.size.height}),typeof this.props.size.width<"u"&&this.props.size.width!==this.state.width&&this.setState({width:this.props.size.width})),this.ratio=typeof this.props.lockAspectRatio=="number"?this.props.lockAspectRatio:this.size.width/this.size.height;var l,u=this.window.getComputedStyle(this.resizable);if(u.flexBasis!=="auto"){var d=this.parentNode;if(d){var h=this.window.getComputedStyle(d).flexDirection;this.flexDir=h.startsWith("row")?"row":"column",l=u.flexBasis}}this.setBoundingClientRect(),this.bindEvents();var f={original:{x:i,y:s,width:this.size.width,height:this.size.height},isResizing:!0,backgroundStyle:Ji(Ji({},this.state.backgroundStyle),{cursor:this.window.getComputedStyle(t.target).cursor||"auto"}),direction:r,flexBasis:l};this.setState(f)}},e.prototype.onMouseMove=function(t){var r=this;if(!(!this.state.isResizing||!this.resizable||!this.window)){if(this.window.TouchEvent&&py(t))try{t.preventDefault(),t.stopPropagation()}catch{}var i=this.props,s=i.maxWidth,o=i.maxHeight,l=i.minWidth,u=i.minHeight,d=py(t)?t.touches[0].clientX:t.clientX,h=py(t)?t.touches[0].clientY:t.clientY,f=this.state,g=f.direction,y=f.original,v=f.width,w=f.height,E=this.getParentSize(),x=aq(E,this.window.innerWidth,this.window.innerHeight,s,o,l,u);s=x.maxWidth,o=x.maxHeight,l=x.minWidth,u=x.minHeight;var _=this.calculateNewSizeFromDirection(d,h),S=_.newHeight,C=_.newWidth,k=this.calculateNewMaxFromBoundary(s,o);this.props.snap&&this.props.snap.x&&(C=NT(C,this.props.snap.x,this.props.snapGap)),this.props.snap&&this.props.snap.y&&(S=NT(S,this.props.snap.y,this.props.snapGap));var I=this.calculateNewSizeFromAspectRatio(C,S,{width:k.maxWidth,height:k.maxHeight},{width:l,height:u});if(C=I.newWidth,S=I.newHeight,this.props.grid){var P=IT(C,this.props.grid[0],this.props.gridGap?this.props.gridGap[0]:0),M=IT(S,this.props.grid[1],this.props.gridGap?this.props.gridGap[1]:0),N=this.props.snapGap||0,R=N===0||Math.abs(P-C)<=N?P:C,D=N===0||Math.abs(M-S)<=N?M:S;C=R,S=D}var $={width:C-y.width,height:S-y.height};if(this.delta=$,v&&typeof v=="string"){if(v.endsWith("%")){var G=C/E.width*100;C="".concat(G,"%")}else if(v.endsWith("vw")){var L=C/this.window.innerWidth*100;C="".concat(L,"vw")}else if(v.endsWith("vh")){var q=C/this.window.innerHeight*100;C="".concat(q,"vh")}}if(w&&typeof w=="string"){if(w.endsWith("%")){var G=S/E.height*100;S="".concat(G,"%")}else if(w.endsWith("vw")){var L=S/this.window.innerWidth*100;S="".concat(L,"vw")}else if(w.endsWith("vh")){var q=S/this.window.innerHeight*100;S="".concat(q,"vh")}}var H={width:this.createSizeForCssProperty(C,"width"),height:this.createSizeForCssProperty(S,"height")};this.flexDir==="row"?H.flexBasis=H.width:this.flexDir==="column"&&(H.flexBasis=H.height);var X=this.state.width!==H.width,W=this.state.height!==H.height,U=this.state.flexBasis!==H.flexBasis,Q=X||W||U;Q&&bg.flushSync(function(){r.setState(H)}),this.props.onResize&&Q&&this.props.onResize(t,g,this.resizable,$)}},e.prototype.onMouseUp=function(t){var r,i,s=this.state,o=s.isResizing,l=s.direction;s.original,!(!o||!this.resizable)&&(this.props.onResizeStop&&this.props.onResizeStop(t,l,this.resizable,this.delta),this.props.size&&this.setState({width:(r=this.props.size.width)!==null&&r!==void 0?r:"auto",height:(i=this.props.size.height)!==null&&i!==void 0?i:"auto"}),this.unbindEvents(),this.setState({isResizing:!1,backgroundStyle:Ji(Ji({},this.state.backgroundStyle),{cursor:"auto"})}))},e.prototype.updateSize=function(t){var r,i;this.setState({width:(r=t.width)!==null&&r!==void 0?r:"auto",height:(i=t.height)!==null&&i!==void 0?i:"auto"})},e.prototype.renderResizer=function(){var t=this,r=this.props,i=r.enable,s=r.handleStyles,o=r.handleClasses,l=r.handleWrapperStyle,u=r.handleWrapperClass,d=r.handleComponent;if(!i)return null;var h=Object.keys(i).map(function(f){return i[f]!==!1?F.jsx(rq,{direction:f,onResizeStart:t.onResizeStart,replaceStyles:s&&s[f],className:o&&o[f],children:d&&d[f]?d[f]:null},f):null});return F.jsx("div",{className:u,style:l,children:h})},e.prototype.render=function(){var t=this,r=Object.keys(this.props).reduce(function(o,l){return cq.indexOf(l)!==-1||(o[l]=t.props[l]),o},{}),i=Ji(Ji(Ji({position:"relative",userSelect:this.state.isResizing?"none":"auto"},this.props.style),this.sizeStyle),{maxWidth:this.props.maxWidth,maxHeight:this.props.maxHeight,minWidth:this.props.minWidth,minHeight:this.props.minHeight,boxSizing:"border-box",flexShrink:0});this.state.flexBasis&&(i.flexBasis=this.state.flexBasis);var s=this.props.as||"div";return F.jsxs(s,Ji({style:i,className:this.props.className},r,{ref:function(o){o&&(t.resizable=o)},children:[this.state.isResizing&&F.jsx("div",{style:this.state.backgroundStyle}),this.props.children,this.renderResizer()]}))},e.defaultProps={as:"div",onResizeStart:function(){},onResize:function(){},onResizeStop:function(){},enable:{top:!0,right:!0,bottom:!0,left:!0,topRight:!0,bottomRight:!0,bottomLeft:!0,topLeft:!0},style:{},grid:[1,1],gridGap:[0,0],lockAspectRatio:!1,lockAspectRatioExtraWidth:0,lockAspectRatioExtraHeight:0,scale:1,resizeRatio:1,snapGap:0},e}(O.PureComponent);/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var eE=function(n,e){return eE=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var i in r)r.hasOwnProperty(i)&&(t[i]=r[i])},eE(n,e)};function dq(n,e){eE(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var hn=function(){return hn=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++){t=arguments[r];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},hn.apply(this,arguments)};function hq(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}var fq={width:"auto",height:"auto",display:"inline-block",position:"absolute",top:0,left:0},pq=function(n){return{bottom:n,bottomLeft:n,bottomRight:n,left:n,right:n,top:n,topLeft:n,topRight:n}},gq=function(n){dq(e,n);function e(t){var r=n.call(this,t)||this;return r.resizingPosition={x:0,y:0},r.offsetFromParent={left:0,top:0},r.resizableElement={current:null},r.originalPosition={x:0,y:0},r.state={resizing:!1,bounds:{top:0,right:0,bottom:0,left:0},maxWidth:t.maxWidth,maxHeight:t.maxHeight},r.onResizeStart=r.onResizeStart.bind(r),r.onResize=r.onResize.bind(r),r.onResizeStop=r.onResizeStop.bind(r),r.onDragStart=r.onDragStart.bind(r),r.onDrag=r.onDrag.bind(r),r.onDragStop=r.onDragStop.bind(r),r.getMaxSizesFromProps=r.getMaxSizesFromProps.bind(r),r}return e.prototype.componentDidMount=function(){this.updateOffsetFromParent();var t=this.offsetFromParent,r=t.left,i=t.top,s=this.getDraggablePosition(),o=s.x,l=s.y;this.draggable.setState({x:o-r,y:l-i}),this.forceUpdate()},e.prototype.getDraggablePosition=function(){var t=this.draggable.state,r=t.x,i=t.y;return{x:r,y:i}},e.prototype.getParent=function(){return this.resizable&&this.resizable.parentNode},e.prototype.getParentSize=function(){return this.resizable.getParentSize()},e.prototype.getMaxSizesFromProps=function(){var t=typeof this.props.maxWidth>"u"?Number.MAX_SAFE_INTEGER:this.props.maxWidth,r=typeof this.props.maxHeight>"u"?Number.MAX_SAFE_INTEGER:this.props.maxHeight;return{maxWidth:t,maxHeight:r}},e.prototype.getSelfElement=function(){return this.resizable&&this.resizable.resizable},e.prototype.getOffsetHeight=function(t){var r=this.props.scale;switch(this.props.bounds){case"window":return window.innerHeight/r;case"body":return document.body.offsetHeight/r;default:return t.offsetHeight}},e.prototype.getOffsetWidth=function(t){var r=this.props.scale;switch(this.props.bounds){case"window":return window.innerWidth/r;case"body":return document.body.offsetWidth/r;default:return t.offsetWidth}},e.prototype.onDragStart=function(t,r){this.props.onDragStart&&this.props.onDragStart(t,r);var i=this.getDraggablePosition();if(this.originalPosition=i,!!this.props.bounds){var s=this.getParent(),o=this.props.scale,l;if(this.props.bounds==="parent")l=s;else if(this.props.bounds==="body"){var u=s.getBoundingClientRect(),d=u.left,h=u.top,f=document.body.getBoundingClientRect(),g=-(d-s.offsetLeft*o-f.left)/o,y=-(h-s.offsetTop*o-f.top)/o,v=(document.body.offsetWidth-this.resizable.size.width*o)/o+g,w=(document.body.offsetHeight-this.resizable.size.height*o)/o+y;return this.setState({bounds:{top:y,right:v,bottom:w,left:g}})}else if(this.props.bounds==="window"){if(!this.resizable)return;var E=s.getBoundingClientRect(),x=E.left,_=E.top,S=-(x-s.offsetLeft*o)/o,C=-(_-s.offsetTop*o)/o,v=(window.innerWidth-this.resizable.size.width*o)/o+S,w=(window.innerHeight-this.resizable.size.height*o)/o+C;return this.setState({bounds:{top:C,right:v,bottom:w,left:S}})}else typeof this.props.bounds=="string"?l=document.querySelector(this.props.bounds):this.props.bounds instanceof HTMLElement&&(l=this.props.bounds);if(!(!(l instanceof HTMLElement)||!(s instanceof HTMLElement))){var k=l.getBoundingClientRect(),I=k.left,P=k.top,M=s.getBoundingClientRect(),N=M.left,R=M.top,D=(I-N)/o,$=P-R;if(this.resizable){this.updateOffsetFromParent();var G=this.offsetFromParent;this.setState({bounds:{top:$-G.top,right:D+(l.offsetWidth-this.resizable.size.width)-G.left/o,bottom:$+(l.offsetHeight-this.resizable.size.height)-G.top,left:D-G.left/o}})}}}},e.prototype.onDrag=function(t,r){if(this.props.onDrag){var i=this.offsetFromParent,s=i.left,o=i.top;if(!this.props.dragAxis||this.props.dragAxis==="both")return this.props.onDrag(t,hn(hn({},r),{x:r.x+s,y:r.y+o}));if(this.props.dragAxis==="x")return this.props.onDrag(t,hn(hn({},r),{x:r.x+s,y:this.originalPosition.y+o,deltaY:0}));if(this.props.dragAxis==="y")return this.props.onDrag(t,hn(hn({},r),{x:this.originalPosition.x+s,y:r.y+o,deltaX:0}))}},e.prototype.onDragStop=function(t,r){if(this.props.onDragStop){var i=this.offsetFromParent,s=i.left,o=i.top;if(!this.props.dragAxis||this.props.dragAxis==="both")return this.props.onDragStop(t,hn(hn({},r),{x:r.x+s,y:r.y+o}));if(this.props.dragAxis==="x")return this.props.onDragStop(t,hn(hn({},r),{x:r.x+s,y:this.originalPosition.y+o,deltaY:0}));if(this.props.dragAxis==="y")return this.props.onDragStop(t,hn(hn({},r),{x:this.originalPosition.x+s,y:r.y+o,deltaX:0}))}},e.prototype.onResizeStart=function(t,r,i){t.stopPropagation(),this.setState({resizing:!0});var s=this.props.scale,o=this.offsetFromParent,l=this.getDraggablePosition();if(this.resizingPosition={x:l.x+o.left,y:l.y+o.top},this.originalPosition=l,this.props.bounds){var u=this.getParent(),d=void 0;this.props.bounds==="parent"?d=u:this.props.bounds==="body"?d=document.body:this.props.bounds==="window"?d=window:typeof this.props.bounds=="string"?d=document.querySelector(this.props.bounds):this.props.bounds instanceof HTMLElement&&(d=this.props.bounds);var h=this.getSelfElement();if(h instanceof Element&&(d instanceof HTMLElement||d===window)&&u instanceof HTMLElement){var f=this.getMaxSizesFromProps(),g=f.maxWidth,y=f.maxHeight,v=this.getParentSize();if(g&&typeof g=="string")if(g.endsWith("%")){var w=Number(g.replace("%",""))/100;g=v.width*w}else g.endsWith("px")&&(g=Number(g.replace("px","")));if(y&&typeof y=="string")if(y.endsWith("%")){var w=Number(y.replace("%",""))/100;y=v.height*w}else y.endsWith("px")&&(y=Number(y.replace("px","")));var E=h.getBoundingClientRect(),x=E.left,_=E.top,S=this.props.bounds==="window"?{left:0,top:0}:d.getBoundingClientRect(),C=S.left,k=S.top,I=this.getOffsetWidth(d),P=this.getOffsetHeight(d),M=r.toLowerCase().endsWith("left"),N=r.toLowerCase().endsWith("right"),R=r.startsWith("top"),D=r.startsWith("bottom");if((M||R)&&this.resizable){var $=(x-C)/s+this.resizable.size.width;this.setState({maxWidth:$>Number(g)?g:$})}if(N||this.props.lockAspectRatio&&!M&&!R){var $=I+(C-x)/s;this.setState({maxWidth:$>Number(g)?g:$})}if((R||M)&&this.resizable){var $=(_-k)/s+this.resizable.size.height;this.setState({maxHeight:$>Number(y)?y:$})}if(D||this.props.lockAspectRatio&&!R&&!M){var $=P+(k-_)/s;this.setState({maxHeight:$>Number(y)?y:$})}}}else this.setState({maxWidth:this.props.maxWidth,maxHeight:this.props.maxHeight});this.props.onResizeStart&&this.props.onResizeStart(t,r,i)},e.prototype.onResize=function(t,r,i,s){var o=this,l={x:this.originalPosition.x,y:this.originalPosition.y},u=-s.width,d=-s.height,h=["top","left","topLeft","bottomLeft","topRight"];h.includes(r)&&(r==="bottomLeft"?l.x+=u:(r==="topRight"||(l.x+=u),l.y+=d));var f=this.draggable.state;(l.x!==f.x||l.y!==f.y)&&bg.flushSync(function(){o.draggable.setState(l)}),this.updateOffsetFromParent();var g=this.offsetFromParent,y=this.getDraggablePosition().x+g.left,v=this.getDraggablePosition().y+g.top;this.resizingPosition={x:y,y:v},this.props.onResize&&this.props.onResize(t,r,i,s,{x:y,y:v})},e.prototype.onResizeStop=function(t,r,i,s){this.setState({resizing:!1});var o=this.getMaxSizesFromProps(),l=o.maxWidth,u=o.maxHeight;this.setState({maxWidth:l,maxHeight:u}),this.props.onResizeStop&&this.props.onResizeStop(t,r,i,s,this.resizingPosition)},e.prototype.updateSize=function(t){this.resizable&&this.resizable.updateSize({width:t.width,height:t.height})},e.prototype.updatePosition=function(t){this.draggable.setState(t)},e.prototype.updateOffsetFromParent=function(){var t=this.props.scale,r=this.getParent(),i=this.getSelfElement();if(!r||i===null)return{top:0,left:0};var s=r.getBoundingClientRect(),o=s.left,l=s.top,u=i.getBoundingClientRect(),d=this.getDraggablePosition(),h=r.scrollLeft,f=r.scrollTop;this.offsetFromParent={left:u.left-o+h-d.x*t,top:u.top-l+f-d.y*t}},e.prototype.render=function(){var t=this,r=this.props,i=r.disableDragging,s=r.style,o=r.dragHandleClassName,l=r.position,u=r.onMouseDown,d=r.onMouseUp,h=r.dragAxis,f=r.dragGrid,g=r.bounds,y=r.enableUserSelectHack,v=r.cancel,w=r.children;r.onResizeStart,r.onResize,r.onResizeStop,r.onDragStart,r.onDrag,r.onDragStop;var E=r.resizeHandleStyles,x=r.resizeHandleClasses,_=r.resizeHandleComponent,S=r.enableResizing,C=r.resizeGrid,k=r.resizeHandleWrapperClass,I=r.resizeHandleWrapperStyle,P=r.scale,M=r.allowAnyClick,N=r.dragPositionOffset,R=hq(r,["disableDragging","style","dragHandleClassName","position","onMouseDown","onMouseUp","dragAxis","dragGrid","bounds","enableUserSelectHack","cancel","children","onResizeStart","onResize","onResizeStop","onDragStart","onDrag","onDragStop","resizeHandleStyles","resizeHandleClasses","resizeHandleComponent","enableResizing","resizeGrid","resizeHandleWrapperClass","resizeHandleWrapperStyle","scale","allowAnyClick","dragPositionOffset"]),D=this.props.default?hn({},this.props.default):void 0;delete R.default;var $=i||o?{cursor:"auto"}:{cursor:"move"},G=hn(hn(hn({},fq),$),s),L=this.offsetFromParent,q=L.left,H=L.top,X;l&&(X={x:l.x-q,y:l.y-H});var W=this.state.resizing?void 0:X,U=this.state.resizing?"both":h;return O.createElement(tq,{ref:function(Q){Q&&(t.draggable=Q)},handle:o?".".concat(o):void 0,defaultPosition:D,onMouseDown:u,onMouseUp:d,onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop,axis:U,disabled:i,grid:f,bounds:g?this.state.bounds:void 0,position:W,enableUserSelectHack:y,cancel:v,scale:P,allowAnyClick:M,nodeRef:this.resizableElement,positionOffset:N},O.createElement(uq,hn({},R,{ref:function(Q){Q&&(t.resizable=Q,t.resizableElement.current=Q.resizable)},defaultSize:D,size:this.props.size,enable:typeof S=="boolean"?pq(S):S,onResizeStart:this.onResizeStart,onResize:this.onResize,onResizeStop:this.onResizeStop,style:G,minWidth:this.props.minWidth,minHeight:this.props.minHeight,maxWidth:this.state.resizing?this.state.maxWidth:this.props.maxWidth,maxHeight:this.state.resizing?this.state.maxHeight:this.props.maxHeight,grid:C,handleWrapperClass:k,handleWrapperStyle:I,lockAspectRatio:this.props.lockAspectRatio,lockAspectRatioExtraWidth:this.props.lockAspectRatioExtraWidth,lockAspectRatioExtraHeight:this.props.lockAspectRatioExtraHeight,handleStyles:E,handleClasses:x,handleComponent:_,scale:this.props.scale}),w))},e.defaultProps={maxWidth:Number.MAX_SAFE_INTEGER,maxHeight:Number.MAX_SAFE_INTEGER,scale:1,onResizeStart:function(){},onResize:function(){},onResizeStop:function(){},onDragStart:function(){},onDrag:function(){},onDragStop:function(){}},e}(O.PureComponent);const mq=({highlight:n,onChange:e,isScrolledTo:t,bounds:r,onContextMenu:i,onEditStart:s,style:o})=>{const l=t?"AreaHighlight--scrolledTo":"",u=`${n.position.boundingRect.width}${n.position.boundingRect.height}${n.position.boundingRect.left}${n.position.boundingRect.top}`;return ut.createElement("div",{className:`AreaHighlight ${l}`,onContextMenu:i},ut.createElement(gq,{className:"AreaHighlight__part",onDragStop:(d,h)=>{const f={...n.position.boundingRect,top:h.y,left:h.x};e&&e(f)},onResizeStop:(d,h,f,g,y)=>{var w;const v={top:y.y,left:y.x,width:f.offsetWidth,height:f.offsetHeight,pageNumber:((w=hf(f))==null?void 0:w.number)||-1};e&&e(v)},onDragStart:s,onResizeStart:s,default:{x:n.position.boundingRect.left,y:n.position.boundingRect.top,width:n.position.boundingRect.width,height:n.position.boundingRect.height},key:u,bounds:r,onClick:d=>{d.stopPropagation(),d.preventDefault()},style:o}))};var ff={};ff.d=(n,e)=>{for(var t in e)ff.o(e,t)&&!ff.o(n,t)&&Object.defineProperty(n,t,{enumerable:!0,get:e[t]})};ff.o=(n,e)=>Object.prototype.hasOwnProperty.call(n,e);var He=globalThis.pdfjsLib={};ff.d(He,{AbortException:()=>Tc,AnnotationEditorLayer:()=>u1,AnnotationEditorParamsType:()=>We,AnnotationEditorType:()=>Ke,AnnotationEditorUIManager:()=>xc,AnnotationLayer:()=>pX,AnnotationMode:()=>ha,CMapCompressionType:()=>nE,ColorPicker:()=>_0,DOMSVGFactory:()=>uC,DrawLayer:()=>p1,FeatureTest:()=>wr,GlobalWorkerOptions:()=>wo,ImageKind:()=>Ty,InvalidPDFException:()=>g2,MissingPDFException:()=>Rc,OPS:()=>wi,Outliner:()=>VE,PDFDataRangeTransport:()=>uL,PDFDateString:()=>S2,PDFWorker:()=>Tu,PasswordResponses:()=>wq,PermissionFlag:()=>bq,PixelsPerInch:()=>Ba,RenderingCancelledException:()=>dC,TextLayer:()=>Od,UnexpectedResponseException:()=>Mv,Util:()=>Ie,VerbosityLevel:()=>Rv,XfaLayer:()=>hL,build:()=>YY,createValidAbsoluteUrl:()=>Cq,fetchData:()=>Dv,getDocument:()=>$Y,getFilenameFromUrl:()=>Lq,getPdfFilenameFromUrl:()=>Oq,getXfaPageViewport:()=>Dq,isDataScheme:()=>hC,isPdfFile:()=>fC,noContextMenu:()=>Sr,normalizeUnicode:()=>Pq,renderTextLayer:()=>PY,setLayerDimensions:()=>wc,shadow:()=>Je,updateTextLayer:()=>MY,version:()=>qY});const qn=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),p2=[1,0,0,1,0,0],tE=[.001,0,0,.001,0,0],yq=1e7,gx=1.35,ai={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256},ha={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},vq="pdfjs_internal_editor_",Ke={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15},We={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_DEFAULT_COLOR:32,HIGHLIGHT_THICKNESS:33,HIGHLIGHT_FREE:34,HIGHLIGHT_SHOW_ALL:35},bq={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},Bn={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},Ty={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},dn={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,WIDGET:20},Oh={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},Rv={ERRORS:0,WARNINGS:1,INFOS:5},nE={NONE:0,BINARY:1},wi={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91},wq={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let Tv=Rv.WARNINGS;function xq(n){Number.isInteger(n)&&(Tv=n)}function Sq(){return Tv}function Pv(n){Tv>=Rv.INFOS&&console.log(`Info: ${n}`)}function Ve(n){Tv>=Rv.WARNINGS&&console.log(`Warning: ${n}`)}function bt(n){throw new Error(n)}function yn(n,e){n||bt(e)}function Eq(n){switch(n==null?void 0:n.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function Cq(n,e=null,t=null){if(!n)return null;try{if(t&&typeof n=="string"){if(t.addDefaultProtocol&&n.startsWith("www.")){const i=n.match(/\./g);(i==null?void 0:i.length)>=2&&(n=`http://${n}`)}if(t.tryConvertEncoding)try{n=Tq(n)}catch{}}const r=e?new URL(n,e):new URL(n);if(Eq(r))return r}catch{}return null}function Je(n,e,t,r=!1){return Object.defineProperty(n,e,{value:t,enumerable:!r,configurable:!0,writable:!1}),t}const Ua=function(){function e(t,r){this.constructor===e&&bt("Cannot initialize BaseException."),this.message=t,this.name=r}return e.prototype=new Error,e.constructor=e,e}();class rE extends Ua{constructor(e,t){super(e,"PasswordException"),this.code=t}}class iE extends Ua{constructor(e,t){super(e,"UnknownErrorException"),this.details=t}}class g2 extends Ua{constructor(e){super(e,"InvalidPDFException")}}class Rc extends Ua{constructor(e){super(e,"MissingPDFException")}}class Mv extends Ua{constructor(e,t){super(e,"UnexpectedResponseException"),this.status=t}}class _q extends Ua{constructor(e){super(e,"FormatError")}}class Tc extends Ua{constructor(e){super(e,"AbortException")}}function m2(n){(typeof n!="object"||(n==null?void 0:n.length)===void 0)&&bt("Invalid argument for bytesToString");const e=n.length,t=8192;if(e<t)return String.fromCharCode.apply(null,n);const r=[];for(let i=0;i<e;i+=t){const s=Math.min(i+t,e),o=n.subarray(i,s);r.push(String.fromCharCode.apply(null,o))}return r.join("")}function Iv(n){typeof n!="string"&&bt("Invalid argument for stringToBytes");const e=n.length,t=new Uint8Array(e);for(let r=0;r<e;++r)t[r]=n.charCodeAt(r)&255;return t}function Aq(n){return String.fromCharCode(n>>24&255,n>>16&255,n>>8&255,n&255)}function lC(n){const e=Object.create(null);for(const[t,r]of n)e[t]=r;return e}function kq(){const n=new Uint8Array(4);return n[0]=1,new Uint32Array(n.buffer,0,1)[0]===1}function Rq(){try{return new Function(""),!0}catch{return!1}}class wr{static get isLittleEndian(){return Je(this,"isLittleEndian",kq())}static get isEvalSupported(){return Je(this,"isEvalSupported",Rq())}static get isOffscreenCanvasSupported(){return Je(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.platform)=="string"?Je(this,"platform",{isMac:navigator.platform.includes("Mac")}):Je(this,"platform",{isMac:!1})}static get isCSSRoundSupported(){var e,t;return Je(this,"isCSSRoundSupported",(t=(e=globalThis.CSS)==null?void 0:e.supports)==null?void 0:t.call(e,"width: round(1.5px, 1px)"))}}const mx=Array.from(Array(256).keys(),n=>n.toString(16).padStart(2,"0"));var So,Py,sE;class Ie{static makeHexColor(e,t,r){return`#${mx[e]}${mx[t]}${mx[r]}`}static scaleMinMax(e,t){let r;e[0]?(e[0]<0&&(r=t[0],t[0]=t[2],t[2]=r),t[0]*=e[0],t[2]*=e[0],e[3]<0&&(r=t[1],t[1]=t[3],t[3]=r),t[1]*=e[3],t[3]*=e[3]):(r=t[0],t[0]=t[1],t[1]=r,r=t[2],t[2]=t[3],t[3]=r,e[1]<0&&(r=t[1],t[1]=t[3],t[3]=r),t[1]*=e[1],t[3]*=e[1],e[2]<0&&(r=t[0],t[0]=t[2],t[2]=r),t[0]*=e[2],t[2]*=e[2]),t[0]+=e[4],t[1]+=e[5],t[2]+=e[4],t[3]+=e[5]}static transform(e,t){return[e[0]*t[0]+e[2]*t[1],e[1]*t[0]+e[3]*t[1],e[0]*t[2]+e[2]*t[3],e[1]*t[2]+e[3]*t[3],e[0]*t[4]+e[2]*t[5]+e[4],e[1]*t[4]+e[3]*t[5]+e[5]]}static applyTransform(e,t){const r=e[0]*t[0]+e[1]*t[2]+t[4],i=e[0]*t[1]+e[1]*t[3]+t[5];return[r,i]}static applyInverseTransform(e,t){const r=t[0]*t[3]-t[1]*t[2],i=(e[0]*t[3]-e[1]*t[2]+t[2]*t[5]-t[4]*t[3])/r,s=(-e[0]*t[1]+e[1]*t[0]+t[4]*t[1]-t[5]*t[0])/r;return[i,s]}static getAxialAlignedBoundingBox(e,t){const r=this.applyTransform(e,t),i=this.applyTransform(e.slice(2,4),t),s=this.applyTransform([e[0],e[3]],t),o=this.applyTransform([e[2],e[1]],t);return[Math.min(r[0],i[0],s[0],o[0]),Math.min(r[1],i[1],s[1],o[1]),Math.max(r[0],i[0],s[0],o[0]),Math.max(r[1],i[1],s[1],o[1])]}static inverseTransform(e){const t=e[0]*e[3]-e[1]*e[2];return[e[3]/t,-e[1]/t,-e[2]/t,e[0]/t,(e[2]*e[5]-e[4]*e[3])/t,(e[4]*e[1]-e[5]*e[0])/t]}static singularValueDecompose2dScale(e){const t=[e[0],e[2],e[1],e[3]],r=e[0]*t[0]+e[1]*t[2],i=e[0]*t[1]+e[1]*t[3],s=e[2]*t[0]+e[3]*t[2],o=e[2]*t[1]+e[3]*t[3],l=(r+o)/2,u=Math.sqrt((r+o)**2-4*(r*o-s*i))/2,d=l+u||1,h=l-u||1;return[Math.sqrt(d),Math.sqrt(h)]}static normalizeRect(e){const t=e.slice(0);return e[0]>e[2]&&(t[0]=e[2],t[2]=e[0]),e[1]>e[3]&&(t[1]=e[3],t[3]=e[1]),t}static intersect(e,t){const r=Math.max(Math.min(e[0],e[2]),Math.min(t[0],t[2])),i=Math.min(Math.max(e[0],e[2]),Math.max(t[0],t[2]));if(r>i)return null;const s=Math.max(Math.min(e[1],e[3]),Math.min(t[1],t[3])),o=Math.min(Math.max(e[1],e[3]),Math.max(t[1],t[3]));return s>o?null:[r,s,i,o]}static bezierBoundingBox(e,t,r,i,s,o,l,u,d){return d?(d[0]=Math.min(d[0],e,l),d[1]=Math.min(d[1],t,u),d[2]=Math.max(d[2],e,l),d[3]=Math.max(d[3],t,u)):d=[Math.min(e,l),Math.min(t,u),Math.max(e,l),Math.max(t,u)],j(this,So,sE).call(this,e,r,s,l,t,i,o,u,3*(-e+3*(r-s)+l),6*(e-2*r+s),3*(r-e),d),j(this,So,sE).call(this,e,r,s,l,t,i,o,u,3*(-t+3*(i-o)+u),6*(t-2*i+o),3*(i-t),d),d}}So=new WeakSet,Py=function(e,t,r,i,s,o,l,u,d,h){if(d<=0||d>=1)return;const f=1-d,g=d*d,y=g*d,v=f*(f*(f*e+3*d*t)+3*g*r)+y*i,w=f*(f*(f*s+3*d*o)+3*g*l)+y*u;h[0]=Math.min(h[0],v),h[1]=Math.min(h[1],w),h[2]=Math.max(h[2],v),h[3]=Math.max(h[3],w)},sE=function(e,t,r,i,s,o,l,u,d,h,f,g){if(Math.abs(d)<1e-12){Math.abs(h)>=1e-12&&j(this,So,Py).call(this,e,t,r,i,s,o,l,u,-f/h,g);return}const y=h**2-4*f*d;if(y<0)return;const v=Math.sqrt(y),w=2*d;j(this,So,Py).call(this,e,t,r,i,s,o,l,u,(-h+v)/w,g),j(this,So,Py).call(this,e,t,r,i,s,o,l,u,(-h-v)/w,g)},V(Ie,So);function Tq(n){return decodeURIComponent(escape(n))}let yx=null,OT=null;function Pq(n){return yx||(yx=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,OT=new Map([["ﬅ","ſt"]])),n.replaceAll(yx,(e,t,r)=>t?t.normalize("NFKC"):OT.get(r))}function Mq(){if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.randomUUID)=="function")return crypto.randomUUID();const n=new Uint8Array(32);if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.getRandomValues)=="function")crypto.getRandomValues(n);else for(let e=0;e<32;e++)n[e]=Math.floor(Math.random()*255);return m2(n)}const y2="pdfjs_internal_id_",Bs={BEZIER_CURVE_TO:0,MOVE_TO:1,LINE_TO:2,QUADRATIC_CURVE_TO:3,RESTORE:4,SAVE:5,SCALE:6,TRANSFORM:7,TRANSLATE:8};class Nv{constructor(){this.constructor===Nv&&bt("Cannot initialize BaseFilterFactory.")}addFilter(e){return"none"}addHCMFilter(e,t){return"none"}addAlphaFilter(e){return"none"}addLuminosityFilter(e){return"none"}addHighlightHCMFilter(e,t,r,i,s){return"none"}destroy(e=!1){}}var Df;const wC=class wC{constructor({enableHWA:e=!1}={}){V(this,Df,!1);this.constructor===wC&&bt("Cannot initialize BaseCanvasFactory."),B(this,Df,e)}create(e,t){if(e<=0||t<=0)throw new Error("Invalid canvas size");const r=this._createCanvas(e,t);return{canvas:r,context:r.getContext("2d",{willReadFrequently:!m(this,Df)})}}reset(e,t,r){if(!e.canvas)throw new Error("Canvas is not specified");if(t<=0||r<=0)throw new Error("Invalid canvas size");e.canvas.width=t,e.canvas.height=r}destroy(e){if(!e.canvas)throw new Error("Canvas is not specified");e.canvas.width=0,e.canvas.height=0,e.canvas=null,e.context=null}_createCanvas(e,t){bt("Abstract method `_createCanvas` called.")}};Df=new WeakMap;let w0=wC;class Lv{constructor({baseUrl:e=null,isCompressed:t=!0}){this.constructor===Lv&&bt("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=e,this.isCompressed=t}async fetch({name:e}){if(!this.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!e)throw new Error("CMap name must be specified.");const t=this.baseUrl+e+(this.isCompressed?".bcmap":""),r=this.isCompressed?nE.BINARY:nE.NONE;return this._fetchData(t,r).catch(i=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${t}`)})}_fetchData(e,t){bt("Abstract method `_fetchData` called.")}}class Ov{constructor({baseUrl:e=null}){this.constructor===Ov&&bt("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!e)throw new Error("Font filename must be specified.");const t=`${this.baseUrl}${e}`;return this._fetchData(t).catch(r=>{throw new Error(`Unable to load font data at: ${t}`)})}_fetchData(e){bt("Abstract method `_fetchData` called.")}}class cC{constructor(){this.constructor===cC&&bt("Cannot initialize BaseSVGFactory.")}create(e,t,r=!1){if(e<=0||t<=0)throw new Error("Invalid SVG dimensions");const i=this._createSVG("svg:svg");return i.setAttribute("version","1.1"),r||(i.setAttribute("width",`${e}px`),i.setAttribute("height",`${t}px`)),i.setAttribute("preserveAspectRatio","none"),i.setAttribute("viewBox",`0 0 ${e} ${t}`),i}createElement(e){if(typeof e!="string")throw new Error("Invalid SVG element type");return this._createSVG(e)}_createSVG(e){bt("Abstract method `_createSVG` called.")}}const Hs="http://www.w3.org/2000/svg",ml=class ml{};_e(ml,"CSS",96),_e(ml,"PDF",72),_e(ml,"PDF_TO_CSS_UNITS",ml.CSS/ml.PDF);let Ba=ml;var wl,es,qs,mr,R0,xl,Re,jn,pu,gu,My,v2,oE,mu,Vh,Gh,aE,qh;class Iq extends Nv{constructor({docId:t,ownerDocument:r=globalThis.document}={}){super();V(this,Re);V(this,wl);V(this,es);V(this,qs);V(this,mr);V(this,R0);V(this,xl,0);B(this,qs,t),B(this,mr,r)}addFilter(t){if(!t)return"none";let r=m(this,Re,jn).get(t);if(r)return r;const[i,s,o]=j(this,Re,My).call(this,t),l=t.length===1?i:`${i}${s}${o}`;if(r=m(this,Re,jn).get(l),r)return m(this,Re,jn).set(t,r),r;const u=`g_${m(this,qs)}_transfer_map_${Ir(this,xl)._++}`,d=`url(#${u})`;m(this,Re,jn).set(t,d),m(this,Re,jn).set(l,d);const h=j(this,Re,mu).call(this,u);return j(this,Re,Gh).call(this,i,s,o,h),d}addHCMFilter(t,r){var v;const i=`${t}-${r}`,s="base";let o=m(this,Re,pu).get(s);if((o==null?void 0:o.key)===i||(o?((v=o.filter)==null||v.remove(),o.key=i,o.url="none",o.filter=null):(o={key:i,url:"none",filter:null},m(this,Re,pu).set(s,o)),!t||!r))return o.url;const l=j(this,Re,qh).call(this,t);t=Ie.makeHexColor(...l);const u=j(this,Re,qh).call(this,r);if(r=Ie.makeHexColor(...u),m(this,Re,gu).style.color="",t==="#000000"&&r==="#ffffff"||t===r)return o.url;const d=new Array(256);for(let w=0;w<=255;w++){const E=w/255;d[w]=E<=.03928?E/12.92:((E+.055)/1.055)**2.4}const h=d.join(","),f=`g_${m(this,qs)}_hcm_filter`,g=o.filter=j(this,Re,mu).call(this,f);j(this,Re,Gh).call(this,h,h,h,g),j(this,Re,oE).call(this,g);const y=(w,E)=>{const x=l[w]/255,_=u[w]/255,S=new Array(E+1);for(let C=0;C<=E;C++)S[C]=x+C/E*(_-x);return S.join(",")};return j(this,Re,Gh).call(this,y(0,5),y(1,5),y(2,5),g),o.url=`url(#${f})`,o.url}addAlphaFilter(t){let r=m(this,Re,jn).get(t);if(r)return r;const[i]=j(this,Re,My).call(this,[t]),s=`alpha_${i}`;if(r=m(this,Re,jn).get(s),r)return m(this,Re,jn).set(t,r),r;const o=`g_${m(this,qs)}_alpha_map_${Ir(this,xl)._++}`,l=`url(#${o})`;m(this,Re,jn).set(t,l),m(this,Re,jn).set(s,l);const u=j(this,Re,mu).call(this,o);return j(this,Re,aE).call(this,i,u),l}addLuminosityFilter(t){let r=m(this,Re,jn).get(t||"luminosity");if(r)return r;let i,s;if(t?([i]=j(this,Re,My).call(this,[t]),s=`luminosity_${i}`):s="luminosity",r=m(this,Re,jn).get(s),r)return m(this,Re,jn).set(t,r),r;const o=`g_${m(this,qs)}_luminosity_map_${Ir(this,xl)._++}`,l=`url(#${o})`;m(this,Re,jn).set(t,l),m(this,Re,jn).set(s,l);const u=j(this,Re,mu).call(this,o);return j(this,Re,v2).call(this,u),t&&j(this,Re,aE).call(this,i,u),l}addHighlightHCMFilter(t,r,i,s,o){var _;const l=`${r}-${i}-${s}-${o}`;let u=m(this,Re,pu).get(t);if((u==null?void 0:u.key)===l||(u?((_=u.filter)==null||_.remove(),u.key=l,u.url="none",u.filter=null):(u={key:l,url:"none",filter:null},m(this,Re,pu).set(t,u)),!r||!i))return u.url;const[d,h]=[r,i].map(j(this,Re,qh).bind(this));let f=Math.round(.2126*d[0]+.7152*d[1]+.0722*d[2]),g=Math.round(.2126*h[0]+.7152*h[1]+.0722*h[2]),[y,v]=[s,o].map(j(this,Re,qh).bind(this));g<f&&([f,g,y,v]=[g,f,v,y]),m(this,Re,gu).style.color="";const w=(S,C,k)=>{const I=new Array(256),P=(g-f)/k,M=S/255,N=(C-S)/(255*k);let R=0;for(let D=0;D<=k;D++){const $=Math.round(f+D*P),G=M+D*N;for(let L=R;L<=$;L++)I[L]=G;R=$+1}for(let D=R;D<256;D++)I[D]=I[R-1];return I.join(",")},E=`g_${m(this,qs)}_hcm_${t}_filter`,x=u.filter=j(this,Re,mu).call(this,E);return j(this,Re,oE).call(this,x),j(this,Re,Gh).call(this,w(y[0],v[0],5),w(y[1],v[1],5),w(y[2],v[2],5),x),u.url=`url(#${E})`,u.url}destroy(t=!1){t&&m(this,Re,pu).size!==0||(m(this,es)&&(m(this,es).parentNode.parentNode.remove(),B(this,es,null)),m(this,wl)&&(m(this,wl).clear(),B(this,wl,null)),B(this,xl,0))}}wl=new WeakMap,es=new WeakMap,qs=new WeakMap,mr=new WeakMap,R0=new WeakMap,xl=new WeakMap,Re=new WeakSet,jn=function(){return m(this,wl)||B(this,wl,new Map)},pu=function(){return m(this,R0)||B(this,R0,new Map)},gu=function(){if(!m(this,es)){const t=m(this,mr).createElement("div"),{style:r}=t;r.visibility="hidden",r.contain="strict",r.width=r.height=0,r.position="absolute",r.top=r.left=0,r.zIndex=-1;const i=m(this,mr).createElementNS(Hs,"svg");i.setAttribute("width",0),i.setAttribute("height",0),B(this,es,m(this,mr).createElementNS(Hs,"defs")),t.append(i),i.append(m(this,es)),m(this,mr).body.append(t)}return m(this,es)},My=function(t){if(t.length===1){const d=t[0],h=new Array(256);for(let g=0;g<256;g++)h[g]=d[g]/255;const f=h.join(",");return[f,f,f]}const[r,i,s]=t,o=new Array(256),l=new Array(256),u=new Array(256);for(let d=0;d<256;d++)o[d]=r[d]/255,l[d]=i[d]/255,u[d]=s[d]/255;return[o.join(","),l.join(","),u.join(",")]},v2=function(t){const r=m(this,mr).createElementNS(Hs,"feColorMatrix");r.setAttribute("type","matrix"),r.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),t.append(r)},oE=function(t){const r=m(this,mr).createElementNS(Hs,"feColorMatrix");r.setAttribute("type","matrix"),r.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),t.append(r)},mu=function(t){const r=m(this,mr).createElementNS(Hs,"filter");return r.setAttribute("color-interpolation-filters","sRGB"),r.setAttribute("id",t),m(this,Re,gu).append(r),r},Vh=function(t,r,i){const s=m(this,mr).createElementNS(Hs,r);s.setAttribute("type","discrete"),s.setAttribute("tableValues",i),t.append(s)},Gh=function(t,r,i,s){const o=m(this,mr).createElementNS(Hs,"feComponentTransfer");s.append(o),j(this,Re,Vh).call(this,o,"feFuncR",t),j(this,Re,Vh).call(this,o,"feFuncG",r),j(this,Re,Vh).call(this,o,"feFuncB",i)},aE=function(t,r){const i=m(this,mr).createElementNS(Hs,"feComponentTransfer");r.append(i),j(this,Re,Vh).call(this,i,"feFuncA",t)},qh=function(t){return m(this,Re,gu).style.color=t,pC(getComputedStyle(m(this,Re,gu)).getPropertyValue("color"))};class Nq extends w0{constructor({ownerDocument:e=globalThis.document,enableHWA:t=!1}={}){super({enableHWA:t}),this._document=e}_createCanvas(e,t){const r=this._document.createElement("canvas");return r.width=e,r.height=t,r}}async function Dv(n,e="text"){if(Yh(n,document.baseURI)){const t=await fetch(n);if(!t.ok)throw new Error(t.statusText);switch(e){case"arraybuffer":return t.arrayBuffer();case"blob":return t.blob();case"json":return t.json()}return t.text()}return new Promise((t,r)=>{const i=new XMLHttpRequest;i.open("GET",n,!0),i.responseType=e,i.onreadystatechange=()=>{if(i.readyState===XMLHttpRequest.DONE){if(i.status===200||i.status===0){switch(e){case"arraybuffer":case"blob":case"json":t(i.response);return}t(i.responseText);return}r(new Error(i.statusText))}},i.send(null)})}class b2 extends Lv{_fetchData(e,t){return Dv(e,this.isCompressed?"arraybuffer":"text").then(r=>({cMapData:r instanceof ArrayBuffer?new Uint8Array(r):Iv(r),compressionType:t}))}}class w2 extends Ov{_fetchData(e){return Dv(e,"arraybuffer").then(t=>new Uint8Array(t))}}class uC extends cC{_createSVG(e){return document.createElementNS(Hs,e)}}class Tg{constructor({viewBox:e,scale:t,rotation:r,offsetX:i=0,offsetY:s=0,dontFlip:o=!1}){this.viewBox=e,this.scale=t,this.rotation=r,this.offsetX=i,this.offsetY=s;const l=(e[2]+e[0])/2,u=(e[3]+e[1])/2;let d,h,f,g;switch(r%=360,r<0&&(r+=360),r){case 180:d=-1,h=0,f=0,g=1;break;case 90:d=0,h=1,f=1,g=0;break;case 270:d=0,h=-1,f=-1,g=0;break;case 0:d=1,h=0,f=0,g=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}o&&(f=-f,g=-g);let y,v,w,E;d===0?(y=Math.abs(u-e[1])*t+i,v=Math.abs(l-e[0])*t+s,w=(e[3]-e[1])*t,E=(e[2]-e[0])*t):(y=Math.abs(l-e[0])*t+i,v=Math.abs(u-e[1])*t+s,w=(e[2]-e[0])*t,E=(e[3]-e[1])*t),this.transform=[d*t,h*t,f*t,g*t,y-d*t*l-f*t*u,v-h*t*l-g*t*u],this.width=w,this.height=E}get rawDims(){const{viewBox:e}=this;return Je(this,"rawDims",{pageWidth:e[2]-e[0],pageHeight:e[3]-e[1],pageX:e[0],pageY:e[1]})}clone({scale:e=this.scale,rotation:t=this.rotation,offsetX:r=this.offsetX,offsetY:i=this.offsetY,dontFlip:s=!1}={}){return new Tg({viewBox:this.viewBox.slice(),scale:e,rotation:t,offsetX:r,offsetY:i,dontFlip:s})}convertToViewportPoint(e,t){return Ie.applyTransform([e,t],this.transform)}convertToViewportRectangle(e){const t=Ie.applyTransform([e[0],e[1]],this.transform),r=Ie.applyTransform([e[2],e[3]],this.transform);return[t[0],t[1],r[0],r[1]]}convertToPdfPoint(e,t){return Ie.applyInverseTransform([e,t],this.transform)}}class dC extends Ua{constructor(e,t=0){super(e,"RenderingCancelledException"),this.extraDelay=t}}function hC(n){const e=n.length;let t=0;for(;t<e&&n[t].trim()==="";)t++;return n.substring(t,t+5).toLowerCase()==="data:"}function fC(n){return typeof n=="string"&&/\.pdf$/i.test(n)}function Lq(n){return[n]=n.split(/[#?]/,1),n.substring(n.lastIndexOf("/")+1)}function Oq(n,e="document.pdf"){if(typeof n!="string")return e;if(hC(n))return Ve('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),e;const t=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,r=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,i=t.exec(n);let s=r.exec(i[1])||r.exec(i[2])||r.exec(i[3]);if(s&&(s=s[0],s.includes("%")))try{s=r.exec(decodeURIComponent(s))[0]}catch{}return s||e}class DT{constructor(){_e(this,"started",Object.create(null));_e(this,"times",[])}time(e){e in this.started&&Ve(`Timer is already running for ${e}`),this.started[e]=Date.now()}timeEnd(e){e in this.started||Ve(`Timer has not been started for ${e}`),this.times.push({name:e,start:this.started[e],end:Date.now()}),delete this.started[e]}toString(){const e=[];let t=0;for(const{name:r}of this.times)t=Math.max(r.length,t);for(const{name:r,start:i,end:s}of this.times)e.push(`${r.padEnd(t)} ${s-i}ms
`);return e.join("")}}function Yh(n,e){try{const{protocol:t}=e?new URL(n,e):new URL(n);return t==="http:"||t==="https:"}catch{return!1}}function Sr(n){n.preventDefault()}function x2(n){console.log("Deprecated API usage: "+n)}let FT;class S2{static toDateObject(e){if(!e||typeof e!="string")return null;FT||(FT=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const t=FT.exec(e);if(!t)return null;const r=parseInt(t[1],10);let i=parseInt(t[2],10);i=i>=1&&i<=12?i-1:0;let s=parseInt(t[3],10);s=s>=1&&s<=31?s:1;let o=parseInt(t[4],10);o=o>=0&&o<=23?o:0;let l=parseInt(t[5],10);l=l>=0&&l<=59?l:0;let u=parseInt(t[6],10);u=u>=0&&u<=59?u:0;const d=t[7]||"Z";let h=parseInt(t[8],10);h=h>=0&&h<=23?h:0;let f=parseInt(t[9],10)||0;return f=f>=0&&f<=59?f:0,d==="-"?(o+=h,l+=f):d==="+"&&(o-=h,l-=f),new Date(Date.UTC(r,i,s,o,l,u))}}function Dq(n,{scale:e=1,rotation:t=0}){const{width:r,height:i}=n.attributes.style,s=[0,0,parseInt(r),parseInt(i)];return new Tg({viewBox:s,scale:e,rotation:t})}function pC(n){if(n.startsWith("#")){const e=parseInt(n.slice(1),16);return[(e&16711680)>>16,(e&65280)>>8,e&255]}return n.startsWith("rgb(")?n.slice(4,-1).split(",").map(e=>parseInt(e)):n.startsWith("rgba(")?n.slice(5,-1).split(",").map(e=>parseInt(e)).slice(0,3):(Ve(`Not a valid color format: "${n}"`),[0,0,0])}function Fq(n){const e=document.createElement("span");e.style.visibility="hidden",document.body.append(e);for(const t of n.keys()){e.style.color=t;const r=window.getComputedStyle(e).color;n.set(t,pC(r))}e.remove()}function jt(n){const{a:e,b:t,c:r,d:i,e:s,f:o}=n.getTransform();return[e,t,r,i,s,o]}function js(n){const{a:e,b:t,c:r,d:i,e:s,f:o}=n.getTransform().invertSelf();return[e,t,r,i,s,o]}function wc(n,e,t=!1,r=!0){if(e instanceof Tg){const{pageWidth:i,pageHeight:s}=e.rawDims,{style:o}=n,l=wr.isCSSRoundSupported,u=`var(--scale-factor) * ${i}px`,d=`var(--scale-factor) * ${s}px`,h=l?`round(${u}, 1px)`:`calc(${u})`,f=l?`round(${d}, 1px)`:`calc(${d})`;!t||e.rotation%180===0?(o.width=h,o.height=f):(o.width=f,o.height=h)}r&&n.setAttribute("data-main-rotation",e.rotation)}var Sl,El,Or,Cl,T0,E2,ir,C2,_2,Iy,A2,cE;const P0=class P0{constructor(e){V(this,ir);V(this,Sl,null);V(this,El,null);V(this,Or);V(this,Cl,null);B(this,Or,e)}render(){const e=B(this,Sl,document.createElement("div"));e.className="editToolbar",e.setAttribute("role","toolbar");const t=m(this,Or)._uiManager._signal;e.addEventListener("contextmenu",Sr,{signal:t}),e.addEventListener("pointerdown",j(P0,T0,E2),{signal:t});const r=B(this,Cl,document.createElement("div"));r.className="buttons",e.append(r);const i=m(this,Or).toolbarPosition;if(i){const{style:s}=e,o=m(this,Or)._uiManager.direction==="ltr"?1-i[0]:i[0];s.insetInlineEnd=`${100*o}%`,s.top=`calc(${100*i[1]}% + var(--editor-toolbar-vert-offset))`}return j(this,ir,A2).call(this),e}hide(){var e;m(this,Sl).classList.add("hidden"),(e=m(this,El))==null||e.hideDropdown()}show(){m(this,Sl).classList.remove("hidden")}addAltTextButton(e){j(this,ir,Iy).call(this,e),m(this,Cl).prepend(e,m(this,ir,cE))}addColorPicker(e){B(this,El,e);const t=e.renderButton();j(this,ir,Iy).call(this,t),m(this,Cl).prepend(t,m(this,ir,cE))}remove(){var e;m(this,Sl).remove(),(e=m(this,El))==null||e.destroy(),B(this,El,null)}};Sl=new WeakMap,El=new WeakMap,Or=new WeakMap,Cl=new WeakMap,T0=new WeakSet,E2=function(e){e.stopPropagation()},ir=new WeakSet,C2=function(e){m(this,Or)._focusEventsAllowed=!1,e.preventDefault(),e.stopPropagation()},_2=function(e){m(this,Or)._focusEventsAllowed=!0,e.preventDefault(),e.stopPropagation()},Iy=function(e){const t=m(this,Or)._uiManager._signal;e.addEventListener("focusin",j(this,ir,C2).bind(this),{capture:!0,signal:t}),e.addEventListener("focusout",j(this,ir,_2).bind(this),{capture:!0,signal:t}),e.addEventListener("contextmenu",Sr,{signal:t})},A2=function(){const e=document.createElement("button");e.className="delete",e.tabIndex=0,e.setAttribute("data-l10n-id",`pdfjs-editor-remove-${m(this,Or).editorType}-button`),j(this,ir,Iy).call(this,e),e.addEventListener("click",t=>{m(this,Or)._uiManager.delete()},{signal:m(this,Or)._uiManager._signal}),m(this,Cl).append(e)},cE=function(){const e=document.createElement("div");return e.className="divider",e},V(P0,T0);let lE=P0;var Ff,_l,Al,ja,k2,R2,T2;class zq{constructor(e){V(this,ja);V(this,Ff,null);V(this,_l,null);V(this,Al);B(this,Al,e)}show(e,t,r){const[i,s]=j(this,ja,R2).call(this,t,r),{style:o}=m(this,_l)||B(this,_l,j(this,ja,k2).call(this));e.append(m(this,_l)),o.insetInlineEnd=`${100*i}%`,o.top=`calc(${100*s}% + var(--editor-toolbar-vert-offset))`}hide(){m(this,_l).remove()}}Ff=new WeakMap,_l=new WeakMap,Al=new WeakMap,ja=new WeakSet,k2=function(){const e=B(this,_l,document.createElement("div"));e.className="editToolbar",e.setAttribute("role","toolbar"),e.addEventListener("contextmenu",Sr,{signal:m(this,Al)._signal});const t=B(this,Ff,document.createElement("div"));return t.className="buttons",e.append(t),j(this,ja,T2).call(this),e},R2=function(e,t){let r=0,i=0;for(const s of e){const o=s.y+s.height;if(o<r)continue;const l=s.x+(t?s.width:0);if(o>r){i=l,r=o;continue}t?l>i&&(i=l):l<i&&(i=l)}return[t?1-i:i,r]},T2=function(){const e=document.createElement("button");e.className="highlightButton",e.tabIndex=0,e.setAttribute("data-l10n-id","pdfjs-highlight-floating-button1");const t=document.createElement("span");e.append(t),t.className="visuallyHidden",t.setAttribute("data-l10n-id","pdfjs-highlight-floating-button-label");const r=m(this,Al)._signal;e.addEventListener("contextmenu",Sr,{signal:r}),e.addEventListener("click",()=>{m(this,Al).highlightSelection("floating_button")},{signal:r}),m(this,Ff).append(e)};function x0(n,e,t){for(const r of t)e.addEventListener(r,n[r].bind(n))}function $q(n){return Math.round(Math.min(255,Math.max(1,255*n))).toString(16).padStart(2,"0")}var M0;class Bq{constructor(){V(this,M0,0)}get id(){return`${vq}${Ir(this,M0)._++}`}}M0=new WeakMap;var zf,I0,ri,$f,dE;const xC=class xC{constructor(){V(this,$f);V(this,zf,Mq());V(this,I0,0);V(this,ri,null)}static get _isSVGFittingCanvas(){const e='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',r=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),i=new Image;i.src=e;const s=i.decode().then(()=>(r.drawImage(i,0,0,1,1,0,0,1,3),new Uint32Array(r.getImageData(0,0,1,1).data.buffer)[0]===0));return Je(this,"_isSVGFittingCanvas",s)}async getFromFile(e){const{lastModified:t,name:r,size:i,type:s}=e;return j(this,$f,dE).call(this,`${t}_${r}_${i}_${s}`,e)}async getFromUrl(e){return j(this,$f,dE).call(this,e,e)}async getFromId(e){m(this,ri)||B(this,ri,new Map);const t=m(this,ri).get(e);return t?t.bitmap?(t.refCounter+=1,t):t.file?this.getFromFile(t.file):this.getFromUrl(t.url):null}getSvgUrl(e){const t=m(this,ri).get(e);return t!=null&&t.isSvg?t.svgUrl:null}deleteId(e){m(this,ri)||B(this,ri,new Map);const t=m(this,ri).get(e);t&&(t.refCounter-=1,t.refCounter===0&&(t.bitmap=null))}isValidId(e){return e.startsWith(`image_${m(this,zf)}_`)}};zf=new WeakMap,I0=new WeakMap,ri=new WeakMap,$f=new WeakSet,dE=async function(e,t){m(this,ri)||B(this,ri,new Map);let r=m(this,ri).get(e);if(r===null)return null;if(r!=null&&r.bitmap)return r.refCounter+=1,r;try{r||(r={bitmap:null,id:`image_${m(this,zf)}_${Ir(this,I0)._++}`,refCounter:0,isSvg:!1});let i;if(typeof t=="string"?(r.url=t,i=await Dv(t,"blob")):i=r.file=t,i.type==="image/svg+xml"){const s=xC._isSVGFittingCanvas,o=new FileReader,l=new Image,u=new Promise((d,h)=>{l.onload=()=>{r.bitmap=l,r.isSvg=!0,d()},o.onload=async()=>{const f=r.svgUrl=o.result;l.src=await s?`${f}#svgView(preserveAspectRatio(none))`:f},l.onerror=o.onerror=h});o.readAsDataURL(i),await u}else r.bitmap=await createImageBitmap(i);r.refCounter=1}catch(i){console.error(i),r=null}return m(this,ri).set(e,r),r&&m(this,ri).set(r.id,r),r};let uE=xC;var Sn,fa,Bf,En;class jq{constructor(e=128){V(this,Sn,[]);V(this,fa,!1);V(this,Bf);V(this,En,-1);B(this,Bf,e)}add({cmd:e,undo:t,post:r,mustExec:i,type:s=NaN,overwriteIfSameType:o=!1,keepUndo:l=!1}){if(i&&e(),m(this,fa))return;const u={cmd:e,undo:t,post:r,type:s};if(m(this,En)===-1){m(this,Sn).length>0&&(m(this,Sn).length=0),B(this,En,0),m(this,Sn).push(u);return}if(o&&m(this,Sn)[m(this,En)].type===s){l&&(u.undo=m(this,Sn)[m(this,En)].undo),m(this,Sn)[m(this,En)]=u;return}const d=m(this,En)+1;d===m(this,Bf)?m(this,Sn).splice(0,1):(B(this,En,d),d<m(this,Sn).length&&m(this,Sn).splice(d)),m(this,Sn).push(u)}undo(){if(m(this,En)===-1)return;B(this,fa,!0);const{undo:e,post:t}=m(this,Sn)[m(this,En)];e(),t==null||t(),B(this,fa,!1),B(this,En,m(this,En)-1)}redo(){if(m(this,En)<m(this,Sn).length-1){B(this,En,m(this,En)+1),B(this,fa,!0);const{cmd:e,post:t}=m(this,Sn)[m(this,En)];e(),t==null||t(),B(this,fa,!1)}}hasSomethingToUndo(){return m(this,En)!==-1}hasSomethingToRedo(){return m(this,En)<m(this,Sn).length-1}destroy(){B(this,Sn,null)}}Sn=new WeakMap,fa=new WeakMap,Bf=new WeakMap,En=new WeakMap;var N0,P2;class Pg{constructor(e){V(this,N0);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:t}=wr.platform;for(const[r,i,s={}]of e)for(const o of r){const l=o.startsWith("mac+");t&&l?(this.callbacks.set(o.slice(4),{callback:i,options:s}),this.allKeys.add(o.split("+").at(-1))):!t&&!l&&(this.callbacks.set(o,{callback:i,options:s}),this.allKeys.add(o.split("+").at(-1)))}}exec(e,t){if(!this.allKeys.has(t.key))return;const r=this.callbacks.get(j(this,N0,P2).call(this,t));if(!r)return;const{callback:i,options:{bubbles:s=!1,args:o=[],checker:l=null}}=r;l&&!l(e,t)||(i.bind(e,...o,t)(),s||(t.stopPropagation(),t.preventDefault()))}}N0=new WeakSet,P2=function(e){e.altKey&&this.buffer.push("alt"),e.ctrlKey&&this.buffer.push("ctrl"),e.metaKey&&this.buffer.push("meta"),e.shiftKey&&this.buffer.push("shift"),this.buffer.push(e.key);const t=this.buffer.join("+");return this.buffer.length=0,t};const L0=class L0{get _colors(){const e=new Map([["CanvasText",null],["Canvas",null]]);return Fq(e),Je(this,"_colors",e)}convert(e){const t=pC(e);if(!window.matchMedia("(forced-colors: active)").matches)return t;for(const[r,i]of this._colors)if(i.every((s,o)=>s===t[o]))return L0._colorsMapping.get(r);return t}getHexCode(e){const t=this._colors.get(e);return t?Ie.makeHexColor(...t):e}};_e(L0,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let hE=L0;var Pu,Dr,fn,kn,Mu,Ys,Iu,xi,Nu,kl,ts,Si,Rl,jf,Hf,ns,Lu,pa,rs,O0,ga,Wf,Tl,Uf,Ou,Rn,gt,Xs,Pl,Vf,Gf,qf,Yf,Xf,Kf,Qf,Zf,Jf,ep,tp,np,rp,ma,is,Ks,ip,xe,Ny,M2,I2,Ly,N2,L2,O2,fE,D2,pE,gE,F2,er,oa,z2,$2,mE,B2,Xh,yE;const Su=class Su{constructor(e,t,r,i,s,o,l,u,d){V(this,xe);V(this,Pu,new AbortController);V(this,Dr,null);V(this,fn,new Map);V(this,kn,new Map);V(this,Mu,null);V(this,Ys,null);V(this,Iu,null);V(this,xi,new jq);V(this,Nu,0);V(this,kl,new Set);V(this,ts,null);V(this,Si,null);V(this,Rl,new Set);V(this,jf,!1);V(this,Hf,null);V(this,ns,null);V(this,Lu,null);V(this,pa,!1);V(this,rs,null);V(this,O0,new Bq);V(this,ga,!1);V(this,Wf,!1);V(this,Tl,null);V(this,Uf,null);V(this,Ou,null);V(this,Rn,Ke.NONE);V(this,gt,new Set);V(this,Xs,null);V(this,Pl,null);V(this,Vf,null);V(this,Gf,this.blur.bind(this));V(this,qf,this.focus.bind(this));V(this,Yf,this.copy.bind(this));V(this,Xf,this.cut.bind(this));V(this,Kf,this.paste.bind(this));V(this,Qf,this.keydown.bind(this));V(this,Zf,this.keyup.bind(this));V(this,Jf,this.onEditingAction.bind(this));V(this,ep,this.onPageChanging.bind(this));V(this,tp,this.onScaleChanging.bind(this));V(this,np,this.onRotationChanging.bind(this));V(this,rp,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1});V(this,ma,[0,0]);V(this,is,null);V(this,Ks,null);V(this,ip,null);this._signal=m(this,Pu).signal,B(this,Ks,e),B(this,ip,t),B(this,Mu,r),this._eventBus=i,this._eventBus._on("editingaction",m(this,Jf)),this._eventBus._on("pagechanging",m(this,ep)),this._eventBus._on("scalechanging",m(this,tp)),this._eventBus._on("rotationchanging",m(this,np)),j(this,xe,N2).call(this),j(this,xe,F2).call(this),j(this,xe,fE).call(this),B(this,Ys,s.annotationStorage),B(this,Hf,s.filterFactory),B(this,Pl,o),B(this,Lu,l||null),B(this,jf,u),B(this,Ou,d||null),this.viewParameters={realScale:Ba.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1}static get _keyboardManager(){const e=Su.prototype,t=o=>m(o,Ks).contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&o.hasSomethingToControl(),r=(o,{target:l})=>{if(l instanceof HTMLInputElement){const{type:u}=l;return u!=="text"&&u!=="number"}return!0},i=this.TRANSLATE_SMALL,s=this.TRANSLATE_BIG;return Je(this,"_keyboardManager",new Pg([[["ctrl+a","mac+meta+a"],e.selectAll,{checker:r}],[["ctrl+z","mac+meta+z"],e.undo,{checker:r}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],e.redo,{checker:r}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],e.delete,{checker:r}],[["Enter","mac+Enter"],e.addNewEditorFromKeyboard,{checker:(o,{target:l})=>!(l instanceof HTMLButtonElement)&&m(o,Ks).contains(l)&&!o.isEnterHandled}],[[" ","mac+ "],e.addNewEditorFromKeyboard,{checker:(o,{target:l})=>!(l instanceof HTMLButtonElement)&&m(o,Ks).contains(document.activeElement)}],[["Escape","mac+Escape"],e.unselectAll],[["ArrowLeft","mac+ArrowLeft"],e.translateSelectedEditors,{args:[-i,0],checker:t}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e.translateSelectedEditors,{args:[-s,0],checker:t}],[["ArrowRight","mac+ArrowRight"],e.translateSelectedEditors,{args:[i,0],checker:t}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e.translateSelectedEditors,{args:[s,0],checker:t}],[["ArrowUp","mac+ArrowUp"],e.translateSelectedEditors,{args:[0,-i],checker:t}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e.translateSelectedEditors,{args:[0,-s],checker:t}],[["ArrowDown","mac+ArrowDown"],e.translateSelectedEditors,{args:[0,i],checker:t}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e.translateSelectedEditors,{args:[0,s],checker:t}]]))}destroy(){var e,t,r;(e=m(this,Pu))==null||e.abort(),B(this,Pu,null),this._signal=null,this._eventBus._off("editingaction",m(this,Jf)),this._eventBus._off("pagechanging",m(this,ep)),this._eventBus._off("scalechanging",m(this,tp)),this._eventBus._off("rotationchanging",m(this,np));for(const i of m(this,kn).values())i.destroy();m(this,kn).clear(),m(this,fn).clear(),m(this,Rl).clear(),B(this,Dr,null),m(this,gt).clear(),m(this,xi).destroy(),(t=m(this,Mu))==null||t.destroy(),(r=m(this,rs))==null||r.hide(),B(this,rs,null),m(this,ns)&&(clearTimeout(m(this,ns)),B(this,ns,null)),m(this,is)&&(clearTimeout(m(this,is)),B(this,is,null))}async mlGuess(e){var t;return((t=m(this,Ou))==null?void 0:t.guess(e))||null}get hasMLManager(){return!!m(this,Ou)}get hcmFilter(){return Je(this,"hcmFilter",m(this,Pl)?m(this,Hf).addHCMFilter(m(this,Pl).foreground,m(this,Pl).background):"none")}get direction(){return Je(this,"direction",getComputedStyle(m(this,Ks)).direction)}get highlightColors(){return Je(this,"highlightColors",m(this,Lu)?new Map(m(this,Lu).split(",").map(e=>e.split("=").map(t=>t.trim()))):null)}get highlightColorNames(){return Je(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,e=>e.reverse())):null)}setMainHighlightColorPicker(e){B(this,Uf,e)}editAltText(e){var t;(t=m(this,Mu))==null||t.editAltText(this,e)}onPageChanging({pageNumber:e}){B(this,Nu,e-1)}focusMainContainer(){m(this,Ks).focus()}findParent(e,t){for(const r of m(this,kn).values()){const{x:i,y:s,width:o,height:l}=r.div.getBoundingClientRect();if(e>=i&&e<=i+o&&t>=s&&t<=s+l)return r}return null}disableUserSelect(e=!1){m(this,ip).classList.toggle("noUserSelect",e)}addShouldRescale(e){m(this,Rl).add(e)}removeShouldRescale(e){m(this,Rl).delete(e)}onScaleChanging({scale:e}){this.commitOrRemove(),this.viewParameters.realScale=e*Ba.PDF_TO_CSS_UNITS;for(const t of m(this,Rl))t.onScaleChanging()}onRotationChanging({pagesRotation:e}){this.commitOrRemove(),this.viewParameters.rotation=e}highlightSelection(e=""){const t=document.getSelection();if(!t||t.isCollapsed)return;const{anchorNode:r,anchorOffset:i,focusNode:s,focusOffset:o}=t,l=t.toString(),d=j(this,xe,Ny).call(this,t).closest(".textLayer"),h=this.getSelectionBoxes(d);if(h){t.empty(),m(this,Rn)===Ke.NONE&&(this._eventBus.dispatch("showannotationeditorui",{source:this,mode:Ke.HIGHLIGHT}),this.showAllEditors("highlight",!0,!0));for(const f of m(this,kn).values())if(f.hasTextLayer(d)){f.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:e,boxes:h,anchorNode:r,anchorOffset:i,focusNode:s,focusOffset:o,text:l});break}}}addToAnnotationStorage(e){!e.isEmpty()&&m(this,Ys)&&!m(this,Ys).has(e.id)&&m(this,Ys).setValue(e.id,e)}blur(){if(this.isShiftKeyDown=!1,m(this,pa)&&(B(this,pa,!1),j(this,xe,Ly).call(this,"main_toolbar")),!this.hasSelection)return;const{activeElement:e}=document;for(const t of m(this,gt))if(t.div.contains(e)){B(this,Tl,[t,e]),t._focusEventsAllowed=!1;break}}focus(){if(!m(this,Tl))return;const[e,t]=m(this,Tl);B(this,Tl,null),t.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:this._signal}),t.focus()}addEditListeners(){j(this,xe,fE).call(this),j(this,xe,pE).call(this)}removeEditListeners(){j(this,xe,D2).call(this),j(this,xe,gE).call(this)}dragOver(e){for(const{type:t}of e.dataTransfer.items)for(const r of m(this,Si))if(r.isHandlingMimeForPasting(t)){e.dataTransfer.dropEffect="copy",e.preventDefault();return}}drop(e){for(const t of e.dataTransfer.items)for(const r of m(this,Si))if(r.isHandlingMimeForPasting(t.type)){r.paste(t,this.currentLayer),e.preventDefault();return}}copy(e){var r;if(e.preventDefault(),(r=m(this,Dr))==null||r.commitOrRemove(),!this.hasSelection)return;const t=[];for(const i of m(this,gt)){const s=i.serialize(!0);s&&t.push(s)}t.length!==0&&e.clipboardData.setData("application/pdfjs",JSON.stringify(t))}cut(e){this.copy(e),this.delete()}paste(e){e.preventDefault();const{clipboardData:t}=e;for(const s of t.items)for(const o of m(this,Si))if(o.isHandlingMimeForPasting(s.type)){o.paste(s,this.currentLayer);return}let r=t.getData("application/pdfjs");if(!r)return;try{r=JSON.parse(r)}catch(s){Ve(`paste: "${s.message}".`);return}if(!Array.isArray(r))return;this.unselectAll();const i=this.currentLayer;try{const s=[];for(const u of r){const d=i.deserialize(u);if(!d)return;s.push(d)}const o=()=>{for(const u of s)j(this,xe,mE).call(this,u);j(this,xe,yE).call(this,s)},l=()=>{for(const u of s)u.remove()};this.addCommands({cmd:o,undo:l,mustExec:!0})}catch(s){Ve(`paste: "${s.message}".`)}}keydown(e){!this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!0),m(this,Rn)!==Ke.NONE&&!this.isEditorHandlingKeyboard&&Su._keyboardManager.exec(this,e)}keyup(e){this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!1,m(this,pa)&&(B(this,pa,!1),j(this,xe,Ly).call(this,"main_toolbar")))}onEditingAction({name:e}){switch(e){case"undo":case"redo":case"delete":case"selectAll":this[e]();break;case"highlightSelection":this.highlightSelection("context_menu");break}}setEditingState(e){e?(j(this,xe,L2).call(this),j(this,xe,pE).call(this),j(this,xe,er).call(this,{isEditing:m(this,Rn)!==Ke.NONE,isEmpty:j(this,xe,Xh).call(this),hasSomethingToUndo:m(this,xi).hasSomethingToUndo(),hasSomethingToRedo:m(this,xi).hasSomethingToRedo(),hasSelectedEditor:!1})):(j(this,xe,O2).call(this),j(this,xe,gE).call(this),j(this,xe,er).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(e){if(!m(this,Si)){B(this,Si,e);for(const t of m(this,Si))j(this,xe,oa).call(this,t.defaultPropertiesToUpdate)}}getId(){return m(this,O0).id}get currentLayer(){return m(this,kn).get(m(this,Nu))}getLayer(e){return m(this,kn).get(e)}get currentPageIndex(){return m(this,Nu)}addLayer(e){m(this,kn).set(e.pageIndex,e),m(this,ga)?e.enable():e.disable()}removeLayer(e){m(this,kn).delete(e.pageIndex)}updateMode(e,t=null,r=!1){if(m(this,Rn)!==e){if(B(this,Rn,e),e===Ke.NONE){this.setEditingState(!1),j(this,xe,$2).call(this);return}this.setEditingState(!0),j(this,xe,z2).call(this),this.unselectAll();for(const i of m(this,kn).values())i.updateMode(e);if(!t&&r){this.addNewEditorFromKeyboard();return}if(t){for(const i of m(this,fn).values())if(i.annotationElementId===t){this.setSelected(i),i.enterInEditMode();break}}}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(e){e!==m(this,Rn)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:e})}updateParams(e,t){var r;if(m(this,Si)){switch(e){case We.CREATE:this.currentLayer.addNewEditor();return;case We.HIGHLIGHT_DEFAULT_COLOR:(r=m(this,Uf))==null||r.updateColor(t);break;case We.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(m(this,Vf)||B(this,Vf,new Map)).set(e,t),this.showAllEditors("highlight",t);break}for(const i of m(this,gt))i.updateParams(e,t);for(const i of m(this,Si))i.updateDefaultParams(e,t)}}showAllEditors(e,t,r=!1){var s;for(const o of m(this,fn).values())o.editorType===e&&o.show(t);(((s=m(this,Vf))==null?void 0:s.get(We.HIGHLIGHT_SHOW_ALL))??!0)!==t&&j(this,xe,oa).call(this,[[We.HIGHLIGHT_SHOW_ALL,t]])}enableWaiting(e=!1){if(m(this,Wf)!==e){B(this,Wf,e);for(const t of m(this,kn).values())e?t.disableClick():t.enableClick(),t.div.classList.toggle("waiting",e)}}getEditors(e){const t=[];for(const r of m(this,fn).values())r.pageIndex===e&&t.push(r);return t}getEditor(e){return m(this,fn).get(e)}addEditor(e){m(this,fn).set(e.id,e)}removeEditor(e){var t;e.div.contains(document.activeElement)&&(m(this,ns)&&clearTimeout(m(this,ns)),B(this,ns,setTimeout(()=>{this.focusMainContainer(),B(this,ns,null)},0))),m(this,fn).delete(e.id),this.unselect(e),(!e.annotationElementId||!m(this,kl).has(e.annotationElementId))&&((t=m(this,Ys))==null||t.remove(e.id))}addDeletedAnnotationElement(e){m(this,kl).add(e.annotationElementId),this.addChangedExistingAnnotation(e),e.deleted=!0}isDeletedAnnotationElement(e){return m(this,kl).has(e)}removeDeletedAnnotationElement(e){m(this,kl).delete(e.annotationElementId),this.removeChangedExistingAnnotation(e),e.deleted=!1}setActiveEditor(e){m(this,Dr)!==e&&(B(this,Dr,e),e&&j(this,xe,oa).call(this,e.propertiesToUpdate))}updateUI(e){m(this,xe,B2)===e&&j(this,xe,oa).call(this,e.propertiesToUpdate)}toggleSelected(e){if(m(this,gt).has(e)){m(this,gt).delete(e),e.unselect(),j(this,xe,er).call(this,{hasSelectedEditor:this.hasSelection});return}m(this,gt).add(e),e.select(),j(this,xe,oa).call(this,e.propertiesToUpdate),j(this,xe,er).call(this,{hasSelectedEditor:!0})}setSelected(e){for(const t of m(this,gt))t!==e&&t.unselect();m(this,gt).clear(),m(this,gt).add(e),e.select(),j(this,xe,oa).call(this,e.propertiesToUpdate),j(this,xe,er).call(this,{hasSelectedEditor:!0})}isSelected(e){return m(this,gt).has(e)}get firstSelectedEditor(){return m(this,gt).values().next().value}unselect(e){e.unselect(),m(this,gt).delete(e),j(this,xe,er).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return m(this,gt).size!==0}get isEnterHandled(){return m(this,gt).size===1&&this.firstSelectedEditor.isEnterHandled}undo(){m(this,xi).undo(),j(this,xe,er).call(this,{hasSomethingToUndo:m(this,xi).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:j(this,xe,Xh).call(this)})}redo(){m(this,xi).redo(),j(this,xe,er).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:m(this,xi).hasSomethingToRedo(),isEmpty:j(this,xe,Xh).call(this)})}addCommands(e){m(this,xi).add(e),j(this,xe,er).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:j(this,xe,Xh).call(this)})}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const e=[...m(this,gt)],t=()=>{for(const i of e)i.remove()},r=()=>{for(const i of e)j(this,xe,mE).call(this,i)};this.addCommands({cmd:t,undo:r,mustExec:!0})}commitOrRemove(){var e;(e=m(this,Dr))==null||e.commitOrRemove()}hasSomethingToControl(){return m(this,Dr)||this.hasSelection}selectAll(){for(const e of m(this,gt))e.commit();j(this,xe,yE).call(this,m(this,fn).values())}unselectAll(){if(!(m(this,Dr)&&(m(this,Dr).commitOrRemove(),m(this,Rn)!==Ke.NONE))&&this.hasSelection){for(const e of m(this,gt))e.unselect();m(this,gt).clear(),j(this,xe,er).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(e,t,r=!1){if(r||this.commitOrRemove(),!this.hasSelection)return;m(this,ma)[0]+=e,m(this,ma)[1]+=t;const[i,s]=m(this,ma),o=[...m(this,gt)],l=1e3;m(this,is)&&clearTimeout(m(this,is)),B(this,is,setTimeout(()=>{B(this,is,null),m(this,ma)[0]=m(this,ma)[1]=0,this.addCommands({cmd:()=>{for(const u of o)m(this,fn).has(u.id)&&u.translateInPage(i,s)},undo:()=>{for(const u of o)m(this,fn).has(u.id)&&u.translateInPage(-i,-s)},mustExec:!1})},l));for(const u of o)u.translateInPage(e,t)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),B(this,ts,new Map);for(const e of m(this,gt))m(this,ts).set(e,{savedX:e.x,savedY:e.y,savedPageIndex:e.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!m(this,ts))return!1;this.disableUserSelect(!1);const e=m(this,ts);B(this,ts,null);let t=!1;for(const[{x:i,y:s,pageIndex:o},l]of e)l.newX=i,l.newY=s,l.newPageIndex=o,t||(t=i!==l.savedX||s!==l.savedY||o!==l.savedPageIndex);if(!t)return!1;const r=(i,s,o,l)=>{if(m(this,fn).has(i.id)){const u=m(this,kn).get(l);u?i._setParentAndPosition(u,s,o):(i.pageIndex=l,i.x=s,i.y=o)}};return this.addCommands({cmd:()=>{for(const[i,{newX:s,newY:o,newPageIndex:l}]of e)r(i,s,o,l)},undo:()=>{for(const[i,{savedX:s,savedY:o,savedPageIndex:l}]of e)r(i,s,o,l)},mustExec:!0}),!0}dragSelectedEditors(e,t){if(m(this,ts))for(const r of m(this,ts).keys())r.drag(e,t)}rebuild(e){if(e.parent===null){const t=this.getLayer(e.pageIndex);t?(t.changeParent(e),t.addOrRebuild(e)):(this.addEditor(e),this.addToAnnotationStorage(e),e.rebuild())}else e.parent.addOrRebuild(e)}get isEditorHandlingKeyboard(){var e;return((e=this.getActive())==null?void 0:e.shouldGetKeyboardEvents())||m(this,gt).size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(e){return m(this,Dr)===e}getActive(){return m(this,Dr)}getMode(){return m(this,Rn)}get imageManager(){return Je(this,"imageManager",new uE)}getSelectionBoxes(e){if(!e)return null;const t=document.getSelection();for(let d=0,h=t.rangeCount;d<h;d++)if(!e.contains(t.getRangeAt(d).commonAncestorContainer))return null;const{x:r,y:i,width:s,height:o}=e.getBoundingClientRect();let l;switch(e.getAttribute("data-main-rotation")){case"90":l=(d,h,f,g)=>({x:(h-i)/o,y:1-(d+f-r)/s,width:g/o,height:f/s});break;case"180":l=(d,h,f,g)=>({x:1-(d+f-r)/s,y:1-(h+g-i)/o,width:f/s,height:g/o});break;case"270":l=(d,h,f,g)=>({x:1-(h+g-i)/o,y:(d-r)/s,width:g/o,height:f/s});break;default:l=(d,h,f,g)=>({x:(d-r)/s,y:(h-i)/o,width:f/s,height:g/o});break}const u=[];for(let d=0,h=t.rangeCount;d<h;d++){const f=t.getRangeAt(d);if(!f.collapsed)for(const{x:g,y,width:v,height:w}of f.getClientRects())v===0||w===0||u.push(l(g,y,v,w))}return u.length===0?null:u}addChangedExistingAnnotation({annotationElementId:e,id:t}){(m(this,Iu)||B(this,Iu,new Map)).set(e,t)}removeChangedExistingAnnotation({annotationElementId:e}){var t;(t=m(this,Iu))==null||t.delete(e)}renderAnnotationElement(e){var i;const t=(i=m(this,Iu))==null?void 0:i.get(e.data.id);if(!t)return;const r=m(this,Ys).getRawValue(t);r&&(m(this,Rn)===Ke.NONE&&!r.hasBeenModified||r.renderAnnotationElement(e))}};Pu=new WeakMap,Dr=new WeakMap,fn=new WeakMap,kn=new WeakMap,Mu=new WeakMap,Ys=new WeakMap,Iu=new WeakMap,xi=new WeakMap,Nu=new WeakMap,kl=new WeakMap,ts=new WeakMap,Si=new WeakMap,Rl=new WeakMap,jf=new WeakMap,Hf=new WeakMap,ns=new WeakMap,Lu=new WeakMap,pa=new WeakMap,rs=new WeakMap,O0=new WeakMap,ga=new WeakMap,Wf=new WeakMap,Tl=new WeakMap,Uf=new WeakMap,Ou=new WeakMap,Rn=new WeakMap,gt=new WeakMap,Xs=new WeakMap,Pl=new WeakMap,Vf=new WeakMap,Gf=new WeakMap,qf=new WeakMap,Yf=new WeakMap,Xf=new WeakMap,Kf=new WeakMap,Qf=new WeakMap,Zf=new WeakMap,Jf=new WeakMap,ep=new WeakMap,tp=new WeakMap,np=new WeakMap,rp=new WeakMap,ma=new WeakMap,is=new WeakMap,Ks=new WeakMap,ip=new WeakMap,xe=new WeakSet,Ny=function({anchorNode:e}){return e.nodeType===Node.TEXT_NODE?e.parentElement:e},M2=function(){const e=document.getSelection();if(!e||e.isCollapsed)return;const r=j(this,xe,Ny).call(this,e).closest(".textLayer"),i=this.getSelectionBoxes(r);i&&(m(this,rs)||B(this,rs,new zq(this)),m(this,rs).show(r,i,this.direction==="ltr"))},I2=function(){var s,o,l;const e=document.getSelection();if(!e||e.isCollapsed){m(this,Xs)&&((s=m(this,rs))==null||s.hide(),B(this,Xs,null),j(this,xe,er).call(this,{hasSelectedText:!1}));return}const{anchorNode:t}=e;if(t===m(this,Xs))return;if(!j(this,xe,Ny).call(this,e).closest(".textLayer")){m(this,Xs)&&((o=m(this,rs))==null||o.hide(),B(this,Xs,null),j(this,xe,er).call(this,{hasSelectedText:!1}));return}if((l=m(this,rs))==null||l.hide(),B(this,Xs,t),j(this,xe,er).call(this,{hasSelectedText:!0}),!(m(this,Rn)!==Ke.HIGHLIGHT&&m(this,Rn)!==Ke.NONE)&&(m(this,Rn)===Ke.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),B(this,pa,this.isShiftKeyDown),!this.isShiftKeyDown)){const u=this._signal,d=h=>{h.type==="pointerup"&&h.button!==0||(window.removeEventListener("pointerup",d),window.removeEventListener("blur",d),h.type==="pointerup"&&j(this,xe,Ly).call(this,"main_toolbar"))};window.addEventListener("pointerup",d,{signal:u}),window.addEventListener("blur",d,{signal:u})}},Ly=function(e=""){m(this,Rn)===Ke.HIGHLIGHT?this.highlightSelection(e):m(this,jf)&&j(this,xe,M2).call(this)},N2=function(){document.addEventListener("selectionchange",j(this,xe,I2).bind(this),{signal:this._signal})},L2=function(){const e=this._signal;window.addEventListener("focus",m(this,qf),{signal:e}),window.addEventListener("blur",m(this,Gf),{signal:e})},O2=function(){window.removeEventListener("focus",m(this,qf)),window.removeEventListener("blur",m(this,Gf))},fE=function(){const e=this._signal;window.addEventListener("keydown",m(this,Qf),{signal:e}),window.addEventListener("keyup",m(this,Zf),{signal:e})},D2=function(){window.removeEventListener("keydown",m(this,Qf)),window.removeEventListener("keyup",m(this,Zf))},pE=function(){const e=this._signal;document.addEventListener("copy",m(this,Yf),{signal:e}),document.addEventListener("cut",m(this,Xf),{signal:e}),document.addEventListener("paste",m(this,Kf),{signal:e})},gE=function(){document.removeEventListener("copy",m(this,Yf)),document.removeEventListener("cut",m(this,Xf)),document.removeEventListener("paste",m(this,Kf))},F2=function(){const e=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:e}),document.addEventListener("drop",this.drop.bind(this),{signal:e})},er=function(e){Object.entries(e).some(([r,i])=>m(this,rp)[r]!==i)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(m(this,rp),e)}),m(this,Rn)===Ke.HIGHLIGHT&&e.hasSelectedEditor===!1&&j(this,xe,oa).call(this,[[We.HIGHLIGHT_FREE,!0]]))},oa=function(e){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:e})},z2=function(){if(!m(this,ga)){B(this,ga,!0);for(const e of m(this,kn).values())e.enable();for(const e of m(this,fn).values())e.enable()}},$2=function(){if(this.unselectAll(),m(this,ga)){B(this,ga,!1);for(const e of m(this,kn).values())e.disable();for(const e of m(this,fn).values())e.disable()}},mE=function(e){const t=m(this,kn).get(e.pageIndex);t?t.addOrRebuild(e):(this.addEditor(e),this.addToAnnotationStorage(e))},B2=function(){let e=null;for(e of m(this,gt));return e},Xh=function(){if(m(this,fn).size===0)return!0;if(m(this,fn).size===1)for(const e of m(this,fn).values())return e.isEmpty();return!1},yE=function(e){for(const t of m(this,gt))t.unselect();m(this,gt).clear();for(const t of e)t.isEmpty()||(m(this,gt).add(t),t.select());j(this,xe,er).call(this,{hasSelectedEditor:this.hasSelection})},_e(Su,"TRANSLATE_SMALL",1),_e(Su,"TRANSLATE_BIG",10);let xc=Su;var Qs,Zs,Ei,Js,Fr,Du,Ci,sp,vE;const Ws=class Ws{constructor(e){V(this,sp);V(this,Qs,"");V(this,Zs,!1);V(this,Ei,null);V(this,Js,null);V(this,Fr,null);V(this,Du,!1);V(this,Ci,null);B(this,Ci,e)}static initialize(e){Ws._l10nPromise||(Ws._l10nPromise=e)}async render(){const e=B(this,Ei,document.createElement("button"));e.className="altText";const t=await Ws._l10nPromise.get("pdfjs-editor-alt-text-button-label");e.textContent=t,e.setAttribute("aria-label",t),e.tabIndex="0";const r=m(this,Ci)._uiManager._signal;e.addEventListener("contextmenu",Sr,{signal:r}),e.addEventListener("pointerdown",s=>s.stopPropagation(),{signal:r});const i=s=>{s.preventDefault(),m(this,Ci)._uiManager.editAltText(m(this,Ci))};return e.addEventListener("click",i,{capture:!0,signal:r}),e.addEventListener("keydown",s=>{s.target===e&&s.key==="Enter"&&(B(this,Du,!0),i(s))},{signal:r}),await j(this,sp,vE).call(this),e}finish(){m(this,Ei)&&(m(this,Ei).focus({focusVisible:m(this,Du)}),B(this,Du,!1))}isEmpty(){return!m(this,Qs)&&!m(this,Zs)}get data(){return{altText:m(this,Qs),decorative:m(this,Zs)}}set data({altText:e,decorative:t}){m(this,Qs)===e&&m(this,Zs)===t||(B(this,Qs,e),B(this,Zs,t),j(this,sp,vE).call(this))}toggle(e=!1){m(this,Ei)&&(!e&&m(this,Fr)&&(clearTimeout(m(this,Fr)),B(this,Fr,null)),m(this,Ei).disabled=!e)}destroy(){var e;(e=m(this,Ei))==null||e.remove(),B(this,Ei,null),B(this,Js,null)}};Qs=new WeakMap,Zs=new WeakMap,Ei=new WeakMap,Js=new WeakMap,Fr=new WeakMap,Du=new WeakMap,Ci=new WeakMap,sp=new WeakSet,vE=async function(){var i;const e=m(this,Ei);if(!e)return;if(!m(this,Qs)&&!m(this,Zs)){e.classList.remove("done"),(i=m(this,Js))==null||i.remove();return}e.classList.add("done"),Ws._l10nPromise.get("pdfjs-editor-alt-text-edit-button-label").then(s=>{e.setAttribute("aria-label",s)});let t=m(this,Js);if(!t){B(this,Js,t=document.createElement("span")),t.className="tooltip",t.setAttribute("role","tooltip");const s=t.id=`alt-text-tooltip-${m(this,Ci).id}`;e.setAttribute("aria-describedby",s);const o=100,l=m(this,Ci)._uiManager._signal;l.addEventListener("abort",()=>{clearTimeout(m(this,Fr)),B(this,Fr,null)},{once:!0}),e.addEventListener("mouseenter",()=>{B(this,Fr,setTimeout(()=>{B(this,Fr,null),m(this,Js).classList.add("show"),m(this,Ci)._reportTelemetry({action:"alt_text_tooltip"})},o))},{signal:l}),e.addEventListener("mouseleave",()=>{var u;m(this,Fr)&&(clearTimeout(m(this,Fr)),B(this,Fr,null)),(u=m(this,Js))==null||u.classList.remove("show")},{signal:l})}t.innerText=m(this,Zs)?await Ws._l10nPromise.get("pdfjs-editor-alt-text-decorative-tooltip"):m(this,Qs),t.parentNode||e.append(t);const r=m(this,Ci).getImageForAltText();r==null||r.setAttribute("aria-describedby",t.id)},_e(Ws,"_l10nPromise",null);let S0=Ws;var Ml,_i,Wn,Fu,Il,Tn,Nl,zu,$u,Un,op,Ll,ya,ap,Ol,eo,ss,Bu,ju,ii,lp,D0,Ge,bE,cp,wE,xE,j2,H2,SE,EE,CE,W2,U2,V2,G2,_E,Kh;const _t=class _t{constructor(e){V(this,Ge);V(this,Ml,null);V(this,_i,null);V(this,Wn,null);V(this,Fu,!1);V(this,Il,!1);V(this,Tn,null);V(this,Nl,null);V(this,zu,this.focusin.bind(this));V(this,$u,this.focusout.bind(this));V(this,Un,null);V(this,op,"");V(this,Ll,!1);V(this,ya,null);V(this,ap,!1);V(this,Ol,!1);V(this,eo,!1);V(this,ss,null);V(this,Bu,0);V(this,ju,0);V(this,ii,null);_e(this,"_initialOptions",Object.create(null));_e(this,"_isVisible",!0);_e(this,"_uiManager",null);_e(this,"_focusEventsAllowed",!0);_e(this,"_l10nPromise",null);V(this,lp,!1);V(this,D0,_t._zIndex++);this.constructor===_t&&bt("Cannot initialize AnnotationEditor."),this.parent=e.parent,this.id=e.id,this.width=this.height=null,this.pageIndex=e.parent.pageIndex,this.name=e.name,this.div=null,this._uiManager=e.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=e.isCentered,this._structTreeParentId=null;const{rotation:t,rawDims:{pageWidth:r,pageHeight:i,pageX:s,pageY:o}}=this.parent.viewport;this.rotation=t,this.pageRotation=(360+t-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[r,i],this.pageTranslation=[s,o];const[l,u]=this.parentDimensions;this.x=e.x/l,this.y=e.y/u,this.isAttachedToDOM=!1,this.deleted=!1}static get _resizerKeyboardManager(){const e=_t.prototype._resizeWithKeyboard,t=xc.TRANSLATE_SMALL,r=xc.TRANSLATE_BIG;return Je(this,"_resizerKeyboardManager",new Pg([[["ArrowLeft","mac+ArrowLeft"],e,{args:[-t,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e,{args:[-r,0]}],[["ArrowRight","mac+ArrowRight"],e,{args:[t,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e,{args:[r,0]}],[["ArrowUp","mac+ArrowUp"],e,{args:[0,-t]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e,{args:[0,-r]}],[["ArrowDown","mac+ArrowDown"],e,{args:[0,t]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e,{args:[0,r]}],[["Escape","mac+Escape"],_t.prototype._stopResizingWithKeyboard]]))}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return Je(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(e){const t=new Hq({id:e.parent.getNextId(),parent:e.parent,uiManager:e._uiManager});t.annotationElementId=e.annotationElementId,t.deleted=!0,t._uiManager.addToAnnotationStorage(t)}static initialize(e,t,r){if(_t._l10nPromise||(_t._l10nPromise=new Map(["pdfjs-editor-alt-text-button-label","pdfjs-editor-alt-text-edit-button-label","pdfjs-editor-alt-text-decorative-tooltip","pdfjs-editor-resizer-label-topLeft","pdfjs-editor-resizer-label-topMiddle","pdfjs-editor-resizer-label-topRight","pdfjs-editor-resizer-label-middleRight","pdfjs-editor-resizer-label-bottomRight","pdfjs-editor-resizer-label-bottomMiddle","pdfjs-editor-resizer-label-bottomLeft","pdfjs-editor-resizer-label-middleLeft"].map(s=>[s,e.get(s.replaceAll(/([A-Z])/g,o=>`-${o.toLowerCase()}`))]))),r!=null&&r.strings)for(const s of r.strings)_t._l10nPromise.set(s,e.get(s));if(_t._borderLineWidth!==-1)return;const i=getComputedStyle(document.documentElement);_t._borderLineWidth=parseFloat(i.getPropertyValue("--outline-width"))||0}static updateDefaultParams(e,t){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(e){return!1}static paste(e,t){bt("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return m(this,lp)}set _isDraggable(e){var t;B(this,lp,e),(t=this.div)==null||t.classList.toggle("draggable",e)}get isEnterHandled(){return!0}center(){const[e,t]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*t/(e*2),this.y+=this.width*e/(t*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*t/(e*2),this.y-=this.width*e/(t*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(e){this._uiManager.addCommands(e)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=m(this,D0)}setParent(e){e!==null?(this.pageIndex=e.pageIndex,this.pageDimensions=e.pageDimensions):j(this,Ge,Kh).call(this),this.parent=e}focusin(e){this._focusEventsAllowed&&(m(this,Ll)?B(this,Ll,!1):this.parent.setSelected(this))}focusout(e){var r;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const t=e.relatedTarget;t!=null&&t.closest(`#${this.id}`)||(e.preventDefault(),(r=this.parent)!=null&&r.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(e,t,r,i){const[s,o]=this.parentDimensions;[r,i]=this.screenToPageTranslation(r,i),this.x=(e+r)/s,this.y=(t+i)/o,this.fixAndSetPosition()}translate(e,t){j(this,Ge,bE).call(this,this.parentDimensions,e,t)}translateInPage(e,t){m(this,ya)||B(this,ya,[this.x,this.y]),j(this,Ge,bE).call(this,this.pageDimensions,e,t),this.div.scrollIntoView({block:"nearest"})}drag(e,t){m(this,ya)||B(this,ya,[this.x,this.y]);const[r,i]=this.parentDimensions;if(this.x+=e/r,this.y+=t/i,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:d,y:h}=this.div.getBoundingClientRect();this.parent.findNewParent(this,d,h)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:s,y:o}=this;const[l,u]=this.getBaseTranslation();s+=l,o+=u,this.div.style.left=`${(100*s).toFixed(2)}%`,this.div.style.top=`${(100*o).toFixed(2)}%`,this.div.scrollIntoView({block:"nearest"})}get _hasBeenMoved(){return!!m(this,ya)&&(m(this,ya)[0]!==this.x||m(this,ya)[1]!==this.y)}getBaseTranslation(){const[e,t]=this.parentDimensions,{_borderLineWidth:r}=_t,i=r/e,s=r/t;switch(this.rotation){case 90:return[-i,s];case 180:return[i,s];case 270:return[i,-s];default:return[-i,-s]}}get _mustFixPosition(){return!0}fixAndSetPosition(e=this.rotation){const[t,r]=this.pageDimensions;let{x:i,y:s,width:o,height:l}=this;if(o*=t,l*=r,i*=t,s*=r,this._mustFixPosition)switch(e){case 0:i=Math.max(0,Math.min(t-o,i)),s=Math.max(0,Math.min(r-l,s));break;case 90:i=Math.max(0,Math.min(t-l,i)),s=Math.min(r,Math.max(o,s));break;case 180:i=Math.min(t,Math.max(o,i)),s=Math.min(r,Math.max(l,s));break;case 270:i=Math.min(t,Math.max(l,i)),s=Math.max(0,Math.min(r-o,s));break}this.x=i/=t,this.y=s/=r;const[u,d]=this.getBaseTranslation();i+=u,s+=d;const{style:h}=this.div;h.left=`${(100*i).toFixed(2)}%`,h.top=`${(100*s).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(e,t){var r;return j(r=_t,cp,wE).call(r,e,t,this.parentRotation)}pageTranslationToScreen(e,t){var r;return j(r=_t,cp,wE).call(r,e,t,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:e,pageDimensions:[t,r]}=this,i=t*e,s=r*e;return wr.isCSSRoundSupported?[Math.round(i),Math.round(s)]:[i,s]}setDims(e,t){const[r,i]=this.parentDimensions;this.div.style.width=`${(100*e/r).toFixed(2)}%`,m(this,Il)||(this.div.style.height=`${(100*t/i).toFixed(2)}%`)}fixDims(){const{style:e}=this.div,{height:t,width:r}=e,i=r.endsWith("%"),s=!m(this,Il)&&t.endsWith("%");if(i&&s)return;const[o,l]=this.parentDimensions;i||(e.width=`${(100*parseFloat(r)/o).toFixed(2)}%`),!m(this,Il)&&!s&&(e.height=`${(100*parseFloat(t)/l).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}altTextFinish(){var e;(e=m(this,Wn))==null||e.finish()}async addEditToolbar(){return m(this,Un)||m(this,Ol)?m(this,Un):(B(this,Un,new lE(this)),this.div.append(m(this,Un).render()),m(this,Wn)&&m(this,Un).addAltTextButton(await m(this,Wn).render()),m(this,Un))}removeEditToolbar(){var e;m(this,Un)&&(m(this,Un).remove(),B(this,Un,null),(e=m(this,Wn))==null||e.destroy())}getClientDimensions(){return this.div.getBoundingClientRect()}async addAltTextButton(){m(this,Wn)||(S0.initialize(_t._l10nPromise),B(this,Wn,new S0(this)),m(this,Ml)&&(m(this,Wn).data=m(this,Ml),B(this,Ml,null)),await this.addEditToolbar())}get altTextData(){var e;return(e=m(this,Wn))==null?void 0:e.data}set altTextData(e){m(this,Wn)&&(m(this,Wn).data=e)}hasAltText(){var e;return!((e=m(this,Wn))!=null&&e.isEmpty())}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.tabIndex=m(this,Fu)?-1:0,this._isVisible||this.div.classList.add("hidden"),this.setInForeground();const e=this._uiManager._signal;this.div.addEventListener("focusin",m(this,zu),{signal:e}),this.div.addEventListener("focusout",m(this,$u),{signal:e});const[t,r]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*r/t).toFixed(2)}%`,this.div.style.maxHeight=`${(100*t/r).toFixed(2)}%`);const[i,s]=this.getInitialTranslation();return this.translate(i,s),x0(this,this.div,["pointerdown"]),this.div}pointerdown(e){const{isMac:t}=wr.platform;if(e.button!==0||e.ctrlKey&&t){e.preventDefault();return}if(B(this,Ll,!0),this._isDraggable){j(this,Ge,W2).call(this,e);return}j(this,Ge,CE).call(this,e)}moveInDOM(){m(this,ss)&&clearTimeout(m(this,ss)),B(this,ss,setTimeout(()=>{var e;B(this,ss,null),(e=this.parent)==null||e.moveEditorInDOM(this)},0))}_setParentAndPosition(e,t,r){e.changeParent(this),this.x=t,this.y=r,this.fixAndSetPosition()}getRect(e,t,r=this.rotation){const i=this.parentScale,[s,o]=this.pageDimensions,[l,u]=this.pageTranslation,d=e/i,h=t/i,f=this.x*s,g=this.y*o,y=this.width*s,v=this.height*o;switch(r){case 0:return[f+d+l,o-g-h-v+u,f+d+y+l,o-g-h+u];case 90:return[f+h+l,o-g+d+u,f+h+v+l,o-g+d+y+u];case 180:return[f-d-y+l,o-g+h+u,f-d+l,o-g+h+v+u];case 270:return[f-h-v+l,o-g-d-y+u,f-h+l,o-g-d+u];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(e,t){const[r,i,s,o]=e,l=s-r,u=o-i;switch(this.rotation){case 0:return[r,t-o,l,u];case 90:return[r,t-i,u,l];case 180:return[s,t-i,l,u];case 270:return[s,t-o,u,l];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){B(this,Ol,!0)}disableEditMode(){B(this,Ol,!1)}isInEditMode(){return m(this,Ol)}shouldGetKeyboardEvents(){return m(this,eo)}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){var t,r;const e=this._uiManager._signal;(t=this.div)==null||t.addEventListener("focusin",m(this,zu),{signal:e}),(r=this.div)==null||r.addEventListener("focusout",m(this,$u),{signal:e})}rotate(e){}serialize(e=!1,t=null){bt("An editor must be serializable")}static deserialize(e,t,r){const i=new this.prototype.constructor({parent:t,id:t.getNextId(),uiManager:r});i.rotation=e.rotation,B(i,Ml,e.accessibilityData);const[s,o]=i.pageDimensions,[l,u,d,h]=i.getRectInCurrentCoords(e.rect,o);return i.x=l/s,i.y=u/o,i.width=d/s,i.height=h/o,i}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){if(this.div.removeEventListener("focusin",m(this,zu)),this.div.removeEventListener("focusout",m(this,$u)),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),m(this,ss)&&(clearTimeout(m(this,ss)),B(this,ss,null)),j(this,Ge,Kh).call(this),this.removeEditToolbar(),m(this,ii)){for(const e of m(this,ii).values())clearTimeout(e);B(this,ii,null)}this.parent=null}get isResizable(){return!1}makeResizable(){this.isResizable&&(j(this,Ge,j2).call(this),m(this,Tn).classList.remove("hidden"),x0(this,this.div,["keydown"]))}get toolbarPosition(){return null}keydown(e){if(!this.isResizable||e.target!==this.div||e.key!=="Enter")return;this._uiManager.setSelected(this),B(this,Nl,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const t=m(this,Tn).children;if(!m(this,_i)){B(this,_i,Array.from(t));const o=j(this,Ge,U2).bind(this),l=j(this,Ge,V2).bind(this),u=this._uiManager._signal;for(const d of m(this,_i)){const h=d.getAttribute("data-resizer-name");d.setAttribute("role","spinbutton"),d.addEventListener("keydown",o,{signal:u}),d.addEventListener("blur",l,{signal:u}),d.addEventListener("focus",j(this,Ge,G2).bind(this,h),{signal:u}),_t._l10nPromise.get(`pdfjs-editor-resizer-label-${h}`).then(f=>d.setAttribute("aria-label",f))}}const r=m(this,_i)[0];let i=0;for(const o of t){if(o===r)break;i++}const s=(360-this.rotation+this.parentRotation)%360/90*(m(this,_i).length/4);if(s!==i){if(s<i)for(let l=0;l<i-s;l++)m(this,Tn).append(m(this,Tn).firstChild);else if(s>i)for(let l=0;l<s-i;l++)m(this,Tn).firstChild.before(m(this,Tn).lastChild);let o=0;for(const l of t){const d=m(this,_i)[o++].getAttribute("data-resizer-name");_t._l10nPromise.get(`pdfjs-editor-resizer-label-${d}`).then(h=>l.setAttribute("aria-label",h))}}j(this,Ge,_E).call(this,0),B(this,eo,!0),m(this,Tn).firstChild.focus({focusVisible:!0}),e.preventDefault(),e.stopImmediatePropagation()}_resizeWithKeyboard(e,t){m(this,eo)&&j(this,Ge,EE).call(this,m(this,op),{movementX:e,movementY:t})}_stopResizingWithKeyboard(){j(this,Ge,Kh).call(this),this.div.focus()}select(){var e,t;if(this.makeResizable(),(e=this.div)==null||e.classList.add("selectedEditor"),!m(this,Un)){this.addEditToolbar().then(()=>{var r,i;(r=this.div)!=null&&r.classList.contains("selectedEditor")&&((i=m(this,Un))==null||i.show())});return}(t=m(this,Un))==null||t.show()}unselect(){var e,t,r,i;(e=m(this,Tn))==null||e.classList.add("hidden"),(t=this.div)==null||t.classList.remove("selectedEditor"),(r=this.div)!=null&&r.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),(i=m(this,Un))==null||i.hide()}updateParams(e,t){}disableEditing(){}enableEditing(){}enterInEditMode(){}getImageForAltText(){return null}get contentDiv(){return this.div}get isEditing(){return m(this,ap)}set isEditing(e){B(this,ap,e),this.parent&&(e?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(e,t){B(this,Il,!0);const r=e/t,{style:i}=this.div;i.aspectRatio=r,i.height="auto"}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(e,t=!1){if(t){m(this,ii)||B(this,ii,new Map);const{action:r}=e;let i=m(this,ii).get(r);i&&clearTimeout(i),i=setTimeout(()=>{this._reportTelemetry(e),m(this,ii).delete(r),m(this,ii).size===0&&B(this,ii,null)},_t._telemetryTimeout),m(this,ii).set(r,i);return}e.type||(e.type=this.editorType),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:e}})}show(e=this._isVisible){this.div.classList.toggle("hidden",!e),this._isVisible=e}enable(){this.div&&(this.div.tabIndex=0),B(this,Fu,!1)}disable(){this.div&&(this.div.tabIndex=-1),B(this,Fu,!0)}renderAnnotationElement(e){let t=e.container.querySelector(".annotationContent");if(!t)t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),e.container.prepend(t);else if(t.nodeName==="CANVAS"){const r=t;t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),r.before(t)}return t}resetAnnotationElement(e){const{firstChild:t}=e.container;t.nodeName==="DIV"&&t.classList.contains("annotationContent")&&t.remove()}};Ml=new WeakMap,_i=new WeakMap,Wn=new WeakMap,Fu=new WeakMap,Il=new WeakMap,Tn=new WeakMap,Nl=new WeakMap,zu=new WeakMap,$u=new WeakMap,Un=new WeakMap,op=new WeakMap,Ll=new WeakMap,ya=new WeakMap,ap=new WeakMap,Ol=new WeakMap,eo=new WeakMap,ss=new WeakMap,Bu=new WeakMap,ju=new WeakMap,ii=new WeakMap,lp=new WeakMap,D0=new WeakMap,Ge=new WeakSet,bE=function([e,t],r,i){[r,i]=this.screenToPageTranslation(r,i),this.x+=r/e,this.y+=i/t,this.fixAndSetPosition()},cp=new WeakSet,wE=function(e,t,r){switch(r){case 90:return[t,-e];case 180:return[-e,-t];case 270:return[-t,e];default:return[e,t]}},xE=function(e){switch(e){case 90:{const[t,r]=this.pageDimensions;return[0,-t/r,r/t,0]}case 180:return[-1,0,0,-1];case 270:{const[t,r]=this.pageDimensions;return[0,t/r,-r/t,0]}default:return[1,0,0,1]}},j2=function(){if(m(this,Tn))return;B(this,Tn,document.createElement("div")),m(this,Tn).classList.add("resizers");const e=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],t=this._uiManager._signal;for(const r of e){const i=document.createElement("div");m(this,Tn).append(i),i.classList.add("resizer",r),i.setAttribute("data-resizer-name",r),i.addEventListener("pointerdown",j(this,Ge,H2).bind(this,r),{signal:t}),i.addEventListener("contextmenu",Sr,{signal:t}),i.tabIndex=-1}this.div.prepend(m(this,Tn))},H2=function(e,t){var w;t.preventDefault();const{isMac:r}=wr.platform;if(t.button!==0||t.ctrlKey&&r)return;(w=m(this,Wn))==null||w.toggle(!1);const i=j(this,Ge,EE).bind(this,e),s=this._isDraggable;this._isDraggable=!1;const o=this._uiManager._signal,l={passive:!0,capture:!0,signal:o};this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",i,l),window.addEventListener("contextmenu",Sr,{signal:o});const u=this.x,d=this.y,h=this.width,f=this.height,g=this.parent.div.style.cursor,y=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(t.target).cursor;const v=()=>{var E;this.parent.togglePointerEvents(!0),(E=m(this,Wn))==null||E.toggle(!0),this._isDraggable=s,window.removeEventListener("pointerup",v),window.removeEventListener("blur",v),window.removeEventListener("pointermove",i,l),window.removeEventListener("contextmenu",Sr),this.parent.div.style.cursor=g,this.div.style.cursor=y,j(this,Ge,SE).call(this,u,d,h,f)};window.addEventListener("pointerup",v,{signal:o}),window.addEventListener("blur",v,{signal:o})},SE=function(e,t,r,i){const s=this.x,o=this.y,l=this.width,u=this.height;s===e&&o===t&&l===r&&u===i||this.addCommands({cmd:()=>{this.width=l,this.height=u,this.x=s,this.y=o;const[d,h]=this.parentDimensions;this.setDims(d*l,h*u),this.fixAndSetPosition()},undo:()=>{this.width=r,this.height=i,this.x=e,this.y=t;const[d,h]=this.parentDimensions;this.setDims(d*r,h*i),this.fixAndSetPosition()},mustExec:!0})},EE=function(e,t){const[r,i]=this.parentDimensions,s=this.x,o=this.y,l=this.width,u=this.height,d=_t.MIN_SIZE/r,h=_t.MIN_SIZE/i,f=X=>Math.round(X*1e4)/1e4,g=j(this,Ge,xE).call(this,this.rotation),y=(X,W)=>[g[0]*X+g[2]*W,g[1]*X+g[3]*W],v=j(this,Ge,xE).call(this,360-this.rotation),w=(X,W)=>[v[0]*X+v[2]*W,v[1]*X+v[3]*W];let E,x,_=!1,S=!1;switch(e){case"topLeft":_=!0,E=(X,W)=>[0,0],x=(X,W)=>[X,W];break;case"topMiddle":E=(X,W)=>[X/2,0],x=(X,W)=>[X/2,W];break;case"topRight":_=!0,E=(X,W)=>[X,0],x=(X,W)=>[0,W];break;case"middleRight":S=!0,E=(X,W)=>[X,W/2],x=(X,W)=>[0,W/2];break;case"bottomRight":_=!0,E=(X,W)=>[X,W],x=(X,W)=>[0,0];break;case"bottomMiddle":E=(X,W)=>[X/2,W],x=(X,W)=>[X/2,0];break;case"bottomLeft":_=!0,E=(X,W)=>[0,W],x=(X,W)=>[X,0];break;case"middleLeft":S=!0,E=(X,W)=>[0,W/2],x=(X,W)=>[X,W/2];break}const C=E(l,u),k=x(l,u);let I=y(...k);const P=f(s+I[0]),M=f(o+I[1]);let N=1,R=1,[D,$]=this.screenToPageTranslation(t.movementX,t.movementY);if([D,$]=w(D/r,$/i),_){const X=Math.hypot(l,u);N=R=Math.max(Math.min(Math.hypot(k[0]-C[0]-D,k[1]-C[1]-$)/X,1/l,1/u),d/l,h/u)}else S?N=Math.max(d,Math.min(1,Math.abs(k[0]-C[0]-D)))/l:R=Math.max(h,Math.min(1,Math.abs(k[1]-C[1]-$)))/u;const G=f(l*N),L=f(u*R);I=y(...x(G,L));const q=P-I[0],H=M-I[1];this.width=G,this.height=L,this.x=q,this.y=H,this.setDims(r*G,i*L),this.fixAndSetPosition()},CE=function(e){const{isMac:t}=wr.platform;e.ctrlKey&&!t||e.shiftKey||e.metaKey&&t?this.parent.toggleSelected(this):this.parent.setSelected(this)},W2=function(e){const t=this._uiManager.isSelected(this);this._uiManager.setUpDragSession();let r,i;const s=this._uiManager._signal;t&&(this.div.classList.add("moving"),r={passive:!0,capture:!0,signal:s},B(this,Bu,e.clientX),B(this,ju,e.clientY),i=l=>{const{clientX:u,clientY:d}=l,[h,f]=this.screenToPageTranslation(u-m(this,Bu),d-m(this,ju));B(this,Bu,u),B(this,ju,d),this._uiManager.dragSelectedEditors(h,f)},window.addEventListener("pointermove",i,r));const o=()=>{window.removeEventListener("pointerup",o),window.removeEventListener("blur",o),t&&(this.div.classList.remove("moving"),window.removeEventListener("pointermove",i,r)),B(this,Ll,!1),this._uiManager.endDragSession()||j(this,Ge,CE).call(this,e)};window.addEventListener("pointerup",o,{signal:s}),window.addEventListener("blur",o,{signal:s})},U2=function(e){_t._resizerKeyboardManager.exec(this,e)},V2=function(e){var t;m(this,eo)&&((t=e.relatedTarget)==null?void 0:t.parentNode)!==m(this,Tn)&&j(this,Ge,Kh).call(this)},G2=function(e){B(this,op,m(this,eo)?e:"")},_E=function(e){if(m(this,_i))for(const t of m(this,_i))t.tabIndex=e},Kh=function(){if(B(this,eo,!1),j(this,Ge,_E).call(this,-1),m(this,Nl)){const{savedX:e,savedY:t,savedWidth:r,savedHeight:i}=m(this,Nl);j(this,Ge,SE).call(this,e,t,r,i),B(this,Nl,null)}},V(_t,cp),_e(_t,"_borderLineWidth",-1),_e(_t,"_colorManager",new hE),_e(_t,"_zIndex",1),_e(_t,"_telemetryTimeout",1e3);let mt=_t;class Hq extends mt{constructor(e){super(e),this.annotationElementId=e.annotationElementId,this.deleted=!0}serialize(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex}}}const zT=3285377520,ni=4294901760,Zi=65535;class q2{constructor(e){this.h1=e?e&4294967295:zT,this.h2=e?e&4294967295:zT}update(e){let t,r;if(typeof e=="string"){t=new Uint8Array(e.length*2),r=0;for(let w=0,E=e.length;w<E;w++){const x=e.charCodeAt(w);x<=255?t[r++]=x:(t[r++]=x>>>8,t[r++]=x&255)}}else if(ArrayBuffer.isView(e))t=e.slice(),r=t.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const i=r>>2,s=r-i*4,o=new Uint32Array(t.buffer,0,i);let l=0,u=0,d=this.h1,h=this.h2;const f=3432918353,g=461845907,y=f&Zi,v=g&Zi;for(let w=0;w<i;w++)w&1?(l=o[w],l=l*f&ni|l*y&Zi,l=l<<15|l>>>17,l=l*g&ni|l*v&Zi,d^=l,d=d<<13|d>>>19,d=d*5+3864292196):(u=o[w],u=u*f&ni|u*y&Zi,u=u<<15|u>>>17,u=u*g&ni|u*v&Zi,h^=u,h=h<<13|h>>>19,h=h*5+3864292196);switch(l=0,s){case 3:l^=t[i*4+2]<<16;case 2:l^=t[i*4+1]<<8;case 1:l^=t[i*4],l=l*f&ni|l*y&Zi,l=l<<15|l>>>17,l=l*g&ni|l*v&Zi,i&1?d^=l:h^=l}this.h1=d,this.h2=h}hexdigest(){let e=this.h1,t=this.h2;return e^=t>>>1,e=e*3981806797&ni|e*36045&Zi,t=t*4283543511&ni|((t<<16|e>>>16)*2950163797&ni)>>>16,e^=t>>>1,e=e*444984403&ni|e*60499&Zi,t=t*3301882366&ni|((t<<16|e>>>16)*3120437893&ni)>>>16,e^=t>>>1,(e>>>0).toString(16).padStart(8,"0")+(t>>>0).toString(16).padStart(8,"0")}}const AE=Object.freeze({map:null,hash:"",transfer:void 0});var Dl,Pn,F0,Y2;class gC{constructor(){V(this,F0);V(this,Dl,!1);V(this,Pn,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(e,t){const r=m(this,Pn).get(e);return r===void 0?t:Object.assign(t,r)}getRawValue(e){return m(this,Pn).get(e)}remove(e){if(m(this,Pn).delete(e),m(this,Pn).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const t of m(this,Pn).values())if(t instanceof mt)return;this.onAnnotationEditor(null)}}setValue(e,t){const r=m(this,Pn).get(e);let i=!1;if(r!==void 0)for(const[s,o]of Object.entries(t))r[s]!==o&&(i=!0,r[s]=o);else i=!0,m(this,Pn).set(e,t);i&&j(this,F0,Y2).call(this),t instanceof mt&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(t.constructor._type)}has(e){return m(this,Pn).has(e)}getAll(){return m(this,Pn).size>0?lC(m(this,Pn)):null}setAll(e){for(const[t,r]of Object.entries(e))this.setValue(t,r)}get size(){return m(this,Pn).size}resetModified(){m(this,Dl)&&(B(this,Dl,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new X2(this)}get serializable(){if(m(this,Pn).size===0)return AE;const e=new Map,t=new q2,r=[],i=Object.create(null);let s=!1;for(const[o,l]of m(this,Pn)){const u=l instanceof mt?l.serialize(!1,i):l;u&&(e.set(o,u),t.update(`${o}:${JSON.stringify(u)}`),s||(s=!!u.bitmap))}if(s)for(const o of e.values())o.bitmap&&r.push(o.bitmap);return e.size>0?{map:e,hash:t.hexdigest(),transfer:r}:AE}get editorStats(){let e=null;const t=new Map;for(const r of m(this,Pn).values()){if(!(r instanceof mt))continue;const i=r.telemetryFinalData;if(!i)continue;const{type:s}=i;t.has(s)||t.set(s,Object.getPrototypeOf(r).constructor),e||(e=Object.create(null));const o=e[s]||(e[s]=new Map);for(const[l,u]of Object.entries(i)){if(l==="type")continue;let d=o.get(l);d||(d=new Map,o.set(l,d));const h=d.get(u)??0;d.set(u,h+1)}}for(const[r,i]of t)e[r]=i.computeTelemetryFinalData(e[r]);return e}}Dl=new WeakMap,Pn=new WeakMap,F0=new WeakSet,Y2=function(){m(this,Dl)||(B(this,Dl,!0),typeof this.onSetModified=="function"&&this.onSetModified())};var up;class X2 extends gC{constructor(t){super();V(this,up);const{map:r,hash:i,transfer:s}=t.serializable,o=structuredClone(r,s?{transfer:s}:null);B(this,up,{map:o,hash:i,transfer:s})}get print(){bt("Should not call PrintAnnotationStorage.print")}get serializable(){return m(this,up)}}up=new WeakMap;var Hu;class Wq{constructor({ownerDocument:e=globalThis.document,styleElement:t=null}){V(this,Hu,new Set);this._document=e,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(e){this.nativeFontFaces.add(e),this._document.fonts.add(e)}removeNativeFontFace(e){this.nativeFontFaces.delete(e),this._document.fonts.delete(e)}insertRule(e){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const t=this.styleElement.sheet;t.insertRule(e,t.cssRules.length)}clear(){for(const e of this.nativeFontFaces)this._document.fonts.delete(e);this.nativeFontFaces.clear(),m(this,Hu).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:e,_inspectFont:t}){if(!(!e||m(this,Hu).has(e.loadedName))){if(yn(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:r,src:i,style:s}=e,o=new FontFace(r,i,s);this.addNativeFontFace(o);try{await o.load(),m(this,Hu).add(r),t==null||t(e)}catch{Ve(`Cannot load system font: ${e.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(o)}return}bt("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(e){if(e.attached||e.missingFile&&!e.systemFontInfo)return;if(e.attached=!0,e.systemFontInfo){await this.loadSystemFont(e);return}if(this.isFontLoadingAPISupported){const r=e.createNativeFontFace();if(r){this.addNativeFontFace(r);try{await r.loaded}catch(i){throw Ve(`Failed to load font '${r.family}': '${i}'.`),e.disableFontFace=!0,i}}return}const t=e.createFontFaceRule();if(t){if(this.insertRule(t),this.isSyncFontLoadingSupported)return;await new Promise(r=>{const i=this._queueLoadingCallback(r);this._prepareFontLoadEvent(e,i)})}}get isFontLoadingAPISupported(){var t;const e=!!((t=this._document)!=null&&t.fonts);return Je(this,"isFontLoadingAPISupported",e)}get isSyncFontLoadingSupported(){let e=!1;return(qn||typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.userAgent)=="string"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(e=!0),Je(this,"isSyncFontLoadingSupported",e)}_queueLoadingCallback(e){function t(){for(yn(!i.done,"completeRequest() cannot be called twice."),i.done=!0;r.length>0&&r[0].done;){const s=r.shift();setTimeout(s.callback,0)}}const{loadingRequests:r}=this,i={done:!1,complete:t,callback:e};return r.push(i),i}get _loadTestFont(){const e=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return Je(this,"_loadTestFont",e)}_prepareFontLoadEvent(e,t){function r(C,k){return C.charCodeAt(k)<<24|C.charCodeAt(k+1)<<16|C.charCodeAt(k+2)<<8|C.charCodeAt(k+3)&255}function i(C,k,I,P){const M=C.substring(0,k),N=C.substring(k+I);return M+P+N}let s,o;const l=this._document.createElement("canvas");l.width=1,l.height=1;const u=l.getContext("2d");let d=0;function h(C,k){if(++d>30){Ve("Load test font never loaded."),k();return}if(u.font="30px "+C,u.fillText(".",0,20),u.getImageData(0,0,1,1).data[3]>0){k();return}setTimeout(h.bind(null,C,k))}const f=`lt${Date.now()}${this.loadTestFontId++}`;let g=this._loadTestFont;g=i(g,976,f.length,f);const v=16,w=1482184792;let E=r(g,v);for(s=0,o=f.length-3;s<o;s+=4)E=E-w+r(f,s)|0;s<f.length&&(E=E-w+r(f+"XXX",s)|0),g=i(g,v,4,Aq(E));const x=`url(data:font/opentype;base64,${btoa(g)});`,_=`@font-face {font-family:"${f}";src:${x}}`;this.insertRule(_);const S=this._document.createElement("div");S.style.visibility="hidden",S.style.width=S.style.height="10px",S.style.position="absolute",S.style.top=S.style.left="0px";for(const C of[e.loadedName,f]){const k=this._document.createElement("span");k.textContent="Hi",k.style.fontFamily=C,S.append(k)}this._document.body.append(S),h(f,()=>{S.remove(),t.complete()})}}Hu=new WeakMap;class Uq{constructor(e,{disableFontFace:t=!1,inspectFont:r=null}){this.compiledGlyphs=Object.create(null);for(const i in e)this[i]=e[i];this.disableFontFace=t===!0,this._inspectFont=r}createNativeFontFace(){var t;if(!this.data||this.disableFontFace)return null;let e;if(!this.cssFontInfo)e=new FontFace(this.loadedName,this.data,{});else{const r={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(r.style=`oblique ${this.cssFontInfo.italicAngle}deg`),e=new FontFace(this.cssFontInfo.fontFamily,this.data,r)}return(t=this._inspectFont)==null||t.call(this,this),e}createFontFaceRule(){var i;if(!this.data||this.disableFontFace)return null;const e=m2(this.data),t=`url(data:${this.mimetype};base64,${btoa(e)});`;let r;if(!this.cssFontInfo)r=`@font-face {font-family:"${this.loadedName}";src:${t}}`;else{let s=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(s+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),r=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${s}src:${t}}`}return(i=this._inspectFont)==null||i.call(this,this,t),r}getPathGenerator(e,t){if(this.compiledGlyphs[t]!==void 0)return this.compiledGlyphs[t];let r;try{r=e.get(this.loadedName+"_path_"+t)}catch(s){Ve(`getPathGenerator - ignoring character: "${s}".`)}if(!Array.isArray(r)||r.length===0)return this.compiledGlyphs[t]=function(s,o){};const i=[];for(let s=0,o=r.length;s<o;)switch(r[s++]){case Bs.BEZIER_CURVE_TO:{const[l,u,d,h,f,g]=r.slice(s,s+6);i.push(y=>y.bezierCurveTo(l,u,d,h,f,g)),s+=6}break;case Bs.MOVE_TO:{const[l,u]=r.slice(s,s+2);i.push(d=>d.moveTo(l,u)),s+=2}break;case Bs.LINE_TO:{const[l,u]=r.slice(s,s+2);i.push(d=>d.lineTo(l,u)),s+=2}break;case Bs.QUADRATIC_CURVE_TO:{const[l,u,d,h]=r.slice(s,s+4);i.push(f=>f.quadraticCurveTo(l,u,d,h)),s+=4}break;case Bs.RESTORE:i.push(l=>l.restore());break;case Bs.SAVE:i.push(l=>l.save());break;case Bs.SCALE:yn(i.length===2,"Scale command is only valid at the third position.");break;case Bs.TRANSFORM:{const[l,u,d,h,f,g]=r.slice(s,s+6);i.push(y=>y.transform(l,u,d,h,f,g)),s+=6}break;case Bs.TRANSLATE:{const[l,u]=r.slice(s,s+2);i.push(d=>d.translate(l,u)),s+=2}break}return this.compiledGlyphs[t]=function(o,l){i[0](o),i[1](o),o.scale(l,-l);for(let u=2,d=i.length;u<d;u++)i[u](o)}}}if(qn){var kE=Promise.withResolvers(),pf=null;(async()=>{const e=await Uh(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),t=await Uh(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),r=await Uh(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),i=await Uh(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]);let s,o;return new Map(Object.entries({fs:e,http:t,https:r,url:i,canvas:s,path2d:o}))})().then(e=>{pf=e,kE.resolve()},e=>{Ve(`loadPackages: ${e}`),pf=new Map,kE.resolve()})}class _s{static get promise(){return kE.promise}static get(e){return pf==null?void 0:pf.get(e)}}const K2=function(n){return _s.get("fs").promises.readFile(n).then(t=>new Uint8Array(t))};class Vq extends Nv{}class Gq extends w0{_createCanvas(e,t){return _s.get("canvas").createCanvas(e,t)}}class qq extends Lv{_fetchData(e,t){return K2(e).then(r=>({cMapData:r,compressionType:t}))}}class Yq extends Ov{_fetchData(e){return K2(e)}}const rr={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function RE(n,e){if(!e)return;const t=e[2]-e[0],r=e[3]-e[1],i=new Path2D;i.rect(e[0],e[1],t,r),n.clip(i)}class Mg{constructor(){this.constructor===Mg&&bt("Cannot initialize BaseShadingPattern.")}getPattern(){bt("Abstract method `getPattern` called.")}}class Xq extends Mg{constructor(e){super(),this._type=e[1],this._bbox=e[2],this._colorStops=e[3],this._p0=e[4],this._p1=e[5],this._r0=e[6],this._r1=e[7],this.matrix=null}_createGradient(e){let t;this._type==="axial"?t=e.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(t=e.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const r of this._colorStops)t.addColorStop(r[0],r[1]);return t}getPattern(e,t,r,i){let s;if(i===rr.STROKE||i===rr.FILL){const o=t.current.getClippedPathBoundingBox(i,jt(e))||[0,0,0,0],l=Math.ceil(o[2]-o[0])||1,u=Math.ceil(o[3]-o[1])||1,d=t.cachedCanvases.getCanvas("pattern",l,u,!0),h=d.context;h.clearRect(0,0,h.canvas.width,h.canvas.height),h.beginPath(),h.rect(0,0,h.canvas.width,h.canvas.height),h.translate(-o[0],-o[1]),r=Ie.transform(r,[1,0,0,1,o[0],o[1]]),h.transform(...t.baseTransform),this.matrix&&h.transform(...this.matrix),RE(h,this._bbox),h.fillStyle=this._createGradient(h),h.fill(),s=e.createPattern(d.canvas,"no-repeat");const f=new DOMMatrix(r);s.setTransform(f)}else RE(e,this._bbox),s=this._createGradient(e);return s}}function vx(n,e,t,r,i,s,o,l){const u=e.coords,d=e.colors,h=n.data,f=n.width*4;let g;u[t+1]>u[r+1]&&(g=t,t=r,r=g,g=s,s=o,o=g),u[r+1]>u[i+1]&&(g=r,r=i,i=g,g=o,o=l,l=g),u[t+1]>u[r+1]&&(g=t,t=r,r=g,g=s,s=o,o=g);const y=(u[t]+e.offsetX)*e.scaleX,v=(u[t+1]+e.offsetY)*e.scaleY,w=(u[r]+e.offsetX)*e.scaleX,E=(u[r+1]+e.offsetY)*e.scaleY,x=(u[i]+e.offsetX)*e.scaleX,_=(u[i+1]+e.offsetY)*e.scaleY;if(v>=_)return;const S=d[s],C=d[s+1],k=d[s+2],I=d[o],P=d[o+1],M=d[o+2],N=d[l],R=d[l+1],D=d[l+2],$=Math.round(v),G=Math.round(_);let L,q,H,X,W,U,Q,Y;for(let te=$;te<=G;te++){if(te<E){const ne=te<v?0:(v-te)/(v-E);L=y-(y-w)*ne,q=S-(S-I)*ne,H=C-(C-P)*ne,X=k-(k-M)*ne}else{let ne;te>_?ne=1:E===_?ne=0:ne=(E-te)/(E-_),L=w-(w-x)*ne,q=I-(I-N)*ne,H=P-(P-R)*ne,X=M-(M-D)*ne}let K;te<v?K=0:te>_?K=1:K=(v-te)/(v-_),W=y-(y-x)*K,U=S-(S-N)*K,Q=C-(C-R)*K,Y=k-(k-D)*K;const ee=Math.round(Math.min(L,W)),J=Math.round(Math.max(L,W));let ie=f*te+ee*4;for(let ne=ee;ne<=J;ne++)K=(L-ne)/(L-W),K<0?K=0:K>1&&(K=1),h[ie++]=q-(q-U)*K|0,h[ie++]=H-(H-Q)*K|0,h[ie++]=X-(X-Y)*K|0,h[ie++]=255}}function Kq(n,e,t){const r=e.coords,i=e.colors;let s,o;switch(e.type){case"lattice":const l=e.verticesPerRow,u=Math.floor(r.length/l)-1,d=l-1;for(s=0;s<u;s++){let h=s*l;for(let f=0;f<d;f++,h++)vx(n,t,r[h],r[h+1],r[h+l],i[h],i[h+1],i[h+l]),vx(n,t,r[h+l+1],r[h+1],r[h+l],i[h+l+1],i[h+1],i[h+l])}break;case"triangles":for(s=0,o=r.length;s<o;s+=3)vx(n,t,r[s],r[s+1],r[s+2],i[s],i[s+1],i[s+2]);break;default:throw new Error("illegal figure")}}class Qq extends Mg{constructor(e){super(),this._coords=e[2],this._colors=e[3],this._figures=e[4],this._bounds=e[5],this._bbox=e[7],this._background=e[8],this.matrix=null}_createMeshCanvas(e,t,r){const l=Math.floor(this._bounds[0]),u=Math.floor(this._bounds[1]),d=Math.ceil(this._bounds[2])-l,h=Math.ceil(this._bounds[3])-u,f=Math.min(Math.ceil(Math.abs(d*e[0]*1.1)),3e3),g=Math.min(Math.ceil(Math.abs(h*e[1]*1.1)),3e3),y=d/f,v=h/g,w={coords:this._coords,colors:this._colors,offsetX:-l,offsetY:-u,scaleX:1/y,scaleY:1/v},E=f+2*2,x=g+2*2,_=r.getCanvas("mesh",E,x,!1),S=_.context,C=S.createImageData(f,g);if(t){const I=C.data;for(let P=0,M=I.length;P<M;P+=4)I[P]=t[0],I[P+1]=t[1],I[P+2]=t[2],I[P+3]=255}for(const I of this._figures)Kq(C,I,w);return S.putImageData(C,2,2),{canvas:_.canvas,offsetX:l-2*y,offsetY:u-2*v,scaleX:y,scaleY:v}}getPattern(e,t,r,i){RE(e,this._bbox);let s;if(i===rr.SHADING)s=Ie.singularValueDecompose2dScale(jt(e));else if(s=Ie.singularValueDecompose2dScale(t.baseTransform),this.matrix){const l=Ie.singularValueDecompose2dScale(this.matrix);s=[s[0]*l[0],s[1]*l[1]]}const o=this._createMeshCanvas(s,i===rr.SHADING?null:this._background,t.cachedCanvases);return i!==rr.SHADING&&(e.setTransform(...t.baseTransform),this.matrix&&e.transform(...this.matrix)),e.translate(o.offsetX,o.offsetY),e.scale(o.scaleX,o.scaleY),e.createPattern(o.canvas,"no-repeat")}}class Zq extends Mg{getPattern(){return"hotpink"}}function Jq(n){switch(n[0]){case"RadialAxial":return new Xq(n);case"Mesh":return new Qq(n);case"Dummy":return new Zq}throw new Error(`Unknown IR type: ${n[0]}`)}const $T={COLORED:1,UNCOLORED:2},z0=class z0{constructor(e,t,r,i,s){this.operatorList=e[2],this.matrix=e[3],this.bbox=e[4],this.xstep=e[5],this.ystep=e[6],this.paintType=e[7],this.tilingType=e[8],this.color=t,this.ctx=r,this.canvasGraphicsFactory=i,this.baseTransform=s}createPatternCanvas(e){const t=this.operatorList,r=this.bbox,i=this.xstep,s=this.ystep,o=this.paintType,l=this.tilingType,u=this.color,d=this.canvasGraphicsFactory;Pv("TilingType: "+l);const h=r[0],f=r[1],g=r[2],y=r[3],v=Ie.singularValueDecompose2dScale(this.matrix),w=Ie.singularValueDecompose2dScale(this.baseTransform),E=[v[0]*w[0],v[1]*w[1]],x=this.getSizeAndScale(i,this.ctx.canvas.width,E[0]),_=this.getSizeAndScale(s,this.ctx.canvas.height,E[1]),S=e.cachedCanvases.getCanvas("pattern",x.size,_.size,!0),C=S.context,k=d.createCanvasGraphics(C);k.groupLevel=e.groupLevel,this.setFillAndStrokeStyleToContext(k,o,u);let I=h,P=f,M=g,N=y;return h<0&&(I=0,M+=Math.abs(h)),f<0&&(P=0,N+=Math.abs(f)),C.translate(-(x.scale*I),-(_.scale*P)),k.transform(x.scale,0,0,_.scale,0,0),C.save(),this.clipBbox(k,I,P,M,N),k.baseTransform=jt(k.ctx),k.executeOperatorList(t),k.endDrawing(),{canvas:S.canvas,scaleX:x.scale,scaleY:_.scale,offsetX:I,offsetY:P}}getSizeAndScale(e,t,r){e=Math.abs(e);const i=Math.max(z0.MAX_PATTERN_SIZE,t);let s=Math.ceil(e*r);return s>=i?s=i:r=s/e,{scale:r,size:s}}clipBbox(e,t,r,i,s){const o=i-t,l=s-r;e.ctx.rect(t,r,o,l),e.current.updateRectMinMax(jt(e.ctx),[t,r,i,s]),e.clip(),e.endPath()}setFillAndStrokeStyleToContext(e,t,r){const i=e.ctx,s=e.current;switch(t){case $T.COLORED:const o=this.ctx;i.fillStyle=o.fillStyle,i.strokeStyle=o.strokeStyle,s.fillColor=o.fillStyle,s.strokeColor=o.strokeStyle;break;case $T.UNCOLORED:const l=Ie.makeHexColor(r[0],r[1],r[2]);i.fillStyle=l,i.strokeStyle=l,s.fillColor=l,s.strokeColor=l;break;default:throw new _q(`Unsupported paint type: ${t}`)}}getPattern(e,t,r,i){let s=r;i!==rr.SHADING&&(s=Ie.transform(s,t.baseTransform),this.matrix&&(s=Ie.transform(s,this.matrix)));const o=this.createPatternCanvas(t);let l=new DOMMatrix(s);l=l.translate(o.offsetX,o.offsetY),l=l.scale(1/o.scaleX,1/o.scaleY);const u=e.createPattern(o.canvas,"repeat");return u.setTransform(l),u}};_e(z0,"MAX_PATTERN_SIZE",3e3);let TE=z0;function eY({src:n,srcPos:e=0,dest:t,width:r,height:i,nonBlackColor:s=4294967295,inverseDecode:o=!1}){const l=wr.isLittleEndian?4278190080:255,[u,d]=o?[s,l]:[l,s],h=r>>3,f=r&7,g=n.length;t=new Uint32Array(t.buffer);let y=0;for(let v=0;v<i;v++){for(const E=e+h;e<E;e++){const x=e<g?n[e]:255;t[y++]=x&128?d:u,t[y++]=x&64?d:u,t[y++]=x&32?d:u,t[y++]=x&16?d:u,t[y++]=x&8?d:u,t[y++]=x&4?d:u,t[y++]=x&2?d:u,t[y++]=x&1?d:u}if(f===0)continue;const w=e<g?n[e++]:255;for(let E=0;E<f;E++)t[y++]=w&1<<7-E?d:u}return{srcPos:e,destPos:y}}const BT=16,jT=100,tY=15,HT=10,WT=1e3,vr=16;function nY(n,e){if(n._removeMirroring)throw new Error("Context is already forwarding operations.");n.__originalSave=n.save,n.__originalRestore=n.restore,n.__originalRotate=n.rotate,n.__originalScale=n.scale,n.__originalTranslate=n.translate,n.__originalTransform=n.transform,n.__originalSetTransform=n.setTransform,n.__originalResetTransform=n.resetTransform,n.__originalClip=n.clip,n.__originalMoveTo=n.moveTo,n.__originalLineTo=n.lineTo,n.__originalBezierCurveTo=n.bezierCurveTo,n.__originalRect=n.rect,n.__originalClosePath=n.closePath,n.__originalBeginPath=n.beginPath,n._removeMirroring=()=>{n.save=n.__originalSave,n.restore=n.__originalRestore,n.rotate=n.__originalRotate,n.scale=n.__originalScale,n.translate=n.__originalTranslate,n.transform=n.__originalTransform,n.setTransform=n.__originalSetTransform,n.resetTransform=n.__originalResetTransform,n.clip=n.__originalClip,n.moveTo=n.__originalMoveTo,n.lineTo=n.__originalLineTo,n.bezierCurveTo=n.__originalBezierCurveTo,n.rect=n.__originalRect,n.closePath=n.__originalClosePath,n.beginPath=n.__originalBeginPath,delete n._removeMirroring},n.save=function(){e.save(),this.__originalSave()},n.restore=function(){e.restore(),this.__originalRestore()},n.translate=function(r,i){e.translate(r,i),this.__originalTranslate(r,i)},n.scale=function(r,i){e.scale(r,i),this.__originalScale(r,i)},n.transform=function(r,i,s,o,l,u){e.transform(r,i,s,o,l,u),this.__originalTransform(r,i,s,o,l,u)},n.setTransform=function(r,i,s,o,l,u){e.setTransform(r,i,s,o,l,u),this.__originalSetTransform(r,i,s,o,l,u)},n.resetTransform=function(){e.resetTransform(),this.__originalResetTransform()},n.rotate=function(r){e.rotate(r),this.__originalRotate(r)},n.clip=function(r){e.clip(r),this.__originalClip(r)},n.moveTo=function(t,r){e.moveTo(t,r),this.__originalMoveTo(t,r)},n.lineTo=function(t,r){e.lineTo(t,r),this.__originalLineTo(t,r)},n.bezierCurveTo=function(t,r,i,s,o,l){e.bezierCurveTo(t,r,i,s,o,l),this.__originalBezierCurveTo(t,r,i,s,o,l)},n.rect=function(t,r,i,s){e.rect(t,r,i,s),this.__originalRect(t,r,i,s)},n.closePath=function(){e.closePath(),this.__originalClosePath()},n.beginPath=function(){e.beginPath(),this.__originalBeginPath()}}class rY{constructor(e){this.canvasFactory=e,this.cache=Object.create(null)}getCanvas(e,t,r){let i;return this.cache[e]!==void 0?(i=this.cache[e],this.canvasFactory.reset(i,t,r)):(i=this.canvasFactory.create(t,r),this.cache[e]=i),i}delete(e){delete this.cache[e]}clear(){for(const e in this.cache){const t=this.cache[e];this.canvasFactory.destroy(t),delete this.cache[e]}}}function my(n,e,t,r,i,s,o,l,u,d){const[h,f,g,y,v,w]=jt(n);if(f===0&&g===0){const _=o*h+v,S=Math.round(_),C=l*y+w,k=Math.round(C),I=(o+u)*h+v,P=Math.abs(Math.round(I)-S)||1,M=(l+d)*y+w,N=Math.abs(Math.round(M)-k)||1;return n.setTransform(Math.sign(h),0,0,Math.sign(y),S,k),n.drawImage(e,t,r,i,s,0,0,P,N),n.setTransform(h,f,g,y,v,w),[P,N]}if(h===0&&y===0){const _=l*g+v,S=Math.round(_),C=o*f+w,k=Math.round(C),I=(l+d)*g+v,P=Math.abs(Math.round(I)-S)||1,M=(o+u)*f+w,N=Math.abs(Math.round(M)-k)||1;return n.setTransform(0,Math.sign(f),Math.sign(g),0,S,k),n.drawImage(e,t,r,i,s,0,0,N,P),n.setTransform(h,f,g,y,v,w),[N,P]}n.drawImage(e,t,r,i,s,o,l,u,d);const E=Math.hypot(h,f),x=Math.hypot(g,y);return[E*u,x*d]}function iY(n){const{width:e,height:t}=n;if(e>WT||t>WT)return null;const r=1e3,i=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),s=e+1;let o=new Uint8Array(s*(t+1)),l,u,d;const h=e+7&-8;let f=new Uint8Array(h*t),g=0;for(const x of n.data){let _=128;for(;_>0;)f[g++]=x&_?0:255,_>>=1}let y=0;for(g=0,f[g]!==0&&(o[0]=1,++y),u=1;u<e;u++)f[g]!==f[g+1]&&(o[u]=f[g]?2:1,++y),g++;for(f[g]!==0&&(o[u]=2,++y),l=1;l<t;l++){g=l*h,d=l*s,f[g-h]!==f[g]&&(o[d]=f[g]?1:8,++y);let x=(f[g]?4:0)+(f[g-h]?8:0);for(u=1;u<e;u++)x=(x>>2)+(f[g+1]?4:0)+(f[g-h+1]?8:0),i[x]&&(o[d+u]=i[x],++y),g++;if(f[g-h]!==f[g]&&(o[d+u]=f[g]?2:4,++y),y>r)return null}for(g=h*(t-1),d=l*s,f[g]!==0&&(o[d]=8,++y),u=1;u<e;u++)f[g]!==f[g+1]&&(o[d+u]=f[g]?4:8,++y),g++;if(f[g]!==0&&(o[d+u]=4,++y),y>r)return null;const v=new Int32Array([0,s,-1,0,-s,0,0,0,1]),w=new Path2D;for(l=0;y&&l<=t;l++){let x=l*s;const _=x+e;for(;x<_&&!o[x];)x++;if(x===_)continue;w.moveTo(x%s,l);const S=x;let C=o[x];do{const k=v[C];do x+=k;while(!o[x]);const I=o[x];I!==5&&I!==10?(C=I,o[x]=0):(C=I&51*C>>4,o[x]&=C>>2|C<<2),w.lineTo(x%s,x/s|0),o[x]||--y}while(S!==x);--l}return f=null,o=null,function(x){x.save(),x.scale(1/e,-1/t),x.translate(0,-t),x.fill(w),x.beginPath(),x.restore()}}class UT{constructor(e,t){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=p2,this.textMatrixScale=1,this.fontMatrix=tE,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=Bn.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,e,t])}clone(){const e=Object.create(this);return e.clipBox=this.clipBox.slice(),e}setCurrentPoint(e,t){this.x=e,this.y=t}updatePathMinMax(e,t,r){[t,r]=Ie.applyTransform([t,r],e),this.minX=Math.min(this.minX,t),this.minY=Math.min(this.minY,r),this.maxX=Math.max(this.maxX,t),this.maxY=Math.max(this.maxY,r)}updateRectMinMax(e,t){const r=Ie.applyTransform(t,e),i=Ie.applyTransform(t.slice(2),e),s=Ie.applyTransform([t[0],t[3]],e),o=Ie.applyTransform([t[2],t[1]],e);this.minX=Math.min(this.minX,r[0],i[0],s[0],o[0]),this.minY=Math.min(this.minY,r[1],i[1],s[1],o[1]),this.maxX=Math.max(this.maxX,r[0],i[0],s[0],o[0]),this.maxY=Math.max(this.maxY,r[1],i[1],s[1],o[1])}updateScalingPathMinMax(e,t){Ie.scaleMinMax(e,t),this.minX=Math.min(this.minX,t[0]),this.minY=Math.min(this.minY,t[1]),this.maxX=Math.max(this.maxX,t[2]),this.maxY=Math.max(this.maxY,t[3])}updateCurvePathMinMax(e,t,r,i,s,o,l,u,d,h){const f=Ie.bezierBoundingBox(t,r,i,s,o,l,u,d,h);h||this.updateRectMinMax(e,f)}getPathBoundingBox(e=rr.FILL,t=null){const r=[this.minX,this.minY,this.maxX,this.maxY];if(e===rr.STROKE){t||bt("Stroke bounding box must include transform.");const i=Ie.singularValueDecompose2dScale(t),s=i[0]*this.lineWidth/2,o=i[1]*this.lineWidth/2;r[0]-=s,r[1]-=o,r[2]+=s,r[3]+=o}return r}updateClipFromPath(){const e=Ie.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(e||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(e){this.clipBox=e,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(e=rr.FILL,t=null){return Ie.intersect(this.clipBox,this.getPathBoundingBox(e,t))}}function VT(n,e){if(typeof ImageData<"u"&&e instanceof ImageData){n.putImageData(e,0,0);return}const t=e.height,r=e.width,i=t%vr,s=(t-i)/vr,o=i===0?s:s+1,l=n.createImageData(r,vr);let u=0,d;const h=e.data,f=l.data;let g,y,v,w;if(e.kind===Ty.GRAYSCALE_1BPP){const E=h.byteLength,x=new Uint32Array(f.buffer,0,f.byteLength>>2),_=x.length,S=r+7>>3,C=4294967295,k=wr.isLittleEndian?4278190080:255;for(g=0;g<o;g++){for(v=g<s?vr:i,d=0,y=0;y<v;y++){const I=E-u;let P=0;const M=I>S?r:I*8-7,N=M&-8;let R=0,D=0;for(;P<N;P+=8)D=h[u++],x[d++]=D&128?C:k,x[d++]=D&64?C:k,x[d++]=D&32?C:k,x[d++]=D&16?C:k,x[d++]=D&8?C:k,x[d++]=D&4?C:k,x[d++]=D&2?C:k,x[d++]=D&1?C:k;for(;P<M;P++)R===0&&(D=h[u++],R=128),x[d++]=D&R?C:k,R>>=1}for(;d<_;)x[d++]=0;n.putImageData(l,0,g*vr)}}else if(e.kind===Ty.RGBA_32BPP){for(y=0,w=r*vr*4,g=0;g<s;g++)f.set(h.subarray(u,u+w)),u+=w,n.putImageData(l,0,y),y+=vr;g<o&&(w=r*i*4,f.set(h.subarray(u,u+w)),n.putImageData(l,0,y))}else if(e.kind===Ty.RGB_24BPP)for(v=vr,w=r*v,g=0;g<o;g++){for(g>=s&&(v=i,w=r*v),d=0,y=w;y--;)f[d++]=h[u++],f[d++]=h[u++],f[d++]=h[u++],f[d++]=255;n.putImageData(l,0,g*vr)}else throw new Error(`bad image kind: ${e.kind}`)}function GT(n,e){if(e.bitmap){n.drawImage(e.bitmap,0,0);return}const t=e.height,r=e.width,i=t%vr,s=(t-i)/vr,o=i===0?s:s+1,l=n.createImageData(r,vr);let u=0;const d=e.data,h=l.data;for(let f=0;f<o;f++){const g=f<s?vr:i;({srcPos:u}=eY({src:d,srcPos:u,dest:h,width:r,height:g,nonBlackColor:0})),n.putImageData(l,0,f*vr)}}function Dh(n,e){const t=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const r of t)n[r]!==void 0&&(e[r]=n[r]);n.setLineDash!==void 0&&(e.setLineDash(n.getLineDash()),e.lineDashOffset=n.lineDashOffset)}function yy(n){if(n.strokeStyle=n.fillStyle="#000000",n.fillRule="nonzero",n.globalAlpha=1,n.lineWidth=1,n.lineCap="butt",n.lineJoin="miter",n.miterLimit=10,n.globalCompositeOperation="source-over",n.font="10px sans-serif",n.setLineDash!==void 0&&(n.setLineDash([]),n.lineDashOffset=0),!qn){const{filter:e}=n;e!=="none"&&e!==""&&(n.filter="none")}}function qT(n,e){if(e)return!0;const t=Ie.singularValueDecompose2dScale(n);t[0]=Math.fround(t[0]),t[1]=Math.fround(t[1]);const r=Math.fround((globalThis.devicePixelRatio||1)*Ba.PDF_TO_CSS_UNITS);return t[0]<=r&&t[1]<=r}const sY=["butt","round","square"],oY=["miter","round","bevel"],aY={},YT={};var Ha,PE,ME;const SC=class SC{constructor(e,t,r,i,s,{optionalContentConfig:o,markedContentStack:l=null},u,d){V(this,Ha);this.ctx=e,this.current=new UT(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=t,this.objs=r,this.canvasFactory=i,this.filterFactory=s,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=l||[],this.optionalContentConfig=o,this.cachedCanvases=new rY(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=u,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=d,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(e,t=null){return typeof e=="string"?e.startsWith("g_")?this.commonObjs.get(e):this.objs.get(e):t}beginDrawing({transform:e,viewport:t,transparency:r=!1,background:i=null}){const s=this.ctx.canvas.width,o=this.ctx.canvas.height,l=this.ctx.fillStyle;if(this.ctx.fillStyle=i||"#ffffff",this.ctx.fillRect(0,0,s,o),this.ctx.fillStyle=l,r){const u=this.cachedCanvases.getCanvas("transparent",s,o);this.compositeCtx=this.ctx,this.transparentCanvas=u.canvas,this.ctx=u.context,this.ctx.save(),this.ctx.transform(...jt(this.compositeCtx))}this.ctx.save(),yy(this.ctx),e&&(this.ctx.transform(...e),this.outputScaleX=e[0],this.outputScaleY=e[0]),this.ctx.transform(...t.transform),this.viewportScale=t.scale,this.baseTransform=jt(this.ctx)}executeOperatorList(e,t,r,i){const s=e.argsArray,o=e.fnArray;let l=t||0;const u=s.length;if(u===l)return l;const d=u-l>HT&&typeof r=="function",h=d?Date.now()+tY:0;let f=0;const g=this.commonObjs,y=this.objs;let v;for(;;){if(i!==void 0&&l===i.nextBreakPoint)return i.breakIt(l,r),l;if(v=o[l],v!==wi.dependency)this[v].apply(this,s[l]);else for(const w of s[l]){const E=w.startsWith("g_")?g:y;if(!E.has(w))return E.get(w,r),l}if(l++,l===u)return l;if(d&&++f>HT){if(Date.now()>h)return r(),l;f=0}}}endDrawing(){j(this,Ha,PE).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const e of this._cachedBitmapsMap.values()){for(const t of e.values())typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement&&(t.width=t.height=0);e.clear()}this._cachedBitmapsMap.clear(),j(this,Ha,ME).call(this)}_scaleImage(e,t){const r=e.width,i=e.height;let s=Math.max(Math.hypot(t[0],t[1]),1),o=Math.max(Math.hypot(t[2],t[3]),1),l=r,u=i,d="prescale1",h,f;for(;s>2&&l>1||o>2&&u>1;){let g=l,y=u;s>2&&l>1&&(g=l>=16384?Math.floor(l/2)-1||1:Math.ceil(l/2),s/=l/g),o>2&&u>1&&(y=u>=16384?Math.floor(u/2)-1||1:Math.ceil(u)/2,o/=u/y),h=this.cachedCanvases.getCanvas(d,g,y),f=h.context,f.clearRect(0,0,g,y),f.drawImage(e,0,0,l,u,0,0,g,y),e=h.canvas,l=g,u=y,d=d==="prescale1"?"prescale2":"prescale1"}return{img:e,paintWidth:l,paintHeight:u}}_createMaskCanvas(e){const t=this.ctx,{width:r,height:i}=e,s=this.current.fillColor,o=this.current.patternFill,l=jt(t);let u,d,h,f;if((e.bitmap||e.data)&&e.count>1){const M=e.bitmap||e.data.buffer;d=JSON.stringify(o?l:[l.slice(0,4),s]),u=this._cachedBitmapsMap.get(M),u||(u=new Map,this._cachedBitmapsMap.set(M,u));const N=u.get(d);if(N&&!o){const R=Math.round(Math.min(l[0],l[2])+l[4]),D=Math.round(Math.min(l[1],l[3])+l[5]);return{canvas:N,offsetX:R,offsetY:D}}h=N}h||(f=this.cachedCanvases.getCanvas("maskCanvas",r,i),GT(f.context,e));let g=Ie.transform(l,[1/r,0,0,-1/i,0,0]);g=Ie.transform(g,[1,0,0,1,0,-i]);const[y,v,w,E]=Ie.getAxialAlignedBoundingBox([0,0,r,i],g),x=Math.round(w-y)||1,_=Math.round(E-v)||1,S=this.cachedCanvases.getCanvas("fillCanvas",x,_),C=S.context,k=y,I=v;C.translate(-k,-I),C.transform(...g),h||(h=this._scaleImage(f.canvas,js(C)),h=h.img,u&&o&&u.set(d,h)),C.imageSmoothingEnabled=qT(jt(C),e.interpolate),my(C,h,0,0,h.width,h.height,0,0,r,i),C.globalCompositeOperation="source-in";const P=Ie.transform(js(C),[1,0,0,1,-k,-I]);return C.fillStyle=o?s.getPattern(t,this,P,rr.FILL):s,C.fillRect(0,0,r,i),u&&!o&&(this.cachedCanvases.delete("fillCanvas"),u.set(d,S.canvas)),{canvas:S.canvas,offsetX:Math.round(k),offsetY:Math.round(I)}}setLineWidth(e){e!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=e,this.ctx.lineWidth=e}setLineCap(e){this.ctx.lineCap=sY[e]}setLineJoin(e){this.ctx.lineJoin=oY[e]}setMiterLimit(e){this.ctx.miterLimit=e}setDash(e,t){const r=this.ctx;r.setLineDash!==void 0&&(r.setLineDash(e),r.lineDashOffset=t)}setRenderingIntent(e){}setFlatness(e){}setGState(e){for(const[t,r]of e)switch(t){case"LW":this.setLineWidth(r);break;case"LC":this.setLineCap(r);break;case"LJ":this.setLineJoin(r);break;case"ML":this.setMiterLimit(r);break;case"D":this.setDash(r[0],r[1]);break;case"RI":this.setRenderingIntent(r);break;case"FL":this.setFlatness(r);break;case"Font":this.setFont(r[0],r[1]);break;case"CA":this.current.strokeAlpha=r;break;case"ca":this.current.fillAlpha=r,this.ctx.globalAlpha=r;break;case"BM":this.ctx.globalCompositeOperation=r;break;case"SMask":this.current.activeSMask=r?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(r);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const e=this.inSMaskMode;this.current.activeSMask&&!e?this.beginSMaskMode():!this.current.activeSMask&&e&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const e=this.ctx.canvas.width,t=this.ctx.canvas.height,r="smaskGroupAt"+this.groupLevel,i=this.cachedCanvases.getCanvas(r,e,t);this.suspendedCtx=this.ctx,this.ctx=i.context;const s=this.ctx;s.setTransform(...jt(this.suspendedCtx)),Dh(this.suspendedCtx,s),nY(s,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),Dh(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(e){if(!this.current.activeSMask)return;e?(e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.ceil(e[2]),e[3]=Math.ceil(e[3])):e=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const t=this.current.activeSMask,r=this.suspendedCtx;this.composeSMask(r,t,this.ctx,e),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(e,t,r,i){const s=i[0],o=i[1],l=i[2]-s,u=i[3]-o;l===0||u===0||(this.genericComposeSMask(t.context,r,l,u,t.subtype,t.backdrop,t.transferMap,s,o,t.offsetX,t.offsetY),e.save(),e.globalAlpha=1,e.globalCompositeOperation="source-over",e.setTransform(1,0,0,1,0,0),e.drawImage(r.canvas,0,0),e.restore())}genericComposeSMask(e,t,r,i,s,o,l,u,d,h,f){let g=e.canvas,y=u-h,v=d-f;if(o){if(y<0||v<0||y+r>g.width||v+i>g.height){const E=this.cachedCanvases.getCanvas("maskExtension",r,i),x=E.context;x.drawImage(g,-y,-v),o.some(_=>_!==0)&&(x.globalCompositeOperation="destination-atop",x.fillStyle=Ie.makeHexColor(...o),x.fillRect(0,0,r,i),x.globalCompositeOperation="source-over"),g=E.canvas,y=v=0}else if(o.some(E=>E!==0)){e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0);const E=new Path2D;E.rect(y,v,r,i),e.clip(E),e.globalCompositeOperation="destination-atop",e.fillStyle=Ie.makeHexColor(...o),e.fillRect(y,v,r,i),e.restore()}}t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0),s==="Alpha"&&l?t.filter=this.filterFactory.addAlphaFilter(l):s==="Luminosity"&&(t.filter=this.filterFactory.addLuminosityFilter(l));const w=new Path2D;w.rect(u,d,r,i),t.clip(w),t.globalCompositeOperation="destination-in",t.drawImage(g,y,v,r,i,u,d,r,i),t.restore()}save(){this.inSMaskMode?(Dh(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const e=this.current;this.stateStack.push(e),this.current=e.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),Dh(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(e,t,r,i,s,o){this.ctx.transform(e,t,r,i,s,o),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(e,t,r){const i=this.ctx,s=this.current;let o=s.x,l=s.y,u,d;const h=jt(i),f=h[0]===0&&h[3]===0||h[1]===0&&h[2]===0,g=f?r.slice(0):null;for(let y=0,v=0,w=e.length;y<w;y++)switch(e[y]|0){case wi.rectangle:o=t[v++],l=t[v++];const E=t[v++],x=t[v++],_=o+E,S=l+x;i.moveTo(o,l),E===0||x===0?i.lineTo(_,S):(i.lineTo(_,l),i.lineTo(_,S),i.lineTo(o,S)),f||s.updateRectMinMax(h,[o,l,_,S]),i.closePath();break;case wi.moveTo:o=t[v++],l=t[v++],i.moveTo(o,l),f||s.updatePathMinMax(h,o,l);break;case wi.lineTo:o=t[v++],l=t[v++],i.lineTo(o,l),f||s.updatePathMinMax(h,o,l);break;case wi.curveTo:u=o,d=l,o=t[v+4],l=t[v+5],i.bezierCurveTo(t[v],t[v+1],t[v+2],t[v+3],o,l),s.updateCurvePathMinMax(h,u,d,t[v],t[v+1],t[v+2],t[v+3],o,l,g),v+=6;break;case wi.curveTo2:u=o,d=l,i.bezierCurveTo(o,l,t[v],t[v+1],t[v+2],t[v+3]),s.updateCurvePathMinMax(h,u,d,o,l,t[v],t[v+1],t[v+2],t[v+3],g),o=t[v+2],l=t[v+3],v+=4;break;case wi.curveTo3:u=o,d=l,o=t[v+2],l=t[v+3],i.bezierCurveTo(t[v],t[v+1],o,l,o,l),s.updateCurvePathMinMax(h,u,d,t[v],t[v+1],o,l,o,l,g),v+=4;break;case wi.closePath:i.closePath();break}f&&s.updateScalingPathMinMax(h,g),s.setCurrentPoint(o,l)}closePath(){this.ctx.closePath()}stroke(e=!0){const t=this.ctx,r=this.current.strokeColor;t.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof r=="object"&&(r!=null&&r.getPattern)?(t.save(),t.strokeStyle=r.getPattern(t,this,js(t),rr.STROKE),this.rescaleAndStroke(!1),t.restore()):this.rescaleAndStroke(!0)),e&&this.consumePath(this.current.getClippedPathBoundingBox()),t.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(e=!0){const t=this.ctx,r=this.current.fillColor,i=this.current.patternFill;let s=!1;i&&(t.save(),t.fillStyle=r.getPattern(t,this,js(t),rr.FILL),s=!0);const o=this.current.getClippedPathBoundingBox();this.contentVisible&&o!==null&&(this.pendingEOFill?(t.fill("evenodd"),this.pendingEOFill=!1):t.fill()),s&&t.restore(),e&&this.consumePath(o)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=aY}eoClip(){this.pendingClip=YT}beginText(){this.current.textMatrix=p2,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const e=this.pendingTextPaths,t=this.ctx;if(e===void 0){t.beginPath();return}t.save(),t.beginPath();for(const r of e)t.setTransform(...r.transform),t.translate(r.x,r.y),r.addToPath(t,r.fontSize);t.restore(),t.clip(),t.beginPath(),delete this.pendingTextPaths}setCharSpacing(e){this.current.charSpacing=e}setWordSpacing(e){this.current.wordSpacing=e}setHScale(e){this.current.textHScale=e/100}setLeading(e){this.current.leading=-e}setFont(e,t){var h;const r=this.commonObjs.get(e),i=this.current;if(!r)throw new Error(`Can't find font for ${e}`);if(i.fontMatrix=r.fontMatrix||tE,(i.fontMatrix[0]===0||i.fontMatrix[3]===0)&&Ve("Invalid font matrix for font "+e),t<0?(t=-t,i.fontDirection=-1):i.fontDirection=1,this.current.font=r,this.current.fontSize=t,r.isType3Font)return;const s=r.loadedName||"sans-serif",o=((h=r.systemFontInfo)==null?void 0:h.css)||`"${s}", ${r.fallbackName}`;let l="normal";r.black?l="900":r.bold&&(l="bold");const u=r.italic?"italic":"normal";let d=t;t<BT?d=BT:t>jT&&(d=jT),this.current.fontSizeScale=t/d,this.ctx.font=`${u} ${l} ${d}px ${o}`}setTextRenderingMode(e){this.current.textRenderingMode=e}setTextRise(e){this.current.textRise=e}moveText(e,t){this.current.x=this.current.lineX+=e,this.current.y=this.current.lineY+=t}setLeadingMoveText(e,t){this.setLeading(-t),this.moveText(e,t)}setTextMatrix(e,t,r,i,s,o){this.current.textMatrix=[e,t,r,i,s,o],this.current.textMatrixScale=Math.hypot(e,t),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(e,t,r,i){const s=this.ctx,o=this.current,l=o.font,u=o.textRenderingMode,d=o.fontSize/o.fontSizeScale,h=u&Bn.FILL_STROKE_MASK,f=!!(u&Bn.ADD_TO_PATH_FLAG),g=o.patternFill&&!l.missingFile;let y;(l.disableFontFace||f||g)&&(y=l.getPathGenerator(this.commonObjs,e)),l.disableFontFace||g?(s.save(),s.translate(t,r),s.beginPath(),y(s,d),i&&s.setTransform(...i),(h===Bn.FILL||h===Bn.FILL_STROKE)&&s.fill(),(h===Bn.STROKE||h===Bn.FILL_STROKE)&&s.stroke(),s.restore()):((h===Bn.FILL||h===Bn.FILL_STROKE)&&s.fillText(e,t,r),(h===Bn.STROKE||h===Bn.FILL_STROKE)&&s.strokeText(e,t,r)),f&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:jt(s),x:t,y:r,fontSize:d,addToPath:y})}get isFontSubpixelAAEnabled(){const{context:e}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);e.scale(1.5,1),e.fillText("I",0,10);const t=e.getImageData(0,0,10,10).data;let r=!1;for(let i=3;i<t.length;i+=4)if(t[i]>0&&t[i]<255){r=!0;break}return Je(this,"isFontSubpixelAAEnabled",r)}showText(e){const t=this.current,r=t.font;if(r.isType3Font)return this.showType3Text(e);const i=t.fontSize;if(i===0)return;const s=this.ctx,o=t.fontSizeScale,l=t.charSpacing,u=t.wordSpacing,d=t.fontDirection,h=t.textHScale*d,f=e.length,g=r.vertical,y=g?1:-1,v=r.defaultVMetrics,w=i*t.fontMatrix[0],E=t.textRenderingMode===Bn.FILL&&!r.disableFontFace&&!t.patternFill;s.save(),s.transform(...t.textMatrix),s.translate(t.x,t.y+t.textRise),d>0?s.scale(h,-1):s.scale(h,1);let x;if(t.patternFill){s.save();const I=t.fillColor.getPattern(s,this,js(s),rr.FILL);x=jt(s),s.restore(),s.fillStyle=I}let _=t.lineWidth;const S=t.textMatrixScale;if(S===0||_===0){const I=t.textRenderingMode&Bn.FILL_STROKE_MASK;(I===Bn.STROKE||I===Bn.FILL_STROKE)&&(_=this.getSinglePixelWidth())}else _/=S;if(o!==1&&(s.scale(o,o),_/=o),s.lineWidth=_,r.isInvalidPDFjsFont){const I=[];let P=0;for(const M of e)I.push(M.unicode),P+=M.width;s.fillText(I.join(""),0,0),t.x+=P*w*h,s.restore(),this.compose();return}let C=0,k;for(k=0;k<f;++k){const I=e[k];if(typeof I=="number"){C+=y*I*i/1e3;continue}let P=!1;const M=(I.isSpace?u:0)+l,N=I.fontChar,R=I.accent;let D,$,G=I.width;if(g){const q=I.vmetric||v,H=-(I.vmetric?q[1]:G*.5)*w,X=q[2]*w;G=q?-q[0]:G,D=H/o,$=(C+X)/o}else D=C/o,$=0;if(r.remeasure&&G>0){const q=s.measureText(N).width*1e3/i*o;if(G<q&&this.isFontSubpixelAAEnabled){const H=G/q;P=!0,s.save(),s.scale(H,1),D/=H}else G!==q&&(D+=(G-q)/2e3*i/o)}if(this.contentVisible&&(I.isInFont||r.missingFile)){if(E&&!R)s.fillText(N,D,$);else if(this.paintChar(N,D,$,x),R){const q=D+i*R.offset.x/o,H=$-i*R.offset.y/o;this.paintChar(R.fontChar,q,H,x)}}const L=g?G*w-M*d:G*w+M*d;C+=L,P&&s.restore()}g?t.y-=C:t.x+=C*h,s.restore(),this.compose()}showType3Text(e){const t=this.ctx,r=this.current,i=r.font,s=r.fontSize,o=r.fontDirection,l=i.vertical?1:-1,u=r.charSpacing,d=r.wordSpacing,h=r.textHScale*o,f=r.fontMatrix||tE,g=e.length,y=r.textRenderingMode===Bn.INVISIBLE;let v,w,E,x;if(!(y||s===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,t.save(),t.transform(...r.textMatrix),t.translate(r.x,r.y),t.scale(h,o),v=0;v<g;++v){if(w=e[v],typeof w=="number"){x=l*w*s/1e3,this.ctx.translate(x,0),r.x+=x*h;continue}const _=(w.isSpace?d:0)+u,S=i.charProcOperatorList[w.operatorListId];if(!S){Ve(`Type3 character "${w.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=w,this.save(),t.scale(s,s),t.transform(...f),this.executeOperatorList(S),this.restore()),E=Ie.applyTransform([w.width,0],f)[0]*s+_,t.translate(E,0),r.x+=E*h}t.restore(),this.processingType3=null}}setCharWidth(e,t){}setCharWidthAndBounds(e,t,r,i,s,o){this.ctx.rect(r,i,s-r,o-i),this.ctx.clip(),this.endPath()}getColorN_Pattern(e){let t;if(e[0]==="TilingPattern"){const r=e[1],i=this.baseTransform||jt(this.ctx),s={createCanvasGraphics:o=>new SC(o,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};t=new TE(e,r,this.ctx,s,i)}else t=this._getPattern(e[1],e[2]);return t}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(e,t,r){const i=Ie.makeHexColor(e,t,r);this.ctx.strokeStyle=i,this.current.strokeColor=i}setFillRGBColor(e,t,r){const i=Ie.makeHexColor(e,t,r);this.ctx.fillStyle=i,this.current.fillColor=i,this.current.patternFill=!1}_getPattern(e,t=null){let r;return this.cachedPatterns.has(e)?r=this.cachedPatterns.get(e):(r=Jq(this.getObject(e)),this.cachedPatterns.set(e,r)),t&&(r.matrix=t),r}shadingFill(e){if(!this.contentVisible)return;const t=this.ctx;this.save();const r=this._getPattern(e);t.fillStyle=r.getPattern(t,this,js(t),rr.SHADING);const i=js(t);if(i){const{width:s,height:o}=t.canvas,[l,u,d,h]=Ie.getAxialAlignedBoundingBox([0,0,s,o],i);this.ctx.fillRect(l,u,d-l,h-u)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){bt("Should not call beginInlineImage")}beginImageData(){bt("Should not call beginImageData")}paintFormXObjectBegin(e,t){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),e&&this.transform(...e),this.baseTransform=jt(this.ctx),t)){const r=t[2]-t[0],i=t[3]-t[1];this.ctx.rect(t[0],t[1],r,i),this.current.updateRectMinMax(jt(this.ctx),t),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(e){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const t=this.ctx;e.isolated||Pv("TODO: Support non-isolated groups."),e.knockout&&Ve("Knockout groups not supported.");const r=jt(t);if(e.matrix&&t.transform(...e.matrix),!e.bbox)throw new Error("Bounding box is required.");let i=Ie.getAxialAlignedBoundingBox(e.bbox,jt(t));const s=[0,0,t.canvas.width,t.canvas.height];i=Ie.intersect(i,s)||[0,0,0,0];const o=Math.floor(i[0]),l=Math.floor(i[1]),u=Math.max(Math.ceil(i[2])-o,1),d=Math.max(Math.ceil(i[3])-l,1);this.current.startNewPathAndClipBox([0,0,u,d]);let h="groupAt"+this.groupLevel;e.smask&&(h+="_smask_"+this.smaskCounter++%2);const f=this.cachedCanvases.getCanvas(h,u,d),g=f.context;g.translate(-o,-l),g.transform(...r),e.smask?this.smaskStack.push({canvas:f.canvas,context:g,offsetX:o,offsetY:l,subtype:e.smask.subtype,backdrop:e.smask.backdrop,transferMap:e.smask.transferMap||null,startTransformInverse:null}):(t.setTransform(1,0,0,1,0,0),t.translate(o,l),t.save()),Dh(t,g),this.ctx=g,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(t),this.groupLevel++}endGroup(e){if(!this.contentVisible)return;this.groupLevel--;const t=this.ctx,r=this.groupStack.pop();if(this.ctx=r,this.ctx.imageSmoothingEnabled=!1,e.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const i=jt(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...i);const s=Ie.getAxialAlignedBoundingBox([0,0,t.canvas.width,t.canvas.height],i);this.ctx.drawImage(t.canvas,0,0),this.ctx.restore(),this.compose(s)}}beginAnnotation(e,t,r,i,s){if(j(this,Ha,PE).call(this),yy(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),t){const o=t[2]-t[0],l=t[3]-t[1];if(s&&this.annotationCanvasMap){r=r.slice(),r[4]-=t[0],r[5]-=t[1],t=t.slice(),t[0]=t[1]=0,t[2]=o,t[3]=l;const[u,d]=Ie.singularValueDecompose2dScale(jt(this.ctx)),{viewportScale:h}=this,f=Math.ceil(o*this.outputScaleX*h),g=Math.ceil(l*this.outputScaleY*h);this.annotationCanvas=this.canvasFactory.create(f,g);const{canvas:y,context:v}=this.annotationCanvas;this.annotationCanvasMap.set(e,y),this.annotationCanvas.savedCtx=this.ctx,this.ctx=v,this.ctx.save(),this.ctx.setTransform(u,0,0,-d,0,l*d),yy(this.ctx)}else yy(this.ctx),this.ctx.rect(t[0],t[1],o,l),this.ctx.clip(),this.endPath()}this.current=new UT(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...r),this.transform(...i)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),j(this,Ha,ME).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(e){if(!this.contentVisible)return;const t=e.count;e=this.getObject(e.data,e),e.count=t;const r=this.ctx,i=this.processingType3;if(i&&(i.compiled===void 0&&(i.compiled=iY(e)),i.compiled)){i.compiled(r);return}const s=this._createMaskCanvas(e),o=s.canvas;r.save(),r.setTransform(1,0,0,1,0,0),r.drawImage(o,s.offsetX,s.offsetY),r.restore(),this.compose()}paintImageMaskXObjectRepeat(e,t,r=0,i=0,s,o){if(!this.contentVisible)return;e=this.getObject(e.data,e);const l=this.ctx;l.save();const u=jt(l);l.transform(t,r,i,s,0,0);const d=this._createMaskCanvas(e);l.setTransform(1,0,0,1,d.offsetX-u[4],d.offsetY-u[5]);for(let h=0,f=o.length;h<f;h+=2){const g=Ie.transform(u,[t,r,i,s,o[h],o[h+1]]),[y,v]=Ie.applyTransform([0,0],g);l.drawImage(d.canvas,y,v)}l.restore(),this.compose()}paintImageMaskXObjectGroup(e){if(!this.contentVisible)return;const t=this.ctx,r=this.current.fillColor,i=this.current.patternFill;for(const s of e){const{data:o,width:l,height:u,transform:d}=s,h=this.cachedCanvases.getCanvas("maskCanvas",l,u),f=h.context;f.save();const g=this.getObject(o,s);GT(f,g),f.globalCompositeOperation="source-in",f.fillStyle=i?r.getPattern(f,this,js(t),rr.FILL):r,f.fillRect(0,0,l,u),f.restore(),t.save(),t.transform(...d),t.scale(1,-1),my(t,h.canvas,0,0,l,u,0,-1,1,1),t.restore()}this.compose()}paintImageXObject(e){if(!this.contentVisible)return;const t=this.getObject(e);if(!t){Ve("Dependent image isn't ready yet");return}this.paintInlineImageXObject(t)}paintImageXObjectRepeat(e,t,r,i){if(!this.contentVisible)return;const s=this.getObject(e);if(!s){Ve("Dependent image isn't ready yet");return}const o=s.width,l=s.height,u=[];for(let d=0,h=i.length;d<h;d+=2)u.push({transform:[t,0,0,r,i[d],i[d+1]],x:0,y:0,w:o,h:l});this.paintInlineImageXObjectGroup(s,u)}applyTransferMapsToCanvas(e){return this.current.transferMaps!=="none"&&(e.filter=this.current.transferMaps,e.drawImage(e.canvas,0,0),e.filter="none"),e.canvas}applyTransferMapsToBitmap(e){if(this.current.transferMaps==="none")return e.bitmap;const{bitmap:t,width:r,height:i}=e,s=this.cachedCanvases.getCanvas("inlineImage",r,i),o=s.context;return o.filter=this.current.transferMaps,o.drawImage(t,0,0),o.filter="none",s.canvas}paintInlineImageXObject(e){if(!this.contentVisible)return;const t=e.width,r=e.height,i=this.ctx;if(this.save(),!qn){const{filter:l}=i;l!=="none"&&l!==""&&(i.filter="none")}i.scale(1/t,-1/r);let s;if(e.bitmap)s=this.applyTransferMapsToBitmap(e);else if(typeof HTMLElement=="function"&&e instanceof HTMLElement||!e.data)s=e;else{const u=this.cachedCanvases.getCanvas("inlineImage",t,r).context;VT(u,e),s=this.applyTransferMapsToCanvas(u)}const o=this._scaleImage(s,js(i));i.imageSmoothingEnabled=qT(jt(i),e.interpolate),my(i,o.img,0,0,o.paintWidth,o.paintHeight,0,-r,t,r),this.compose(),this.restore()}paintInlineImageXObjectGroup(e,t){if(!this.contentVisible)return;const r=this.ctx;let i;if(e.bitmap)i=e.bitmap;else{const s=e.width,o=e.height,u=this.cachedCanvases.getCanvas("inlineImage",s,o).context;VT(u,e),i=this.applyTransferMapsToCanvas(u)}for(const s of t)r.save(),r.transform(...s.transform),r.scale(1,-1),my(r,i,s.x,s.y,s.w,s.h,0,-1,1,1),r.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(e){}markPointProps(e,t){}beginMarkedContent(e){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(e,t){e==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(t)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(e){const t=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(e);const r=this.ctx;this.pendingClip&&(t||(this.pendingClip===YT?r.clip("evenodd"):r.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),r.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const e=jt(this.ctx);if(e[1]===0&&e[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(e[0]),Math.abs(e[3]));else{const t=Math.abs(e[0]*e[3]-e[2]*e[1]),r=Math.hypot(e[0],e[2]),i=Math.hypot(e[1],e[3]);this._cachedGetSinglePixelWidth=Math.max(r,i)/t}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:e}=this.current,{a:t,b:r,c:i,d:s}=this.ctx.getTransform();let o,l;if(r===0&&i===0){const u=Math.abs(t),d=Math.abs(s);if(u===d)if(e===0)o=l=1/u;else{const h=u*e;o=l=h<1?1/h:1}else if(e===0)o=1/u,l=1/d;else{const h=u*e,f=d*e;o=h<1?1/h:1,l=f<1?1/f:1}}else{const u=Math.abs(t*s-r*i),d=Math.hypot(t,r),h=Math.hypot(i,s);if(e===0)o=h/u,l=d/u;else{const f=e*u;o=h>f?h/f:1,l=d>f?d/f:1}}this._cachedScaleForStroking[0]=o,this._cachedScaleForStroking[1]=l}return this._cachedScaleForStroking}rescaleAndStroke(e){const{ctx:t}=this,{lineWidth:r}=this.current,[i,s]=this.getScaleForStroking();if(t.lineWidth=r||1,i===1&&s===1){t.stroke();return}const o=t.getLineDash();if(e&&t.save(),t.scale(i,s),o.length>0){const l=Math.max(i,s);t.setLineDash(o.map(u=>u/l)),t.lineDashOffset/=l}t.stroke(),e&&t.restore()}isContentVisible(){for(let e=this.markedContentStack.length-1;e>=0;e--)if(!this.markedContentStack[e].visible)return!1;return!0}};Ha=new WeakSet,PE=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},ME=function(){if(this.pageColors){const e=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(e!=="none"){const t=this.ctx.filter;this.ctx.filter=e,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=t}}};let Ru=SC;for(const n in wi)Ru.prototype[n]!==void 0&&(Ru.prototype[wi[n]]=Ru.prototype[n]);var dp,hp;class wo{static get workerPort(){return m(this,dp)}static set workerPort(e){if(!(typeof Worker<"u"&&e instanceof Worker)&&e!==null)throw new Error("Invalid `workerPort` type.");B(this,dp,e)}static get workerSrc(){return m(this,hp)}static set workerSrc(e){if(typeof e!="string")throw new Error("Invalid `workerSrc` type.");B(this,hp,e)}}dp=new WeakMap,hp=new WeakMap,V(wo,dp,null),V(wo,hp,"");const vy={DATA:1,ERROR:2},tn={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function Nr(n){switch(n instanceof Error||typeof n=="object"&&n!==null||bt('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),n.name){case"AbortException":return new Tc(n.message);case"MissingPDFException":return new Rc(n.message);case"PasswordException":return new rE(n.message,n.code);case"UnexpectedResponseException":return new Mv(n.message,n.status);case"UnknownErrorException":return new iE(n.message,n.details);default:return new iE(n.message,n.toString())}}var Ss,Q2,Z2,Oy;class Qh{constructor(e,t,r){V(this,Ss);this.sourceName=e,this.targetName=t,this.comObj=r,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=i=>{const s=i.data;if(s.targetName!==this.sourceName)return;if(s.stream){j(this,Ss,Z2).call(this,s);return}if(s.callback){const l=s.callbackId,u=this.callbackCapabilities[l];if(!u)throw new Error(`Cannot resolve callback ${l}`);if(delete this.callbackCapabilities[l],s.callback===vy.DATA)u.resolve(s.data);else if(s.callback===vy.ERROR)u.reject(Nr(s.reason));else throw new Error("Unexpected callback case");return}const o=this.actionHandler[s.action];if(!o)throw new Error(`Unknown action from worker: ${s.action}`);if(s.callbackId){const l=this.sourceName,u=s.sourceName;new Promise(function(d){d(o(s.data))}).then(function(d){r.postMessage({sourceName:l,targetName:u,callback:vy.DATA,callbackId:s.callbackId,data:d})},function(d){r.postMessage({sourceName:l,targetName:u,callback:vy.ERROR,callbackId:s.callbackId,reason:Nr(d)})});return}if(s.streamId){j(this,Ss,Q2).call(this,s);return}o(s.data)},r.addEventListener("message",this._onComObjOnMessage)}on(e,t){const r=this.actionHandler;if(r[e])throw new Error(`There is already an actionName called "${e}"`);r[e]=t}send(e,t,r){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,data:t},r)}sendWithPromise(e,t,r){const i=this.callbackId++,s=Promise.withResolvers();this.callbackCapabilities[i]=s;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,callbackId:i,data:t},r)}catch(o){s.reject(o)}return s.promise}sendWithStream(e,t,r,i){const s=this.streamId++,o=this.sourceName,l=this.targetName,u=this.comObj;return new ReadableStream({start:d=>{const h=Promise.withResolvers();return this.streamControllers[s]={controller:d,startCall:h,pullCall:null,cancelCall:null,isClosed:!1},u.postMessage({sourceName:o,targetName:l,action:e,streamId:s,data:t,desiredSize:d.desiredSize},i),h.promise},pull:d=>{const h=Promise.withResolvers();return this.streamControllers[s].pullCall=h,u.postMessage({sourceName:o,targetName:l,stream:tn.PULL,streamId:s,desiredSize:d.desiredSize}),h.promise},cancel:d=>{yn(d instanceof Error,"cancel must have a valid reason");const h=Promise.withResolvers();return this.streamControllers[s].cancelCall=h,this.streamControllers[s].isClosed=!0,u.postMessage({sourceName:o,targetName:l,stream:tn.CANCEL,streamId:s,reason:Nr(d)}),h.promise}},r)}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}Ss=new WeakSet,Q2=function(e){const t=e.streamId,r=this.sourceName,i=e.sourceName,s=this.comObj,o=this,l=this.actionHandler[e.action],u={enqueue(d,h=1,f){if(this.isCancelled)return;const g=this.desiredSize;this.desiredSize-=h,g>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),s.postMessage({sourceName:r,targetName:i,stream:tn.ENQUEUE,streamId:t,chunk:d},f)},close(){this.isCancelled||(this.isCancelled=!0,s.postMessage({sourceName:r,targetName:i,stream:tn.CLOSE,streamId:t}),delete o.streamSinks[t])},error(d){yn(d instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,s.postMessage({sourceName:r,targetName:i,stream:tn.ERROR,streamId:t,reason:Nr(d)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:e.desiredSize,ready:null};u.sinkCapability.resolve(),u.ready=u.sinkCapability.promise,this.streamSinks[t]=u,new Promise(function(d){d(l(e.data,u))}).then(function(){s.postMessage({sourceName:r,targetName:i,stream:tn.START_COMPLETE,streamId:t,success:!0})},function(d){s.postMessage({sourceName:r,targetName:i,stream:tn.START_COMPLETE,streamId:t,reason:Nr(d)})})},Z2=function(e){const t=e.streamId,r=this.sourceName,i=e.sourceName,s=this.comObj,o=this.streamControllers[t],l=this.streamSinks[t];switch(e.stream){case tn.START_COMPLETE:e.success?o.startCall.resolve():o.startCall.reject(Nr(e.reason));break;case tn.PULL_COMPLETE:e.success?o.pullCall.resolve():o.pullCall.reject(Nr(e.reason));break;case tn.PULL:if(!l){s.postMessage({sourceName:r,targetName:i,stream:tn.PULL_COMPLETE,streamId:t,success:!0});break}l.desiredSize<=0&&e.desiredSize>0&&l.sinkCapability.resolve(),l.desiredSize=e.desiredSize,new Promise(function(u){var d;u((d=l.onPull)==null?void 0:d.call(l))}).then(function(){s.postMessage({sourceName:r,targetName:i,stream:tn.PULL_COMPLETE,streamId:t,success:!0})},function(u){s.postMessage({sourceName:r,targetName:i,stream:tn.PULL_COMPLETE,streamId:t,reason:Nr(u)})});break;case tn.ENQUEUE:if(yn(o,"enqueue should have stream controller"),o.isClosed)break;o.controller.enqueue(e.chunk);break;case tn.CLOSE:if(yn(o,"close should have stream controller"),o.isClosed)break;o.isClosed=!0,o.controller.close(),j(this,Ss,Oy).call(this,o,t);break;case tn.ERROR:yn(o,"error should have stream controller"),o.controller.error(Nr(e.reason)),j(this,Ss,Oy).call(this,o,t);break;case tn.CANCEL_COMPLETE:e.success?o.cancelCall.resolve():o.cancelCall.reject(Nr(e.reason)),j(this,Ss,Oy).call(this,o,t);break;case tn.CANCEL:if(!l)break;new Promise(function(u){var d;u((d=l.onCancel)==null?void 0:d.call(l,Nr(e.reason)))}).then(function(){s.postMessage({sourceName:r,targetName:i,stream:tn.CANCEL_COMPLETE,streamId:t,success:!0})},function(u){s.postMessage({sourceName:r,targetName:i,stream:tn.CANCEL_COMPLETE,streamId:t,reason:Nr(u)})}),l.sinkCapability.reject(Nr(e.reason)),l.isCancelled=!0,delete this.streamSinks[t];break;default:throw new Error("Unexpected stream case")}},Oy=async function(e,t){var r,i,s;await Promise.allSettled([(r=e.startCall)==null?void 0:r.promise,(i=e.pullCall)==null?void 0:i.promise,(s=e.cancelCall)==null?void 0:s.promise]),delete this.streamControllers[t]};var Fl,fp;class lY{constructor({parsedData:e,rawData:t}){V(this,Fl);V(this,fp);B(this,Fl,e),B(this,fp,t)}getRaw(){return m(this,fp)}get(e){return m(this,Fl).get(e)??null}getAll(){return lC(m(this,Fl))}has(e){return m(this,Fl).has(e)}}Fl=new WeakMap,fp=new WeakMap;const aa=Symbol("INTERNAL");var pp,gp,mp,Wu;class cY{constructor(e,{name:t,intent:r,usage:i}){V(this,pp,!1);V(this,gp,!1);V(this,mp,!1);V(this,Wu,!0);B(this,pp,!!(e&ai.DISPLAY)),B(this,gp,!!(e&ai.PRINT)),this.name=t,this.intent=r,this.usage=i}get visible(){if(m(this,mp))return m(this,Wu);if(!m(this,Wu))return!1;const{print:e,view:t}=this.usage;return m(this,pp)?(t==null?void 0:t.viewState)!=="OFF":m(this,gp)?(e==null?void 0:e.printState)!=="OFF":!0}_setVisible(e,t,r=!1){e!==aa&&bt("Internal method `_setVisible` called."),B(this,mp,r),B(this,Wu,t)}}pp=new WeakMap,gp=new WeakMap,mp=new WeakMap,Wu=new WeakMap;var va,vt,Uu,Vu,yp,IE;class uY{constructor(e,t=ai.DISPLAY){V(this,yp);V(this,va,null);V(this,vt,new Map);V(this,Uu,null);V(this,Vu,null);if(this.renderingIntent=t,this.name=null,this.creator=null,e!==null){this.name=e.name,this.creator=e.creator,B(this,Vu,e.order);for(const r of e.groups)m(this,vt).set(r.id,new cY(t,r));if(e.baseState==="OFF")for(const r of m(this,vt).values())r._setVisible(aa,!1);for(const r of e.on)m(this,vt).get(r)._setVisible(aa,!0);for(const r of e.off)m(this,vt).get(r)._setVisible(aa,!1);B(this,Uu,this.getHash())}}isVisible(e){if(m(this,vt).size===0)return!0;if(!e)return Pv("Optional content group not defined."),!0;if(e.type==="OCG")return m(this,vt).has(e.id)?m(this,vt).get(e.id).visible:(Ve(`Optional content group not found: ${e.id}`),!0);if(e.type==="OCMD"){if(e.expression)return j(this,yp,IE).call(this,e.expression);if(!e.policy||e.policy==="AnyOn"){for(const t of e.ids){if(!m(this,vt).has(t))return Ve(`Optional content group not found: ${t}`),!0;if(m(this,vt).get(t).visible)return!0}return!1}else if(e.policy==="AllOn"){for(const t of e.ids){if(!m(this,vt).has(t))return Ve(`Optional content group not found: ${t}`),!0;if(!m(this,vt).get(t).visible)return!1}return!0}else if(e.policy==="AnyOff"){for(const t of e.ids){if(!m(this,vt).has(t))return Ve(`Optional content group not found: ${t}`),!0;if(!m(this,vt).get(t).visible)return!0}return!1}else if(e.policy==="AllOff"){for(const t of e.ids){if(!m(this,vt).has(t))return Ve(`Optional content group not found: ${t}`),!0;if(m(this,vt).get(t).visible)return!1}return!0}return Ve(`Unknown optional content policy ${e.policy}.`),!0}return Ve(`Unknown group type ${e.type}.`),!0}setVisibility(e,t=!0){const r=m(this,vt).get(e);if(!r){Ve(`Optional content group not found: ${e}`);return}r._setVisible(aa,!!t,!0),B(this,va,null)}setOCGState({state:e,preserveRB:t}){let r;for(const i of e){switch(i){case"ON":case"OFF":case"Toggle":r=i;continue}const s=m(this,vt).get(i);if(s)switch(r){case"ON":s._setVisible(aa,!0);break;case"OFF":s._setVisible(aa,!1);break;case"Toggle":s._setVisible(aa,!s.visible);break}}B(this,va,null)}get hasInitialVisibility(){return m(this,Uu)===null||this.getHash()===m(this,Uu)}getOrder(){return m(this,vt).size?m(this,Vu)?m(this,Vu).slice():[...m(this,vt).keys()]:null}getGroups(){return m(this,vt).size>0?lC(m(this,vt)):null}getGroup(e){return m(this,vt).get(e)||null}getHash(){if(m(this,va)!==null)return m(this,va);const e=new q2;for(const[t,r]of m(this,vt))e.update(`${t}:${r.visible}`);return B(this,va,e.hexdigest())}}va=new WeakMap,vt=new WeakMap,Uu=new WeakMap,Vu=new WeakMap,yp=new WeakSet,IE=function(e){const t=e.length;if(t<2)return!0;const r=e[0];for(let i=1;i<t;i++){const s=e[i];let o;if(Array.isArray(s))o=j(this,yp,IE).call(this,s);else if(m(this,vt).has(s))o=m(this,vt).get(s).visible;else return Ve(`Optional content group not found: ${s}`),!0;switch(r){case"And":if(!o)return!1;break;case"Or":if(o)return!0;break;case"Not":return!o;default:return!0}}return r==="And"};class dY{constructor(e,{disableRange:t=!1,disableStream:r=!1}){yn(e,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:i,initialData:s,progressiveDone:o,contentDispositionFilename:l}=e;if(this._queuedChunks=[],this._progressiveDone=o,this._contentDispositionFilename=l,(s==null?void 0:s.length)>0){const u=s instanceof Uint8Array&&s.byteLength===s.buffer.byteLength?s.buffer:new Uint8Array(s).buffer;this._queuedChunks.push(u)}this._pdfDataRangeTransport=e,this._isStreamingSupported=!r,this._isRangeSupported=!t,this._contentLength=i,this._fullRequestReader=null,this._rangeReaders=[],e.addRangeListener((u,d)=>{this._onReceiveData({begin:u,chunk:d})}),e.addProgressListener((u,d)=>{this._onProgress({loaded:u,total:d})}),e.addProgressiveReadListener(u=>{this._onReceiveData({chunk:u})}),e.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),e.transportReady()}_onReceiveData({begin:e,chunk:t}){const r=t instanceof Uint8Array&&t.byteLength===t.buffer.byteLength?t.buffer:new Uint8Array(t).buffer;if(e===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(r):this._queuedChunks.push(r);else{const i=this._rangeReaders.some(function(s){return s._begin!==e?!1:(s._enqueue(r),!0)});yn(i,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}_onProgress(e){var t,r,i,s;e.total===void 0?(r=(t=this._rangeReaders[0])==null?void 0:t.onProgress)==null||r.call(t,{loaded:e.loaded}):(s=(i=this._fullRequestReader)==null?void 0:i.onProgress)==null||s.call(i,{loaded:e.loaded,total:e.total})}_onProgressiveDone(){var e;(e=this._fullRequestReader)==null||e.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(e){const t=this._rangeReaders.indexOf(e);t>=0&&this._rangeReaders.splice(t,1)}getFullReader(){yn(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const e=this._queuedChunks;return this._queuedChunks=null,new hY(this,e,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const r=new fY(this,e,t);return this._pdfDataRangeTransport.requestDataRange(e,t),this._rangeReaders.push(r),r}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const r of this._rangeReaders.slice(0))r.cancel(e);this._pdfDataRangeTransport.abort()}}class hY{constructor(e,t,r=!1,i=null){this._stream=e,this._done=r||!1,this._filename=fC(i)?i:null,this._queuedChunks=t||[],this._loaded=0;for(const s of this._queuedChunks)this._loaded+=s.byteLength;this._requests=[],this._headersReady=Promise.resolve(),e._fullRequestReader=this,this.onProgress=null}_enqueue(e){this._done||(this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunks.push(e),this._loaded+=e.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class fY{constructor(e,t,r){this._stream=e,this._begin=t,this._end=r,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(e){if(!this._done){if(this._requests.length===0)this._queuedChunk=e;else{this._requests.shift().resolve({value:e,done:!1});for(const r of this._requests)r.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function pY(n){let e=!0,t=r("filename\\*","i").exec(n);if(t){t=t[1];let h=l(t);return h=unescape(h),h=u(h),h=d(h),s(h)}if(t=o(n),t){const h=d(t);return s(h)}if(t=r("filename","i").exec(n),t){t=t[1];let h=l(t);return h=d(h),s(h)}function r(h,f){return new RegExp("(?:^|;)\\s*"+h+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',f)}function i(h,f){if(h){if(!/^[\x00-\xFF]+$/.test(f))return f;try{const g=new TextDecoder(h,{fatal:!0}),y=Iv(f);f=g.decode(y),e=!1}catch{}}return f}function s(h){return e&&/[\x80-\xff]/.test(h)&&(h=i("utf-8",h),e&&(h=i("iso-8859-1",h))),h}function o(h){const f=[];let g;const y=r("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(g=y.exec(h))!==null;){let[,w,E,x]=g;if(w=parseInt(w,10),w in f){if(w===0)break;continue}f[w]=[E,x]}const v=[];for(let w=0;w<f.length&&w in f;++w){let[E,x]=f[w];x=l(x),E&&(x=unescape(x),w===0&&(x=u(x))),v.push(x)}return v.join("")}function l(h){if(h.startsWith('"')){const f=h.slice(1).split('\\"');for(let g=0;g<f.length;++g){const y=f[g].indexOf('"');y!==-1&&(f[g]=f[g].slice(0,y),f.length=g+1),f[g]=f[g].replaceAll(/\\(.)/g,"$1")}h=f.join('"')}return h}function u(h){const f=h.indexOf("'");if(f===-1)return h;const g=h.slice(0,f),v=h.slice(f+1).replace(/^[^']*'/,"");return i(g,v)}function d(h){return!h.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(h)?h:h.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(f,g,y,v){if(y==="q"||y==="Q")return v=v.replaceAll("_"," "),v=v.replaceAll(/=([0-9a-fA-F]{2})/g,function(w,E){return String.fromCharCode(parseInt(E,16))}),i(g,v);try{v=atob(v)}catch{}return i(g,v)})}return""}function mC({getResponseHeader:n,isHttp:e,rangeChunkSize:t,disableRange:r}){const i={allowRangeRequests:!1,suggestedLength:void 0},s=parseInt(n("Content-Length"),10);return!Number.isInteger(s)||(i.suggestedLength=s,s<=2*t)||r||!e||n("Accept-Ranges")!=="bytes"||(n("Content-Encoding")||"identity")!=="identity"||(i.allowRangeRequests=!0),i}function yC(n){const e=n("Content-Disposition");if(e){let t=pY(e);if(t.includes("%"))try{t=decodeURIComponent(t)}catch{}if(fC(t))return t}return null}function Fv(n,e){return n===404||n===0&&e.startsWith("file:")?new Rc('Missing PDF "'+e+'".'):new Mv(`Unexpected server response (${n}) while retrieving PDF "${e}".`,n)}function J2(n){return n===200||n===206}function eL(n,e,t){return{method:"GET",headers:n,signal:t.signal,mode:"cors",credentials:e?"include":"same-origin",redirect:"follow"}}function tL(n){const e=new Headers;for(const t in n){const r=n[t];r!==void 0&&e.append(t,r)}return e}function nL(n){return n instanceof Uint8Array?n.buffer:n instanceof ArrayBuffer?n:(Ve(`getArrayBuffer - unexpected data format: ${n}`),new Uint8Array(n).buffer)}class XT{constructor(e){this.source=e,this.isHttp=/^https?:/i.test(e.url),this.httpHeaders=this.isHttp&&e.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return yn(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new gY(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const r=new mY(this,e,t);return this._rangeRequestReaders.push(r),r}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const r of this._rangeRequestReaders.slice(0))r.cancel(e)}}class gY{constructor(e){this._stream=e,this._reader=null,this._loaded=0,this._filename=null;const t=e.source;this._withCredentials=t.withCredentials||!1,this._contentLength=t.length,this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange,this._headers=tL(this._stream.httpHeaders);const r=t.url;fetch(r,eL(this._headers,this._withCredentials,this._abortController)).then(i=>{if(!J2(i.status))throw Fv(i.status,r);this._reader=i.body.getReader(),this._headersCapability.resolve();const s=u=>i.headers.get(u),{allowRangeRequests:o,suggestedLength:l}=mC({getResponseHeader:s,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=o,this._contentLength=l||this._contentLength,this._filename=yC(s),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new Tc("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var r;await this._headersCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,(r=this.onProgress)==null||r.call(this,{loaded:this._loaded,total:this._contentLength}),{value:nL(e),done:!1})}cancel(e){var t;(t=this._reader)==null||t.cancel(e),this._abortController.abort()}}class mY{constructor(e,t,r){this._stream=e,this._reader=null,this._loaded=0;const i=e.source;this._withCredentials=i.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!i.disableStream,this._abortController=new AbortController,this._headers=tL(this._stream.httpHeaders),this._headers.append("Range",`bytes=${t}-${r-1}`);const s=i.url;fetch(s,eL(this._headers,this._withCredentials,this._abortController)).then(o=>{if(!J2(o.status))throw Fv(o.status,s);this._readCapability.resolve(),this._reader=o.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var r;await this._readCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,(r=this.onProgress)==null||r.call(this,{loaded:this._loaded}),{value:nL(e),done:!1})}cancel(e){var t;(t=this._reader)==null||t.cancel(e),this._abortController.abort()}}const bx=200,wx=206;function yY(n){const e=n.response;return typeof e!="string"?e:Iv(e).buffer}class vY{constructor(e,t={}){this.url=e,this.isHttp=/^https?:/i.test(e),this.httpHeaders=this.isHttp&&t.httpHeaders||Object.create(null),this.withCredentials=t.withCredentials||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(e,t,r){const i={begin:e,end:t};for(const s in r)i[s]=r[s];return this.request(i)}requestFull(e){return this.request(e)}request(e){const t=new XMLHttpRequest,r=this.currXhrId++,i=this.pendingRequests[r]={xhr:t};t.open("GET",this.url),t.withCredentials=this.withCredentials;for(const s in this.httpHeaders){const o=this.httpHeaders[s];o!==void 0&&t.setRequestHeader(s,o)}return this.isHttp&&"begin"in e&&"end"in e?(t.setRequestHeader("Range",`bytes=${e.begin}-${e.end-1}`),i.expectedStatus=wx):i.expectedStatus=bx,t.responseType="arraybuffer",e.onError&&(t.onerror=function(s){e.onError(t.status)}),t.onreadystatechange=this.onStateChange.bind(this,r),t.onprogress=this.onProgress.bind(this,r),i.onHeadersReceived=e.onHeadersReceived,i.onDone=e.onDone,i.onError=e.onError,i.onProgress=e.onProgress,t.send(null),r}onProgress(e,t){var i;const r=this.pendingRequests[e];r&&((i=r.onProgress)==null||i.call(r,t))}onStateChange(e,t){var u,d,h;const r=this.pendingRequests[e];if(!r)return;const i=r.xhr;if(i.readyState>=2&&r.onHeadersReceived&&(r.onHeadersReceived(),delete r.onHeadersReceived),i.readyState!==4||!(e in this.pendingRequests))return;if(delete this.pendingRequests[e],i.status===0&&this.isHttp){(u=r.onError)==null||u.call(r,i.status);return}const s=i.status||bx;if(!(s===bx&&r.expectedStatus===wx)&&s!==r.expectedStatus){(d=r.onError)==null||d.call(r,i.status);return}const l=yY(i);if(s===wx){const f=i.getResponseHeader("Content-Range"),g=/bytes (\d+)-(\d+)\/(\d+)/.exec(f);r.onDone({begin:parseInt(g[1],10),chunk:l})}else l?r.onDone({begin:0,chunk:l}):(h=r.onError)==null||h.call(r,i.status)}getRequestXhr(e){return this.pendingRequests[e].xhr}isPendingRequest(e){return e in this.pendingRequests}abortRequest(e){const t=this.pendingRequests[e].xhr;delete this.pendingRequests[e],t.abort()}}class bY{constructor(e){this._source=e,this._manager=new vY(e.url,{httpHeaders:e.httpHeaders,withCredentials:e.withCredentials}),this._rangeChunkSize=e.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(e){const t=this._rangeRequestReaders.indexOf(e);t>=0&&this._rangeRequestReaders.splice(t,1)}getFullReader(){return yn(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new wY(this._manager,this._source),this._fullRequestReader}getRangeReader(e,t){const r=new xY(this._manager,e,t);return r.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(r),r}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const r of this._rangeRequestReaders.slice(0))r.cancel(e)}}class wY{constructor(e,t){this._manager=e;const r={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=t.url,this._fullRequestId=e.requestFull(r),this._headersReceivedCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._contentLength=t.length,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const e=this._fullRequestId,t=this._manager.getRequestXhr(e),r=o=>t.getResponseHeader(o),{allowRangeRequests:i,suggestedLength:s}=mC({getResponseHeader:r,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});i&&(this._isRangeSupported=!0),this._contentLength=s||this._contentLength,this._filename=yC(r),this._isRangeSupported&&this._manager.abortRequest(e),this._headersReceivedCapability.resolve()}_onDone(e){if(e&&(this._requests.length>0?this._requests.shift().resolve({value:e.chunk,done:!1}):this._cachedChunks.push(e.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(e){this._storedError=Fv(e,this._url),this._headersReceivedCapability.reject(this._storedError);for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(e){var t;(t=this.onProgress)==null||t.call(this,{loaded:e.loaded,total:e.lengthComputable?e.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0,this._headersReceivedCapability.reject(e);for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class xY{constructor(e,t,r){this._manager=e;const i={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=e.url,this._requestId=e.requestRange(t,r,i),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var e;(e=this.onClosed)==null||e.call(this,this)}_onDone(e){const t=e.chunk;this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunk=t,this._done=!0;for(const r of this._requests)r.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(e){this._storedError=Fv(e,this._url);for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(e){var t;this.isStreamingSupported||(t=this.onProgress)==null||t.call(this,{loaded:e.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const rL=/^file:\/\/\/[a-zA-Z]:\//;function SY(n){const e=_s.get("url"),t=e.parse(n);return t.protocol==="file:"||t.host?t:/^[a-z]:[/\\]/i.test(n)?e.parse(`file:///${n}`):(t.host||(t.protocol="file:"),t)}class EY{constructor(e){this.source=e,this.url=SY(e.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.httpHeaders=this.isHttp&&e.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return yn(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new AY(this):new CY(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const r=this.isFsUrl?new kY(this,e,t):new _Y(this,e,t);return this._rangeRequestReaders.push(r),r}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const r of this._rangeRequestReaders.slice(0))r.cancel(e)}}class iL{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null;const t=e.source;this._contentLength=t.length,this._loaded=0,this._filename=null,this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var r;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(r=this.onProgress)==null||r.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new Tc("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class sL{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const t=e.source;this._isStreamingSupported=!t.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){var r;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(r=this.onProgress)==null||r.call(this,{loaded:this._loaded}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function E0(n,e){return{protocol:n.protocol,auth:n.auth,host:n.hostname,port:n.port,path:n.path,method:"GET",headers:e}}class CY extends iL{constructor(e){super(e);const t=r=>{if(r.statusCode===404){const l=new Rc(`Missing PDF "${this._url}".`);this._storedError=l,this._headersCapability.reject(l);return}this._headersCapability.resolve(),this._setReadableStream(r);const i=l=>this._readableStream.headers[l.toLowerCase()],{allowRangeRequests:s,suggestedLength:o}=mC({getResponseHeader:i,isHttp:e.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=s,this._contentLength=o||this._contentLength,this._filename=yC(i)};if(this._request=null,this._url.protocol==="http:"){const r=_s.get("http");this._request=r.request(E0(this._url,e.httpHeaders),t)}else{const r=_s.get("https");this._request=r.request(E0(this._url,e.httpHeaders),t)}this._request.on("error",r=>{this._storedError=r,this._headersCapability.reject(r)}),this._request.end()}}class _Y extends sL{constructor(e,t,r){super(e),this._httpHeaders={};for(const s in e.httpHeaders){const o=e.httpHeaders[s];o!==void 0&&(this._httpHeaders[s]=o)}this._httpHeaders.Range=`bytes=${t}-${r-1}`;const i=s=>{if(s.statusCode===404){const o=new Rc(`Missing PDF "${this._url}".`);this._storedError=o;return}this._setReadableStream(s)};if(this._request=null,this._url.protocol==="http:"){const s=_s.get("http");this._request=s.request(E0(this._url,this._httpHeaders),i)}else{const s=_s.get("https");this._request=s.request(E0(this._url,this._httpHeaders),i)}this._request.on("error",s=>{this._storedError=s}),this._request.end()}}class AY extends iL{constructor(e){super(e);let t=decodeURIComponent(this._url.path);rL.test(this._url.href)&&(t=t.replace(/^\//,""));const r=_s.get("fs");r.promises.lstat(t).then(i=>{this._contentLength=i.size,this._setReadableStream(r.createReadStream(t)),this._headersCapability.resolve()},i=>{i.code==="ENOENT"&&(i=new Rc(`Missing PDF "${t}".`)),this._storedError=i,this._headersCapability.reject(i)})}}class kY extends sL{constructor(e,t,r){super(e);let i=decodeURIComponent(this._url.path);rL.test(this._url.href)&&(i=i.replace(/^\//,""));const s=_s.get("fs");this._setReadableStream(s.createReadStream(i,{start:t,end:r-1}))}}const RY=1e5,gr=30,TY=.8;var dM,ba,yr,vp,bp,zl,to,wp,xp,$l,Gu,qu,wa,Yu,Sp,Xu,Bl,Ep,Cp,jl,Hl,xa,Ku,Ro,oL,aL,NE,Es,Dy,lL,cL;const Hn=class Hn{constructor({textContentSource:e,container:t,viewport:r}){V(this,Ro);V(this,ba,Promise.withResolvers());V(this,yr,null);V(this,vp,!1);V(this,bp,!!((dM=globalThis.FontInspector)!=null&&dM.enabled));V(this,zl,null);V(this,to,null);V(this,wp,0);V(this,xp,0);V(this,$l,null);V(this,Gu,null);V(this,qu,0);V(this,wa,0);V(this,Yu,Object.create(null));V(this,Sp,[]);V(this,Xu,null);V(this,Bl,[]);V(this,Ep,new WeakMap);V(this,Cp,null);var u;if(e instanceof ReadableStream)B(this,Xu,e);else if(typeof e=="object")B(this,Xu,new ReadableStream({start(d){d.enqueue(e),d.close()}}));else throw new Error('No "textContentSource" parameter specified.');B(this,yr,B(this,Gu,t)),B(this,wa,r.scale*(globalThis.devicePixelRatio||1)),B(this,qu,r.rotation),B(this,to,{prevFontSize:null,prevFontFamily:null,div:null,properties:null,ctx:null});const{pageWidth:i,pageHeight:s,pageX:o,pageY:l}=r.rawDims;B(this,Cp,[1,0,0,-1,-o,l+s]),B(this,xp,i),B(this,wp,s),j(u=Hn,Es,lL).call(u),wc(t,r),m(this,ba).promise.catch(()=>{}).then(()=>{m(Hn,Ku).delete(this),B(this,to,null),B(this,Yu,null)})}render(){const e=()=>{m(this,$l).read().then(({value:t,done:r})=>{if(r){m(this,ba).resolve();return}m(this,zl)??B(this,zl,t.lang),Object.assign(m(this,Yu),t.styles),j(this,Ro,oL).call(this,t.items),e()},m(this,ba).reject)};return B(this,$l,m(this,Xu).getReader()),m(Hn,Ku).add(this),e(),m(this,ba).promise}update({viewport:e,onBefore:t=null}){var s;const r=e.scale*(globalThis.devicePixelRatio||1),i=e.rotation;if(i!==m(this,qu)&&(t==null||t(),B(this,qu,i),wc(m(this,Gu),{rotation:i})),r!==m(this,wa)){t==null||t(),B(this,wa,r);const o={prevFontSize:null,prevFontFamily:null,div:null,properties:null,ctx:j(s=Hn,Es,Dy).call(s,m(this,zl))};for(const l of m(this,Bl))o.properties=m(this,Ep).get(l),o.div=l,j(this,Ro,NE).call(this,o)}}cancel(){var t;const e=new Tc("TextLayer task cancelled.");(t=m(this,$l))==null||t.cancel(e).catch(()=>{}),B(this,$l,null),m(this,ba).reject(e)}get textDivs(){return m(this,Bl)}get textContentItemsStr(){return m(this,Sp)}static cleanup(){if(!(m(this,Ku).size>0)){m(this,jl).clear();for(const{canvas:e}of m(this,Hl).values())e.remove();m(this,Hl).clear()}}};ba=new WeakMap,yr=new WeakMap,vp=new WeakMap,bp=new WeakMap,zl=new WeakMap,to=new WeakMap,wp=new WeakMap,xp=new WeakMap,$l=new WeakMap,Gu=new WeakMap,qu=new WeakMap,wa=new WeakMap,Yu=new WeakMap,Sp=new WeakMap,Xu=new WeakMap,Bl=new WeakMap,Ep=new WeakMap,Cp=new WeakMap,jl=new WeakMap,Hl=new WeakMap,xa=new WeakMap,Ku=new WeakMap,Ro=new WeakSet,oL=function(e){var i,s;if(m(this,vp))return;(s=m(this,to)).ctx??(s.ctx=j(i=Hn,Es,Dy).call(i,m(this,zl)));const t=m(this,Bl),r=m(this,Sp);for(const o of e){if(t.length>RY){Ve("Ignoring additional textDivs for performance reasons."),B(this,vp,!0);return}if(o.str===void 0){if(o.type==="beginMarkedContentProps"||o.type==="beginMarkedContent"){const l=m(this,yr);B(this,yr,document.createElement("span")),m(this,yr).classList.add("markedContent"),o.id!==null&&m(this,yr).setAttribute("id",`${o.id}`),l.append(m(this,yr))}else o.type==="endMarkedContent"&&B(this,yr,m(this,yr).parentNode);continue}r.push(o.str),j(this,Ro,aL).call(this,o)}},aL=function(e){var w;const t=document.createElement("span"),r={angle:0,canvasWidth:0,hasText:e.str!=="",hasEOL:e.hasEOL,fontSize:0};m(this,Bl).push(t);const i=Ie.transform(m(this,Cp),e.transform);let s=Math.atan2(i[1],i[0]);const o=m(this,Yu)[e.fontName];o.vertical&&(s+=Math.PI/2);const l=m(this,bp)&&o.fontSubstitution||o.fontFamily,u=Math.hypot(i[2],i[3]),d=u*j(w=Hn,Es,cL).call(w,l,m(this,zl));let h,f;s===0?(h=i[4],f=i[5]-d):(h=i[4]+d*Math.sin(s),f=i[5]-d*Math.cos(s));const g="calc(var(--scale-factor)*",y=t.style;m(this,yr)===m(this,Gu)?(y.left=`${(100*h/m(this,xp)).toFixed(2)}%`,y.top=`${(100*f/m(this,wp)).toFixed(2)}%`):(y.left=`${g}${h.toFixed(2)}px)`,y.top=`${g}${f.toFixed(2)}px)`),y.fontSize=`${g}${(m(Hn,xa)*u).toFixed(2)}px)`,y.fontFamily=l,r.fontSize=u,t.setAttribute("role","presentation"),t.textContent=e.str,t.dir=e.dir,m(this,bp)&&(t.dataset.fontName=o.fontSubstitutionLoadedName||e.fontName),s!==0&&(r.angle=s*(180/Math.PI));let v=!1;if(e.str.length>1)v=!0;else if(e.str!==" "&&e.transform[0]!==e.transform[3]){const E=Math.abs(e.transform[0]),x=Math.abs(e.transform[3]);E!==x&&Math.max(E,x)/Math.min(E,x)>1.5&&(v=!0)}if(v&&(r.canvasWidth=o.vertical?e.height:e.width),m(this,Ep).set(t,r),m(this,to).div=t,m(this,to).properties=r,j(this,Ro,NE).call(this,m(this,to)),r.hasText&&m(this,yr).append(t),r.hasEOL){const E=document.createElement("br");E.setAttribute("role","presentation"),m(this,yr).append(E)}},NE=function(e){const{div:t,properties:r,ctx:i,prevFontSize:s,prevFontFamily:o}=e,{style:l}=t;let u="";if(m(Hn,xa)>1&&(u=`scale(${1/m(Hn,xa)})`),r.canvasWidth!==0&&r.hasText){const{fontFamily:d}=l,{canvasWidth:h,fontSize:f}=r;(s!==f||o!==d)&&(i.font=`${f*m(this,wa)}px ${d}`,e.prevFontSize=f,e.prevFontFamily=d);const{width:g}=i.measureText(t.textContent);g>0&&(u=`scaleX(${h*m(this,wa)/g}) ${u}`)}r.angle!==0&&(u=`rotate(${r.angle}deg) ${u}`),u.length>0&&(l.transform=u)},Es=new WeakSet,Dy=function(e=null){let t=m(this,Hl).get(e||(e=""));if(!t){const r=document.createElement("canvas");r.className="hiddenCanvasElement",r.lang=e,document.body.append(r),t=r.getContext("2d",{alpha:!1,willReadFrequently:!0}),m(this,Hl).set(e,t)}return t},lL=function(){if(m(this,xa)!==null)return;const e=document.createElement("div");e.style.opacity=0,e.style.lineHeight=1,e.style.fontSize="1px",e.textContent="X",document.body.append(e),B(this,xa,e.getBoundingClientRect().height),e.remove()},cL=function(e,t){const r=m(this,jl).get(e);if(r)return r;const i=j(this,Es,Dy).call(this,t),s=i.font;i.canvas.width=i.canvas.height=gr,i.font=`${gr}px ${e}`;const o=i.measureText("");let l=o.fontBoundingBoxAscent,u=Math.abs(o.fontBoundingBoxDescent);if(l){const f=l/(l+u);return m(this,jl).set(e,f),i.canvas.width=i.canvas.height=0,i.font=s,f}i.strokeStyle="red",i.clearRect(0,0,gr,gr),i.strokeText("g",0,0);let d=i.getImageData(0,0,gr,gr).data;u=0;for(let f=d.length-1-3;f>=0;f-=4)if(d[f]>0){u=Math.ceil(f/4/gr);break}i.clearRect(0,0,gr,gr),i.strokeText("A",0,gr),d=i.getImageData(0,0,gr,gr).data,l=0;for(let f=0,g=d.length;f<g;f+=4)if(d[f]>0){l=gr-Math.floor(f/4/gr);break}i.canvas.width=i.canvas.height=0,i.font=s;const h=l?l/(l+u):TY;return m(this,jl).set(e,h),h},V(Hn,Es),V(Hn,jl,new Map),V(Hn,Hl,new Map),V(Hn,xa,null),V(Hn,Ku,new Set);let Od=Hn;function PY(){x2("`renderTextLayer`, please use `TextLayer` instead.");const{textContentSource:n,container:e,viewport:t,...r}=arguments[0],i=Object.keys(r);i.length>0&&Ve("Ignoring `renderTextLayer` parameters: "+i.join(", "));const s=new Od({textContentSource:n,container:e,viewport:t}),{textDivs:o,textContentItemsStr:l}=s;return{promise:s.render(),textDivs:o,textContentItemsStr:l}}function MY(){x2("`updateTextLayer`, please use `TextLayer` instead.")}class Nf{static textContent(e){const t=[],r={items:t,styles:Object.create(null)};function i(s){var u;if(!s)return;let o=null;const l=s.name;if(l==="#text")o=s.value;else if(Nf.shouldBuildText(l))(u=s==null?void 0:s.attributes)!=null&&u.textContent?o=s.attributes.textContent:s.value&&(o=s.value);else return;if(o!==null&&t.push({str:o}),!!s.children)for(const d of s.children)i(d)}return i(e),r}static shouldBuildText(e){return!(e==="textarea"||e==="input"||e==="option"||e==="select")}}const IY=65536,NY=100,LY=5e3,OY=qn?Gq:Nq,DY=qn?qq:b2,FY=qn?Vq:Iq,zY=qn?Yq:w2;function $Y(n={}){typeof n=="string"||n instanceof URL?n={url:n}:(n instanceof ArrayBuffer||ArrayBuffer.isView(n))&&(n={data:n});const e=new LE,{docId:t}=e,r=n.url?BY(n.url):null,i=n.data?jY(n.data):null,s=n.httpHeaders||null,o=n.withCredentials===!0,l=n.password??null,u=n.range instanceof uL?n.range:null,d=Number.isInteger(n.rangeChunkSize)&&n.rangeChunkSize>0?n.rangeChunkSize:IY;let h=n.worker instanceof Tu?n.worker:null;const f=n.verbosity,g=typeof n.docBaseUrl=="string"&&!hC(n.docBaseUrl)?n.docBaseUrl:null,y=typeof n.cMapUrl=="string"?n.cMapUrl:null,v=n.cMapPacked!==!1,w=n.CMapReaderFactory||DY,E=typeof n.standardFontDataUrl=="string"?n.standardFontDataUrl:null,x=n.StandardFontDataFactory||zY,_=n.stopAtErrors!==!0,S=Number.isInteger(n.maxImageSize)&&n.maxImageSize>-1?n.maxImageSize:-1,C=n.isEvalSupported!==!1,k=typeof n.isOffscreenCanvasSupported=="boolean"?n.isOffscreenCanvasSupported:!qn,I=Number.isInteger(n.canvasMaxAreaInBytes)?n.canvasMaxAreaInBytes:-1,P=typeof n.disableFontFace=="boolean"?n.disableFontFace:qn,M=n.fontExtraProperties===!0,N=n.enableXfa===!0,R=n.ownerDocument||globalThis.document,D=n.disableRange===!0,$=n.disableStream===!0,G=n.disableAutoFetch===!0,L=n.pdfBug===!0,q=n.enableHWA===!0,H=u?u.length:n.length??NaN,X=typeof n.useSystemFonts=="boolean"?n.useSystemFonts:!qn&&!P,W=typeof n.useWorkerFetch=="boolean"?n.useWorkerFetch:w===b2&&x===w2&&y&&E&&Yh(y,document.baseURI)&&Yh(E,document.baseURI),U=n.canvasFactory||new OY({ownerDocument:R,enableHWA:q}),Q=n.filterFactory||new FY({docId:t,ownerDocument:R}),Y=null;xq(f);const te={canvasFactory:U,filterFactory:Q};if(W||(te.cMapReaderFactory=new w({baseUrl:y,isCompressed:v}),te.standardFontDataFactory=new x({baseUrl:E})),!h){const J={verbosity:f,port:wo.workerPort};h=J.port?Tu.fromPort(J):new Tu(J),e._worker=h}const K={docId:t,apiVersion:"4.4.168",data:i,password:l,disableAutoFetch:G,rangeChunkSize:d,length:H,docBaseUrl:g,enableXfa:N,evaluatorOptions:{maxImageSize:S,disableFontFace:P,ignoreErrors:_,isEvalSupported:C,isOffscreenCanvasSupported:k,canvasMaxAreaInBytes:I,fontExtraProperties:M,useSystemFonts:X,cMapUrl:W?y:null,standardFontDataUrl:W?E:null}},ee={disableFontFace:P,fontExtraProperties:M,ownerDocument:R,pdfBug:L,styleElement:Y,loadingParams:{disableAutoFetch:G,enableXfa:N}};return h.promise.then(function(){if(e.destroyed)throw new Error("Loading aborted");if(h.destroyed)throw new Error("Worker was destroyed");const J=h.messageHandler.sendWithPromise("GetDocRequest",K,i?[i.buffer]:null);let ie;if(u)ie=new dY(u,{disableRange:D,disableStream:$});else if(!i){if(!r)throw new Error("getDocument - no `url` parameter provided.");ie=(oe=>qn?function(){return typeof fetch<"u"&&typeof Response<"u"&&"body"in Response.prototype}()&&Yh(oe.url)?new XT(oe):new EY(oe):Yh(oe.url)?new XT(oe):new bY(oe))({url:r,length:H,httpHeaders:s,withCredentials:o,rangeChunkSize:d,disableRange:D,disableStream:$})}return J.then(ne=>{if(e.destroyed)throw new Error("Loading aborted");if(h.destroyed)throw new Error("Worker was destroyed");const oe=new Qh(t,ne,h.port),ue=new VY(oe,e,ie,ee,te);e._transport=ue,oe.send("Ready",null)})}).catch(e._capability.reject),e}function BY(n){if(n instanceof URL)return n.href;try{return new URL(n,window.location).href}catch{if(qn&&typeof n=="string")return n}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function jY(n){if(qn&&typeof Buffer<"u"&&n instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(n instanceof Uint8Array&&n.byteLength===n.buffer.byteLength)return n;if(typeof n=="string")return Iv(n);if(n instanceof ArrayBuffer||ArrayBuffer.isView(n)||typeof n=="object"&&!isNaN(n==null?void 0:n.length))return new Uint8Array(n);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function KT(n){return typeof n=="object"&&Number.isInteger(n==null?void 0:n.num)&&n.num>=0&&Number.isInteger(n==null?void 0:n.gen)&&n.gen>=0}var $0;const B0=class B0{constructor(){this._capability=Promise.withResolvers(),this._transport=null,this._worker=null,this.docId=`d${Ir(B0,$0)._++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){var e,t,r;this.destroyed=!0;try{(e=this._worker)!=null&&e.port&&(this._worker._pendingDestroy=!0),await((t=this._transport)==null?void 0:t.destroy())}catch(i){throw(r=this._worker)!=null&&r.port&&delete this._worker._pendingDestroy,i}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}};$0=new WeakMap,V(B0,$0,0);let LE=B0;class uL{constructor(e,t,r=!1,i=null){this.length=e,this.initialData=t,this.progressiveDone=r,this.contentDispositionFilename=i,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=Promise.withResolvers()}addRangeListener(e){this._rangeListeners.push(e)}addProgressListener(e){this._progressListeners.push(e)}addProgressiveReadListener(e){this._progressiveReadListeners.push(e)}addProgressiveDoneListener(e){this._progressiveDoneListeners.push(e)}onDataRange(e,t){for(const r of this._rangeListeners)r(e,t)}onDataProgress(e,t){this._readyCapability.promise.then(()=>{for(const r of this._progressListeners)r(e,t)})}onDataProgressiveRead(e){this._readyCapability.promise.then(()=>{for(const t of this._progressiveReadListeners)t(e)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const e of this._progressiveDoneListeners)e()})}transportReady(){this._readyCapability.resolve()}requestDataRange(e,t){bt("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}class HY{constructor(e,t){this._pdfInfo=e,this._transport=t}get annotationStorage(){return this._transport.annotationStorage}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return Je(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(e){return this._transport.getPage(e)}getPageIndex(e){return this._transport.getPageIndex(e)}getDestinations(){return this._transport.getDestinations()}getDestination(e){return this._transport.getDestination(e)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getOptionalContentConfig(t)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(e=!1){return this._transport.startCleanup(e||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(e){return this._transport.cachedPageNumber(e)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}var Sa,no,ui,yu,Fy;class WY{constructor(e,t,r,i=!1){V(this,ui);V(this,Sa,null);V(this,no,!1);this._pageIndex=e,this._pageInfo=t,this._transport=r,this._stats=i?new DT:null,this._pdfBug=i,this.commonObjs=r.commonObjs,this.objs=new dL,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:e,rotation:t=this.rotate,offsetX:r=0,offsetY:i=0,dontFlip:s=!1}={}){return new Tg({viewBox:this.view,scale:e,rotation:t,offsetX:r,offsetY:i,dontFlip:s})}getAnnotations({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getAnnotations(this._pageIndex,t)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return Je(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var e;return((e=this._transport._htmlForXfa)==null?void 0:e.children[this._pageIndex])||null}render({canvasContext:e,viewport:t,intent:r="display",annotationMode:i=ha.ENABLE,transform:s=null,background:o=null,optionalContentConfigPromise:l=null,annotationCanvasMap:u=null,pageColors:d=null,printAnnotationStorage:h=null}){var S,C;(S=this._stats)==null||S.time("Overall");const f=this._transport.getRenderingIntent(r,i,h),{renderingIntent:g,cacheKey:y}=f;B(this,no,!1),j(this,ui,Fy).call(this),l||(l=this._transport.getOptionalContentConfig(g));let v=this._intentStates.get(y);v||(v=Object.create(null),this._intentStates.set(y,v)),v.streamReaderCancelTimeout&&(clearTimeout(v.streamReaderCancelTimeout),v.streamReaderCancelTimeout=null);const w=!!(g&ai.PRINT);v.displayReadyCapability||(v.displayReadyCapability=Promise.withResolvers(),v.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(C=this._stats)==null||C.time("Page Request"),this._pumpOperatorList(f));const E=k=>{var I;v.renderTasks.delete(x),(this._maybeCleanupAfterRender||w)&&B(this,no,!0),j(this,ui,yu).call(this,!w),k?(x.capability.reject(k),this._abortOperatorList({intentState:v,reason:k instanceof Error?k:new Error(k)})):x.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),(I=globalThis.Stats)!=null&&I.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},x=new DE({callback:E,params:{canvasContext:e,viewport:t,transform:s,background:o},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:u,operatorList:v.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!w,pdfBug:this._pdfBug,pageColors:d});(v.renderTasks||(v.renderTasks=new Set)).add(x);const _=x.task;return Promise.all([v.displayReadyCapability.promise,l]).then(([k,I])=>{var P;if(this.destroyed){E();return}if((P=this._stats)==null||P.time("Rendering"),!(I.renderingIntent&g))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");x.initializeGraphics({transparency:k,optionalContentConfig:I}),x.operatorListChanged()}).catch(E),_}getOperatorList({intent:e="display",annotationMode:t=ha.ENABLE,printAnnotationStorage:r=null}={}){var u;function i(){o.operatorList.lastChunk&&(o.opListReadCapability.resolve(o.operatorList),o.renderTasks.delete(l))}const s=this._transport.getRenderingIntent(e,t,r,!0);let o=this._intentStates.get(s.cacheKey);o||(o=Object.create(null),this._intentStates.set(s.cacheKey,o));let l;return o.opListReadCapability||(l=Object.create(null),l.operatorListChanged=i,o.opListReadCapability=Promise.withResolvers(),(o.renderTasks||(o.renderTasks=new Set)).add(l),o.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(u=this._stats)==null||u.time("Page Request"),this._pumpOperatorList(s)),o.opListReadCapability.promise}streamTextContent({includeMarkedContent:e=!1,disableNormalization:t=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:e===!0,disableNormalization:t===!0},{highWaterMark:100,size(i){return i.items.length}})}getTextContent(e={}){if(this._transport._htmlForXfa)return this.getXfa().then(r=>Nf.textContent(r));const t=this.streamTextContent(e);return new Promise(function(r,i){function s(){o.read().then(function({value:u,done:d}){if(d){r(l);return}l.lang??(l.lang=u.lang),Object.assign(l.styles,u.styles),l.items.push(...u.items),s()},i)}const o=t.getReader(),l={items:[],styles:Object.create(null),lang:null};s()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const e=[];for(const t of this._intentStates.values())if(this._abortOperatorList({intentState:t,reason:new Error("Page was destroyed."),force:!0}),!t.opListReadCapability)for(const r of t.renderTasks)e.push(r.completed),r.cancel();return this.objs.clear(),B(this,no,!1),j(this,ui,Fy).call(this),Promise.all(e)}cleanup(e=!1){B(this,no,!0);const t=j(this,ui,yu).call(this,!1);return e&&t&&this._stats&&(this._stats=new DT),t}_startRenderPage(e,t){var i,s;const r=this._intentStates.get(t);r&&((i=this._stats)==null||i.timeEnd("Page Request"),(s=r.displayReadyCapability)==null||s.resolve(e))}_renderPageChunk(e,t){for(let r=0,i=e.length;r<i;r++)t.operatorList.fnArray.push(e.fnArray[r]),t.operatorList.argsArray.push(e.argsArray[r]);t.operatorList.lastChunk=e.lastChunk,t.operatorList.separateAnnots=e.separateAnnots;for(const r of t.renderTasks)r.operatorListChanged();e.lastChunk&&j(this,ui,yu).call(this,!0)}_pumpOperatorList({renderingIntent:e,cacheKey:t,annotationStorageSerializable:r}){const{map:i,transfer:s}=r,l=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:e,cacheKey:t,annotationStorage:i},s).getReader(),u=this._intentStates.get(t);u.streamReader=l;const d=()=>{l.read().then(({value:h,done:f})=>{if(f){u.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(h,u),d())},h=>{if(u.streamReader=null,!this._transport.destroyed){if(u.operatorList){u.operatorList.lastChunk=!0;for(const f of u.renderTasks)f.operatorListChanged();j(this,ui,yu).call(this,!0)}if(u.displayReadyCapability)u.displayReadyCapability.reject(h);else if(u.opListReadCapability)u.opListReadCapability.reject(h);else throw h}})};d()}_abortOperatorList({intentState:e,reason:t,force:r=!1}){if(e.streamReader){if(e.streamReaderCancelTimeout&&(clearTimeout(e.streamReaderCancelTimeout),e.streamReaderCancelTimeout=null),!r){if(e.renderTasks.size>0)return;if(t instanceof dC){let i=NY;t.extraDelay>0&&t.extraDelay<1e3&&(i+=t.extraDelay),e.streamReaderCancelTimeout=setTimeout(()=>{e.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:e,reason:t,force:!0})},i);return}}if(e.streamReader.cancel(new Tc(t.message)).catch(()=>{}),e.streamReader=null,!this._transport.destroyed){for(const[i,s]of this._intentStates)if(s===e){this._intentStates.delete(i);break}this.cleanup()}}}get stats(){return this._stats}}Sa=new WeakMap,no=new WeakMap,ui=new WeakSet,yu=function(e=!1){if(j(this,ui,Fy).call(this),!m(this,no)||this.destroyed)return!1;if(e)return B(this,Sa,setTimeout(()=>{B(this,Sa,null),j(this,ui,yu).call(this,!1)},LY)),!1;for(const{renderTasks:t,operatorList:r}of this._intentStates.values())if(t.size>0||!r.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),B(this,no,!1),!0},Fy=function(){m(this,Sa)&&(clearTimeout(m(this,Sa)),B(this,Sa,null))};var Wl,j0;class UY{constructor(){V(this,Wl,new Set);V(this,j0,Promise.resolve())}postMessage(e,t){const r={data:structuredClone(e,t?{transfer:t}:null)};m(this,j0).then(()=>{for(const i of m(this,Wl))i.call(this,r)})}addEventListener(e,t){m(this,Wl).add(t)}removeEventListener(e,t){m(this,Wl).delete(t)}terminate(){m(this,Wl).clear()}}Wl=new WeakMap,j0=new WeakMap;const Gs={isWorkerDisabled:!1,fakeWorkerId:0};qn&&(Gs.isWorkerDisabled=!0,wo.workerSrc||(wo.workerSrc="./pdf.worker.mjs")),Gs.isSameOrigin=function(n,e){let t;try{if(t=new URL(n),!t.origin||t.origin==="null")return!1}catch{return!1}const r=new URL(e,t);return t.origin===r.origin},Gs.createCDNWrapper=function(n){const e=`await import("${n}");`;return URL.createObjectURL(new Blob([e],{type:"text/javascript"}))};var Ul,Qu,zy,Zu,$y;const Lr=class Lr{constructor({name:e=null,port:t=null,verbosity:r=Sq()}={}){V(this,Qu);var i;if(this.name=e,this.destroyed=!1,this.verbosity=r,this._readyCapability=Promise.withResolvers(),this._port=null,this._webWorker=null,this._messageHandler=null,t){if((i=m(Lr,Ul))!=null&&i.has(t))throw new Error("Cannot use more than one PDFWorker per port.");(m(Lr,Ul)||B(Lr,Ul,new WeakMap)).set(t,this),this._initializeFromPort(t);return}this._initialize()}get promise(){return qn?Promise.all([_s.promise,this._readyCapability.promise]):this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(e){this._port=e,this._messageHandler=new Qh("main","worker",e),this._messageHandler.on("ready",function(){}),j(this,Qu,zy).call(this)}_initialize(){if(Gs.isWorkerDisabled||m(Lr,Zu,$y)){this._setupFakeWorker();return}let{workerSrc:e}=Lr;try{Gs.isSameOrigin(window.location.href,e)||(e=Gs.createCDNWrapper(new URL(e,window.location).href));const t=new Worker(e,{type:"module"}),r=new Qh("main","worker",t),i=()=>{s.abort(),r.destroy(),t.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},s=new AbortController;t.addEventListener("error",()=>{this._webWorker||i()},{signal:s.signal}),r.on("test",l=>{if(s.abort(),this.destroyed||!l){i();return}this._messageHandler=r,this._port=t,this._webWorker=t,j(this,Qu,zy).call(this)}),r.on("ready",l=>{if(s.abort(),this.destroyed){i();return}try{o()}catch{this._setupFakeWorker()}});const o=()=>{const l=new Uint8Array;r.send("test",l,[l.buffer])};o();return}catch{Pv("The worker has been disabled.")}this._setupFakeWorker()}_setupFakeWorker(){Gs.isWorkerDisabled||(Ve("Setting up fake worker."),Gs.isWorkerDisabled=!0),Lr._setupFakeWorkerGlobal.then(e=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const t=new UY;this._port=t;const r=`fake${Gs.fakeWorkerId++}`,i=new Qh(r+"_worker",r,t);e.setup(i,t),this._messageHandler=new Qh(r,r+"_worker",t),j(this,Qu,zy).call(this)}).catch(e=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${e.message}".`))})}destroy(){var e;this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),(e=m(Lr,Ul))==null||e.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(e){var r;if(!(e!=null&&e.port))throw new Error("PDFWorker.fromPort - invalid method signature.");const t=(r=m(this,Ul))==null?void 0:r.get(e.port);if(t){if(t._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return t}return new Lr(e)}static get workerSrc(){if(wo.workerSrc)return wo.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return Je(this,"_setupFakeWorkerGlobal",(async()=>m(this,Zu,$y)?m(this,Zu,$y):(await import(this.workerSrc)).WorkerMessageHandler)())}};Ul=new WeakMap,Qu=new WeakSet,zy=function(){this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})},Zu=new WeakSet,$y=function(){var e;try{return((e=globalThis.pdfjsWorker)==null?void 0:e.WorkerMessageHandler)||null}catch{return null}},V(Lr,Zu),V(Lr,Ul);let Tu=Lr;var ro,os,Ju,ed,as,Vl,Zh;class VY{constructor(e,t,r,i,s){V(this,Vl);V(this,ro,new Map);V(this,os,new Map);V(this,Ju,new Map);V(this,ed,new Map);V(this,as,null);this.messageHandler=e,this.loadingTask=t,this.commonObjs=new dL,this.fontLoader=new Wq({ownerDocument:i.ownerDocument,styleElement:i.styleElement}),this.loadingParams=i.loadingParams,this._params=i,this.canvasFactory=s.canvasFactory,this.filterFactory=s.filterFactory,this.cMapReaderFactory=s.cMapReaderFactory,this.standardFontDataFactory=s.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=r,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.setupMessageHandler()}get annotationStorage(){return Je(this,"annotationStorage",new gC)}getRenderingIntent(e,t=ha.ENABLE,r=null,i=!1){let s=ai.DISPLAY,o=AE;switch(e){case"any":s=ai.ANY;break;case"display":break;case"print":s=ai.PRINT;break;default:Ve(`getRenderingIntent - invalid intent: ${e}`)}switch(t){case ha.DISABLE:s+=ai.ANNOTATIONS_DISABLE;break;case ha.ENABLE:break;case ha.ENABLE_FORMS:s+=ai.ANNOTATIONS_FORMS;break;case ha.ENABLE_STORAGE:s+=ai.ANNOTATIONS_STORAGE,o=(s&ai.PRINT&&r instanceof X2?r:this.annotationStorage).serializable;break;default:Ve(`getRenderingIntent - invalid annotationMode: ${t}`)}return i&&(s+=ai.OPLIST),{renderingIntent:s,cacheKey:`${s}_${o.hash}`,annotationStorageSerializable:o}}destroy(){var r;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),(r=m(this,as))==null||r.reject(new Error("Worker was destroyed during onPassword callback"));const e=[];for(const i of m(this,os).values())e.push(i._destroy());m(this,os).clear(),m(this,Ju).clear(),m(this,ed).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const t=this.messageHandler.sendWithPromise("Terminate",null);return e.push(t),Promise.all(e).then(()=>{var i;this.commonObjs.clear(),this.fontLoader.clear(),m(this,ro).clear(),this.filterFactory.destroy(),Od.cleanup(),(i=this._networkStream)==null||i.cancelAllRequests(new Tc("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:e,loadingTask:t}=this;e.on("GetReader",(r,i)=>{yn(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=s=>{this._lastProgress={loaded:s.loaded,total:s.total}},i.onPull=()=>{this._fullReader.read().then(function({value:s,done:o}){if(o){i.close();return}yn(s instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),i.enqueue(new Uint8Array(s),1,[s])}).catch(s=>{i.error(s)})},i.onCancel=s=>{this._fullReader.cancel(s),i.ready.catch(o=>{if(!this.destroyed)throw o})}}),e.on("ReaderHeadersReady",r=>{const i=Promise.withResolvers(),s=this._fullReader;return s.headersReady.then(()=>{var o;(!s.isStreamingSupported||!s.isRangeSupported)&&(this._lastProgress&&((o=t.onProgress)==null||o.call(t,this._lastProgress)),s.onProgress=l=>{var u;(u=t.onProgress)==null||u.call(t,{loaded:l.loaded,total:l.total})}),i.resolve({isStreamingSupported:s.isStreamingSupported,isRangeSupported:s.isRangeSupported,contentLength:s.contentLength})},i.reject),i.promise}),e.on("GetRangeReader",(r,i)=>{yn(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const s=this._networkStream.getRangeReader(r.begin,r.end);if(!s){i.close();return}i.onPull=()=>{s.read().then(function({value:o,done:l}){if(l){i.close();return}yn(o instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),i.enqueue(new Uint8Array(o),1,[o])}).catch(o=>{i.error(o)})},i.onCancel=o=>{s.cancel(o),i.ready.catch(l=>{if(!this.destroyed)throw l})}}),e.on("GetDoc",({pdfInfo:r})=>{this._numPages=r.numPages,this._htmlForXfa=r.htmlForXfa,delete r.htmlForXfa,t._capability.resolve(new HY(r,this))}),e.on("DocException",function(r){let i;switch(r.name){case"PasswordException":i=new rE(r.message,r.code);break;case"InvalidPDFException":i=new g2(r.message);break;case"MissingPDFException":i=new Rc(r.message);break;case"UnexpectedResponseException":i=new Mv(r.message,r.status);break;case"UnknownErrorException":i=new iE(r.message,r.details);break;default:bt("DocException - expected a valid Error.")}t._capability.reject(i)}),e.on("PasswordRequest",r=>{if(B(this,as,Promise.withResolvers()),t.onPassword){const i=s=>{s instanceof Error?m(this,as).reject(s):m(this,as).resolve({password:s})};try{t.onPassword(i,r.code)}catch(s){m(this,as).reject(s)}}else m(this,as).reject(new rE(r.message,r.code));return m(this,as).promise}),e.on("DataLoaded",r=>{var i;(i=t.onProgress)==null||i.call(t,{loaded:r.length,total:r.length}),this.downloadInfoCapability.resolve(r)}),e.on("StartRenderPage",r=>{if(this.destroyed)return;m(this,os).get(r.pageIndex)._startRenderPage(r.transparency,r.cacheKey)}),e.on("commonobj",([r,i,s])=>{var o;if(this.destroyed||this.commonObjs.has(r))return null;switch(i){case"Font":const{disableFontFace:l,fontExtraProperties:u,pdfBug:d}=this._params;if("error"in s){const y=s.error;Ve(`Error during font loading: ${y}`),this.commonObjs.resolve(r,y);break}const h=d&&((o=globalThis.FontInspector)!=null&&o.enabled)?(y,v)=>globalThis.FontInspector.fontAdded(y,v):null,f=new Uq(s,{disableFontFace:l,inspectFont:h});this.fontLoader.bind(f).catch(()=>e.sendWithPromise("FontFallback",{id:r})).finally(()=>{!u&&f.data&&(f.data=null),this.commonObjs.resolve(r,f)});break;case"CopyLocalImage":const{imageRef:g}=s;yn(g,"The imageRef must be defined.");for(const y of m(this,os).values())for(const[,v]of y.objs)if((v==null?void 0:v.ref)===g)return v.dataLen?(this.commonObjs.resolve(r,structuredClone(v)),v.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(r,s);break;default:throw new Error(`Got unknown common object type ${i}`)}return null}),e.on("obj",([r,i,s,o])=>{var u;if(this.destroyed)return;const l=m(this,os).get(i);if(!l.objs.has(r)){if(l._intentStates.size===0){(u=o==null?void 0:o.bitmap)==null||u.close();return}switch(s){case"Image":l.objs.resolve(r,o),(o==null?void 0:o.dataLen)>yq&&(l._maybeCleanupAfterRender=!0);break;case"Pattern":l.objs.resolve(r,o);break;default:throw new Error(`Got unknown object type ${s}`)}}}),e.on("DocProgress",r=>{var i;this.destroyed||(i=t.onProgress)==null||i.call(t,{loaded:r.loaded,total:r.total})}),e.on("FetchBuiltInCMap",r=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.cMapReaderFactory?this.cMapReaderFactory.fetch(r):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),e.on("FetchStandardFontData",r=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.standardFontDataFactory?this.standardFontDataFactory.fetch(r):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var r;this.annotationStorage.size<=0&&Ve("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:e,transfer:t}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:e,filename:((r=this._fullReader)==null?void 0:r.filename)??null},t).finally(()=>{this.annotationStorage.resetModified()})}getPage(e){if(!Number.isInteger(e)||e<=0||e>this._numPages)return Promise.reject(new Error("Invalid page request."));const t=e-1,r=m(this,Ju).get(t);if(r)return r;const i=this.messageHandler.sendWithPromise("GetPage",{pageIndex:t}).then(s=>{if(this.destroyed)throw new Error("Transport destroyed");s.refStr&&m(this,ed).set(s.refStr,e);const o=new WY(t,s,this,this._params.pdfBug);return m(this,os).set(t,o),o});return m(this,Ju).set(t,i),i}getPageIndex(e){return KT(e)?this.messageHandler.sendWithPromise("GetPageIndex",{num:e.num,gen:e.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(e,t){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:e,intent:t})}getFieldObjects(){return j(this,Vl,Zh).call(this,"GetFieldObjects")}hasJSActions(){return j(this,Vl,Zh).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(e){return typeof e!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:e})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return j(this,Vl,Zh).call(this,"GetDocJSActions")}getPageJSActions(e){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:e})}getStructTree(e){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:e})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(e){return j(this,Vl,Zh).call(this,"GetOptionalContentConfig").then(t=>new uY(t,e))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const e="GetMetadata",t=m(this,ro).get(e);if(t)return t;const r=this.messageHandler.sendWithPromise(e,null).then(i=>{var s,o;return{info:i[0],metadata:i[1]?new lY(i[1]):null,contentDispositionFilename:((s=this._fullReader)==null?void 0:s.filename)??null,contentLength:((o=this._fullReader)==null?void 0:o.contentLength)??null}});return m(this,ro).set(e,r),r}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(e=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const t of m(this,os).values())if(!t.cleanup())throw new Error(`startCleanup: Page ${t.pageNumber} is currently rendering.`);this.commonObjs.clear(),e||this.fontLoader.clear(),m(this,ro).clear(),this.filterFactory.destroy(!0),Od.cleanup()}}cachedPageNumber(e){if(!KT(e))return null;const t=e.gen===0?`${e.num}R`:`${e.num}R${e.gen}`;return m(this,ed).get(t)??null}}ro=new WeakMap,os=new WeakMap,Ju=new WeakMap,ed=new WeakMap,as=new WeakMap,Vl=new WeakSet,Zh=function(e,t=null){const r=m(this,ro).get(e);if(r)return r;const i=this.messageHandler.sendWithPromise(e,t);return m(this,ro).set(e,i),i};const by=Symbol("INITIAL_DATA");var Ai,_p,OE;class dL{constructor(){V(this,_p);V(this,Ai,Object.create(null))}get(e,t=null){if(t){const i=j(this,_p,OE).call(this,e);return i.promise.then(()=>t(i.data)),null}const r=m(this,Ai)[e];if(!r||r.data===by)throw new Error(`Requesting object that isn't resolved yet ${e}.`);return r.data}has(e){const t=m(this,Ai)[e];return!!t&&t.data!==by}resolve(e,t=null){const r=j(this,_p,OE).call(this,e);r.data=t,r.resolve()}clear(){var e;for(const t in m(this,Ai)){const{data:r}=m(this,Ai)[t];(e=r==null?void 0:r.bitmap)==null||e.close()}B(this,Ai,Object.create(null))}*[Symbol.iterator](){for(const e in m(this,Ai)){const{data:t}=m(this,Ai)[e];t!==by&&(yield[e,t])}}}Ai=new WeakMap,_p=new WeakSet,OE=function(e){var t;return(t=m(this,Ai))[e]||(t[e]={...Promise.withResolvers(),data:by})};var Ea;class GY{constructor(e){V(this,Ea,null);B(this,Ea,e),this.onContinue=null}get promise(){return m(this,Ea).capability.promise}cancel(e=0){m(this,Ea).cancel(null,e)}get separateAnnots(){const{separateAnnots:e}=m(this,Ea).operatorList;if(!e)return!1;const{annotationCanvasMap:t}=m(this,Ea);return e.form||e.canvas&&(t==null?void 0:t.size)>0}}Ea=new WeakMap;var Ca,Gl;const yl=class yl{constructor({callback:e,params:t,objs:r,commonObjs:i,annotationCanvasMap:s,operatorList:o,pageIndex:l,canvasFactory:u,filterFactory:d,useRequestAnimationFrame:h=!1,pdfBug:f=!1,pageColors:g=null}){V(this,Ca,null);this.callback=e,this.params=t,this.objs=r,this.commonObjs=i,this.annotationCanvasMap=s,this.operatorListIdx=null,this.operatorList=o,this._pageIndex=l,this.canvasFactory=u,this.filterFactory=d,this._pdfBug=f,this.pageColors=g,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=h===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new GY(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=t.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:e=!1,optionalContentConfig:t}){var l,u;if(this.cancelled)return;if(this._canvas){if(m(yl,Gl).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");m(yl,Gl).add(this._canvas)}this._pdfBug&&((l=globalThis.StepperManager)!=null&&l.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:r,viewport:i,transform:s,background:o}=this.params;this.gfx=new Ru(r,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:t},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:s,viewport:i,transparency:e,background:o}),this.operatorListIdx=0,this.graphicsReady=!0,(u=this.graphicsReadyCallback)==null||u.call(this)}cancel(e=null,t=0){var r;this.running=!1,this.cancelled=!0,(r=this.gfx)==null||r.endDrawing(),m(this,Ca)&&(window.cancelAnimationFrame(m(this,Ca)),B(this,Ca,null)),m(yl,Gl).delete(this._canvas),this.callback(e||new dC(`Rendering cancelled, page ${this._pageIndex+1}`,t))}operatorListChanged(){var e;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(e=this.stepper)==null||e.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?B(this,Ca,window.requestAnimationFrame(()=>{B(this,Ca,null),this._nextBound().catch(this._cancelBound)})):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),m(yl,Gl).delete(this._canvas),this.callback())))}};Ca=new WeakMap,Gl=new WeakMap,V(yl,Gl,new WeakSet);let DE=yl;const qY="4.4.168",YY="19fbc8998";function QT(n){return Math.floor(Math.max(0,Math.min(1,n))*255).toString(16).padStart(2,"0")}function Fh(n){return Math.max(0,Math.min(255,255*n))}class ZT{static CMYK_G([e,t,r,i]){return["G",1-Math.min(1,.3*e+.59*r+.11*t+i)]}static G_CMYK([e]){return["CMYK",0,0,0,1-e]}static G_RGB([e]){return["RGB",e,e,e]}static G_rgb([e]){return e=Fh(e),[e,e,e]}static G_HTML([e]){const t=QT(e);return`#${t}${t}${t}`}static RGB_G([e,t,r]){return["G",.3*e+.59*t+.11*r]}static RGB_rgb(e){return e.map(Fh)}static RGB_HTML(e){return`#${e.map(QT).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([e,t,r,i]){return["RGB",1-Math.min(1,e+i),1-Math.min(1,r+i),1-Math.min(1,t+i)]}static CMYK_rgb([e,t,r,i]){return[Fh(1-Math.min(1,e+i)),Fh(1-Math.min(1,r+i)),Fh(1-Math.min(1,t+i))]}static CMYK_HTML(e){const t=this.CMYK_RGB(e).slice(1);return this.RGB_HTML(t)}static RGB_CMYK([e,t,r]){const i=1-e,s=1-t,o=1-r,l=Math.min(i,s,o);return["CMYK",i,s,o,l]}}class hL{static setupStorage(e,t,r,i,s){const o=i.getValue(t,{value:null});switch(r.name){case"textarea":if(o.value!==null&&(e.textContent=o.value),s==="print")break;e.addEventListener("input",l=>{i.setValue(t,{value:l.target.value})});break;case"input":if(r.attributes.type==="radio"||r.attributes.type==="checkbox"){if(o.value===r.attributes.xfaOn?e.setAttribute("checked",!0):o.value===r.attributes.xfaOff&&e.removeAttribute("checked"),s==="print")break;e.addEventListener("change",l=>{i.setValue(t,{value:l.target.checked?l.target.getAttribute("xfaOn"):l.target.getAttribute("xfaOff")})})}else{if(o.value!==null&&e.setAttribute("value",o.value),s==="print")break;e.addEventListener("input",l=>{i.setValue(t,{value:l.target.value})})}break;case"select":if(o.value!==null){e.setAttribute("value",o.value);for(const l of r.children)l.attributes.value===o.value?l.attributes.selected=!0:l.attributes.hasOwnProperty("selected")&&delete l.attributes.selected}e.addEventListener("input",l=>{const u=l.target.options,d=u.selectedIndex===-1?"":u[u.selectedIndex].value;i.setValue(t,{value:d})});break}}static setAttributes({html:e,element:t,storage:r=null,intent:i,linkService:s}){const{attributes:o}=t,l=e instanceof HTMLAnchorElement;o.type==="radio"&&(o.name=`${o.name}-${i}`);for(const[u,d]of Object.entries(o))if(d!=null)switch(u){case"class":d.length&&e.setAttribute(u,d.join(" "));break;case"dataId":break;case"id":e.setAttribute("data-element-id",d);break;case"style":Object.assign(e.style,d);break;case"textContent":e.textContent=d;break;default:(!l||u!=="href"&&u!=="newWindow")&&e.setAttribute(u,d)}l&&s.addLinkAttributes(e,o.href,o.newWindow),r&&o.dataId&&this.setupStorage(e,o.dataId,t,r)}static render(e){var f,g;const t=e.annotationStorage,r=e.linkService,i=e.xfaHtml,s=e.intent||"display",o=document.createElement(i.name);i.attributes&&this.setAttributes({html:o,element:i,intent:s,linkService:r});const l=s!=="richText",u=e.div;if(u.append(o),e.viewport){const y=`matrix(${e.viewport.transform.join(",")})`;u.style.transform=y}l&&u.setAttribute("class","xfaLayer xfaFont");const d=[];if(i.children.length===0){if(i.value){const y=document.createTextNode(i.value);o.append(y),l&&Nf.shouldBuildText(i.name)&&d.push(y)}return{textDivs:d}}const h=[[i,-1,o]];for(;h.length>0;){const[y,v,w]=h.at(-1);if(v+1===y.children.length){h.pop();continue}const E=y.children[++h.at(-1)[1]];if(E===null)continue;const{name:x}=E;if(x==="#text"){const S=document.createTextNode(E.value);d.push(S),w.append(S);continue}const _=(f=E==null?void 0:E.attributes)!=null&&f.xmlns?document.createElementNS(E.attributes.xmlns,x):document.createElement(x);if(w.append(_),E.attributes&&this.setAttributes({html:_,element:E,storage:t,intent:s,linkService:r}),((g=E.children)==null?void 0:g.length)>0)h.push([E,-1,_]);else if(E.value){const S=document.createTextNode(E.value);l&&Nf.shouldBuildText(x)&&d.push(S),_.append(S)}}for(const y of u.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))y.setAttribute("readOnly",!0);return{textDivs:d}}static update(e){const t=`matrix(${e.viewport.transform.join(",")})`;e.div.style.transform=t,e.div.hidden=!1}}const Ig=1e3,XY=9,Sc=new WeakSet;function xo(n){return{width:n[2]-n[0],height:n[3]-n[1]}}class KY{static create(e){switch(e.data.annotationType){case dn.LINK:return new fL(e);case dn.TEXT:return new QY(e);case dn.WIDGET:switch(e.data.fieldType){case"Tx":return new ZY(e);case"Btn":return e.data.radioButton?new mL(e):e.data.checkBox?new eX(e):new tX(e);case"Ch":return new nX(e);case"Sig":return new JY(e)}return new Pc(e);case dn.POPUP:return new zE(e);case dn.FREETEXT:return new xL(e);case dn.LINE:return new iX(e);case dn.SQUARE:return new sX(e);case dn.CIRCLE:return new oX(e);case dn.POLYLINE:return new SL(e);case dn.CARET:return new lX(e);case dn.INK:return new EL(e);case dn.POLYGON:return new aX(e);case dn.HIGHLIGHT:return new cX(e);case dn.UNDERLINE:return new uX(e);case dn.SQUIGGLY:return new dX(e);case dn.STRIKEOUT:return new hX(e);case dn.STAMP:return new CL(e);case dn.FILEATTACHMENT:return new fX(e);default:return new Zt(e)}}}var ql,td,nd,Ap,FE;const EC=class EC{constructor(e,{isRenderable:t=!1,ignoreBorder:r=!1,createQuadrilaterals:i=!1}={}){V(this,Ap);V(this,ql,null);V(this,td,!1);V(this,nd,null);this.isRenderable=t,this.data=e.data,this.layer=e.layer,this.linkService=e.linkService,this.downloadManager=e.downloadManager,this.imageResourcesPath=e.imageResourcesPath,this.renderForms=e.renderForms,this.svgFactory=e.svgFactory,this.annotationStorage=e.annotationStorage,this.enableScripting=e.enableScripting,this.hasJSActions=e.hasJSActions,this._fieldObjects=e.fieldObjects,this.parent=e.parent,t&&(this.container=this._createContainer(r)),i&&this._createQuadrilaterals()}static _hasPopupData({titleObj:e,contentsObj:t,richText:r}){return!!(e!=null&&e.str||t!=null&&t.str||r!=null&&r.str)}get hasPopupData(){return EC._hasPopupData(this.data)}updateEdited(e){var r;if(!this.container)return;m(this,ql)||B(this,ql,{rect:this.data.rect.slice(0)});const{rect:t}=e;t&&j(this,Ap,FE).call(this,t),(r=m(this,nd))==null||r.popup.updateEdited(e)}resetEdited(){var e;m(this,ql)&&(j(this,Ap,FE).call(this,m(this,ql).rect),(e=m(this,nd))==null||e.popup.resetEdited(),B(this,ql,null))}_createContainer(e){const{data:t,parent:{page:r,viewport:i}}=this,s=document.createElement("section");s.setAttribute("data-annotation-id",t.id),this instanceof Pc||(s.tabIndex=Ig);const{style:o}=s;if(o.zIndex=this.parent.zIndex++,t.popupRef&&s.setAttribute("aria-haspopup","dialog"),t.alternativeText&&(s.title=t.alternativeText),t.noRotate&&s.classList.add("norotate"),!t.rect||this instanceof zE){const{rotation:w}=t;return!t.hasOwnCanvas&&w!==0&&this.setRotation(w,s),s}const{width:l,height:u}=xo(t.rect);if(!e&&t.borderStyle.width>0){o.borderWidth=`${t.borderStyle.width}px`;const w=t.borderStyle.horizontalCornerRadius,E=t.borderStyle.verticalCornerRadius;if(w>0||E>0){const _=`calc(${w}px * var(--scale-factor)) / calc(${E}px * var(--scale-factor))`;o.borderRadius=_}else if(this instanceof mL){const _=`calc(${l}px * var(--scale-factor)) / calc(${u}px * var(--scale-factor))`;o.borderRadius=_}switch(t.borderStyle.style){case Oh.SOLID:o.borderStyle="solid";break;case Oh.DASHED:o.borderStyle="dashed";break;case Oh.BEVELED:Ve("Unimplemented border style: beveled");break;case Oh.INSET:Ve("Unimplemented border style: inset");break;case Oh.UNDERLINE:o.borderBottomStyle="solid";break}const x=t.borderColor||null;x?(B(this,td,!0),o.borderColor=Ie.makeHexColor(x[0]|0,x[1]|0,x[2]|0)):o.borderWidth=0}const d=Ie.normalizeRect([t.rect[0],r.view[3]-t.rect[1]+r.view[1],t.rect[2],r.view[3]-t.rect[3]+r.view[1]]),{pageWidth:h,pageHeight:f,pageX:g,pageY:y}=i.rawDims;o.left=`${100*(d[0]-g)/h}%`,o.top=`${100*(d[1]-y)/f}%`;const{rotation:v}=t;return t.hasOwnCanvas||v===0?(o.width=`${100*l/h}%`,o.height=`${100*u/f}%`):this.setRotation(v,s),s}setRotation(e,t=this.container){if(!this.data.rect)return;const{pageWidth:r,pageHeight:i}=this.parent.viewport.rawDims,{width:s,height:o}=xo(this.data.rect);let l,u;e%180===0?(l=100*s/r,u=100*o/i):(l=100*o/r,u=100*s/i),t.style.width=`${l}%`,t.style.height=`${u}%`,t.setAttribute("data-main-rotation",(360-e)%360)}get _commonActions(){const e=(t,r,i)=>{const s=i.detail[t],o=s[0],l=s.slice(1);i.target.style[r]=ZT[`${o}_HTML`](l),this.annotationStorage.setValue(this.data.id,{[r]:ZT[`${o}_rgb`](l)})};return Je(this,"_commonActions",{display:t=>{const{display:r}=t.detail,i=r%2===1;this.container.style.visibility=i?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:i,noPrint:r===1||r===2})},print:t=>{this.annotationStorage.setValue(this.data.id,{noPrint:!t.detail.print})},hidden:t=>{const{hidden:r}=t.detail;this.container.style.visibility=r?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:r,noView:r})},focus:t=>{setTimeout(()=>t.target.focus({preventScroll:!1}),0)},userName:t=>{t.target.title=t.detail.userName},readonly:t=>{t.target.disabled=t.detail.readonly},required:t=>{this._setRequired(t.target,t.detail.required)},bgColor:t=>{e("bgColor","backgroundColor",t)},fillColor:t=>{e("fillColor","backgroundColor",t)},fgColor:t=>{e("fgColor","color",t)},textColor:t=>{e("textColor","color",t)},borderColor:t=>{e("borderColor","borderColor",t)},strokeColor:t=>{e("strokeColor","borderColor",t)},rotation:t=>{const r=t.detail.rotation;this.setRotation(r),this.annotationStorage.setValue(this.data.id,{rotation:r})}})}_dispatchEventFromSandbox(e,t){const r=this._commonActions;for(const i of Object.keys(t.detail)){const s=e[i]||r[i];s==null||s(t)}}_setDefaultPropertiesFromJS(e){if(!this.enableScripting)return;const t=this.annotationStorage.getRawValue(this.data.id);if(!t)return;const r=this._commonActions;for(const[i,s]of Object.entries(t)){const o=r[i];if(o){const l={detail:{[i]:s},target:e};o(l),delete t[i]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:e}=this.data;if(!e)return;const[t,r,i,s]=this.data.rect.map(w=>Math.fround(w));if(e.length===8){const[w,E,x,_]=e.subarray(2,6);if(i===w&&s===E&&t===x&&r===_)return}const{style:o}=this.container;let l;if(m(this,td)){const{borderColor:w,borderWidth:E}=o;o.borderWidth=0,l=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${w}" stroke-width="${E}">`],this.container.classList.add("hasBorder")}const u=i-t,d=s-r,{svgFactory:h}=this,f=h.createElement("svg");f.classList.add("quadrilateralsContainer"),f.setAttribute("width",0),f.setAttribute("height",0);const g=h.createElement("defs");f.append(g);const y=h.createElement("clipPath"),v=`clippath_${this.data.id}`;y.setAttribute("id",v),y.setAttribute("clipPathUnits","objectBoundingBox"),g.append(y);for(let w=2,E=e.length;w<E;w+=8){const x=e[w],_=e[w+1],S=e[w+2],C=e[w+3],k=h.createElement("rect"),I=(S-t)/u,P=(s-_)/d,M=(x-S)/u,N=(_-C)/d;k.setAttribute("x",I),k.setAttribute("y",P),k.setAttribute("width",M),k.setAttribute("height",N),y.append(k),l==null||l.push(`<rect vector-effect="non-scaling-stroke" x="${I}" y="${P}" width="${M}" height="${N}"/>`)}m(this,td)&&(l.push("</g></svg>')"),o.backgroundImage=l.join("")),this.container.append(f),this.container.style.clipPath=`url(#${v})`}_createPopup(){const{container:e,data:t}=this;e.setAttribute("aria-haspopup","dialog");const r=B(this,nd,new zE({data:{color:t.color,titleObj:t.titleObj,modificationDate:t.modificationDate,contentsObj:t.contentsObj,richText:t.richText,parentRect:t.rect,borderStyle:0,id:`popup_${t.id}`,rotation:t.rotation},parent:this.parent,elements:[this]}));this.parent.div.append(r.render())}render(){bt("Abstract method `AnnotationElement.render` called")}_getElementsByName(e,t=null){const r=[];if(this._fieldObjects){const i=this._fieldObjects[e];if(i)for(const{page:s,id:o,exportValues:l}of i){if(s===-1||o===t)continue;const u=typeof l=="string"?l:null,d=document.querySelector(`[data-element-id="${o}"]`);if(d&&!Sc.has(d)){Ve(`_getElementsByName - element not allowed: ${o}`);continue}r.push({id:o,exportValue:u,domElement:d})}return r}for(const i of document.getElementsByName(e)){const{exportValue:s}=i,o=i.getAttribute("data-element-id");o!==t&&Sc.has(i)&&r.push({id:o,exportValue:s,domElement:i})}return r}show(){var e;this.container&&(this.container.hidden=!1),(e=this.popup)==null||e.maybeShow()}hide(){var e;this.container&&(this.container.hidden=!0),(e=this.popup)==null||e.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const e=this.getElementsToTriggerPopup();if(Array.isArray(e))for(const t of e)t.classList.add("highlightArea");else e.classList.add("highlightArea")}get _isEditable(){return!1}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:e,data:{id:t}}=this;this.container.addEventListener("dblclick",()=>{var r;(r=this.linkService.eventBus)==null||r.dispatch("switchannotationeditormode",{source:this,mode:e,editId:t})})}};ql=new WeakMap,td=new WeakMap,nd=new WeakMap,Ap=new WeakSet,FE=function(e){const{container:{style:t},data:{rect:r,rotation:i},parent:{viewport:{rawDims:{pageWidth:s,pageHeight:o,pageX:l,pageY:u}}}}=this;r==null||r.splice(0,4,...e);const{width:d,height:h}=xo(e);t.left=`${100*(e[0]-l)/s}%`,t.top=`${100*(o-e[3]+u)/o}%`,i===0?(t.width=`${100*d/s}%`,t.height=`${100*h/o}%`):this.setRotation(i)};let Zt=EC;var Wr,fl,pL,gL;class fL extends Zt{constructor(t,r=null){super(t,{isRenderable:!0,ignoreBorder:!!(r!=null&&r.ignoreBorder),createQuadrilaterals:!0});V(this,Wr);this.isTooltipOnly=t.data.isTooltipOnly}render(){const{data:t,linkService:r}=this,i=document.createElement("a");i.setAttribute("data-element-id",t.id);let s=!1;return t.url?(r.addLinkAttributes(i,t.url,t.newWindow),s=!0):t.action?(this._bindNamedAction(i,t.action),s=!0):t.attachment?(j(this,Wr,pL).call(this,i,t.attachment,t.attachmentDest),s=!0):t.setOCGState?(j(this,Wr,gL).call(this,i,t.setOCGState),s=!0):t.dest?(this._bindLink(i,t.dest),s=!0):(t.actions&&(t.actions.Action||t.actions["Mouse Up"]||t.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(i,t),s=!0),t.resetForm?(this._bindResetFormAction(i,t.resetForm),s=!0):this.isTooltipOnly&&!s&&(this._bindLink(i,""),s=!0)),this.container.classList.add("linkAnnotation"),s&&this.container.append(i),this.container}_bindLink(t,r){t.href=this.linkService.getDestinationHash(r),t.onclick=()=>(r&&this.linkService.goToDestination(r),!1),(r||r==="")&&j(this,Wr,fl).call(this)}_bindNamedAction(t,r){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeNamedAction(r),!1),j(this,Wr,fl).call(this)}_bindJSAction(t,r){t.href=this.linkService.getAnchorUrl("");const i=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const s of Object.keys(r.actions)){const o=i.get(s);o&&(t[o]=()=>{var l;return(l=this.linkService.eventBus)==null||l.dispatch("dispatcheventinsandbox",{source:this,detail:{id:r.id,name:s}}),!1})}t.onclick||(t.onclick=()=>!1),j(this,Wr,fl).call(this)}_bindResetFormAction(t,r){const i=t.onclick;if(i||(t.href=this.linkService.getAnchorUrl("")),j(this,Wr,fl).call(this),!this._fieldObjects){Ve('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),i||(t.onclick=()=>!1);return}t.onclick=()=>{var f;i==null||i();const{fields:s,refs:o,include:l}=r,u=[];if(s.length!==0||o.length!==0){const g=new Set(o);for(const y of s){const v=this._fieldObjects[y]||[];for(const{id:w}of v)g.add(w)}for(const y of Object.values(this._fieldObjects))for(const v of y)g.has(v.id)===l&&u.push(v)}else for(const g of Object.values(this._fieldObjects))u.push(...g);const d=this.annotationStorage,h=[];for(const g of u){const{id:y}=g;switch(h.push(y),g.type){case"text":{const w=g.defaultValue||"";d.setValue(y,{value:w});break}case"checkbox":case"radiobutton":{const w=g.defaultValue===g.exportValues;d.setValue(y,{value:w});break}case"combobox":case"listbox":{const w=g.defaultValue||"";d.setValue(y,{value:w});break}default:continue}const v=document.querySelector(`[data-element-id="${y}"]`);if(v){if(!Sc.has(v)){Ve(`_bindResetFormAction - element not allowed: ${y}`);continue}}else continue;v.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((f=this.linkService.eventBus)==null||f.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:h,name:"ResetForm"}})),!1}}}Wr=new WeakSet,fl=function(){this.container.setAttribute("data-internal-link","")},pL=function(t,r,i=null){t.href=this.linkService.getAnchorUrl(""),r.description&&(t.title=r.description),t.onclick=()=>{var s;return(s=this.downloadManager)==null||s.openOrDownloadData(r.content,r.filename,i),!1},j(this,Wr,fl).call(this)},gL=function(t,r){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeSetOCGState(r),!1),j(this,Wr,fl).call(this)};class QY extends Zt{constructor(e){super(e,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const e=document.createElement("img");return e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),e.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(e),this.container}}class Pc extends Zt{render(){return this.container}showElementAndHideCanvas(e){var t;this.data.hasOwnCanvas&&(((t=e.previousSibling)==null?void 0:t.nodeName)==="CANVAS"&&(e.previousSibling.hidden=!0),e.hidden=!1)}_getKeyModifier(e){return wr.platform.isMac?e.metaKey:e.ctrlKey}_setEventListener(e,t,r,i,s){r.includes("mouse")?e.addEventListener(r,o=>{var l;(l=this.linkService.eventBus)==null||l.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:i,value:s(o),shift:o.shiftKey,modifier:this._getKeyModifier(o)}})}):e.addEventListener(r,o=>{var l;if(r==="blur"){if(!t.focused||!o.relatedTarget)return;t.focused=!1}else if(r==="focus"){if(t.focused)return;t.focused=!0}s&&((l=this.linkService.eventBus)==null||l.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:i,value:s(o)}}))})}_setEventListeners(e,t,r,i){var s,o,l;for(const[u,d]of r)(d==="Action"||(s=this.data.actions)!=null&&s[d])&&((d==="Focus"||d==="Blur")&&(t||(t={focused:!1})),this._setEventListener(e,t,u,d,i),d==="Focus"&&!((o=this.data.actions)!=null&&o.Blur)?this._setEventListener(e,t,"blur","Blur",null):d==="Blur"&&!((l=this.data.actions)!=null&&l.Focus)&&this._setEventListener(e,t,"focus","Focus",null))}_setBackgroundColor(e){const t=this.data.backgroundColor||null;e.style.backgroundColor=t===null?"transparent":Ie.makeHexColor(t[0],t[1],t[2])}_setTextStyle(e){const t=["left","center","right"],{fontColor:r}=this.data.defaultAppearanceData,i=this.data.defaultAppearanceData.fontSize||XY,s=e.style;let o;const l=2,u=d=>Math.round(10*d)/10;if(this.data.multiLine){const d=Math.abs(this.data.rect[3]-this.data.rect[1]-l),h=Math.round(d/(gx*i))||1,f=d/h;o=Math.min(i,u(f/gx))}else{const d=Math.abs(this.data.rect[3]-this.data.rect[1]-l);o=Math.min(i,u(d/gx))}s.fontSize=`calc(${o}px * var(--scale-factor))`,s.color=Ie.makeHexColor(r[0],r[1],r[2]),this.data.textAlignment!==null&&(s.textAlign=t[this.data.textAlignment])}_setRequired(e,t){t?e.setAttribute("required",!0):e.removeAttribute("required"),e.setAttribute("aria-required",t)}}class ZY extends Pc{constructor(e){const t=e.renderForms||e.data.hasOwnCanvas||!e.data.hasAppearance&&!!e.data.fieldValue;super(e,{isRenderable:t})}setPropertyOnSiblings(e,t,r,i){const s=this.annotationStorage;for(const o of this._getElementsByName(e.name,e.id))o.domElement&&(o.domElement[t]=r),s.setValue(o.id,{[i]:r})}render(){var i,s;const e=this.annotationStorage,t=this.data.id;this.container.classList.add("textWidgetAnnotation");let r=null;if(this.renderForms){const o=e.getValue(t,{value:this.data.fieldValue});let l=o.value||"";const u=e.getValue(t,{charLimit:this.data.maxLen}).charLimit;u&&l.length>u&&(l=l.slice(0,u));let d=o.formattedValue||((i=this.data.textContent)==null?void 0:i.join(`
`))||null;d&&this.data.comb&&(d=d.replaceAll(/\s+/g,""));const h={userValue:l,formattedValue:d,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(r=document.createElement("textarea"),r.textContent=d??l,this.data.doNotScroll&&(r.style.overflowY="hidden")):(r=document.createElement("input"),r.type="text",r.setAttribute("value",d??l),this.data.doNotScroll&&(r.style.overflowX="hidden")),this.data.hasOwnCanvas&&(r.hidden=!0),Sc.add(r),r.setAttribute("data-element-id",t),r.disabled=this.data.readOnly,r.name=this.data.fieldName,r.tabIndex=Ig,this._setRequired(r,this.data.required),u&&(r.maxLength=u),r.addEventListener("input",g=>{e.setValue(t,{value:g.target.value}),this.setPropertyOnSiblings(r,"value",g.target.value,"value"),h.formattedValue=null}),r.addEventListener("resetform",g=>{const y=this.data.defaultFieldValue??"";r.value=h.userValue=y,h.formattedValue=null});let f=g=>{const{formattedValue:y}=h;y!=null&&(g.target.value=y),g.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){r.addEventListener("focus",y=>{var w;if(h.focused)return;const{target:v}=y;h.userValue&&(v.value=h.userValue),h.lastCommittedValue=v.value,h.commitKey=1,(w=this.data.actions)!=null&&w.Focus||(h.focused=!0)}),r.addEventListener("updatefromsandbox",y=>{this.showElementAndHideCanvas(y.target);const v={value(w){h.userValue=w.detail.value??"",e.setValue(t,{value:h.userValue.toString()}),w.target.value=h.userValue},formattedValue(w){const{formattedValue:E}=w.detail;h.formattedValue=E,E!=null&&w.target!==document.activeElement&&(w.target.value=E),e.setValue(t,{formattedValue:E})},selRange(w){w.target.setSelectionRange(...w.detail.selRange)},charLimit:w=>{var S;const{charLimit:E}=w.detail,{target:x}=w;if(E===0){x.removeAttribute("maxLength");return}x.setAttribute("maxLength",E);let _=h.userValue;!_||_.length<=E||(_=_.slice(0,E),x.value=h.userValue=_,e.setValue(t,{value:_}),(S=this.linkService.eventBus)==null||S.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:_,willCommit:!0,commitKey:1,selStart:x.selectionStart,selEnd:x.selectionEnd}}))}};this._dispatchEventFromSandbox(v,y)}),r.addEventListener("keydown",y=>{var E;h.commitKey=1;let v=-1;if(y.key==="Escape"?v=0:y.key==="Enter"&&!this.data.multiLine?v=2:y.key==="Tab"&&(h.commitKey=3),v===-1)return;const{value:w}=y.target;h.lastCommittedValue!==w&&(h.lastCommittedValue=w,h.userValue=w,(E=this.linkService.eventBus)==null||E.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:w,willCommit:!0,commitKey:v,selStart:y.target.selectionStart,selEnd:y.target.selectionEnd}}))});const g=f;f=null,r.addEventListener("blur",y=>{var w,E;if(!h.focused||!y.relatedTarget)return;(w=this.data.actions)!=null&&w.Blur||(h.focused=!1);const{value:v}=y.target;h.userValue=v,h.lastCommittedValue!==v&&((E=this.linkService.eventBus)==null||E.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:v,willCommit:!0,commitKey:h.commitKey,selStart:y.target.selectionStart,selEnd:y.target.selectionEnd}})),g(y)}),(s=this.data.actions)!=null&&s.Keystroke&&r.addEventListener("beforeinput",y=>{var k;h.lastCommittedValue=null;const{data:v,target:w}=y,{value:E,selectionStart:x,selectionEnd:_}=w;let S=x,C=_;switch(y.inputType){case"deleteWordBackward":{const I=E.substring(0,x).match(/\w*[^\w]*$/);I&&(S-=I[0].length);break}case"deleteWordForward":{const I=E.substring(x).match(/^[^\w]*\w*/);I&&(C+=I[0].length);break}case"deleteContentBackward":x===_&&(S-=1);break;case"deleteContentForward":x===_&&(C+=1);break}y.preventDefault(),(k=this.linkService.eventBus)==null||k.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:E,change:v||"",willCommit:!1,selStart:S,selEnd:C}})}),this._setEventListeners(r,h,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],y=>y.target.value)}if(f&&r.addEventListener("blur",f),this.data.comb){const y=(this.data.rect[2]-this.data.rect[0])/u;r.classList.add("comb"),r.style.letterSpacing=`calc(${y}px * var(--scale-factor) - 1ch)`}}else r=document.createElement("div"),r.textContent=this.data.fieldValue,r.style.verticalAlign="middle",r.style.display="table-cell",this.data.hasOwnCanvas&&(r.hidden=!0);return this._setTextStyle(r),this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}class JY extends Pc{constructor(e){super(e,{isRenderable:!!e.data.hasOwnCanvas})}}class eX extends Pc{constructor(e){super(e,{isRenderable:e.renderForms})}render(){const e=this.annotationStorage,t=this.data,r=t.id;let i=e.getValue(r,{value:t.exportValue===t.fieldValue}).value;typeof i=="string"&&(i=i!=="Off",e.setValue(r,{value:i})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const s=document.createElement("input");return Sc.add(s),s.setAttribute("data-element-id",r),s.disabled=t.readOnly,this._setRequired(s,this.data.required),s.type="checkbox",s.name=t.fieldName,i&&s.setAttribute("checked",!0),s.setAttribute("exportValue",t.exportValue),s.tabIndex=Ig,s.addEventListener("change",o=>{const{name:l,checked:u}=o.target;for(const d of this._getElementsByName(l,r)){const h=u&&d.exportValue===t.exportValue;d.domElement&&(d.domElement.checked=h),e.setValue(d.id,{value:h})}e.setValue(r,{value:u})}),s.addEventListener("resetform",o=>{const l=t.defaultFieldValue||"Off";o.target.checked=l===t.exportValue}),this.enableScripting&&this.hasJSActions&&(s.addEventListener("updatefromsandbox",o=>{const l={value(u){u.target.checked=u.detail.value!=="Off",e.setValue(r,{value:u.target.checked})}};this._dispatchEventFromSandbox(l,o)}),this._setEventListeners(s,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],o=>o.target.checked)),this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class mL extends Pc{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const e=this.annotationStorage,t=this.data,r=t.id;let i=e.getValue(r,{value:t.fieldValue===t.buttonValue}).value;if(typeof i=="string"&&(i=i!==t.buttonValue,e.setValue(r,{value:i})),i)for(const o of this._getElementsByName(t.fieldName,r))e.setValue(o.id,{value:!1});const s=document.createElement("input");if(Sc.add(s),s.setAttribute("data-element-id",r),s.disabled=t.readOnly,this._setRequired(s,this.data.required),s.type="radio",s.name=t.fieldName,i&&s.setAttribute("checked",!0),s.tabIndex=Ig,s.addEventListener("change",o=>{const{name:l,checked:u}=o.target;for(const d of this._getElementsByName(l,r))e.setValue(d.id,{value:!1});e.setValue(r,{value:u})}),s.addEventListener("resetform",o=>{const l=t.defaultFieldValue;o.target.checked=l!=null&&l===t.buttonValue}),this.enableScripting&&this.hasJSActions){const o=t.buttonValue;s.addEventListener("updatefromsandbox",l=>{const u={value:d=>{const h=o===d.detail.value;for(const f of this._getElementsByName(d.target.name)){const g=h&&f.id===r;f.domElement&&(f.domElement.checked=g),e.setValue(f.id,{value:g})}}};this._dispatchEventFromSandbox(u,l)}),this._setEventListeners(s,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],l=>l.target.checked)}return this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class tX extends fL{constructor(e){super(e,{ignoreBorder:e.data.hasAppearance})}render(){const e=super.render();e.classList.add("buttonWidgetAnnotation","pushButton");const t=e.lastChild;return this.enableScripting&&this.hasJSActions&&t&&(this._setDefaultPropertiesFromJS(t),t.addEventListener("updatefromsandbox",r=>{this._dispatchEventFromSandbox({},r)})),e}}class nX extends Pc{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const e=this.annotationStorage,t=this.data.id,r=e.getValue(t,{value:this.data.fieldValue}),i=document.createElement("select");Sc.add(i),i.setAttribute("data-element-id",t),i.disabled=this.data.readOnly,this._setRequired(i,this.data.required),i.name=this.data.fieldName,i.tabIndex=Ig;let s=this.data.combo&&this.data.options.length>0;this.data.combo||(i.size=this.data.options.length,this.data.multiSelect&&(i.multiple=!0)),i.addEventListener("resetform",h=>{const f=this.data.defaultFieldValue;for(const g of i.options)g.selected=g.value===f});for(const h of this.data.options){const f=document.createElement("option");f.textContent=h.displayValue,f.value=h.exportValue,r.value.includes(h.exportValue)&&(f.setAttribute("selected",!0),s=!1),i.append(f)}let o=null;if(s){const h=document.createElement("option");h.value=" ",h.setAttribute("hidden",!0),h.setAttribute("selected",!0),i.prepend(h),o=()=>{h.remove(),i.removeEventListener("input",o),o=null},i.addEventListener("input",o)}const l=h=>{const f=h?"value":"textContent",{options:g,multiple:y}=i;return y?Array.prototype.filter.call(g,v=>v.selected).map(v=>v[f]):g.selectedIndex===-1?null:g[g.selectedIndex][f]};let u=l(!1);const d=h=>{const f=h.target.options;return Array.prototype.map.call(f,g=>({displayValue:g.textContent,exportValue:g.value}))};return this.enableScripting&&this.hasJSActions?(i.addEventListener("updatefromsandbox",h=>{const f={value(g){o==null||o();const y=g.detail.value,v=new Set(Array.isArray(y)?y:[y]);for(const w of i.options)w.selected=v.has(w.value);e.setValue(t,{value:l(!0)}),u=l(!1)},multipleSelection(g){i.multiple=!0},remove(g){const y=i.options,v=g.detail.remove;y[v].selected=!1,i.remove(v),y.length>0&&Array.prototype.findIndex.call(y,E=>E.selected)===-1&&(y[0].selected=!0),e.setValue(t,{value:l(!0),items:d(g)}),u=l(!1)},clear(g){for(;i.length!==0;)i.remove(0);e.setValue(t,{value:null,items:[]}),u=l(!1)},insert(g){const{index:y,displayValue:v,exportValue:w}=g.detail.insert,E=i.children[y],x=document.createElement("option");x.textContent=v,x.value=w,E?E.before(x):i.append(x),e.setValue(t,{value:l(!0),items:d(g)}),u=l(!1)},items(g){const{items:y}=g.detail;for(;i.length!==0;)i.remove(0);for(const v of y){const{displayValue:w,exportValue:E}=v,x=document.createElement("option");x.textContent=w,x.value=E,i.append(x)}i.options.length>0&&(i.options[0].selected=!0),e.setValue(t,{value:l(!0),items:d(g)}),u=l(!1)},indices(g){const y=new Set(g.detail.indices);for(const v of g.target.options)v.selected=y.has(v.index);e.setValue(t,{value:l(!0)}),u=l(!1)},editable(g){g.target.disabled=!g.detail.editable}};this._dispatchEventFromSandbox(f,h)}),i.addEventListener("input",h=>{var y;const f=l(!0),g=l(!1);e.setValue(t,{value:f}),h.preventDefault(),(y=this.linkService.eventBus)==null||y.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:u,change:g,changeEx:f,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(i,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],h=>h.target.value)):i.addEventListener("input",function(h){e.setValue(t,{value:l(!0)})}),this.data.combo&&this._setTextStyle(i),this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}class zE extends Zt{constructor(e){const{data:t,elements:r}=e;super(e,{isRenderable:Zt._hasPopupData(t)}),this.elements=r,this.popup=null}render(){this.container.classList.add("popupAnnotation");const e=this.popup=new rX({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),t=[];for(const r of this.elements)r.popup=e,t.push(r.data.id),r.addHighlightArea();return this.container.setAttribute("aria-controls",t.map(r=>`${y2}${r}`).join(",")),this.container}}var rd,H0,W0,id,Yl,Gt,io,Xl,kp,Rp,sd,so,ki,oo,Tp,ao,Pp,Kl,Ql,wt,By,$E,yL,vL,bL,wL,jy,Hy,BE;class rX{constructor({container:e,color:t,elements:r,titleObj:i,modificationDate:s,contentsObj:o,richText:l,parent:u,rect:d,parentRect:h,open:f}){V(this,wt);V(this,rd,j(this,wt,bL).bind(this));V(this,H0,j(this,wt,BE).bind(this));V(this,W0,j(this,wt,Hy).bind(this));V(this,id,j(this,wt,jy).bind(this));V(this,Yl,null);V(this,Gt,null);V(this,io,null);V(this,Xl,null);V(this,kp,null);V(this,Rp,null);V(this,sd,null);V(this,so,!1);V(this,ki,null);V(this,oo,null);V(this,Tp,null);V(this,ao,null);V(this,Pp,null);V(this,Kl,null);V(this,Ql,!1);var g;B(this,Gt,e),B(this,Pp,i),B(this,io,o),B(this,ao,l),B(this,Rp,u),B(this,Yl,t),B(this,Tp,d),B(this,sd,h),B(this,kp,r),B(this,Xl,S2.toDateObject(s)),this.trigger=r.flatMap(y=>y.getElementsToTriggerPopup());for(const y of this.trigger)y.addEventListener("click",m(this,id)),y.addEventListener("mouseenter",m(this,W0)),y.addEventListener("mouseleave",m(this,H0)),y.classList.add("popupTriggerArea");for(const y of r)(g=y.container)==null||g.addEventListener("keydown",m(this,rd));m(this,Gt).hidden=!0,f&&j(this,wt,jy).call(this)}render(){if(m(this,ki))return;const e=B(this,ki,document.createElement("div"));if(e.className="popup",m(this,Yl)){const s=e.style.outlineColor=Ie.makeHexColor(...m(this,Yl));CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?e.style.backgroundColor=`color-mix(in srgb, ${s} 30%, white)`:e.style.backgroundColor=Ie.makeHexColor(...m(this,Yl).map(l=>Math.floor(.7*(255-l)+l)))}const t=document.createElement("span");t.className="header";const r=document.createElement("h1");if(t.append(r),{dir:r.dir,str:r.textContent}=m(this,Pp),e.append(t),m(this,Xl)){const s=document.createElement("span");s.classList.add("popupDate"),s.setAttribute("data-l10n-id","pdfjs-annotation-date-string"),s.setAttribute("data-l10n-args",JSON.stringify({date:m(this,Xl).toLocaleDateString(),time:m(this,Xl).toLocaleTimeString()})),t.append(s)}const i=m(this,wt,By);if(i)hL.render({xfaHtml:i,intent:"richText",div:e}),e.lastChild.classList.add("richText","popupContent");else{const s=this._formatContents(m(this,io));e.append(s)}m(this,Gt).append(e)}_formatContents({str:e,dir:t}){const r=document.createElement("p");r.classList.add("popupContent"),r.dir=t;const i=e.split(/(?:\r\n?|\n)/);for(let s=0,o=i.length;s<o;++s){const l=i[s];r.append(document.createTextNode(l)),s<o-1&&r.append(document.createElement("br"))}return r}updateEdited({rect:e,popupContent:t}){var r;m(this,Kl)||B(this,Kl,{contentsObj:m(this,io),richText:m(this,ao)}),e&&B(this,oo,null),t&&(B(this,ao,j(this,wt,vL).call(this,t)),B(this,io,null)),(r=m(this,ki))==null||r.remove(),B(this,ki,null)}resetEdited(){var e;m(this,Kl)&&({contentsObj:Ir(this,io)._,richText:Ir(this,ao)._}=m(this,Kl),B(this,Kl,null),(e=m(this,ki))==null||e.remove(),B(this,ki,null),B(this,oo,null))}forceHide(){B(this,Ql,this.isVisible),m(this,Ql)&&(m(this,Gt).hidden=!0)}maybeShow(){m(this,Ql)&&(m(this,ki)||j(this,wt,Hy).call(this),B(this,Ql,!1),m(this,Gt).hidden=!1)}get isVisible(){return m(this,Gt).hidden===!1}}rd=new WeakMap,H0=new WeakMap,W0=new WeakMap,id=new WeakMap,Yl=new WeakMap,Gt=new WeakMap,io=new WeakMap,Xl=new WeakMap,kp=new WeakMap,Rp=new WeakMap,sd=new WeakMap,so=new WeakMap,ki=new WeakMap,oo=new WeakMap,Tp=new WeakMap,ao=new WeakMap,Pp=new WeakMap,Kl=new WeakMap,Ql=new WeakMap,wt=new WeakSet,By=function(){const e=m(this,ao),t=m(this,io);return e!=null&&e.str&&(!(t!=null&&t.str)||t.str===e.str)&&m(this,ao).html||null},$E=function(){var e,t,r;return((r=(t=(e=m(this,wt,By))==null?void 0:e.attributes)==null?void 0:t.style)==null?void 0:r.fontSize)||0},yL=function(){var e,t,r;return((r=(t=(e=m(this,wt,By))==null?void 0:e.attributes)==null?void 0:t.style)==null?void 0:r.color)||null},vL=function(e){const t=[],r={str:e,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:t}]}},i={style:{color:m(this,wt,yL),fontSize:m(this,wt,$E)?`calc(${m(this,wt,$E)}px * var(--scale-factor))`:""}};for(const s of e.split(`
`))t.push({name:"span",value:s,attributes:i});return r},bL=function(e){e.altKey||e.shiftKey||e.ctrlKey||e.metaKey||(e.key==="Enter"||e.key==="Escape"&&m(this,so))&&j(this,wt,jy).call(this)},wL=function(){if(m(this,oo)!==null)return;const{page:{view:e},viewport:{rawDims:{pageWidth:t,pageHeight:r,pageX:i,pageY:s}}}=m(this,Rp);let o=!!m(this,sd),l=o?m(this,sd):m(this,Tp);for(const v of m(this,kp))if(!l||Ie.intersect(v.data.rect,l)!==null){l=v.data.rect,o=!0;break}const u=Ie.normalizeRect([l[0],e[3]-l[1]+e[1],l[2],e[3]-l[3]+e[1]]),h=o?l[2]-l[0]+5:0,f=u[0]+h,g=u[1];B(this,oo,[100*(f-i)/t,100*(g-s)/r]);const{style:y}=m(this,Gt);y.left=`${m(this,oo)[0]}%`,y.top=`${m(this,oo)[1]}%`},jy=function(){B(this,so,!m(this,so)),m(this,so)?(j(this,wt,Hy).call(this),m(this,Gt).addEventListener("click",m(this,id)),m(this,Gt).addEventListener("keydown",m(this,rd))):(j(this,wt,BE).call(this),m(this,Gt).removeEventListener("click",m(this,id)),m(this,Gt).removeEventListener("keydown",m(this,rd)))},Hy=function(){m(this,ki)||this.render(),this.isVisible?m(this,so)&&m(this,Gt).classList.add("focused"):(j(this,wt,wL).call(this),m(this,Gt).hidden=!1,m(this,Gt).style.zIndex=parseInt(m(this,Gt).style.zIndex)+1e3)},BE=function(){m(this,Gt).classList.remove("focused"),!(m(this,so)||!this.isVisible)&&(m(this,Gt).hidden=!0,m(this,Gt).style.zIndex=parseInt(m(this,Gt).style.zIndex)-1e3)};class xL extends Zt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.textContent=e.data.textContent,this.textPosition=e.data.textPosition,this.annotationEditorType=Ke.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const e=document.createElement("div");e.classList.add("annotationTextContent"),e.setAttribute("role","comment");for(const t of this.textContent){const r=document.createElement("span");r.textContent=t,e.append(r)}this.container.append(e)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}get _isEditable(){return this.data.hasOwnCanvas}}var Mp;class iX extends Zt{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});V(this,Mp,null)}render(){this.container.classList.add("lineAnnotation");const t=this.data,{width:r,height:i}=xo(t.rect),s=this.svgFactory.create(r,i,!0),o=B(this,Mp,this.svgFactory.createElement("svg:line"));return o.setAttribute("x1",t.rect[2]-t.lineCoordinates[0]),o.setAttribute("y1",t.rect[3]-t.lineCoordinates[1]),o.setAttribute("x2",t.rect[2]-t.lineCoordinates[2]),o.setAttribute("y2",t.rect[3]-t.lineCoordinates[3]),o.setAttribute("stroke-width",t.borderStyle.width||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),s.append(o),this.container.append(s),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return m(this,Mp)}addHighlightArea(){this.container.classList.add("highlightArea")}}Mp=new WeakMap;var Ip;class sX extends Zt{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});V(this,Ip,null)}render(){this.container.classList.add("squareAnnotation");const t=this.data,{width:r,height:i}=xo(t.rect),s=this.svgFactory.create(r,i,!0),o=t.borderStyle.width,l=B(this,Ip,this.svgFactory.createElement("svg:rect"));return l.setAttribute("x",o/2),l.setAttribute("y",o/2),l.setAttribute("width",r-o),l.setAttribute("height",i-o),l.setAttribute("stroke-width",o||1),l.setAttribute("stroke","transparent"),l.setAttribute("fill","transparent"),s.append(l),this.container.append(s),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return m(this,Ip)}addHighlightArea(){this.container.classList.add("highlightArea")}}Ip=new WeakMap;var Np;class oX extends Zt{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});V(this,Np,null)}render(){this.container.classList.add("circleAnnotation");const t=this.data,{width:r,height:i}=xo(t.rect),s=this.svgFactory.create(r,i,!0),o=t.borderStyle.width,l=B(this,Np,this.svgFactory.createElement("svg:ellipse"));return l.setAttribute("cx",r/2),l.setAttribute("cy",i/2),l.setAttribute("rx",r/2-o/2),l.setAttribute("ry",i/2-o/2),l.setAttribute("stroke-width",o||1),l.setAttribute("stroke","transparent"),l.setAttribute("fill","transparent"),s.append(l),this.container.append(s),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return m(this,Np)}addHighlightArea(){this.container.classList.add("highlightArea")}}Np=new WeakMap;var Lp;class SL extends Zt{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});V(this,Lp,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,vertices:r,borderStyle:i,popupRef:s}}=this;if(!r)return this.container;const{width:o,height:l}=xo(t),u=this.svgFactory.create(o,l,!0);let d=[];for(let f=0,g=r.length;f<g;f+=2){const y=r[f]-t[0],v=t[3]-r[f+1];d.push(`${y},${v}`)}d=d.join(" ");const h=B(this,Lp,this.svgFactory.createElement(this.svgElementName));return h.setAttribute("points",d),h.setAttribute("stroke-width",i.width||1),h.setAttribute("stroke","transparent"),h.setAttribute("fill","transparent"),u.append(h),this.container.append(u),!s&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return m(this,Lp)}addHighlightArea(){this.container.classList.add("highlightArea")}}Lp=new WeakMap;class aX extends SL{constructor(e){super(e),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class lX extends Zt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var Op;class EL extends Zt{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});V(this,Op,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=Ke.INK}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,inkLists:r,borderStyle:i,popupRef:s}}=this,{width:o,height:l}=xo(t),u=this.svgFactory.create(o,l,!0);for(const d of r){let h=[];for(let g=0,y=d.length;g<y;g+=2){const v=d[g]-t[0],w=t[3]-d[g+1];h.push(`${v},${w}`)}h=h.join(" ");const f=this.svgFactory.createElement(this.svgElementName);m(this,Op).push(f),f.setAttribute("points",h),f.setAttribute("stroke-width",i.width||1),f.setAttribute("stroke","transparent"),f.setAttribute("fill","transparent"),!s&&this.hasPopupData&&this._createPopup(),u.append(f)}return this.container.append(u),this.container}getElementsToTriggerPopup(){return m(this,Op)}addHighlightArea(){this.container.classList.add("highlightArea")}}Op=new WeakMap;class cX extends Zt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this.container}}class uX extends Zt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class dX extends Zt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class hX extends Zt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class CL extends Zt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("stampAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var Dp,Fp,jE;class fX extends Zt{constructor(t){var i;super(t,{isRenderable:!0});V(this,Fp);V(this,Dp,null);const{file:r}=this.data;this.filename=r.filename,this.content=r.content,(i=this.linkService.eventBus)==null||i.dispatch("fileattachmentannotation",{source:this,...r})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:t,data:r}=this;let i;r.hasAppearance||r.fillAlpha===0?i=document.createElement("div"):(i=document.createElement("img"),i.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(r.name)?"paperclip":"pushpin"}.svg`,r.fillAlpha&&r.fillAlpha<1&&(i.style=`filter: opacity(${Math.round(r.fillAlpha*100)}%);`)),i.addEventListener("dblclick",j(this,Fp,jE).bind(this)),B(this,Dp,i);const{isMac:s}=wr.platform;return t.addEventListener("keydown",o=>{o.key==="Enter"&&(s?o.metaKey:o.ctrlKey)&&j(this,Fp,jE).call(this)}),!r.popupRef&&this.hasPopupData?this._createPopup():i.classList.add("popupTriggerArea"),t.append(i),t}getElementsToTriggerPopup(){return m(this,Dp)}addHighlightArea(){this.container.classList.add("highlightArea")}}Dp=new WeakMap,Fp=new WeakSet,jE=function(){var t;(t=this.downloadManager)==null||t.openOrDownloadData(this.content,this.filename)};var zp,Zl,od,Cc,_L,HE;class pX{constructor({div:e,accessibilityManager:t,annotationCanvasMap:r,annotationEditorUIManager:i,page:s,viewport:o}){V(this,Cc);V(this,zp,null);V(this,Zl,null);V(this,od,new Map);this.div=e,B(this,zp,t),B(this,Zl,r),this.page=s,this.viewport=o,this.zIndex=0,this._annotationEditorUIManager=i}async render(e){var o;const{annotations:t}=e,r=this.div;wc(r,this.viewport);const i=new Map,s={data:null,layer:r,linkService:e.linkService,downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||"",renderForms:e.renderForms!==!1,svgFactory:new uC,annotationStorage:e.annotationStorage||new gC,enableScripting:e.enableScripting===!0,hasJSActions:e.hasJSActions,fieldObjects:e.fieldObjects,parent:this,elements:null};for(const l of t){if(l.noHTML)continue;const u=l.annotationType===dn.POPUP;if(u){const f=i.get(l.id);if(!f)continue;s.elements=f}else{const{width:f,height:g}=xo(l.rect);if(f<=0||g<=0)continue}s.data=l;const d=KY.create(s);if(!d.isRenderable)continue;if(!u&&l.popupRef){const f=i.get(l.popupRef);f?f.push(d):i.set(l.popupRef,[d])}const h=d.render();l.hidden&&(h.style.visibility="hidden"),j(this,Cc,_L).call(this,h,l.id),d.annotationEditorType>0&&(m(this,od).set(d.data.id,d),(o=this._annotationEditorUIManager)==null||o.renderAnnotationElement(d))}j(this,Cc,HE).call(this)}update({viewport:e}){const t=this.div;this.viewport=e,wc(t,{rotation:e.rotation}),j(this,Cc,HE).call(this),t.hidden=!1}getEditableAnnotations(){return Array.from(m(this,od).values())}getEditableAnnotation(e){return m(this,od).get(e)}}zp=new WeakMap,Zl=new WeakMap,od=new WeakMap,Cc=new WeakSet,_L=function(e,t){var i;const r=e.firstChild||e;r.id=`${y2}${t}`,this.div.append(e),(i=m(this,zp))==null||i.moveElementInDOM(this.div,e,r,!1)},HE=function(){if(!m(this,Zl))return;const e=this.div;for(const[t,r]of m(this,Zl)){const i=e.querySelector(`[data-annotation-id="${t}"]`);if(!i)continue;r.className="annotationContent";const{firstChild:s}=i;s?s.nodeName==="CANVAS"?s.replaceWith(r):s.classList.contains("annotationContent")?s.after(r):s.before(r):i.append(r)}m(this,Zl).clear()};const wy=/\r\n?|\n/g;var $p,Bp,jp,Hp,Wp,Ri,zr,Up,$r,ad,an,AL,kL,RL,Wy,Eo,Uy,Vy,TL,UE,PL;const Rt=class Rt extends mt{constructor(t){super({...t,name:"freeTextEditor"});V(this,an);V(this,$p,this.editorDivBlur.bind(this));V(this,Bp,this.editorDivFocus.bind(this));V(this,jp,this.editorDivInput.bind(this));V(this,Hp,this.editorDivKeydown.bind(this));V(this,Wp,this.editorDivPaste.bind(this));V(this,Ri);V(this,zr,"");V(this,Up,`${this.id}-editor`);V(this,$r);V(this,ad,null);B(this,Ri,t.color||Rt._defaultColor||mt._defaultLineColor),B(this,$r,t.fontSize||Rt._defaultFontSize)}static get _keyboardManager(){const t=Rt.prototype,r=o=>o.isEmpty(),i=xc.TRANSLATE_SMALL,s=xc.TRANSLATE_BIG;return Je(this,"_keyboardManager",new Pg([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],t.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],t.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],t._translateEmpty,{args:[-i,0],checker:r}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t._translateEmpty,{args:[-s,0],checker:r}],[["ArrowRight","mac+ArrowRight"],t._translateEmpty,{args:[i,0],checker:r}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t._translateEmpty,{args:[s,0],checker:r}],[["ArrowUp","mac+ArrowUp"],t._translateEmpty,{args:[0,-i],checker:r}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t._translateEmpty,{args:[0,-s],checker:r}],[["ArrowDown","mac+ArrowDown"],t._translateEmpty,{args:[0,i],checker:r}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t._translateEmpty,{args:[0,s],checker:r}]]))}static initialize(t,r){mt.initialize(t,r,{strings:["pdfjs-free-text-default-content"]});const i=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(i.getPropertyValue("--freetext-padding"))}static updateDefaultParams(t,r){switch(t){case We.FREETEXT_SIZE:Rt._defaultFontSize=r;break;case We.FREETEXT_COLOR:Rt._defaultColor=r;break}}updateParams(t,r){switch(t){case We.FREETEXT_SIZE:j(this,an,AL).call(this,r);break;case We.FREETEXT_COLOR:j(this,an,kL).call(this,r);break}}static get defaultPropertiesToUpdate(){return[[We.FREETEXT_SIZE,Rt._defaultFontSize],[We.FREETEXT_COLOR,Rt._defaultColor||mt._defaultLineColor]]}get propertiesToUpdate(){return[[We.FREETEXT_SIZE,m(this,$r)],[We.FREETEXT_COLOR,m(this,Ri)]]}_translateEmpty(t,r){this._uiManager.translateSelectedEditors(t,r,!0)}getInitialTranslation(){const t=this.parentScale;return[-Rt._internalPadding*t,-(Rt._internalPadding+m(this,$r))*t]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(this.isInEditMode())return;this.parent.setEditingState(!1),this.parent.updateToolbar(Ke.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant");const t=this._uiManager._signal;this.editorDiv.addEventListener("keydown",m(this,Hp),{signal:t}),this.editorDiv.addEventListener("focus",m(this,Bp),{signal:t}),this.editorDiv.addEventListener("blur",m(this,$p),{signal:t}),this.editorDiv.addEventListener("input",m(this,jp),{signal:t}),this.editorDiv.addEventListener("paste",m(this,Wp),{signal:t})}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",m(this,Up)),this._isDraggable=!0,this.editorDiv.removeEventListener("keydown",m(this,Hp)),this.editorDiv.removeEventListener("focus",m(this,Bp)),this.editorDiv.removeEventListener("blur",m(this,$p)),this.editorDiv.removeEventListener("input",m(this,jp)),this.editorDiv.removeEventListener("paste",m(this,Wp)),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"))}focusin(t){this._focusEventsAllowed&&(super.focusin(t),t.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){var t;this.width||(this.enableEditMode(),this.editorDiv.focus(),(t=this._initialOptions)!=null&&t.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const t=m(this,zr),r=B(this,zr,j(this,an,RL).call(this).trimEnd());if(t===r)return;const i=s=>{if(B(this,zr,s),!s){this.remove();return}j(this,an,Vy).call(this),this._uiManager.rebuild(this),j(this,an,Wy).call(this)};this.addCommands({cmd:()=>{i(r)},undo:()=>{i(t)},mustExec:!1}),j(this,an,Wy).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(t){this.enterInEditMode()}keydown(t){t.target===this.div&&t.key==="Enter"&&(this.enterInEditMode(),t.preventDefault())}editorDivKeydown(t){Rt._keyboardManager.exec(this,t)}editorDivFocus(t){this.isEditing=!0}editorDivBlur(t){this.isEditing=!1}editorDivInput(t){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let t,r;this.width&&(t=this.x,r=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",m(this,Up)),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text"),this.enableEditing(),mt._l10nPromise.get("pdfjs-free-text-default-content").then(s=>{var o;return(o=this.editorDiv)==null?void 0:o.setAttribute("default-content",s)}),this.editorDiv.contentEditable=!0;const{style:i}=this.editorDiv;if(i.fontSize=`calc(${m(this,$r)}px * var(--scale-factor))`,i.color=m(this,Ri),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),x0(this,this.div,["dblclick","keydown"]),this.width){const[s,o]=this.parentDimensions;if(this.annotationElementId){const{position:l}=m(this,ad);let[u,d]=this.getInitialTranslation();[u,d]=this.pageTranslationToScreen(u,d);const[h,f]=this.pageDimensions,[g,y]=this.pageTranslation;let v,w;switch(this.rotation){case 0:v=t+(l[0]-g)/h,w=r+this.height-(l[1]-y)/f;break;case 90:v=t+(l[0]-g)/h,w=r-(l[1]-y)/f,[u,d]=[d,-u];break;case 180:v=t-this.width+(l[0]-g)/h,w=r-(l[1]-y)/f,[u,d]=[-u,-d];break;case 270:v=t+(l[0]-g-this.height*f)/h,w=r+(l[1]-y-this.width*h)/f,[u,d]=[-d,u];break}this.setAt(v*s,w*o,u,d)}else this.setAt(t*s,r*o,this.width*s,this.height*o);j(this,an,Vy).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}editorDivPaste(t){var v,w,E;const r=t.clipboardData||window.clipboardData,{types:i}=r;if(i.length===1&&i[0]==="text/plain")return;t.preventDefault();const s=j(v=Rt,Eo,UE).call(v,r.getData("text")||"").replaceAll(wy,`
`);if(!s)return;const o=window.getSelection();if(!o.rangeCount)return;this.editorDiv.normalize(),o.deleteFromDocument();const l=o.getRangeAt(0);if(!s.includes(`
`)){l.insertNode(document.createTextNode(s)),this.editorDiv.normalize(),o.collapseToStart();return}const{startContainer:u,startOffset:d}=l,h=[],f=[];if(u.nodeType===Node.TEXT_NODE){const x=u.parentElement;if(f.push(u.nodeValue.slice(d).replaceAll(wy,"")),x!==this.editorDiv){let _=h;for(const S of this.editorDiv.childNodes){if(S===x){_=f;continue}_.push(j(w=Rt,Eo,Uy).call(w,S))}}h.push(u.nodeValue.slice(0,d).replaceAll(wy,""))}else if(u===this.editorDiv){let x=h,_=0;for(const S of this.editorDiv.childNodes)_++===d&&(x=f),x.push(j(E=Rt,Eo,Uy).call(E,S))}B(this,zr,`${h.join(`
`)}${s}${f.join(`
`)}`),j(this,an,Vy).call(this);const g=new Range;let y=h.reduce((x,_)=>x+_.length,0);for(const{firstChild:x}of this.editorDiv.childNodes)if(x.nodeType===Node.TEXT_NODE){const _=x.nodeValue.length;if(y<=_){g.setStart(x,y),g.setEnd(x,y);break}y-=_}o.removeAllRanges(),o.addRange(g)}get contentDiv(){return this.editorDiv}static deserialize(t,r,i){var l;let s=null;if(t instanceof xL){const{data:{defaultAppearanceData:{fontSize:u,fontColor:d},rect:h,rotation:f,id:g},textContent:y,textPosition:v,parent:{page:{pageNumber:w}}}=t;if(!y||y.length===0)return null;s=t={annotationType:Ke.FREETEXT,color:Array.from(d),fontSize:u,value:y.join(`
`),position:v,pageIndex:w-1,rect:h.slice(0),rotation:f,id:g,deleted:!1}}const o=super.deserialize(t,r,i);return B(o,$r,t.fontSize),B(o,Ri,Ie.makeHexColor(...t.color)),B(o,zr,j(l=Rt,Eo,UE).call(l,t.value)),o.annotationElementId=t.id||null,B(o,ad,s),o}serialize(t=!1){if(this.isEmpty())return null;if(this.deleted)return{pageIndex:this.pageIndex,id:this.annotationElementId,deleted:!0};const r=Rt._internalPadding*this.parentScale,i=this.getRect(r,r),s=mt._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:m(this,Ri)),o={annotationType:Ke.FREETEXT,color:s,fontSize:m(this,$r),value:j(this,an,TL).call(this),pageIndex:this.pageIndex,rect:i,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return t?o:this.annotationElementId&&!j(this,an,PL).call(this,o)?null:(o.id=this.annotationElementId,o)}renderAnnotationElement(t){const r=super.renderAnnotationElement(t);if(this.deleted)return r;const{style:i}=r;i.fontSize=`calc(${m(this,$r)}px * var(--scale-factor))`,i.color=m(this,Ri),r.replaceChildren();for(const o of m(this,zr).split(`
`)){const l=document.createElement("div");l.append(o?document.createTextNode(o):document.createElement("br")),r.append(l)}const s=Rt._internalPadding*this.parentScale;return t.updateEdited({rect:this.getRect(s,s),popupContent:m(this,zr)}),r}resetAnnotationElement(t){super.resetAnnotationElement(t),t.resetEdited()}};$p=new WeakMap,Bp=new WeakMap,jp=new WeakMap,Hp=new WeakMap,Wp=new WeakMap,Ri=new WeakMap,zr=new WeakMap,Up=new WeakMap,$r=new WeakMap,ad=new WeakMap,an=new WeakSet,AL=function(t){const r=s=>{this.editorDiv.style.fontSize=`calc(${s}px * var(--scale-factor))`,this.translate(0,-(s-m(this,$r))*this.parentScale),B(this,$r,s),j(this,an,Wy).call(this)},i=m(this,$r);this.addCommands({cmd:r.bind(this,t),undo:r.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:We.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},kL=function(t){const r=s=>{B(this,Ri,this.editorDiv.style.color=s)},i=m(this,Ri);this.addCommands({cmd:r.bind(this,t),undo:r.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:We.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},RL=function(){var r;const t=[];this.editorDiv.normalize();for(const i of this.editorDiv.childNodes)t.push(j(r=Rt,Eo,Uy).call(r,i));return t.join(`
`)},Wy=function(){const[t,r]=this.parentDimensions;let i;if(this.isAttachedToDOM)i=this.div.getBoundingClientRect();else{const{currentLayer:s,div:o}=this,l=o.style.display,u=o.classList.contains("hidden");o.classList.remove("hidden"),o.style.display="hidden",s.div.append(this.div),i=o.getBoundingClientRect(),o.remove(),o.style.display=l,o.classList.toggle("hidden",u)}this.rotation%180===this.parentRotation%180?(this.width=i.width/t,this.height=i.height/r):(this.width=i.height/t,this.height=i.width/r),this.fixAndSetPosition()},Eo=new WeakSet,Uy=function(t){return(t.nodeType===Node.TEXT_NODE?t.nodeValue:t.innerText).replaceAll(wy,"")},Vy=function(){if(this.editorDiv.replaceChildren(),!!m(this,zr))for(const t of m(this,zr).split(`
`)){const r=document.createElement("div");r.append(t?document.createTextNode(t):document.createElement("br")),this.editorDiv.append(r)}},TL=function(){return m(this,zr).replaceAll(" "," ")},UE=function(t){return t.replaceAll(" "," ")},PL=function(t){const{value:r,fontSize:i,color:s,pageIndex:o}=m(this,ad);return this._hasBeenMoved||t.value!==r||t.fontSize!==i||t.color.some((l,u)=>l!==s[u])||t.pageIndex!==o},V(Rt,Eo),_e(Rt,"_freeTextDefaultContent",""),_e(Rt,"_internalPadding",0),_e(Rt,"_defaultColor",null),_e(Rt,"_defaultFontSize",10),_e(Rt,"_type","freetext"),_e(Rt,"_editorType",Ke.FREETEXT);let WE=Rt;var Vp,_a,Ti,sr,ML,Gy,IL,NL,GE;class VE{constructor(e,t=0,r=0,i=!0){V(this,sr);V(this,Vp);V(this,_a,[]);V(this,Ti,[]);let s=1/0,o=-1/0,l=1/0,u=-1/0;const d=10**-4;for(const{x:E,y:x,width:_,height:S}of e){const C=Math.floor((E-t)/d)*d,k=Math.ceil((E+_+t)/d)*d,I=Math.floor((x-t)/d)*d,P=Math.ceil((x+S+t)/d)*d,M=[C,I,P,!0],N=[k,I,P,!1];m(this,_a).push(M,N),s=Math.min(s,C),o=Math.max(o,k),l=Math.min(l,I),u=Math.max(u,P)}const h=o-s+2*r,f=u-l+2*r,g=s-r,y=l-r,v=m(this,_a).at(i?-1:-2),w=[v[0],v[2]];for(const E of m(this,_a)){const[x,_,S]=E;E[0]=(x-g)/h,E[1]=(_-y)/f,E[2]=(S-y)/f}B(this,Vp,{x:g,y,width:h,height:f,lastPoint:w})}getOutlines(){m(this,_a).sort((t,r)=>t[0]-r[0]||t[1]-r[1]||t[2]-r[2]);const e=[];for(const t of m(this,_a))t[3]?(e.push(...j(this,sr,GE).call(this,t)),j(this,sr,IL).call(this,t)):(j(this,sr,NL).call(this,t),e.push(...j(this,sr,GE).call(this,t)));return j(this,sr,ML).call(this,e)}}Vp=new WeakMap,_a=new WeakMap,Ti=new WeakMap,sr=new WeakSet,ML=function(e){const t=[],r=new Set;for(const o of e){const[l,u,d]=o;t.push([l,u,o],[l,d,o])}t.sort((o,l)=>o[1]-l[1]||o[0]-l[0]);for(let o=0,l=t.length;o<l;o+=2){const u=t[o][2],d=t[o+1][2];u.push(d),d.push(u),r.add(u),r.add(d)}const i=[];let s;for(;r.size>0;){const o=r.values().next().value;let[l,u,d,h,f]=o;r.delete(o);let g=l,y=u;for(s=[l,d],i.push(s);;){let v;if(r.has(h))v=h;else if(r.has(f))v=f;else break;r.delete(v),[l,u,d,h,f]=v,g!==l&&(s.push(g,y,l,y===u?u:d),g=l),y=y===u?d:u}s.push(g,y)}return new gX(i,m(this,Vp))},Gy=function(e){const t=m(this,Ti);let r=0,i=t.length-1;for(;r<=i;){const s=r+i>>1,o=t[s][0];if(o===e)return s;o<e?r=s+1:i=s-1}return i+1},IL=function([,e,t]){const r=j(this,sr,Gy).call(this,e);m(this,Ti).splice(r,0,[e,t])},NL=function([,e,t]){const r=j(this,sr,Gy).call(this,e);for(let i=r;i<m(this,Ti).length;i++){const[s,o]=m(this,Ti)[i];if(s!==e)break;if(s===e&&o===t){m(this,Ti).splice(i,1);return}}for(let i=r-1;i>=0;i--){const[s,o]=m(this,Ti)[i];if(s!==e)break;if(s===e&&o===t){m(this,Ti).splice(i,1);return}}},GE=function(e){const[t,r,i]=e,s=[[t,r,i]],o=j(this,sr,Gy).call(this,i);for(let l=0;l<o;l++){const[u,d]=m(this,Ti)[l];for(let h=0,f=s.length;h<f;h++){const[,g,y]=s[h];if(!(d<=g||y<=u)){if(g>=u){if(y>d)s[h][1]=d;else{if(f===1)return[];s.splice(h,1),h--,f--}continue}s[h][2]=u,y>d&&s.push([t,d,y])}}}return s};class LL{toSVGPath(){throw new Error("Abstract method `toSVGPath` must be implemented.")}get box(){throw new Error("Abstract getter `box` must be implemented.")}serialize(e,t){throw new Error("Abstract method `serialize` must be implemented.")}get free(){return this instanceof YE}}var Gp,ld;class gX extends LL{constructor(t,r){super();V(this,Gp);V(this,ld);B(this,ld,t),B(this,Gp,r)}toSVGPath(){const t=[];for(const r of m(this,ld)){let[i,s]=r;t.push(`M${i} ${s}`);for(let o=2;o<r.length;o+=2){const l=r[o],u=r[o+1];l===i?(t.push(`V${u}`),s=u):u===s&&(t.push(`H${l}`),i=l)}t.push("Z")}return t.join(" ")}serialize([t,r,i,s],o){const l=[],u=i-t,d=s-r;for(const h of m(this,ld)){const f=new Array(h.length);for(let g=0;g<h.length;g+=2)f[g]=t+h[g]*u,f[g+1]=s-h[g+1]*d;l.push(f)}return l}get box(){return m(this,Gp)}}Gp=new WeakMap,ld=new WeakMap;var ls,lo,cd,ud,cs,Xe,Jl,ec,qp,Yp,dd,hd,Aa,Xp,U0,V0,Kp,qE;const Us=class Us{constructor({x:e,y:t},r,i,s,o,l=0){V(this,Kp);V(this,ls);V(this,lo,[]);V(this,cd);V(this,ud);V(this,cs,[]);V(this,Xe,new Float64Array(18));V(this,Jl);V(this,ec);V(this,qp);V(this,Yp);V(this,dd);V(this,hd);V(this,Aa,[]);B(this,ls,r),B(this,hd,s*i),B(this,ud,o),m(this,Xe).set([NaN,NaN,NaN,NaN,e,t],6),B(this,cd,l),B(this,Yp,m(Us,Xp)*i),B(this,qp,m(Us,V0)*i),B(this,dd,i),m(this,Aa).push(e,t)}get free(){return!0}isEmpty(){return isNaN(m(this,Xe)[8])}add({x:e,y:t}){var N;B(this,Jl,e),B(this,ec,t);const[r,i,s,o]=m(this,ls);let[l,u,d,h]=m(this,Xe).subarray(8,12);const f=e-d,g=t-h,y=Math.hypot(f,g);if(y<m(this,qp))return!1;const v=y-m(this,Yp),w=v/y,E=w*f,x=w*g;let _=l,S=u;l=d,u=h,d+=E,h+=x,(N=m(this,Aa))==null||N.push(e,t);const C=-x/v,k=E/v,I=C*m(this,hd),P=k*m(this,hd);return m(this,Xe).set(m(this,Xe).subarray(2,8),0),m(this,Xe).set([d+I,h+P],4),m(this,Xe).set(m(this,Xe).subarray(14,18),12),m(this,Xe).set([d-I,h-P],16),isNaN(m(this,Xe)[6])?(m(this,cs).length===0&&(m(this,Xe).set([l+I,u+P],2),m(this,cs).push(NaN,NaN,NaN,NaN,(l+I-r)/s,(u+P-i)/o),m(this,Xe).set([l-I,u-P],14),m(this,lo).push(NaN,NaN,NaN,NaN,(l-I-r)/s,(u-P-i)/o)),m(this,Xe).set([_,S,l,u,d,h],6),!this.isEmpty()):(m(this,Xe).set([_,S,l,u,d,h],6),Math.abs(Math.atan2(S-u,_-l)-Math.atan2(x,E))<Math.PI/2?([l,u,d,h]=m(this,Xe).subarray(2,6),m(this,cs).push(NaN,NaN,NaN,NaN,((l+d)/2-r)/s,((u+h)/2-i)/o),[l,u,_,S]=m(this,Xe).subarray(14,18),m(this,lo).push(NaN,NaN,NaN,NaN,((_+l)/2-r)/s,((S+u)/2-i)/o),!0):([_,S,l,u,d,h]=m(this,Xe).subarray(0,6),m(this,cs).push(((_+5*l)/6-r)/s,((S+5*u)/6-i)/o,((5*l+d)/6-r)/s,((5*u+h)/6-i)/o,((l+d)/2-r)/s,((u+h)/2-i)/o),[d,h,l,u,_,S]=m(this,Xe).subarray(12,18),m(this,lo).push(((_+5*l)/6-r)/s,((S+5*u)/6-i)/o,((5*l+d)/6-r)/s,((5*u+h)/6-i)/o,((l+d)/2-r)/s,((u+h)/2-i)/o),!0))}toSVGPath(){if(this.isEmpty())return"";const e=m(this,cs),t=m(this,lo),r=m(this,Xe).subarray(4,6),i=m(this,Xe).subarray(16,18),[s,o,l,u]=m(this,ls),[d,h,f,g]=j(this,Kp,qE).call(this);if(isNaN(m(this,Xe)[6])&&!this.isEmpty())return`M${(m(this,Xe)[2]-s)/l} ${(m(this,Xe)[3]-o)/u} L${(m(this,Xe)[4]-s)/l} ${(m(this,Xe)[5]-o)/u} L${d} ${h} L${f} ${g} L${(m(this,Xe)[16]-s)/l} ${(m(this,Xe)[17]-o)/u} L${(m(this,Xe)[14]-s)/l} ${(m(this,Xe)[15]-o)/u} Z`;const y=[];y.push(`M${e[4]} ${e[5]}`);for(let v=6;v<e.length;v+=6)isNaN(e[v])?y.push(`L${e[v+4]} ${e[v+5]}`):y.push(`C${e[v]} ${e[v+1]} ${e[v+2]} ${e[v+3]} ${e[v+4]} ${e[v+5]}`);y.push(`L${(r[0]-s)/l} ${(r[1]-o)/u} L${d} ${h} L${f} ${g} L${(i[0]-s)/l} ${(i[1]-o)/u}`);for(let v=t.length-6;v>=6;v-=6)isNaN(t[v])?y.push(`L${t[v+4]} ${t[v+5]}`):y.push(`C${t[v]} ${t[v+1]} ${t[v+2]} ${t[v+3]} ${t[v+4]} ${t[v+5]}`);return y.push(`L${t[4]} ${t[5]} Z`),y.join(" ")}getOutlines(){var x;const e=m(this,cs),t=m(this,lo),r=m(this,Xe),i=r.subarray(4,6),s=r.subarray(16,18),[o,l,u,d]=m(this,ls),h=new Float64Array((((x=m(this,Aa))==null?void 0:x.length)??0)+2);for(let _=0,S=h.length-2;_<S;_+=2)h[_]=(m(this,Aa)[_]-o)/u,h[_+1]=(m(this,Aa)[_+1]-l)/d;h[h.length-2]=(m(this,Jl)-o)/u,h[h.length-1]=(m(this,ec)-l)/d;const[f,g,y,v]=j(this,Kp,qE).call(this);if(isNaN(r[6])&&!this.isEmpty()){const _=new Float64Array(36);return _.set([NaN,NaN,NaN,NaN,(r[2]-o)/u,(r[3]-l)/d,NaN,NaN,NaN,NaN,(r[4]-o)/u,(r[5]-l)/d,NaN,NaN,NaN,NaN,f,g,NaN,NaN,NaN,NaN,y,v,NaN,NaN,NaN,NaN,(r[16]-o)/u,(r[17]-l)/d,NaN,NaN,NaN,NaN,(r[14]-o)/u,(r[15]-l)/d],0),new YE(_,h,m(this,ls),m(this,dd),m(this,cd),m(this,ud))}const w=new Float64Array(m(this,cs).length+24+m(this,lo).length);let E=e.length;for(let _=0;_<E;_+=2){if(isNaN(e[_])){w[_]=w[_+1]=NaN;continue}w[_]=e[_],w[_+1]=e[_+1]}w.set([NaN,NaN,NaN,NaN,(i[0]-o)/u,(i[1]-l)/d,NaN,NaN,NaN,NaN,f,g,NaN,NaN,NaN,NaN,y,v,NaN,NaN,NaN,NaN,(s[0]-o)/u,(s[1]-l)/d],E),E+=24;for(let _=t.length-6;_>=6;_-=6)for(let S=0;S<6;S+=2){if(isNaN(t[_+S])){w[E]=w[E+1]=NaN,E+=2;continue}w[E]=t[_+S],w[E+1]=t[_+S+1],E+=2}return w.set([NaN,NaN,NaN,NaN,t[4],t[5]],E),new YE(w,h,m(this,ls),m(this,dd),m(this,cd),m(this,ud))}};ls=new WeakMap,lo=new WeakMap,cd=new WeakMap,ud=new WeakMap,cs=new WeakMap,Xe=new WeakMap,Jl=new WeakMap,ec=new WeakMap,qp=new WeakMap,Yp=new WeakMap,dd=new WeakMap,hd=new WeakMap,Aa=new WeakMap,Xp=new WeakMap,U0=new WeakMap,V0=new WeakMap,Kp=new WeakSet,qE=function(){const e=m(this,Xe).subarray(4,6),t=m(this,Xe).subarray(16,18),[r,i,s,o]=m(this,ls);return[(m(this,Jl)+(e[0]-t[0])/2-r)/s,(m(this,ec)+(e[1]-t[1])/2-i)/o,(m(this,Jl)+(t[0]-e[0])/2-r)/s,(m(this,ec)+(t[1]-e[1])/2-i)/o]},V(Us,Xp,8),V(Us,U0,2),V(Us,V0,m(Us,Xp)+m(Us,U0));let C0=Us;var fd,tc,co,Qp,Br,Zp,Qt,xr,Jh,ef,OL;class YE extends LL{constructor(t,r,i,s,o,l){super();V(this,xr);V(this,fd);V(this,tc,null);V(this,co);V(this,Qp);V(this,Br);V(this,Zp);V(this,Qt);B(this,Qt,t),B(this,Br,r),B(this,fd,i),B(this,Zp,s),B(this,co,o),B(this,Qp,l),j(this,xr,OL).call(this,l);const{x:u,y:d,width:h,height:f}=m(this,tc);for(let g=0,y=t.length;g<y;g+=2)t[g]=(t[g]-u)/h,t[g+1]=(t[g+1]-d)/f;for(let g=0,y=r.length;g<y;g+=2)r[g]=(r[g]-u)/h,r[g+1]=(r[g+1]-d)/f}toSVGPath(){const t=[`M${m(this,Qt)[4]} ${m(this,Qt)[5]}`];for(let r=6,i=m(this,Qt).length;r<i;r+=6){if(isNaN(m(this,Qt)[r])){t.push(`L${m(this,Qt)[r+4]} ${m(this,Qt)[r+5]}`);continue}t.push(`C${m(this,Qt)[r]} ${m(this,Qt)[r+1]} ${m(this,Qt)[r+2]} ${m(this,Qt)[r+3]} ${m(this,Qt)[r+4]} ${m(this,Qt)[r+5]}`)}return t.push("Z"),t.join(" ")}serialize([t,r,i,s],o){const l=i-t,u=s-r;let d,h;switch(o){case 0:d=j(this,xr,Jh).call(this,m(this,Qt),t,s,l,-u),h=j(this,xr,Jh).call(this,m(this,Br),t,s,l,-u);break;case 90:d=j(this,xr,ef).call(this,m(this,Qt),t,r,l,u),h=j(this,xr,ef).call(this,m(this,Br),t,r,l,u);break;case 180:d=j(this,xr,Jh).call(this,m(this,Qt),i,r,-l,u),h=j(this,xr,Jh).call(this,m(this,Br),i,r,-l,u);break;case 270:d=j(this,xr,ef).call(this,m(this,Qt),i,s,-l,-u),h=j(this,xr,ef).call(this,m(this,Br),i,s,-l,-u);break}return{outline:Array.from(d),points:[Array.from(h)]}}get box(){return m(this,tc)}getNewOutline(t,r){const{x:i,y:s,width:o,height:l}=m(this,tc),[u,d,h,f]=m(this,fd),g=o*h,y=l*f,v=i*h+u,w=s*f+d,E=new C0({x:m(this,Br)[0]*g+v,y:m(this,Br)[1]*y+w},m(this,fd),m(this,Zp),t,m(this,Qp),r??m(this,co));for(let x=2;x<m(this,Br).length;x+=2)E.add({x:m(this,Br)[x]*g+v,y:m(this,Br)[x+1]*y+w});return E.getOutlines()}}fd=new WeakMap,tc=new WeakMap,co=new WeakMap,Qp=new WeakMap,Br=new WeakMap,Zp=new WeakMap,Qt=new WeakMap,xr=new WeakSet,Jh=function(t,r,i,s,o){const l=new Float64Array(t.length);for(let u=0,d=t.length;u<d;u+=2)l[u]=r+t[u]*s,l[u+1]=i+t[u+1]*o;return l},ef=function(t,r,i,s,o){const l=new Float64Array(t.length);for(let u=0,d=t.length;u<d;u+=2)l[u]=r+t[u+1]*s,l[u+1]=i+t[u]*o;return l},OL=function(t){const r=m(this,Qt);let i=r[4],s=r[5],o=i,l=s,u=i,d=s,h=i,f=s;const g=t?Math.max:Math.min;for(let x=6,_=r.length;x<_;x+=6){if(isNaN(r[x]))o=Math.min(o,r[x+4]),l=Math.min(l,r[x+5]),u=Math.max(u,r[x+4]),d=Math.max(d,r[x+5]),f<r[x+5]?(h=r[x+4],f=r[x+5]):f===r[x+5]&&(h=g(h,r[x+4]));else{const S=Ie.bezierBoundingBox(i,s,...r.slice(x,x+6));o=Math.min(o,S[0]),l=Math.min(l,S[1]),u=Math.max(u,S[2]),d=Math.max(d,S[3]),f<S[3]?(h=S[2],f=S[3]):f===S[3]&&(h=g(h,S[2]))}i=r[x+4],s=r[x+5]}const y=o-m(this,co),v=l-m(this,co),w=u-o+2*m(this,co),E=d-l+2*m(this,co);B(this,tc,{x:y,y:v,width:w,height:E,lastPoint:[h,f]})};var Jp,eg,Pi,nc,pd,pn,tg,gd,ng,rg,Mi,md,At,XE,KE,DL,pl,FL,la;const Vs=class Vs{constructor({editor:e=null,uiManager:t=null}){V(this,At);V(this,Jp,j(this,At,DL).bind(this));V(this,eg,j(this,At,FL).bind(this));V(this,Pi,null);V(this,nc,null);V(this,pd);V(this,pn,null);V(this,tg,!1);V(this,gd,!1);V(this,ng,null);V(this,rg);V(this,Mi,null);V(this,md);var r;e?(B(this,gd,!1),B(this,md,We.HIGHLIGHT_COLOR),B(this,ng,e)):(B(this,gd,!0),B(this,md,We.HIGHLIGHT_DEFAULT_COLOR)),B(this,Mi,(e==null?void 0:e._uiManager)||t),B(this,rg,m(this,Mi)._eventBus),B(this,pd,(e==null?void 0:e.color)||((r=m(this,Mi))==null?void 0:r.highlightColors.values().next().value)||"#FFFF98")}static get _keyboardManager(){return Je(this,"_keyboardManager",new Pg([[["Escape","mac+Escape"],Vs.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],Vs.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],Vs.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],Vs.prototype._moveToPrevious],[["Home","mac+Home"],Vs.prototype._moveToBeginning],[["End","mac+End"],Vs.prototype._moveToEnd]]))}renderButton(){const e=B(this,Pi,document.createElement("button"));e.className="colorPicker",e.tabIndex="0",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),e.setAttribute("aria-haspopup",!0);const t=m(this,Mi)._signal;e.addEventListener("click",j(this,At,pl).bind(this),{signal:t}),e.addEventListener("keydown",m(this,Jp),{signal:t});const r=B(this,nc,document.createElement("span"));return r.className="swatch",r.setAttribute("aria-hidden",!0),r.style.backgroundColor=m(this,pd),e.append(r),e}renderMainDropdown(){const e=B(this,pn,j(this,At,XE).call(this));return e.setAttribute("aria-orientation","horizontal"),e.setAttribute("aria-labelledby","highlightColorPickerLabel"),e}_colorSelectFromKeyboard(e){if(e.target===m(this,Pi)){j(this,At,pl).call(this,e);return}const t=e.target.getAttribute("data-color");t&&j(this,At,KE).call(this,t,e)}_moveToNext(e){var t,r;if(!m(this,At,la)){j(this,At,pl).call(this,e);return}if(e.target===m(this,Pi)){(t=m(this,pn).firstChild)==null||t.focus();return}(r=e.target.nextSibling)==null||r.focus()}_moveToPrevious(e){var t,r;if(e.target===((t=m(this,pn))==null?void 0:t.firstChild)||e.target===m(this,Pi)){m(this,At,la)&&this._hideDropdownFromKeyboard();return}m(this,At,la)||j(this,At,pl).call(this,e),(r=e.target.previousSibling)==null||r.focus()}_moveToBeginning(e){var t;if(!m(this,At,la)){j(this,At,pl).call(this,e);return}(t=m(this,pn).firstChild)==null||t.focus()}_moveToEnd(e){var t;if(!m(this,At,la)){j(this,At,pl).call(this,e);return}(t=m(this,pn).lastChild)==null||t.focus()}hideDropdown(){var e;(e=m(this,pn))==null||e.classList.add("hidden"),window.removeEventListener("pointerdown",m(this,eg))}_hideDropdownFromKeyboard(){var e;if(!m(this,gd)){if(!m(this,At,la)){(e=m(this,ng))==null||e.unselect();return}this.hideDropdown(),m(this,Pi).focus({preventScroll:!0,focusVisible:m(this,tg)})}}updateColor(e){if(m(this,nc)&&(m(this,nc).style.backgroundColor=e),!m(this,pn))return;const t=m(this,Mi).highlightColors.values();for(const r of m(this,pn).children)r.setAttribute("aria-selected",t.next().value===e)}destroy(){var e,t;(e=m(this,Pi))==null||e.remove(),B(this,Pi,null),B(this,nc,null),(t=m(this,pn))==null||t.remove(),B(this,pn,null)}};Jp=new WeakMap,eg=new WeakMap,Pi=new WeakMap,nc=new WeakMap,pd=new WeakMap,pn=new WeakMap,tg=new WeakMap,gd=new WeakMap,ng=new WeakMap,rg=new WeakMap,Mi=new WeakMap,md=new WeakMap,At=new WeakSet,XE=function(){const e=document.createElement("div"),t=m(this,Mi)._signal;e.addEventListener("contextmenu",Sr,{signal:t}),e.className="dropdown",e.role="listbox",e.setAttribute("aria-multiselectable",!1),e.setAttribute("aria-orientation","vertical"),e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown");for(const[r,i]of m(this,Mi).highlightColors){const s=document.createElement("button");s.tabIndex="0",s.role="option",s.setAttribute("data-color",i),s.title=r,s.setAttribute("data-l10n-id",`pdfjs-editor-colorpicker-${r}`);const o=document.createElement("span");s.append(o),o.className="swatch",o.style.backgroundColor=i,s.setAttribute("aria-selected",i===m(this,pd)),s.addEventListener("click",j(this,At,KE).bind(this,i),{signal:t}),e.append(s)}return e.addEventListener("keydown",m(this,Jp),{signal:t}),e},KE=function(e,t){t.stopPropagation(),m(this,rg).dispatch("switchannotationeditorparams",{source:this,type:m(this,md),value:e})},DL=function(e){Vs._keyboardManager.exec(this,e)},pl=function(e){if(m(this,At,la)){this.hideDropdown();return}if(B(this,tg,e.detail===0),window.addEventListener("pointerdown",m(this,eg),{signal:m(this,Mi)._signal}),m(this,pn)){m(this,pn).classList.remove("hidden");return}const t=B(this,pn,j(this,At,XE).call(this));m(this,Pi).append(t)},FL=function(e){var t;(t=m(this,pn))!=null&&t.contains(e.target)||this.hideDropdown()},la=function(){return m(this,pn)&&!m(this,pn).classList.contains("hidden")};let _0=Vs;var yd,ig,ka,rc,vd,si,sg,og,ic,Ii,tr,jr,G0,bd,sc,gn,wd,us,ag,qe,QE,ZE,zL,$L,BL,JE,tf,di,vu,jL,qy,nf,HL,WL,UL,VL;const lt=class lt extends mt{constructor(t){super({...t,name:"highlightEditor"});V(this,qe);V(this,yd,null);V(this,ig,0);V(this,ka);V(this,rc,null);V(this,vd,null);V(this,si,null);V(this,sg,null);V(this,og,0);V(this,ic,null);V(this,Ii,null);V(this,tr,null);V(this,jr,!1);V(this,G0,j(this,qe,jL).bind(this));V(this,bd,null);V(this,sc);V(this,gn,null);V(this,wd,"");V(this,us);V(this,ag,"");this.color=t.color||lt._defaultColor,B(this,us,t.thickness||lt._defaultThickness),B(this,sc,t.opacity||lt._defaultOpacity),B(this,ka,t.boxes||null),B(this,ag,t.methodOfCreation||""),B(this,wd,t.text||""),this._isDraggable=!1,t.highlightId>-1?(B(this,jr,!0),j(this,qe,ZE).call(this,t),j(this,qe,tf).call(this)):(B(this,yd,t.anchorNode),B(this,ig,t.anchorOffset),B(this,sg,t.focusNode),B(this,og,t.focusOffset),j(this,qe,QE).call(this),j(this,qe,tf).call(this),this.rotate(this.rotation))}static get _keyboardManager(){const t=lt.prototype;return Je(this,"_keyboardManager",new Pg([[["ArrowLeft","mac+ArrowLeft"],t._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],t._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],t._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],t._moveCaret,{args:[3]}]]))}get telemetryInitialData(){return{action:"added",type:m(this,jr)?"free_highlight":"highlight",color:this._uiManager.highlightColorNames.get(this.color),thickness:m(this,us),methodOfCreation:m(this,ag)}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.highlightColorNames.get(this.color)}}static computeTelemetryFinalData(t){return{numberOfColors:t.get("color").size}}static initialize(t,r){var i;mt.initialize(t,r),lt._defaultColor||(lt._defaultColor=((i=r.highlightColors)==null?void 0:i.values().next().value)||"#fff066")}static updateDefaultParams(t,r){switch(t){case We.HIGHLIGHT_DEFAULT_COLOR:lt._defaultColor=r;break;case We.HIGHLIGHT_THICKNESS:lt._defaultThickness=r;break}}translateInPage(t,r){}get toolbarPosition(){return m(this,bd)}updateParams(t,r){switch(t){case We.HIGHLIGHT_COLOR:j(this,qe,zL).call(this,r);break;case We.HIGHLIGHT_THICKNESS:j(this,qe,$L).call(this,r);break}}static get defaultPropertiesToUpdate(){return[[We.HIGHLIGHT_DEFAULT_COLOR,lt._defaultColor],[We.HIGHLIGHT_THICKNESS,lt._defaultThickness]]}get propertiesToUpdate(){return[[We.HIGHLIGHT_COLOR,this.color||lt._defaultColor],[We.HIGHLIGHT_THICKNESS,m(this,us)||lt._defaultThickness],[We.HIGHLIGHT_FREE,m(this,jr)]]}async addEditToolbar(){const t=await super.addEditToolbar();return t?(this._uiManager.highlightColors&&(B(this,vd,new _0({editor:this})),t.addColorPicker(m(this,vd))),t):null}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(j(this,qe,nf).call(this))}getBaseTranslation(){return[0,0]}getRect(t,r){return super.getRect(t,r,j(this,qe,nf).call(this))}onceAdded(){this.parent.addUndoableEditor(this),this.div.focus()}remove(){j(this,qe,JE).call(this),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(j(this,qe,tf).call(this),this.isAttachedToDOM||this.parent.add(this)))}setParent(t){var i;let r=!1;this.parent&&!t?j(this,qe,JE).call(this):t&&(j(this,qe,tf).call(this,t),r=!this.parent&&((i=this.div)==null?void 0:i.classList.contains("selectedEditor"))),super.setParent(t),this.show(this._isVisible),r&&this.select()}rotate(t){var s,o,l;const{drawLayer:r}=this.parent;let i;m(this,jr)?(t=(t-this.rotation+360)%360,i=j(s=lt,di,vu).call(s,m(this,Ii).box,t)):i=j(o=lt,di,vu).call(o,this,t),r.rotate(m(this,tr),t),r.rotate(m(this,gn),t),r.updateBox(m(this,tr),i),r.updateBox(m(this,gn),j(l=lt,di,vu).call(l,m(this,si).box,t))}render(){if(this.div)return this.div;const t=super.render();m(this,wd)&&(t.setAttribute("aria-label",m(this,wd)),t.setAttribute("role","mark")),m(this,jr)?t.classList.add("free"):this.div.addEventListener("keydown",m(this,G0),{signal:this._uiManager._signal});const r=B(this,ic,document.createElement("div"));t.append(r),r.setAttribute("aria-hidden","true"),r.className="internal",r.style.clipPath=m(this,rc);const[i,s]=this.parentDimensions;return this.setDims(this.width*i,this.height*s),x0(this,m(this,ic),["pointerover","pointerleave"]),this.enableEditing(),t}pointerover(){this.parent.drawLayer.addClass(m(this,gn),"hovered")}pointerleave(){this.parent.drawLayer.removeClass(m(this,gn),"hovered")}_moveCaret(t){switch(this.parent.unselect(this),t){case 0:case 2:j(this,qe,qy).call(this,!0);break;case 1:case 3:j(this,qe,qy).call(this,!1);break}}select(){var t,r;super.select(),m(this,gn)&&((t=this.parent)==null||t.drawLayer.removeClass(m(this,gn),"hovered"),(r=this.parent)==null||r.drawLayer.addClass(m(this,gn),"selected"))}unselect(){var t;super.unselect(),m(this,gn)&&((t=this.parent)==null||t.drawLayer.removeClass(m(this,gn),"selected"),m(this,jr)||j(this,qe,qy).call(this,!1))}get _mustFixPosition(){return!m(this,jr)}show(t=this._isVisible){super.show(t),this.parent&&(this.parent.drawLayer.show(m(this,tr),t),this.parent.drawLayer.show(m(this,gn),t))}static startHighlighting(t,r,{target:i,x:s,y:o}){const{x:l,y:u,width:d,height:h}=i.getBoundingClientRect(),f=E=>{j(this,di,UL).call(this,t,E)},g=t._signal,y={capture:!0,passive:!1,signal:g},v=E=>{E.preventDefault(),E.stopPropagation()},w=E=>{i.removeEventListener("pointermove",f),window.removeEventListener("blur",w),window.removeEventListener("pointerup",w),window.removeEventListener("pointerdown",v,y),window.removeEventListener("contextmenu",Sr),j(this,di,VL).call(this,t,E)};window.addEventListener("blur",w,{signal:g}),window.addEventListener("pointerup",w,{signal:g}),window.addEventListener("pointerdown",v,y),window.addEventListener("contextmenu",Sr,{signal:g}),i.addEventListener("pointermove",f,{signal:g}),this._freeHighlight=new C0({x:s,y:o},[l,u,d,h],t.scale,this._defaultThickness/2,r,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=t.drawLayer.highlight(this._freeHighlight,this._defaultColor,this._defaultOpacity,!0)}static deserialize(t,r,i){var w;const s=super.deserialize(t,r,i),{rect:[o,l,u,d],color:h,quadPoints:f}=t;s.color=Ie.makeHexColor(...h),B(s,sc,t.opacity);const[g,y]=s.pageDimensions;s.width=(u-o)/g,s.height=(d-l)/y;const v=B(s,ka,[]);for(let E=0;E<f.length;E+=8)v.push({x:(f[4]-u)/g,y:(d-(1-f[E+5]))/y,width:(f[E+2]-f[E])/g,height:(f[E+5]-f[E+1])/y});return j(w=s,qe,QE).call(w),s}serialize(t=!1){if(this.isEmpty()||t)return null;const r=this.getRect(0,0),i=mt._colorManager.convert(this.color);return{annotationType:Ke.HIGHLIGHT,color:i,opacity:m(this,sc),thickness:m(this,us),quadPoints:j(this,qe,HL).call(this),outlines:j(this,qe,WL).call(this,r),pageIndex:this.pageIndex,rect:r,rotation:j(this,qe,nf).call(this),structTreeParentId:this._structTreeParentId}}static canCreateNewEmptyEditor(){return!1}};yd=new WeakMap,ig=new WeakMap,ka=new WeakMap,rc=new WeakMap,vd=new WeakMap,si=new WeakMap,sg=new WeakMap,og=new WeakMap,ic=new WeakMap,Ii=new WeakMap,tr=new WeakMap,jr=new WeakMap,G0=new WeakMap,bd=new WeakMap,sc=new WeakMap,gn=new WeakMap,wd=new WeakMap,us=new WeakMap,ag=new WeakMap,qe=new WeakSet,QE=function(){const t=new VE(m(this,ka),.001);B(this,Ii,t.getOutlines()),{x:this.x,y:this.y,width:this.width,height:this.height}=m(this,Ii).box;const r=new VE(m(this,ka),.0025,.001,this._uiManager.direction==="ltr");B(this,si,r.getOutlines());const{lastPoint:i}=m(this,si).box;B(this,bd,[(i[0]-this.x)/this.width,(i[1]-this.y)/this.height])},ZE=function({highlightOutlines:t,highlightId:r,clipPathId:i}){var f,g;if(B(this,Ii,t),B(this,si,t.getNewOutline(m(this,us)/2+1.5,.0025)),r>=0)B(this,tr,r),B(this,rc,i),this.parent.drawLayer.finalizeLine(r,t),B(this,gn,this.parent.drawLayer.highlightOutline(m(this,si)));else if(this.parent){const y=this.parent.viewport.rotation;this.parent.drawLayer.updateLine(m(this,tr),t),this.parent.drawLayer.updateBox(m(this,tr),j(f=lt,di,vu).call(f,m(this,Ii).box,(y-this.rotation+360)%360)),this.parent.drawLayer.updateLine(m(this,gn),m(this,si)),this.parent.drawLayer.updateBox(m(this,gn),j(g=lt,di,vu).call(g,m(this,si).box,y))}const{x:o,y:l,width:u,height:d}=t.box;switch(this.rotation){case 0:this.x=o,this.y=l,this.width=u,this.height=d;break;case 90:{const[y,v]=this.parentDimensions;this.x=l,this.y=1-o,this.width=u*v/y,this.height=d*y/v;break}case 180:this.x=1-o,this.y=1-l,this.width=u,this.height=d;break;case 270:{const[y,v]=this.parentDimensions;this.x=1-l,this.y=o,this.width=u*v/y,this.height=d*y/v;break}}const{lastPoint:h}=m(this,si).box;B(this,bd,[(h[0]-o)/u,(h[1]-l)/d])},zL=function(t){const r=s=>{var o,l;this.color=s,(o=this.parent)==null||o.drawLayer.changeColor(m(this,tr),s),(l=m(this,vd))==null||l.updateColor(s)},i=this.color;this.addCommands({cmd:r.bind(this,t),undo:r.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:We.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.highlightColorNames.get(t)},!0)},$L=function(t){const r=m(this,us),i=s=>{B(this,us,s),j(this,qe,BL).call(this,s)};this.addCommands({cmd:i.bind(this,t),undo:i.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:We.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:t},!0)},BL=function(t){if(!m(this,jr))return;j(this,qe,ZE).call(this,{highlightOutlines:m(this,Ii).getNewOutline(t/2)}),this.fixAndSetPosition();const[r,i]=this.parentDimensions;this.setDims(this.width*r,this.height*i)},JE=function(){m(this,tr)===null||!this.parent||(this.parent.drawLayer.remove(m(this,tr)),B(this,tr,null),this.parent.drawLayer.remove(m(this,gn)),B(this,gn,null))},tf=function(t=this.parent){m(this,tr)===null&&({id:Ir(this,tr)._,clipPathId:Ir(this,rc)._}=t.drawLayer.highlight(m(this,Ii),this.color,m(this,sc)),B(this,gn,t.drawLayer.highlightOutline(m(this,si))),m(this,ic)&&(m(this,ic).style.clipPath=m(this,rc)))},di=new WeakSet,vu=function({x:t,y:r,width:i,height:s},o){switch(o){case 90:return{x:1-r-s,y:t,width:s,height:i};case 180:return{x:1-t-i,y:1-r-s,width:i,height:s};case 270:return{x:r,y:1-t-i,width:s,height:i}}return{x:t,y:r,width:i,height:s}},jL=function(t){lt._keyboardManager.exec(this,t)},qy=function(t){if(!m(this,yd))return;const r=window.getSelection();t?r.setPosition(m(this,yd),m(this,ig)):r.setPosition(m(this,sg),m(this,og))},nf=function(){return m(this,jr)?this.rotation:0},HL=function(){if(m(this,jr))return null;const[t,r]=this.pageDimensions,i=m(this,ka),s=new Float32Array(i.length*8);let o=0;for(const{x:l,y:u,width:d,height:h}of i){const f=l*t,g=(1-u-h)*r;s[o]=s[o+4]=f,s[o+1]=s[o+3]=g,s[o+2]=s[o+6]=f+d*t,s[o+5]=s[o+7]=g+h*r,o+=8}return s},WL=function(t){return m(this,Ii).serialize(t,j(this,qe,nf).call(this))},UL=function(t,r){this._freeHighlight.add(r)&&t.drawLayer.updatePath(this._freeHighlightId,this._freeHighlight)},VL=function(t,r){this._freeHighlight.isEmpty()?t.drawLayer.removeFreeHighlight(this._freeHighlightId):t.createAndAddNewEditor(r,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""},V(lt,di),_e(lt,"_defaultColor",null),_e(lt,"_defaultOpacity",1),_e(lt,"_defaultThickness",12),_e(lt,"_l10nPromise"),_e(lt,"_type","highlight"),_e(lt,"_editorType",Ke.HIGHLIGHT),_e(lt,"_freeHighlightId",-1),_e(lt,"_freeHighlight",null),_e(lt,"_freeHighlightClipId","");let A0=lt;var oc,ac,lg,cg,ug,lc,ds,uo,oi,cc,uc,ho,dc,hc,Ra,Se,GL,qL,YL,XL,t1,KL,n1,QL,ZL,JL,eO,tO,gl,r1,Yy,Xy,bu,i1,Ky,To,nO,s1,rO,iO,o1,Qy,rf;const Bt=class Bt extends mt{constructor(t){super({...t,name:"inkEditor"});V(this,Se);V(this,oc,0);V(this,ac,0);V(this,lg,this.canvasPointermove.bind(this));V(this,cg,this.canvasPointerleave.bind(this));V(this,ug,this.canvasPointerup.bind(this));V(this,lc,this.canvasPointerdown.bind(this));V(this,ds,null);V(this,uo,new Path2D);V(this,oi,!1);V(this,cc,!1);V(this,uc,!1);V(this,ho,null);V(this,dc,0);V(this,hc,0);V(this,Ra,null);this.color=t.color||null,this.thickness=t.thickness||null,this.opacity=t.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(t,r){mt.initialize(t,r)}static updateDefaultParams(t,r){switch(t){case We.INK_THICKNESS:Bt._defaultThickness=r;break;case We.INK_COLOR:Bt._defaultColor=r;break;case We.INK_OPACITY:Bt._defaultOpacity=r/100;break}}updateParams(t,r){switch(t){case We.INK_THICKNESS:j(this,Se,GL).call(this,r);break;case We.INK_COLOR:j(this,Se,qL).call(this,r);break;case We.INK_OPACITY:j(this,Se,YL).call(this,r);break}}static get defaultPropertiesToUpdate(){return[[We.INK_THICKNESS,Bt._defaultThickness],[We.INK_COLOR,Bt._defaultColor||mt._defaultLineColor],[We.INK_OPACITY,Math.round(Bt._defaultOpacity*100)]]}get propertiesToUpdate(){return[[We.INK_THICKNESS,this.thickness||Bt._defaultThickness],[We.INK_COLOR,this.color||Bt._defaultColor||mt._defaultLineColor],[We.INK_OPACITY,Math.round(100*(this.opacity??Bt._defaultOpacity))]]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.canvas||(j(this,Se,Yy).call(this),j(this,Se,Xy).call(this)),this.isAttachedToDOM||(this.parent.add(this),j(this,Se,bu).call(this)),j(this,Se,rf).call(this)))}remove(){var t;this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,m(this,ds)&&(clearTimeout(m(this,ds)),B(this,ds,null)),(t=m(this,ho))==null||t.disconnect(),B(this,ho,null),super.remove())}setParent(t){!this.parent&&t?this._uiManager.removeShouldRescale(this):this.parent&&t===null&&this._uiManager.addShouldRescale(this),super.setParent(t)}onScaleChanging(){const[t,r]=this.parentDimensions,i=this.width*t,s=this.height*r;this.setDimensions(i,s)}enableEditMode(){m(this,oi)||this.canvas===null||(super.enableEditMode(),this._isDraggable=!1,this.canvas.addEventListener("pointerdown",m(this,lc),{signal:this._uiManager._signal}))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",m(this,lc)))}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}commit(){m(this,oi)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),B(this,oi,!0),this.div.classList.add("disabled"),j(this,Se,rf).call(this,!0),this.select(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(t){this._focusEventsAllowed&&(super.focusin(t),this.enableEditMode())}canvasPointerdown(t){t.button!==0||!this.isInEditMode()||m(this,oi)||(this.setInForeground(),t.preventDefault(),this.div.contains(document.activeElement)||this.div.focus({preventScroll:!0}),j(this,Se,KL).call(this,t.offsetX,t.offsetY))}canvasPointermove(t){t.preventDefault(),j(this,Se,n1).call(this,t.offsetX,t.offsetY)}canvasPointerup(t){t.preventDefault(),j(this,Se,r1).call(this,t)}canvasPointerleave(t){j(this,Se,r1).call(this,t)}get isResizable(){return!this.isEmpty()&&m(this,oi)}render(){if(this.div)return this.div;let t,r;this.width&&(t=this.x,r=this.y),super.render(),this.div.setAttribute("data-l10n-id","pdfjs-ink");const[i,s,o,l]=j(this,Se,XL).call(this);if(this.setAt(i,s,0,0),this.setDims(o,l),j(this,Se,Yy).call(this),this.width){const[u,d]=this.parentDimensions;this.setAspectRatio(this.width*u,this.height*d),this.setAt(t*u,r*d,this.width*u,this.height*d),B(this,uc,!0),j(this,Se,bu).call(this),this.setDims(this.width*u,this.height*d),j(this,Se,gl).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return j(this,Se,Xy).call(this),this.div}setDimensions(t,r){const i=Math.round(t),s=Math.round(r);if(m(this,dc)===i&&m(this,hc)===s)return;B(this,dc,i),B(this,hc,s),this.canvas.style.visibility="hidden";const[o,l]=this.parentDimensions;this.width=t/o,this.height=r/l,this.fixAndSetPosition(),m(this,oi)&&j(this,Se,i1).call(this,t,r),j(this,Se,bu).call(this),j(this,Se,gl).call(this),this.canvas.style.visibility="visible",this.fixDims()}static deserialize(t,r,i){var E,x,_;if(t instanceof EL)return null;const s=super.deserialize(t,r,i);s.thickness=t.thickness,s.color=Ie.makeHexColor(...t.color),s.opacity=t.opacity;const[o,l]=s.pageDimensions,u=s.width*o,d=s.height*l,h=s.parentScale,f=t.thickness/2;B(s,oi,!0),B(s,dc,Math.round(u)),B(s,hc,Math.round(d));const{paths:g,rect:y,rotation:v}=t;for(let{bezier:S}of g){S=j(E=Bt,To,rO).call(E,S,y,v);const C=[];s.paths.push(C);let k=h*(S[0]-f),I=h*(S[1]-f);for(let M=2,N=S.length;M<N;M+=6){const R=h*(S[M]-f),D=h*(S[M+1]-f),$=h*(S[M+2]-f),G=h*(S[M+3]-f),L=h*(S[M+4]-f),q=h*(S[M+5]-f);C.push([[k,I],[R,D],[$,G],[L,q]]),k=L,I=q}const P=j(this,To,nO).call(this,C);s.bezierPath2D.push(P)}const w=j(x=s,Se,o1).call(x);return B(s,ac,Math.max(mt.MIN_SIZE,w[2]-w[0])),B(s,oc,Math.max(mt.MIN_SIZE,w[3]-w[1])),j(_=s,Se,i1).call(_,u,d),s}serialize(){if(this.isEmpty())return null;const t=this.getRect(0,0),r=mt._colorManager.convert(this.ctx.strokeStyle);return{annotationType:Ke.INK,color:r,thickness:this.thickness,opacity:this.opacity,paths:j(this,Se,iO).call(this,this.scaleFactor/this.parentScale,this.translationX,this.translationY,t),pageIndex:this.pageIndex,rect:t,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}};oc=new WeakMap,ac=new WeakMap,lg=new WeakMap,cg=new WeakMap,ug=new WeakMap,lc=new WeakMap,ds=new WeakMap,uo=new WeakMap,oi=new WeakMap,cc=new WeakMap,uc=new WeakMap,ho=new WeakMap,dc=new WeakMap,hc=new WeakMap,Ra=new WeakMap,Se=new WeakSet,GL=function(t){const r=s=>{this.thickness=s,j(this,Se,rf).call(this)},i=this.thickness;this.addCommands({cmd:r.bind(this,t),undo:r.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:We.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})},qL=function(t){const r=s=>{this.color=s,j(this,Se,gl).call(this)},i=this.color;this.addCommands({cmd:r.bind(this,t),undo:r.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:We.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})},YL=function(t){const r=s=>{this.opacity=s,j(this,Se,gl).call(this)};t/=100;const i=this.opacity;this.addCommands({cmd:r.bind(this,t),undo:r.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:We.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})},XL=function(){const{parentRotation:t,parentDimensions:[r,i]}=this;switch(t){case 90:return[0,i,i,r];case 180:return[r,i,r,i];case 270:return[r,0,i,r];default:return[0,0,r,i]}},t1=function(){const{ctx:t,color:r,opacity:i,thickness:s,parentScale:o,scaleFactor:l}=this;t.lineWidth=s*o/l,t.lineCap="round",t.lineJoin="round",t.miterLimit=10,t.strokeStyle=`${r}${$q(i)}`},KL=function(t,r){const i=this._uiManager._signal;this.canvas.addEventListener("contextmenu",Sr,{signal:i}),this.canvas.addEventListener("pointerleave",m(this,cg),{signal:i}),this.canvas.addEventListener("pointermove",m(this,lg),{signal:i}),this.canvas.addEventListener("pointerup",m(this,ug),{signal:i}),this.canvas.removeEventListener("pointerdown",m(this,lc)),this.isEditing=!0,m(this,uc)||(B(this,uc,!0),j(this,Se,bu).call(this),this.thickness||(this.thickness=Bt._defaultThickness),this.color||(this.color=Bt._defaultColor||mt._defaultLineColor),this.opacity??(this.opacity=Bt._defaultOpacity)),this.currentPath.push([t,r]),B(this,cc,!1),j(this,Se,t1).call(this),B(this,Ra,()=>{j(this,Se,JL).call(this),m(this,Ra)&&window.requestAnimationFrame(m(this,Ra))}),window.requestAnimationFrame(m(this,Ra))},n1=function(t,r){const[i,s]=this.currentPath.at(-1);if(this.currentPath.length>1&&t===i&&r===s)return;const o=this.currentPath;let l=m(this,uo);if(o.push([t,r]),B(this,cc,!0),o.length<=2){l.moveTo(...o[0]),l.lineTo(t,r);return}o.length===3&&(B(this,uo,l=new Path2D),l.moveTo(...o[0])),j(this,Se,eO).call(this,l,...o.at(-3),...o.at(-2),t,r)},QL=function(){if(this.currentPath.length===0)return;const t=this.currentPath.at(-1);m(this,uo).lineTo(...t)},ZL=function(t,r){B(this,Ra,null),t=Math.min(Math.max(t,0),this.canvas.width),r=Math.min(Math.max(r,0),this.canvas.height),j(this,Se,n1).call(this,t,r),j(this,Se,QL).call(this);let i;if(this.currentPath.length!==1)i=j(this,Se,tO).call(this);else{const d=[t,r];i=[[d,d.slice(),d.slice(),d]]}const s=m(this,uo),o=this.currentPath;this.currentPath=[],B(this,uo,new Path2D);const l=()=>{this.allRawPaths.push(o),this.paths.push(i),this.bezierPath2D.push(s),this._uiManager.rebuild(this)},u=()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(j(this,Se,Yy).call(this),j(this,Se,Xy).call(this)),j(this,Se,rf).call(this))};this.addCommands({cmd:l,undo:u,mustExec:!0})},JL=function(){if(!m(this,cc))return;B(this,cc,!1);const t=Math.ceil(this.thickness*this.parentScale),r=this.currentPath.slice(-3),i=r.map(l=>l[0]),s=r.map(l=>l[1]);Math.min(...i)-t,Math.max(...i)+t,Math.min(...s)-t,Math.max(...s)+t;const{ctx:o}=this;o.save(),o.clearRect(0,0,this.canvas.width,this.canvas.height);for(const l of this.bezierPath2D)o.stroke(l);o.stroke(m(this,uo)),o.restore()},eO=function(t,r,i,s,o,l,u){const d=(r+s)/2,h=(i+o)/2,f=(s+l)/2,g=(o+u)/2;t.bezierCurveTo(d+2*(s-d)/3,h+2*(o-h)/3,f+2*(s-f)/3,g+2*(o-g)/3,f,g)},tO=function(){const t=this.currentPath;if(t.length<=2)return[[t[0],t[0],t.at(-1),t.at(-1)]];const r=[];let i,[s,o]=t[0];for(i=1;i<t.length-2;i++){const[y,v]=t[i],[w,E]=t[i+1],x=(y+w)/2,_=(v+E)/2,S=[s+2*(y-s)/3,o+2*(v-o)/3],C=[x+2*(y-x)/3,_+2*(v-_)/3];r.push([[s,o],S,C,[x,_]]),[s,o]=[x,_]}const[l,u]=t[i],[d,h]=t[i+1],f=[s+2*(l-s)/3,o+2*(u-o)/3],g=[d+2*(l-d)/3,h+2*(u-h)/3];return r.push([[s,o],f,g,[d,h]]),r},gl=function(){if(this.isEmpty()){j(this,Se,Ky).call(this);return}j(this,Se,t1).call(this);const{canvas:t,ctx:r}=this;r.setTransform(1,0,0,1,0,0),r.clearRect(0,0,t.width,t.height),j(this,Se,Ky).call(this);for(const i of this.bezierPath2D)r.stroke(i)},r1=function(t){this.canvas.removeEventListener("pointerleave",m(this,cg)),this.canvas.removeEventListener("pointermove",m(this,lg)),this.canvas.removeEventListener("pointerup",m(this,ug)),this.canvas.addEventListener("pointerdown",m(this,lc),{signal:this._uiManager._signal}),m(this,ds)&&clearTimeout(m(this,ds)),B(this,ds,setTimeout(()=>{B(this,ds,null),this.canvas.removeEventListener("contextmenu",Sr)},10)),j(this,Se,ZL).call(this,t.offsetX,t.offsetY),this.addToAnnotationStorage(),this.setInBackground()},Yy=function(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",this.canvas.setAttribute("data-l10n-id","pdfjs-ink-canvas"),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")},Xy=function(){B(this,ho,new ResizeObserver(t=>{const r=t[0].contentRect;r.width&&r.height&&this.setDimensions(r.width,r.height)})),m(this,ho).observe(this.div),this._uiManager._signal.addEventListener("abort",()=>{var t;(t=m(this,ho))==null||t.disconnect(),B(this,ho,null)},{once:!0})},bu=function(){if(!m(this,uc))return;const[t,r]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*t),this.canvas.height=Math.ceil(this.height*r),j(this,Se,Ky).call(this)},i1=function(t,r){const i=j(this,Se,Qy).call(this),s=(t-i)/m(this,ac),o=(r-i)/m(this,oc);this.scaleFactor=Math.min(s,o)},Ky=function(){const t=j(this,Se,Qy).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+t,this.translationY*this.scaleFactor+t)},To=new WeakSet,nO=function(t){const r=new Path2D;for(let i=0,s=t.length;i<s;i++){const[o,l,u,d]=t[i];i===0&&r.moveTo(...o),r.bezierCurveTo(l[0],l[1],u[0],u[1],d[0],d[1])}return r},s1=function(t,r,i){const[s,o,l,u]=r;switch(i){case 0:for(let d=0,h=t.length;d<h;d+=2)t[d]+=s,t[d+1]=u-t[d+1];break;case 90:for(let d=0,h=t.length;d<h;d+=2){const f=t[d];t[d]=t[d+1]+s,t[d+1]=f+o}break;case 180:for(let d=0,h=t.length;d<h;d+=2)t[d]=l-t[d],t[d+1]+=o;break;case 270:for(let d=0,h=t.length;d<h;d+=2){const f=t[d];t[d]=l-t[d+1],t[d+1]=u-f}break;default:throw new Error("Invalid rotation")}return t},rO=function(t,r,i){const[s,o,l,u]=r;switch(i){case 0:for(let d=0,h=t.length;d<h;d+=2)t[d]-=s,t[d+1]=u-t[d+1];break;case 90:for(let d=0,h=t.length;d<h;d+=2){const f=t[d];t[d]=t[d+1]-o,t[d+1]=f-s}break;case 180:for(let d=0,h=t.length;d<h;d+=2)t[d]=l-t[d],t[d+1]-=o;break;case 270:for(let d=0,h=t.length;d<h;d+=2){const f=t[d];t[d]=u-t[d+1],t[d+1]=l-f}break;default:throw new Error("Invalid rotation")}return t},iO=function(t,r,i,s){var h,f;const o=[],l=this.thickness/2,u=t*r+l,d=t*i+l;for(const g of this.paths){const y=[],v=[];for(let w=0,E=g.length;w<E;w++){const[x,_,S,C]=g[w];if(x[0]===C[0]&&x[1]===C[1]&&E===1){const G=t*x[0]+u,L=t*x[1]+d;y.push(G,L),v.push(G,L);break}const k=t*x[0]+u,I=t*x[1]+d,P=t*_[0]+u,M=t*_[1]+d,N=t*S[0]+u,R=t*S[1]+d,D=t*C[0]+u,$=t*C[1]+d;w===0&&(y.push(k,I),v.push(k,I)),y.push(P,M,N,R,D,$),v.push(P,M),w===E-1&&v.push(D,$)}o.push({bezier:j(h=Bt,To,s1).call(h,y,s,this.rotation),points:j(f=Bt,To,s1).call(f,v,s,this.rotation)})}return o},o1=function(){let t=1/0,r=-1/0,i=1/0,s=-1/0;for(const o of this.paths)for(const[l,u,d,h]of o){const f=Ie.bezierBoundingBox(...l,...u,...d,...h);t=Math.min(t,f[0]),i=Math.min(i,f[1]),r=Math.max(r,f[2]),s=Math.max(s,f[3])}return[t,i,r,s]},Qy=function(){return m(this,oi)?Math.ceil(this.thickness*this.parentScale):0},rf=function(t=!1){if(this.isEmpty())return;if(!m(this,oi)){j(this,Se,gl).call(this);return}const r=j(this,Se,o1).call(this),i=j(this,Se,Qy).call(this);B(this,ac,Math.max(mt.MIN_SIZE,r[2]-r[0])),B(this,oc,Math.max(mt.MIN_SIZE,r[3]-r[1]));const s=Math.ceil(i+m(this,ac)*this.scaleFactor),o=Math.ceil(i+m(this,oc)*this.scaleFactor),[l,u]=this.parentDimensions;this.width=s/l,this.height=o/u,this.setAspectRatio(s,o);const d=this.translationX,h=this.translationY;this.translationX=-r[0],this.translationY=-r[1],j(this,Se,bu).call(this),j(this,Se,gl).call(this),B(this,dc,s),B(this,hc,o),this.setDims(s,o);const f=t?i/this.scaleFactor/2:0;this.translate(d-this.translationX-f,h-this.translationY-f)},V(Bt,To),_e(Bt,"_defaultColor",null),_e(Bt,"_defaultOpacity",1),_e(Bt,"_defaultThickness",1),_e(Bt,"_type","ink"),_e(Bt,"_editorType",Ke.INK);let e1=Bt;var Mn,In,Ta,fo,Pa,xd,hs,po,fs,Ni,dg,nt,sf,of,Zy,l1,sO,oO,c1,Jy,aO;const mf=class mf extends mt{constructor(t){super({...t,name:"stampEditor"});V(this,nt);V(this,Mn,null);V(this,In,null);V(this,Ta,null);V(this,fo,null);V(this,Pa,null);V(this,xd,"");V(this,hs,null);V(this,po,null);V(this,fs,null);V(this,Ni,!1);V(this,dg,!1);B(this,fo,t.bitmapUrl),B(this,Pa,t.bitmapFile)}static initialize(t,r){mt.initialize(t,r)}static get supportedTypes(){return Je(this,"supportedTypes",["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"].map(r=>`image/${r}`))}static get supportedTypesStr(){return Je(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(t){return this.supportedTypes.includes(t)}static paste(t,r){r.pasteEditor(Ke.STAMP,{bitmapFile:t.getAsFile()})}remove(){var t,r;m(this,In)&&(B(this,Mn,null),this._uiManager.imageManager.deleteId(m(this,In)),(t=m(this,hs))==null||t.remove(),B(this,hs,null),(r=m(this,po))==null||r.disconnect(),B(this,po,null),m(this,fs)&&(clearTimeout(m(this,fs)),B(this,fs,null))),super.remove()}rebuild(){if(!this.parent){m(this,In)&&j(this,nt,Zy).call(this);return}super.rebuild(),this.div!==null&&(m(this,In)&&m(this,hs)===null&&j(this,nt,Zy).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(m(this,Ta)||m(this,Mn)||m(this,fo)||m(this,Pa)||m(this,In))}get isResizable(){return!0}render(){if(this.div)return this.div;let t,r;if(this.width&&(t=this.x,r=this.y),super.render(),this.div.hidden=!0,this.addAltTextButton(),m(this,Mn)?j(this,nt,l1).call(this):j(this,nt,Zy).call(this),this.width){const[i,s]=this.parentDimensions;this.setAt(t*i,r*s,this.width*i,this.height*s)}return this.div}getImageForAltText(){return m(this,hs)}static deserialize(t,r,i){if(t instanceof CL)return null;const s=super.deserialize(t,r,i),{rect:o,bitmapUrl:l,bitmapId:u,isSvg:d,accessibilityData:h}=t;u&&i.imageManager.isValidId(u)?B(s,In,u):B(s,fo,l),B(s,Ni,d);const[f,g]=s.pageDimensions;return s.width=(o[2]-o[0])/f,s.height=(o[3]-o[1])/g,h&&(s.altTextData=h),s}serialize(t=!1,r=null){if(this.isEmpty())return null;const i={annotationType:Ke.STAMP,bitmapId:m(this,In),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:m(this,Ni),structTreeParentId:this._structTreeParentId};if(t)return i.bitmapUrl=j(this,nt,Jy).call(this,!0),i.accessibilityData=this.altTextData,i;const{decorative:s,altText:o}=this.altTextData;if(!s&&o&&(i.accessibilityData={type:"Figure",alt:o}),r===null)return i;r.stamps||(r.stamps=new Map);const l=m(this,Ni)?(i.rect[2]-i.rect[0])*(i.rect[3]-i.rect[1]):null;if(!r.stamps.has(m(this,In)))r.stamps.set(m(this,In),{area:l,serialized:i}),i.bitmap=j(this,nt,Jy).call(this,!1);else if(m(this,Ni)){const u=r.stamps.get(m(this,In));l>u.area&&(u.area=l,u.serialized.bitmap.close(),u.serialized.bitmap=j(this,nt,Jy).call(this,!1))}return i}};Mn=new WeakMap,In=new WeakMap,Ta=new WeakMap,fo=new WeakMap,Pa=new WeakMap,xd=new WeakMap,hs=new WeakMap,po=new WeakMap,fs=new WeakMap,Ni=new WeakMap,dg=new WeakMap,nt=new WeakSet,sf=function(t,r=!1){if(!t){this.remove();return}B(this,Mn,t.bitmap),r||(B(this,In,t.id),B(this,Ni,t.isSvg)),t.file&&B(this,xd,t.file.name),j(this,nt,l1).call(this)},of=function(){B(this,Ta,null),this._uiManager.enableWaiting(!1),m(this,hs)&&this.div.focus()},Zy=function(){if(m(this,In)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(m(this,In)).then(i=>j(this,nt,sf).call(this,i,!0)).finally(()=>j(this,nt,of).call(this));return}if(m(this,fo)){const i=m(this,fo);B(this,fo,null),this._uiManager.enableWaiting(!0),B(this,Ta,this._uiManager.imageManager.getFromUrl(i).then(s=>j(this,nt,sf).call(this,s)).finally(()=>j(this,nt,of).call(this)));return}if(m(this,Pa)){const i=m(this,Pa);B(this,Pa,null),this._uiManager.enableWaiting(!0),B(this,Ta,this._uiManager.imageManager.getFromFile(i).then(s=>j(this,nt,sf).call(this,s)).finally(()=>j(this,nt,of).call(this)));return}const t=document.createElement("input");t.type="file",t.accept=mf.supportedTypesStr;const r=this._uiManager._signal;B(this,Ta,new Promise(i=>{t.addEventListener("change",async()=>{if(!t.files||t.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const s=await this._uiManager.imageManager.getFromFile(t.files[0]);j(this,nt,sf).call(this,s)}i()},{signal:r}),t.addEventListener("cancel",()=>{this.remove(),i()},{signal:r})}).finally(()=>j(this,nt,of).call(this))),t.click()},l1=function(){const{div:t}=this;let{width:r,height:i}=m(this,Mn);const[s,o]=this.pageDimensions,l=.75;if(this.width)r=this.width*s,i=this.height*o;else if(r>l*s||i>l*o){const f=Math.min(l*s/r,l*o/i);r*=f,i*=f}const[u,d]=this.parentDimensions;this.setDims(r*u/s,i*d/o),this._uiManager.enableWaiting(!1);const h=B(this,hs,document.createElement("canvas"));t.append(h),t.hidden=!1,j(this,nt,c1).call(this,r,i),j(this,nt,aO).call(this),m(this,dg)||(this.parent.addUndoableEditor(this),B(this,dg,!0)),this._reportTelemetry({action:"inserted_image"}),m(this,xd)&&h.setAttribute("aria-label",m(this,xd))},sO=function(t,r){var l;const[i,s]=this.parentDimensions;this.width=t/i,this.height=r/s,this.setDims(t,r),(l=this._initialOptions)!=null&&l.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,m(this,fs)!==null&&clearTimeout(m(this,fs)),B(this,fs,setTimeout(()=>{B(this,fs,null),j(this,nt,c1).call(this,t,r)},200))},oO=function(t,r){const{width:i,height:s}=m(this,Mn);let o=i,l=s,u=m(this,Mn);for(;o>2*t||l>2*r;){const d=o,h=l;o>2*t&&(o=o>=16384?Math.floor(o/2)-1:Math.ceil(o/2)),l>2*r&&(l=l>=16384?Math.floor(l/2)-1:Math.ceil(l/2));const f=new OffscreenCanvas(o,l);f.getContext("2d").drawImage(u,0,0,d,h,0,0,o,l),u=f.transferToImageBitmap()}return u},c1=function(t,r){t=Math.ceil(t),r=Math.ceil(r);const i=m(this,hs);if(!i||i.width===t&&i.height===r)return;i.width=t,i.height=r;const s=m(this,Ni)?m(this,Mn):j(this,nt,oO).call(this,t,r);if(this._uiManager.hasMLManager&&!this.hasAltText()){const u=new OffscreenCanvas(t,r).getContext("2d");u.drawImage(s,0,0,s.width,s.height,0,0,t,r),this._uiManager.mlGuess({service:"image-to-text",request:{data:u.getImageData(0,0,t,r).data,width:t,height:r,channels:4}}).then(d=>{const h=(d==null?void 0:d.output)||"";this.parent&&h&&!this.hasAltText()&&(this.altTextData={altText:h,decorative:!1})})}const o=i.getContext("2d");o.filter=this._uiManager.hcmFilter,o.drawImage(s,0,0,s.width,s.height,0,0,t,r)},Jy=function(t){if(t){if(m(this,Ni)){const s=this._uiManager.imageManager.getSvgUrl(m(this,In));if(s)return s}const r=document.createElement("canvas");return{width:r.width,height:r.height}=m(this,Mn),r.getContext("2d").drawImage(m(this,Mn),0,0),r.toDataURL()}if(m(this,Ni)){const[r,i]=this.pageDimensions,s=Math.round(this.width*r*Ba.PDF_TO_CSS_UNITS),o=Math.round(this.height*i*Ba.PDF_TO_CSS_UNITS),l=new OffscreenCanvas(s,o);return l.getContext("2d").drawImage(m(this,Mn),0,0,m(this,Mn).width,m(this,Mn).height,0,0,s,o),l.transferToImageBitmap()}return structuredClone(m(this,Mn))},aO=function(){this._uiManager._signal&&(B(this,po,new ResizeObserver(t=>{const r=t[0].contentRect;r.width&&r.height&&j(this,nt,sO).call(this,r.width,r.height)})),m(this,po).observe(this.div),this._uiManager._signal.addEventListener("abort",()=>{var t;(t=m(this,po))==null||t.disconnect(),B(this,po,null)},{once:!0}))},_e(mf,"_type","stamp"),_e(mf,"_editorType",Ke.STAMP);let a1=mf;var fc,Sd,ps,pc,go,mo,yo,Hr,Ma,Ed,Cd,nr,Oe,Ia,Ln,lO,d1,h1,f1,e0;const bi=class bi{constructor({uiManager:e,pageIndex:t,div:r,accessibilityManager:i,annotationLayer:s,drawLayer:o,textLayer:l,viewport:u,l10n:d}){V(this,Ln);V(this,fc);V(this,Sd,!1);V(this,ps,null);V(this,pc,null);V(this,go,null);V(this,mo,null);V(this,yo,null);V(this,Hr,new Map);V(this,Ma,!1);V(this,Ed,!1);V(this,Cd,!1);V(this,nr,null);V(this,Oe);const h=[...m(bi,Ia).values()];if(!bi._initialized){bi._initialized=!0;for(const f of h)f.initialize(d,e)}e.registerEditorTypes(h),B(this,Oe,e),this.pageIndex=t,this.div=r,B(this,fc,i),B(this,ps,s),this.viewport=u,B(this,nr,l),this.drawLayer=o,m(this,Oe).addLayer(this)}get isEmpty(){return m(this,Hr).size===0}get isInvisible(){return this.isEmpty&&m(this,Oe).getMode()===Ke.NONE}updateToolbar(e){m(this,Oe).updateToolbar(e)}updateMode(e=m(this,Oe).getMode()){switch(j(this,Ln,e0).call(this),e){case Ke.NONE:this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case Ke.INK:this.addInkEditorIfNeeded(!1),this.disableTextSelection(),this.togglePointerEvents(!0),this.disableClick();break;case Ke.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:t}=this.div;for(const r of m(bi,Ia).values())t.toggle(`${r._type}Editing`,e===r._editorType);this.div.hidden=!1}hasTextLayer(e){var t;return e===((t=m(this,nr))==null?void 0:t.div)}addInkEditorIfNeeded(e){if(m(this,Oe).getMode()!==Ke.INK)return;if(!e){for(const r of m(this,Hr).values())if(r.isEmpty()){r.setInBackground();return}}this.createAndAddNewEditor({offsetX:0,offsetY:0},!1).setInBackground()}setEditingState(e){m(this,Oe).setEditingState(e)}addCommands(e){m(this,Oe).addCommands(e)}togglePointerEvents(e=!1){this.div.classList.toggle("disabled",!e)}toggleAnnotationLayerPointerEvents(e=!1){var t;(t=m(this,ps))==null||t.div.classList.toggle("disabled",!e)}enable(){this.div.tabIndex=0,this.togglePointerEvents(!0);const e=new Set;for(const r of m(this,Hr).values())r.enableEditing(),r.show(!0),r.annotationElementId&&(m(this,Oe).removeChangedExistingAnnotation(r),e.add(r.annotationElementId));if(!m(this,ps))return;const t=m(this,ps).getEditableAnnotations();for(const r of t){if(r.hide(),m(this,Oe).isDeletedAnnotationElement(r.data.id)||e.has(r.data.id))continue;const i=this.deserialize(r);i&&(this.addOrRebuild(i),i.enableEditing())}}disable(){var i;B(this,Cd,!0),this.div.tabIndex=-1,this.togglePointerEvents(!1);const e=new Map,t=new Map;for(const s of m(this,Hr).values())if(s.disableEditing(),!!s.annotationElementId){if(s.serialize()!==null){e.set(s.annotationElementId,s);continue}else t.set(s.annotationElementId,s);(i=this.getEditableAnnotation(s.annotationElementId))==null||i.show(),s.remove()}if(m(this,ps)){const s=m(this,ps).getEditableAnnotations();for(const o of s){const{id:l}=o.data;if(m(this,Oe).isDeletedAnnotationElement(l))continue;let u=t.get(l);if(u){u.resetAnnotationElement(o),u.show(!1),o.show();continue}u=e.get(l),u&&(m(this,Oe).addChangedExistingAnnotation(u),u.renderAnnotationElement(o),u.show(!1)),o.show()}}j(this,Ln,e0).call(this),this.isEmpty&&(this.div.hidden=!0);const{classList:r}=this.div;for(const s of m(bi,Ia).values())r.remove(`${s._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),B(this,Cd,!1)}getEditableAnnotation(e){var t;return((t=m(this,ps))==null?void 0:t.getEditableAnnotation(e))||null}setActiveEditor(e){m(this,Oe).getActive()!==e&&m(this,Oe).setActiveEditor(e)}enableTextSelection(){var e;this.div.tabIndex=-1,(e=m(this,nr))!=null&&e.div&&!m(this,mo)&&(B(this,mo,j(this,Ln,lO).bind(this)),m(this,nr).div.addEventListener("pointerdown",m(this,mo),{signal:m(this,Oe)._signal}),m(this,nr).div.classList.add("highlighting"))}disableTextSelection(){var e;this.div.tabIndex=0,(e=m(this,nr))!=null&&e.div&&m(this,mo)&&(m(this,nr).div.removeEventListener("pointerdown",m(this,mo)),B(this,mo,null),m(this,nr).div.classList.remove("highlighting"))}enableClick(){if(m(this,go))return;const e=m(this,Oe)._signal;B(this,go,this.pointerdown.bind(this)),B(this,pc,this.pointerup.bind(this)),this.div.addEventListener("pointerdown",m(this,go),{signal:e}),this.div.addEventListener("pointerup",m(this,pc),{signal:e})}disableClick(){m(this,go)&&(this.div.removeEventListener("pointerdown",m(this,go)),this.div.removeEventListener("pointerup",m(this,pc)),B(this,go,null),B(this,pc,null))}attach(e){m(this,Hr).set(e.id,e);const{annotationElementId:t}=e;t&&m(this,Oe).isDeletedAnnotationElement(t)&&m(this,Oe).removeDeletedAnnotationElement(e)}detach(e){var t;m(this,Hr).delete(e.id),(t=m(this,fc))==null||t.removePointerInTextLayer(e.contentDiv),!m(this,Cd)&&e.annotationElementId&&m(this,Oe).addDeletedAnnotationElement(e)}remove(e){this.detach(e),m(this,Oe).removeEditor(e),e.div.remove(),e.isAttachedToDOM=!1,m(this,Ed)||this.addInkEditorIfNeeded(!1)}changeParent(e){var t;e.parent!==this&&(e.parent&&e.annotationElementId&&(m(this,Oe).addDeletedAnnotationElement(e.annotationElementId),mt.deleteAnnotationElement(e),e.annotationElementId=null),this.attach(e),(t=e.parent)==null||t.detach(e),e.setParent(this),e.div&&e.isAttachedToDOM&&(e.div.remove(),this.div.append(e.div)))}add(e){if(!(e.parent===this&&e.isAttachedToDOM)){if(this.changeParent(e),m(this,Oe).addEditor(e),this.attach(e),!e.isAttachedToDOM){const t=e.render();this.div.append(t),e.isAttachedToDOM=!0}e.fixAndSetPosition(),e.onceAdded(),m(this,Oe).addToAnnotationStorage(e),e._reportTelemetry(e.telemetryInitialData)}}moveEditorInDOM(e){var r;if(!e.isAttachedToDOM)return;const{activeElement:t}=document;e.div.contains(t)&&!m(this,yo)&&(e._focusEventsAllowed=!1,B(this,yo,setTimeout(()=>{B(this,yo,null),e.div.contains(document.activeElement)?e._focusEventsAllowed=!0:(e.div.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:m(this,Oe)._signal}),t.focus())},0))),e._structTreeParentId=(r=m(this,fc))==null?void 0:r.moveElementInDOM(this.div,e.div,e.contentDiv,!0)}addOrRebuild(e){e.needsToBeRebuilt()?(e.parent||(e.parent=this),e.rebuild(),e.show()):this.add(e)}addUndoableEditor(e){const t=()=>e._uiManager.rebuild(e),r=()=>{e.remove()};this.addCommands({cmd:t,undo:r,mustExec:!1})}getNextId(){return m(this,Oe).getId()}get _signal(){return m(this,Oe)._signal}canCreateNewEmptyEditor(){var e;return(e=m(this,Ln,d1))==null?void 0:e.canCreateNewEmptyEditor()}pasteEditor(e,t){m(this,Oe).updateToolbar(e),m(this,Oe).updateMode(e);const{offsetX:r,offsetY:i}=j(this,Ln,f1).call(this),s=this.getNextId(),o=j(this,Ln,h1).call(this,{parent:this,id:s,x:r,y:i,uiManager:m(this,Oe),isCentered:!0,...t});o&&this.add(o)}deserialize(e){var t;return((t=m(bi,Ia).get(e.annotationType??e.annotationEditorType))==null?void 0:t.deserialize(e,this,m(this,Oe)))||null}createAndAddNewEditor(e,t,r={}){const i=this.getNextId(),s=j(this,Ln,h1).call(this,{parent:this,id:i,x:e.offsetX,y:e.offsetY,uiManager:m(this,Oe),isCentered:t,...r});return s&&this.add(s),s}addNewEditor(){this.createAndAddNewEditor(j(this,Ln,f1).call(this),!0)}setSelected(e){m(this,Oe).setSelected(e)}toggleSelected(e){m(this,Oe).toggleSelected(e)}isSelected(e){return m(this,Oe).isSelected(e)}unselect(e){m(this,Oe).unselect(e)}pointerup(e){const{isMac:t}=wr.platform;if(!(e.button!==0||e.ctrlKey&&t)&&e.target===this.div&&m(this,Ma)){if(B(this,Ma,!1),!m(this,Sd)){B(this,Sd,!0);return}if(m(this,Oe).getMode()===Ke.STAMP){m(this,Oe).unselectAll();return}this.createAndAddNewEditor(e,!1)}}pointerdown(e){if(m(this,Oe).getMode()===Ke.HIGHLIGHT&&this.enableTextSelection(),m(this,Ma)){B(this,Ma,!1);return}const{isMac:t}=wr.platform;if(e.button!==0||e.ctrlKey&&t||e.target!==this.div)return;B(this,Ma,!0);const r=m(this,Oe).getActive();B(this,Sd,!r||r.isEmpty())}findNewParent(e,t,r){const i=m(this,Oe).findParent(t,r);return i===null||i===this?!1:(i.changeParent(e),!0)}destroy(){var e,t;((e=m(this,Oe).getActive())==null?void 0:e.parent)===this&&(m(this,Oe).commitOrRemove(),m(this,Oe).setActiveEditor(null)),m(this,yo)&&(clearTimeout(m(this,yo)),B(this,yo,null));for(const r of m(this,Hr).values())(t=m(this,fc))==null||t.removePointerInTextLayer(r.contentDiv),r.setParent(null),r.isAttachedToDOM=!1,r.div.remove();this.div=null,m(this,Hr).clear(),m(this,Oe).removeLayer(this)}render({viewport:e}){this.viewport=e,wc(this.div,e);for(const t of m(this,Oe).getEditors(this.pageIndex))this.add(t),t.rebuild();this.updateMode()}update({viewport:e}){m(this,Oe).commitOrRemove(),j(this,Ln,e0).call(this);const t=this.viewport.rotation,r=e.rotation;if(this.viewport=e,wc(this.div,{rotation:r}),t!==r)for(const i of m(this,Hr).values())i.rotate(r);this.addInkEditorIfNeeded(!1)}get pageDimensions(){const{pageWidth:e,pageHeight:t}=this.viewport.rawDims;return[e,t]}get scale(){return m(this,Oe).viewParameters.realScale}};fc=new WeakMap,Sd=new WeakMap,ps=new WeakMap,pc=new WeakMap,go=new WeakMap,mo=new WeakMap,yo=new WeakMap,Hr=new WeakMap,Ma=new WeakMap,Ed=new WeakMap,Cd=new WeakMap,nr=new WeakMap,Oe=new WeakMap,Ia=new WeakMap,Ln=new WeakSet,lO=function(e){if(m(this,Oe).unselectAll(),e.target===m(this,nr).div){const{isMac:t}=wr.platform;if(e.button!==0||e.ctrlKey&&t)return;m(this,Oe).showAllEditors("highlight",!0,!0),m(this,nr).div.classList.add("free"),A0.startHighlighting(this,m(this,Oe).direction==="ltr",e),m(this,nr).div.addEventListener("pointerup",()=>{m(this,nr).div.classList.remove("free")},{once:!0,signal:m(this,Oe)._signal}),e.preventDefault()}},d1=function(){return m(bi,Ia).get(m(this,Oe).getMode())},h1=function(e){const t=m(this,Ln,d1);return t?new t.prototype.constructor(e):null},f1=function(){const{x:e,y:t,width:r,height:i}=this.div.getBoundingClientRect(),s=Math.max(0,e),o=Math.max(0,t),l=Math.min(window.innerWidth,e+r),u=Math.min(window.innerHeight,t+i),d=(s+l)/2-e,h=(o+u)/2-t,[f,g]=this.viewport.rotation%180===0?[d,h]:[h,d];return{offsetX:f,offsetY:g}},e0=function(){B(this,Ed,!0);for(const e of m(this,Hr).values())e.isEmpty()&&e.remove();B(this,Ed,!1)},_e(bi,"_initialized",!1),V(bi,Ia,new Map([WE,e1,a1,A0].map(e=>[e._editorType,e])));let u1=bi;var gs,hg,mn,Na,fg,g1,_c,m1,cO;const An=class An{constructor({pageIndex:e}){V(this,_c);V(this,gs,null);V(this,hg,0);V(this,mn,new Map);V(this,Na,new Map);this.pageIndex=e}setParent(e){if(!m(this,gs)){B(this,gs,e);return}if(m(this,gs)!==e){if(m(this,mn).size>0)for(const t of m(this,mn).values())t.remove(),e.append(t);B(this,gs,e)}}static get _svgFactory(){return Je(this,"_svgFactory",new uC)}highlight(e,t,r,i=!1){const s=Ir(this,hg)._++,o=j(this,_c,m1).call(this,e.box);o.classList.add("highlight"),e.free&&o.classList.add("free");const l=An._svgFactory.createElement("defs");o.append(l);const u=An._svgFactory.createElement("path");l.append(u);const d=`path_p${this.pageIndex}_${s}`;u.setAttribute("id",d),u.setAttribute("d",e.toSVGPath()),i&&m(this,Na).set(s,u);const h=j(this,_c,cO).call(this,l,d),f=An._svgFactory.createElement("use");return o.append(f),o.setAttribute("fill",t),o.setAttribute("fill-opacity",r),f.setAttribute("href",`#${d}`),m(this,mn).set(s,o),{id:s,clipPathId:`url(#${h})`}}highlightOutline(e){const t=Ir(this,hg)._++,r=j(this,_c,m1).call(this,e.box);r.classList.add("highlightOutline");const i=An._svgFactory.createElement("defs");r.append(i);const s=An._svgFactory.createElement("path");i.append(s);const o=`path_p${this.pageIndex}_${t}`;s.setAttribute("id",o),s.setAttribute("d",e.toSVGPath()),s.setAttribute("vector-effect","non-scaling-stroke");let l;if(e.free){r.classList.add("free");const h=An._svgFactory.createElement("mask");i.append(h),l=`mask_p${this.pageIndex}_${t}`,h.setAttribute("id",l),h.setAttribute("maskUnits","objectBoundingBox");const f=An._svgFactory.createElement("rect");h.append(f),f.setAttribute("width","1"),f.setAttribute("height","1"),f.setAttribute("fill","white");const g=An._svgFactory.createElement("use");h.append(g),g.setAttribute("href",`#${o}`),g.setAttribute("stroke","none"),g.setAttribute("fill","black"),g.setAttribute("fill-rule","nonzero"),g.classList.add("mask")}const u=An._svgFactory.createElement("use");r.append(u),u.setAttribute("href",`#${o}`),l&&u.setAttribute("mask",`url(#${l})`);const d=u.cloneNode();return r.append(d),u.classList.add("mainOutline"),d.classList.add("secondaryOutline"),m(this,mn).set(t,r),t}finalizeLine(e,t){const r=m(this,Na).get(e);m(this,Na).delete(e),this.updateBox(e,t.box),r.setAttribute("d",t.toSVGPath())}updateLine(e,t){m(this,mn).get(e).firstChild.firstChild.setAttribute("d",t.toSVGPath())}removeFreeHighlight(e){this.remove(e),m(this,Na).delete(e)}updatePath(e,t){m(this,Na).get(e).setAttribute("d",t.toSVGPath())}updateBox(e,t){var r;j(r=An,fg,g1).call(r,m(this,mn).get(e),t)}show(e,t){m(this,mn).get(e).classList.toggle("hidden",!t)}rotate(e,t){m(this,mn).get(e).setAttribute("data-main-rotation",t)}changeColor(e,t){m(this,mn).get(e).setAttribute("fill",t)}changeOpacity(e,t){m(this,mn).get(e).setAttribute("fill-opacity",t)}addClass(e,t){m(this,mn).get(e).classList.add(t)}removeClass(e,t){m(this,mn).get(e).classList.remove(t)}remove(e){m(this,gs)!==null&&(m(this,mn).get(e).remove(),m(this,mn).delete(e))}destroy(){B(this,gs,null);for(const e of m(this,mn).values())e.remove();m(this,mn).clear()}};gs=new WeakMap,hg=new WeakMap,mn=new WeakMap,Na=new WeakMap,fg=new WeakSet,g1=function(e,{x:t=0,y:r=0,width:i=1,height:s=1}={}){const{style:o}=e;o.top=`${100*r}%`,o.left=`${100*t}%`,o.width=`${100*i}%`,o.height=`${100*s}%`},_c=new WeakSet,m1=function(e){var r;const t=An._svgFactory.create(1,1,!0);return m(this,gs).append(t),t.setAttribute("aria-hidden",!0),j(r=An,fg,g1).call(r,t,e),t},cO=function(e,t){const r=An._svgFactory.createElement("clipPath");e.append(r);const i=`clip_${t}`;r.setAttribute("id",i),r.setAttribute("clipPathUnits","objectBoundingBox");const s=An._svgFactory.createElement("use");return r.append(s),s.setAttribute("href",`#${t}`),s.classList.add("clip"),i},V(An,fg);let p1=An;He.AbortException;He.AnnotationEditorLayer;He.AnnotationEditorParamsType;He.AnnotationEditorType;He.AnnotationEditorUIManager;He.AnnotationLayer;He.AnnotationMode;He.CMapCompressionType;He.ColorPicker;He.DOMSVGFactory;He.DrawLayer;He.FeatureTest;var mX=He.GlobalWorkerOptions;He.ImageKind;He.InvalidPDFException;He.MissingPDFException;He.OPS;He.Outliner;He.PDFDataRangeTransport;He.PDFDateString;He.PDFWorker;He.PasswordResponses;He.PermissionFlag;He.PixelsPerInch;He.RenderingCancelledException;He.TextLayer;He.UnexpectedResponseException;He.Util;He.VerbosityLevel;He.XfaLayer;He.build;He.createValidAbsoluteUrl;He.fetchData;var yX=He.getDocument;He.getFilenameFromUrl;He.getPdfFilenameFromUrl;He.getXfaPageViewport;He.isDataScheme;He.isPdfFile;He.noContextMenu;He.normalizeUnicode;He.renderTextLayer;He.setLayerDimensions;He.shadow;He.updateTextLayer;He.version;const vX=n=>ut.createElement("div",{style:{color:"black"}},"Loading ",Math.floor(n.loaded/n.total*100),"%"),bX=n=>ut.createElement("div",{style:{color:"black"}},n.message),wX=n=>{throw new Error(`Error loading PDF document: ${n.message}!`)},xX="https://unpkg.com/pdfjs-dist@4.4.168/build/pdf.worker.min.mjs",SX=({document:n,beforeLoad:e=vX,errorMessage:t=bX,children:r,onError:i=wX,workerSrc:s=xX})=>{const o=O.useRef(null),l=O.useRef(null),[u,d]=O.useState(null),[h,f]=O.useState(null);return O.useEffect(()=>(mX.workerSrc=s,o.current=yX(n),o.current.onProgress=g=>{f(g.loaded>g.total?null:g)},o.current.promise.then(g=>{l.current=g}).catch(g=>{g.message!="Worker was destroyed"&&(d(g),i(g))}).finally(()=>{f(null)}),()=>{o.current&&o.current.destroy(),l.current&&l.current.destroy()}),[n]),u?t(u):h?e(h):l.current&&r(l.current)};function EX({readRecords:n,displayedReads:e}){const{highlight:t,isScrolledTo:r,highlightBindings:i}=OG(),s=e.includes(t.readRecordId)?n[t.readRecordId].color:"#e6e6e6";return t.type==="text"?F.jsx(qG,{isScrolledTo:r,highlight:t,style:{background:s}}):F.jsx(mq,{isScrolledTo:r,highlight:t,bounds:i.textLayer,style:{background:s,pointerEvents:"none"}})}const CX=n=>{document.location.hash=`highlight-${n.id}`},_X=({highlights:n,resetHighlights:e})=>{const t=O.useContext(Mo);if(!t)throw new Error("PaperContext not found");const{readRecords:r}=t,i=s=>{const o=parseInt(s.slice(1,3),16),l=parseInt(s.slice(3,5),16),u=parseInt(s.slice(5,7),16);return`rgba(${o}, ${l}, ${u}, 1)`};return F.jsxs("div",{className:"sidebar",style:{width:"25%"},children:[n&&F.jsx("ul",{className:"sidebar__highlights",children:n.map((s,o)=>F.jsxs("li",{className:"sidebar__highlight",onClick:()=>{CX(s)},style:{backgroundColor:i(r[s.readRecordId].color)},children:[F.jsxs("div",{children:[s.content.text&&F.jsx("blockquote",{style:{marginTop:"0.5rem"},children:`${s.content.text.slice(0,90).trim()}…`}),s.content.image&&F.jsx("div",{className:"highlight__image__container",style:{marginTop:"0.5rem"},children:F.jsx("img",{src:s.content.image,alt:"Screenshot",className:"highlight__image"})})]}),F.jsxs("div",{className:"highlight__location",children:["Page ",s.position.boundingRect.pageNumber]})]},o))}),n&&n.length>0&&F.jsx("div",{style:{padding:"0.5rem"},children:F.jsx("button",{onClick:e,className:"sidebar__reset",children:"Reset highlights"})})]})},AX=({addHighlight:n})=>{const e=O.useRef(null),{getCurrentSelection:t,removeGhostHighlight:r,setTip:i}=t2();return F.jsx("div",{className:"Tip",children:F.jsx("button",{className:"Tip__compact",onClick:()=>{e.current=t(),n({content:e.current.content,type:e.current.type,position:e.current.position}),r(),i(null)},children:"Add highlight"})})};function kX(){const n=O.useContext(Mo);if(!n)throw new Error("PaperContext not found");const{paperUrl:e,setPaperUrl:t,highlights:r,addHighlight:i,resetHighlights:s,selectedHighlightId:o,currentReadId:l,readRecords:u,displayedReads:d}=n,h=()=>document.location.hash.slice(11),f=()=>{document.location.hash=""},g=O.useRef(null),y=()=>{const _=v(h());_&&g.current&&g.current.scrollToHighlight(_)};O.useEffect(()=>(window.addEventListener("hashchange",y),()=>{window.removeEventListener("hashchange",y)}),[y]);const v=_=>r.find(S=>S.id===_);O.useEffect(()=>{console.log("selectedHighlightId",o)},[o]);const[w,E]=O.useState(!1),x=_=>{var C;const S=(C=_.target.files)==null?void 0:C[0];if(S&&S.type==="application/pdf"){const k=new FileReader;k.onload=I=>{var P;t((P=I.target)==null?void 0:P.result)},k.readAsDataURL(S)}else alert("Please upload a valid PDF file.")};return F.jsx(rn,{style:{width:"100%",height:"100%",display:"flex",flexDirection:"row"},children:e?F.jsxs(F.Fragment,{children:[w&&F.jsx(_X,{highlights:r,resetHighlights:s}),w&&F.jsx(Mf,{sx:{position:"absolute",left:"calc(15% - 10px)",top:"50%",transform:"translateY(-50%)",backgroundColor:"white","&:hover":{backgroundColor:"#f0f0f0"},boxShadow:2,zIndex:1e3,width:"24px",height:"48px",borderRadius:"0 4px 4px 0"},onClick:()=>E(!1),children:F.jsx(aG,{})}),!w&&F.jsx(Mf,{sx:{position:"fixed",left:"0",top:"50%",transform:"translateY(-50%)",backgroundColor:"white","&:hover":{backgroundColor:"#f0f0f0"},boxShadow:2,zIndex:1e3,width:"24px",height:"48px",borderRadius:"0 4px 4px 0"},onClick:()=>E(!0),children:F.jsx(lG,{})}),F.jsx("div",{style:{height:"100%",width:w?"calc(75%)":"100%",position:"relative"},className:"pdf",children:F.jsx(SX,{document:e,children:_=>{var S,C;return F.jsx(GG,{enableAreaSelection:k=>k.altKey,pdfDocument:_,onScrollAway:f,utilsRef:k=>{g.current=k},selectionTip:Object.keys(u).length>0?F.jsx(AX,{addHighlight:i,color:(S=u[l])==null?void 0:S.color}):null,highlights:r,textSelectionColor:(C=u[l])==null?void 0:C.color,children:F.jsx(EX,{readRecords:u,displayedReads:d})})}})})]}):F.jsxs(rn,{sx:{width:"100%",height:"100%",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},children:[F.jsx("input",{type:"file",accept:"application/pdf",onChange:x,style:{display:"none"},id:"pdf-upload"}),F.jsx("label",{htmlFor:"pdf-upload",children:F.jsx(Ld,{variant:"outlined",component:"span",startIcon:F.jsx(hG,{}),children:"Upload PDF"})})]})})}var xx,JT;function vC(){if(JT)return xx;JT=1;var n="\0",e="\0",t="";class r{constructor(h){_e(this,"_isDirected",!0);_e(this,"_isMultigraph",!1);_e(this,"_isCompound",!1);_e(this,"_label");_e(this,"_defaultNodeLabelFn",()=>{});_e(this,"_defaultEdgeLabelFn",()=>{});_e(this,"_nodes",{});_e(this,"_in",{});_e(this,"_preds",{});_e(this,"_out",{});_e(this,"_sucs",{});_e(this,"_edgeObjs",{});_e(this,"_edgeLabels",{});_e(this,"_nodeCount",0);_e(this,"_edgeCount",0);_e(this,"_parent");_e(this,"_children");h&&(this._isDirected=Object.hasOwn(h,"directed")?h.directed:!0,this._isMultigraph=Object.hasOwn(h,"multigraph")?h.multigraph:!1,this._isCompound=Object.hasOwn(h,"compound")?h.compound:!1),this._isCompound&&(this._parent={},this._children={},this._children[e]={})}isDirected(){return this._isDirected}isMultigraph(){return this._isMultigraph}isCompound(){return this._isCompound}setGraph(h){return this._label=h,this}graph(){return this._label}setDefaultNodeLabel(h){return this._defaultNodeLabelFn=h,typeof h!="function"&&(this._defaultNodeLabelFn=()=>h),this}nodeCount(){return this._nodeCount}nodes(){return Object.keys(this._nodes)}sources(){var h=this;return this.nodes().filter(f=>Object.keys(h._in[f]).length===0)}sinks(){var h=this;return this.nodes().filter(f=>Object.keys(h._out[f]).length===0)}setNodes(h,f){var g=arguments,y=this;return h.forEach(function(v){g.length>1?y.setNode(v,f):y.setNode(v)}),this}setNode(h,f){return Object.hasOwn(this._nodes,h)?(arguments.length>1&&(this._nodes[h]=f),this):(this._nodes[h]=arguments.length>1?f:this._defaultNodeLabelFn(h),this._isCompound&&(this._parent[h]=e,this._children[h]={},this._children[e][h]=!0),this._in[h]={},this._preds[h]={},this._out[h]={},this._sucs[h]={},++this._nodeCount,this)}node(h){return this._nodes[h]}hasNode(h){return Object.hasOwn(this._nodes,h)}removeNode(h){var f=this;if(Object.hasOwn(this._nodes,h)){var g=y=>f.removeEdge(f._edgeObjs[y]);delete this._nodes[h],this._isCompound&&(this._removeFromParentsChildList(h),delete this._parent[h],this.children(h).forEach(function(y){f.setParent(y)}),delete this._children[h]),Object.keys(this._in[h]).forEach(g),delete this._in[h],delete this._preds[h],Object.keys(this._out[h]).forEach(g),delete this._out[h],delete this._sucs[h],--this._nodeCount}return this}setParent(h,f){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(f===void 0)f=e;else{f+="";for(var g=f;g!==void 0;g=this.parent(g))if(g===h)throw new Error("Setting "+f+" as parent of "+h+" would create a cycle");this.setNode(f)}return this.setNode(h),this._removeFromParentsChildList(h),this._parent[h]=f,this._children[f][h]=!0,this}_removeFromParentsChildList(h){delete this._children[this._parent[h]][h]}parent(h){if(this._isCompound){var f=this._parent[h];if(f!==e)return f}}children(h=e){if(this._isCompound){var f=this._children[h];if(f)return Object.keys(f)}else{if(h===e)return this.nodes();if(this.hasNode(h))return[]}}predecessors(h){var f=this._preds[h];if(f)return Object.keys(f)}successors(h){var f=this._sucs[h];if(f)return Object.keys(f)}neighbors(h){var f=this.predecessors(h);if(f){const y=new Set(f);for(var g of this.successors(h))y.add(g);return Array.from(y.values())}}isLeaf(h){var f;return this.isDirected()?f=this.successors(h):f=this.neighbors(h),f.length===0}filterNodes(h){var f=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});f.setGraph(this.graph());var g=this;Object.entries(this._nodes).forEach(function([w,E]){h(w)&&f.setNode(w,E)}),Object.values(this._edgeObjs).forEach(function(w){f.hasNode(w.v)&&f.hasNode(w.w)&&f.setEdge(w,g.edge(w))});var y={};function v(w){var E=g.parent(w);return E===void 0||f.hasNode(E)?(y[w]=E,E):E in y?y[E]:v(E)}return this._isCompound&&f.nodes().forEach(w=>f.setParent(w,v(w))),f}setDefaultEdgeLabel(h){return this._defaultEdgeLabelFn=h,typeof h!="function"&&(this._defaultEdgeLabelFn=()=>h),this}edgeCount(){return this._edgeCount}edges(){return Object.values(this._edgeObjs)}setPath(h,f){var g=this,y=arguments;return h.reduce(function(v,w){return y.length>1?g.setEdge(v,w,f):g.setEdge(v,w),w}),this}setEdge(){var h,f,g,y,v=!1,w=arguments[0];typeof w=="object"&&w!==null&&"v"in w?(h=w.v,f=w.w,g=w.name,arguments.length===2&&(y=arguments[1],v=!0)):(h=w,f=arguments[1],g=arguments[3],arguments.length>2&&(y=arguments[2],v=!0)),h=""+h,f=""+f,g!==void 0&&(g=""+g);var E=o(this._isDirected,h,f,g);if(Object.hasOwn(this._edgeLabels,E))return v&&(this._edgeLabels[E]=y),this;if(g!==void 0&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(h),this.setNode(f),this._edgeLabels[E]=v?y:this._defaultEdgeLabelFn(h,f,g);var x=l(this._isDirected,h,f,g);return h=x.v,f=x.w,Object.freeze(x),this._edgeObjs[E]=x,i(this._preds[f],h),i(this._sucs[h],f),this._in[f][E]=x,this._out[h][E]=x,this._edgeCount++,this}edge(h,f,g){var y=arguments.length===1?u(this._isDirected,arguments[0]):o(this._isDirected,h,f,g);return this._edgeLabels[y]}edgeAsObj(){const h=this.edge(...arguments);return typeof h!="object"?{label:h}:h}hasEdge(h,f,g){var y=arguments.length===1?u(this._isDirected,arguments[0]):o(this._isDirected,h,f,g);return Object.hasOwn(this._edgeLabels,y)}removeEdge(h,f,g){var y=arguments.length===1?u(this._isDirected,arguments[0]):o(this._isDirected,h,f,g),v=this._edgeObjs[y];return v&&(h=v.v,f=v.w,delete this._edgeLabels[y],delete this._edgeObjs[y],s(this._preds[f],h),s(this._sucs[h],f),delete this._in[f][y],delete this._out[h][y],this._edgeCount--),this}inEdges(h,f){var g=this._in[h];if(g){var y=Object.values(g);return f?y.filter(v=>v.v===f):y}}outEdges(h,f){var g=this._out[h];if(g){var y=Object.values(g);return f?y.filter(v=>v.w===f):y}}nodeEdges(h,f){var g=this.inEdges(h,f);if(g)return g.concat(this.outEdges(h,f))}}function i(d,h){d[h]?d[h]++:d[h]=1}function s(d,h){--d[h]||delete d[h]}function o(d,h,f,g){var y=""+h,v=""+f;if(!d&&y>v){var w=y;y=v,v=w}return y+t+v+t+(g===void 0?n:g)}function l(d,h,f,g){var y=""+h,v=""+f;if(!d&&y>v){var w=y;y=v,v=w}var E={v:y,w:v};return g&&(E.name=g),E}function u(d,h){return o(d,h.v,h.w,h.name)}return xx=r,xx}var Sx,eP;function RX(){return eP||(eP=1,Sx="2.2.4"),Sx}var Ex,tP;function TX(){return tP||(tP=1,Ex={Graph:vC(),version:RX()}),Ex}var Cx,nP;function PX(){if(nP)return Cx;nP=1;var n=vC();Cx={write:e,read:i};function e(s){var o={options:{directed:s.isDirected(),multigraph:s.isMultigraph(),compound:s.isCompound()},nodes:t(s),edges:r(s)};return s.graph()!==void 0&&(o.value=structuredClone(s.graph())),o}function t(s){return s.nodes().map(function(o){var l=s.node(o),u=s.parent(o),d={v:o};return l!==void 0&&(d.value=l),u!==void 0&&(d.parent=u),d})}function r(s){return s.edges().map(function(o){var l=s.edge(o),u={v:o.v,w:o.w};return o.name!==void 0&&(u.name=o.name),l!==void 0&&(u.value=l),u})}function i(s){var o=new n(s.options).setGraph(s.value);return s.nodes.forEach(function(l){o.setNode(l.v,l.value),l.parent&&o.setParent(l.v,l.parent)}),s.edges.forEach(function(l){o.setEdge({v:l.v,w:l.w,name:l.name},l.value)}),o}return Cx}var _x,rP;function MX(){if(rP)return _x;rP=1,_x=n;function n(e){var t={},r=[],i;function s(o){Object.hasOwn(t,o)||(t[o]=!0,i.push(o),e.successors(o).forEach(s),e.predecessors(o).forEach(s))}return e.nodes().forEach(function(o){i=[],s(o),i.length&&r.push(i)}),r}return _x}var Ax,iP;function uO(){if(iP)return Ax;iP=1;class n{constructor(){_e(this,"_arr",[]);_e(this,"_keyIndices",{})}size(){return this._arr.length}keys(){return this._arr.map(function(t){return t.key})}has(t){return Object.hasOwn(this._keyIndices,t)}priority(t){var r=this._keyIndices[t];if(r!==void 0)return this._arr[r].priority}min(){if(this.size()===0)throw new Error("Queue underflow");return this._arr[0].key}add(t,r){var i=this._keyIndices;if(t=String(t),!Object.hasOwn(i,t)){var s=this._arr,o=s.length;return i[t]=o,s.push({key:t,priority:r}),this._decrease(o),!0}return!1}removeMin(){this._swap(0,this._arr.length-1);var t=this._arr.pop();return delete this._keyIndices[t.key],this._heapify(0),t.key}decrease(t,r){var i=this._keyIndices[t];if(r>this._arr[i].priority)throw new Error("New priority is greater than current priority. Key: "+t+" Old: "+this._arr[i].priority+" New: "+r);this._arr[i].priority=r,this._decrease(i)}_heapify(t){var r=this._arr,i=2*t,s=i+1,o=t;i<r.length&&(o=r[i].priority<r[o].priority?i:o,s<r.length&&(o=r[s].priority<r[o].priority?s:o),o!==t&&(this._swap(t,o),this._heapify(o)))}_decrease(t){for(var r=this._arr,i=r[t].priority,s;t!==0&&(s=t>>1,!(r[s].priority<i));)this._swap(t,s),t=s}_swap(t,r){var i=this._arr,s=this._keyIndices,o=i[t],l=i[r];i[t]=l,i[r]=o,s[l.key]=t,s[o.key]=r}}return Ax=n,Ax}var kx,sP;function dO(){if(sP)return kx;sP=1;var n=uO();kx=t;var e=()=>1;function t(i,s,o,l){return r(i,String(s),o||e,l||function(u){return i.outEdges(u)})}function r(i,s,o,l){var u={},d=new n,h,f,g=function(y){var v=y.v!==h?y.v:y.w,w=u[v],E=o(y),x=f.distance+E;if(E<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+y+" Weight: "+E);x<w.distance&&(w.distance=x,w.predecessor=h,d.decrease(v,x))};for(i.nodes().forEach(function(y){var v=y===s?0:Number.POSITIVE_INFINITY;u[y]={distance:v},d.add(y,v)});d.size()>0&&(h=d.removeMin(),f=u[h],f.distance!==Number.POSITIVE_INFINITY);)l(h).forEach(g);return u}return kx}var Rx,oP;function IX(){if(oP)return Rx;oP=1;var n=dO();Rx=e;function e(t,r,i){return t.nodes().reduce(function(s,o){return s[o]=n(t,o,r,i),s},{})}return Rx}var Tx,aP;function hO(){if(aP)return Tx;aP=1,Tx=n;function n(e){var t=0,r=[],i={},s=[];function o(l){var u=i[l]={onStack:!0,lowlink:t,index:t++};if(r.push(l),e.successors(l).forEach(function(f){Object.hasOwn(i,f)?i[f].onStack&&(u.lowlink=Math.min(u.lowlink,i[f].index)):(o(f),u.lowlink=Math.min(u.lowlink,i[f].lowlink))}),u.lowlink===u.index){var d=[],h;do h=r.pop(),i[h].onStack=!1,d.push(h);while(l!==h);s.push(d)}}return e.nodes().forEach(function(l){Object.hasOwn(i,l)||o(l)}),s}return Tx}var Px,lP;function NX(){if(lP)return Px;lP=1;var n=hO();Px=e;function e(t){return n(t).filter(function(r){return r.length>1||r.length===1&&t.hasEdge(r[0],r[0])})}return Px}var Mx,cP;function LX(){if(cP)return Mx;cP=1,Mx=e;var n=()=>1;function e(r,i,s){return t(r,i||n,s||function(o){return r.outEdges(o)})}function t(r,i,s){var o={},l=r.nodes();return l.forEach(function(u){o[u]={},o[u][u]={distance:0},l.forEach(function(d){u!==d&&(o[u][d]={distance:Number.POSITIVE_INFINITY})}),s(u).forEach(function(d){var h=d.v===u?d.w:d.v,f=i(d);o[u][h]={distance:f,predecessor:u}})}),l.forEach(function(u){var d=o[u];l.forEach(function(h){var f=o[h];l.forEach(function(g){var y=f[u],v=d[g],w=f[g],E=y.distance+v.distance;E<w.distance&&(w.distance=E,w.predecessor=v.predecessor)})})}),o}return Mx}var Ix,uP;function fO(){if(uP)return Ix;uP=1;function n(t){var r={},i={},s=[];function o(l){if(Object.hasOwn(i,l))throw new e;Object.hasOwn(r,l)||(i[l]=!0,r[l]=!0,t.predecessors(l).forEach(o),delete i[l],s.push(l))}if(t.sinks().forEach(o),Object.keys(r).length!==t.nodeCount())throw new e;return s}class e extends Error{constructor(){super(...arguments)}}return Ix=n,n.CycleException=e,Ix}var Nx,dP;function OX(){if(dP)return Nx;dP=1;var n=fO();Nx=e;function e(t){try{n(t)}catch(r){if(r instanceof n.CycleException)return!1;throw r}return!0}return Nx}var Lx,hP;function pO(){if(hP)return Lx;hP=1,Lx=n;function n(i,s,o){Array.isArray(s)||(s=[s]);var l=i.isDirected()?f=>i.successors(f):f=>i.neighbors(f),u=o==="post"?e:t,d=[],h={};return s.forEach(f=>{if(!i.hasNode(f))throw new Error("Graph does not have node: "+f);u(f,l,h,d)}),d}function e(i,s,o,l){for(var u=[[i,!1]];u.length>0;){var d=u.pop();d[1]?l.push(d[0]):Object.hasOwn(o,d[0])||(o[d[0]]=!0,u.push([d[0],!0]),r(s(d[0]),h=>u.push([h,!1])))}}function t(i,s,o,l){for(var u=[i];u.length>0;){var d=u.pop();Object.hasOwn(o,d)||(o[d]=!0,l.push(d),r(s(d),h=>u.push(h)))}}function r(i,s){for(var o=i.length;o--;)s(i[o],o,i);return i}return Lx}var Ox,fP;function DX(){if(fP)return Ox;fP=1;var n=pO();Ox=e;function e(t,r){return n(t,r,"post")}return Ox}var Dx,pP;function FX(){if(pP)return Dx;pP=1;var n=pO();Dx=e;function e(t,r){return n(t,r,"pre")}return Dx}var Fx,gP;function zX(){if(gP)return Fx;gP=1;var n=vC(),e=uO();Fx=t;function t(r,i){var s=new n,o={},l=new e,u;function d(f){var g=f.v===u?f.w:f.v,y=l.priority(g);if(y!==void 0){var v=i(f);v<y&&(o[g]=u,l.decrease(g,v))}}if(r.nodeCount()===0)return s;r.nodes().forEach(function(f){l.add(f,Number.POSITIVE_INFINITY),s.setNode(f)}),l.decrease(r.nodes()[0],0);for(var h=!1;l.size()>0;){if(u=l.removeMin(),Object.hasOwn(o,u))s.setEdge(u,o[u]);else{if(h)throw new Error("Input graph is not connected: "+r);h=!0}r.nodeEdges(u).forEach(d)}return s}return Fx}var zx,mP;function $X(){return mP||(mP=1,zx={components:MX(),dijkstra:dO(),dijkstraAll:IX(),findCycles:NX(),floydWarshall:LX(),isAcyclic:OX(),postorder:DX(),preorder:FX(),prim:zX(),tarjan:hO(),topsort:fO()}),zx}var $x,yP;function $i(){if(yP)return $x;yP=1;var n=TX();return $x={Graph:n.Graph,json:PX(),alg:$X(),version:n.version},$x}var Bx,vP;function BX(){if(vP)return Bx;vP=1;class n{constructor(){let i={};i._next=i._prev=i,this._sentinel=i}dequeue(){let i=this._sentinel,s=i._prev;if(s!==i)return e(s),s}enqueue(i){let s=this._sentinel;i._prev&&i._next&&e(i),i._next=s._next,s._next._prev=i,s._next=i,i._prev=s}toString(){let i=[],s=this._sentinel,o=s._prev;for(;o!==s;)i.push(JSON.stringify(o,t)),o=o._prev;return"["+i.join(", ")+"]"}}function e(r){r._prev._next=r._next,r._next._prev=r._prev,delete r._next,delete r._prev}function t(r,i){if(r!=="_next"&&r!=="_prev")return i}return Bx=n,Bx}var jx,bP;function jX(){if(bP)return jx;bP=1;let n=$i().Graph,e=BX();jx=r;let t=()=>1;function r(d,h){if(d.nodeCount()<=1)return[];let f=o(d,h||t);return i(f.graph,f.buckets,f.zeroIdx).flatMap(y=>d.outEdges(y.v,y.w))}function i(d,h,f){let g=[],y=h[h.length-1],v=h[0],w;for(;d.nodeCount();){for(;w=v.dequeue();)s(d,h,f,w);for(;w=y.dequeue();)s(d,h,f,w);if(d.nodeCount()){for(let E=h.length-2;E>0;--E)if(w=h[E].dequeue(),w){g=g.concat(s(d,h,f,w,!0));break}}}return g}function s(d,h,f,g,y){let v=y?[]:void 0;return d.inEdges(g.v).forEach(w=>{let E=d.edge(w),x=d.node(w.v);y&&v.push({v:w.v,w:w.w}),x.out-=E,l(h,f,x)}),d.outEdges(g.v).forEach(w=>{let E=d.edge(w),x=w.w,_=d.node(x);_.in-=E,l(h,f,_)}),d.removeNode(g.v),v}function o(d,h){let f=new n,g=0,y=0;d.nodes().forEach(E=>{f.setNode(E,{v:E,in:0,out:0})}),d.edges().forEach(E=>{let x=f.edge(E.v,E.w)||0,_=h(E),S=x+_;f.setEdge(E.v,E.w,S),y=Math.max(y,f.node(E.v).out+=_),g=Math.max(g,f.node(E.w).in+=_)});let v=u(y+g+3).map(()=>new e),w=g+1;return f.nodes().forEach(E=>{l(v,w,f.node(E))}),{graph:f,buckets:v,zeroIdx:w}}function l(d,h,f){f.out?f.in?d[f.out-f.in+h].enqueue(f):d[d.length-1].enqueue(f):d[0].enqueue(f)}function u(d){const h=[];for(let f=0;f<d;f++)h.push(f);return h}return jx}var Hx,wP;function on(){if(wP)return Hx;wP=1;let n=$i().Graph;Hx={addBorderNode:h,addDummyNode:e,applyWithChunking:y,asNonCompoundGraph:r,buildLayerMatrix:l,intersectRect:o,mapValues:I,maxRank:v,normalizeRanks:u,notime:x,partition:w,pick:k,predecessorWeights:s,range:C,removeEmptyRanks:d,simplify:t,successorWeights:i,time:E,uniqueId:S,zipObject:P};function e(M,N,R,D){let $;do $=S(D);while(M.hasNode($));return R.dummy=N,M.setNode($,R),$}function t(M){let N=new n().setGraph(M.graph());return M.nodes().forEach(R=>N.setNode(R,M.node(R))),M.edges().forEach(R=>{let D=N.edge(R.v,R.w)||{weight:0,minlen:1},$=M.edge(R);N.setEdge(R.v,R.w,{weight:D.weight+$.weight,minlen:Math.max(D.minlen,$.minlen)})}),N}function r(M){let N=new n({multigraph:M.isMultigraph()}).setGraph(M.graph());return M.nodes().forEach(R=>{M.children(R).length||N.setNode(R,M.node(R))}),M.edges().forEach(R=>{N.setEdge(R,M.edge(R))}),N}function i(M){let N=M.nodes().map(R=>{let D={};return M.outEdges(R).forEach($=>{D[$.w]=(D[$.w]||0)+M.edge($).weight}),D});return P(M.nodes(),N)}function s(M){let N=M.nodes().map(R=>{let D={};return M.inEdges(R).forEach($=>{D[$.v]=(D[$.v]||0)+M.edge($).weight}),D});return P(M.nodes(),N)}function o(M,N){let R=M.x,D=M.y,$=N.x-R,G=N.y-D,L=M.width/2,q=M.height/2;if(!$&&!G)throw new Error("Not possible to find intersection inside of the rectangle");let H,X;return Math.abs(G)*L>Math.abs($)*q?(G<0&&(q=-q),H=q*$/G,X=q):($<0&&(L=-L),H=L,X=L*G/$),{x:R+H,y:D+X}}function l(M){let N=C(v(M)+1).map(()=>[]);return M.nodes().forEach(R=>{let D=M.node(R),$=D.rank;$!==void 0&&(N[$][D.order]=R)}),N}function u(M){let N=M.nodes().map(D=>{let $=M.node(D).rank;return $===void 0?Number.MAX_VALUE:$}),R=y(Math.min,N);M.nodes().forEach(D=>{let $=M.node(D);Object.hasOwn($,"rank")&&($.rank-=R)})}function d(M){let N=M.nodes().map(L=>M.node(L).rank),R=y(Math.min,N),D=[];M.nodes().forEach(L=>{let q=M.node(L).rank-R;D[q]||(D[q]=[]),D[q].push(L)});let $=0,G=M.graph().nodeRankFactor;Array.from(D).forEach((L,q)=>{L===void 0&&q%G!==0?--$:L!==void 0&&$&&L.forEach(H=>M.node(H).rank+=$)})}function h(M,N,R,D){let $={width:0,height:0};return arguments.length>=4&&($.rank=R,$.order=D),e(M,"border",$,N)}function f(M,N=g){const R=[];for(let D=0;D<M.length;D+=N){const $=M.slice(D,D+N);R.push($)}return R}const g=65535;function y(M,N){if(N.length>g){const R=f(N);return M.apply(null,R.map(D=>M.apply(null,D)))}else return M.apply(null,N)}function v(M){const R=M.nodes().map(D=>{let $=M.node(D).rank;return $===void 0?Number.MIN_VALUE:$});return y(Math.max,R)}function w(M,N){let R={lhs:[],rhs:[]};return M.forEach(D=>{N(D)?R.lhs.push(D):R.rhs.push(D)}),R}function E(M,N){let R=Date.now();try{return N()}finally{console.log(M+" time: "+(Date.now()-R)+"ms")}}function x(M,N){return N()}let _=0;function S(M){var N=++_;return toString(M)+N}function C(M,N,R=1){N==null&&(N=M,M=0);let D=G=>G<N;R<0&&(D=G=>N<G);const $=[];for(let G=M;D(G);G+=R)$.push(G);return $}function k(M,N){const R={};for(const D of N)M[D]!==void 0&&(R[D]=M[D]);return R}function I(M,N){let R=N;return typeof N=="string"&&(R=D=>D[N]),Object.entries(M).reduce((D,[$,G])=>(D[$]=R(G,$),D),{})}function P(M,N){return M.reduce((R,D,$)=>(R[D]=N[$],R),{})}return Hx}var Wx,xP;function HX(){if(xP)return Wx;xP=1;let n=jX(),e=on().uniqueId;Wx={run:t,undo:i};function t(s){(s.graph().acyclicer==="greedy"?n(s,l(s)):r(s)).forEach(u=>{let d=s.edge(u);s.removeEdge(u),d.forwardName=u.name,d.reversed=!0,s.setEdge(u.w,u.v,d,e("rev"))});function l(u){return d=>u.edge(d).weight}}function r(s){let o=[],l={},u={};function d(h){Object.hasOwn(u,h)||(u[h]=!0,l[h]=!0,s.outEdges(h).forEach(f=>{Object.hasOwn(l,f.w)?o.push(f):d(f.w)}),delete l[h])}return s.nodes().forEach(d),o}function i(s){s.edges().forEach(o=>{let l=s.edge(o);if(l.reversed){s.removeEdge(o);let u=l.forwardName;delete l.reversed,delete l.forwardName,s.setEdge(o.w,o.v,l,u)}})}return Wx}var Ux,SP;function WX(){if(SP)return Ux;SP=1;let n=on();Ux={run:e,undo:r};function e(i){i.graph().dummyChains=[],i.edges().forEach(s=>t(i,s))}function t(i,s){let o=s.v,l=i.node(o).rank,u=s.w,d=i.node(u).rank,h=s.name,f=i.edge(s),g=f.labelRank;if(d===l+1)return;i.removeEdge(s);let y,v,w;for(w=0,++l;l<d;++w,++l)f.points=[],v={width:0,height:0,edgeLabel:f,edgeObj:s,rank:l},y=n.addDummyNode(i,"edge",v,"_d"),l===g&&(v.width=f.width,v.height=f.height,v.dummy="edge-label",v.labelpos=f.labelpos),i.setEdge(o,y,{weight:f.weight},h),w===0&&i.graph().dummyChains.push(y),o=y;i.setEdge(o,u,{weight:f.weight},h)}function r(i){i.graph().dummyChains.forEach(s=>{let o=i.node(s),l=o.edgeLabel,u;for(i.setEdge(o.edgeObj,l);o.dummy;)u=i.successors(s)[0],i.removeNode(s),l.points.push({x:o.x,y:o.y}),o.dummy==="edge-label"&&(l.x=o.x,l.y=o.y,l.width=o.width,l.height=o.height),s=u,o=i.node(s)})}return Ux}var Vx,EP;function k0(){if(EP)return Vx;EP=1;const{applyWithChunking:n}=on();Vx={longestPath:e,slack:t};function e(r){var i={};function s(o){var l=r.node(o);if(Object.hasOwn(i,o))return l.rank;i[o]=!0;let u=r.outEdges(o).map(h=>h==null?Number.POSITIVE_INFINITY:s(h.w)-r.edge(h).minlen);var d=n(Math.min,u);return d===Number.POSITIVE_INFINITY&&(d=0),l.rank=d}r.sources().forEach(s)}function t(r,i){return r.node(i.w).rank-r.node(i.v).rank-r.edge(i).minlen}return Vx}var Gx,CP;function gO(){if(CP)return Gx;CP=1;var n=$i().Graph,e=k0().slack;Gx=t;function t(o){var l=new n({directed:!1}),u=o.nodes()[0],d=o.nodeCount();l.setNode(u,{});for(var h,f;r(l,o)<d;)h=i(l,o),f=l.hasNode(h.v)?e(o,h):-e(o,h),s(l,o,f);return l}function r(o,l){function u(d){l.nodeEdges(d).forEach(h=>{var f=h.v,g=d===f?h.w:f;!o.hasNode(g)&&!e(l,h)&&(o.setNode(g,{}),o.setEdge(d,g,{}),u(g))})}return o.nodes().forEach(u),o.nodeCount()}function i(o,l){return l.edges().reduce((d,h)=>{let f=Number.POSITIVE_INFINITY;return o.hasNode(h.v)!==o.hasNode(h.w)&&(f=e(l,h)),f<d[0]?[f,h]:d},[Number.POSITIVE_INFINITY,null])[1]}function s(o,l,u){o.nodes().forEach(d=>l.node(d).rank+=u)}return Gx}var qx,_P;function UX(){if(_P)return qx;_P=1;var n=gO(),e=k0().slack,t=k0().longestPath,r=$i().alg.preorder,i=$i().alg.postorder,s=on().simplify;qx=o,o.initLowLimValues=h,o.initCutValues=l,o.calcCutValue=d,o.leaveEdge=g,o.enterEdge=y,o.exchangeEdges=v;function o(_){_=s(_),t(_);var S=n(_);h(S),l(S,_);for(var C,k;C=g(S);)k=y(S,_,C),v(S,_,C,k)}function l(_,S){var C=i(_,_.nodes());C=C.slice(0,C.length-1),C.forEach(k=>u(_,S,k))}function u(_,S,C){var k=_.node(C),I=k.parent;_.edge(C,I).cutvalue=d(_,S,C)}function d(_,S,C){var k=_.node(C),I=k.parent,P=!0,M=S.edge(C,I),N=0;return M||(P=!1,M=S.edge(I,C)),N=M.weight,S.nodeEdges(C).forEach(R=>{var D=R.v===C,$=D?R.w:R.v;if($!==I){var G=D===P,L=S.edge(R).weight;if(N+=G?L:-L,E(_,C,$)){var q=_.edge(C,$).cutvalue;N+=G?-q:q}}}),N}function h(_,S){arguments.length<2&&(S=_.nodes()[0]),f(_,{},1,S)}function f(_,S,C,k,I){var P=C,M=_.node(k);return S[k]=!0,_.neighbors(k).forEach(N=>{Object.hasOwn(S,N)||(C=f(_,S,C,N,k))}),M.low=P,M.lim=C++,I?M.parent=I:delete M.parent,C}function g(_){return _.edges().find(S=>_.edge(S).cutvalue<0)}function y(_,S,C){var k=C.v,I=C.w;S.hasEdge(k,I)||(k=C.w,I=C.v);var P=_.node(k),M=_.node(I),N=P,R=!1;P.lim>M.lim&&(N=M,R=!0);var D=S.edges().filter($=>R===x(_,_.node($.v),N)&&R!==x(_,_.node($.w),N));return D.reduce(($,G)=>e(S,G)<e(S,$)?G:$)}function v(_,S,C,k){var I=C.v,P=C.w;_.removeEdge(I,P),_.setEdge(k.v,k.w,{}),h(_),l(_,S),w(_,S)}function w(_,S){var C=_.nodes().find(I=>!S.node(I).parent),k=r(_,C);k=k.slice(1),k.forEach(I=>{var P=_.node(I).parent,M=S.edge(I,P),N=!1;M||(M=S.edge(P,I),N=!0),S.node(I).rank=S.node(P).rank+(N?M.minlen:-M.minlen)})}function E(_,S,C){return _.hasEdge(S,C)}function x(_,S,C){return C.low<=S.lim&&S.lim<=C.lim}return qx}var Yx,AP;function VX(){if(AP)return Yx;AP=1;var n=k0(),e=n.longestPath,t=gO(),r=UX();Yx=i;function i(u){switch(u.graph().ranker){case"network-simplex":l(u);break;case"tight-tree":o(u);break;case"longest-path":s(u);break;default:l(u)}}var s=e;function o(u){e(u),t(u)}function l(u){r(u)}return Yx}var Xx,kP;function GX(){if(kP)return Xx;kP=1,Xx=n;function n(r){let i=t(r);r.graph().dummyChains.forEach(s=>{let o=r.node(s),l=o.edgeObj,u=e(r,i,l.v,l.w),d=u.path,h=u.lca,f=0,g=d[f],y=!0;for(;s!==l.w;){if(o=r.node(s),y){for(;(g=d[f])!==h&&r.node(g).maxRank<o.rank;)f++;g===h&&(y=!1)}if(!y){for(;f<d.length-1&&r.node(g=d[f+1]).minRank<=o.rank;)f++;g=d[f]}r.setParent(s,g),s=r.successors(s)[0]}})}function e(r,i,s,o){let l=[],u=[],d=Math.min(i[s].low,i[o].low),h=Math.max(i[s].lim,i[o].lim),f,g;f=s;do f=r.parent(f),l.push(f);while(f&&(i[f].low>d||h>i[f].lim));for(g=f,f=o;(f=r.parent(f))!==g;)u.push(f);return{path:l.concat(u.reverse()),lca:g}}function t(r){let i={},s=0;function o(l){let u=s;r.children(l).forEach(o),i[l]={low:u,lim:s++}}return r.children().forEach(o),i}return Xx}var Kx,RP;function qX(){if(RP)return Kx;RP=1;let n=on();Kx={run:e,cleanup:s};function e(o){let l=n.addDummyNode(o,"root",{},"_root"),u=r(o),d=Object.values(u),h=n.applyWithChunking(Math.max,d)-1,f=2*h+1;o.graph().nestingRoot=l,o.edges().forEach(y=>o.edge(y).minlen*=f);let g=i(o)+1;o.children().forEach(y=>t(o,l,f,g,h,u,y)),o.graph().nodeRankFactor=f}function t(o,l,u,d,h,f,g){let y=o.children(g);if(!y.length){g!==l&&o.setEdge(l,g,{weight:0,minlen:u});return}let v=n.addBorderNode(o,"_bt"),w=n.addBorderNode(o,"_bb"),E=o.node(g);o.setParent(v,g),E.borderTop=v,o.setParent(w,g),E.borderBottom=w,y.forEach(x=>{t(o,l,u,d,h,f,x);let _=o.node(x),S=_.borderTop?_.borderTop:x,C=_.borderBottom?_.borderBottom:x,k=_.borderTop?d:2*d,I=S!==C?1:h-f[g]+1;o.setEdge(v,S,{weight:k,minlen:I,nestingEdge:!0}),o.setEdge(C,w,{weight:k,minlen:I,nestingEdge:!0})}),o.parent(g)||o.setEdge(l,v,{weight:0,minlen:h+f[g]})}function r(o){var l={};function u(d,h){var f=o.children(d);f&&f.length&&f.forEach(g=>u(g,h+1)),l[d]=h}return o.children().forEach(d=>u(d,1)),l}function i(o){return o.edges().reduce((l,u)=>l+o.edge(u).weight,0)}function s(o){var l=o.graph();o.removeNode(l.nestingRoot),delete l.nestingRoot,o.edges().forEach(u=>{var d=o.edge(u);d.nestingEdge&&o.removeEdge(u)})}return Kx}var Qx,TP;function YX(){if(TP)return Qx;TP=1;let n=on();Qx=e;function e(r){function i(s){let o=r.children(s),l=r.node(s);if(o.length&&o.forEach(i),Object.hasOwn(l,"minRank")){l.borderLeft=[],l.borderRight=[];for(let u=l.minRank,d=l.maxRank+1;u<d;++u)t(r,"borderLeft","_bl",s,l,u),t(r,"borderRight","_br",s,l,u)}}r.children().forEach(i)}function t(r,i,s,o,l,u){let d={width:0,height:0,rank:u,borderType:i},h=l[i][u-1],f=n.addDummyNode(r,"border",d,s);l[i][u]=f,r.setParent(f,o),h&&r.setEdge(h,f,{weight:1})}return Qx}var Zx,PP;function XX(){if(PP)return Zx;PP=1,Zx={adjust:n,undo:e};function n(u){let d=u.graph().rankdir.toLowerCase();(d==="lr"||d==="rl")&&t(u)}function e(u){let d=u.graph().rankdir.toLowerCase();(d==="bt"||d==="rl")&&i(u),(d==="lr"||d==="rl")&&(o(u),t(u))}function t(u){u.nodes().forEach(d=>r(u.node(d))),u.edges().forEach(d=>r(u.edge(d)))}function r(u){let d=u.width;u.width=u.height,u.height=d}function i(u){u.nodes().forEach(d=>s(u.node(d))),u.edges().forEach(d=>{let h=u.edge(d);h.points.forEach(s),Object.hasOwn(h,"y")&&s(h)})}function s(u){u.y=-u.y}function o(u){u.nodes().forEach(d=>l(u.node(d))),u.edges().forEach(d=>{let h=u.edge(d);h.points.forEach(l),Object.hasOwn(h,"x")&&l(h)})}function l(u){let d=u.x;u.x=u.y,u.y=d}return Zx}var Jx,MP;function KX(){if(MP)return Jx;MP=1;let n=on();Jx=e;function e(t){let r={},i=t.nodes().filter(h=>!t.children(h).length),s=i.map(h=>t.node(h).rank),o=n.applyWithChunking(Math.max,s),l=n.range(o+1).map(()=>[]);function u(h){if(r[h])return;r[h]=!0;let f=t.node(h);l[f.rank].push(h),t.successors(h).forEach(u)}return i.sort((h,f)=>t.node(h).rank-t.node(f).rank).forEach(u),l}return Jx}var eS,IP;function QX(){if(IP)return eS;IP=1;let n=on().zipObject;eS=e;function e(r,i){let s=0;for(let o=1;o<i.length;++o)s+=t(r,i[o-1],i[o]);return s}function t(r,i,s){let o=n(s,s.map((g,y)=>y)),l=i.flatMap(g=>r.outEdges(g).map(y=>({pos:o[y.w],weight:r.edge(y).weight})).sort((y,v)=>y.pos-v.pos)),u=1;for(;u<s.length;)u<<=1;let d=2*u-1;u-=1;let h=new Array(d).fill(0),f=0;return l.forEach(g=>{let y=g.pos+u;h[y]+=g.weight;let v=0;for(;y>0;)y%2&&(v+=h[y+1]),y=y-1>>1,h[y]+=g.weight;f+=g.weight*v}),f}return eS}var tS,NP;function ZX(){if(NP)return tS;NP=1,tS=n;function n(e,t=[]){return t.map(r=>{let i=e.inEdges(r);if(i.length){let s=i.reduce((o,l)=>{let u=e.edge(l),d=e.node(l.v);return{sum:o.sum+u.weight*d.order,weight:o.weight+u.weight}},{sum:0,weight:0});return{v:r,barycenter:s.sum/s.weight,weight:s.weight}}else return{v:r}})}return tS}var nS,LP;function JX(){if(LP)return nS;LP=1;let n=on();nS=e;function e(i,s){let o={};i.forEach((u,d)=>{let h=o[u.v]={indegree:0,in:[],out:[],vs:[u.v],i:d};u.barycenter!==void 0&&(h.barycenter=u.barycenter,h.weight=u.weight)}),s.edges().forEach(u=>{let d=o[u.v],h=o[u.w];d!==void 0&&h!==void 0&&(h.indegree++,d.out.push(o[u.w]))});let l=Object.values(o).filter(u=>!u.indegree);return t(l)}function t(i){let s=[];function o(u){return d=>{d.merged||(d.barycenter===void 0||u.barycenter===void 0||d.barycenter>=u.barycenter)&&r(u,d)}}function l(u){return d=>{d.in.push(u),--d.indegree===0&&i.push(d)}}for(;i.length;){let u=i.pop();s.push(u),u.in.reverse().forEach(o(u)),u.out.forEach(l(u))}return s.filter(u=>!u.merged).map(u=>n.pick(u,["vs","i","barycenter","weight"]))}function r(i,s){let o=0,l=0;i.weight&&(o+=i.barycenter*i.weight,l+=i.weight),s.weight&&(o+=s.barycenter*s.weight,l+=s.weight),i.vs=s.vs.concat(i.vs),i.barycenter=o/l,i.weight=l,i.i=Math.min(s.i,i.i),s.merged=!0}return nS}var rS,OP;function e9(){if(OP)return rS;OP=1;let n=on();rS=e;function e(i,s){let o=n.partition(i,v=>Object.hasOwn(v,"barycenter")),l=o.lhs,u=o.rhs.sort((v,w)=>w.i-v.i),d=[],h=0,f=0,g=0;l.sort(r(!!s)),g=t(d,u,g),l.forEach(v=>{g+=v.vs.length,d.push(v.vs),h+=v.barycenter*v.weight,f+=v.weight,g=t(d,u,g)});let y={vs:d.flat(!0)};return f&&(y.barycenter=h/f,y.weight=f),y}function t(i,s,o){let l;for(;s.length&&(l=s[s.length-1]).i<=o;)s.pop(),i.push(l.vs),o++;return o}function r(i){return(s,o)=>s.barycenter<o.barycenter?-1:s.barycenter>o.barycenter?1:i?o.i-s.i:s.i-o.i}return rS}var iS,DP;function t9(){if(DP)return iS;DP=1;let n=ZX(),e=JX(),t=e9();iS=r;function r(o,l,u,d){let h=o.children(l),f=o.node(l),g=f?f.borderLeft:void 0,y=f?f.borderRight:void 0,v={};g&&(h=h.filter(_=>_!==g&&_!==y));let w=n(o,h);w.forEach(_=>{if(o.children(_.v).length){let S=r(o,_.v,u,d);v[_.v]=S,Object.hasOwn(S,"barycenter")&&s(_,S)}});let E=e(w,u);i(E,v);let x=t(E,d);if(g&&(x.vs=[g,x.vs,y].flat(!0),o.predecessors(g).length)){let _=o.node(o.predecessors(g)[0]),S=o.node(o.predecessors(y)[0]);Object.hasOwn(x,"barycenter")||(x.barycenter=0,x.weight=0),x.barycenter=(x.barycenter*x.weight+_.order+S.order)/(x.weight+2),x.weight+=2}return x}function i(o,l){o.forEach(u=>{u.vs=u.vs.flatMap(d=>l[d]?l[d].vs:d)})}function s(o,l){o.barycenter!==void 0?(o.barycenter=(o.barycenter*o.weight+l.barycenter*l.weight)/(o.weight+l.weight),o.weight+=l.weight):(o.barycenter=l.barycenter,o.weight=l.weight)}return iS}var sS,FP;function n9(){if(FP)return sS;FP=1;let n=$i().Graph,e=on();sS=t;function t(i,s,o){let l=r(i),u=new n({compound:!0}).setGraph({root:l}).setDefaultNodeLabel(d=>i.node(d));return i.nodes().forEach(d=>{let h=i.node(d),f=i.parent(d);(h.rank===s||h.minRank<=s&&s<=h.maxRank)&&(u.setNode(d),u.setParent(d,f||l),i[o](d).forEach(g=>{let y=g.v===d?g.w:g.v,v=u.edge(y,d),w=v!==void 0?v.weight:0;u.setEdge(y,d,{weight:i.edge(g).weight+w})}),Object.hasOwn(h,"minRank")&&u.setNode(d,{borderLeft:h.borderLeft[s],borderRight:h.borderRight[s]}))}),u}function r(i){for(var s;i.hasNode(s=e.uniqueId("_root")););return s}return sS}var oS,zP;function r9(){if(zP)return oS;zP=1,oS=n;function n(e,t,r){let i={},s;r.forEach(o=>{let l=e.parent(o),u,d;for(;l;){if(u=e.parent(l),u?(d=i[u],i[u]=l):(d=s,s=l),d&&d!==l){t.setEdge(d,l);return}l=u}})}return oS}var aS,$P;function i9(){if($P)return aS;$P=1;let n=KX(),e=QX(),t=t9(),r=n9(),i=r9(),s=$i().Graph,o=on();aS=l;function l(f,g){if(g&&typeof g.customOrder=="function"){g.customOrder(f,l);return}let y=o.maxRank(f),v=u(f,o.range(1,y+1),"inEdges"),w=u(f,o.range(y-1,-1,-1),"outEdges"),E=n(f);if(h(f,E),g&&g.disableOptimalOrderHeuristic)return;let x=Number.POSITIVE_INFINITY,_;for(let S=0,C=0;C<4;++S,++C){d(S%2?v:w,S%4>=2),E=o.buildLayerMatrix(f);let k=e(f,E);k<x&&(C=0,_=Object.assign({},E),x=k)}h(f,_)}function u(f,g,y){return g.map(function(v){return r(f,v,y)})}function d(f,g){let y=new s;f.forEach(function(v){let w=v.graph().root,E=t(v,w,y,g);E.vs.forEach((x,_)=>v.node(x).order=_),i(v,y,E.vs)})}function h(f,g){Object.values(g).forEach(y=>y.forEach((v,w)=>f.node(v).order=w))}return aS}var lS,BP;function s9(){if(BP)return lS;BP=1;let n=$i().Graph,e=on();lS={positionX:y,findType1Conflicts:t,findType2Conflicts:r,addConflict:s,hasConflict:o,verticalAlignment:l,horizontalCompaction:u,alignCoordinates:f,findSmallestWidthAlignment:h,balance:g};function t(E,x){let _={};function S(C,k){let I=0,P=0,M=C.length,N=k[k.length-1];return k.forEach((R,D)=>{let $=i(E,R),G=$?E.node($).order:M;($||R===N)&&(k.slice(P,D+1).forEach(L=>{E.predecessors(L).forEach(q=>{let H=E.node(q),X=H.order;(X<I||G<X)&&!(H.dummy&&E.node(L).dummy)&&s(_,q,L)})}),P=D+1,I=G)}),k}return x.length&&x.reduce(S),_}function r(E,x){let _={};function S(k,I,P,M,N){let R;e.range(I,P).forEach(D=>{R=k[D],E.node(R).dummy&&E.predecessors(R).forEach($=>{let G=E.node($);G.dummy&&(G.order<M||G.order>N)&&s(_,$,R)})})}function C(k,I){let P=-1,M,N=0;return I.forEach((R,D)=>{if(E.node(R).dummy==="border"){let $=E.predecessors(R);$.length&&(M=E.node($[0]).order,S(I,N,D,P,M),N=D,P=M)}S(I,N,I.length,M,k.length)}),I}return x.length&&x.reduce(C),_}function i(E,x){if(E.node(x).dummy)return E.predecessors(x).find(_=>E.node(_).dummy)}function s(E,x,_){if(x>_){let C=x;x=_,_=C}let S=E[x];S||(E[x]=S={}),S[_]=!0}function o(E,x,_){if(x>_){let S=x;x=_,_=S}return!!E[x]&&Object.hasOwn(E[x],_)}function l(E,x,_,S){let C={},k={},I={};return x.forEach(P=>{P.forEach((M,N)=>{C[M]=M,k[M]=M,I[M]=N})}),x.forEach(P=>{let M=-1;P.forEach(N=>{let R=S(N);if(R.length){R=R.sort(($,G)=>I[$]-I[G]);let D=(R.length-1)/2;for(let $=Math.floor(D),G=Math.ceil(D);$<=G;++$){let L=R[$];k[N]===N&&M<I[L]&&!o(_,N,L)&&(k[L]=N,k[N]=C[N]=C[L],M=I[L])}}})}),{root:C,align:k}}function u(E,x,_,S,C){let k={},I=d(E,x,_,C),P=C?"borderLeft":"borderRight";function M(D,$){let G=I.nodes(),L=G.pop(),q={};for(;L;)q[L]?D(L):(q[L]=!0,G.push(L),G=G.concat($(L))),L=G.pop()}function N(D){k[D]=I.inEdges(D).reduce(($,G)=>Math.max($,k[G.v]+I.edge(G)),0)}function R(D){let $=I.outEdges(D).reduce((L,q)=>Math.min(L,k[q.w]-I.edge(q)),Number.POSITIVE_INFINITY),G=E.node(D);$!==Number.POSITIVE_INFINITY&&G.borderType!==P&&(k[D]=Math.max(k[D],$))}return M(N,I.predecessors.bind(I)),M(R,I.successors.bind(I)),Object.keys(S).forEach(D=>k[D]=k[_[D]]),k}function d(E,x,_,S){let C=new n,k=E.graph(),I=v(k.nodesep,k.edgesep,S);return x.forEach(P=>{let M;P.forEach(N=>{let R=_[N];if(C.setNode(R),M){var D=_[M],$=C.edge(D,R);C.setEdge(D,R,Math.max(I(E,N,M),$||0))}M=N})}),C}function h(E,x){return Object.values(x).reduce((_,S)=>{let C=Number.NEGATIVE_INFINITY,k=Number.POSITIVE_INFINITY;Object.entries(S).forEach(([P,M])=>{let N=w(E,P)/2;C=Math.max(M+N,C),k=Math.min(M-N,k)});const I=C-k;return I<_[0]&&(_=[I,S]),_},[Number.POSITIVE_INFINITY,null])[1]}function f(E,x){let _=Object.values(x),S=e.applyWithChunking(Math.min,_),C=e.applyWithChunking(Math.max,_);["u","d"].forEach(k=>{["l","r"].forEach(I=>{let P=k+I,M=E[P];if(M===x)return;let N=Object.values(M),R=S-e.applyWithChunking(Math.min,N);I!=="l"&&(R=C-e.applyWithChunking(Math.max,N)),R&&(E[P]=e.mapValues(M,D=>D+R))})})}function g(E,x){return e.mapValues(E.ul,(_,S)=>{if(x)return E[x.toLowerCase()][S];{let C=Object.values(E).map(k=>k[S]).sort((k,I)=>k-I);return(C[1]+C[2])/2}})}function y(E){let x=e.buildLayerMatrix(E),_=Object.assign(t(E,x),r(E,x)),S={},C;["u","d"].forEach(I=>{C=I==="u"?x:Object.values(x).reverse(),["l","r"].forEach(P=>{P==="r"&&(C=C.map(D=>Object.values(D).reverse()));let M=(I==="u"?E.predecessors:E.successors).bind(E),N=l(E,C,_,M),R=u(E,C,N.root,N.align,P==="r");P==="r"&&(R=e.mapValues(R,D=>-D)),S[I+P]=R})});let k=h(E,S);return f(S,k),g(S,E.graph().align)}function v(E,x,_){return(S,C,k)=>{let I=S.node(C),P=S.node(k),M=0,N;if(M+=I.width/2,Object.hasOwn(I,"labelpos"))switch(I.labelpos.toLowerCase()){case"l":N=-I.width/2;break;case"r":N=I.width/2;break}if(N&&(M+=_?N:-N),N=0,M+=(I.dummy?x:E)/2,M+=(P.dummy?x:E)/2,M+=P.width/2,Object.hasOwn(P,"labelpos"))switch(P.labelpos.toLowerCase()){case"l":N=P.width/2;break;case"r":N=-P.width/2;break}return N&&(M+=_?N:-N),N=0,M}}function w(E,x){return E.node(x).width}return lS}var cS,jP;function o9(){if(jP)return cS;jP=1;let n=on(),e=s9().positionX;cS=t;function t(i){i=n.asNonCompoundGraph(i),r(i),Object.entries(e(i)).forEach(([s,o])=>i.node(s).x=o)}function r(i){let s=n.buildLayerMatrix(i),o=i.graph().ranksep,l=0;s.forEach(u=>{const d=u.reduce((h,f)=>{const g=i.node(f).height;return h>g?h:g},0);u.forEach(h=>i.node(h).y=l+d/2),l+=d+o})}return cS}var uS,HP;function a9(){if(HP)return uS;HP=1;let n=HX(),e=WX(),t=VX(),r=on().normalizeRanks,i=GX(),s=on().removeEmptyRanks,o=qX(),l=YX(),u=XX(),d=i9(),h=o9(),f=on(),g=$i().Graph;uS=y;function y(K,ee){let J=ee&&ee.debugTiming?f.time:f.notime;J("layout",()=>{let ie=J("  buildLayoutGraph",()=>M(K));J("  runLayout",()=>v(ie,J,ee)),J("  updateInputGraph",()=>w(K,ie))})}function v(K,ee,J){ee("    makeSpaceForEdgeLabels",()=>N(K)),ee("    removeSelfEdges",()=>W(K)),ee("    acyclic",()=>n.run(K)),ee("    nestingGraph.run",()=>o.run(K)),ee("    rank",()=>t(f.asNonCompoundGraph(K))),ee("    injectEdgeLabelProxies",()=>R(K)),ee("    removeEmptyRanks",()=>s(K)),ee("    nestingGraph.cleanup",()=>o.cleanup(K)),ee("    normalizeRanks",()=>r(K)),ee("    assignRankMinMax",()=>D(K)),ee("    removeEdgeLabelProxies",()=>$(K)),ee("    normalize.run",()=>e.run(K)),ee("    parentDummyChains",()=>i(K)),ee("    addBorderSegments",()=>l(K)),ee("    order",()=>d(K,J)),ee("    insertSelfEdges",()=>U(K)),ee("    adjustCoordinateSystem",()=>u.adjust(K)),ee("    position",()=>h(K)),ee("    positionSelfEdges",()=>Q(K)),ee("    removeBorderNodes",()=>X(K)),ee("    normalize.undo",()=>e.undo(K)),ee("    fixupEdgeLabelCoords",()=>q(K)),ee("    undoCoordinateSystem",()=>u.undo(K)),ee("    translateGraph",()=>G(K)),ee("    assignNodeIntersects",()=>L(K)),ee("    reversePoints",()=>H(K)),ee("    acyclic.undo",()=>n.undo(K))}function w(K,ee){K.nodes().forEach(J=>{let ie=K.node(J),ne=ee.node(J);ie&&(ie.x=ne.x,ie.y=ne.y,ie.rank=ne.rank,ee.children(J).length&&(ie.width=ne.width,ie.height=ne.height))}),K.edges().forEach(J=>{let ie=K.edge(J),ne=ee.edge(J);ie.points=ne.points,Object.hasOwn(ne,"x")&&(ie.x=ne.x,ie.y=ne.y)}),K.graph().width=ee.graph().width,K.graph().height=ee.graph().height}let E=["nodesep","edgesep","ranksep","marginx","marginy"],x={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},_=["acyclicer","ranker","rankdir","align"],S=["width","height"],C={width:0,height:0},k=["minlen","weight","width","height","labeloffset"],I={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},P=["labelpos"];function M(K){let ee=new g({multigraph:!0,compound:!0}),J=te(K.graph());return ee.setGraph(Object.assign({},x,Y(J,E),f.pick(J,_))),K.nodes().forEach(ie=>{let ne=te(K.node(ie));const oe=Y(ne,S);Object.keys(C).forEach(ue=>{oe[ue]===void 0&&(oe[ue]=C[ue])}),ee.setNode(ie,oe),ee.setParent(ie,K.parent(ie))}),K.edges().forEach(ie=>{let ne=te(K.edge(ie));ee.setEdge(ie,Object.assign({},I,Y(ne,k),f.pick(ne,P)))}),ee}function N(K){let ee=K.graph();ee.ranksep/=2,K.edges().forEach(J=>{let ie=K.edge(J);ie.minlen*=2,ie.labelpos.toLowerCase()!=="c"&&(ee.rankdir==="TB"||ee.rankdir==="BT"?ie.width+=ie.labeloffset:ie.height+=ie.labeloffset)})}function R(K){K.edges().forEach(ee=>{let J=K.edge(ee);if(J.width&&J.height){let ie=K.node(ee.v),oe={rank:(K.node(ee.w).rank-ie.rank)/2+ie.rank,e:ee};f.addDummyNode(K,"edge-proxy",oe,"_ep")}})}function D(K){let ee=0;K.nodes().forEach(J=>{let ie=K.node(J);ie.borderTop&&(ie.minRank=K.node(ie.borderTop).rank,ie.maxRank=K.node(ie.borderBottom).rank,ee=Math.max(ee,ie.maxRank))}),K.graph().maxRank=ee}function $(K){K.nodes().forEach(ee=>{let J=K.node(ee);J.dummy==="edge-proxy"&&(K.edge(J.e).labelRank=J.rank,K.removeNode(ee))})}function G(K){let ee=Number.POSITIVE_INFINITY,J=0,ie=Number.POSITIVE_INFINITY,ne=0,oe=K.graph(),ue=oe.marginx||0,he=oe.marginy||0;function me(fe){let we=fe.x,be=fe.y,Be=fe.width,st=fe.height;ee=Math.min(ee,we-Be/2),J=Math.max(J,we+Be/2),ie=Math.min(ie,be-st/2),ne=Math.max(ne,be+st/2)}K.nodes().forEach(fe=>me(K.node(fe))),K.edges().forEach(fe=>{let we=K.edge(fe);Object.hasOwn(we,"x")&&me(we)}),ee-=ue,ie-=he,K.nodes().forEach(fe=>{let we=K.node(fe);we.x-=ee,we.y-=ie}),K.edges().forEach(fe=>{let we=K.edge(fe);we.points.forEach(be=>{be.x-=ee,be.y-=ie}),Object.hasOwn(we,"x")&&(we.x-=ee),Object.hasOwn(we,"y")&&(we.y-=ie)}),oe.width=J-ee+ue,oe.height=ne-ie+he}function L(K){K.edges().forEach(ee=>{let J=K.edge(ee),ie=K.node(ee.v),ne=K.node(ee.w),oe,ue;J.points?(oe=J.points[0],ue=J.points[J.points.length-1]):(J.points=[],oe=ne,ue=ie),J.points.unshift(f.intersectRect(ie,oe)),J.points.push(f.intersectRect(ne,ue))})}function q(K){K.edges().forEach(ee=>{let J=K.edge(ee);if(Object.hasOwn(J,"x"))switch((J.labelpos==="l"||J.labelpos==="r")&&(J.width-=J.labeloffset),J.labelpos){case"l":J.x-=J.width/2+J.labeloffset;break;case"r":J.x+=J.width/2+J.labeloffset;break}})}function H(K){K.edges().forEach(ee=>{let J=K.edge(ee);J.reversed&&J.points.reverse()})}function X(K){K.nodes().forEach(ee=>{if(K.children(ee).length){let J=K.node(ee),ie=K.node(J.borderTop),ne=K.node(J.borderBottom),oe=K.node(J.borderLeft[J.borderLeft.length-1]),ue=K.node(J.borderRight[J.borderRight.length-1]);J.width=Math.abs(ue.x-oe.x),J.height=Math.abs(ne.y-ie.y),J.x=oe.x+J.width/2,J.y=ie.y+J.height/2}}),K.nodes().forEach(ee=>{K.node(ee).dummy==="border"&&K.removeNode(ee)})}function W(K){K.edges().forEach(ee=>{if(ee.v===ee.w){var J=K.node(ee.v);J.selfEdges||(J.selfEdges=[]),J.selfEdges.push({e:ee,label:K.edge(ee)}),K.removeEdge(ee)}})}function U(K){var ee=f.buildLayerMatrix(K);ee.forEach(J=>{var ie=0;J.forEach((ne,oe)=>{var ue=K.node(ne);ue.order=oe+ie,(ue.selfEdges||[]).forEach(he=>{f.addDummyNode(K,"selfedge",{width:he.label.width,height:he.label.height,rank:ue.rank,order:oe+ ++ie,e:he.e,label:he.label},"_se")}),delete ue.selfEdges})})}function Q(K){K.nodes().forEach(ee=>{var J=K.node(ee);if(J.dummy==="selfedge"){var ie=K.node(J.e.v),ne=ie.x+ie.width/2,oe=ie.y,ue=J.x-ne,he=ie.height/2;K.setEdge(J.e,J.label),K.removeNode(ee),J.label.points=[{x:ne+2*ue/3,y:oe-he},{x:ne+5*ue/6,y:oe-he},{x:ne+ue,y:oe},{x:ne+5*ue/6,y:oe+he},{x:ne+2*ue/3,y:oe+he}],J.label.x=J.x,J.label.y=J.y}})}function Y(K,ee){return f.mapValues(f.pick(K,ee),Number)}function te(K){var ee={};return K&&Object.entries(K).forEach(([J,ie])=>{typeof J=="string"&&(J=J.toLowerCase()),ee[J]=ie}),ee}return uS}var dS,WP;function l9(){if(WP)return dS;WP=1;let n=on(),e=$i().Graph;dS={debugOrdering:t};function t(r){let i=n.buildLayerMatrix(r),s=new e({compound:!0,multigraph:!0}).setGraph({});return r.nodes().forEach(o=>{s.setNode(o,{label:o}),s.setParent(o,"layer"+r.node(o).rank)}),r.edges().forEach(o=>s.setEdge(o.v,o.w,{},o.name)),i.forEach((o,l)=>{let u="layer"+l;s.setNode(u,{rank:"same"}),o.reduce((d,h)=>(s.setEdge(d,h,{style:"invis"}),h))}),s}return dS}var hS,UP;function c9(){return UP||(UP=1,hS="1.1.4"),hS}var fS,VP;function u9(){return VP||(VP=1,fS={graphlib:$i(),layout:a9(),debug:l9(),util:{time:on().time,notime:on().notime},version:c9()}),fS}var d9=u9();const GP=Dd(d9);function h9({data:n}){const{id:e,readRecordId:t,label:r,type:i,content:s}=n,o=O.useContext(Mo);if(!o)throw new Error("PaperContext not found");const{readRecords:l,displayedReads:u,selectedHighlightId:d}=o,{color:h}=l[t],f=u.includes(t);return F.jsxs(rn,{className:`highlight-node ${e===d?"selected":""}`,id:`node-${e}`,sx:{backgroundColor:f?h:"#e6e6e6"},children:[F.jsx(Da,{type:"target",position:Ne.Top}),F.jsx($a,{variant:"h6",children:r}),i==="area"&&F.jsx("img",{src:s,alt:"Node Content",style:{maxWidth:"100%",maxHeight:"100px"}}),F.jsx(Da,{type:"source",position:Ne.Bottom})]})}function f9({data:n}){const{id:e,readRecordId:t,label:r,content:i,type:s,notes:o}=n,l=O.useContext(Mo);if(!l)throw new Error("PaperContext not found");const{readRecords:u,displayedReads:d}=l,{color:h}=u[t],f=d.includes(t);return F.jsxs(rn,{className:"overview-node",id:`node-${e}`,sx:{backgroundColor:f?h:"#e6e6e6"},children:[F.jsx(Da,{type:"target",position:Ne.Top}),F.jsx($a,{variant:"h6",children:r}),s==="area"&&F.jsxs(F.Fragment,{children:[F.jsx("img",{src:i,alt:"Node Content",style:{maxWidth:"100%",maxHeight:"100px"}}),F.jsx("br",{})]}),F.jsx($a,{variant:"caption",children:o}),F.jsx(Da,{type:"source",position:Ne.Bottom})]})}function p9({sourceX:n,sourceY:e,targetX:t,targetY:r,sourcePosition:i,targetPosition:s,markerEnd:o}){const[l,u,d]=rv({sourceX:n,sourceY:e,sourcePosition:i,targetX:t,targetY:r,targetPosition:s});return F.jsxs(F.Fragment,{children:[F.jsx(Fd,{path:l,markerEnd:o,style:{stroke:"black",strokeWidth:1,strokeDasharray:"5,5"}}),F.jsx(KI,{children:F.jsx("div",{className:"nodrag nopan",style:{transform:`translate(-50%, -50%) translate(${u}px,${d}px)`}})})]})}function g9({sourceX:n,sourceY:e,targetX:t,targetY:r,sourcePosition:i,targetPosition:s}){const[o,l,u]=rv({sourceX:n,sourceY:e,sourcePosition:i,targetX:t,targetY:r,targetPosition:s});return F.jsxs(F.Fragment,{children:[F.jsx(Fd,{path:o,style:{stroke:"black",strokeWidth:2}}),F.jsx(KI,{children:F.jsx("div",{className:"nodrag nopan",style:{transform:`translate(-50%, -50%) translate(${l}px,${u}px)`}})})]})}var qP;(function(n){n.STRING="string",n.NUMBER="number",n.INTEGER="integer",n.BOOLEAN="boolean",n.ARRAY="array",n.OBJECT="object"})(qP||(qP={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var YP;(function(n){n.LANGUAGE_UNSPECIFIED="language_unspecified",n.PYTHON="python"})(YP||(YP={}));var XP;(function(n){n.OUTCOME_UNSPECIFIED="outcome_unspecified",n.OUTCOME_OK="outcome_ok",n.OUTCOME_FAILED="outcome_failed",n.OUTCOME_DEADLINE_EXCEEDED="outcome_deadline_exceeded"})(XP||(XP={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KP=["user","model","function","system"];var QP;(function(n){n.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",n.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",n.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",n.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",n.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",n.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY"})(QP||(QP={}));var ZP;(function(n){n.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",n.BLOCK_NONE="BLOCK_NONE"})(ZP||(ZP={}));var JP;(function(n){n.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",n.NEGLIGIBLE="NEGLIGIBLE",n.LOW="LOW",n.MEDIUM="MEDIUM",n.HIGH="HIGH"})(JP||(JP={}));var eM;(function(n){n.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",n.SAFETY="SAFETY",n.OTHER="OTHER"})(eM||(eM={}));var gf;(function(n){n.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",n.STOP="STOP",n.MAX_TOKENS="MAX_TOKENS",n.SAFETY="SAFETY",n.RECITATION="RECITATION",n.LANGUAGE="LANGUAGE",n.BLOCKLIST="BLOCKLIST",n.PROHIBITED_CONTENT="PROHIBITED_CONTENT",n.SPII="SPII",n.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",n.OTHER="OTHER"})(gf||(gf={}));var tM;(function(n){n.TASK_TYPE_UNSPECIFIED="TASK_TYPE_UNSPECIFIED",n.RETRIEVAL_QUERY="RETRIEVAL_QUERY",n.RETRIEVAL_DOCUMENT="RETRIEVAL_DOCUMENT",n.SEMANTIC_SIMILARITY="SEMANTIC_SIMILARITY",n.CLASSIFICATION="CLASSIFICATION",n.CLUSTERING="CLUSTERING"})(tM||(tM={}));var nM;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.AUTO="AUTO",n.ANY="ANY",n.NONE="NONE"})(nM||(nM={}));var rM;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.MODE_DYNAMIC="MODE_DYNAMIC"})(rM||(rM={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gn extends Error{constructor(e){super(`[GoogleGenerativeAI Error]: ${e}`)}}class hu extends Gn{constructor(e,t){super(e),this.response=t}}class mO extends Gn{constructor(e,t,r,i){super(e),this.status=t,this.statusText=r,this.errorDetails=i}}class Oa extends Gn{}class yO extends Gn{}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m9="https://generativelanguage.googleapis.com",y9="v1beta",v9="0.23.0",b9="genai-js";var Ec;(function(n){n.GENERATE_CONTENT="generateContent",n.STREAM_GENERATE_CONTENT="streamGenerateContent",n.COUNT_TOKENS="countTokens",n.EMBED_CONTENT="embedContent",n.BATCH_EMBED_CONTENTS="batchEmbedContents"})(Ec||(Ec={}));class w9{constructor(e,t,r,i,s){this.model=e,this.task=t,this.apiKey=r,this.stream=i,this.requestOptions=s}toString(){var e,t;const r=((e=this.requestOptions)===null||e===void 0?void 0:e.apiVersion)||y9;let s=`${((t=this.requestOptions)===null||t===void 0?void 0:t.baseUrl)||m9}/${r}/${this.model}:${this.task}`;return this.stream&&(s+="?alt=sse"),s}}function x9(n){const e=[];return n!=null&&n.apiClient&&e.push(n.apiClient),e.push(`${b9}/${v9}`),e.join(" ")}async function S9(n){var e;const t=new Headers;t.append("Content-Type","application/json"),t.append("x-goog-api-client",x9(n.requestOptions)),t.append("x-goog-api-key",n.apiKey);let r=(e=n.requestOptions)===null||e===void 0?void 0:e.customHeaders;if(r){if(!(r instanceof Headers))try{r=new Headers(r)}catch(i){throw new Oa(`unable to convert customHeaders value ${JSON.stringify(r)} to Headers: ${i.message}`)}for(const[i,s]of r.entries()){if(i==="x-goog-api-key")throw new Oa(`Cannot set reserved header name ${i}`);if(i==="x-goog-api-client")throw new Oa(`Header name ${i} can only be set using the apiClient field`);t.append(i,s)}}return t}async function E9(n,e,t,r,i,s){const o=new w9(n,e,t,r,s);return{url:o.toString(),fetchOptions:Object.assign(Object.assign({},k9(s)),{method:"POST",headers:await S9(o),body:i})}}async function Ng(n,e,t,r,i,s={},o=fetch){const{url:l,fetchOptions:u}=await E9(n,e,t,r,i,s);return C9(l,u,o)}async function C9(n,e,t=fetch){let r;try{r=await t(n,e)}catch(i){_9(i,n)}return r.ok||await A9(r,n),r}function _9(n,e){let t=n;throw t.name==="AbortError"?(t=new yO(`Request aborted when fetching ${e.toString()}: ${n.message}`),t.stack=n.stack):n instanceof mO||n instanceof Oa||(t=new Gn(`Error fetching from ${e.toString()}: ${n.message}`),t.stack=n.stack),t}async function A9(n,e){let t="",r;try{const i=await n.json();t=i.error.message,i.error.details&&(t+=` ${JSON.stringify(i.error.details)}`,r=i.error.details)}catch{}throw new mO(`Error fetching from ${e.toString()}: [${n.status} ${n.statusText}] ${t}`,n.status,n.statusText,r)}function k9(n){const e={};if((n==null?void 0:n.signal)!==void 0||(n==null?void 0:n.timeout)>=0){const t=new AbortController;(n==null?void 0:n.timeout)>=0&&setTimeout(()=>t.abort(),n.timeout),n!=null&&n.signal&&n.signal.addEventListener("abort",()=>{t.abort()}),e.signal=t.signal}return e}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bC(n){return n.text=()=>{if(n.candidates&&n.candidates.length>0){if(n.candidates.length>1&&console.warn(`This response had ${n.candidates.length} candidates. Returning text from the first candidate only. Access response.candidates directly to use the other candidates.`),t0(n.candidates[0]))throw new hu(`${ua(n)}`,n);return R9(n)}else if(n.promptFeedback)throw new hu(`Text not available. ${ua(n)}`,n);return""},n.functionCall=()=>{if(n.candidates&&n.candidates.length>0){if(n.candidates.length>1&&console.warn(`This response had ${n.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),t0(n.candidates[0]))throw new hu(`${ua(n)}`,n);return console.warn("response.functionCall() is deprecated. Use response.functionCalls() instead."),iM(n)[0]}else if(n.promptFeedback)throw new hu(`Function call not available. ${ua(n)}`,n)},n.functionCalls=()=>{if(n.candidates&&n.candidates.length>0){if(n.candidates.length>1&&console.warn(`This response had ${n.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),t0(n.candidates[0]))throw new hu(`${ua(n)}`,n);return iM(n)}else if(n.promptFeedback)throw new hu(`Function call not available. ${ua(n)}`,n)},n}function R9(n){var e,t,r,i;const s=[];if(!((t=(e=n.candidates)===null||e===void 0?void 0:e[0].content)===null||t===void 0)&&t.parts)for(const o of(i=(r=n.candidates)===null||r===void 0?void 0:r[0].content)===null||i===void 0?void 0:i.parts)o.text&&s.push(o.text),o.executableCode&&s.push("\n```"+o.executableCode.language+`
`+o.executableCode.code+"\n```\n"),o.codeExecutionResult&&s.push("\n```\n"+o.codeExecutionResult.output+"\n```\n");return s.length>0?s.join(""):""}function iM(n){var e,t,r,i;const s=[];if(!((t=(e=n.candidates)===null||e===void 0?void 0:e[0].content)===null||t===void 0)&&t.parts)for(const o of(i=(r=n.candidates)===null||r===void 0?void 0:r[0].content)===null||i===void 0?void 0:i.parts)o.functionCall&&s.push(o.functionCall);if(s.length>0)return s}const T9=[gf.RECITATION,gf.SAFETY,gf.LANGUAGE];function t0(n){return!!n.finishReason&&T9.includes(n.finishReason)}function ua(n){var e,t,r;let i="";if((!n.candidates||n.candidates.length===0)&&n.promptFeedback)i+="Response was blocked",!((e=n.promptFeedback)===null||e===void 0)&&e.blockReason&&(i+=` due to ${n.promptFeedback.blockReason}`),!((t=n.promptFeedback)===null||t===void 0)&&t.blockReasonMessage&&(i+=`: ${n.promptFeedback.blockReasonMessage}`);else if(!((r=n.candidates)===null||r===void 0)&&r[0]){const s=n.candidates[0];t0(s)&&(i+=`Candidate was blocked due to ${s.finishReason}`,s.finishMessage&&(i+=`: ${s.finishMessage}`))}return i}function Lf(n){return this instanceof Lf?(this.v=n,this):new Lf(n)}function P9(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(n,e||[]),i,s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(g){r[g]&&(i[g]=function(y){return new Promise(function(v,w){s.push([g,y,v,w])>1||l(g,y)})})}function l(g,y){try{u(r[g](y))}catch(v){f(s[0][3],v)}}function u(g){g.value instanceof Lf?Promise.resolve(g.value.v).then(d,h):f(s[0][2],g)}function d(g){l("next",g)}function h(g){l("throw",g)}function f(g,y){g(y),s.shift(),s.length&&l(s[0][0],s[0][1])}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sM=/^data\: (.*)(?:\n\n|\r\r|\r\n\r\n)/;function M9(n){const e=n.body.pipeThrough(new TextDecoderStream("utf8",{fatal:!0})),t=L9(e),[r,i]=t.tee();return{stream:N9(r),response:I9(i)}}async function I9(n){const e=[],t=n.getReader();for(;;){const{done:r,value:i}=await t.read();if(r)return bC(O9(e));e.push(i)}}function N9(n){return P9(this,arguments,function*(){const t=n.getReader();for(;;){const{value:r,done:i}=yield Lf(t.read());if(i)break;yield yield Lf(bC(r))}})}function L9(n){const e=n.getReader();return new ReadableStream({start(r){let i="";return s();function s(){return e.read().then(({value:o,done:l})=>{if(l){if(i.trim()){r.error(new Gn("Failed to parse stream"));return}r.close();return}i+=o;let u=i.match(sM),d;for(;u;){try{d=JSON.parse(u[1])}catch{r.error(new Gn(`Error parsing JSON response: "${u[1]}"`));return}r.enqueue(d),i=i.substring(u[0].length),u=i.match(sM)}return s()}).catch(o=>{let l=o;throw l.stack=o.stack,l.name==="AbortError"?l=new yO("Request aborted when reading from the stream"):l=new Gn("Error reading from the stream"),l})}}})}function O9(n){const e=n[n.length-1],t={promptFeedback:e==null?void 0:e.promptFeedback};for(const r of n){if(r.candidates){let i=0;for(const s of r.candidates)if(t.candidates||(t.candidates=[]),t.candidates[i]||(t.candidates[i]={index:i}),t.candidates[i].citationMetadata=s.citationMetadata,t.candidates[i].groundingMetadata=s.groundingMetadata,t.candidates[i].finishReason=s.finishReason,t.candidates[i].finishMessage=s.finishMessage,t.candidates[i].safetyRatings=s.safetyRatings,s.content&&s.content.parts){t.candidates[i].content||(t.candidates[i].content={role:s.content.role||"user",parts:[]});const o={};for(const l of s.content.parts)l.text&&(o.text=l.text),l.functionCall&&(o.functionCall=l.functionCall),l.executableCode&&(o.executableCode=l.executableCode),l.codeExecutionResult&&(o.codeExecutionResult=l.codeExecutionResult),Object.keys(o).length===0&&(o.text=""),t.candidates[i].content.parts.push(o)}i++}r.usageMetadata&&(t.usageMetadata=r.usageMetadata)}return t}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vO(n,e,t,r){const i=await Ng(e,Ec.STREAM_GENERATE_CONTENT,n,!0,JSON.stringify(t),r);return M9(i)}async function bO(n,e,t,r){const s=await(await Ng(e,Ec.GENERATE_CONTENT,n,!1,JSON.stringify(t),r)).json();return{response:bC(s)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wO(n){if(n!=null){if(typeof n=="string")return{role:"system",parts:[{text:n}]};if(n.text)return{role:"system",parts:[n]};if(n.parts)return n.role?n:{role:"system",parts:n.parts}}}function Of(n){let e=[];if(typeof n=="string")e=[{text:n}];else for(const t of n)typeof t=="string"?e.push({text:t}):e.push(t);return D9(e)}function D9(n){const e={role:"user",parts:[]},t={role:"function",parts:[]};let r=!1,i=!1;for(const s of n)"functionResponse"in s?(t.parts.push(s),i=!0):(e.parts.push(s),r=!0);if(r&&i)throw new Gn("Within a single message, FunctionResponse cannot be mixed with other type of part in the request for sending chat message.");if(!r&&!i)throw new Gn("No content is provided for sending chat message.");return r?e:t}function F9(n,e){var t;let r={model:e==null?void 0:e.model,generationConfig:e==null?void 0:e.generationConfig,safetySettings:e==null?void 0:e.safetySettings,tools:e==null?void 0:e.tools,toolConfig:e==null?void 0:e.toolConfig,systemInstruction:e==null?void 0:e.systemInstruction,cachedContent:(t=e==null?void 0:e.cachedContent)===null||t===void 0?void 0:t.name,contents:[]};const i=n.generateContentRequest!=null;if(n.contents){if(i)throw new Oa("CountTokensRequest must have one of contents or generateContentRequest, not both.");r.contents=n.contents}else if(i)r=Object.assign(Object.assign({},r),n.generateContentRequest);else{const s=Of(n);r.contents=[s]}return{generateContentRequest:r}}function oM(n){let e;return n.contents?e=n:e={contents:[Of(n)]},n.systemInstruction&&(e.systemInstruction=wO(n.systemInstruction)),e}function z9(n){return typeof n=="string"||Array.isArray(n)?{content:Of(n)}:n}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aM=["text","inlineData","functionCall","functionResponse","executableCode","codeExecutionResult"],$9={user:["text","inlineData"],function:["functionResponse"],model:["text","functionCall","executableCode","codeExecutionResult"],system:["text"]};function B9(n){let e=!1;for(const t of n){const{role:r,parts:i}=t;if(!e&&r!=="user")throw new Gn(`First content should be with role 'user', got ${r}`);if(!KP.includes(r))throw new Gn(`Each item should include role field. Got ${r} but valid roles are: ${JSON.stringify(KP)}`);if(!Array.isArray(i))throw new Gn("Content should have 'parts' property with an array of Parts");if(i.length===0)throw new Gn("Each Content should have at least one part");const s={text:0,inlineData:0,functionCall:0,functionResponse:0,fileData:0,executableCode:0,codeExecutionResult:0};for(const l of i)for(const u of aM)u in l&&(s[u]+=1);const o=$9[r];for(const l of aM)if(!o.includes(l)&&s[l]>0)throw new Gn(`Content with role '${r}' can't contain '${l}' part`);e=!0}}function lM(n){var e;if(n.candidates===void 0||n.candidates.length===0)return!1;const t=(e=n.candidates[0])===null||e===void 0?void 0:e.content;if(t===void 0||t.parts===void 0||t.parts.length===0)return!1;for(const r of t.parts)if(r===void 0||Object.keys(r).length===0||r.text!==void 0&&r.text==="")return!1;return!0}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cM="SILENT_ERROR";class j9{constructor(e,t,r,i={}){this.model=t,this.params=r,this._requestOptions=i,this._history=[],this._sendPromise=Promise.resolve(),this._apiKey=e,r!=null&&r.history&&(B9(r.history),this._history=r.history)}async getHistory(){return await this._sendPromise,this._history}async sendMessage(e,t={}){var r,i,s,o,l,u;await this._sendPromise;const d=Of(e),h={safetySettings:(r=this.params)===null||r===void 0?void 0:r.safetySettings,generationConfig:(i=this.params)===null||i===void 0?void 0:i.generationConfig,tools:(s=this.params)===null||s===void 0?void 0:s.tools,toolConfig:(o=this.params)===null||o===void 0?void 0:o.toolConfig,systemInstruction:(l=this.params)===null||l===void 0?void 0:l.systemInstruction,cachedContent:(u=this.params)===null||u===void 0?void 0:u.cachedContent,contents:[...this._history,d]},f=Object.assign(Object.assign({},this._requestOptions),t);let g;return this._sendPromise=this._sendPromise.then(()=>bO(this._apiKey,this.model,h,f)).then(y=>{var v;if(lM(y.response)){this._history.push(d);const w=Object.assign({parts:[],role:"model"},(v=y.response.candidates)===null||v===void 0?void 0:v[0].content);this._history.push(w)}else{const w=ua(y.response);w&&console.warn(`sendMessage() was unsuccessful. ${w}. Inspect response object for details.`)}g=y}),await this._sendPromise,g}async sendMessageStream(e,t={}){var r,i,s,o,l,u;await this._sendPromise;const d=Of(e),h={safetySettings:(r=this.params)===null||r===void 0?void 0:r.safetySettings,generationConfig:(i=this.params)===null||i===void 0?void 0:i.generationConfig,tools:(s=this.params)===null||s===void 0?void 0:s.tools,toolConfig:(o=this.params)===null||o===void 0?void 0:o.toolConfig,systemInstruction:(l=this.params)===null||l===void 0?void 0:l.systemInstruction,cachedContent:(u=this.params)===null||u===void 0?void 0:u.cachedContent,contents:[...this._history,d]},f=Object.assign(Object.assign({},this._requestOptions),t),g=vO(this._apiKey,this.model,h,f);return this._sendPromise=this._sendPromise.then(()=>g).catch(y=>{throw new Error(cM)}).then(y=>y.response).then(y=>{if(lM(y)){this._history.push(d);const v=Object.assign({},y.candidates[0].content);v.role||(v.role="model"),this._history.push(v)}else{const v=ua(y);v&&console.warn(`sendMessageStream() was unsuccessful. ${v}. Inspect response object for details.`)}}).catch(y=>{y.message!==cM&&console.error(y)}),g}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function H9(n,e,t,r){return(await Ng(e,Ec.COUNT_TOKENS,n,!1,JSON.stringify(t),r)).json()}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function W9(n,e,t,r){return(await Ng(e,Ec.EMBED_CONTENT,n,!1,JSON.stringify(t),r)).json()}async function U9(n,e,t,r){const i=t.requests.map(o=>Object.assign(Object.assign({},o),{model:e}));return(await Ng(e,Ec.BATCH_EMBED_CONTENTS,n,!1,JSON.stringify({requests:i}),r)).json()}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uM{constructor(e,t,r={}){this.apiKey=e,this._requestOptions=r,t.model.includes("/")?this.model=t.model:this.model=`models/${t.model}`,this.generationConfig=t.generationConfig||{},this.safetySettings=t.safetySettings||[],this.tools=t.tools,this.toolConfig=t.toolConfig,this.systemInstruction=wO(t.systemInstruction),this.cachedContent=t.cachedContent}async generateContent(e,t={}){var r;const i=oM(e),s=Object.assign(Object.assign({},this._requestOptions),t);return bO(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(r=this.cachedContent)===null||r===void 0?void 0:r.name},i),s)}async generateContentStream(e,t={}){var r;const i=oM(e),s=Object.assign(Object.assign({},this._requestOptions),t);return vO(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(r=this.cachedContent)===null||r===void 0?void 0:r.name},i),s)}startChat(e){var t;return new j9(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(t=this.cachedContent)===null||t===void 0?void 0:t.name},e),this._requestOptions)}async countTokens(e,t={}){const r=F9(e,{model:this.model,generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:this.cachedContent}),i=Object.assign(Object.assign({},this._requestOptions),t);return H9(this.apiKey,this.model,r,i)}async embedContent(e,t={}){const r=z9(e),i=Object.assign(Object.assign({},this._requestOptions),t);return W9(this.apiKey,this.model,r,i)}async batchEmbedContents(e,t={}){const r=Object.assign(Object.assign({},this._requestOptions),t);return U9(this.apiKey,this.model,e,r)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V9{constructor(e){this.apiKey=e}getGenerativeModel(e,t){if(!e.model)throw new Gn("Must provide a model name. Example: genai.getGenerativeModel({ model: 'my-model-name' })");return new uM(this.apiKey,e,t)}getGenerativeModelFromCachedContent(e,t,r){if(!e.name)throw new Oa("Cached content must contain a `name` field.");if(!e.model)throw new Oa("Cached content must contain a `model` field.");const i=["model","systemInstruction"];for(const o of i)if(t!=null&&t[o]&&e[o]&&(t==null?void 0:t[o])!==e[o]){if(o==="model"){const l=t.model.startsWith("models/")?t.model.replace("models/",""):t.model,u=e.model.startsWith("models/")?e.model.replace("models/",""):e.model;if(l===u)continue}throw new Oa(`Different value for "${o}" specified in modelParams (${t[o]}) and cachedContent (${e[o]})`)}const s=Object.assign(Object.assign({},t),{model:e.model,tools:e.tools,toolConfig:e.toolConfig,systemInstruction:e.systemInstruction,cachedContent:e});return new uM(this.apiKey,s,r)}}const G9="AIzaSyD33qOpC9rpB2u-tcPMZVD7a3-nhZ6YpcQ",q9=new V9(G9);function Y9(){const n=O.useContext(Mo);if(!n)throw new Error("PaperContext not found");const{nodes:e,updateNodeData:t,deleteHighlight:r,selectedHighlightId:i,setSelectedHighlightId:s}=n,[o,l]=O.useState(""),[u,d]=O.useState(""),[h,f]=O.useState([]),[g,y]=O.useState(""),[v,w]=O.useState(!1),[E,x]=O.useState(!1);O.useEffect(()=>{const C=e.find(k=>k.id===i);if(C){l(C.data.label);const k=C.data.content;d(C.data.summary),f(C.data.references),y(C.data.notes),C.data.summary||_(k)}},[i]);const _=async C=>{if(!C){d("No content to summarize.");return}try{const k=q9.getGenerativeModel({model:"gemini-2.0-flash-lite"}),I=`Summarize this in three sentences or less or if it's a single word/phrase give the definition: "${C}"`,M=await(await k.generateContent(I)).response;d(M.text()||"No summary available.")}catch(k){console.error("Error fetching summary:",k),d("Failed to fetch summary.")}},S=()=>{t(i,{label:o,summary:u,references:h,notes:g}),s(null)};return F.jsxs("div",{className:"wrapper",children:[F.jsx(Mf,{size:"small",sx:{position:"absolute",top:0,right:0,zIndex:1e3},onClick:()=>s(null),children:F.jsx(cG,{})}),F.jsxs(rn,{className:"field",children:[F.jsx("h3",{children:"Label"}),F.jsx("div",{onClick:()=>w(!0),style:{cursor:"pointer"},children:v?F.jsx(ZS,{id:"label",variant:"outlined",sx:{width:"100%"},value:o,onChange:C=>l(C.target.value),onBlur:()=>w(!1),autoFocus:!0}):F.jsx($a,{children:o})})]}),F.jsxs(rn,{className:"field summary-container",children:[F.jsx("h3",{className:"summary-title",children:"Definition / Summary"}),F.jsxs("p",{className:"summary-generated",children:[F.jsx("span",{className:"summary-label",children:"(From Gemini)"})," ",u||"Generating summary..."]})]}),F.jsxs(rn,{className:"field",children:[F.jsx("h3",{children:"Notes"}),F.jsx("div",{onClick:()=>x(!0),style:{cursor:"pointer"},children:E?F.jsx(ZS,{id:"notes",variant:"outlined",sx:{width:"100%"},value:g,onChange:C=>y(C.target.value),onBlur:()=>x(!1),autoFocus:!0}):F.jsx($a,{children:g})})]}),F.jsxs(rn,{sx:{display:"flex",justifyContent:"center",alignItems:"center",gap:2},children:[F.jsx(Ld,{variant:"outlined",color:"success",onClick:()=>S(),children:"Save"}),F.jsx(Ld,{variant:"outlined",color:"error",onClick:()=>r(i),children:"Delete"})]})]})}const X9={highlight:h9,overview:f9},K9={temporal:p9,relation:g9};function Q9(n){const{nodes:e,edges:t,setNodes:r,setEdges:i,onNodesChange:s,onEdgesChange:o,onConnect:l,selectedHighlightId:u,setSelectedHighlightId:d}=n,[h,f]=O.useState(!1),g=(_,S)=>{console.log("drag event",S.data)},y=(_,S)=>{h||!_||(u===S.id?d(null):d(S.id))},v=()=>{console.log("open Overview"),r(h?e.map(_=>({..._,type:"highlight"})):e.map(_=>({..._,type:"overview"}))),d(null),f(!h)},{fitView:w}=ov(),E=(_,S,C)=>{const k=new GP.graphlib.Graph().setDefaultEdgeLabel(()=>({}));return k.setGraph({rankdir:C.direction}),S.forEach(I=>k.setEdge(I.source,I.target)),_.forEach(I=>{var P,M;return k.setNode(I.id,{...I,width:((P=I.measured)==null?void 0:P.width)??0,height:((M=I.measured)==null?void 0:M.height)??0})}),GP.layout(k),{nodes:_.map(I=>{var R,D;const P=k.node(I.id),M=P.x-(((R=I.measured)==null?void 0:R.width)??0)/2,N=P.y-(((D=I.measured)==null?void 0:D.height)??0)/2;return{...I,position:{x:M,y:N}}}),edges:S}},x=O.useCallback(_=>{console.log(e);const S=E(e,t,{direction:_});r([...S.nodes]),i([...S.edges]),window.requestAnimationFrame(()=>{w()})},[e,t]);return O.useEffect(()=>{e.length>0&&x("TB")},[e.length]),F.jsxs(k3,{nodes:e,edges:t,onNodesChange:s,onEdgesChange:o,onConnect:l,onNodeDrag:g,onNodeClick:y,nodeTypes:X9,edgeTypes:K9,fitView:!0,style:{width:"100%",height:"100%"},children:[F.jsx(O3,{}),F.jsx(H3,{onFitView:()=>x("TB"),style:{color:"black"}}),F.jsx(eH,{}),F.jsx(wg,{position:"top-right",children:F.jsx(Mf,{onClick:v,children:h?F.jsx(uG,{}):F.jsx(dG,{})})})]})}function Z9(){const n=O.useContext(Mo);if(!n)throw new Error("PaperContext not found");const{nodes:e,edges:t,setNodes:r,setEdges:i,onNodesChange:s,onEdgesChange:o,onConnect:l,selectedHighlightId:u,setSelectedHighlightId:d}=n;return F.jsxs(rn,{style:{width:"100%",height:"100%",position:"relative"},children:[F.jsx(XI,{children:F.jsx(Q9,{style:{height:"auto"},nodes:e,edges:t,setNodes:r,setEdges:i,onNodesChange:s,onEdgesChange:o,onConnect:l,selectedHighlightId:u,setSelectedHighlightId:d})}),u&&F.jsx(rn,{style:{position:"absolute",bottom:0,left:0,width:"100%",height:"40%",backgroundColor:"white",borderTop:"1px solid #ccc",zIndex:5},children:F.jsx(Y9,{})})]})}const J9=()=>{const n=O.useContext(Mo);if(!n)throw new Error("PaperContext not found");const{isAddingNewRead:e,setIsAddingNewRead:t,createRead:r}=n,[i,s]=O.useState(""),[o,l]=O.useState(null),u=()=>{if(!i){alert("Please enter a title");return}if(!o){alert("Please select a color");return}r(i,o),d()},d=()=>{s(""),l(null),t(!1)},h=["#FFADAD","#FFD6A5","#FDFFB6","#CAFFBF","#9BF6FF","#A0C4FF","#BDB2FF","#FFC6FF"];return F.jsxs(rn,{sx:{display:"flex",flexDirection:"column",width:"100vw",height:"100vh"},children:[F.jsx(rn,{sx:{height:"8%",width:"100%",display:"flex"},children:F.jsx(pG,{})}),F.jsxs(rn,{sx:{display:"flex",flexDirection:"row",width:"100%",height:"92%"},children:[F.jsx(rn,{className:"panel paper-panel",children:F.jsx(kX,{})}),F.jsx(rn,{className:"panel graph-panel",children:F.jsx(Z9,{})})]}),F.jsxs(_V,{open:e,children:[F.jsx(zV,{children:"Create New Read"}),F.jsxs(OV,{sx:{p:3,display:"flex",flexDirection:"column",alignItems:"center"},children:[F.jsx(ZS,{label:"Title",value:i,onChange:f=>s(f.target.value),style:{padding:4}}),F.jsx(rn,{sx:{my:2,display:"flex",flexDirection:"row",alignItems:"center"},children:h.map(f=>F.jsx(rn,{sx:{width:20,height:20,backgroundColor:f,borderRadius:4,margin:1,border:f===o?"2px solid black":"none"},onClick:()=>l(f)},f))})]}),F.jsxs(TV,{children:[F.jsx(Ld,{variant:"text",color:"error",onClick:d,children:"Cancel"}),F.jsx(Ld,{variant:"text",onClick:u,children:"Create"})]})]})]})};function e7(){return F.jsx(nH,{children:F.jsx(J9,{})})}hM.createRoot(document.getElementById("root")).render(F.jsx(O.StrictMode,{children:F.jsx(e7,{})}));
