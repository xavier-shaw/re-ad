var Hz=Object.defineProperty;var JR=t=>{throw TypeError(t)};var Wz=(t,e,n)=>e in t?Hz(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Te=(t,e,n)=>Wz(t,typeof e!="symbol"?e+"":e,n),iS=(t,e,n)=>e.has(t)||JR("Cannot "+n);var v=(t,e,n)=>(iS(t,e,"read from private field"),n?n.call(t):e.get(t)),W=(t,e,n)=>e.has(t)?JR("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),j=(t,e,n,r)=>(iS(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),B=(t,e,n)=>(iS(t,e,"access private method"),n);var qr=(t,e,n,r)=>({set _(i){j(t,e,i,n)},get _(){return v(t,e,r)}});function Uz(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var lv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function as(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Vz(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var sS={exports:{}},bf={},oS={exports:{}},Qe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eT;function Gz(){if(eT)return Qe;eT=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),o=Symbol.for("react.context"),a=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.iterator;function p(Y){return Y===null||typeof Y!="object"?null:(Y=f&&Y[f]||Y["@@iterator"],typeof Y=="function"?Y:null)}var m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},y=Object.assign,b={};function E(Y,Z,X){this.props=Y,this.context=Z,this.refs=b,this.updater=X||m}E.prototype.isReactComponent={},E.prototype.setState=function(Y,Z){if(typeof Y!="object"&&typeof Y!="function"&&Y!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,Y,Z,"setState")},E.prototype.forceUpdate=function(Y){this.updater.enqueueForceUpdate(this,Y,"forceUpdate")};function x(){}x.prototype=E.prototype;function C(Y,Z,X){this.props=Y,this.context=Z,this.refs=b,this.updater=X||m}var S=C.prototype=new x;S.constructor=C,y(S,E.prototype),S.isPureReactComponent=!0;var _=Array.isArray,k=Object.prototype.hasOwnProperty,N={current:null},T={key:!0,ref:!0,__self:!0,__source:!0};function M(Y,Z,X){var Q,J={},ie=null,ne=null;if(Z!=null)for(Q in Z.ref!==void 0&&(ne=Z.ref),Z.key!==void 0&&(ie=""+Z.key),Z)k.call(Z,Q)&&!T.hasOwnProperty(Q)&&(J[Q]=Z[Q]);var oe=arguments.length-2;if(oe===1)J.children=X;else if(1<oe){for(var ue=Array(oe),fe=0;fe<oe;fe++)ue[fe]=arguments[fe+2];J.children=ue}if(Y&&Y.defaultProps)for(Q in oe=Y.defaultProps,oe)J[Q]===void 0&&(J[Q]=oe[Q]);return{$$typeof:t,type:Y,key:ie,ref:ne,props:J,_owner:N.current}}function O(Y,Z){return{$$typeof:t,type:Y.type,key:Z,ref:Y.ref,props:Y.props,_owner:Y._owner}}function R(Y){return typeof Y=="object"&&Y!==null&&Y.$$typeof===t}function F(Y){var Z={"=":"=0",":":"=2"};return"$"+Y.replace(/[=:]/g,function(X){return Z[X]})}var z=/\/+/g;function U(Y,Z){return typeof Y=="object"&&Y!==null&&Y.key!=null?F(""+Y.key):Z.toString(36)}function D(Y,Z,X,Q,J){var ie=typeof Y;(ie==="undefined"||ie==="boolean")&&(Y=null);var ne=!1;if(Y===null)ne=!0;else switch(ie){case"string":case"number":ne=!0;break;case"object":switch(Y.$$typeof){case t:case e:ne=!0}}if(ne)return ne=Y,J=J(ne),Y=Q===""?"."+U(ne,0):Q,_(J)?(X="",Y!=null&&(X=Y.replace(z,"$&/")+"/"),D(J,Z,X,"",function(fe){return fe})):J!=null&&(R(J)&&(J=O(J,X+(!J.key||ne&&ne.key===J.key?"":(""+J.key).replace(z,"$&/")+"/")+Y)),Z.push(J)),1;if(ne=0,Q=Q===""?".":Q+":",_(Y))for(var oe=0;oe<Y.length;oe++){ie=Y[oe];var ue=Q+U(ie,oe);ne+=D(ie,Z,X,ue,J)}else if(ue=p(Y),typeof ue=="function")for(Y=ue.call(Y),oe=0;!(ie=Y.next()).done;)ie=ie.value,ue=Q+U(ie,oe++),ne+=D(ie,Z,X,ue,J);else if(ie==="object")throw Z=String(Y),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys(Y).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.");return ne}function V(Y,Z,X){if(Y==null)return Y;var Q=[],J=0;return D(Y,Q,"","",function(ie){return Z.call(X,ie,J++)}),Q}function H(Y){if(Y._status===-1){var Z=Y._result;Z=Z(),Z.then(function(X){(Y._status===0||Y._status===-1)&&(Y._status=1,Y._result=X)},function(X){(Y._status===0||Y._status===-1)&&(Y._status=2,Y._result=X)}),Y._status===-1&&(Y._status=0,Y._result=Z)}if(Y._status===1)return Y._result.default;throw Y._result}var K={current:null},q={transition:null},G={ReactCurrentDispatcher:K,ReactCurrentBatchConfig:q,ReactCurrentOwner:N};function te(){throw Error("act(...) is not supported in production builds of React.")}return Qe.Children={map:V,forEach:function(Y,Z,X){V(Y,function(){Z.apply(this,arguments)},X)},count:function(Y){var Z=0;return V(Y,function(){Z++}),Z},toArray:function(Y){return V(Y,function(Z){return Z})||[]},only:function(Y){if(!R(Y))throw Error("React.Children.only expected to receive a single React element child.");return Y}},Qe.Component=E,Qe.Fragment=n,Qe.Profiler=i,Qe.PureComponent=C,Qe.StrictMode=r,Qe.Suspense=c,Qe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=G,Qe.act=te,Qe.cloneElement=function(Y,Z,X){if(Y==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+Y+".");var Q=y({},Y.props),J=Y.key,ie=Y.ref,ne=Y._owner;if(Z!=null){if(Z.ref!==void 0&&(ie=Z.ref,ne=N.current),Z.key!==void 0&&(J=""+Z.key),Y.type&&Y.type.defaultProps)var oe=Y.type.defaultProps;for(ue in Z)k.call(Z,ue)&&!T.hasOwnProperty(ue)&&(Q[ue]=Z[ue]===void 0&&oe!==void 0?oe[ue]:Z[ue])}var ue=arguments.length-2;if(ue===1)Q.children=X;else if(1<ue){oe=Array(ue);for(var fe=0;fe<ue;fe++)oe[fe]=arguments[fe+2];Q.children=oe}return{$$typeof:t,type:Y.type,key:J,ref:ie,props:Q,_owner:ne}},Qe.createContext=function(Y){return Y={$$typeof:o,_currentValue:Y,_currentValue2:Y,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},Y.Provider={$$typeof:s,_context:Y},Y.Consumer=Y},Qe.createElement=M,Qe.createFactory=function(Y){var Z=M.bind(null,Y);return Z.type=Y,Z},Qe.createRef=function(){return{current:null}},Qe.forwardRef=function(Y){return{$$typeof:a,render:Y}},Qe.isValidElement=R,Qe.lazy=function(Y){return{$$typeof:h,_payload:{_status:-1,_result:Y},_init:H}},Qe.memo=function(Y,Z){return{$$typeof:d,type:Y,compare:Z===void 0?null:Z}},Qe.startTransition=function(Y){var Z=q.transition;q.transition={};try{Y()}finally{q.transition=Z}},Qe.unstable_act=te,Qe.useCallback=function(Y,Z){return K.current.useCallback(Y,Z)},Qe.useContext=function(Y){return K.current.useContext(Y)},Qe.useDebugValue=function(){},Qe.useDeferredValue=function(Y){return K.current.useDeferredValue(Y)},Qe.useEffect=function(Y,Z){return K.current.useEffect(Y,Z)},Qe.useId=function(){return K.current.useId()},Qe.useImperativeHandle=function(Y,Z,X){return K.current.useImperativeHandle(Y,Z,X)},Qe.useInsertionEffect=function(Y,Z){return K.current.useInsertionEffect(Y,Z)},Qe.useLayoutEffect=function(Y,Z){return K.current.useLayoutEffect(Y,Z)},Qe.useMemo=function(Y,Z){return K.current.useMemo(Y,Z)},Qe.useReducer=function(Y,Z,X){return K.current.useReducer(Y,Z,X)},Qe.useRef=function(Y){return K.current.useRef(Y)},Qe.useState=function(Y){return K.current.useState(Y)},Qe.useSyncExternalStore=function(Y,Z,X){return K.current.useSyncExternalStore(Y,Z,X)},Qe.useTransition=function(){return K.current.useTransition()},Qe.version="18.3.1",Qe}var tT;function uu(){return tT||(tT=1,oS.exports=Gz()),oS.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nT;function qz(){if(nT)return bf;nT=1;var t=uu(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function o(a,c,d){var h,f={},p=null,m=null;d!==void 0&&(p=""+d),c.key!==void 0&&(p=""+c.key),c.ref!==void 0&&(m=c.ref);for(h in c)r.call(c,h)&&!s.hasOwnProperty(h)&&(f[h]=c[h]);if(a&&a.defaultProps)for(h in c=a.defaultProps,c)f[h]===void 0&&(f[h]=c[h]);return{$$typeof:e,type:a,key:p,ref:m,props:f,_owner:i.current}}return bf.Fragment=n,bf.jsx=o,bf.jsxs=o,bf}var rT;function Yz(){return rT||(rT=1,sS.exports=qz()),sS.exports}var L=Yz(),I=uu();const Ce=as(I),Q1=Uz({__proto__:null,default:Ce},[I]);var cv={},aS={exports:{}},Rr={},lS={exports:{}},cS={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iT;function Xz(){return iT||(iT=1,function(t){function e(q,G){var te=q.length;q.push(G);e:for(;0<te;){var Y=te-1>>>1,Z=q[Y];if(0<i(Z,G))q[Y]=G,q[te]=Z,te=Y;else break e}}function n(q){return q.length===0?null:q[0]}function r(q){if(q.length===0)return null;var G=q[0],te=q.pop();if(te!==G){q[0]=te;e:for(var Y=0,Z=q.length,X=Z>>>1;Y<X;){var Q=2*(Y+1)-1,J=q[Q],ie=Q+1,ne=q[ie];if(0>i(J,te))ie<Z&&0>i(ne,J)?(q[Y]=ne,q[ie]=te,Y=ie):(q[Y]=J,q[Q]=te,Y=Q);else if(ie<Z&&0>i(ne,te))q[Y]=ne,q[ie]=te,Y=ie;else break e}}return G}function i(q,G){var te=q.sortIndex-G.sortIndex;return te!==0?te:q.id-G.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var c=[],d=[],h=1,f=null,p=3,m=!1,y=!1,b=!1,E=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(q){for(var G=n(d);G!==null;){if(G.callback===null)r(d);else if(G.startTime<=q)r(d),G.sortIndex=G.expirationTime,e(c,G);else break;G=n(d)}}function _(q){if(b=!1,S(q),!y)if(n(c)!==null)y=!0,H(k);else{var G=n(d);G!==null&&K(_,G.startTime-q)}}function k(q,G){y=!1,b&&(b=!1,x(M),M=-1),m=!0;var te=p;try{for(S(G),f=n(c);f!==null&&(!(f.expirationTime>G)||q&&!F());){var Y=f.callback;if(typeof Y=="function"){f.callback=null,p=f.priorityLevel;var Z=Y(f.expirationTime<=G);G=t.unstable_now(),typeof Z=="function"?f.callback=Z:f===n(c)&&r(c),S(G)}else r(c);f=n(c)}if(f!==null)var X=!0;else{var Q=n(d);Q!==null&&K(_,Q.startTime-G),X=!1}return X}finally{f=null,p=te,m=!1}}var N=!1,T=null,M=-1,O=5,R=-1;function F(){return!(t.unstable_now()-R<O)}function z(){if(T!==null){var q=t.unstable_now();R=q;var G=!0;try{G=T(!0,q)}finally{G?U():(N=!1,T=null)}}else N=!1}var U;if(typeof C=="function")U=function(){C(z)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,V=D.port2;D.port1.onmessage=z,U=function(){V.postMessage(null)}}else U=function(){E(z,0)};function H(q){T=q,N||(N=!0,U())}function K(q,G){M=E(function(){q(t.unstable_now())},G)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(q){q.callback=null},t.unstable_continueExecution=function(){y||m||(y=!0,H(k))},t.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<q?Math.floor(1e3/q):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(q){switch(p){case 1:case 2:case 3:var G=3;break;default:G=p}var te=p;p=G;try{return q()}finally{p=te}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(q,G){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var te=p;p=q;try{return G()}finally{p=te}},t.unstable_scheduleCallback=function(q,G,te){var Y=t.unstable_now();switch(typeof te=="object"&&te!==null?(te=te.delay,te=typeof te=="number"&&0<te?Y+te:Y):te=Y,q){case 1:var Z=-1;break;case 2:Z=250;break;case 5:Z=1073741823;break;case 4:Z=1e4;break;default:Z=5e3}return Z=te+Z,q={id:h++,callback:G,priorityLevel:q,startTime:te,expirationTime:Z,sortIndex:-1},te>Y?(q.sortIndex=te,e(d,q),n(c)===null&&q===n(d)&&(b?(x(M),M=-1):b=!0,K(_,te-Y))):(q.sortIndex=Z,e(c,q),y||m||(y=!0,H(k))),q},t.unstable_shouldYield=F,t.unstable_wrapCallback=function(q){var G=p;return function(){var te=p;p=G;try{return q.apply(this,arguments)}finally{p=te}}}}(cS)),cS}var sT;function Kz(){return sT||(sT=1,lS.exports=Xz()),lS.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oT;function Qz(){if(oT)return Rr;oT=1;var t=uu(),e=Kz();function n(l){for(var u="https://reactjs.org/docs/error-decoder.html?invariant="+l,g=1;g<arguments.length;g++)u+="&args[]="+encodeURIComponent(arguments[g]);return"Minified React error #"+l+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function s(l,u){o(l,u),o(l+"Capture",u)}function o(l,u){for(i[l]=u,l=0;l<u.length;l++)r.add(u[l])}var a=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),c=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h={},f={};function p(l){return c.call(f,l)?!0:c.call(h,l)?!1:d.test(l)?f[l]=!0:(h[l]=!0,!1)}function m(l,u,g,w){if(g!==null&&g.type===0)return!1;switch(typeof u){case"function":case"symbol":return!0;case"boolean":return w?!1:g!==null?!g.acceptsBooleans:(l=l.toLowerCase().slice(0,5),l!=="data-"&&l!=="aria-");default:return!1}}function y(l,u,g,w){if(u===null||typeof u>"u"||m(l,u,g,w))return!0;if(w)return!1;if(g!==null)switch(g.type){case 3:return!u;case 4:return u===!1;case 5:return isNaN(u);case 6:return isNaN(u)||1>u}return!1}function b(l,u,g,w,A,P,$){this.acceptsBooleans=u===2||u===3||u===4,this.attributeName=w,this.attributeNamespace=A,this.mustUseProperty=g,this.propertyName=l,this.type=u,this.sanitizeURL=P,this.removeEmptyString=$}var E={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(l){E[l]=new b(l,0,!1,l,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(l){var u=l[0];E[u]=new b(u,1,!1,l[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(l){E[l]=new b(l,2,!1,l.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(l){E[l]=new b(l,2,!1,l,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(l){E[l]=new b(l,3,!1,l.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(l){E[l]=new b(l,3,!0,l,null,!1,!1)}),["capture","download"].forEach(function(l){E[l]=new b(l,4,!1,l,null,!1,!1)}),["cols","rows","size","span"].forEach(function(l){E[l]=new b(l,6,!1,l,null,!1,!1)}),["rowSpan","start"].forEach(function(l){E[l]=new b(l,5,!1,l.toLowerCase(),null,!1,!1)});var x=/[\-:]([a-z])/g;function C(l){return l[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(l){var u=l.replace(x,C);E[u]=new b(u,1,!1,l,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(l){var u=l.replace(x,C);E[u]=new b(u,1,!1,l,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(l){var u=l.replace(x,C);E[u]=new b(u,1,!1,l,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(l){E[l]=new b(l,1,!1,l.toLowerCase(),null,!1,!1)}),E.xlinkHref=new b("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(l){E[l]=new b(l,1,!1,l.toLowerCase(),null,!0,!0)});function S(l,u,g,w){var A=E.hasOwnProperty(u)?E[u]:null;(A!==null?A.type!==0:w||!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(y(u,g,A,w)&&(g=null),w||A===null?p(u)&&(g===null?l.removeAttribute(u):l.setAttribute(u,""+g)):A.mustUseProperty?l[A.propertyName]=g===null?A.type===3?!1:"":g:(u=A.attributeName,w=A.attributeNamespace,g===null?l.removeAttribute(u):(A=A.type,g=A===3||A===4&&g===!0?"":""+g,w?l.setAttributeNS(w,u,g):l.setAttribute(u,g))))}var _=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,k=Symbol.for("react.element"),N=Symbol.for("react.portal"),T=Symbol.for("react.fragment"),M=Symbol.for("react.strict_mode"),O=Symbol.for("react.profiler"),R=Symbol.for("react.provider"),F=Symbol.for("react.context"),z=Symbol.for("react.forward_ref"),U=Symbol.for("react.suspense"),D=Symbol.for("react.suspense_list"),V=Symbol.for("react.memo"),H=Symbol.for("react.lazy"),K=Symbol.for("react.offscreen"),q=Symbol.iterator;function G(l){return l===null||typeof l!="object"?null:(l=q&&l[q]||l["@@iterator"],typeof l=="function"?l:null)}var te=Object.assign,Y;function Z(l){if(Y===void 0)try{throw Error()}catch(g){var u=g.stack.trim().match(/\n( *(at )?)/);Y=u&&u[1]||""}return`
`+Y+l}var X=!1;function Q(l,u){if(!l||X)return"";X=!0;var g=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(u)if(u=function(){throw Error()},Object.defineProperty(u.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(u,[])}catch(ce){var w=ce}Reflect.construct(l,[],u)}else{try{u.call()}catch(ce){w=ce}l.call(u.prototype)}else{try{throw Error()}catch(ce){w=ce}l()}}catch(ce){if(ce&&w&&typeof ce.stack=="string"){for(var A=ce.stack.split(`
`),P=w.stack.split(`
`),$=A.length-1,ee=P.length-1;1<=$&&0<=ee&&A[$]!==P[ee];)ee--;for(;1<=$&&0<=ee;$--,ee--)if(A[$]!==P[ee]){if($!==1||ee!==1)do if($--,ee--,0>ee||A[$]!==P[ee]){var re=`
`+A[$].replace(" at new "," at ");return l.displayName&&re.includes("<anonymous>")&&(re=re.replace("<anonymous>",l.displayName)),re}while(1<=$&&0<=ee);break}}}finally{X=!1,Error.prepareStackTrace=g}return(l=l?l.displayName||l.name:"")?Z(l):""}function J(l){switch(l.tag){case 5:return Z(l.type);case 16:return Z("Lazy");case 13:return Z("Suspense");case 19:return Z("SuspenseList");case 0:case 2:case 15:return l=Q(l.type,!1),l;case 11:return l=Q(l.type.render,!1),l;case 1:return l=Q(l.type,!0),l;default:return""}}function ie(l){if(l==null)return null;if(typeof l=="function")return l.displayName||l.name||null;if(typeof l=="string")return l;switch(l){case T:return"Fragment";case N:return"Portal";case O:return"Profiler";case M:return"StrictMode";case U:return"Suspense";case D:return"SuspenseList"}if(typeof l=="object")switch(l.$$typeof){case F:return(l.displayName||"Context")+".Consumer";case R:return(l._context.displayName||"Context")+".Provider";case z:var u=l.render;return l=l.displayName,l||(l=u.displayName||u.name||"",l=l!==""?"ForwardRef("+l+")":"ForwardRef"),l;case V:return u=l.displayName||null,u!==null?u:ie(l.type)||"Memo";case H:u=l._payload,l=l._init;try{return ie(l(u))}catch{}}return null}function ne(l){var u=l.type;switch(l.tag){case 24:return"Cache";case 9:return(u.displayName||"Context")+".Consumer";case 10:return(u._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return l=u.render,l=l.displayName||l.name||"",u.displayName||(l!==""?"ForwardRef("+l+")":"ForwardRef");case 7:return"Fragment";case 5:return u;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ie(u);case 8:return u===M?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof u=="function")return u.displayName||u.name||null;if(typeof u=="string")return u}return null}function oe(l){switch(typeof l){case"boolean":case"number":case"string":case"undefined":return l;case"object":return l;default:return""}}function ue(l){var u=l.type;return(l=l.nodeName)&&l.toLowerCase()==="input"&&(u==="checkbox"||u==="radio")}function fe(l){var u=ue(l)?"checked":"value",g=Object.getOwnPropertyDescriptor(l.constructor.prototype,u),w=""+l[u];if(!l.hasOwnProperty(u)&&typeof g<"u"&&typeof g.get=="function"&&typeof g.set=="function"){var A=g.get,P=g.set;return Object.defineProperty(l,u,{configurable:!0,get:function(){return A.call(this)},set:function($){w=""+$,P.call(this,$)}}),Object.defineProperty(l,u,{enumerable:g.enumerable}),{getValue:function(){return w},setValue:function($){w=""+$},stopTracking:function(){l._valueTracker=null,delete l[u]}}}}function ye(l){l._valueTracker||(l._valueTracker=fe(l))}function pe(l){if(!l)return!1;var u=l._valueTracker;if(!u)return!0;var g=u.getValue(),w="";return l&&(w=ue(l)?l.checked?"true":"false":l.value),l=w,l!==g?(u.setValue(l),!0):!1}function Se(l){if(l=l||(typeof document<"u"?document:void 0),typeof l>"u")return null;try{return l.activeElement||l.body}catch{return l.body}}function xe(l,u){var g=u.checked;return te({},u,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:g??l._wrapperState.initialChecked})}function Ge(l,u){var g=u.defaultValue==null?"":u.defaultValue,w=u.checked!=null?u.checked:u.defaultChecked;g=oe(u.value!=null?u.value:g),l._wrapperState={initialChecked:w,initialValue:g,controlled:u.type==="checkbox"||u.type==="radio"?u.checked!=null:u.value!=null}}function pt(l,u){u=u.checked,u!=null&&S(l,"checked",u,!1)}function Gt(l,u){pt(l,u);var g=oe(u.value),w=u.type;if(g!=null)w==="number"?(g===0&&l.value===""||l.value!=g)&&(l.value=""+g):l.value!==""+g&&(l.value=""+g);else if(w==="submit"||w==="reset"){l.removeAttribute("value");return}u.hasOwnProperty("value")?Tn(l,u.type,g):u.hasOwnProperty("defaultValue")&&Tn(l,u.type,oe(u.defaultValue)),u.checked==null&&u.defaultChecked!=null&&(l.defaultChecked=!!u.defaultChecked)}function zt(l,u,g){if(u.hasOwnProperty("value")||u.hasOwnProperty("defaultValue")){var w=u.type;if(!(w!=="submit"&&w!=="reset"||u.value!==void 0&&u.value!==null))return;u=""+l._wrapperState.initialValue,g||u===l.value||(l.value=u),l.defaultValue=u}g=l.name,g!==""&&(l.name=""),l.defaultChecked=!!l._wrapperState.initialChecked,g!==""&&(l.name=g)}function Tn(l,u,g){(u!=="number"||Se(l.ownerDocument)!==l)&&(g==null?l.defaultValue=""+l._wrapperState.initialValue:l.defaultValue!==""+g&&(l.defaultValue=""+g))}var Nt=Array.isArray;function wt(l,u,g,w){if(l=l.options,u){u={};for(var A=0;A<g.length;A++)u["$"+g[A]]=!0;for(g=0;g<l.length;g++)A=u.hasOwnProperty("$"+l[g].value),l[g].selected!==A&&(l[g].selected=A),A&&w&&(l[g].defaultSelected=!0)}else{for(g=""+oe(g),u=null,A=0;A<l.length;A++){if(l[A].value===g){l[A].selected=!0,w&&(l[A].defaultSelected=!0);return}u!==null||l[A].disabled||(u=l[A])}u!==null&&(u.selected=!0)}}function De(l,u){if(u.dangerouslySetInnerHTML!=null)throw Error(n(91));return te({},u,{value:void 0,defaultValue:void 0,children:""+l._wrapperState.initialValue})}function ar(l,u){var g=u.value;if(g==null){if(g=u.children,u=u.defaultValue,g!=null){if(u!=null)throw Error(n(92));if(Nt(g)){if(1<g.length)throw Error(n(93));g=g[0]}u=g}u==null&&(u=""),g=u}l._wrapperState={initialValue:oe(g)}}function an(l,u){var g=oe(u.value),w=oe(u.defaultValue);g!=null&&(g=""+g,g!==l.value&&(l.value=g),u.defaultValue==null&&l.defaultValue!==g&&(l.defaultValue=g)),w!=null&&(l.defaultValue=""+w)}function lr(l){var u=l.textContent;u===l._wrapperState.initialValue&&u!==""&&u!==null&&(l.value=u)}function xr(l){switch(l){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Sr(l,u){return l==null||l==="http://www.w3.org/1999/xhtml"?xr(u):l==="http://www.w3.org/2000/svg"&&u==="foreignObject"?"http://www.w3.org/1999/xhtml":l}var jr,Br=function(l){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(u,g,w,A){MSApp.execUnsafeLocalFunction(function(){return l(u,g,w,A)})}:l}(function(l,u){if(l.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in l)l.innerHTML=u;else{for(jr=jr||document.createElement("div"),jr.innerHTML="<svg>"+u.valueOf().toString()+"</svg>",u=jr.firstChild;l.firstChild;)l.removeChild(l.firstChild);for(;u.firstChild;)l.appendChild(u.firstChild)}});function cr(l,u){if(u){var g=l.firstChild;if(g&&g===l.lastChild&&g.nodeType===3){g.nodeValue=u;return}}l.textContent=u}var ct={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ds=["Webkit","ms","Moz","O"];Object.keys(ct).forEach(function(l){ds.forEach(function(u){u=u+l.charAt(0).toUpperCase()+l.substring(1),ct[u]=ct[l]})});function hs(l,u,g){return u==null||typeof u=="boolean"||u===""?"":g||typeof u!="number"||u===0||ct.hasOwnProperty(l)&&ct[l]?(""+u).trim():u+"px"}function kl(l,u){l=l.style;for(var g in u)if(u.hasOwnProperty(g)){var w=g.indexOf("--")===0,A=hs(g,u[g],w);g==="float"&&(g="cssFloat"),w?l.setProperty(g,A):l[g]=A}}var He=te({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function gt(l,u){if(u){if(He[l]&&(u.children!=null||u.dangerouslySetInnerHTML!=null))throw Error(n(137,l));if(u.dangerouslySetInnerHTML!=null){if(u.children!=null)throw Error(n(60));if(typeof u.dangerouslySetInnerHTML!="object"||!("__html"in u.dangerouslySetInnerHTML))throw Error(n(61))}if(u.style!=null&&typeof u.style!="object")throw Error(n(62))}}function qt(l,u){if(l.indexOf("-")===-1)return typeof u.is=="string";switch(l){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var di=null;function ha(l){return l=l.target||l.srcElement||window,l.correspondingUseElement&&(l=l.correspondingUseElement),l.nodeType===3?l.parentNode:l}var Mh=null,fa=null,pa=null;function Ym(l){if(l=rf(l)){if(typeof Mh!="function")throw Error(n(280));var u=l.stateNode;u&&(u=Ey(u),Mh(l.stateNode,l.type,u))}}function Oh(l){fa?pa?pa.push(l):pa=[l]:fa=l}function Xm(){if(fa){var l=fa,u=pa;if(pa=fa=null,Ym(l),u)for(l=0;l<u.length;l++)Ym(u[l])}}function Km(l,u){return l(u)}function Qm(){}var Lh=!1;function Zm(l,u,g){if(Lh)return l(u,g);Lh=!0;try{return Km(l,u,g)}finally{Lh=!1,(fa!==null||pa!==null)&&(Qm(),Xm())}}function Rl(l,u){var g=l.stateNode;if(g===null)return null;var w=Ey(g);if(w===null)return null;g=w[u];e:switch(u){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(w=!w.disabled)||(l=l.type,w=!(l==="button"||l==="input"||l==="select"||l==="textarea")),l=!w;break e;default:l=!1}if(l)return null;if(g&&typeof g!="function")throw Error(n(231,u,typeof g));return g}var Dh=!1;if(a)try{var Tl={};Object.defineProperty(Tl,"passive",{get:function(){Dh=!0}}),window.addEventListener("test",Tl,Tl),window.removeEventListener("test",Tl,Tl)}catch{Dh=!1}function fw(l,u,g,w,A,P,$,ee,re){var ce=Array.prototype.slice.call(arguments,3);try{u.apply(g,ce)}catch(me){this.onError(me)}}var Pl=!1,vu=null,bu=!1,Fh=null,pw={onError:function(l){Pl=!0,vu=l}};function gw(l,u,g,w,A,P,$,ee,re){Pl=!1,vu=null,fw.apply(pw,arguments)}function Jm(l,u,g,w,A,P,$,ee,re){if(gw.apply(this,arguments),Pl){if(Pl){var ce=vu;Pl=!1,vu=null}else throw Error(n(198));bu||(bu=!0,Fh=ce)}}function fs(l){var u=l,g=l;if(l.alternate)for(;u.return;)u=u.return;else{l=u;do u=l,(u.flags&4098)!==0&&(g=u.return),l=u.return;while(l)}return u.tag===3?g:null}function ey(l){if(l.tag===13){var u=l.memoizedState;if(u===null&&(l=l.alternate,l!==null&&(u=l.memoizedState)),u!==null)return u.dehydrated}return null}function ty(l){if(fs(l)!==l)throw Error(n(188))}function mw(l){var u=l.alternate;if(!u){if(u=fs(l),u===null)throw Error(n(188));return u!==l?null:l}for(var g=l,w=u;;){var A=g.return;if(A===null)break;var P=A.alternate;if(P===null){if(w=A.return,w!==null){g=w;continue}break}if(A.child===P.child){for(P=A.child;P;){if(P===g)return ty(A),l;if(P===w)return ty(A),u;P=P.sibling}throw Error(n(188))}if(g.return!==w.return)g=A,w=P;else{for(var $=!1,ee=A.child;ee;){if(ee===g){$=!0,g=A,w=P;break}if(ee===w){$=!0,w=A,g=P;break}ee=ee.sibling}if(!$){for(ee=P.child;ee;){if(ee===g){$=!0,g=P,w=A;break}if(ee===w){$=!0,w=P,g=A;break}ee=ee.sibling}if(!$)throw Error(n(189))}}if(g.alternate!==w)throw Error(n(190))}if(g.tag!==3)throw Error(n(188));return g.stateNode.current===g?l:u}function ny(l){return l=mw(l),l!==null?ry(l):null}function ry(l){if(l.tag===5||l.tag===6)return l;for(l=l.child;l!==null;){var u=ry(l);if(u!==null)return u;l=l.sibling}return null}var iy=e.unstable_scheduleCallback,sy=e.unstable_cancelCallback,oy=e.unstable_shouldYield,yw=e.unstable_requestPaint,Yt=e.unstable_now,vw=e.unstable_getCurrentPriorityLevel,$h=e.unstable_ImmediatePriority,ay=e.unstable_UserBlockingPriority,wu=e.unstable_NormalPriority,bw=e.unstable_LowPriority,zh=e.unstable_IdlePriority,xu=null,hi=null;function ww(l){if(hi&&typeof hi.onCommitFiberRoot=="function")try{hi.onCommitFiberRoot(xu,l,void 0,(l.current.flags&128)===128)}catch{}}var Hr=Math.clz32?Math.clz32:Ew,xw=Math.log,Sw=Math.LN2;function Ew(l){return l>>>=0,l===0?32:31-(xw(l)/Sw|0)|0}var no=64,Su=4194304;function Il(l){switch(l&-l){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return l&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return l}}function ga(l,u){var g=l.pendingLanes;if(g===0)return 0;var w=0,A=l.suspendedLanes,P=l.pingedLanes,$=g&268435455;if($!==0){var ee=$&~A;ee!==0?w=Il(ee):(P&=$,P!==0&&(w=Il(P)))}else $=g&~A,$!==0?w=Il($):P!==0&&(w=Il(P));if(w===0)return 0;if(u!==0&&u!==w&&(u&A)===0&&(A=w&-w,P=u&-u,A>=P||A===16&&(P&4194240)!==0))return u;if((w&4)!==0&&(w|=g&16),u=l.entangledLanes,u!==0)for(l=l.entanglements,u&=w;0<u;)g=31-Hr(u),A=1<<g,w|=l[g],u&=~A;return w}function Cw(l,u){switch(l){case 1:case 2:case 4:return u+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function _w(l,u){for(var g=l.suspendedLanes,w=l.pingedLanes,A=l.expirationTimes,P=l.pendingLanes;0<P;){var $=31-Hr(P),ee=1<<$,re=A[$];re===-1?((ee&g)===0||(ee&w)!==0)&&(A[$]=Cw(ee,u)):re<=u&&(l.expiredLanes|=ee),P&=~ee}}function Eu(l){return l=l.pendingLanes&-1073741825,l!==0?l:l&1073741824?1073741824:0}function PA(){var l=no;return no<<=1,(no&4194240)===0&&(no=64),l}function Aw(l){for(var u=[],g=0;31>g;g++)u.push(l);return u}function jh(l,u,g){l.pendingLanes|=u,u!==536870912&&(l.suspendedLanes=0,l.pingedLanes=0),l=l.eventTimes,u=31-Hr(u),l[u]=g}function c5(l,u){var g=l.pendingLanes&~u;l.pendingLanes=u,l.suspendedLanes=0,l.pingedLanes=0,l.expiredLanes&=u,l.mutableReadLanes&=u,l.entangledLanes&=u,u=l.entanglements;var w=l.eventTimes;for(l=l.expirationTimes;0<g;){var A=31-Hr(g),P=1<<A;u[A]=0,w[A]=-1,l[A]=-1,g&=~P}}function kw(l,u){var g=l.entangledLanes|=u;for(l=l.entanglements;g;){var w=31-Hr(g),A=1<<w;A&u|l[w]&u&&(l[w]|=u),g&=~A}}var Et=0;function IA(l){return l&=-l,1<l?4<l?(l&268435455)!==0?16:536870912:4:1}var NA,Rw,MA,OA,LA,Tw=!1,ly=[],ma=null,ya=null,va=null,Bh=new Map,Hh=new Map,ba=[],u5="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function DA(l,u){switch(l){case"focusin":case"focusout":ma=null;break;case"dragenter":case"dragleave":ya=null;break;case"mouseover":case"mouseout":va=null;break;case"pointerover":case"pointerout":Bh.delete(u.pointerId);break;case"gotpointercapture":case"lostpointercapture":Hh.delete(u.pointerId)}}function Wh(l,u,g,w,A,P){return l===null||l.nativeEvent!==P?(l={blockedOn:u,domEventName:g,eventSystemFlags:w,nativeEvent:P,targetContainers:[A]},u!==null&&(u=rf(u),u!==null&&Rw(u)),l):(l.eventSystemFlags|=w,u=l.targetContainers,A!==null&&u.indexOf(A)===-1&&u.push(A),l)}function d5(l,u,g,w,A){switch(u){case"focusin":return ma=Wh(ma,l,u,g,w,A),!0;case"dragenter":return ya=Wh(ya,l,u,g,w,A),!0;case"mouseover":return va=Wh(va,l,u,g,w,A),!0;case"pointerover":var P=A.pointerId;return Bh.set(P,Wh(Bh.get(P)||null,l,u,g,w,A)),!0;case"gotpointercapture":return P=A.pointerId,Hh.set(P,Wh(Hh.get(P)||null,l,u,g,w,A)),!0}return!1}function FA(l){var u=Nl(l.target);if(u!==null){var g=fs(u);if(g!==null){if(u=g.tag,u===13){if(u=ey(g),u!==null){l.blockedOn=u,LA(l.priority,function(){MA(g)});return}}else if(u===3&&g.stateNode.current.memoizedState.isDehydrated){l.blockedOn=g.tag===3?g.stateNode.containerInfo:null;return}}}l.blockedOn=null}function cy(l){if(l.blockedOn!==null)return!1;for(var u=l.targetContainers;0<u.length;){var g=Iw(l.domEventName,l.eventSystemFlags,u[0],l.nativeEvent);if(g===null){g=l.nativeEvent;var w=new g.constructor(g.type,g);di=w,g.target.dispatchEvent(w),di=null}else return u=rf(g),u!==null&&Rw(u),l.blockedOn=g,!1;u.shift()}return!0}function $A(l,u,g){cy(l)&&g.delete(u)}function h5(){Tw=!1,ma!==null&&cy(ma)&&(ma=null),ya!==null&&cy(ya)&&(ya=null),va!==null&&cy(va)&&(va=null),Bh.forEach($A),Hh.forEach($A)}function Uh(l,u){l.blockedOn===u&&(l.blockedOn=null,Tw||(Tw=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,h5)))}function Vh(l){function u(A){return Uh(A,l)}if(0<ly.length){Uh(ly[0],l);for(var g=1;g<ly.length;g++){var w=ly[g];w.blockedOn===l&&(w.blockedOn=null)}}for(ma!==null&&Uh(ma,l),ya!==null&&Uh(ya,l),va!==null&&Uh(va,l),Bh.forEach(u),Hh.forEach(u),g=0;g<ba.length;g++)w=ba[g],w.blockedOn===l&&(w.blockedOn=null);for(;0<ba.length&&(g=ba[0],g.blockedOn===null);)FA(g),g.blockedOn===null&&ba.shift()}var Cu=_.ReactCurrentBatchConfig,uy=!0;function f5(l,u,g,w){var A=Et,P=Cu.transition;Cu.transition=null;try{Et=1,Pw(l,u,g,w)}finally{Et=A,Cu.transition=P}}function p5(l,u,g,w){var A=Et,P=Cu.transition;Cu.transition=null;try{Et=4,Pw(l,u,g,w)}finally{Et=A,Cu.transition=P}}function Pw(l,u,g,w){if(uy){var A=Iw(l,u,g,w);if(A===null)Yw(l,u,w,dy,g),DA(l,w);else if(d5(A,l,u,g,w))w.stopPropagation();else if(DA(l,w),u&4&&-1<u5.indexOf(l)){for(;A!==null;){var P=rf(A);if(P!==null&&NA(P),P=Iw(l,u,g,w),P===null&&Yw(l,u,w,dy,g),P===A)break;A=P}A!==null&&w.stopPropagation()}else Yw(l,u,w,null,g)}}var dy=null;function Iw(l,u,g,w){if(dy=null,l=ha(w),l=Nl(l),l!==null)if(u=fs(l),u===null)l=null;else if(g=u.tag,g===13){if(l=ey(u),l!==null)return l;l=null}else if(g===3){if(u.stateNode.current.memoizedState.isDehydrated)return u.tag===3?u.stateNode.containerInfo:null;l=null}else u!==l&&(l=null);return dy=l,null}function zA(l){switch(l){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(vw()){case $h:return 1;case ay:return 4;case wu:case bw:return 16;case zh:return 536870912;default:return 16}default:return 16}}var wa=null,Nw=null,hy=null;function jA(){if(hy)return hy;var l,u=Nw,g=u.length,w,A="value"in wa?wa.value:wa.textContent,P=A.length;for(l=0;l<g&&u[l]===A[l];l++);var $=g-l;for(w=1;w<=$&&u[g-w]===A[P-w];w++);return hy=A.slice(l,1<w?1-w:void 0)}function fy(l){var u=l.keyCode;return"charCode"in l?(l=l.charCode,l===0&&u===13&&(l=13)):l=u,l===10&&(l=13),32<=l||l===13?l:0}function py(){return!0}function BA(){return!1}function Wr(l){function u(g,w,A,P,$){this._reactName=g,this._targetInst=A,this.type=w,this.nativeEvent=P,this.target=$,this.currentTarget=null;for(var ee in l)l.hasOwnProperty(ee)&&(g=l[ee],this[ee]=g?g(P):P[ee]);return this.isDefaultPrevented=(P.defaultPrevented!=null?P.defaultPrevented:P.returnValue===!1)?py:BA,this.isPropagationStopped=BA,this}return te(u.prototype,{preventDefault:function(){this.defaultPrevented=!0;var g=this.nativeEvent;g&&(g.preventDefault?g.preventDefault():typeof g.returnValue!="unknown"&&(g.returnValue=!1),this.isDefaultPrevented=py)},stopPropagation:function(){var g=this.nativeEvent;g&&(g.stopPropagation?g.stopPropagation():typeof g.cancelBubble!="unknown"&&(g.cancelBubble=!0),this.isPropagationStopped=py)},persist:function(){},isPersistent:py}),u}var _u={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(l){return l.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Mw=Wr(_u),Gh=te({},_u,{view:0,detail:0}),g5=Wr(Gh),Ow,Lw,qh,gy=te({},Gh,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Fw,button:0,buttons:0,relatedTarget:function(l){return l.relatedTarget===void 0?l.fromElement===l.srcElement?l.toElement:l.fromElement:l.relatedTarget},movementX:function(l){return"movementX"in l?l.movementX:(l!==qh&&(qh&&l.type==="mousemove"?(Ow=l.screenX-qh.screenX,Lw=l.screenY-qh.screenY):Lw=Ow=0,qh=l),Ow)},movementY:function(l){return"movementY"in l?l.movementY:Lw}}),HA=Wr(gy),m5=te({},gy,{dataTransfer:0}),y5=Wr(m5),v5=te({},Gh,{relatedTarget:0}),Dw=Wr(v5),b5=te({},_u,{animationName:0,elapsedTime:0,pseudoElement:0}),w5=Wr(b5),x5=te({},_u,{clipboardData:function(l){return"clipboardData"in l?l.clipboardData:window.clipboardData}}),S5=Wr(x5),E5=te({},_u,{data:0}),WA=Wr(E5),C5={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_5={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},A5={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function k5(l){var u=this.nativeEvent;return u.getModifierState?u.getModifierState(l):(l=A5[l])?!!u[l]:!1}function Fw(){return k5}var R5=te({},Gh,{key:function(l){if(l.key){var u=C5[l.key]||l.key;if(u!=="Unidentified")return u}return l.type==="keypress"?(l=fy(l),l===13?"Enter":String.fromCharCode(l)):l.type==="keydown"||l.type==="keyup"?_5[l.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Fw,charCode:function(l){return l.type==="keypress"?fy(l):0},keyCode:function(l){return l.type==="keydown"||l.type==="keyup"?l.keyCode:0},which:function(l){return l.type==="keypress"?fy(l):l.type==="keydown"||l.type==="keyup"?l.keyCode:0}}),T5=Wr(R5),P5=te({},gy,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),UA=Wr(P5),I5=te({},Gh,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Fw}),N5=Wr(I5),M5=te({},_u,{propertyName:0,elapsedTime:0,pseudoElement:0}),O5=Wr(M5),L5=te({},gy,{deltaX:function(l){return"deltaX"in l?l.deltaX:"wheelDeltaX"in l?-l.wheelDeltaX:0},deltaY:function(l){return"deltaY"in l?l.deltaY:"wheelDeltaY"in l?-l.wheelDeltaY:"wheelDelta"in l?-l.wheelDelta:0},deltaZ:0,deltaMode:0}),D5=Wr(L5),F5=[9,13,27,32],$w=a&&"CompositionEvent"in window,Yh=null;a&&"documentMode"in document&&(Yh=document.documentMode);var $5=a&&"TextEvent"in window&&!Yh,VA=a&&(!$w||Yh&&8<Yh&&11>=Yh),GA=" ",qA=!1;function YA(l,u){switch(l){case"keyup":return F5.indexOf(u.keyCode)!==-1;case"keydown":return u.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function XA(l){return l=l.detail,typeof l=="object"&&"data"in l?l.data:null}var Au=!1;function z5(l,u){switch(l){case"compositionend":return XA(u);case"keypress":return u.which!==32?null:(qA=!0,GA);case"textInput":return l=u.data,l===GA&&qA?null:l;default:return null}}function j5(l,u){if(Au)return l==="compositionend"||!$w&&YA(l,u)?(l=jA(),hy=Nw=wa=null,Au=!1,l):null;switch(l){case"paste":return null;case"keypress":if(!(u.ctrlKey||u.altKey||u.metaKey)||u.ctrlKey&&u.altKey){if(u.char&&1<u.char.length)return u.char;if(u.which)return String.fromCharCode(u.which)}return null;case"compositionend":return VA&&u.locale!=="ko"?null:u.data;default:return null}}var B5={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function KA(l){var u=l&&l.nodeName&&l.nodeName.toLowerCase();return u==="input"?!!B5[l.type]:u==="textarea"}function QA(l,u,g,w){Oh(w),u=wy(u,"onChange"),0<u.length&&(g=new Mw("onChange","change",null,g,w),l.push({event:g,listeners:u}))}var Xh=null,Kh=null;function H5(l){gk(l,0)}function my(l){var u=Iu(l);if(pe(u))return l}function W5(l,u){if(l==="change")return u}var ZA=!1;if(a){var zw;if(a){var jw="oninput"in document;if(!jw){var JA=document.createElement("div");JA.setAttribute("oninput","return;"),jw=typeof JA.oninput=="function"}zw=jw}else zw=!1;ZA=zw&&(!document.documentMode||9<document.documentMode)}function ek(){Xh&&(Xh.detachEvent("onpropertychange",tk),Kh=Xh=null)}function tk(l){if(l.propertyName==="value"&&my(Kh)){var u=[];QA(u,Kh,l,ha(l)),Zm(H5,u)}}function U5(l,u,g){l==="focusin"?(ek(),Xh=u,Kh=g,Xh.attachEvent("onpropertychange",tk)):l==="focusout"&&ek()}function V5(l){if(l==="selectionchange"||l==="keyup"||l==="keydown")return my(Kh)}function G5(l,u){if(l==="click")return my(u)}function q5(l,u){if(l==="input"||l==="change")return my(u)}function Y5(l,u){return l===u&&(l!==0||1/l===1/u)||l!==l&&u!==u}var Ii=typeof Object.is=="function"?Object.is:Y5;function Qh(l,u){if(Ii(l,u))return!0;if(typeof l!="object"||l===null||typeof u!="object"||u===null)return!1;var g=Object.keys(l),w=Object.keys(u);if(g.length!==w.length)return!1;for(w=0;w<g.length;w++){var A=g[w];if(!c.call(u,A)||!Ii(l[A],u[A]))return!1}return!0}function nk(l){for(;l&&l.firstChild;)l=l.firstChild;return l}function rk(l,u){var g=nk(l);l=0;for(var w;g;){if(g.nodeType===3){if(w=l+g.textContent.length,l<=u&&w>=u)return{node:g,offset:u-l};l=w}e:{for(;g;){if(g.nextSibling){g=g.nextSibling;break e}g=g.parentNode}g=void 0}g=nk(g)}}function ik(l,u){return l&&u?l===u?!0:l&&l.nodeType===3?!1:u&&u.nodeType===3?ik(l,u.parentNode):"contains"in l?l.contains(u):l.compareDocumentPosition?!!(l.compareDocumentPosition(u)&16):!1:!1}function sk(){for(var l=window,u=Se();u instanceof l.HTMLIFrameElement;){try{var g=typeof u.contentWindow.location.href=="string"}catch{g=!1}if(g)l=u.contentWindow;else break;u=Se(l.document)}return u}function Bw(l){var u=l&&l.nodeName&&l.nodeName.toLowerCase();return u&&(u==="input"&&(l.type==="text"||l.type==="search"||l.type==="tel"||l.type==="url"||l.type==="password")||u==="textarea"||l.contentEditable==="true")}function X5(l){var u=sk(),g=l.focusedElem,w=l.selectionRange;if(u!==g&&g&&g.ownerDocument&&ik(g.ownerDocument.documentElement,g)){if(w!==null&&Bw(g)){if(u=w.start,l=w.end,l===void 0&&(l=u),"selectionStart"in g)g.selectionStart=u,g.selectionEnd=Math.min(l,g.value.length);else if(l=(u=g.ownerDocument||document)&&u.defaultView||window,l.getSelection){l=l.getSelection();var A=g.textContent.length,P=Math.min(w.start,A);w=w.end===void 0?P:Math.min(w.end,A),!l.extend&&P>w&&(A=w,w=P,P=A),A=rk(g,P);var $=rk(g,w);A&&$&&(l.rangeCount!==1||l.anchorNode!==A.node||l.anchorOffset!==A.offset||l.focusNode!==$.node||l.focusOffset!==$.offset)&&(u=u.createRange(),u.setStart(A.node,A.offset),l.removeAllRanges(),P>w?(l.addRange(u),l.extend($.node,$.offset)):(u.setEnd($.node,$.offset),l.addRange(u)))}}for(u=[],l=g;l=l.parentNode;)l.nodeType===1&&u.push({element:l,left:l.scrollLeft,top:l.scrollTop});for(typeof g.focus=="function"&&g.focus(),g=0;g<u.length;g++)l=u[g],l.element.scrollLeft=l.left,l.element.scrollTop=l.top}}var K5=a&&"documentMode"in document&&11>=document.documentMode,ku=null,Hw=null,Zh=null,Ww=!1;function ok(l,u,g){var w=g.window===g?g.document:g.nodeType===9?g:g.ownerDocument;Ww||ku==null||ku!==Se(w)||(w=ku,"selectionStart"in w&&Bw(w)?w={start:w.selectionStart,end:w.selectionEnd}:(w=(w.ownerDocument&&w.ownerDocument.defaultView||window).getSelection(),w={anchorNode:w.anchorNode,anchorOffset:w.anchorOffset,focusNode:w.focusNode,focusOffset:w.focusOffset}),Zh&&Qh(Zh,w)||(Zh=w,w=wy(Hw,"onSelect"),0<w.length&&(u=new Mw("onSelect","select",null,u,g),l.push({event:u,listeners:w}),u.target=ku)))}function yy(l,u){var g={};return g[l.toLowerCase()]=u.toLowerCase(),g["Webkit"+l]="webkit"+u,g["Moz"+l]="moz"+u,g}var Ru={animationend:yy("Animation","AnimationEnd"),animationiteration:yy("Animation","AnimationIteration"),animationstart:yy("Animation","AnimationStart"),transitionend:yy("Transition","TransitionEnd")},Uw={},ak={};a&&(ak=document.createElement("div").style,"AnimationEvent"in window||(delete Ru.animationend.animation,delete Ru.animationiteration.animation,delete Ru.animationstart.animation),"TransitionEvent"in window||delete Ru.transitionend.transition);function vy(l){if(Uw[l])return Uw[l];if(!Ru[l])return l;var u=Ru[l],g;for(g in u)if(u.hasOwnProperty(g)&&g in ak)return Uw[l]=u[g];return l}var lk=vy("animationend"),ck=vy("animationiteration"),uk=vy("animationstart"),dk=vy("transitionend"),hk=new Map,fk="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function xa(l,u){hk.set(l,u),s(u,[l])}for(var Vw=0;Vw<fk.length;Vw++){var Gw=fk[Vw],Q5=Gw.toLowerCase(),Z5=Gw[0].toUpperCase()+Gw.slice(1);xa(Q5,"on"+Z5)}xa(lk,"onAnimationEnd"),xa(ck,"onAnimationIteration"),xa(uk,"onAnimationStart"),xa("dblclick","onDoubleClick"),xa("focusin","onFocus"),xa("focusout","onBlur"),xa(dk,"onTransitionEnd"),o("onMouseEnter",["mouseout","mouseover"]),o("onMouseLeave",["mouseout","mouseover"]),o("onPointerEnter",["pointerout","pointerover"]),o("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Jh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),J5=new Set("cancel close invalid load scroll toggle".split(" ").concat(Jh));function pk(l,u,g){var w=l.type||"unknown-event";l.currentTarget=g,Jm(w,u,void 0,l),l.currentTarget=null}function gk(l,u){u=(u&4)!==0;for(var g=0;g<l.length;g++){var w=l[g],A=w.event;w=w.listeners;e:{var P=void 0;if(u)for(var $=w.length-1;0<=$;$--){var ee=w[$],re=ee.instance,ce=ee.currentTarget;if(ee=ee.listener,re!==P&&A.isPropagationStopped())break e;pk(A,ee,ce),P=re}else for($=0;$<w.length;$++){if(ee=w[$],re=ee.instance,ce=ee.currentTarget,ee=ee.listener,re!==P&&A.isPropagationStopped())break e;pk(A,ee,ce),P=re}}}if(bu)throw l=Fh,bu=!1,Fh=null,l}function jt(l,u){var g=u[ex];g===void 0&&(g=u[ex]=new Set);var w=l+"__bubble";g.has(w)||(mk(u,l,2,!1),g.add(w))}function qw(l,u,g){var w=0;u&&(w|=4),mk(g,l,w,u)}var by="_reactListening"+Math.random().toString(36).slice(2);function ef(l){if(!l[by]){l[by]=!0,r.forEach(function(g){g!=="selectionchange"&&(J5.has(g)||qw(g,!1,l),qw(g,!0,l))});var u=l.nodeType===9?l:l.ownerDocument;u===null||u[by]||(u[by]=!0,qw("selectionchange",!1,u))}}function mk(l,u,g,w){switch(zA(u)){case 1:var A=f5;break;case 4:A=p5;break;default:A=Pw}g=A.bind(null,u,g,l),A=void 0,!Dh||u!=="touchstart"&&u!=="touchmove"&&u!=="wheel"||(A=!0),w?A!==void 0?l.addEventListener(u,g,{capture:!0,passive:A}):l.addEventListener(u,g,!0):A!==void 0?l.addEventListener(u,g,{passive:A}):l.addEventListener(u,g,!1)}function Yw(l,u,g,w,A){var P=w;if((u&1)===0&&(u&2)===0&&w!==null)e:for(;;){if(w===null)return;var $=w.tag;if($===3||$===4){var ee=w.stateNode.containerInfo;if(ee===A||ee.nodeType===8&&ee.parentNode===A)break;if($===4)for($=w.return;$!==null;){var re=$.tag;if((re===3||re===4)&&(re=$.stateNode.containerInfo,re===A||re.nodeType===8&&re.parentNode===A))return;$=$.return}for(;ee!==null;){if($=Nl(ee),$===null)return;if(re=$.tag,re===5||re===6){w=P=$;continue e}ee=ee.parentNode}}w=w.return}Zm(function(){var ce=P,me=ha(g),ve=[];e:{var ge=hk.get(l);if(ge!==void 0){var Ae=Mw,Ie=l;switch(l){case"keypress":if(fy(g)===0)break e;case"keydown":case"keyup":Ae=T5;break;case"focusin":Ie="focus",Ae=Dw;break;case"focusout":Ie="blur",Ae=Dw;break;case"beforeblur":case"afterblur":Ae=Dw;break;case"click":if(g.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ae=HA;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ae=y5;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ae=N5;break;case lk:case ck:case uk:Ae=w5;break;case dk:Ae=O5;break;case"scroll":Ae=g5;break;case"wheel":Ae=D5;break;case"copy":case"cut":case"paste":Ae=S5;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ae=UA}var Le=(u&4)!==0,ln=!Le&&l==="scroll",ae=Le?ge!==null?ge+"Capture":null:ge;Le=[];for(var se=ce,le;se!==null;){le=se;var be=le.stateNode;if(le.tag===5&&be!==null&&(le=be,ae!==null&&(be=Rl(se,ae),be!=null&&Le.push(tf(se,be,le)))),ln)break;se=se.return}0<Le.length&&(ge=new Ae(ge,Ie,null,g,me),ve.push({event:ge,listeners:Le}))}}if((u&7)===0){e:{if(ge=l==="mouseover"||l==="pointerover",Ae=l==="mouseout"||l==="pointerout",ge&&g!==di&&(Ie=g.relatedTarget||g.fromElement)&&(Nl(Ie)||Ie[ro]))break e;if((Ae||ge)&&(ge=me.window===me?me:(ge=me.ownerDocument)?ge.defaultView||ge.parentWindow:window,Ae?(Ie=g.relatedTarget||g.toElement,Ae=ce,Ie=Ie?Nl(Ie):null,Ie!==null&&(ln=fs(Ie),Ie!==ln||Ie.tag!==5&&Ie.tag!==6)&&(Ie=null)):(Ae=null,Ie=ce),Ae!==Ie)){if(Le=HA,be="onMouseLeave",ae="onMouseEnter",se="mouse",(l==="pointerout"||l==="pointerover")&&(Le=UA,be="onPointerLeave",ae="onPointerEnter",se="pointer"),ln=Ae==null?ge:Iu(Ae),le=Ie==null?ge:Iu(Ie),ge=new Le(be,se+"leave",Ae,g,me),ge.target=ln,ge.relatedTarget=le,be=null,Nl(me)===ce&&(Le=new Le(ae,se+"enter",Ie,g,me),Le.target=le,Le.relatedTarget=ln,be=Le),ln=be,Ae&&Ie)t:{for(Le=Ae,ae=Ie,se=0,le=Le;le;le=Tu(le))se++;for(le=0,be=ae;be;be=Tu(be))le++;for(;0<se-le;)Le=Tu(Le),se--;for(;0<le-se;)ae=Tu(ae),le--;for(;se--;){if(Le===ae||ae!==null&&Le===ae.alternate)break t;Le=Tu(Le),ae=Tu(ae)}Le=null}else Le=null;Ae!==null&&yk(ve,ge,Ae,Le,!1),Ie!==null&&ln!==null&&yk(ve,ln,Ie,Le,!0)}}e:{if(ge=ce?Iu(ce):window,Ae=ge.nodeName&&ge.nodeName.toLowerCase(),Ae==="select"||Ae==="input"&&ge.type==="file")var Fe=W5;else if(KA(ge))if(ZA)Fe=q5;else{Fe=V5;var We=U5}else(Ae=ge.nodeName)&&Ae.toLowerCase()==="input"&&(ge.type==="checkbox"||ge.type==="radio")&&(Fe=G5);if(Fe&&(Fe=Fe(l,ce))){QA(ve,Fe,g,me);break e}We&&We(l,ge,ce),l==="focusout"&&(We=ge._wrapperState)&&We.controlled&&ge.type==="number"&&Tn(ge,"number",ge.value)}switch(We=ce?Iu(ce):window,l){case"focusin":(KA(We)||We.contentEditable==="true")&&(ku=We,Hw=ce,Zh=null);break;case"focusout":Zh=Hw=ku=null;break;case"mousedown":Ww=!0;break;case"contextmenu":case"mouseup":case"dragend":Ww=!1,ok(ve,g,me);break;case"selectionchange":if(K5)break;case"keydown":case"keyup":ok(ve,g,me)}var Ue;if($w)e:{switch(l){case"compositionstart":var qe="onCompositionStart";break e;case"compositionend":qe="onCompositionEnd";break e;case"compositionupdate":qe="onCompositionUpdate";break e}qe=void 0}else Au?YA(l,g)&&(qe="onCompositionEnd"):l==="keydown"&&g.keyCode===229&&(qe="onCompositionStart");qe&&(VA&&g.locale!=="ko"&&(Au||qe!=="onCompositionStart"?qe==="onCompositionEnd"&&Au&&(Ue=jA()):(wa=me,Nw="value"in wa?wa.value:wa.textContent,Au=!0)),We=wy(ce,qe),0<We.length&&(qe=new WA(qe,l,null,g,me),ve.push({event:qe,listeners:We}),Ue?qe.data=Ue:(Ue=XA(g),Ue!==null&&(qe.data=Ue)))),(Ue=$5?z5(l,g):j5(l,g))&&(ce=wy(ce,"onBeforeInput"),0<ce.length&&(me=new WA("onBeforeInput","beforeinput",null,g,me),ve.push({event:me,listeners:ce}),me.data=Ue))}gk(ve,u)})}function tf(l,u,g){return{instance:l,listener:u,currentTarget:g}}function wy(l,u){for(var g=u+"Capture",w=[];l!==null;){var A=l,P=A.stateNode;A.tag===5&&P!==null&&(A=P,P=Rl(l,g),P!=null&&w.unshift(tf(l,P,A)),P=Rl(l,u),P!=null&&w.push(tf(l,P,A))),l=l.return}return w}function Tu(l){if(l===null)return null;do l=l.return;while(l&&l.tag!==5);return l||null}function yk(l,u,g,w,A){for(var P=u._reactName,$=[];g!==null&&g!==w;){var ee=g,re=ee.alternate,ce=ee.stateNode;if(re!==null&&re===w)break;ee.tag===5&&ce!==null&&(ee=ce,A?(re=Rl(g,P),re!=null&&$.unshift(tf(g,re,ee))):A||(re=Rl(g,P),re!=null&&$.push(tf(g,re,ee)))),g=g.return}$.length!==0&&l.push({event:u,listeners:$})}var ez=/\r\n?/g,tz=/\u0000|\uFFFD/g;function vk(l){return(typeof l=="string"?l:""+l).replace(ez,`
`).replace(tz,"")}function xy(l,u,g){if(u=vk(u),vk(l)!==u&&g)throw Error(n(425))}function Sy(){}var Xw=null,Kw=null;function Qw(l,u){return l==="textarea"||l==="noscript"||typeof u.children=="string"||typeof u.children=="number"||typeof u.dangerouslySetInnerHTML=="object"&&u.dangerouslySetInnerHTML!==null&&u.dangerouslySetInnerHTML.__html!=null}var Zw=typeof setTimeout=="function"?setTimeout:void 0,nz=typeof clearTimeout=="function"?clearTimeout:void 0,bk=typeof Promise=="function"?Promise:void 0,rz=typeof queueMicrotask=="function"?queueMicrotask:typeof bk<"u"?function(l){return bk.resolve(null).then(l).catch(iz)}:Zw;function iz(l){setTimeout(function(){throw l})}function Jw(l,u){var g=u,w=0;do{var A=g.nextSibling;if(l.removeChild(g),A&&A.nodeType===8)if(g=A.data,g==="/$"){if(w===0){l.removeChild(A),Vh(u);return}w--}else g!=="$"&&g!=="$?"&&g!=="$!"||w++;g=A}while(g);Vh(u)}function Sa(l){for(;l!=null;l=l.nextSibling){var u=l.nodeType;if(u===1||u===3)break;if(u===8){if(u=l.data,u==="$"||u==="$!"||u==="$?")break;if(u==="/$")return null}}return l}function wk(l){l=l.previousSibling;for(var u=0;l;){if(l.nodeType===8){var g=l.data;if(g==="$"||g==="$!"||g==="$?"){if(u===0)return l;u--}else g==="/$"&&u++}l=l.previousSibling}return null}var Pu=Math.random().toString(36).slice(2),ps="__reactFiber$"+Pu,nf="__reactProps$"+Pu,ro="__reactContainer$"+Pu,ex="__reactEvents$"+Pu,sz="__reactListeners$"+Pu,oz="__reactHandles$"+Pu;function Nl(l){var u=l[ps];if(u)return u;for(var g=l.parentNode;g;){if(u=g[ro]||g[ps]){if(g=u.alternate,u.child!==null||g!==null&&g.child!==null)for(l=wk(l);l!==null;){if(g=l[ps])return g;l=wk(l)}return u}l=g,g=l.parentNode}return null}function rf(l){return l=l[ps]||l[ro],!l||l.tag!==5&&l.tag!==6&&l.tag!==13&&l.tag!==3?null:l}function Iu(l){if(l.tag===5||l.tag===6)return l.stateNode;throw Error(n(33))}function Ey(l){return l[nf]||null}var tx=[],Nu=-1;function Ea(l){return{current:l}}function Bt(l){0>Nu||(l.current=tx[Nu],tx[Nu]=null,Nu--)}function Ft(l,u){Nu++,tx[Nu]=l.current,l.current=u}var Ca={},Gn=Ea(Ca),Er=Ea(!1),Ml=Ca;function Mu(l,u){var g=l.type.contextTypes;if(!g)return Ca;var w=l.stateNode;if(w&&w.__reactInternalMemoizedUnmaskedChildContext===u)return w.__reactInternalMemoizedMaskedChildContext;var A={},P;for(P in g)A[P]=u[P];return w&&(l=l.stateNode,l.__reactInternalMemoizedUnmaskedChildContext=u,l.__reactInternalMemoizedMaskedChildContext=A),A}function Cr(l){return l=l.childContextTypes,l!=null}function Cy(){Bt(Er),Bt(Gn)}function xk(l,u,g){if(Gn.current!==Ca)throw Error(n(168));Ft(Gn,u),Ft(Er,g)}function Sk(l,u,g){var w=l.stateNode;if(u=u.childContextTypes,typeof w.getChildContext!="function")return g;w=w.getChildContext();for(var A in w)if(!(A in u))throw Error(n(108,ne(l)||"Unknown",A));return te({},g,w)}function _y(l){return l=(l=l.stateNode)&&l.__reactInternalMemoizedMergedChildContext||Ca,Ml=Gn.current,Ft(Gn,l),Ft(Er,Er.current),!0}function Ek(l,u,g){var w=l.stateNode;if(!w)throw Error(n(169));g?(l=Sk(l,u,Ml),w.__reactInternalMemoizedMergedChildContext=l,Bt(Er),Bt(Gn),Ft(Gn,l)):Bt(Er),Ft(Er,g)}var io=null,Ay=!1,nx=!1;function Ck(l){io===null?io=[l]:io.push(l)}function az(l){Ay=!0,Ck(l)}function _a(){if(!nx&&io!==null){nx=!0;var l=0,u=Et;try{var g=io;for(Et=1;l<g.length;l++){var w=g[l];do w=w(!0);while(w!==null)}io=null,Ay=!1}catch(A){throw io!==null&&(io=io.slice(l+1)),iy($h,_a),A}finally{Et=u,nx=!1}}return null}var Ou=[],Lu=0,ky=null,Ry=0,fi=[],pi=0,Ol=null,so=1,oo="";function Ll(l,u){Ou[Lu++]=Ry,Ou[Lu++]=ky,ky=l,Ry=u}function _k(l,u,g){fi[pi++]=so,fi[pi++]=oo,fi[pi++]=Ol,Ol=l;var w=so;l=oo;var A=32-Hr(w)-1;w&=~(1<<A),g+=1;var P=32-Hr(u)+A;if(30<P){var $=A-A%5;P=(w&(1<<$)-1).toString(32),w>>=$,A-=$,so=1<<32-Hr(u)+A|g<<A|w,oo=P+l}else so=1<<P|g<<A|w,oo=l}function rx(l){l.return!==null&&(Ll(l,1),_k(l,1,0))}function ix(l){for(;l===ky;)ky=Ou[--Lu],Ou[Lu]=null,Ry=Ou[--Lu],Ou[Lu]=null;for(;l===Ol;)Ol=fi[--pi],fi[pi]=null,oo=fi[--pi],fi[pi]=null,so=fi[--pi],fi[pi]=null}var Ur=null,Vr=null,Ht=!1,Ni=null;function Ak(l,u){var g=vi(5,null,null,0);g.elementType="DELETED",g.stateNode=u,g.return=l,u=l.deletions,u===null?(l.deletions=[g],l.flags|=16):u.push(g)}function kk(l,u){switch(l.tag){case 5:var g=l.type;return u=u.nodeType!==1||g.toLowerCase()!==u.nodeName.toLowerCase()?null:u,u!==null?(l.stateNode=u,Ur=l,Vr=Sa(u.firstChild),!0):!1;case 6:return u=l.pendingProps===""||u.nodeType!==3?null:u,u!==null?(l.stateNode=u,Ur=l,Vr=null,!0):!1;case 13:return u=u.nodeType!==8?null:u,u!==null?(g=Ol!==null?{id:so,overflow:oo}:null,l.memoizedState={dehydrated:u,treeContext:g,retryLane:1073741824},g=vi(18,null,null,0),g.stateNode=u,g.return=l,l.child=g,Ur=l,Vr=null,!0):!1;default:return!1}}function sx(l){return(l.mode&1)!==0&&(l.flags&128)===0}function ox(l){if(Ht){var u=Vr;if(u){var g=u;if(!kk(l,u)){if(sx(l))throw Error(n(418));u=Sa(g.nextSibling);var w=Ur;u&&kk(l,u)?Ak(w,g):(l.flags=l.flags&-4097|2,Ht=!1,Ur=l)}}else{if(sx(l))throw Error(n(418));l.flags=l.flags&-4097|2,Ht=!1,Ur=l}}}function Rk(l){for(l=l.return;l!==null&&l.tag!==5&&l.tag!==3&&l.tag!==13;)l=l.return;Ur=l}function Ty(l){if(l!==Ur)return!1;if(!Ht)return Rk(l),Ht=!0,!1;var u;if((u=l.tag!==3)&&!(u=l.tag!==5)&&(u=l.type,u=u!=="head"&&u!=="body"&&!Qw(l.type,l.memoizedProps)),u&&(u=Vr)){if(sx(l))throw Tk(),Error(n(418));for(;u;)Ak(l,u),u=Sa(u.nextSibling)}if(Rk(l),l.tag===13){if(l=l.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(n(317));e:{for(l=l.nextSibling,u=0;l;){if(l.nodeType===8){var g=l.data;if(g==="/$"){if(u===0){Vr=Sa(l.nextSibling);break e}u--}else g!=="$"&&g!=="$!"&&g!=="$?"||u++}l=l.nextSibling}Vr=null}}else Vr=Ur?Sa(l.stateNode.nextSibling):null;return!0}function Tk(){for(var l=Vr;l;)l=Sa(l.nextSibling)}function Du(){Vr=Ur=null,Ht=!1}function ax(l){Ni===null?Ni=[l]:Ni.push(l)}var lz=_.ReactCurrentBatchConfig;function sf(l,u,g){if(l=g.ref,l!==null&&typeof l!="function"&&typeof l!="object"){if(g._owner){if(g=g._owner,g){if(g.tag!==1)throw Error(n(309));var w=g.stateNode}if(!w)throw Error(n(147,l));var A=w,P=""+l;return u!==null&&u.ref!==null&&typeof u.ref=="function"&&u.ref._stringRef===P?u.ref:(u=function($){var ee=A.refs;$===null?delete ee[P]:ee[P]=$},u._stringRef=P,u)}if(typeof l!="string")throw Error(n(284));if(!g._owner)throw Error(n(290,l))}return l}function Py(l,u){throw l=Object.prototype.toString.call(u),Error(n(31,l==="[object Object]"?"object with keys {"+Object.keys(u).join(", ")+"}":l))}function Pk(l){var u=l._init;return u(l._payload)}function Ik(l){function u(ae,se){if(l){var le=ae.deletions;le===null?(ae.deletions=[se],ae.flags|=16):le.push(se)}}function g(ae,se){if(!l)return null;for(;se!==null;)u(ae,se),se=se.sibling;return null}function w(ae,se){for(ae=new Map;se!==null;)se.key!==null?ae.set(se.key,se):ae.set(se.index,se),se=se.sibling;return ae}function A(ae,se){return ae=Ma(ae,se),ae.index=0,ae.sibling=null,ae}function P(ae,se,le){return ae.index=le,l?(le=ae.alternate,le!==null?(le=le.index,le<se?(ae.flags|=2,se):le):(ae.flags|=2,se)):(ae.flags|=1048576,se)}function $(ae){return l&&ae.alternate===null&&(ae.flags|=2),ae}function ee(ae,se,le,be){return se===null||se.tag!==6?(se=Zx(le,ae.mode,be),se.return=ae,se):(se=A(se,le),se.return=ae,se)}function re(ae,se,le,be){var Fe=le.type;return Fe===T?me(ae,se,le.props.children,be,le.key):se!==null&&(se.elementType===Fe||typeof Fe=="object"&&Fe!==null&&Fe.$$typeof===H&&Pk(Fe)===se.type)?(be=A(se,le.props),be.ref=sf(ae,se,le),be.return=ae,be):(be=ev(le.type,le.key,le.props,null,ae.mode,be),be.ref=sf(ae,se,le),be.return=ae,be)}function ce(ae,se,le,be){return se===null||se.tag!==4||se.stateNode.containerInfo!==le.containerInfo||se.stateNode.implementation!==le.implementation?(se=Jx(le,ae.mode,be),se.return=ae,se):(se=A(se,le.children||[]),se.return=ae,se)}function me(ae,se,le,be,Fe){return se===null||se.tag!==7?(se=Wl(le,ae.mode,be,Fe),se.return=ae,se):(se=A(se,le),se.return=ae,se)}function ve(ae,se,le){if(typeof se=="string"&&se!==""||typeof se=="number")return se=Zx(""+se,ae.mode,le),se.return=ae,se;if(typeof se=="object"&&se!==null){switch(se.$$typeof){case k:return le=ev(se.type,se.key,se.props,null,ae.mode,le),le.ref=sf(ae,null,se),le.return=ae,le;case N:return se=Jx(se,ae.mode,le),se.return=ae,se;case H:var be=se._init;return ve(ae,be(se._payload),le)}if(Nt(se)||G(se))return se=Wl(se,ae.mode,le,null),se.return=ae,se;Py(ae,se)}return null}function ge(ae,se,le,be){var Fe=se!==null?se.key:null;if(typeof le=="string"&&le!==""||typeof le=="number")return Fe!==null?null:ee(ae,se,""+le,be);if(typeof le=="object"&&le!==null){switch(le.$$typeof){case k:return le.key===Fe?re(ae,se,le,be):null;case N:return le.key===Fe?ce(ae,se,le,be):null;case H:return Fe=le._init,ge(ae,se,Fe(le._payload),be)}if(Nt(le)||G(le))return Fe!==null?null:me(ae,se,le,be,null);Py(ae,le)}return null}function Ae(ae,se,le,be,Fe){if(typeof be=="string"&&be!==""||typeof be=="number")return ae=ae.get(le)||null,ee(se,ae,""+be,Fe);if(typeof be=="object"&&be!==null){switch(be.$$typeof){case k:return ae=ae.get(be.key===null?le:be.key)||null,re(se,ae,be,Fe);case N:return ae=ae.get(be.key===null?le:be.key)||null,ce(se,ae,be,Fe);case H:var We=be._init;return Ae(ae,se,le,We(be._payload),Fe)}if(Nt(be)||G(be))return ae=ae.get(le)||null,me(se,ae,be,Fe,null);Py(se,be)}return null}function Ie(ae,se,le,be){for(var Fe=null,We=null,Ue=se,qe=se=0,Nn=null;Ue!==null&&qe<le.length;qe++){Ue.index>qe?(Nn=Ue,Ue=null):Nn=Ue.sibling;var ut=ge(ae,Ue,le[qe],be);if(ut===null){Ue===null&&(Ue=Nn);break}l&&Ue&&ut.alternate===null&&u(ae,Ue),se=P(ut,se,qe),We===null?Fe=ut:We.sibling=ut,We=ut,Ue=Nn}if(qe===le.length)return g(ae,Ue),Ht&&Ll(ae,qe),Fe;if(Ue===null){for(;qe<le.length;qe++)Ue=ve(ae,le[qe],be),Ue!==null&&(se=P(Ue,se,qe),We===null?Fe=Ue:We.sibling=Ue,We=Ue);return Ht&&Ll(ae,qe),Fe}for(Ue=w(ae,Ue);qe<le.length;qe++)Nn=Ae(Ue,ae,qe,le[qe],be),Nn!==null&&(l&&Nn.alternate!==null&&Ue.delete(Nn.key===null?qe:Nn.key),se=P(Nn,se,qe),We===null?Fe=Nn:We.sibling=Nn,We=Nn);return l&&Ue.forEach(function(Oa){return u(ae,Oa)}),Ht&&Ll(ae,qe),Fe}function Le(ae,se,le,be){var Fe=G(le);if(typeof Fe!="function")throw Error(n(150));if(le=Fe.call(le),le==null)throw Error(n(151));for(var We=Fe=null,Ue=se,qe=se=0,Nn=null,ut=le.next();Ue!==null&&!ut.done;qe++,ut=le.next()){Ue.index>qe?(Nn=Ue,Ue=null):Nn=Ue.sibling;var Oa=ge(ae,Ue,ut.value,be);if(Oa===null){Ue===null&&(Ue=Nn);break}l&&Ue&&Oa.alternate===null&&u(ae,Ue),se=P(Oa,se,qe),We===null?Fe=Oa:We.sibling=Oa,We=Oa,Ue=Nn}if(ut.done)return g(ae,Ue),Ht&&Ll(ae,qe),Fe;if(Ue===null){for(;!ut.done;qe++,ut=le.next())ut=ve(ae,ut.value,be),ut!==null&&(se=P(ut,se,qe),We===null?Fe=ut:We.sibling=ut,We=ut);return Ht&&Ll(ae,qe),Fe}for(Ue=w(ae,Ue);!ut.done;qe++,ut=le.next())ut=Ae(Ue,ae,qe,ut.value,be),ut!==null&&(l&&ut.alternate!==null&&Ue.delete(ut.key===null?qe:ut.key),se=P(ut,se,qe),We===null?Fe=ut:We.sibling=ut,We=ut);return l&&Ue.forEach(function(Bz){return u(ae,Bz)}),Ht&&Ll(ae,qe),Fe}function ln(ae,se,le,be){if(typeof le=="object"&&le!==null&&le.type===T&&le.key===null&&(le=le.props.children),typeof le=="object"&&le!==null){switch(le.$$typeof){case k:e:{for(var Fe=le.key,We=se;We!==null;){if(We.key===Fe){if(Fe=le.type,Fe===T){if(We.tag===7){g(ae,We.sibling),se=A(We,le.props.children),se.return=ae,ae=se;break e}}else if(We.elementType===Fe||typeof Fe=="object"&&Fe!==null&&Fe.$$typeof===H&&Pk(Fe)===We.type){g(ae,We.sibling),se=A(We,le.props),se.ref=sf(ae,We,le),se.return=ae,ae=se;break e}g(ae,We);break}else u(ae,We);We=We.sibling}le.type===T?(se=Wl(le.props.children,ae.mode,be,le.key),se.return=ae,ae=se):(be=ev(le.type,le.key,le.props,null,ae.mode,be),be.ref=sf(ae,se,le),be.return=ae,ae=be)}return $(ae);case N:e:{for(We=le.key;se!==null;){if(se.key===We)if(se.tag===4&&se.stateNode.containerInfo===le.containerInfo&&se.stateNode.implementation===le.implementation){g(ae,se.sibling),se=A(se,le.children||[]),se.return=ae,ae=se;break e}else{g(ae,se);break}else u(ae,se);se=se.sibling}se=Jx(le,ae.mode,be),se.return=ae,ae=se}return $(ae);case H:return We=le._init,ln(ae,se,We(le._payload),be)}if(Nt(le))return Ie(ae,se,le,be);if(G(le))return Le(ae,se,le,be);Py(ae,le)}return typeof le=="string"&&le!==""||typeof le=="number"?(le=""+le,se!==null&&se.tag===6?(g(ae,se.sibling),se=A(se,le),se.return=ae,ae=se):(g(ae,se),se=Zx(le,ae.mode,be),se.return=ae,ae=se),$(ae)):g(ae,se)}return ln}var Fu=Ik(!0),Nk=Ik(!1),Iy=Ea(null),Ny=null,$u=null,lx=null;function cx(){lx=$u=Ny=null}function ux(l){var u=Iy.current;Bt(Iy),l._currentValue=u}function dx(l,u,g){for(;l!==null;){var w=l.alternate;if((l.childLanes&u)!==u?(l.childLanes|=u,w!==null&&(w.childLanes|=u)):w!==null&&(w.childLanes&u)!==u&&(w.childLanes|=u),l===g)break;l=l.return}}function zu(l,u){Ny=l,lx=$u=null,l=l.dependencies,l!==null&&l.firstContext!==null&&((l.lanes&u)!==0&&(_r=!0),l.firstContext=null)}function gi(l){var u=l._currentValue;if(lx!==l)if(l={context:l,memoizedValue:u,next:null},$u===null){if(Ny===null)throw Error(n(308));$u=l,Ny.dependencies={lanes:0,firstContext:l}}else $u=$u.next=l;return u}var Dl=null;function hx(l){Dl===null?Dl=[l]:Dl.push(l)}function Mk(l,u,g,w){var A=u.interleaved;return A===null?(g.next=g,hx(u)):(g.next=A.next,A.next=g),u.interleaved=g,ao(l,w)}function ao(l,u){l.lanes|=u;var g=l.alternate;for(g!==null&&(g.lanes|=u),g=l,l=l.return;l!==null;)l.childLanes|=u,g=l.alternate,g!==null&&(g.childLanes|=u),g=l,l=l.return;return g.tag===3?g.stateNode:null}var Aa=!1;function fx(l){l.updateQueue={baseState:l.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ok(l,u){l=l.updateQueue,u.updateQueue===l&&(u.updateQueue={baseState:l.baseState,firstBaseUpdate:l.firstBaseUpdate,lastBaseUpdate:l.lastBaseUpdate,shared:l.shared,effects:l.effects})}function lo(l,u){return{eventTime:l,lane:u,tag:0,payload:null,callback:null,next:null}}function ka(l,u,g){var w=l.updateQueue;if(w===null)return null;if(w=w.shared,(at&2)!==0){var A=w.pending;return A===null?u.next=u:(u.next=A.next,A.next=u),w.pending=u,ao(l,g)}return A=w.interleaved,A===null?(u.next=u,hx(w)):(u.next=A.next,A.next=u),w.interleaved=u,ao(l,g)}function My(l,u,g){if(u=u.updateQueue,u!==null&&(u=u.shared,(g&4194240)!==0)){var w=u.lanes;w&=l.pendingLanes,g|=w,u.lanes=g,kw(l,g)}}function Lk(l,u){var g=l.updateQueue,w=l.alternate;if(w!==null&&(w=w.updateQueue,g===w)){var A=null,P=null;if(g=g.firstBaseUpdate,g!==null){do{var $={eventTime:g.eventTime,lane:g.lane,tag:g.tag,payload:g.payload,callback:g.callback,next:null};P===null?A=P=$:P=P.next=$,g=g.next}while(g!==null);P===null?A=P=u:P=P.next=u}else A=P=u;g={baseState:w.baseState,firstBaseUpdate:A,lastBaseUpdate:P,shared:w.shared,effects:w.effects},l.updateQueue=g;return}l=g.lastBaseUpdate,l===null?g.firstBaseUpdate=u:l.next=u,g.lastBaseUpdate=u}function Oy(l,u,g,w){var A=l.updateQueue;Aa=!1;var P=A.firstBaseUpdate,$=A.lastBaseUpdate,ee=A.shared.pending;if(ee!==null){A.shared.pending=null;var re=ee,ce=re.next;re.next=null,$===null?P=ce:$.next=ce,$=re;var me=l.alternate;me!==null&&(me=me.updateQueue,ee=me.lastBaseUpdate,ee!==$&&(ee===null?me.firstBaseUpdate=ce:ee.next=ce,me.lastBaseUpdate=re))}if(P!==null){var ve=A.baseState;$=0,me=ce=re=null,ee=P;do{var ge=ee.lane,Ae=ee.eventTime;if((w&ge)===ge){me!==null&&(me=me.next={eventTime:Ae,lane:0,tag:ee.tag,payload:ee.payload,callback:ee.callback,next:null});e:{var Ie=l,Le=ee;switch(ge=u,Ae=g,Le.tag){case 1:if(Ie=Le.payload,typeof Ie=="function"){ve=Ie.call(Ae,ve,ge);break e}ve=Ie;break e;case 3:Ie.flags=Ie.flags&-65537|128;case 0:if(Ie=Le.payload,ge=typeof Ie=="function"?Ie.call(Ae,ve,ge):Ie,ge==null)break e;ve=te({},ve,ge);break e;case 2:Aa=!0}}ee.callback!==null&&ee.lane!==0&&(l.flags|=64,ge=A.effects,ge===null?A.effects=[ee]:ge.push(ee))}else Ae={eventTime:Ae,lane:ge,tag:ee.tag,payload:ee.payload,callback:ee.callback,next:null},me===null?(ce=me=Ae,re=ve):me=me.next=Ae,$|=ge;if(ee=ee.next,ee===null){if(ee=A.shared.pending,ee===null)break;ge=ee,ee=ge.next,ge.next=null,A.lastBaseUpdate=ge,A.shared.pending=null}}while(!0);if(me===null&&(re=ve),A.baseState=re,A.firstBaseUpdate=ce,A.lastBaseUpdate=me,u=A.shared.interleaved,u!==null){A=u;do $|=A.lane,A=A.next;while(A!==u)}else P===null&&(A.shared.lanes=0);zl|=$,l.lanes=$,l.memoizedState=ve}}function Dk(l,u,g){if(l=u.effects,u.effects=null,l!==null)for(u=0;u<l.length;u++){var w=l[u],A=w.callback;if(A!==null){if(w.callback=null,w=g,typeof A!="function")throw Error(n(191,A));A.call(w)}}}var of={},gs=Ea(of),af=Ea(of),lf=Ea(of);function Fl(l){if(l===of)throw Error(n(174));return l}function px(l,u){switch(Ft(lf,u),Ft(af,l),Ft(gs,of),l=u.nodeType,l){case 9:case 11:u=(u=u.documentElement)?u.namespaceURI:Sr(null,"");break;default:l=l===8?u.parentNode:u,u=l.namespaceURI||null,l=l.tagName,u=Sr(u,l)}Bt(gs),Ft(gs,u)}function ju(){Bt(gs),Bt(af),Bt(lf)}function Fk(l){Fl(lf.current);var u=Fl(gs.current),g=Sr(u,l.type);u!==g&&(Ft(af,l),Ft(gs,g))}function gx(l){af.current===l&&(Bt(gs),Bt(af))}var Xt=Ea(0);function Ly(l){for(var u=l;u!==null;){if(u.tag===13){var g=u.memoizedState;if(g!==null&&(g=g.dehydrated,g===null||g.data==="$?"||g.data==="$!"))return u}else if(u.tag===19&&u.memoizedProps.revealOrder!==void 0){if((u.flags&128)!==0)return u}else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===l)break;for(;u.sibling===null;){if(u.return===null||u.return===l)return null;u=u.return}u.sibling.return=u.return,u=u.sibling}return null}var mx=[];function yx(){for(var l=0;l<mx.length;l++)mx[l]._workInProgressVersionPrimary=null;mx.length=0}var Dy=_.ReactCurrentDispatcher,vx=_.ReactCurrentBatchConfig,$l=0,Kt=null,wn=null,Pn=null,Fy=!1,cf=!1,uf=0,cz=0;function qn(){throw Error(n(321))}function bx(l,u){if(u===null)return!1;for(var g=0;g<u.length&&g<l.length;g++)if(!Ii(l[g],u[g]))return!1;return!0}function wx(l,u,g,w,A,P){if($l=P,Kt=u,u.memoizedState=null,u.updateQueue=null,u.lanes=0,Dy.current=l===null||l.memoizedState===null?fz:pz,l=g(w,A),cf){P=0;do{if(cf=!1,uf=0,25<=P)throw Error(n(301));P+=1,Pn=wn=null,u.updateQueue=null,Dy.current=gz,l=g(w,A)}while(cf)}if(Dy.current=jy,u=wn!==null&&wn.next!==null,$l=0,Pn=wn=Kt=null,Fy=!1,u)throw Error(n(300));return l}function xx(){var l=uf!==0;return uf=0,l}function ms(){var l={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Pn===null?Kt.memoizedState=Pn=l:Pn=Pn.next=l,Pn}function mi(){if(wn===null){var l=Kt.alternate;l=l!==null?l.memoizedState:null}else l=wn.next;var u=Pn===null?Kt.memoizedState:Pn.next;if(u!==null)Pn=u,wn=l;else{if(l===null)throw Error(n(310));wn=l,l={memoizedState:wn.memoizedState,baseState:wn.baseState,baseQueue:wn.baseQueue,queue:wn.queue,next:null},Pn===null?Kt.memoizedState=Pn=l:Pn=Pn.next=l}return Pn}function df(l,u){return typeof u=="function"?u(l):u}function Sx(l){var u=mi(),g=u.queue;if(g===null)throw Error(n(311));g.lastRenderedReducer=l;var w=wn,A=w.baseQueue,P=g.pending;if(P!==null){if(A!==null){var $=A.next;A.next=P.next,P.next=$}w.baseQueue=A=P,g.pending=null}if(A!==null){P=A.next,w=w.baseState;var ee=$=null,re=null,ce=P;do{var me=ce.lane;if(($l&me)===me)re!==null&&(re=re.next={lane:0,action:ce.action,hasEagerState:ce.hasEagerState,eagerState:ce.eagerState,next:null}),w=ce.hasEagerState?ce.eagerState:l(w,ce.action);else{var ve={lane:me,action:ce.action,hasEagerState:ce.hasEagerState,eagerState:ce.eagerState,next:null};re===null?(ee=re=ve,$=w):re=re.next=ve,Kt.lanes|=me,zl|=me}ce=ce.next}while(ce!==null&&ce!==P);re===null?$=w:re.next=ee,Ii(w,u.memoizedState)||(_r=!0),u.memoizedState=w,u.baseState=$,u.baseQueue=re,g.lastRenderedState=w}if(l=g.interleaved,l!==null){A=l;do P=A.lane,Kt.lanes|=P,zl|=P,A=A.next;while(A!==l)}else A===null&&(g.lanes=0);return[u.memoizedState,g.dispatch]}function Ex(l){var u=mi(),g=u.queue;if(g===null)throw Error(n(311));g.lastRenderedReducer=l;var w=g.dispatch,A=g.pending,P=u.memoizedState;if(A!==null){g.pending=null;var $=A=A.next;do P=l(P,$.action),$=$.next;while($!==A);Ii(P,u.memoizedState)||(_r=!0),u.memoizedState=P,u.baseQueue===null&&(u.baseState=P),g.lastRenderedState=P}return[P,w]}function $k(){}function zk(l,u){var g=Kt,w=mi(),A=u(),P=!Ii(w.memoizedState,A);if(P&&(w.memoizedState=A,_r=!0),w=w.queue,Cx(Hk.bind(null,g,w,l),[l]),w.getSnapshot!==u||P||Pn!==null&&Pn.memoizedState.tag&1){if(g.flags|=2048,hf(9,Bk.bind(null,g,w,A,u),void 0,null),In===null)throw Error(n(349));($l&30)!==0||jk(g,u,A)}return A}function jk(l,u,g){l.flags|=16384,l={getSnapshot:u,value:g},u=Kt.updateQueue,u===null?(u={lastEffect:null,stores:null},Kt.updateQueue=u,u.stores=[l]):(g=u.stores,g===null?u.stores=[l]:g.push(l))}function Bk(l,u,g,w){u.value=g,u.getSnapshot=w,Wk(u)&&Uk(l)}function Hk(l,u,g){return g(function(){Wk(u)&&Uk(l)})}function Wk(l){var u=l.getSnapshot;l=l.value;try{var g=u();return!Ii(l,g)}catch{return!0}}function Uk(l){var u=ao(l,1);u!==null&&Di(u,l,1,-1)}function Vk(l){var u=ms();return typeof l=="function"&&(l=l()),u.memoizedState=u.baseState=l,l={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:df,lastRenderedState:l},u.queue=l,l=l.dispatch=hz.bind(null,Kt,l),[u.memoizedState,l]}function hf(l,u,g,w){return l={tag:l,create:u,destroy:g,deps:w,next:null},u=Kt.updateQueue,u===null?(u={lastEffect:null,stores:null},Kt.updateQueue=u,u.lastEffect=l.next=l):(g=u.lastEffect,g===null?u.lastEffect=l.next=l:(w=g.next,g.next=l,l.next=w,u.lastEffect=l)),l}function Gk(){return mi().memoizedState}function $y(l,u,g,w){var A=ms();Kt.flags|=l,A.memoizedState=hf(1|u,g,void 0,w===void 0?null:w)}function zy(l,u,g,w){var A=mi();w=w===void 0?null:w;var P=void 0;if(wn!==null){var $=wn.memoizedState;if(P=$.destroy,w!==null&&bx(w,$.deps)){A.memoizedState=hf(u,g,P,w);return}}Kt.flags|=l,A.memoizedState=hf(1|u,g,P,w)}function qk(l,u){return $y(8390656,8,l,u)}function Cx(l,u){return zy(2048,8,l,u)}function Yk(l,u){return zy(4,2,l,u)}function Xk(l,u){return zy(4,4,l,u)}function Kk(l,u){if(typeof u=="function")return l=l(),u(l),function(){u(null)};if(u!=null)return l=l(),u.current=l,function(){u.current=null}}function Qk(l,u,g){return g=g!=null?g.concat([l]):null,zy(4,4,Kk.bind(null,u,l),g)}function _x(){}function Zk(l,u){var g=mi();u=u===void 0?null:u;var w=g.memoizedState;return w!==null&&u!==null&&bx(u,w[1])?w[0]:(g.memoizedState=[l,u],l)}function Jk(l,u){var g=mi();u=u===void 0?null:u;var w=g.memoizedState;return w!==null&&u!==null&&bx(u,w[1])?w[0]:(l=l(),g.memoizedState=[l,u],l)}function eR(l,u,g){return($l&21)===0?(l.baseState&&(l.baseState=!1,_r=!0),l.memoizedState=g):(Ii(g,u)||(g=PA(),Kt.lanes|=g,zl|=g,l.baseState=!0),u)}function uz(l,u){var g=Et;Et=g!==0&&4>g?g:4,l(!0);var w=vx.transition;vx.transition={};try{l(!1),u()}finally{Et=g,vx.transition=w}}function tR(){return mi().memoizedState}function dz(l,u,g){var w=Ia(l);if(g={lane:w,action:g,hasEagerState:!1,eagerState:null,next:null},nR(l))rR(u,g);else if(g=Mk(l,u,g,w),g!==null){var A=dr();Di(g,l,w,A),iR(g,u,w)}}function hz(l,u,g){var w=Ia(l),A={lane:w,action:g,hasEagerState:!1,eagerState:null,next:null};if(nR(l))rR(u,A);else{var P=l.alternate;if(l.lanes===0&&(P===null||P.lanes===0)&&(P=u.lastRenderedReducer,P!==null))try{var $=u.lastRenderedState,ee=P($,g);if(A.hasEagerState=!0,A.eagerState=ee,Ii(ee,$)){var re=u.interleaved;re===null?(A.next=A,hx(u)):(A.next=re.next,re.next=A),u.interleaved=A;return}}catch{}finally{}g=Mk(l,u,A,w),g!==null&&(A=dr(),Di(g,l,w,A),iR(g,u,w))}}function nR(l){var u=l.alternate;return l===Kt||u!==null&&u===Kt}function rR(l,u){cf=Fy=!0;var g=l.pending;g===null?u.next=u:(u.next=g.next,g.next=u),l.pending=u}function iR(l,u,g){if((g&4194240)!==0){var w=u.lanes;w&=l.pendingLanes,g|=w,u.lanes=g,kw(l,g)}}var jy={readContext:gi,useCallback:qn,useContext:qn,useEffect:qn,useImperativeHandle:qn,useInsertionEffect:qn,useLayoutEffect:qn,useMemo:qn,useReducer:qn,useRef:qn,useState:qn,useDebugValue:qn,useDeferredValue:qn,useTransition:qn,useMutableSource:qn,useSyncExternalStore:qn,useId:qn,unstable_isNewReconciler:!1},fz={readContext:gi,useCallback:function(l,u){return ms().memoizedState=[l,u===void 0?null:u],l},useContext:gi,useEffect:qk,useImperativeHandle:function(l,u,g){return g=g!=null?g.concat([l]):null,$y(4194308,4,Kk.bind(null,u,l),g)},useLayoutEffect:function(l,u){return $y(4194308,4,l,u)},useInsertionEffect:function(l,u){return $y(4,2,l,u)},useMemo:function(l,u){var g=ms();return u=u===void 0?null:u,l=l(),g.memoizedState=[l,u],l},useReducer:function(l,u,g){var w=ms();return u=g!==void 0?g(u):u,w.memoizedState=w.baseState=u,l={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:l,lastRenderedState:u},w.queue=l,l=l.dispatch=dz.bind(null,Kt,l),[w.memoizedState,l]},useRef:function(l){var u=ms();return l={current:l},u.memoizedState=l},useState:Vk,useDebugValue:_x,useDeferredValue:function(l){return ms().memoizedState=l},useTransition:function(){var l=Vk(!1),u=l[0];return l=uz.bind(null,l[1]),ms().memoizedState=l,[u,l]},useMutableSource:function(){},useSyncExternalStore:function(l,u,g){var w=Kt,A=ms();if(Ht){if(g===void 0)throw Error(n(407));g=g()}else{if(g=u(),In===null)throw Error(n(349));($l&30)!==0||jk(w,u,g)}A.memoizedState=g;var P={value:g,getSnapshot:u};return A.queue=P,qk(Hk.bind(null,w,P,l),[l]),w.flags|=2048,hf(9,Bk.bind(null,w,P,g,u),void 0,null),g},useId:function(){var l=ms(),u=In.identifierPrefix;if(Ht){var g=oo,w=so;g=(w&~(1<<32-Hr(w)-1)).toString(32)+g,u=":"+u+"R"+g,g=uf++,0<g&&(u+="H"+g.toString(32)),u+=":"}else g=cz++,u=":"+u+"r"+g.toString(32)+":";return l.memoizedState=u},unstable_isNewReconciler:!1},pz={readContext:gi,useCallback:Zk,useContext:gi,useEffect:Cx,useImperativeHandle:Qk,useInsertionEffect:Yk,useLayoutEffect:Xk,useMemo:Jk,useReducer:Sx,useRef:Gk,useState:function(){return Sx(df)},useDebugValue:_x,useDeferredValue:function(l){var u=mi();return eR(u,wn.memoizedState,l)},useTransition:function(){var l=Sx(df)[0],u=mi().memoizedState;return[l,u]},useMutableSource:$k,useSyncExternalStore:zk,useId:tR,unstable_isNewReconciler:!1},gz={readContext:gi,useCallback:Zk,useContext:gi,useEffect:Cx,useImperativeHandle:Qk,useInsertionEffect:Yk,useLayoutEffect:Xk,useMemo:Jk,useReducer:Ex,useRef:Gk,useState:function(){return Ex(df)},useDebugValue:_x,useDeferredValue:function(l){var u=mi();return wn===null?u.memoizedState=l:eR(u,wn.memoizedState,l)},useTransition:function(){var l=Ex(df)[0],u=mi().memoizedState;return[l,u]},useMutableSource:$k,useSyncExternalStore:zk,useId:tR,unstable_isNewReconciler:!1};function Mi(l,u){if(l&&l.defaultProps){u=te({},u),l=l.defaultProps;for(var g in l)u[g]===void 0&&(u[g]=l[g]);return u}return u}function Ax(l,u,g,w){u=l.memoizedState,g=g(w,u),g=g==null?u:te({},u,g),l.memoizedState=g,l.lanes===0&&(l.updateQueue.baseState=g)}var By={isMounted:function(l){return(l=l._reactInternals)?fs(l)===l:!1},enqueueSetState:function(l,u,g){l=l._reactInternals;var w=dr(),A=Ia(l),P=lo(w,A);P.payload=u,g!=null&&(P.callback=g),u=ka(l,P,A),u!==null&&(Di(u,l,A,w),My(u,l,A))},enqueueReplaceState:function(l,u,g){l=l._reactInternals;var w=dr(),A=Ia(l),P=lo(w,A);P.tag=1,P.payload=u,g!=null&&(P.callback=g),u=ka(l,P,A),u!==null&&(Di(u,l,A,w),My(u,l,A))},enqueueForceUpdate:function(l,u){l=l._reactInternals;var g=dr(),w=Ia(l),A=lo(g,w);A.tag=2,u!=null&&(A.callback=u),u=ka(l,A,w),u!==null&&(Di(u,l,w,g),My(u,l,w))}};function sR(l,u,g,w,A,P,$){return l=l.stateNode,typeof l.shouldComponentUpdate=="function"?l.shouldComponentUpdate(w,P,$):u.prototype&&u.prototype.isPureReactComponent?!Qh(g,w)||!Qh(A,P):!0}function oR(l,u,g){var w=!1,A=Ca,P=u.contextType;return typeof P=="object"&&P!==null?P=gi(P):(A=Cr(u)?Ml:Gn.current,w=u.contextTypes,P=(w=w!=null)?Mu(l,A):Ca),u=new u(g,P),l.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,u.updater=By,l.stateNode=u,u._reactInternals=l,w&&(l=l.stateNode,l.__reactInternalMemoizedUnmaskedChildContext=A,l.__reactInternalMemoizedMaskedChildContext=P),u}function aR(l,u,g,w){l=u.state,typeof u.componentWillReceiveProps=="function"&&u.componentWillReceiveProps(g,w),typeof u.UNSAFE_componentWillReceiveProps=="function"&&u.UNSAFE_componentWillReceiveProps(g,w),u.state!==l&&By.enqueueReplaceState(u,u.state,null)}function kx(l,u,g,w){var A=l.stateNode;A.props=g,A.state=l.memoizedState,A.refs={},fx(l);var P=u.contextType;typeof P=="object"&&P!==null?A.context=gi(P):(P=Cr(u)?Ml:Gn.current,A.context=Mu(l,P)),A.state=l.memoizedState,P=u.getDerivedStateFromProps,typeof P=="function"&&(Ax(l,u,P,g),A.state=l.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof A.getSnapshotBeforeUpdate=="function"||typeof A.UNSAFE_componentWillMount!="function"&&typeof A.componentWillMount!="function"||(u=A.state,typeof A.componentWillMount=="function"&&A.componentWillMount(),typeof A.UNSAFE_componentWillMount=="function"&&A.UNSAFE_componentWillMount(),u!==A.state&&By.enqueueReplaceState(A,A.state,null),Oy(l,g,A,w),A.state=l.memoizedState),typeof A.componentDidMount=="function"&&(l.flags|=4194308)}function Bu(l,u){try{var g="",w=u;do g+=J(w),w=w.return;while(w);var A=g}catch(P){A=`
Error generating stack: `+P.message+`
`+P.stack}return{value:l,source:u,stack:A,digest:null}}function Rx(l,u,g){return{value:l,source:null,stack:g??null,digest:u??null}}function Tx(l,u){try{console.error(u.value)}catch(g){setTimeout(function(){throw g})}}var mz=typeof WeakMap=="function"?WeakMap:Map;function lR(l,u,g){g=lo(-1,g),g.tag=3,g.payload={element:null};var w=u.value;return g.callback=function(){Yy||(Yy=!0,Ux=w),Tx(l,u)},g}function cR(l,u,g){g=lo(-1,g),g.tag=3;var w=l.type.getDerivedStateFromError;if(typeof w=="function"){var A=u.value;g.payload=function(){return w(A)},g.callback=function(){Tx(l,u)}}var P=l.stateNode;return P!==null&&typeof P.componentDidCatch=="function"&&(g.callback=function(){Tx(l,u),typeof w!="function"&&(Ta===null?Ta=new Set([this]):Ta.add(this));var $=u.stack;this.componentDidCatch(u.value,{componentStack:$!==null?$:""})}),g}function uR(l,u,g){var w=l.pingCache;if(w===null){w=l.pingCache=new mz;var A=new Set;w.set(u,A)}else A=w.get(u),A===void 0&&(A=new Set,w.set(u,A));A.has(g)||(A.add(g),l=Pz.bind(null,l,u,g),u.then(l,l))}function dR(l){do{var u;if((u=l.tag===13)&&(u=l.memoizedState,u=u!==null?u.dehydrated!==null:!0),u)return l;l=l.return}while(l!==null);return null}function hR(l,u,g,w,A){return(l.mode&1)===0?(l===u?l.flags|=65536:(l.flags|=128,g.flags|=131072,g.flags&=-52805,g.tag===1&&(g.alternate===null?g.tag=17:(u=lo(-1,1),u.tag=2,ka(g,u,1))),g.lanes|=1),l):(l.flags|=65536,l.lanes=A,l)}var yz=_.ReactCurrentOwner,_r=!1;function ur(l,u,g,w){u.child=l===null?Nk(u,null,g,w):Fu(u,l.child,g,w)}function fR(l,u,g,w,A){g=g.render;var P=u.ref;return zu(u,A),w=wx(l,u,g,w,P,A),g=xx(),l!==null&&!_r?(u.updateQueue=l.updateQueue,u.flags&=-2053,l.lanes&=~A,co(l,u,A)):(Ht&&g&&rx(u),u.flags|=1,ur(l,u,w,A),u.child)}function pR(l,u,g,w,A){if(l===null){var P=g.type;return typeof P=="function"&&!Qx(P)&&P.defaultProps===void 0&&g.compare===null&&g.defaultProps===void 0?(u.tag=15,u.type=P,gR(l,u,P,w,A)):(l=ev(g.type,null,w,u,u.mode,A),l.ref=u.ref,l.return=u,u.child=l)}if(P=l.child,(l.lanes&A)===0){var $=P.memoizedProps;if(g=g.compare,g=g!==null?g:Qh,g($,w)&&l.ref===u.ref)return co(l,u,A)}return u.flags|=1,l=Ma(P,w),l.ref=u.ref,l.return=u,u.child=l}function gR(l,u,g,w,A){if(l!==null){var P=l.memoizedProps;if(Qh(P,w)&&l.ref===u.ref)if(_r=!1,u.pendingProps=w=P,(l.lanes&A)!==0)(l.flags&131072)!==0&&(_r=!0);else return u.lanes=l.lanes,co(l,u,A)}return Px(l,u,g,w,A)}function mR(l,u,g){var w=u.pendingProps,A=w.children,P=l!==null?l.memoizedState:null;if(w.mode==="hidden")if((u.mode&1)===0)u.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ft(Wu,Gr),Gr|=g;else{if((g&1073741824)===0)return l=P!==null?P.baseLanes|g:g,u.lanes=u.childLanes=1073741824,u.memoizedState={baseLanes:l,cachePool:null,transitions:null},u.updateQueue=null,Ft(Wu,Gr),Gr|=l,null;u.memoizedState={baseLanes:0,cachePool:null,transitions:null},w=P!==null?P.baseLanes:g,Ft(Wu,Gr),Gr|=w}else P!==null?(w=P.baseLanes|g,u.memoizedState=null):w=g,Ft(Wu,Gr),Gr|=w;return ur(l,u,A,g),u.child}function yR(l,u){var g=u.ref;(l===null&&g!==null||l!==null&&l.ref!==g)&&(u.flags|=512,u.flags|=2097152)}function Px(l,u,g,w,A){var P=Cr(g)?Ml:Gn.current;return P=Mu(u,P),zu(u,A),g=wx(l,u,g,w,P,A),w=xx(),l!==null&&!_r?(u.updateQueue=l.updateQueue,u.flags&=-2053,l.lanes&=~A,co(l,u,A)):(Ht&&w&&rx(u),u.flags|=1,ur(l,u,g,A),u.child)}function vR(l,u,g,w,A){if(Cr(g)){var P=!0;_y(u)}else P=!1;if(zu(u,A),u.stateNode===null)Wy(l,u),oR(u,g,w),kx(u,g,w,A),w=!0;else if(l===null){var $=u.stateNode,ee=u.memoizedProps;$.props=ee;var re=$.context,ce=g.contextType;typeof ce=="object"&&ce!==null?ce=gi(ce):(ce=Cr(g)?Ml:Gn.current,ce=Mu(u,ce));var me=g.getDerivedStateFromProps,ve=typeof me=="function"||typeof $.getSnapshotBeforeUpdate=="function";ve||typeof $.UNSAFE_componentWillReceiveProps!="function"&&typeof $.componentWillReceiveProps!="function"||(ee!==w||re!==ce)&&aR(u,$,w,ce),Aa=!1;var ge=u.memoizedState;$.state=ge,Oy(u,w,$,A),re=u.memoizedState,ee!==w||ge!==re||Er.current||Aa?(typeof me=="function"&&(Ax(u,g,me,w),re=u.memoizedState),(ee=Aa||sR(u,g,ee,w,ge,re,ce))?(ve||typeof $.UNSAFE_componentWillMount!="function"&&typeof $.componentWillMount!="function"||(typeof $.componentWillMount=="function"&&$.componentWillMount(),typeof $.UNSAFE_componentWillMount=="function"&&$.UNSAFE_componentWillMount()),typeof $.componentDidMount=="function"&&(u.flags|=4194308)):(typeof $.componentDidMount=="function"&&(u.flags|=4194308),u.memoizedProps=w,u.memoizedState=re),$.props=w,$.state=re,$.context=ce,w=ee):(typeof $.componentDidMount=="function"&&(u.flags|=4194308),w=!1)}else{$=u.stateNode,Ok(l,u),ee=u.memoizedProps,ce=u.type===u.elementType?ee:Mi(u.type,ee),$.props=ce,ve=u.pendingProps,ge=$.context,re=g.contextType,typeof re=="object"&&re!==null?re=gi(re):(re=Cr(g)?Ml:Gn.current,re=Mu(u,re));var Ae=g.getDerivedStateFromProps;(me=typeof Ae=="function"||typeof $.getSnapshotBeforeUpdate=="function")||typeof $.UNSAFE_componentWillReceiveProps!="function"&&typeof $.componentWillReceiveProps!="function"||(ee!==ve||ge!==re)&&aR(u,$,w,re),Aa=!1,ge=u.memoizedState,$.state=ge,Oy(u,w,$,A);var Ie=u.memoizedState;ee!==ve||ge!==Ie||Er.current||Aa?(typeof Ae=="function"&&(Ax(u,g,Ae,w),Ie=u.memoizedState),(ce=Aa||sR(u,g,ce,w,ge,Ie,re)||!1)?(me||typeof $.UNSAFE_componentWillUpdate!="function"&&typeof $.componentWillUpdate!="function"||(typeof $.componentWillUpdate=="function"&&$.componentWillUpdate(w,Ie,re),typeof $.UNSAFE_componentWillUpdate=="function"&&$.UNSAFE_componentWillUpdate(w,Ie,re)),typeof $.componentDidUpdate=="function"&&(u.flags|=4),typeof $.getSnapshotBeforeUpdate=="function"&&(u.flags|=1024)):(typeof $.componentDidUpdate!="function"||ee===l.memoizedProps&&ge===l.memoizedState||(u.flags|=4),typeof $.getSnapshotBeforeUpdate!="function"||ee===l.memoizedProps&&ge===l.memoizedState||(u.flags|=1024),u.memoizedProps=w,u.memoizedState=Ie),$.props=w,$.state=Ie,$.context=re,w=ce):(typeof $.componentDidUpdate!="function"||ee===l.memoizedProps&&ge===l.memoizedState||(u.flags|=4),typeof $.getSnapshotBeforeUpdate!="function"||ee===l.memoizedProps&&ge===l.memoizedState||(u.flags|=1024),w=!1)}return Ix(l,u,g,w,P,A)}function Ix(l,u,g,w,A,P){yR(l,u);var $=(u.flags&128)!==0;if(!w&&!$)return A&&Ek(u,g,!1),co(l,u,P);w=u.stateNode,yz.current=u;var ee=$&&typeof g.getDerivedStateFromError!="function"?null:w.render();return u.flags|=1,l!==null&&$?(u.child=Fu(u,l.child,null,P),u.child=Fu(u,null,ee,P)):ur(l,u,ee,P),u.memoizedState=w.state,A&&Ek(u,g,!0),u.child}function bR(l){var u=l.stateNode;u.pendingContext?xk(l,u.pendingContext,u.pendingContext!==u.context):u.context&&xk(l,u.context,!1),px(l,u.containerInfo)}function wR(l,u,g,w,A){return Du(),ax(A),u.flags|=256,ur(l,u,g,w),u.child}var Nx={dehydrated:null,treeContext:null,retryLane:0};function Mx(l){return{baseLanes:l,cachePool:null,transitions:null}}function xR(l,u,g){var w=u.pendingProps,A=Xt.current,P=!1,$=(u.flags&128)!==0,ee;if((ee=$)||(ee=l!==null&&l.memoizedState===null?!1:(A&2)!==0),ee?(P=!0,u.flags&=-129):(l===null||l.memoizedState!==null)&&(A|=1),Ft(Xt,A&1),l===null)return ox(u),l=u.memoizedState,l!==null&&(l=l.dehydrated,l!==null)?((u.mode&1)===0?u.lanes=1:l.data==="$!"?u.lanes=8:u.lanes=1073741824,null):($=w.children,l=w.fallback,P?(w=u.mode,P=u.child,$={mode:"hidden",children:$},(w&1)===0&&P!==null?(P.childLanes=0,P.pendingProps=$):P=tv($,w,0,null),l=Wl(l,w,g,null),P.return=u,l.return=u,P.sibling=l,u.child=P,u.child.memoizedState=Mx(g),u.memoizedState=Nx,l):Ox(u,$));if(A=l.memoizedState,A!==null&&(ee=A.dehydrated,ee!==null))return vz(l,u,$,w,ee,A,g);if(P){P=w.fallback,$=u.mode,A=l.child,ee=A.sibling;var re={mode:"hidden",children:w.children};return($&1)===0&&u.child!==A?(w=u.child,w.childLanes=0,w.pendingProps=re,u.deletions=null):(w=Ma(A,re),w.subtreeFlags=A.subtreeFlags&14680064),ee!==null?P=Ma(ee,P):(P=Wl(P,$,g,null),P.flags|=2),P.return=u,w.return=u,w.sibling=P,u.child=w,w=P,P=u.child,$=l.child.memoizedState,$=$===null?Mx(g):{baseLanes:$.baseLanes|g,cachePool:null,transitions:$.transitions},P.memoizedState=$,P.childLanes=l.childLanes&~g,u.memoizedState=Nx,w}return P=l.child,l=P.sibling,w=Ma(P,{mode:"visible",children:w.children}),(u.mode&1)===0&&(w.lanes=g),w.return=u,w.sibling=null,l!==null&&(g=u.deletions,g===null?(u.deletions=[l],u.flags|=16):g.push(l)),u.child=w,u.memoizedState=null,w}function Ox(l,u){return u=tv({mode:"visible",children:u},l.mode,0,null),u.return=l,l.child=u}function Hy(l,u,g,w){return w!==null&&ax(w),Fu(u,l.child,null,g),l=Ox(u,u.pendingProps.children),l.flags|=2,u.memoizedState=null,l}function vz(l,u,g,w,A,P,$){if(g)return u.flags&256?(u.flags&=-257,w=Rx(Error(n(422))),Hy(l,u,$,w)):u.memoizedState!==null?(u.child=l.child,u.flags|=128,null):(P=w.fallback,A=u.mode,w=tv({mode:"visible",children:w.children},A,0,null),P=Wl(P,A,$,null),P.flags|=2,w.return=u,P.return=u,w.sibling=P,u.child=w,(u.mode&1)!==0&&Fu(u,l.child,null,$),u.child.memoizedState=Mx($),u.memoizedState=Nx,P);if((u.mode&1)===0)return Hy(l,u,$,null);if(A.data==="$!"){if(w=A.nextSibling&&A.nextSibling.dataset,w)var ee=w.dgst;return w=ee,P=Error(n(419)),w=Rx(P,w,void 0),Hy(l,u,$,w)}if(ee=($&l.childLanes)!==0,_r||ee){if(w=In,w!==null){switch($&-$){case 4:A=2;break;case 16:A=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:A=32;break;case 536870912:A=268435456;break;default:A=0}A=(A&(w.suspendedLanes|$))!==0?0:A,A!==0&&A!==P.retryLane&&(P.retryLane=A,ao(l,A),Di(w,l,A,-1))}return Kx(),w=Rx(Error(n(421))),Hy(l,u,$,w)}return A.data==="$?"?(u.flags|=128,u.child=l.child,u=Iz.bind(null,l),A._reactRetry=u,null):(l=P.treeContext,Vr=Sa(A.nextSibling),Ur=u,Ht=!0,Ni=null,l!==null&&(fi[pi++]=so,fi[pi++]=oo,fi[pi++]=Ol,so=l.id,oo=l.overflow,Ol=u),u=Ox(u,w.children),u.flags|=4096,u)}function SR(l,u,g){l.lanes|=u;var w=l.alternate;w!==null&&(w.lanes|=u),dx(l.return,u,g)}function Lx(l,u,g,w,A){var P=l.memoizedState;P===null?l.memoizedState={isBackwards:u,rendering:null,renderingStartTime:0,last:w,tail:g,tailMode:A}:(P.isBackwards=u,P.rendering=null,P.renderingStartTime=0,P.last=w,P.tail=g,P.tailMode=A)}function ER(l,u,g){var w=u.pendingProps,A=w.revealOrder,P=w.tail;if(ur(l,u,w.children,g),w=Xt.current,(w&2)!==0)w=w&1|2,u.flags|=128;else{if(l!==null&&(l.flags&128)!==0)e:for(l=u.child;l!==null;){if(l.tag===13)l.memoizedState!==null&&SR(l,g,u);else if(l.tag===19)SR(l,g,u);else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===u)break e;for(;l.sibling===null;){if(l.return===null||l.return===u)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}w&=1}if(Ft(Xt,w),(u.mode&1)===0)u.memoizedState=null;else switch(A){case"forwards":for(g=u.child,A=null;g!==null;)l=g.alternate,l!==null&&Ly(l)===null&&(A=g),g=g.sibling;g=A,g===null?(A=u.child,u.child=null):(A=g.sibling,g.sibling=null),Lx(u,!1,A,g,P);break;case"backwards":for(g=null,A=u.child,u.child=null;A!==null;){if(l=A.alternate,l!==null&&Ly(l)===null){u.child=A;break}l=A.sibling,A.sibling=g,g=A,A=l}Lx(u,!0,g,null,P);break;case"together":Lx(u,!1,null,null,void 0);break;default:u.memoizedState=null}return u.child}function Wy(l,u){(u.mode&1)===0&&l!==null&&(l.alternate=null,u.alternate=null,u.flags|=2)}function co(l,u,g){if(l!==null&&(u.dependencies=l.dependencies),zl|=u.lanes,(g&u.childLanes)===0)return null;if(l!==null&&u.child!==l.child)throw Error(n(153));if(u.child!==null){for(l=u.child,g=Ma(l,l.pendingProps),u.child=g,g.return=u;l.sibling!==null;)l=l.sibling,g=g.sibling=Ma(l,l.pendingProps),g.return=u;g.sibling=null}return u.child}function bz(l,u,g){switch(u.tag){case 3:bR(u),Du();break;case 5:Fk(u);break;case 1:Cr(u.type)&&_y(u);break;case 4:px(u,u.stateNode.containerInfo);break;case 10:var w=u.type._context,A=u.memoizedProps.value;Ft(Iy,w._currentValue),w._currentValue=A;break;case 13:if(w=u.memoizedState,w!==null)return w.dehydrated!==null?(Ft(Xt,Xt.current&1),u.flags|=128,null):(g&u.child.childLanes)!==0?xR(l,u,g):(Ft(Xt,Xt.current&1),l=co(l,u,g),l!==null?l.sibling:null);Ft(Xt,Xt.current&1);break;case 19:if(w=(g&u.childLanes)!==0,(l.flags&128)!==0){if(w)return ER(l,u,g);u.flags|=128}if(A=u.memoizedState,A!==null&&(A.rendering=null,A.tail=null,A.lastEffect=null),Ft(Xt,Xt.current),w)break;return null;case 22:case 23:return u.lanes=0,mR(l,u,g)}return co(l,u,g)}var CR,Dx,_R,AR;CR=function(l,u){for(var g=u.child;g!==null;){if(g.tag===5||g.tag===6)l.appendChild(g.stateNode);else if(g.tag!==4&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===u)break;for(;g.sibling===null;){if(g.return===null||g.return===u)return;g=g.return}g.sibling.return=g.return,g=g.sibling}},Dx=function(){},_R=function(l,u,g,w){var A=l.memoizedProps;if(A!==w){l=u.stateNode,Fl(gs.current);var P=null;switch(g){case"input":A=xe(l,A),w=xe(l,w),P=[];break;case"select":A=te({},A,{value:void 0}),w=te({},w,{value:void 0}),P=[];break;case"textarea":A=De(l,A),w=De(l,w),P=[];break;default:typeof A.onClick!="function"&&typeof w.onClick=="function"&&(l.onclick=Sy)}gt(g,w);var $;g=null;for(ce in A)if(!w.hasOwnProperty(ce)&&A.hasOwnProperty(ce)&&A[ce]!=null)if(ce==="style"){var ee=A[ce];for($ in ee)ee.hasOwnProperty($)&&(g||(g={}),g[$]="")}else ce!=="dangerouslySetInnerHTML"&&ce!=="children"&&ce!=="suppressContentEditableWarning"&&ce!=="suppressHydrationWarning"&&ce!=="autoFocus"&&(i.hasOwnProperty(ce)?P||(P=[]):(P=P||[]).push(ce,null));for(ce in w){var re=w[ce];if(ee=A!=null?A[ce]:void 0,w.hasOwnProperty(ce)&&re!==ee&&(re!=null||ee!=null))if(ce==="style")if(ee){for($ in ee)!ee.hasOwnProperty($)||re&&re.hasOwnProperty($)||(g||(g={}),g[$]="");for($ in re)re.hasOwnProperty($)&&ee[$]!==re[$]&&(g||(g={}),g[$]=re[$])}else g||(P||(P=[]),P.push(ce,g)),g=re;else ce==="dangerouslySetInnerHTML"?(re=re?re.__html:void 0,ee=ee?ee.__html:void 0,re!=null&&ee!==re&&(P=P||[]).push(ce,re)):ce==="children"?typeof re!="string"&&typeof re!="number"||(P=P||[]).push(ce,""+re):ce!=="suppressContentEditableWarning"&&ce!=="suppressHydrationWarning"&&(i.hasOwnProperty(ce)?(re!=null&&ce==="onScroll"&&jt("scroll",l),P||ee===re||(P=[])):(P=P||[]).push(ce,re))}g&&(P=P||[]).push("style",g);var ce=P;(u.updateQueue=ce)&&(u.flags|=4)}},AR=function(l,u,g,w){g!==w&&(u.flags|=4)};function ff(l,u){if(!Ht)switch(l.tailMode){case"hidden":u=l.tail;for(var g=null;u!==null;)u.alternate!==null&&(g=u),u=u.sibling;g===null?l.tail=null:g.sibling=null;break;case"collapsed":g=l.tail;for(var w=null;g!==null;)g.alternate!==null&&(w=g),g=g.sibling;w===null?u||l.tail===null?l.tail=null:l.tail.sibling=null:w.sibling=null}}function Yn(l){var u=l.alternate!==null&&l.alternate.child===l.child,g=0,w=0;if(u)for(var A=l.child;A!==null;)g|=A.lanes|A.childLanes,w|=A.subtreeFlags&14680064,w|=A.flags&14680064,A.return=l,A=A.sibling;else for(A=l.child;A!==null;)g|=A.lanes|A.childLanes,w|=A.subtreeFlags,w|=A.flags,A.return=l,A=A.sibling;return l.subtreeFlags|=w,l.childLanes=g,u}function wz(l,u,g){var w=u.pendingProps;switch(ix(u),u.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Yn(u),null;case 1:return Cr(u.type)&&Cy(),Yn(u),null;case 3:return w=u.stateNode,ju(),Bt(Er),Bt(Gn),yx(),w.pendingContext&&(w.context=w.pendingContext,w.pendingContext=null),(l===null||l.child===null)&&(Ty(u)?u.flags|=4:l===null||l.memoizedState.isDehydrated&&(u.flags&256)===0||(u.flags|=1024,Ni!==null&&(qx(Ni),Ni=null))),Dx(l,u),Yn(u),null;case 5:gx(u);var A=Fl(lf.current);if(g=u.type,l!==null&&u.stateNode!=null)_R(l,u,g,w,A),l.ref!==u.ref&&(u.flags|=512,u.flags|=2097152);else{if(!w){if(u.stateNode===null)throw Error(n(166));return Yn(u),null}if(l=Fl(gs.current),Ty(u)){w=u.stateNode,g=u.type;var P=u.memoizedProps;switch(w[ps]=u,w[nf]=P,l=(u.mode&1)!==0,g){case"dialog":jt("cancel",w),jt("close",w);break;case"iframe":case"object":case"embed":jt("load",w);break;case"video":case"audio":for(A=0;A<Jh.length;A++)jt(Jh[A],w);break;case"source":jt("error",w);break;case"img":case"image":case"link":jt("error",w),jt("load",w);break;case"details":jt("toggle",w);break;case"input":Ge(w,P),jt("invalid",w);break;case"select":w._wrapperState={wasMultiple:!!P.multiple},jt("invalid",w);break;case"textarea":ar(w,P),jt("invalid",w)}gt(g,P),A=null;for(var $ in P)if(P.hasOwnProperty($)){var ee=P[$];$==="children"?typeof ee=="string"?w.textContent!==ee&&(P.suppressHydrationWarning!==!0&&xy(w.textContent,ee,l),A=["children",ee]):typeof ee=="number"&&w.textContent!==""+ee&&(P.suppressHydrationWarning!==!0&&xy(w.textContent,ee,l),A=["children",""+ee]):i.hasOwnProperty($)&&ee!=null&&$==="onScroll"&&jt("scroll",w)}switch(g){case"input":ye(w),zt(w,P,!0);break;case"textarea":ye(w),lr(w);break;case"select":case"option":break;default:typeof P.onClick=="function"&&(w.onclick=Sy)}w=A,u.updateQueue=w,w!==null&&(u.flags|=4)}else{$=A.nodeType===9?A:A.ownerDocument,l==="http://www.w3.org/1999/xhtml"&&(l=xr(g)),l==="http://www.w3.org/1999/xhtml"?g==="script"?(l=$.createElement("div"),l.innerHTML="<script><\/script>",l=l.removeChild(l.firstChild)):typeof w.is=="string"?l=$.createElement(g,{is:w.is}):(l=$.createElement(g),g==="select"&&($=l,w.multiple?$.multiple=!0:w.size&&($.size=w.size))):l=$.createElementNS(l,g),l[ps]=u,l[nf]=w,CR(l,u,!1,!1),u.stateNode=l;e:{switch($=qt(g,w),g){case"dialog":jt("cancel",l),jt("close",l),A=w;break;case"iframe":case"object":case"embed":jt("load",l),A=w;break;case"video":case"audio":for(A=0;A<Jh.length;A++)jt(Jh[A],l);A=w;break;case"source":jt("error",l),A=w;break;case"img":case"image":case"link":jt("error",l),jt("load",l),A=w;break;case"details":jt("toggle",l),A=w;break;case"input":Ge(l,w),A=xe(l,w),jt("invalid",l);break;case"option":A=w;break;case"select":l._wrapperState={wasMultiple:!!w.multiple},A=te({},w,{value:void 0}),jt("invalid",l);break;case"textarea":ar(l,w),A=De(l,w),jt("invalid",l);break;default:A=w}gt(g,A),ee=A;for(P in ee)if(ee.hasOwnProperty(P)){var re=ee[P];P==="style"?kl(l,re):P==="dangerouslySetInnerHTML"?(re=re?re.__html:void 0,re!=null&&Br(l,re)):P==="children"?typeof re=="string"?(g!=="textarea"||re!=="")&&cr(l,re):typeof re=="number"&&cr(l,""+re):P!=="suppressContentEditableWarning"&&P!=="suppressHydrationWarning"&&P!=="autoFocus"&&(i.hasOwnProperty(P)?re!=null&&P==="onScroll"&&jt("scroll",l):re!=null&&S(l,P,re,$))}switch(g){case"input":ye(l),zt(l,w,!1);break;case"textarea":ye(l),lr(l);break;case"option":w.value!=null&&l.setAttribute("value",""+oe(w.value));break;case"select":l.multiple=!!w.multiple,P=w.value,P!=null?wt(l,!!w.multiple,P,!1):w.defaultValue!=null&&wt(l,!!w.multiple,w.defaultValue,!0);break;default:typeof A.onClick=="function"&&(l.onclick=Sy)}switch(g){case"button":case"input":case"select":case"textarea":w=!!w.autoFocus;break e;case"img":w=!0;break e;default:w=!1}}w&&(u.flags|=4)}u.ref!==null&&(u.flags|=512,u.flags|=2097152)}return Yn(u),null;case 6:if(l&&u.stateNode!=null)AR(l,u,l.memoizedProps,w);else{if(typeof w!="string"&&u.stateNode===null)throw Error(n(166));if(g=Fl(lf.current),Fl(gs.current),Ty(u)){if(w=u.stateNode,g=u.memoizedProps,w[ps]=u,(P=w.nodeValue!==g)&&(l=Ur,l!==null))switch(l.tag){case 3:xy(w.nodeValue,g,(l.mode&1)!==0);break;case 5:l.memoizedProps.suppressHydrationWarning!==!0&&xy(w.nodeValue,g,(l.mode&1)!==0)}P&&(u.flags|=4)}else w=(g.nodeType===9?g:g.ownerDocument).createTextNode(w),w[ps]=u,u.stateNode=w}return Yn(u),null;case 13:if(Bt(Xt),w=u.memoizedState,l===null||l.memoizedState!==null&&l.memoizedState.dehydrated!==null){if(Ht&&Vr!==null&&(u.mode&1)!==0&&(u.flags&128)===0)Tk(),Du(),u.flags|=98560,P=!1;else if(P=Ty(u),w!==null&&w.dehydrated!==null){if(l===null){if(!P)throw Error(n(318));if(P=u.memoizedState,P=P!==null?P.dehydrated:null,!P)throw Error(n(317));P[ps]=u}else Du(),(u.flags&128)===0&&(u.memoizedState=null),u.flags|=4;Yn(u),P=!1}else Ni!==null&&(qx(Ni),Ni=null),P=!0;if(!P)return u.flags&65536?u:null}return(u.flags&128)!==0?(u.lanes=g,u):(w=w!==null,w!==(l!==null&&l.memoizedState!==null)&&w&&(u.child.flags|=8192,(u.mode&1)!==0&&(l===null||(Xt.current&1)!==0?xn===0&&(xn=3):Kx())),u.updateQueue!==null&&(u.flags|=4),Yn(u),null);case 4:return ju(),Dx(l,u),l===null&&ef(u.stateNode.containerInfo),Yn(u),null;case 10:return ux(u.type._context),Yn(u),null;case 17:return Cr(u.type)&&Cy(),Yn(u),null;case 19:if(Bt(Xt),P=u.memoizedState,P===null)return Yn(u),null;if(w=(u.flags&128)!==0,$=P.rendering,$===null)if(w)ff(P,!1);else{if(xn!==0||l!==null&&(l.flags&128)!==0)for(l=u.child;l!==null;){if($=Ly(l),$!==null){for(u.flags|=128,ff(P,!1),w=$.updateQueue,w!==null&&(u.updateQueue=w,u.flags|=4),u.subtreeFlags=0,w=g,g=u.child;g!==null;)P=g,l=w,P.flags&=14680066,$=P.alternate,$===null?(P.childLanes=0,P.lanes=l,P.child=null,P.subtreeFlags=0,P.memoizedProps=null,P.memoizedState=null,P.updateQueue=null,P.dependencies=null,P.stateNode=null):(P.childLanes=$.childLanes,P.lanes=$.lanes,P.child=$.child,P.subtreeFlags=0,P.deletions=null,P.memoizedProps=$.memoizedProps,P.memoizedState=$.memoizedState,P.updateQueue=$.updateQueue,P.type=$.type,l=$.dependencies,P.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),g=g.sibling;return Ft(Xt,Xt.current&1|2),u.child}l=l.sibling}P.tail!==null&&Yt()>Uu&&(u.flags|=128,w=!0,ff(P,!1),u.lanes=4194304)}else{if(!w)if(l=Ly($),l!==null){if(u.flags|=128,w=!0,g=l.updateQueue,g!==null&&(u.updateQueue=g,u.flags|=4),ff(P,!0),P.tail===null&&P.tailMode==="hidden"&&!$.alternate&&!Ht)return Yn(u),null}else 2*Yt()-P.renderingStartTime>Uu&&g!==1073741824&&(u.flags|=128,w=!0,ff(P,!1),u.lanes=4194304);P.isBackwards?($.sibling=u.child,u.child=$):(g=P.last,g!==null?g.sibling=$:u.child=$,P.last=$)}return P.tail!==null?(u=P.tail,P.rendering=u,P.tail=u.sibling,P.renderingStartTime=Yt(),u.sibling=null,g=Xt.current,Ft(Xt,w?g&1|2:g&1),u):(Yn(u),null);case 22:case 23:return Xx(),w=u.memoizedState!==null,l!==null&&l.memoizedState!==null!==w&&(u.flags|=8192),w&&(u.mode&1)!==0?(Gr&1073741824)!==0&&(Yn(u),u.subtreeFlags&6&&(u.flags|=8192)):Yn(u),null;case 24:return null;case 25:return null}throw Error(n(156,u.tag))}function xz(l,u){switch(ix(u),u.tag){case 1:return Cr(u.type)&&Cy(),l=u.flags,l&65536?(u.flags=l&-65537|128,u):null;case 3:return ju(),Bt(Er),Bt(Gn),yx(),l=u.flags,(l&65536)!==0&&(l&128)===0?(u.flags=l&-65537|128,u):null;case 5:return gx(u),null;case 13:if(Bt(Xt),l=u.memoizedState,l!==null&&l.dehydrated!==null){if(u.alternate===null)throw Error(n(340));Du()}return l=u.flags,l&65536?(u.flags=l&-65537|128,u):null;case 19:return Bt(Xt),null;case 4:return ju(),null;case 10:return ux(u.type._context),null;case 22:case 23:return Xx(),null;case 24:return null;default:return null}}var Uy=!1,Xn=!1,Sz=typeof WeakSet=="function"?WeakSet:Set,Re=null;function Hu(l,u){var g=l.ref;if(g!==null)if(typeof g=="function")try{g(null)}catch(w){tn(l,u,w)}else g.current=null}function Fx(l,u,g){try{g()}catch(w){tn(l,u,w)}}var kR=!1;function Ez(l,u){if(Xw=uy,l=sk(),Bw(l)){if("selectionStart"in l)var g={start:l.selectionStart,end:l.selectionEnd};else e:{g=(g=l.ownerDocument)&&g.defaultView||window;var w=g.getSelection&&g.getSelection();if(w&&w.rangeCount!==0){g=w.anchorNode;var A=w.anchorOffset,P=w.focusNode;w=w.focusOffset;try{g.nodeType,P.nodeType}catch{g=null;break e}var $=0,ee=-1,re=-1,ce=0,me=0,ve=l,ge=null;t:for(;;){for(var Ae;ve!==g||A!==0&&ve.nodeType!==3||(ee=$+A),ve!==P||w!==0&&ve.nodeType!==3||(re=$+w),ve.nodeType===3&&($+=ve.nodeValue.length),(Ae=ve.firstChild)!==null;)ge=ve,ve=Ae;for(;;){if(ve===l)break t;if(ge===g&&++ce===A&&(ee=$),ge===P&&++me===w&&(re=$),(Ae=ve.nextSibling)!==null)break;ve=ge,ge=ve.parentNode}ve=Ae}g=ee===-1||re===-1?null:{start:ee,end:re}}else g=null}g=g||{start:0,end:0}}else g=null;for(Kw={focusedElem:l,selectionRange:g},uy=!1,Re=u;Re!==null;)if(u=Re,l=u.child,(u.subtreeFlags&1028)!==0&&l!==null)l.return=u,Re=l;else for(;Re!==null;){u=Re;try{var Ie=u.alternate;if((u.flags&1024)!==0)switch(u.tag){case 0:case 11:case 15:break;case 1:if(Ie!==null){var Le=Ie.memoizedProps,ln=Ie.memoizedState,ae=u.stateNode,se=ae.getSnapshotBeforeUpdate(u.elementType===u.type?Le:Mi(u.type,Le),ln);ae.__reactInternalSnapshotBeforeUpdate=se}break;case 3:var le=u.stateNode.containerInfo;le.nodeType===1?le.textContent="":le.nodeType===9&&le.documentElement&&le.removeChild(le.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(be){tn(u,u.return,be)}if(l=u.sibling,l!==null){l.return=u.return,Re=l;break}Re=u.return}return Ie=kR,kR=!1,Ie}function pf(l,u,g){var w=u.updateQueue;if(w=w!==null?w.lastEffect:null,w!==null){var A=w=w.next;do{if((A.tag&l)===l){var P=A.destroy;A.destroy=void 0,P!==void 0&&Fx(u,g,P)}A=A.next}while(A!==w)}}function Vy(l,u){if(u=u.updateQueue,u=u!==null?u.lastEffect:null,u!==null){var g=u=u.next;do{if((g.tag&l)===l){var w=g.create;g.destroy=w()}g=g.next}while(g!==u)}}function $x(l){var u=l.ref;if(u!==null){var g=l.stateNode;switch(l.tag){case 5:l=g;break;default:l=g}typeof u=="function"?u(l):u.current=l}}function RR(l){var u=l.alternate;u!==null&&(l.alternate=null,RR(u)),l.child=null,l.deletions=null,l.sibling=null,l.tag===5&&(u=l.stateNode,u!==null&&(delete u[ps],delete u[nf],delete u[ex],delete u[sz],delete u[oz])),l.stateNode=null,l.return=null,l.dependencies=null,l.memoizedProps=null,l.memoizedState=null,l.pendingProps=null,l.stateNode=null,l.updateQueue=null}function TR(l){return l.tag===5||l.tag===3||l.tag===4}function PR(l){e:for(;;){for(;l.sibling===null;){if(l.return===null||TR(l.return))return null;l=l.return}for(l.sibling.return=l.return,l=l.sibling;l.tag!==5&&l.tag!==6&&l.tag!==18;){if(l.flags&2||l.child===null||l.tag===4)continue e;l.child.return=l,l=l.child}if(!(l.flags&2))return l.stateNode}}function zx(l,u,g){var w=l.tag;if(w===5||w===6)l=l.stateNode,u?g.nodeType===8?g.parentNode.insertBefore(l,u):g.insertBefore(l,u):(g.nodeType===8?(u=g.parentNode,u.insertBefore(l,g)):(u=g,u.appendChild(l)),g=g._reactRootContainer,g!=null||u.onclick!==null||(u.onclick=Sy));else if(w!==4&&(l=l.child,l!==null))for(zx(l,u,g),l=l.sibling;l!==null;)zx(l,u,g),l=l.sibling}function jx(l,u,g){var w=l.tag;if(w===5||w===6)l=l.stateNode,u?g.insertBefore(l,u):g.appendChild(l);else if(w!==4&&(l=l.child,l!==null))for(jx(l,u,g),l=l.sibling;l!==null;)jx(l,u,g),l=l.sibling}var Ln=null,Oi=!1;function Ra(l,u,g){for(g=g.child;g!==null;)IR(l,u,g),g=g.sibling}function IR(l,u,g){if(hi&&typeof hi.onCommitFiberUnmount=="function")try{hi.onCommitFiberUnmount(xu,g)}catch{}switch(g.tag){case 5:Xn||Hu(g,u);case 6:var w=Ln,A=Oi;Ln=null,Ra(l,u,g),Ln=w,Oi=A,Ln!==null&&(Oi?(l=Ln,g=g.stateNode,l.nodeType===8?l.parentNode.removeChild(g):l.removeChild(g)):Ln.removeChild(g.stateNode));break;case 18:Ln!==null&&(Oi?(l=Ln,g=g.stateNode,l.nodeType===8?Jw(l.parentNode,g):l.nodeType===1&&Jw(l,g),Vh(l)):Jw(Ln,g.stateNode));break;case 4:w=Ln,A=Oi,Ln=g.stateNode.containerInfo,Oi=!0,Ra(l,u,g),Ln=w,Oi=A;break;case 0:case 11:case 14:case 15:if(!Xn&&(w=g.updateQueue,w!==null&&(w=w.lastEffect,w!==null))){A=w=w.next;do{var P=A,$=P.destroy;P=P.tag,$!==void 0&&((P&2)!==0||(P&4)!==0)&&Fx(g,u,$),A=A.next}while(A!==w)}Ra(l,u,g);break;case 1:if(!Xn&&(Hu(g,u),w=g.stateNode,typeof w.componentWillUnmount=="function"))try{w.props=g.memoizedProps,w.state=g.memoizedState,w.componentWillUnmount()}catch(ee){tn(g,u,ee)}Ra(l,u,g);break;case 21:Ra(l,u,g);break;case 22:g.mode&1?(Xn=(w=Xn)||g.memoizedState!==null,Ra(l,u,g),Xn=w):Ra(l,u,g);break;default:Ra(l,u,g)}}function NR(l){var u=l.updateQueue;if(u!==null){l.updateQueue=null;var g=l.stateNode;g===null&&(g=l.stateNode=new Sz),u.forEach(function(w){var A=Nz.bind(null,l,w);g.has(w)||(g.add(w),w.then(A,A))})}}function Li(l,u){var g=u.deletions;if(g!==null)for(var w=0;w<g.length;w++){var A=g[w];try{var P=l,$=u,ee=$;e:for(;ee!==null;){switch(ee.tag){case 5:Ln=ee.stateNode,Oi=!1;break e;case 3:Ln=ee.stateNode.containerInfo,Oi=!0;break e;case 4:Ln=ee.stateNode.containerInfo,Oi=!0;break e}ee=ee.return}if(Ln===null)throw Error(n(160));IR(P,$,A),Ln=null,Oi=!1;var re=A.alternate;re!==null&&(re.return=null),A.return=null}catch(ce){tn(A,u,ce)}}if(u.subtreeFlags&12854)for(u=u.child;u!==null;)MR(u,l),u=u.sibling}function MR(l,u){var g=l.alternate,w=l.flags;switch(l.tag){case 0:case 11:case 14:case 15:if(Li(u,l),ys(l),w&4){try{pf(3,l,l.return),Vy(3,l)}catch(Le){tn(l,l.return,Le)}try{pf(5,l,l.return)}catch(Le){tn(l,l.return,Le)}}break;case 1:Li(u,l),ys(l),w&512&&g!==null&&Hu(g,g.return);break;case 5:if(Li(u,l),ys(l),w&512&&g!==null&&Hu(g,g.return),l.flags&32){var A=l.stateNode;try{cr(A,"")}catch(Le){tn(l,l.return,Le)}}if(w&4&&(A=l.stateNode,A!=null)){var P=l.memoizedProps,$=g!==null?g.memoizedProps:P,ee=l.type,re=l.updateQueue;if(l.updateQueue=null,re!==null)try{ee==="input"&&P.type==="radio"&&P.name!=null&&pt(A,P),qt(ee,$);var ce=qt(ee,P);for($=0;$<re.length;$+=2){var me=re[$],ve=re[$+1];me==="style"?kl(A,ve):me==="dangerouslySetInnerHTML"?Br(A,ve):me==="children"?cr(A,ve):S(A,me,ve,ce)}switch(ee){case"input":Gt(A,P);break;case"textarea":an(A,P);break;case"select":var ge=A._wrapperState.wasMultiple;A._wrapperState.wasMultiple=!!P.multiple;var Ae=P.value;Ae!=null?wt(A,!!P.multiple,Ae,!1):ge!==!!P.multiple&&(P.defaultValue!=null?wt(A,!!P.multiple,P.defaultValue,!0):wt(A,!!P.multiple,P.multiple?[]:"",!1))}A[nf]=P}catch(Le){tn(l,l.return,Le)}}break;case 6:if(Li(u,l),ys(l),w&4){if(l.stateNode===null)throw Error(n(162));A=l.stateNode,P=l.memoizedProps;try{A.nodeValue=P}catch(Le){tn(l,l.return,Le)}}break;case 3:if(Li(u,l),ys(l),w&4&&g!==null&&g.memoizedState.isDehydrated)try{Vh(u.containerInfo)}catch(Le){tn(l,l.return,Le)}break;case 4:Li(u,l),ys(l);break;case 13:Li(u,l),ys(l),A=l.child,A.flags&8192&&(P=A.memoizedState!==null,A.stateNode.isHidden=P,!P||A.alternate!==null&&A.alternate.memoizedState!==null||(Wx=Yt())),w&4&&NR(l);break;case 22:if(me=g!==null&&g.memoizedState!==null,l.mode&1?(Xn=(ce=Xn)||me,Li(u,l),Xn=ce):Li(u,l),ys(l),w&8192){if(ce=l.memoizedState!==null,(l.stateNode.isHidden=ce)&&!me&&(l.mode&1)!==0)for(Re=l,me=l.child;me!==null;){for(ve=Re=me;Re!==null;){switch(ge=Re,Ae=ge.child,ge.tag){case 0:case 11:case 14:case 15:pf(4,ge,ge.return);break;case 1:Hu(ge,ge.return);var Ie=ge.stateNode;if(typeof Ie.componentWillUnmount=="function"){w=ge,g=ge.return;try{u=w,Ie.props=u.memoizedProps,Ie.state=u.memoizedState,Ie.componentWillUnmount()}catch(Le){tn(w,g,Le)}}break;case 5:Hu(ge,ge.return);break;case 22:if(ge.memoizedState!==null){DR(ve);continue}}Ae!==null?(Ae.return=ge,Re=Ae):DR(ve)}me=me.sibling}e:for(me=null,ve=l;;){if(ve.tag===5){if(me===null){me=ve;try{A=ve.stateNode,ce?(P=A.style,typeof P.setProperty=="function"?P.setProperty("display","none","important"):P.display="none"):(ee=ve.stateNode,re=ve.memoizedProps.style,$=re!=null&&re.hasOwnProperty("display")?re.display:null,ee.style.display=hs("display",$))}catch(Le){tn(l,l.return,Le)}}}else if(ve.tag===6){if(me===null)try{ve.stateNode.nodeValue=ce?"":ve.memoizedProps}catch(Le){tn(l,l.return,Le)}}else if((ve.tag!==22&&ve.tag!==23||ve.memoizedState===null||ve===l)&&ve.child!==null){ve.child.return=ve,ve=ve.child;continue}if(ve===l)break e;for(;ve.sibling===null;){if(ve.return===null||ve.return===l)break e;me===ve&&(me=null),ve=ve.return}me===ve&&(me=null),ve.sibling.return=ve.return,ve=ve.sibling}}break;case 19:Li(u,l),ys(l),w&4&&NR(l);break;case 21:break;default:Li(u,l),ys(l)}}function ys(l){var u=l.flags;if(u&2){try{e:{for(var g=l.return;g!==null;){if(TR(g)){var w=g;break e}g=g.return}throw Error(n(160))}switch(w.tag){case 5:var A=w.stateNode;w.flags&32&&(cr(A,""),w.flags&=-33);var P=PR(l);jx(l,P,A);break;case 3:case 4:var $=w.stateNode.containerInfo,ee=PR(l);zx(l,ee,$);break;default:throw Error(n(161))}}catch(re){tn(l,l.return,re)}l.flags&=-3}u&4096&&(l.flags&=-4097)}function Cz(l,u,g){Re=l,OR(l)}function OR(l,u,g){for(var w=(l.mode&1)!==0;Re!==null;){var A=Re,P=A.child;if(A.tag===22&&w){var $=A.memoizedState!==null||Uy;if(!$){var ee=A.alternate,re=ee!==null&&ee.memoizedState!==null||Xn;ee=Uy;var ce=Xn;if(Uy=$,(Xn=re)&&!ce)for(Re=A;Re!==null;)$=Re,re=$.child,$.tag===22&&$.memoizedState!==null?FR(A):re!==null?(re.return=$,Re=re):FR(A);for(;P!==null;)Re=P,OR(P),P=P.sibling;Re=A,Uy=ee,Xn=ce}LR(l)}else(A.subtreeFlags&8772)!==0&&P!==null?(P.return=A,Re=P):LR(l)}}function LR(l){for(;Re!==null;){var u=Re;if((u.flags&8772)!==0){var g=u.alternate;try{if((u.flags&8772)!==0)switch(u.tag){case 0:case 11:case 15:Xn||Vy(5,u);break;case 1:var w=u.stateNode;if(u.flags&4&&!Xn)if(g===null)w.componentDidMount();else{var A=u.elementType===u.type?g.memoizedProps:Mi(u.type,g.memoizedProps);w.componentDidUpdate(A,g.memoizedState,w.__reactInternalSnapshotBeforeUpdate)}var P=u.updateQueue;P!==null&&Dk(u,P,w);break;case 3:var $=u.updateQueue;if($!==null){if(g=null,u.child!==null)switch(u.child.tag){case 5:g=u.child.stateNode;break;case 1:g=u.child.stateNode}Dk(u,$,g)}break;case 5:var ee=u.stateNode;if(g===null&&u.flags&4){g=ee;var re=u.memoizedProps;switch(u.type){case"button":case"input":case"select":case"textarea":re.autoFocus&&g.focus();break;case"img":re.src&&(g.src=re.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(u.memoizedState===null){var ce=u.alternate;if(ce!==null){var me=ce.memoizedState;if(me!==null){var ve=me.dehydrated;ve!==null&&Vh(ve)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Xn||u.flags&512&&$x(u)}catch(ge){tn(u,u.return,ge)}}if(u===l){Re=null;break}if(g=u.sibling,g!==null){g.return=u.return,Re=g;break}Re=u.return}}function DR(l){for(;Re!==null;){var u=Re;if(u===l){Re=null;break}var g=u.sibling;if(g!==null){g.return=u.return,Re=g;break}Re=u.return}}function FR(l){for(;Re!==null;){var u=Re;try{switch(u.tag){case 0:case 11:case 15:var g=u.return;try{Vy(4,u)}catch(re){tn(u,g,re)}break;case 1:var w=u.stateNode;if(typeof w.componentDidMount=="function"){var A=u.return;try{w.componentDidMount()}catch(re){tn(u,A,re)}}var P=u.return;try{$x(u)}catch(re){tn(u,P,re)}break;case 5:var $=u.return;try{$x(u)}catch(re){tn(u,$,re)}}}catch(re){tn(u,u.return,re)}if(u===l){Re=null;break}var ee=u.sibling;if(ee!==null){ee.return=u.return,Re=ee;break}Re=u.return}}var _z=Math.ceil,Gy=_.ReactCurrentDispatcher,Bx=_.ReactCurrentOwner,yi=_.ReactCurrentBatchConfig,at=0,In=null,fn=null,Dn=0,Gr=0,Wu=Ea(0),xn=0,gf=null,zl=0,qy=0,Hx=0,mf=null,Ar=null,Wx=0,Uu=1/0,uo=null,Yy=!1,Ux=null,Ta=null,Xy=!1,Pa=null,Ky=0,yf=0,Vx=null,Qy=-1,Zy=0;function dr(){return(at&6)!==0?Yt():Qy!==-1?Qy:Qy=Yt()}function Ia(l){return(l.mode&1)===0?1:(at&2)!==0&&Dn!==0?Dn&-Dn:lz.transition!==null?(Zy===0&&(Zy=PA()),Zy):(l=Et,l!==0||(l=window.event,l=l===void 0?16:zA(l.type)),l)}function Di(l,u,g,w){if(50<yf)throw yf=0,Vx=null,Error(n(185));jh(l,g,w),((at&2)===0||l!==In)&&(l===In&&((at&2)===0&&(qy|=g),xn===4&&Na(l,Dn)),kr(l,w),g===1&&at===0&&(u.mode&1)===0&&(Uu=Yt()+500,Ay&&_a()))}function kr(l,u){var g=l.callbackNode;_w(l,u);var w=ga(l,l===In?Dn:0);if(w===0)g!==null&&sy(g),l.callbackNode=null,l.callbackPriority=0;else if(u=w&-w,l.callbackPriority!==u){if(g!=null&&sy(g),u===1)l.tag===0?az(zR.bind(null,l)):Ck(zR.bind(null,l)),rz(function(){(at&6)===0&&_a()}),g=null;else{switch(IA(w)){case 1:g=$h;break;case 4:g=ay;break;case 16:g=wu;break;case 536870912:g=zh;break;default:g=wu}g=qR(g,$R.bind(null,l))}l.callbackPriority=u,l.callbackNode=g}}function $R(l,u){if(Qy=-1,Zy=0,(at&6)!==0)throw Error(n(327));var g=l.callbackNode;if(Vu()&&l.callbackNode!==g)return null;var w=ga(l,l===In?Dn:0);if(w===0)return null;if((w&30)!==0||(w&l.expiredLanes)!==0||u)u=Jy(l,w);else{u=w;var A=at;at|=2;var P=BR();(In!==l||Dn!==u)&&(uo=null,Uu=Yt()+500,Bl(l,u));do try{Rz();break}catch(ee){jR(l,ee)}while(!0);cx(),Gy.current=P,at=A,fn!==null?u=0:(In=null,Dn=0,u=xn)}if(u!==0){if(u===2&&(A=Eu(l),A!==0&&(w=A,u=Gx(l,A))),u===1)throw g=gf,Bl(l,0),Na(l,w),kr(l,Yt()),g;if(u===6)Na(l,w);else{if(A=l.current.alternate,(w&30)===0&&!Az(A)&&(u=Jy(l,w),u===2&&(P=Eu(l),P!==0&&(w=P,u=Gx(l,P))),u===1))throw g=gf,Bl(l,0),Na(l,w),kr(l,Yt()),g;switch(l.finishedWork=A,l.finishedLanes=w,u){case 0:case 1:throw Error(n(345));case 2:Hl(l,Ar,uo);break;case 3:if(Na(l,w),(w&130023424)===w&&(u=Wx+500-Yt(),10<u)){if(ga(l,0)!==0)break;if(A=l.suspendedLanes,(A&w)!==w){dr(),l.pingedLanes|=l.suspendedLanes&A;break}l.timeoutHandle=Zw(Hl.bind(null,l,Ar,uo),u);break}Hl(l,Ar,uo);break;case 4:if(Na(l,w),(w&4194240)===w)break;for(u=l.eventTimes,A=-1;0<w;){var $=31-Hr(w);P=1<<$,$=u[$],$>A&&(A=$),w&=~P}if(w=A,w=Yt()-w,w=(120>w?120:480>w?480:1080>w?1080:1920>w?1920:3e3>w?3e3:4320>w?4320:1960*_z(w/1960))-w,10<w){l.timeoutHandle=Zw(Hl.bind(null,l,Ar,uo),w);break}Hl(l,Ar,uo);break;case 5:Hl(l,Ar,uo);break;default:throw Error(n(329))}}}return kr(l,Yt()),l.callbackNode===g?$R.bind(null,l):null}function Gx(l,u){var g=mf;return l.current.memoizedState.isDehydrated&&(Bl(l,u).flags|=256),l=Jy(l,u),l!==2&&(u=Ar,Ar=g,u!==null&&qx(u)),l}function qx(l){Ar===null?Ar=l:Ar.push.apply(Ar,l)}function Az(l){for(var u=l;;){if(u.flags&16384){var g=u.updateQueue;if(g!==null&&(g=g.stores,g!==null))for(var w=0;w<g.length;w++){var A=g[w],P=A.getSnapshot;A=A.value;try{if(!Ii(P(),A))return!1}catch{return!1}}}if(g=u.child,u.subtreeFlags&16384&&g!==null)g.return=u,u=g;else{if(u===l)break;for(;u.sibling===null;){if(u.return===null||u.return===l)return!0;u=u.return}u.sibling.return=u.return,u=u.sibling}}return!0}function Na(l,u){for(u&=~Hx,u&=~qy,l.suspendedLanes|=u,l.pingedLanes&=~u,l=l.expirationTimes;0<u;){var g=31-Hr(u),w=1<<g;l[g]=-1,u&=~w}}function zR(l){if((at&6)!==0)throw Error(n(327));Vu();var u=ga(l,0);if((u&1)===0)return kr(l,Yt()),null;var g=Jy(l,u);if(l.tag!==0&&g===2){var w=Eu(l);w!==0&&(u=w,g=Gx(l,w))}if(g===1)throw g=gf,Bl(l,0),Na(l,u),kr(l,Yt()),g;if(g===6)throw Error(n(345));return l.finishedWork=l.current.alternate,l.finishedLanes=u,Hl(l,Ar,uo),kr(l,Yt()),null}function Yx(l,u){var g=at;at|=1;try{return l(u)}finally{at=g,at===0&&(Uu=Yt()+500,Ay&&_a())}}function jl(l){Pa!==null&&Pa.tag===0&&(at&6)===0&&Vu();var u=at;at|=1;var g=yi.transition,w=Et;try{if(yi.transition=null,Et=1,l)return l()}finally{Et=w,yi.transition=g,at=u,(at&6)===0&&_a()}}function Xx(){Gr=Wu.current,Bt(Wu)}function Bl(l,u){l.finishedWork=null,l.finishedLanes=0;var g=l.timeoutHandle;if(g!==-1&&(l.timeoutHandle=-1,nz(g)),fn!==null)for(g=fn.return;g!==null;){var w=g;switch(ix(w),w.tag){case 1:w=w.type.childContextTypes,w!=null&&Cy();break;case 3:ju(),Bt(Er),Bt(Gn),yx();break;case 5:gx(w);break;case 4:ju();break;case 13:Bt(Xt);break;case 19:Bt(Xt);break;case 10:ux(w.type._context);break;case 22:case 23:Xx()}g=g.return}if(In=l,fn=l=Ma(l.current,null),Dn=Gr=u,xn=0,gf=null,Hx=qy=zl=0,Ar=mf=null,Dl!==null){for(u=0;u<Dl.length;u++)if(g=Dl[u],w=g.interleaved,w!==null){g.interleaved=null;var A=w.next,P=g.pending;if(P!==null){var $=P.next;P.next=A,w.next=$}g.pending=w}Dl=null}return l}function jR(l,u){do{var g=fn;try{if(cx(),Dy.current=jy,Fy){for(var w=Kt.memoizedState;w!==null;){var A=w.queue;A!==null&&(A.pending=null),w=w.next}Fy=!1}if($l=0,Pn=wn=Kt=null,cf=!1,uf=0,Bx.current=null,g===null||g.return===null){xn=1,gf=u,fn=null;break}e:{var P=l,$=g.return,ee=g,re=u;if(u=Dn,ee.flags|=32768,re!==null&&typeof re=="object"&&typeof re.then=="function"){var ce=re,me=ee,ve=me.tag;if((me.mode&1)===0&&(ve===0||ve===11||ve===15)){var ge=me.alternate;ge?(me.updateQueue=ge.updateQueue,me.memoizedState=ge.memoizedState,me.lanes=ge.lanes):(me.updateQueue=null,me.memoizedState=null)}var Ae=dR($);if(Ae!==null){Ae.flags&=-257,hR(Ae,$,ee,P,u),Ae.mode&1&&uR(P,ce,u),u=Ae,re=ce;var Ie=u.updateQueue;if(Ie===null){var Le=new Set;Le.add(re),u.updateQueue=Le}else Ie.add(re);break e}else{if((u&1)===0){uR(P,ce,u),Kx();break e}re=Error(n(426))}}else if(Ht&&ee.mode&1){var ln=dR($);if(ln!==null){(ln.flags&65536)===0&&(ln.flags|=256),hR(ln,$,ee,P,u),ax(Bu(re,ee));break e}}P=re=Bu(re,ee),xn!==4&&(xn=2),mf===null?mf=[P]:mf.push(P),P=$;do{switch(P.tag){case 3:P.flags|=65536,u&=-u,P.lanes|=u;var ae=lR(P,re,u);Lk(P,ae);break e;case 1:ee=re;var se=P.type,le=P.stateNode;if((P.flags&128)===0&&(typeof se.getDerivedStateFromError=="function"||le!==null&&typeof le.componentDidCatch=="function"&&(Ta===null||!Ta.has(le)))){P.flags|=65536,u&=-u,P.lanes|=u;var be=cR(P,ee,u);Lk(P,be);break e}}P=P.return}while(P!==null)}WR(g)}catch(Fe){u=Fe,fn===g&&g!==null&&(fn=g=g.return);continue}break}while(!0)}function BR(){var l=Gy.current;return Gy.current=jy,l===null?jy:l}function Kx(){(xn===0||xn===3||xn===2)&&(xn=4),In===null||(zl&268435455)===0&&(qy&268435455)===0||Na(In,Dn)}function Jy(l,u){var g=at;at|=2;var w=BR();(In!==l||Dn!==u)&&(uo=null,Bl(l,u));do try{kz();break}catch(A){jR(l,A)}while(!0);if(cx(),at=g,Gy.current=w,fn!==null)throw Error(n(261));return In=null,Dn=0,xn}function kz(){for(;fn!==null;)HR(fn)}function Rz(){for(;fn!==null&&!oy();)HR(fn)}function HR(l){var u=GR(l.alternate,l,Gr);l.memoizedProps=l.pendingProps,u===null?WR(l):fn=u,Bx.current=null}function WR(l){var u=l;do{var g=u.alternate;if(l=u.return,(u.flags&32768)===0){if(g=wz(g,u,Gr),g!==null){fn=g;return}}else{if(g=xz(g,u),g!==null){g.flags&=32767,fn=g;return}if(l!==null)l.flags|=32768,l.subtreeFlags=0,l.deletions=null;else{xn=6,fn=null;return}}if(u=u.sibling,u!==null){fn=u;return}fn=u=l}while(u!==null);xn===0&&(xn=5)}function Hl(l,u,g){var w=Et,A=yi.transition;try{yi.transition=null,Et=1,Tz(l,u,g,w)}finally{yi.transition=A,Et=w}return null}function Tz(l,u,g,w){do Vu();while(Pa!==null);if((at&6)!==0)throw Error(n(327));g=l.finishedWork;var A=l.finishedLanes;if(g===null)return null;if(l.finishedWork=null,l.finishedLanes=0,g===l.current)throw Error(n(177));l.callbackNode=null,l.callbackPriority=0;var P=g.lanes|g.childLanes;if(c5(l,P),l===In&&(fn=In=null,Dn=0),(g.subtreeFlags&2064)===0&&(g.flags&2064)===0||Xy||(Xy=!0,qR(wu,function(){return Vu(),null})),P=(g.flags&15990)!==0,(g.subtreeFlags&15990)!==0||P){P=yi.transition,yi.transition=null;var $=Et;Et=1;var ee=at;at|=4,Bx.current=null,Ez(l,g),MR(g,l),X5(Kw),uy=!!Xw,Kw=Xw=null,l.current=g,Cz(g),yw(),at=ee,Et=$,yi.transition=P}else l.current=g;if(Xy&&(Xy=!1,Pa=l,Ky=A),P=l.pendingLanes,P===0&&(Ta=null),ww(g.stateNode),kr(l,Yt()),u!==null)for(w=l.onRecoverableError,g=0;g<u.length;g++)A=u[g],w(A.value,{componentStack:A.stack,digest:A.digest});if(Yy)throw Yy=!1,l=Ux,Ux=null,l;return(Ky&1)!==0&&l.tag!==0&&Vu(),P=l.pendingLanes,(P&1)!==0?l===Vx?yf++:(yf=0,Vx=l):yf=0,_a(),null}function Vu(){if(Pa!==null){var l=IA(Ky),u=yi.transition,g=Et;try{if(yi.transition=null,Et=16>l?16:l,Pa===null)var w=!1;else{if(l=Pa,Pa=null,Ky=0,(at&6)!==0)throw Error(n(331));var A=at;for(at|=4,Re=l.current;Re!==null;){var P=Re,$=P.child;if((Re.flags&16)!==0){var ee=P.deletions;if(ee!==null){for(var re=0;re<ee.length;re++){var ce=ee[re];for(Re=ce;Re!==null;){var me=Re;switch(me.tag){case 0:case 11:case 15:pf(8,me,P)}var ve=me.child;if(ve!==null)ve.return=me,Re=ve;else for(;Re!==null;){me=Re;var ge=me.sibling,Ae=me.return;if(RR(me),me===ce){Re=null;break}if(ge!==null){ge.return=Ae,Re=ge;break}Re=Ae}}}var Ie=P.alternate;if(Ie!==null){var Le=Ie.child;if(Le!==null){Ie.child=null;do{var ln=Le.sibling;Le.sibling=null,Le=ln}while(Le!==null)}}Re=P}}if((P.subtreeFlags&2064)!==0&&$!==null)$.return=P,Re=$;else e:for(;Re!==null;){if(P=Re,(P.flags&2048)!==0)switch(P.tag){case 0:case 11:case 15:pf(9,P,P.return)}var ae=P.sibling;if(ae!==null){ae.return=P.return,Re=ae;break e}Re=P.return}}var se=l.current;for(Re=se;Re!==null;){$=Re;var le=$.child;if(($.subtreeFlags&2064)!==0&&le!==null)le.return=$,Re=le;else e:for($=se;Re!==null;){if(ee=Re,(ee.flags&2048)!==0)try{switch(ee.tag){case 0:case 11:case 15:Vy(9,ee)}}catch(Fe){tn(ee,ee.return,Fe)}if(ee===$){Re=null;break e}var be=ee.sibling;if(be!==null){be.return=ee.return,Re=be;break e}Re=ee.return}}if(at=A,_a(),hi&&typeof hi.onPostCommitFiberRoot=="function")try{hi.onPostCommitFiberRoot(xu,l)}catch{}w=!0}return w}finally{Et=g,yi.transition=u}}return!1}function UR(l,u,g){u=Bu(g,u),u=lR(l,u,1),l=ka(l,u,1),u=dr(),l!==null&&(jh(l,1,u),kr(l,u))}function tn(l,u,g){if(l.tag===3)UR(l,l,g);else for(;u!==null;){if(u.tag===3){UR(u,l,g);break}else if(u.tag===1){var w=u.stateNode;if(typeof u.type.getDerivedStateFromError=="function"||typeof w.componentDidCatch=="function"&&(Ta===null||!Ta.has(w))){l=Bu(g,l),l=cR(u,l,1),u=ka(u,l,1),l=dr(),u!==null&&(jh(u,1,l),kr(u,l));break}}u=u.return}}function Pz(l,u,g){var w=l.pingCache;w!==null&&w.delete(u),u=dr(),l.pingedLanes|=l.suspendedLanes&g,In===l&&(Dn&g)===g&&(xn===4||xn===3&&(Dn&130023424)===Dn&&500>Yt()-Wx?Bl(l,0):Hx|=g),kr(l,u)}function VR(l,u){u===0&&((l.mode&1)===0?u=1:(u=Su,Su<<=1,(Su&130023424)===0&&(Su=4194304)));var g=dr();l=ao(l,u),l!==null&&(jh(l,u,g),kr(l,g))}function Iz(l){var u=l.memoizedState,g=0;u!==null&&(g=u.retryLane),VR(l,g)}function Nz(l,u){var g=0;switch(l.tag){case 13:var w=l.stateNode,A=l.memoizedState;A!==null&&(g=A.retryLane);break;case 19:w=l.stateNode;break;default:throw Error(n(314))}w!==null&&w.delete(u),VR(l,g)}var GR;GR=function(l,u,g){if(l!==null)if(l.memoizedProps!==u.pendingProps||Er.current)_r=!0;else{if((l.lanes&g)===0&&(u.flags&128)===0)return _r=!1,bz(l,u,g);_r=(l.flags&131072)!==0}else _r=!1,Ht&&(u.flags&1048576)!==0&&_k(u,Ry,u.index);switch(u.lanes=0,u.tag){case 2:var w=u.type;Wy(l,u),l=u.pendingProps;var A=Mu(u,Gn.current);zu(u,g),A=wx(null,u,w,l,A,g);var P=xx();return u.flags|=1,typeof A=="object"&&A!==null&&typeof A.render=="function"&&A.$$typeof===void 0?(u.tag=1,u.memoizedState=null,u.updateQueue=null,Cr(w)?(P=!0,_y(u)):P=!1,u.memoizedState=A.state!==null&&A.state!==void 0?A.state:null,fx(u),A.updater=By,u.stateNode=A,A._reactInternals=u,kx(u,w,l,g),u=Ix(null,u,w,!0,P,g)):(u.tag=0,Ht&&P&&rx(u),ur(null,u,A,g),u=u.child),u;case 16:w=u.elementType;e:{switch(Wy(l,u),l=u.pendingProps,A=w._init,w=A(w._payload),u.type=w,A=u.tag=Oz(w),l=Mi(w,l),A){case 0:u=Px(null,u,w,l,g);break e;case 1:u=vR(null,u,w,l,g);break e;case 11:u=fR(null,u,w,l,g);break e;case 14:u=pR(null,u,w,Mi(w.type,l),g);break e}throw Error(n(306,w,""))}return u;case 0:return w=u.type,A=u.pendingProps,A=u.elementType===w?A:Mi(w,A),Px(l,u,w,A,g);case 1:return w=u.type,A=u.pendingProps,A=u.elementType===w?A:Mi(w,A),vR(l,u,w,A,g);case 3:e:{if(bR(u),l===null)throw Error(n(387));w=u.pendingProps,P=u.memoizedState,A=P.element,Ok(l,u),Oy(u,w,null,g);var $=u.memoizedState;if(w=$.element,P.isDehydrated)if(P={element:w,isDehydrated:!1,cache:$.cache,pendingSuspenseBoundaries:$.pendingSuspenseBoundaries,transitions:$.transitions},u.updateQueue.baseState=P,u.memoizedState=P,u.flags&256){A=Bu(Error(n(423)),u),u=wR(l,u,w,g,A);break e}else if(w!==A){A=Bu(Error(n(424)),u),u=wR(l,u,w,g,A);break e}else for(Vr=Sa(u.stateNode.containerInfo.firstChild),Ur=u,Ht=!0,Ni=null,g=Nk(u,null,w,g),u.child=g;g;)g.flags=g.flags&-3|4096,g=g.sibling;else{if(Du(),w===A){u=co(l,u,g);break e}ur(l,u,w,g)}u=u.child}return u;case 5:return Fk(u),l===null&&ox(u),w=u.type,A=u.pendingProps,P=l!==null?l.memoizedProps:null,$=A.children,Qw(w,A)?$=null:P!==null&&Qw(w,P)&&(u.flags|=32),yR(l,u),ur(l,u,$,g),u.child;case 6:return l===null&&ox(u),null;case 13:return xR(l,u,g);case 4:return px(u,u.stateNode.containerInfo),w=u.pendingProps,l===null?u.child=Fu(u,null,w,g):ur(l,u,w,g),u.child;case 11:return w=u.type,A=u.pendingProps,A=u.elementType===w?A:Mi(w,A),fR(l,u,w,A,g);case 7:return ur(l,u,u.pendingProps,g),u.child;case 8:return ur(l,u,u.pendingProps.children,g),u.child;case 12:return ur(l,u,u.pendingProps.children,g),u.child;case 10:e:{if(w=u.type._context,A=u.pendingProps,P=u.memoizedProps,$=A.value,Ft(Iy,w._currentValue),w._currentValue=$,P!==null)if(Ii(P.value,$)){if(P.children===A.children&&!Er.current){u=co(l,u,g);break e}}else for(P=u.child,P!==null&&(P.return=u);P!==null;){var ee=P.dependencies;if(ee!==null){$=P.child;for(var re=ee.firstContext;re!==null;){if(re.context===w){if(P.tag===1){re=lo(-1,g&-g),re.tag=2;var ce=P.updateQueue;if(ce!==null){ce=ce.shared;var me=ce.pending;me===null?re.next=re:(re.next=me.next,me.next=re),ce.pending=re}}P.lanes|=g,re=P.alternate,re!==null&&(re.lanes|=g),dx(P.return,g,u),ee.lanes|=g;break}re=re.next}}else if(P.tag===10)$=P.type===u.type?null:P.child;else if(P.tag===18){if($=P.return,$===null)throw Error(n(341));$.lanes|=g,ee=$.alternate,ee!==null&&(ee.lanes|=g),dx($,g,u),$=P.sibling}else $=P.child;if($!==null)$.return=P;else for($=P;$!==null;){if($===u){$=null;break}if(P=$.sibling,P!==null){P.return=$.return,$=P;break}$=$.return}P=$}ur(l,u,A.children,g),u=u.child}return u;case 9:return A=u.type,w=u.pendingProps.children,zu(u,g),A=gi(A),w=w(A),u.flags|=1,ur(l,u,w,g),u.child;case 14:return w=u.type,A=Mi(w,u.pendingProps),A=Mi(w.type,A),pR(l,u,w,A,g);case 15:return gR(l,u,u.type,u.pendingProps,g);case 17:return w=u.type,A=u.pendingProps,A=u.elementType===w?A:Mi(w,A),Wy(l,u),u.tag=1,Cr(w)?(l=!0,_y(u)):l=!1,zu(u,g),oR(u,w,A),kx(u,w,A,g),Ix(null,u,w,!0,l,g);case 19:return ER(l,u,g);case 22:return mR(l,u,g)}throw Error(n(156,u.tag))};function qR(l,u){return iy(l,u)}function Mz(l,u,g,w){this.tag=l,this.key=g,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=u,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=w,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function vi(l,u,g,w){return new Mz(l,u,g,w)}function Qx(l){return l=l.prototype,!(!l||!l.isReactComponent)}function Oz(l){if(typeof l=="function")return Qx(l)?1:0;if(l!=null){if(l=l.$$typeof,l===z)return 11;if(l===V)return 14}return 2}function Ma(l,u){var g=l.alternate;return g===null?(g=vi(l.tag,u,l.key,l.mode),g.elementType=l.elementType,g.type=l.type,g.stateNode=l.stateNode,g.alternate=l,l.alternate=g):(g.pendingProps=u,g.type=l.type,g.flags=0,g.subtreeFlags=0,g.deletions=null),g.flags=l.flags&14680064,g.childLanes=l.childLanes,g.lanes=l.lanes,g.child=l.child,g.memoizedProps=l.memoizedProps,g.memoizedState=l.memoizedState,g.updateQueue=l.updateQueue,u=l.dependencies,g.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext},g.sibling=l.sibling,g.index=l.index,g.ref=l.ref,g}function ev(l,u,g,w,A,P){var $=2;if(w=l,typeof l=="function")Qx(l)&&($=1);else if(typeof l=="string")$=5;else e:switch(l){case T:return Wl(g.children,A,P,u);case M:$=8,A|=8;break;case O:return l=vi(12,g,u,A|2),l.elementType=O,l.lanes=P,l;case U:return l=vi(13,g,u,A),l.elementType=U,l.lanes=P,l;case D:return l=vi(19,g,u,A),l.elementType=D,l.lanes=P,l;case K:return tv(g,A,P,u);default:if(typeof l=="object"&&l!==null)switch(l.$$typeof){case R:$=10;break e;case F:$=9;break e;case z:$=11;break e;case V:$=14;break e;case H:$=16,w=null;break e}throw Error(n(130,l==null?l:typeof l,""))}return u=vi($,g,u,A),u.elementType=l,u.type=w,u.lanes=P,u}function Wl(l,u,g,w){return l=vi(7,l,w,u),l.lanes=g,l}function tv(l,u,g,w){return l=vi(22,l,w,u),l.elementType=K,l.lanes=g,l.stateNode={isHidden:!1},l}function Zx(l,u,g){return l=vi(6,l,null,u),l.lanes=g,l}function Jx(l,u,g){return u=vi(4,l.children!==null?l.children:[],l.key,u),u.lanes=g,u.stateNode={containerInfo:l.containerInfo,pendingChildren:null,implementation:l.implementation},u}function Lz(l,u,g,w,A){this.tag=u,this.containerInfo=l,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Aw(0),this.expirationTimes=Aw(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Aw(0),this.identifierPrefix=w,this.onRecoverableError=A,this.mutableSourceEagerHydrationData=null}function eS(l,u,g,w,A,P,$,ee,re){return l=new Lz(l,u,g,ee,re),u===1?(u=1,P===!0&&(u|=8)):u=0,P=vi(3,null,null,u),l.current=P,P.stateNode=l,P.memoizedState={element:w,isDehydrated:g,cache:null,transitions:null,pendingSuspenseBoundaries:null},fx(P),l}function Dz(l,u,g){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:N,key:w==null?null:""+w,children:l,containerInfo:u,implementation:g}}function YR(l){if(!l)return Ca;l=l._reactInternals;e:{if(fs(l)!==l||l.tag!==1)throw Error(n(170));var u=l;do{switch(u.tag){case 3:u=u.stateNode.context;break e;case 1:if(Cr(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break e}}u=u.return}while(u!==null);throw Error(n(171))}if(l.tag===1){var g=l.type;if(Cr(g))return Sk(l,g,u)}return u}function XR(l,u,g,w,A,P,$,ee,re){return l=eS(g,w,!0,l,A,P,$,ee,re),l.context=YR(null),g=l.current,w=dr(),A=Ia(g),P=lo(w,A),P.callback=u??null,ka(g,P,A),l.current.lanes=A,jh(l,A,w),kr(l,w),l}function nv(l,u,g,w){var A=u.current,P=dr(),$=Ia(A);return g=YR(g),u.context===null?u.context=g:u.pendingContext=g,u=lo(P,$),u.payload={element:l},w=w===void 0?null:w,w!==null&&(u.callback=w),l=ka(A,u,$),l!==null&&(Di(l,A,$,P),My(l,A,$)),$}function rv(l){if(l=l.current,!l.child)return null;switch(l.child.tag){case 5:return l.child.stateNode;default:return l.child.stateNode}}function KR(l,u){if(l=l.memoizedState,l!==null&&l.dehydrated!==null){var g=l.retryLane;l.retryLane=g!==0&&g<u?g:u}}function tS(l,u){KR(l,u),(l=l.alternate)&&KR(l,u)}function Fz(){return null}var QR=typeof reportError=="function"?reportError:function(l){console.error(l)};function nS(l){this._internalRoot=l}iv.prototype.render=nS.prototype.render=function(l){var u=this._internalRoot;if(u===null)throw Error(n(409));nv(l,u,null,null)},iv.prototype.unmount=nS.prototype.unmount=function(){var l=this._internalRoot;if(l!==null){this._internalRoot=null;var u=l.containerInfo;jl(function(){nv(null,l,null,null)}),u[ro]=null}};function iv(l){this._internalRoot=l}iv.prototype.unstable_scheduleHydration=function(l){if(l){var u=OA();l={blockedOn:null,target:l,priority:u};for(var g=0;g<ba.length&&u!==0&&u<ba[g].priority;g++);ba.splice(g,0,l),g===0&&FA(l)}};function rS(l){return!(!l||l.nodeType!==1&&l.nodeType!==9&&l.nodeType!==11)}function sv(l){return!(!l||l.nodeType!==1&&l.nodeType!==9&&l.nodeType!==11&&(l.nodeType!==8||l.nodeValue!==" react-mount-point-unstable "))}function ZR(){}function $z(l,u,g,w,A){if(A){if(typeof w=="function"){var P=w;w=function(){var ce=rv($);P.call(ce)}}var $=XR(u,w,l,0,null,!1,!1,"",ZR);return l._reactRootContainer=$,l[ro]=$.current,ef(l.nodeType===8?l.parentNode:l),jl(),$}for(;A=l.lastChild;)l.removeChild(A);if(typeof w=="function"){var ee=w;w=function(){var ce=rv(re);ee.call(ce)}}var re=eS(l,0,!1,null,null,!1,!1,"",ZR);return l._reactRootContainer=re,l[ro]=re.current,ef(l.nodeType===8?l.parentNode:l),jl(function(){nv(u,re,g,w)}),re}function ov(l,u,g,w,A){var P=g._reactRootContainer;if(P){var $=P;if(typeof A=="function"){var ee=A;A=function(){var re=rv($);ee.call(re)}}nv(u,$,l,A)}else $=$z(g,u,l,A,w);return rv($)}NA=function(l){switch(l.tag){case 3:var u=l.stateNode;if(u.current.memoizedState.isDehydrated){var g=Il(u.pendingLanes);g!==0&&(kw(u,g|1),kr(u,Yt()),(at&6)===0&&(Uu=Yt()+500,_a()))}break;case 13:jl(function(){var w=ao(l,1);if(w!==null){var A=dr();Di(w,l,1,A)}}),tS(l,1)}},Rw=function(l){if(l.tag===13){var u=ao(l,134217728);if(u!==null){var g=dr();Di(u,l,134217728,g)}tS(l,134217728)}},MA=function(l){if(l.tag===13){var u=Ia(l),g=ao(l,u);if(g!==null){var w=dr();Di(g,l,u,w)}tS(l,u)}},OA=function(){return Et},LA=function(l,u){var g=Et;try{return Et=l,u()}finally{Et=g}},Mh=function(l,u,g){switch(u){case"input":if(Gt(l,g),u=g.name,g.type==="radio"&&u!=null){for(g=l;g.parentNode;)g=g.parentNode;for(g=g.querySelectorAll("input[name="+JSON.stringify(""+u)+'][type="radio"]'),u=0;u<g.length;u++){var w=g[u];if(w!==l&&w.form===l.form){var A=Ey(w);if(!A)throw Error(n(90));pe(w),Gt(w,A)}}}break;case"textarea":an(l,g);break;case"select":u=g.value,u!=null&&wt(l,!!g.multiple,u,!1)}},Km=Yx,Qm=jl;var zz={usingClientEntryPoint:!1,Events:[rf,Iu,Ey,Oh,Xm,Yx]},vf={findFiberByHostInstance:Nl,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},jz={bundleType:vf.bundleType,version:vf.version,rendererPackageName:vf.rendererPackageName,rendererConfig:vf.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:_.ReactCurrentDispatcher,findHostInstanceByFiber:function(l){return l=ny(l),l===null?null:l.stateNode},findFiberByHostInstance:vf.findFiberByHostInstance||Fz,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var av=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!av.isDisabled&&av.supportsFiber)try{xu=av.inject(jz),hi=av}catch{}}return Rr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=zz,Rr.createPortal=function(l,u){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!rS(u))throw Error(n(200));return Dz(l,u,null,g)},Rr.createRoot=function(l,u){if(!rS(l))throw Error(n(299));var g=!1,w="",A=QR;return u!=null&&(u.unstable_strictMode===!0&&(g=!0),u.identifierPrefix!==void 0&&(w=u.identifierPrefix),u.onRecoverableError!==void 0&&(A=u.onRecoverableError)),u=eS(l,1,!1,null,null,g,!1,w,A),l[ro]=u.current,ef(l.nodeType===8?l.parentNode:l),new nS(u)},Rr.findDOMNode=function(l){if(l==null)return null;if(l.nodeType===1)return l;var u=l._reactInternals;if(u===void 0)throw typeof l.render=="function"?Error(n(188)):(l=Object.keys(l).join(","),Error(n(268,l)));return l=ny(u),l=l===null?null:l.stateNode,l},Rr.flushSync=function(l){return jl(l)},Rr.hydrate=function(l,u,g){if(!sv(u))throw Error(n(200));return ov(null,l,u,!0,g)},Rr.hydrateRoot=function(l,u,g){if(!rS(l))throw Error(n(405));var w=g!=null&&g.hydratedSources||null,A=!1,P="",$=QR;if(g!=null&&(g.unstable_strictMode===!0&&(A=!0),g.identifierPrefix!==void 0&&(P=g.identifierPrefix),g.onRecoverableError!==void 0&&($=g.onRecoverableError)),u=XR(u,null,l,1,g??null,A,!1,P,$),l[ro]=u.current,ef(l),w)for(l=0;l<w.length;l++)g=w[l],A=g._getVersion,A=A(g._source),u.mutableSourceEagerHydrationData==null?u.mutableSourceEagerHydrationData=[g,A]:u.mutableSourceEagerHydrationData.push(g,A);return new iv(u)},Rr.render=function(l,u,g){if(!sv(u))throw Error(n(200));return ov(null,l,u,!1,g)},Rr.unmountComponentAtNode=function(l){if(!sv(l))throw Error(n(40));return l._reactRootContainer?(jl(function(){ov(null,null,l,!1,function(){l._reactRootContainer=null,l[ro]=null})}),!0):!1},Rr.unstable_batchedUpdates=Yx,Rr.unstable_renderSubtreeIntoContainer=function(l,u,g,w){if(!sv(g))throw Error(n(200));if(l==null||l._reactInternals===void 0)throw Error(n(38));return ov(l,u,g,!1,w)},Rr.version="18.3.1-next-f1338f8080-20240426",Rr}var aT;function yb(){if(aT)return aS.exports;aT=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),aS.exports=Qz(),aS.exports}var lT;function Zz(){if(lT)return cv;lT=1;var t=yb();return cv.createRoot=t.createRoot,cv.hydrateRoot=t.hydrateRoot,cv}var nO=Zz();function bn(t){if(typeof t=="string"||typeof t=="number")return""+t;let e="";if(Array.isArray(t))for(let n=0,r;n<t.length;n++)(r=bn(t[n]))!==""&&(e+=(e&&" ")+r);else for(let n in t)t[n]&&(e+=(e&&" ")+n);return e}var Jz={value:()=>{}};function vb(){for(var t=0,e=arguments.length,n={},r;t<e;++t){if(!(r=arguments[t]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new Dv(n)}function Dv(t){this._=t}function ej(t,e){return t.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}Dv.prototype=vb.prototype={constructor:Dv,on:function(t,e){var n=this._,r=ej(t+"",n),i,s=-1,o=r.length;if(arguments.length<2){for(;++s<o;)if((i=(t=r[s]).type)&&(i=tj(n[i],t.name)))return i;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++s<o;)if(i=(t=r[s]).type)n[i]=cT(n[i],t.name,e);else if(e==null)for(i in n)n[i]=cT(n[i],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new Dv(t)},call:function(t,e){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,s;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(s=this._[t],r=0,i=s.length;r<i;++r)s[r].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,s=r.length;i<s;++i)r[i].value.apply(e,n)}};function tj(t,e){for(var n=0,r=t.length,i;n<r;++n)if((i=t[n]).name===e)return i.value}function cT(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=Jz,t=t.slice(0,r).concat(t.slice(r+1));break}return n!=null&&t.push({name:e,value:n}),t}var Z1="http://www.w3.org/1999/xhtml";const uT={svg:"http://www.w3.org/2000/svg",xhtml:Z1,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function bb(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),uT.hasOwnProperty(e)?{space:uT[e],local:t}:t}function nj(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===Z1&&e.documentElement.namespaceURI===Z1?e.createElement(t):e.createElementNS(n,t)}}function rj(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function rO(t){var e=bb(t);return(e.local?rj:nj)(e)}function ij(){}function c_(t){return t==null?ij:function(){return this.querySelector(t)}}function sj(t){typeof t!="function"&&(t=c_(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var s=e[i],o=s.length,a=r[i]=new Array(o),c,d,h=0;h<o;++h)(c=s[h])&&(d=t.call(c,c.__data__,h,s))&&("__data__"in c&&(d.__data__=c.__data__),a[h]=d);return new ci(r,this._parents)}function oj(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function aj(){return[]}function iO(t){return t==null?aj:function(){return this.querySelectorAll(t)}}function lj(t){return function(){return oj(t.apply(this,arguments))}}function cj(t){typeof t=="function"?t=lj(t):t=iO(t);for(var e=this._groups,n=e.length,r=[],i=[],s=0;s<n;++s)for(var o=e[s],a=o.length,c,d=0;d<a;++d)(c=o[d])&&(r.push(t.call(c,c.__data__,d,o)),i.push(c));return new ci(r,i)}function sO(t){return function(){return this.matches(t)}}function oO(t){return function(e){return e.matches(t)}}var uj=Array.prototype.find;function dj(t){return function(){return uj.call(this.children,t)}}function hj(){return this.firstElementChild}function fj(t){return this.select(t==null?hj:dj(typeof t=="function"?t:oO(t)))}var pj=Array.prototype.filter;function gj(){return Array.from(this.children)}function mj(t){return function(){return pj.call(this.children,t)}}function yj(t){return this.selectAll(t==null?gj:mj(typeof t=="function"?t:oO(t)))}function vj(t){typeof t!="function"&&(t=sO(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var s=e[i],o=s.length,a=r[i]=[],c,d=0;d<o;++d)(c=s[d])&&t.call(c,c.__data__,d,s)&&a.push(c);return new ci(r,this._parents)}function aO(t){return new Array(t.length)}function bj(){return new ci(this._enter||this._groups.map(aO),this._parents)}function x0(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}x0.prototype={constructor:x0,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function wj(t){return function(){return t}}function xj(t,e,n,r,i,s){for(var o=0,a,c=e.length,d=s.length;o<d;++o)(a=e[o])?(a.__data__=s[o],r[o]=a):n[o]=new x0(t,s[o]);for(;o<c;++o)(a=e[o])&&(i[o]=a)}function Sj(t,e,n,r,i,s,o){var a,c,d=new Map,h=e.length,f=s.length,p=new Array(h),m;for(a=0;a<h;++a)(c=e[a])&&(p[a]=m=o.call(c,c.__data__,a,e)+"",d.has(m)?i[a]=c:d.set(m,c));for(a=0;a<f;++a)m=o.call(t,s[a],a,s)+"",(c=d.get(m))?(r[a]=c,c.__data__=s[a],d.delete(m)):n[a]=new x0(t,s[a]);for(a=0;a<h;++a)(c=e[a])&&d.get(p[a])===c&&(i[a]=c)}function Ej(t){return t.__data__}function Cj(t,e){if(!arguments.length)return Array.from(this,Ej);var n=e?Sj:xj,r=this._parents,i=this._groups;typeof t!="function"&&(t=wj(t));for(var s=i.length,o=new Array(s),a=new Array(s),c=new Array(s),d=0;d<s;++d){var h=r[d],f=i[d],p=f.length,m=_j(t.call(h,h&&h.__data__,d,r)),y=m.length,b=a[d]=new Array(y),E=o[d]=new Array(y),x=c[d]=new Array(p);n(h,f,b,E,x,m,e);for(var C=0,S=0,_,k;C<y;++C)if(_=b[C]){for(C>=S&&(S=C+1);!(k=E[S])&&++S<y;);_._next=k||null}}return o=new ci(o,r),o._enter=a,o._exit=c,o}function _j(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Aj(){return new ci(this._exit||this._groups.map(aO),this._parents)}function kj(t,e,n){var r=this.enter(),i=this,s=this.exit();return typeof t=="function"?(r=t(r),r&&(r=r.selection())):r=r.append(t+""),e!=null&&(i=e(i),i&&(i=i.selection())),n==null?s.remove():n(s),r&&i?r.merge(i).order():i}function Rj(t){for(var e=t.selection?t.selection():t,n=this._groups,r=e._groups,i=n.length,s=r.length,o=Math.min(i,s),a=new Array(i),c=0;c<o;++c)for(var d=n[c],h=r[c],f=d.length,p=a[c]=new Array(f),m,y=0;y<f;++y)(m=d[y]||h[y])&&(p[y]=m);for(;c<i;++c)a[c]=n[c];return new ci(a,this._parents)}function Tj(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r=t[e],i=r.length-1,s=r[i],o;--i>=0;)(o=r[i])&&(s&&o.compareDocumentPosition(s)^4&&s.parentNode.insertBefore(o,s),s=o);return this}function Pj(t){t||(t=Ij);function e(f,p){return f&&p?t(f.__data__,p.__data__):!f-!p}for(var n=this._groups,r=n.length,i=new Array(r),s=0;s<r;++s){for(var o=n[s],a=o.length,c=i[s]=new Array(a),d,h=0;h<a;++h)(d=o[h])&&(c[h]=d);c.sort(e)}return new ci(i,this._parents).order()}function Ij(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function Nj(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function Mj(){return Array.from(this)}function Oj(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,s=r.length;i<s;++i){var o=r[i];if(o)return o}return null}function Lj(){let t=0;for(const e of this)++t;return t}function Dj(){return!this.node()}function Fj(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i=e[n],s=0,o=i.length,a;s<o;++s)(a=i[s])&&t.call(a,a.__data__,s,i);return this}function $j(t){return function(){this.removeAttribute(t)}}function zj(t){return function(){this.removeAttributeNS(t.space,t.local)}}function jj(t,e){return function(){this.setAttribute(t,e)}}function Bj(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function Hj(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function Wj(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function Uj(t,e){var n=bb(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((e==null?n.local?zj:$j:typeof e=="function"?n.local?Wj:Hj:n.local?Bj:jj)(n,e))}function lO(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function Vj(t){return function(){this.style.removeProperty(t)}}function Gj(t,e,n){return function(){this.style.setProperty(t,e,n)}}function qj(t,e,n){return function(){var r=e.apply(this,arguments);r==null?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function Yj(t,e,n){return arguments.length>1?this.each((e==null?Vj:typeof e=="function"?qj:Gj)(t,e,n??"")):fh(this.node(),t)}function fh(t,e){return t.style.getPropertyValue(e)||lO(t).getComputedStyle(t,null).getPropertyValue(e)}function Xj(t){return function(){delete this[t]}}function Kj(t,e){return function(){this[t]=e}}function Qj(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function Zj(t,e){return arguments.length>1?this.each((e==null?Xj:typeof e=="function"?Qj:Kj)(t,e)):this.node()[t]}function cO(t){return t.trim().split(/^|\s+/)}function u_(t){return t.classList||new uO(t)}function uO(t){this._node=t,this._names=cO(t.getAttribute("class")||"")}uO.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function dO(t,e){for(var n=u_(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function hO(t,e){for(var n=u_(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function Jj(t){return function(){dO(this,t)}}function e3(t){return function(){hO(this,t)}}function t3(t,e){return function(){(e.apply(this,arguments)?dO:hO)(this,t)}}function n3(t,e){var n=cO(t+"");if(arguments.length<2){for(var r=u_(this.node()),i=-1,s=n.length;++i<s;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof e=="function"?t3:e?Jj:e3)(n,e))}function r3(){this.textContent=""}function i3(t){return function(){this.textContent=t}}function s3(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function o3(t){return arguments.length?this.each(t==null?r3:(typeof t=="function"?s3:i3)(t)):this.node().textContent}function a3(){this.innerHTML=""}function l3(t){return function(){this.innerHTML=t}}function c3(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function u3(t){return arguments.length?this.each(t==null?a3:(typeof t=="function"?c3:l3)(t)):this.node().innerHTML}function d3(){this.nextSibling&&this.parentNode.appendChild(this)}function h3(){return this.each(d3)}function f3(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function p3(){return this.each(f3)}function g3(t){var e=typeof t=="function"?t:rO(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function m3(){return null}function y3(t,e){var n=typeof t=="function"?t:rO(t),r=e==null?m3:typeof e=="function"?e:c_(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function v3(){var t=this.parentNode;t&&t.removeChild(this)}function b3(){return this.each(v3)}function w3(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function x3(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function S3(t){return this.select(t?x3:w3)}function E3(t){return arguments.length?this.property("__data__",t):this.node().__data__}function C3(t){return function(e){t.call(this,e,this.__data__)}}function _3(t){return t.trim().split(/^|\s+/).map(function(e){var n="",r=e.indexOf(".");return r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),{type:e,name:n}})}function A3(t){return function(){var e=this.__on;if(e){for(var n=0,r=-1,i=e.length,s;n<i;++n)s=e[n],(!t.type||s.type===t.type)&&s.name===t.name?this.removeEventListener(s.type,s.listener,s.options):e[++r]=s;++r?e.length=r:delete this.__on}}}function k3(t,e,n){return function(){var r=this.__on,i,s=C3(e);if(r){for(var o=0,a=r.length;o<a;++o)if((i=r[o]).type===t.type&&i.name===t.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=s,i.options=n),i.value=e;return}}this.addEventListener(t.type,s,n),i={type:t.type,name:t.name,value:e,listener:s,options:n},r?r.push(i):this.__on=[i]}}function R3(t,e,n){var r=_3(t+""),i,s=r.length,o;if(arguments.length<2){var a=this.node().__on;if(a){for(var c=0,d=a.length,h;c<d;++c)for(i=0,h=a[c];i<s;++i)if((o=r[i]).type===h.type&&o.name===h.name)return h.value}return}for(a=e?k3:A3,i=0;i<s;++i)this.each(a(r[i],e,n));return this}function fO(t,e,n){var r=lO(t),i=r.CustomEvent;typeof i=="function"?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function T3(t,e){return function(){return fO(this,t,e)}}function P3(t,e){return function(){return fO(this,t,e.apply(this,arguments))}}function I3(t,e){return this.each((typeof e=="function"?P3:T3)(t,e))}function*N3(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,s=r.length,o;i<s;++i)(o=r[i])&&(yield o)}var pO=[null];function ci(t,e){this._groups=t,this._parents=e}function vm(){return new ci([[document.documentElement]],pO)}function M3(){return this}ci.prototype=vm.prototype={constructor:ci,select:sj,selectAll:cj,selectChild:fj,selectChildren:yj,filter:vj,data:Cj,enter:bj,exit:Aj,join:kj,merge:Rj,selection:M3,order:Tj,sort:Pj,call:Nj,nodes:Mj,node:Oj,size:Lj,empty:Dj,each:Fj,attr:Uj,style:Yj,property:Zj,classed:n3,text:o3,html:u3,raise:h3,lower:p3,append:g3,insert:y3,remove:b3,clone:S3,datum:E3,on:R3,dispatch:I3,[Symbol.iterator]:N3};function oi(t){return typeof t=="string"?new ci([[document.querySelector(t)]],[document.documentElement]):new ci([[t]],pO)}function O3(t){let e;for(;e=t.sourceEvent;)t=e;return t}function Zi(t,e){if(t=O3(t),e===void 0&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,r=r.matrixTransform(e.getScreenCTM().inverse()),[r.x,r.y]}if(e.getBoundingClientRect){var i=e.getBoundingClientRect();return[t.clientX-i.left-e.clientLeft,t.clientY-i.top-e.clientTop]}}return[t.pageX,t.pageY]}const L3={passive:!1},vp={capture:!0,passive:!1};function uS(t){t.stopImmediatePropagation()}function dd(t){t.preventDefault(),t.stopImmediatePropagation()}function gO(t){var e=t.document.documentElement,n=oi(t).on("dragstart.drag",dd,vp);"onselectstart"in e?n.on("selectstart.drag",dd,vp):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function mO(t,e){var n=t.document.documentElement,r=oi(t).on("dragstart.drag",null);e&&(r.on("click.drag",dd,vp),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const uv=t=>()=>t;function J1(t,{sourceEvent:e,subject:n,target:r,identifier:i,active:s,x:o,y:a,dx:c,dy:d,dispatch:h}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:i,enumerable:!0,configurable:!0},active:{value:s,enumerable:!0,configurable:!0},x:{value:o,enumerable:!0,configurable:!0},y:{value:a,enumerable:!0,configurable:!0},dx:{value:c,enumerable:!0,configurable:!0},dy:{value:d,enumerable:!0,configurable:!0},_:{value:h}})}J1.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};function D3(t){return!t.ctrlKey&&!t.button}function F3(){return this.parentNode}function $3(t,e){return e??{x:t.x,y:t.y}}function z3(){return navigator.maxTouchPoints||"ontouchstart"in this}function yO(){var t=D3,e=F3,n=$3,r=z3,i={},s=vb("start","drag","end"),o=0,a,c,d,h,f=0;function p(_){_.on("mousedown.drag",m).filter(r).on("touchstart.drag",E).on("touchmove.drag",x,L3).on("touchend.drag touchcancel.drag",C).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function m(_,k){if(!(h||!t.call(this,_,k))){var N=S(this,e.call(this,_,k),_,k,"mouse");N&&(oi(_.view).on("mousemove.drag",y,vp).on("mouseup.drag",b,vp),gO(_.view),uS(_),d=!1,a=_.clientX,c=_.clientY,N("start",_))}}function y(_){if(dd(_),!d){var k=_.clientX-a,N=_.clientY-c;d=k*k+N*N>f}i.mouse("drag",_)}function b(_){oi(_.view).on("mousemove.drag mouseup.drag",null),mO(_.view,d),dd(_),i.mouse("end",_)}function E(_,k){if(t.call(this,_,k)){var N=_.changedTouches,T=e.call(this,_,k),M=N.length,O,R;for(O=0;O<M;++O)(R=S(this,T,_,k,N[O].identifier,N[O]))&&(uS(_),R("start",_,N[O]))}}function x(_){var k=_.changedTouches,N=k.length,T,M;for(T=0;T<N;++T)(M=i[k[T].identifier])&&(dd(_),M("drag",_,k[T]))}function C(_){var k=_.changedTouches,N=k.length,T,M;for(h&&clearTimeout(h),h=setTimeout(function(){h=null},500),T=0;T<N;++T)(M=i[k[T].identifier])&&(uS(_),M("end",_,k[T]))}function S(_,k,N,T,M,O){var R=s.copy(),F=Zi(O||N,k),z,U,D;if((D=n.call(_,new J1("beforestart",{sourceEvent:N,target:p,identifier:M,active:o,x:F[0],y:F[1],dx:0,dy:0,dispatch:R}),T))!=null)return z=D.x-F[0]||0,U=D.y-F[1]||0,function V(H,K,q){var G=F,te;switch(H){case"start":i[M]=V,te=o++;break;case"end":delete i[M],--o;case"drag":F=Zi(q||K,k),te=o;break}R.call(H,_,new J1(H,{sourceEvent:K,subject:D,target:p,identifier:M,active:te,x:F[0]+z,y:F[1]+U,dx:F[0]-G[0],dy:F[1]-G[1],dispatch:R}),T)}}return p.filter=function(_){return arguments.length?(t=typeof _=="function"?_:uv(!!_),p):t},p.container=function(_){return arguments.length?(e=typeof _=="function"?_:uv(_),p):e},p.subject=function(_){return arguments.length?(n=typeof _=="function"?_:uv(_),p):n},p.touchable=function(_){return arguments.length?(r=typeof _=="function"?_:uv(!!_),p):r},p.on=function(){var _=s.on.apply(s,arguments);return _===s?p:_},p.clickDistance=function(_){return arguments.length?(f=(_=+_)*_,p):Math.sqrt(f)},p}function d_(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function vO(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function bm(){}var bp=.7,S0=1/bp,hd="\\s*([+-]?\\d+)\\s*",wp="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",qs="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",j3=/^#([0-9a-f]{3,8})$/,B3=new RegExp(`^rgb\\(${hd},${hd},${hd}\\)$`),H3=new RegExp(`^rgb\\(${qs},${qs},${qs}\\)$`),W3=new RegExp(`^rgba\\(${hd},${hd},${hd},${wp}\\)$`),U3=new RegExp(`^rgba\\(${qs},${qs},${qs},${wp}\\)$`),V3=new RegExp(`^hsl\\(${wp},${qs},${qs}\\)$`),G3=new RegExp(`^hsla\\(${wp},${qs},${qs},${wp}\\)$`),dT={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};d_(bm,xp,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:hT,formatHex:hT,formatHex8:q3,formatHsl:Y3,formatRgb:fT,toString:fT});function hT(){return this.rgb().formatHex()}function q3(){return this.rgb().formatHex8()}function Y3(){return bO(this).formatHsl()}function fT(){return this.rgb().formatRgb()}function xp(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=j3.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?pT(e):n===3?new Mr(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?dv(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?dv(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=B3.exec(t))?new Mr(e[1],e[2],e[3],1):(e=H3.exec(t))?new Mr(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=W3.exec(t))?dv(e[1],e[2],e[3],e[4]):(e=U3.exec(t))?dv(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=V3.exec(t))?yT(e[1],e[2]/100,e[3]/100,1):(e=G3.exec(t))?yT(e[1],e[2]/100,e[3]/100,e[4]):dT.hasOwnProperty(t)?pT(dT[t]):t==="transparent"?new Mr(NaN,NaN,NaN,0):null}function pT(t){return new Mr(t>>16&255,t>>8&255,t&255,1)}function dv(t,e,n,r){return r<=0&&(t=e=n=NaN),new Mr(t,e,n,r)}function X3(t){return t instanceof bm||(t=xp(t)),t?(t=t.rgb(),new Mr(t.r,t.g,t.b,t.opacity)):new Mr}function eE(t,e,n,r){return arguments.length===1?X3(t):new Mr(t,e,n,r??1)}function Mr(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}d_(Mr,eE,vO(bm,{brighter(t){return t=t==null?S0:Math.pow(S0,t),new Mr(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?bp:Math.pow(bp,t),new Mr(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Mr(Zc(this.r),Zc(this.g),Zc(this.b),E0(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:gT,formatHex:gT,formatHex8:K3,formatRgb:mT,toString:mT}));function gT(){return`#${ec(this.r)}${ec(this.g)}${ec(this.b)}`}function K3(){return`#${ec(this.r)}${ec(this.g)}${ec(this.b)}${ec((isNaN(this.opacity)?1:this.opacity)*255)}`}function mT(){const t=E0(this.opacity);return`${t===1?"rgb(":"rgba("}${Zc(this.r)}, ${Zc(this.g)}, ${Zc(this.b)}${t===1?")":`, ${t})`}`}function E0(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Zc(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function ec(t){return t=Zc(t),(t<16?"0":"")+t.toString(16)}function yT(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Ji(t,e,n,r)}function bO(t){if(t instanceof Ji)return new Ji(t.h,t.s,t.l,t.opacity);if(t instanceof bm||(t=xp(t)),!t)return new Ji;if(t instanceof Ji)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),s=Math.max(e,n,r),o=NaN,a=s-i,c=(s+i)/2;return a?(e===s?o=(n-r)/a+(n<r)*6:n===s?o=(r-e)/a+2:o=(e-n)/a+4,a/=c<.5?s+i:2-s-i,o*=60):a=c>0&&c<1?0:o,new Ji(o,a,c,t.opacity)}function Q3(t,e,n,r){return arguments.length===1?bO(t):new Ji(t,e,n,r??1)}function Ji(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}d_(Ji,Q3,vO(bm,{brighter(t){return t=t==null?S0:Math.pow(S0,t),new Ji(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?bp:Math.pow(bp,t),new Ji(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Mr(dS(t>=240?t-240:t+120,i,r),dS(t,i,r),dS(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Ji(vT(this.h),hv(this.s),hv(this.l),E0(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=E0(this.opacity);return`${t===1?"hsl(":"hsla("}${vT(this.h)}, ${hv(this.s)*100}%, ${hv(this.l)*100}%${t===1?")":`, ${t})`}`}}));function vT(t){return t=(t||0)%360,t<0?t+360:t}function hv(t){return Math.max(0,Math.min(1,t||0))}function dS(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const wO=t=>()=>t;function Z3(t,e){return function(n){return t+n*e}}function J3(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function eB(t){return(t=+t)==1?xO:function(e,n){return n-e?J3(e,n,t):wO(isNaN(e)?n:e)}}function xO(t,e){var n=e-t;return n?Z3(t,n):wO(isNaN(t)?e:t)}const bT=function t(e){var n=eB(e);function r(i,s){var o=n((i=eE(i)).r,(s=eE(s)).r),a=n(i.g,s.g),c=n(i.b,s.b),d=xO(i.opacity,s.opacity);return function(h){return i.r=o(h),i.g=a(h),i.b=c(h),i.opacity=d(h),i+""}}return r.gamma=t,r}(1);function Wa(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}var tE=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,hS=new RegExp(tE.source,"g");function tB(t){return function(){return t}}function nB(t){return function(e){return t(e)+""}}function rB(t,e){var n=tE.lastIndex=hS.lastIndex=0,r,i,s,o=-1,a=[],c=[];for(t=t+"",e=e+"";(r=tE.exec(t))&&(i=hS.exec(e));)(s=i.index)>n&&(s=e.slice(n,s),a[o]?a[o]+=s:a[++o]=s),(r=r[0])===(i=i[0])?a[o]?a[o]+=i:a[++o]=i:(a[++o]=null,c.push({i:o,x:Wa(r,i)})),n=hS.lastIndex;return n<e.length&&(s=e.slice(n),a[o]?a[o]+=s:a[++o]=s),a.length<2?c[0]?nB(c[0].x):tB(e):(e=c.length,function(d){for(var h=0,f;h<e;++h)a[(f=c[h]).i]=f.x(d);return a.join("")})}var wT=180/Math.PI,nE={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function SO(t,e,n,r,i,s){var o,a,c;return(o=Math.sqrt(t*t+e*e))&&(t/=o,e/=o),(c=t*n+e*r)&&(n-=t*c,r-=e*c),(a=Math.sqrt(n*n+r*r))&&(n/=a,r/=a,c/=a),t*r<e*n&&(t=-t,e=-e,c=-c,o=-o),{translateX:i,translateY:s,rotate:Math.atan2(e,t)*wT,skewX:Math.atan(c)*wT,scaleX:o,scaleY:a}}var fv;function iB(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?nE:SO(e.a,e.b,e.c,e.d,e.e,e.f)}function sB(t){return t==null||(fv||(fv=document.createElementNS("http://www.w3.org/2000/svg","g")),fv.setAttribute("transform",t),!(t=fv.transform.baseVal.consolidate()))?nE:(t=t.matrix,SO(t.a,t.b,t.c,t.d,t.e,t.f))}function EO(t,e,n,r){function i(d){return d.length?d.pop()+" ":""}function s(d,h,f,p,m,y){if(d!==f||h!==p){var b=m.push("translate(",null,e,null,n);y.push({i:b-4,x:Wa(d,f)},{i:b-2,x:Wa(h,p)})}else(f||p)&&m.push("translate("+f+e+p+n)}function o(d,h,f,p){d!==h?(d-h>180?h+=360:h-d>180&&(d+=360),p.push({i:f.push(i(f)+"rotate(",null,r)-2,x:Wa(d,h)})):h&&f.push(i(f)+"rotate("+h+r)}function a(d,h,f,p){d!==h?p.push({i:f.push(i(f)+"skewX(",null,r)-2,x:Wa(d,h)}):h&&f.push(i(f)+"skewX("+h+r)}function c(d,h,f,p,m,y){if(d!==f||h!==p){var b=m.push(i(m)+"scale(",null,",",null,")");y.push({i:b-4,x:Wa(d,f)},{i:b-2,x:Wa(h,p)})}else(f!==1||p!==1)&&m.push(i(m)+"scale("+f+","+p+")")}return function(d,h){var f=[],p=[];return d=t(d),h=t(h),s(d.translateX,d.translateY,h.translateX,h.translateY,f,p),o(d.rotate,h.rotate,f,p),a(d.skewX,h.skewX,f,p),c(d.scaleX,d.scaleY,h.scaleX,h.scaleY,f,p),d=h=null,function(m){for(var y=-1,b=p.length,E;++y<b;)f[(E=p[y]).i]=E.x(m);return f.join("")}}}var oB=EO(iB,"px, ","px)","deg)"),aB=EO(sB,", ",")",")"),lB=1e-12;function xT(t){return((t=Math.exp(t))+1/t)/2}function cB(t){return((t=Math.exp(t))-1/t)/2}function uB(t){return((t=Math.exp(2*t))-1)/(t+1)}const dB=function t(e,n,r){function i(s,o){var a=s[0],c=s[1],d=s[2],h=o[0],f=o[1],p=o[2],m=h-a,y=f-c,b=m*m+y*y,E,x;if(b<lB)x=Math.log(p/d)/e,E=function(T){return[a+T*m,c+T*y,d*Math.exp(e*T*x)]};else{var C=Math.sqrt(b),S=(p*p-d*d+r*b)/(2*d*n*C),_=(p*p-d*d-r*b)/(2*p*n*C),k=Math.log(Math.sqrt(S*S+1)-S),N=Math.log(Math.sqrt(_*_+1)-_);x=(N-k)/e,E=function(T){var M=T*x,O=xT(k),R=d/(n*C)*(O*uB(e*M+k)-cB(k));return[a+R*m,c+R*y,d*O/xT(e*M+k)]}}return E.duration=x*1e3*e/Math.SQRT2,E}return i.rho=function(s){var o=Math.max(.001,+s),a=o*o,c=a*a;return t(o,a,c)},i}(Math.SQRT2,2,4);var ph=0,jf=0,wf=0,CO=1e3,C0,Bf,_0=0,eu=0,wb=0,Sp=typeof performance=="object"&&performance.now?performance:Date,_O=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function h_(){return eu||(_O(hB),eu=Sp.now()+wb)}function hB(){eu=0}function A0(){this._call=this._time=this._next=null}A0.prototype=AO.prototype={constructor:A0,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?h_():+n)+(e==null?0:+e),!this._next&&Bf!==this&&(Bf?Bf._next=this:C0=this,Bf=this),this._call=t,this._time=n,rE()},stop:function(){this._call&&(this._call=null,this._time=1/0,rE())}};function AO(t,e,n){var r=new A0;return r.restart(t,e,n),r}function fB(){h_(),++ph;for(var t=C0,e;t;)(e=eu-t._time)>=0&&t._call.call(void 0,e),t=t._next;--ph}function ST(){eu=(_0=Sp.now())+wb,ph=jf=0;try{fB()}finally{ph=0,gB(),eu=0}}function pB(){var t=Sp.now(),e=t-_0;e>CO&&(wb-=e,_0=t)}function gB(){for(var t,e=C0,n,r=1/0;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:C0=n);Bf=t,rE(r)}function rE(t){if(!ph){jf&&(jf=clearTimeout(jf));var e=t-eu;e>24?(t<1/0&&(jf=setTimeout(ST,t-Sp.now()-wb)),wf&&(wf=clearInterval(wf))):(wf||(_0=Sp.now(),wf=setInterval(pB,CO)),ph=1,_O(ST))}}function ET(t,e,n){var r=new A0;return e=e==null?0:+e,r.restart(i=>{r.stop(),t(i+e)},e,n),r}var mB=vb("start","end","cancel","interrupt"),yB=[],kO=0,CT=1,iE=2,Fv=3,_T=4,sE=5,$v=6;function xb(t,e,n,r,i,s){var o=t.__transition;if(!o)t.__transition={};else if(n in o)return;vB(t,n,{name:e,index:r,group:i,on:mB,tween:yB,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:kO})}function f_(t,e){var n=ls(t,e);if(n.state>kO)throw new Error("too late; already scheduled");return n}function Js(t,e){var n=ls(t,e);if(n.state>Fv)throw new Error("too late; already running");return n}function ls(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function vB(t,e,n){var r=t.__transition,i;r[e]=n,n.timer=AO(s,0,n.time);function s(d){n.state=CT,n.timer.restart(o,n.delay,n.time),n.delay<=d&&o(d-n.delay)}function o(d){var h,f,p,m;if(n.state!==CT)return c();for(h in r)if(m=r[h],m.name===n.name){if(m.state===Fv)return ET(o);m.state===_T?(m.state=$v,m.timer.stop(),m.on.call("interrupt",t,t.__data__,m.index,m.group),delete r[h]):+h<e&&(m.state=$v,m.timer.stop(),m.on.call("cancel",t,t.__data__,m.index,m.group),delete r[h])}if(ET(function(){n.state===Fv&&(n.state=_T,n.timer.restart(a,n.delay,n.time),a(d))}),n.state=iE,n.on.call("start",t,t.__data__,n.index,n.group),n.state===iE){for(n.state=Fv,i=new Array(p=n.tween.length),h=0,f=-1;h<p;++h)(m=n.tween[h].value.call(t,t.__data__,n.index,n.group))&&(i[++f]=m);i.length=f+1}}function a(d){for(var h=d<n.duration?n.ease.call(null,d/n.duration):(n.timer.restart(c),n.state=sE,1),f=-1,p=i.length;++f<p;)i[f].call(t,h);n.state===sE&&(n.on.call("end",t,t.__data__,n.index,n.group),c())}function c(){n.state=$v,n.timer.stop(),delete r[e];for(var d in r)return;delete t.__transition}}function zv(t,e){var n=t.__transition,r,i,s=!0,o;if(n){e=e==null?null:e+"";for(o in n){if((r=n[o]).name!==e){s=!1;continue}i=r.state>iE&&r.state<sE,r.state=$v,r.timer.stop(),r.on.call(i?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete n[o]}s&&delete t.__transition}}function bB(t){return this.each(function(){zv(this,t)})}function wB(t,e){var n,r;return function(){var i=Js(this,t),s=i.tween;if(s!==n){r=n=s;for(var o=0,a=r.length;o<a;++o)if(r[o].name===e){r=r.slice(),r.splice(o,1);break}}i.tween=r}}function xB(t,e,n){var r,i;if(typeof n!="function")throw new Error;return function(){var s=Js(this,t),o=s.tween;if(o!==r){i=(r=o).slice();for(var a={name:e,value:n},c=0,d=i.length;c<d;++c)if(i[c].name===e){i[c]=a;break}c===d&&i.push(a)}s.tween=i}}function SB(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r=ls(this.node(),n).tween,i=0,s=r.length,o;i<s;++i)if((o=r[i]).name===t)return o.value;return null}return this.each((e==null?wB:xB)(n,t,e))}function p_(t,e,n){var r=t._id;return t.each(function(){var i=Js(this,r);(i.value||(i.value={}))[e]=n.apply(this,arguments)}),function(i){return ls(i,r).value[e]}}function RO(t,e){var n;return(typeof e=="number"?Wa:e instanceof xp?bT:(n=xp(e))?(e=n,bT):rB)(t,e)}function EB(t){return function(){this.removeAttribute(t)}}function CB(t){return function(){this.removeAttributeNS(t.space,t.local)}}function _B(t,e,n){var r,i=n+"",s;return function(){var o=this.getAttribute(t);return o===i?null:o===r?s:s=e(r=o,n)}}function AB(t,e,n){var r,i=n+"",s;return function(){var o=this.getAttributeNS(t.space,t.local);return o===i?null:o===r?s:s=e(r=o,n)}}function kB(t,e,n){var r,i,s;return function(){var o,a=n(this),c;return a==null?void this.removeAttribute(t):(o=this.getAttribute(t),c=a+"",o===c?null:o===r&&c===i?s:(i=c,s=e(r=o,a)))}}function RB(t,e,n){var r,i,s;return function(){var o,a=n(this),c;return a==null?void this.removeAttributeNS(t.space,t.local):(o=this.getAttributeNS(t.space,t.local),c=a+"",o===c?null:o===r&&c===i?s:(i=c,s=e(r=o,a)))}}function TB(t,e){var n=bb(t),r=n==="transform"?aB:RO;return this.attrTween(t,typeof e=="function"?(n.local?RB:kB)(n,r,p_(this,"attr."+t,e)):e==null?(n.local?CB:EB)(n):(n.local?AB:_B)(n,r,e))}function PB(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function IB(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function NB(t,e){var n,r;function i(){var s=e.apply(this,arguments);return s!==r&&(n=(r=s)&&IB(t,s)),n}return i._value=e,i}function MB(t,e){var n,r;function i(){var s=e.apply(this,arguments);return s!==r&&(n=(r=s)&&PB(t,s)),n}return i._value=e,i}function OB(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var r=bb(t);return this.tween(n,(r.local?NB:MB)(r,e))}function LB(t,e){return function(){f_(this,t).delay=+e.apply(this,arguments)}}function DB(t,e){return e=+e,function(){f_(this,t).delay=e}}function FB(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?LB:DB)(e,t)):ls(this.node(),e).delay}function $B(t,e){return function(){Js(this,t).duration=+e.apply(this,arguments)}}function zB(t,e){return e=+e,function(){Js(this,t).duration=e}}function jB(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?$B:zB)(e,t)):ls(this.node(),e).duration}function BB(t,e){if(typeof e!="function")throw new Error;return function(){Js(this,t).ease=e}}function HB(t){var e=this._id;return arguments.length?this.each(BB(e,t)):ls(this.node(),e).ease}function WB(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;Js(this,t).ease=n}}function UB(t){if(typeof t!="function")throw new Error;return this.each(WB(this._id,t))}function VB(t){typeof t!="function"&&(t=sO(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var s=e[i],o=s.length,a=r[i]=[],c,d=0;d<o;++d)(c=s[d])&&t.call(c,c.__data__,d,s)&&a.push(c);return new na(r,this._parents,this._name,this._id)}function GB(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,s=Math.min(r,i),o=new Array(r),a=0;a<s;++a)for(var c=e[a],d=n[a],h=c.length,f=o[a]=new Array(h),p,m=0;m<h;++m)(p=c[m]||d[m])&&(f[m]=p);for(;a<r;++a)o[a]=e[a];return new na(o,this._parents,this._name,this._id)}function qB(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function YB(t,e,n){var r,i,s=qB(e)?f_:Js;return function(){var o=s(this,t),a=o.on;a!==r&&(i=(r=a).copy()).on(e,n),o.on=i}}function XB(t,e){var n=this._id;return arguments.length<2?ls(this.node(),n).on.on(t):this.each(YB(n,t,e))}function KB(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function QB(){return this.on("end.remove",KB(this._id))}function ZB(t){var e=this._name,n=this._id;typeof t!="function"&&(t=c_(t));for(var r=this._groups,i=r.length,s=new Array(i),o=0;o<i;++o)for(var a=r[o],c=a.length,d=s[o]=new Array(c),h,f,p=0;p<c;++p)(h=a[p])&&(f=t.call(h,h.__data__,p,a))&&("__data__"in h&&(f.__data__=h.__data__),d[p]=f,xb(d[p],e,n,p,d,ls(h,n)));return new na(s,this._parents,e,n)}function JB(t){var e=this._name,n=this._id;typeof t!="function"&&(t=iO(t));for(var r=this._groups,i=r.length,s=[],o=[],a=0;a<i;++a)for(var c=r[a],d=c.length,h,f=0;f<d;++f)if(h=c[f]){for(var p=t.call(h,h.__data__,f,c),m,y=ls(h,n),b=0,E=p.length;b<E;++b)(m=p[b])&&xb(m,e,n,b,p,y);s.push(p),o.push(h)}return new na(s,o,e,n)}var eH=vm.prototype.constructor;function tH(){return new eH(this._groups,this._parents)}function nH(t,e){var n,r,i;return function(){var s=fh(this,t),o=(this.style.removeProperty(t),fh(this,t));return s===o?null:s===n&&o===r?i:i=e(n=s,r=o)}}function TO(t){return function(){this.style.removeProperty(t)}}function rH(t,e,n){var r,i=n+"",s;return function(){var o=fh(this,t);return o===i?null:o===r?s:s=e(r=o,n)}}function iH(t,e,n){var r,i,s;return function(){var o=fh(this,t),a=n(this),c=a+"";return a==null&&(c=a=(this.style.removeProperty(t),fh(this,t))),o===c?null:o===r&&c===i?s:(i=c,s=e(r=o,a))}}function sH(t,e){var n,r,i,s="style."+e,o="end."+s,a;return function(){var c=Js(this,t),d=c.on,h=c.value[s]==null?a||(a=TO(e)):void 0;(d!==n||i!==h)&&(r=(n=d).copy()).on(o,i=h),c.on=r}}function oH(t,e,n){var r=(t+="")=="transform"?oB:RO;return e==null?this.styleTween(t,nH(t,r)).on("end.style."+t,TO(t)):typeof e=="function"?this.styleTween(t,iH(t,r,p_(this,"style."+t,e))).each(sH(this._id,t)):this.styleTween(t,rH(t,r,e),n).on("end.style."+t,null)}function aH(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function lH(t,e,n){var r,i;function s(){var o=e.apply(this,arguments);return o!==i&&(r=(i=o)&&aH(t,o,n)),r}return s._value=e,s}function cH(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;return this.tween(r,lH(t,e,n??""))}function uH(t){return function(){this.textContent=t}}function dH(t){return function(){var e=t(this);this.textContent=e??""}}function hH(t){return this.tween("text",typeof t=="function"?dH(p_(this,"text",t)):uH(t==null?"":t+""))}function fH(t){return function(e){this.textContent=t.call(this,e)}}function pH(t){var e,n;function r(){var i=t.apply(this,arguments);return i!==n&&(e=(n=i)&&fH(i)),e}return r._value=t,r}function gH(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,pH(t))}function mH(){for(var t=this._name,e=this._id,n=PO(),r=this._groups,i=r.length,s=0;s<i;++s)for(var o=r[s],a=o.length,c,d=0;d<a;++d)if(c=o[d]){var h=ls(c,e);xb(c,t,n,d,o,{time:h.time+h.delay+h.duration,delay:0,duration:h.duration,ease:h.ease})}return new na(r,this._parents,t,n)}function yH(){var t,e,n=this,r=n._id,i=n.size();return new Promise(function(s,o){var a={value:o},c={value:function(){--i===0&&s()}};n.each(function(){var d=Js(this,r),h=d.on;h!==t&&(e=(t=h).copy(),e._.cancel.push(a),e._.interrupt.push(a),e._.end.push(c)),d.on=e}),i===0&&s()})}var vH=0;function na(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function PO(){return++vH}var ho=vm.prototype;na.prototype={constructor:na,select:ZB,selectAll:JB,selectChild:ho.selectChild,selectChildren:ho.selectChildren,filter:VB,merge:GB,selection:tH,transition:mH,call:ho.call,nodes:ho.nodes,node:ho.node,size:ho.size,empty:ho.empty,each:ho.each,on:XB,attr:TB,attrTween:OB,style:oH,styleTween:cH,text:hH,textTween:gH,remove:QB,tween:SB,delay:FB,duration:jB,ease:HB,easeVarying:UB,end:yH,[Symbol.iterator]:ho[Symbol.iterator]};function bH(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var wH={time:null,delay:0,duration:250,ease:bH};function xH(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function SH(t){var e,n;t instanceof na?(e=t._id,t=t._name):(e=PO(),(n=wH).time=h_(),t=t==null?null:t+"");for(var r=this._groups,i=r.length,s=0;s<i;++s)for(var o=r[s],a=o.length,c,d=0;d<a;++d)(c=o[d])&&xb(c,t,e,d,o,n||xH(c,e));return new na(r,this._parents,t,e)}vm.prototype.interrupt=bB;vm.prototype.transition=SH;const pv=t=>()=>t;function EH(t,{sourceEvent:e,target:n,transform:r,dispatch:i}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:i}})}function qo(t,e,n){this.k=t,this.x=e,this.y=n}qo.prototype={constructor:qo,scale:function(t){return t===1?this:new qo(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new qo(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Sb=new qo(1,0,0);IO.prototype=qo.prototype;function IO(t){for(;!t.__zoom;)if(!(t=t.parentNode))return Sb;return t.__zoom}function fS(t){t.stopImmediatePropagation()}function xf(t){t.preventDefault(),t.stopImmediatePropagation()}function CH(t){return(!t.ctrlKey||t.type==="wheel")&&!t.button}function _H(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t,t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]):[[0,0],[t.clientWidth,t.clientHeight]]}function AT(){return this.__zoom||Sb}function AH(t){return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function kH(){return navigator.maxTouchPoints||"ontouchstart"in this}function RH(t,e,n){var r=t.invertX(e[0][0])-n[0][0],i=t.invertX(e[1][0])-n[1][0],s=t.invertY(e[0][1])-n[0][1],o=t.invertY(e[1][1])-n[1][1];return t.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),o>s?(s+o)/2:Math.min(0,s)||Math.max(0,o))}function NO(){var t=CH,e=_H,n=RH,r=AH,i=kH,s=[0,1/0],o=[[-1/0,-1/0],[1/0,1/0]],a=250,c=dB,d=vb("start","zoom","end"),h,f,p,m=500,y=150,b=0,E=10;function x(D){D.property("__zoom",AT).on("wheel.zoom",M,{passive:!1}).on("mousedown.zoom",O).on("dblclick.zoom",R).filter(i).on("touchstart.zoom",F).on("touchmove.zoom",z).on("touchend.zoom touchcancel.zoom",U).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}x.transform=function(D,V,H,K){var q=D.selection?D.selection():D;q.property("__zoom",AT),D!==q?k(D,V,H,K):q.interrupt().each(function(){N(this,arguments).event(K).start().zoom(null,typeof V=="function"?V.apply(this,arguments):V).end()})},x.scaleBy=function(D,V,H,K){x.scaleTo(D,function(){var q=this.__zoom.k,G=typeof V=="function"?V.apply(this,arguments):V;return q*G},H,K)},x.scaleTo=function(D,V,H,K){x.transform(D,function(){var q=e.apply(this,arguments),G=this.__zoom,te=H==null?_(q):typeof H=="function"?H.apply(this,arguments):H,Y=G.invert(te),Z=typeof V=="function"?V.apply(this,arguments):V;return n(S(C(G,Z),te,Y),q,o)},H,K)},x.translateBy=function(D,V,H,K){x.transform(D,function(){return n(this.__zoom.translate(typeof V=="function"?V.apply(this,arguments):V,typeof H=="function"?H.apply(this,arguments):H),e.apply(this,arguments),o)},null,K)},x.translateTo=function(D,V,H,K,q){x.transform(D,function(){var G=e.apply(this,arguments),te=this.__zoom,Y=K==null?_(G):typeof K=="function"?K.apply(this,arguments):K;return n(Sb.translate(Y[0],Y[1]).scale(te.k).translate(typeof V=="function"?-V.apply(this,arguments):-V,typeof H=="function"?-H.apply(this,arguments):-H),G,o)},K,q)};function C(D,V){return V=Math.max(s[0],Math.min(s[1],V)),V===D.k?D:new qo(V,D.x,D.y)}function S(D,V,H){var K=V[0]-H[0]*D.k,q=V[1]-H[1]*D.k;return K===D.x&&q===D.y?D:new qo(D.k,K,q)}function _(D){return[(+D[0][0]+ +D[1][0])/2,(+D[0][1]+ +D[1][1])/2]}function k(D,V,H,K){D.on("start.zoom",function(){N(this,arguments).event(K).start()}).on("interrupt.zoom end.zoom",function(){N(this,arguments).event(K).end()}).tween("zoom",function(){var q=this,G=arguments,te=N(q,G).event(K),Y=e.apply(q,G),Z=H==null?_(Y):typeof H=="function"?H.apply(q,G):H,X=Math.max(Y[1][0]-Y[0][0],Y[1][1]-Y[0][1]),Q=q.__zoom,J=typeof V=="function"?V.apply(q,G):V,ie=c(Q.invert(Z).concat(X/Q.k),J.invert(Z).concat(X/J.k));return function(ne){if(ne===1)ne=J;else{var oe=ie(ne),ue=X/oe[2];ne=new qo(ue,Z[0]-oe[0]*ue,Z[1]-oe[1]*ue)}te.zoom(null,ne)}})}function N(D,V,H){return!H&&D.__zooming||new T(D,V)}function T(D,V){this.that=D,this.args=V,this.active=0,this.sourceEvent=null,this.extent=e.apply(D,V),this.taps=0}T.prototype={event:function(D){return D&&(this.sourceEvent=D),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(D,V){return this.mouse&&D!=="mouse"&&(this.mouse[1]=V.invert(this.mouse[0])),this.touch0&&D!=="touch"&&(this.touch0[1]=V.invert(this.touch0[0])),this.touch1&&D!=="touch"&&(this.touch1[1]=V.invert(this.touch1[0])),this.that.__zoom=V,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(D){var V=oi(this.that).datum();d.call(D,this.that,new EH(D,{sourceEvent:this.sourceEvent,target:x,transform:this.that.__zoom,dispatch:d}),V)}};function M(D,...V){if(!t.apply(this,arguments))return;var H=N(this,V).event(D),K=this.__zoom,q=Math.max(s[0],Math.min(s[1],K.k*Math.pow(2,r.apply(this,arguments)))),G=Zi(D);if(H.wheel)(H.mouse[0][0]!==G[0]||H.mouse[0][1]!==G[1])&&(H.mouse[1]=K.invert(H.mouse[0]=G)),clearTimeout(H.wheel);else{if(K.k===q)return;H.mouse=[G,K.invert(G)],zv(this),H.start()}xf(D),H.wheel=setTimeout(te,y),H.zoom("mouse",n(S(C(K,q),H.mouse[0],H.mouse[1]),H.extent,o));function te(){H.wheel=null,H.end()}}function O(D,...V){if(p||!t.apply(this,arguments))return;var H=D.currentTarget,K=N(this,V,!0).event(D),q=oi(D.view).on("mousemove.zoom",Z,!0).on("mouseup.zoom",X,!0),G=Zi(D,H),te=D.clientX,Y=D.clientY;gO(D.view),fS(D),K.mouse=[G,this.__zoom.invert(G)],zv(this),K.start();function Z(Q){if(xf(Q),!K.moved){var J=Q.clientX-te,ie=Q.clientY-Y;K.moved=J*J+ie*ie>b}K.event(Q).zoom("mouse",n(S(K.that.__zoom,K.mouse[0]=Zi(Q,H),K.mouse[1]),K.extent,o))}function X(Q){q.on("mousemove.zoom mouseup.zoom",null),mO(Q.view,K.moved),xf(Q),K.event(Q).end()}}function R(D,...V){if(t.apply(this,arguments)){var H=this.__zoom,K=Zi(D.changedTouches?D.changedTouches[0]:D,this),q=H.invert(K),G=H.k*(D.shiftKey?.5:2),te=n(S(C(H,G),K,q),e.apply(this,V),o);xf(D),a>0?oi(this).transition().duration(a).call(k,te,K,D):oi(this).call(x.transform,te,K,D)}}function F(D,...V){if(t.apply(this,arguments)){var H=D.touches,K=H.length,q=N(this,V,D.changedTouches.length===K).event(D),G,te,Y,Z;for(fS(D),te=0;te<K;++te)Y=H[te],Z=Zi(Y,this),Z=[Z,this.__zoom.invert(Z),Y.identifier],q.touch0?!q.touch1&&q.touch0[2]!==Z[2]&&(q.touch1=Z,q.taps=0):(q.touch0=Z,G=!0,q.taps=1+!!h);h&&(h=clearTimeout(h)),G&&(q.taps<2&&(f=Z[0],h=setTimeout(function(){h=null},m)),zv(this),q.start())}}function z(D,...V){if(this.__zooming){var H=N(this,V).event(D),K=D.changedTouches,q=K.length,G,te,Y,Z;for(xf(D),G=0;G<q;++G)te=K[G],Y=Zi(te,this),H.touch0&&H.touch0[2]===te.identifier?H.touch0[0]=Y:H.touch1&&H.touch1[2]===te.identifier&&(H.touch1[0]=Y);if(te=H.that.__zoom,H.touch1){var X=H.touch0[0],Q=H.touch0[1],J=H.touch1[0],ie=H.touch1[1],ne=(ne=J[0]-X[0])*ne+(ne=J[1]-X[1])*ne,oe=(oe=ie[0]-Q[0])*oe+(oe=ie[1]-Q[1])*oe;te=C(te,Math.sqrt(ne/oe)),Y=[(X[0]+J[0])/2,(X[1]+J[1])/2],Z=[(Q[0]+ie[0])/2,(Q[1]+ie[1])/2]}else if(H.touch0)Y=H.touch0[0],Z=H.touch0[1];else return;H.zoom("touch",n(S(te,Y,Z),H.extent,o))}}function U(D,...V){if(this.__zooming){var H=N(this,V).event(D),K=D.changedTouches,q=K.length,G,te;for(fS(D),p&&clearTimeout(p),p=setTimeout(function(){p=null},m),G=0;G<q;++G)te=K[G],H.touch0&&H.touch0[2]===te.identifier?delete H.touch0:H.touch1&&H.touch1[2]===te.identifier&&delete H.touch1;if(H.touch1&&!H.touch0&&(H.touch0=H.touch1,delete H.touch1),H.touch0)H.touch0[1]=this.__zoom.invert(H.touch0[0]);else if(H.end(),H.taps===2&&(te=Zi(te,this),Math.hypot(f[0]-te[0],f[1]-te[1])<E)){var Y=oi(this).on("dblclick.zoom");Y&&Y.apply(this,arguments)}}}return x.wheelDelta=function(D){return arguments.length?(r=typeof D=="function"?D:pv(+D),x):r},x.filter=function(D){return arguments.length?(t=typeof D=="function"?D:pv(!!D),x):t},x.touchable=function(D){return arguments.length?(i=typeof D=="function"?D:pv(!!D),x):i},x.extent=function(D){return arguments.length?(e=typeof D=="function"?D:pv([[+D[0][0],+D[0][1]],[+D[1][0],+D[1][1]]]),x):e},x.scaleExtent=function(D){return arguments.length?(s[0]=+D[0],s[1]=+D[1],x):[s[0],s[1]]},x.translateExtent=function(D){return arguments.length?(o[0][0]=+D[0][0],o[1][0]=+D[1][0],o[0][1]=+D[0][1],o[1][1]=+D[1][1],x):[[o[0][0],o[0][1]],[o[1][0],o[1][1]]]},x.constrain=function(D){return arguments.length?(n=D,x):n},x.duration=function(D){return arguments.length?(a=+D,x):a},x.interpolate=function(D){return arguments.length?(c=D,x):c},x.on=function(){var D=d.on.apply(d,arguments);return D===d?x:D},x.clickDistance=function(D){return arguments.length?(b=(D=+D)*D,x):Math.sqrt(b)},x.tapDistance=function(D){return arguments.length?(E=+D,x):E},x}const Qs={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:t=>`Node type "${t}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:t=>`The old edge with id=${t} does not exist.`,error009:t=>`Marker type "${t}" doesn't exist.`,error008:(t,{id:e,sourceHandle:n,targetHandle:r})=>`Couldn't create edge for ${t} handle id: "${t==="source"?n:r}", edge id: ${e}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:t=>`Edge type "${t}" not found. Using fallback type "default".`,error012:t=>`Node with id "${t}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`,error013:(t="react")=>`It seems that you haven't loaded the styles. Please import '@xyflow/${t}/dist/style.css' or base.css to make sure everything is working properly.`,error014:()=>"useNodeConnections: No node ID found. Call useNodeConnections inside a custom Node or provide a node ID.",error015:()=>"It seems that you are trying to drag a node that is not initialized. Please use onNodesChange as explained in the docs."},Ep=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],MO=["Enter"," ","Escape"];var gh;(function(t){t.Strict="strict",t.Loose="loose"})(gh||(gh={}));var Jc;(function(t){t.Free="free",t.Vertical="vertical",t.Horizontal="horizontal"})(Jc||(Jc={}));var Cp;(function(t){t.Partial="partial",t.Full="full"})(Cp||(Cp={}));const OO={inProgress:!1,isValid:null,from:null,fromHandle:null,fromPosition:null,fromNode:null,to:null,toHandle:null,toPosition:null,toNode:null};var Va;(function(t){t.Bezier="default",t.Straight="straight",t.Step="step",t.SmoothStep="smoothstep",t.SimpleBezier="simplebezier"})(Va||(Va={}));var mh;(function(t){t.Arrow="arrow",t.ArrowClosed="arrowclosed"})(mh||(mh={}));var ze;(function(t){t.Left="left",t.Top="top",t.Right="right",t.Bottom="bottom"})(ze||(ze={}));const kT={[ze.Left]:ze.Right,[ze.Right]:ze.Left,[ze.Top]:ze.Bottom,[ze.Bottom]:ze.Top};function LO(t){return t===null?null:t?"valid":"invalid"}const DO=t=>"id"in t&&"source"in t&&"target"in t,TH=t=>"id"in t&&"position"in t&&!("source"in t)&&!("target"in t),g_=t=>"id"in t&&"internals"in t&&!("source"in t)&&!("target"in t),wm=(t,e=[0,0])=>{const{width:n,height:r}=ca(t),i=t.origin??e,s=n*i[0],o=r*i[1];return{x:t.position.x-s,y:t.position.y-o}},PH=(t,e={nodeOrigin:[0,0],nodeLookup:void 0})=>{if(t.length===0)return{x:0,y:0,width:0,height:0};const n=t.reduce((r,i)=>{const s=typeof i=="string";let o=!e.nodeLookup&&!s?i:void 0;e.nodeLookup&&(o=s?e.nodeLookup.get(i):g_(i)?i:e.nodeLookup.get(i.id));const a=o?k0(o,e.nodeOrigin):{x:0,y:0,x2:0,y2:0};return Eb(r,a)},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return Cb(n)},xm=(t,e={})=>{if(t.size===0)return{x:0,y:0,width:0,height:0};let n={x:1/0,y:1/0,x2:-1/0,y2:-1/0};return t.forEach(r=>{if(e.filter===void 0||e.filter(r)){const i=k0(r);n=Eb(n,i)}}),Cb(n)},FO=(t,e,[n,r,i]=[0,0,1],s=!1,o=!1)=>{const a={...Sm(e,[n,r,i]),width:e.width/i,height:e.height/i},c=[];for(const d of t.values()){const{measured:h,selectable:f=!0,hidden:p=!1}=d;if(o&&!f||p)continue;const m=h.width??d.width??d.initialWidth??null,y=h.height??d.height??d.initialHeight??null,b=_p(a,vh(d)),E=(m??0)*(y??0),x=s&&b>0;(!d.internals.handleBounds||x||b>=E||d.dragging)&&c.push(d)}return c},IH=(t,e)=>{const n=new Set;return t.forEach(r=>{n.add(r.id)}),e.filter(r=>n.has(r.source)||n.has(r.target))};function oE(t,e){const n=new Map,r=e!=null&&e.nodes?new Set(e.nodes.map(i=>i.id)):null;return t.forEach(i=>{i.measured.width&&i.measured.height&&((e==null?void 0:e.includeHiddenNodes)||!i.hidden)&&(!r||r.has(i.id))&&n.set(i.id,i)}),n}async function aE({nodes:t,width:e,height:n,panZoom:r,minZoom:i,maxZoom:s},o){if(t.size===0)return Promise.resolve(!1);const a=xm(t),c=m_(a,e,n,(o==null?void 0:o.minZoom)??i,(o==null?void 0:o.maxZoom)??s,(o==null?void 0:o.padding)??.1);return await r.setViewport(c,{duration:o==null?void 0:o.duration}),Promise.resolve(!0)}function $O({nodeId:t,nextPosition:e,nodeLookup:n,nodeOrigin:r=[0,0],nodeExtent:i,onError:s}){const o=n.get(t),a=o.parentId?n.get(o.parentId):void 0,{x:c,y:d}=a?a.internals.positionAbsolute:{x:0,y:0},h=o.origin??r;let f=i;if(o.extent==="parent"&&!o.expandParent)if(!a)s==null||s("005",Qs.error005());else{const m=a.measured.width,y=a.measured.height;m&&y&&(f=[[c,d],[c+m,d+y]])}else a&&bh(o.extent)&&(f=[[o.extent[0][0]+c,o.extent[0][1]+d],[o.extent[1][0]+c,o.extent[1][1]+d]]);const p=bh(f)?tu(e,f,o.measured):e;return(o.measured.width===void 0||o.measured.height===void 0)&&(s==null||s("015",Qs.error015())),{position:{x:p.x-c+(o.measured.width??0)*h[0],y:p.y-d+(o.measured.height??0)*h[1]},positionAbsolute:p}}async function NH({nodesToRemove:t=[],edgesToRemove:e=[],nodes:n,edges:r,onBeforeDelete:i}){const s=new Set(t.map(p=>p.id)),o=[];for(const p of n){if(p.deletable===!1)continue;const m=s.has(p.id),y=!m&&p.parentId&&o.find(b=>b.id===p.parentId);(m||y)&&o.push(p)}const a=new Set(e.map(p=>p.id)),c=r.filter(p=>p.deletable!==!1),h=IH(o,c);for(const p of c)a.has(p.id)&&!h.find(y=>y.id===p.id)&&h.push(p);if(!i)return{edges:h,nodes:o};const f=await i({nodes:o,edges:h});return typeof f=="boolean"?f?{edges:h,nodes:o}:{edges:[],nodes:[]}:f}const yh=(t,e=0,n=1)=>Math.min(Math.max(t,e),n),tu=(t={x:0,y:0},e,n)=>({x:yh(t.x,e[0][0],e[1][0]-((n==null?void 0:n.width)??0)),y:yh(t.y,e[0][1],e[1][1]-((n==null?void 0:n.height)??0))});function zO(t,e,n){const{width:r,height:i}=ca(n),{x:s,y:o}=n.internals.positionAbsolute;return tu(t,[[s,o],[s+r,o+i]],e)}const RT=(t,e,n)=>t<e?yh(Math.abs(t-e),1,e)/e:t>n?-yh(Math.abs(t-n),1,e)/e:0,jO=(t,e,n=15,r=40)=>{const i=RT(t.x,r,e.width-r)*n,s=RT(t.y,r,e.height-r)*n;return[i,s]},Eb=(t,e)=>({x:Math.min(t.x,e.x),y:Math.min(t.y,e.y),x2:Math.max(t.x2,e.x2),y2:Math.max(t.y2,e.y2)}),lE=({x:t,y:e,width:n,height:r})=>({x:t,y:e,x2:t+n,y2:e+r}),Cb=({x:t,y:e,x2:n,y2:r})=>({x:t,y:e,width:n-t,height:r-e}),vh=(t,e=[0,0])=>{var i,s;const{x:n,y:r}=g_(t)?t.internals.positionAbsolute:wm(t,e);return{x:n,y:r,width:((i=t.measured)==null?void 0:i.width)??t.width??t.initialWidth??0,height:((s=t.measured)==null?void 0:s.height)??t.height??t.initialHeight??0}},k0=(t,e=[0,0])=>{var i,s;const{x:n,y:r}=g_(t)?t.internals.positionAbsolute:wm(t,e);return{x:n,y:r,x2:n+(((i=t.measured)==null?void 0:i.width)??t.width??t.initialWidth??0),y2:r+(((s=t.measured)==null?void 0:s.height)??t.height??t.initialHeight??0)}},BO=(t,e)=>Cb(Eb(lE(t),lE(e))),_p=(t,e)=>{const n=Math.max(0,Math.min(t.x+t.width,e.x+e.width)-Math.max(t.x,e.x)),r=Math.max(0,Math.min(t.y+t.height,e.y+e.height)-Math.max(t.y,e.y));return Math.ceil(n*r)},TT=t=>es(t.width)&&es(t.height)&&es(t.x)&&es(t.y),es=t=>!isNaN(t)&&isFinite(t),MH=(t,e)=>{},_b=(t,e=[1,1])=>({x:e[0]*Math.round(t.x/e[0]),y:e[1]*Math.round(t.y/e[1])}),Sm=({x:t,y:e},[n,r,i],s=!1,o=[1,1])=>{const a={x:(t-n)/i,y:(e-r)/i};return s?_b(a,o):a},HO=({x:t,y:e},[n,r,i])=>({x:t*i+n,y:e*i+r}),m_=(t,e,n,r,i,s)=>{const o=e/(t.width*(1+s)),a=n/(t.height*(1+s)),c=Math.min(o,a),d=yh(c,r,i),h=t.x+t.width/2,f=t.y+t.height/2,p=e/2-h*d,m=n/2-f*d;return{x:p,y:m,zoom:d}},R0=()=>{var t;return typeof navigator<"u"&&((t=navigator==null?void 0:navigator.userAgent)==null?void 0:t.indexOf("Mac"))>=0};function bh(t){return t!==void 0&&t!=="parent"}function ca(t){var e,n;return{width:((e=t.measured)==null?void 0:e.width)??t.width??t.initialWidth??0,height:((n=t.measured)==null?void 0:n.height)??t.height??t.initialHeight??0}}function WO(t){var e,n;return(((e=t.measured)==null?void 0:e.width)??t.width??t.initialWidth)!==void 0&&(((n=t.measured)==null?void 0:n.height)??t.height??t.initialHeight)!==void 0}function UO(t,e={width:0,height:0},n,r,i){const s={...t},o=r.get(n);if(o){const a=o.origin||i;s.x+=o.internals.positionAbsolute.x-(e.width??0)*a[0],s.y+=o.internals.positionAbsolute.y-(e.height??0)*a[1]}return s}function PT(t,e){if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0}function lp(t,{snapGrid:e=[0,0],snapToGrid:n=!1,transform:r,containerBounds:i}){const{x:s,y:o}=Xo(t),a=Sm({x:s-((i==null?void 0:i.left)??0),y:o-((i==null?void 0:i.top)??0)},r),{x:c,y:d}=n?_b(a,e):a;return{xSnapped:c,ySnapped:d,...a}}const Ab=t=>({width:t.offsetWidth,height:t.offsetHeight}),VO=t=>{var e;return((e=t==null?void 0:t.getRootNode)==null?void 0:e.call(t))||(window==null?void 0:window.document)},OH=["INPUT","SELECT","TEXTAREA"];function cE(t){var r,i;const e=((i=(r=t.composedPath)==null?void 0:r.call(t))==null?void 0:i[0])||t.target;return(e==null?void 0:e.nodeType)!==1?!1:OH.includes(e.nodeName)||e.hasAttribute("contenteditable")||!!e.closest(".nokey")}const GO=t=>"clientX"in t,Xo=(t,e)=>{var s,o;const n=GO(t),r=n?t.clientX:(s=t.touches)==null?void 0:s[0].clientX,i=n?t.clientY:(o=t.touches)==null?void 0:o[0].clientY;return{x:r-((e==null?void 0:e.left)??0),y:i-((e==null?void 0:e.top)??0)}},IT=(t,e,n,r,i)=>{const s=e.querySelectorAll(`.${t}`);return!s||!s.length?null:Array.from(s).map(o=>{const a=o.getBoundingClientRect();return{id:o.getAttribute("data-handleid"),type:t,nodeId:i,position:o.getAttribute("data-handlepos"),x:(a.left-n.left)/r,y:(a.top-n.top)/r,...Ab(o)}})};function qO({sourceX:t,sourceY:e,targetX:n,targetY:r,sourceControlX:i,sourceControlY:s,targetControlX:o,targetControlY:a}){const c=t*.125+i*.375+o*.375+n*.125,d=e*.125+s*.375+a*.375+r*.125,h=Math.abs(c-t),f=Math.abs(d-e);return[c,d,h,f]}function gv(t,e){return t>=0?.5*t:e*25*Math.sqrt(-t)}function NT({pos:t,x1:e,y1:n,x2:r,y2:i,c:s}){switch(t){case ze.Left:return[e-gv(e-r,s),n];case ze.Right:return[e+gv(r-e,s),n];case ze.Top:return[e,n-gv(n-i,s)];case ze.Bottom:return[e,n+gv(i-n,s)]}}function kb({sourceX:t,sourceY:e,sourcePosition:n=ze.Bottom,targetX:r,targetY:i,targetPosition:s=ze.Top,curvature:o=.25}){const[a,c]=NT({pos:n,x1:t,y1:e,x2:r,y2:i,c:o}),[d,h]=NT({pos:s,x1:r,y1:i,x2:t,y2:e,c:o}),[f,p,m,y]=qO({sourceX:t,sourceY:e,targetX:r,targetY:i,sourceControlX:a,sourceControlY:c,targetControlX:d,targetControlY:h});return[`M${t},${e} C${a},${c} ${d},${h} ${r},${i}`,f,p,m,y]}function YO({sourceX:t,sourceY:e,targetX:n,targetY:r}){const i=Math.abs(n-t)/2,s=n<t?n+i:n-i,o=Math.abs(r-e)/2,a=r<e?r+o:r-o;return[s,a,i,o]}function LH({sourceNode:t,targetNode:e,selected:n=!1,zIndex:r=0,elevateOnSelect:i=!1}){if(!i)return r;const s=n||e.selected||t.selected,o=Math.max(t.internals.z||0,e.internals.z||0,1e3);return r+(s?o:0)}function DH({sourceNode:t,targetNode:e,width:n,height:r,transform:i}){const s=Eb(k0(t),k0(e));s.x===s.x2&&(s.x2+=1),s.y===s.y2&&(s.y2+=1);const o={x:-i[0]/i[2],y:-i[1]/i[2],width:n/i[2],height:r/i[2]};return _p(o,Cb(s))>0}const FH=({source:t,sourceHandle:e,target:n,targetHandle:r})=>`xy-edge__${t}${e||""}-${n}${r||""}`,$H=(t,e)=>e.some(n=>n.source===t.source&&n.target===t.target&&(n.sourceHandle===t.sourceHandle||!n.sourceHandle&&!t.sourceHandle)&&(n.targetHandle===t.targetHandle||!n.targetHandle&&!t.targetHandle)),XO=(t,e)=>{if(!t.source||!t.target)return e;let n;return DO(t)?n={...t}:n={...t,id:FH(t)},$H(n,e)?e:(n.sourceHandle===null&&delete n.sourceHandle,n.targetHandle===null&&delete n.targetHandle,e.concat(n))};function KO({sourceX:t,sourceY:e,targetX:n,targetY:r}){const[i,s,o,a]=YO({sourceX:t,sourceY:e,targetX:n,targetY:r});return[`M ${t},${e}L ${n},${r}`,i,s,o,a]}const MT={[ze.Left]:{x:-1,y:0},[ze.Right]:{x:1,y:0},[ze.Top]:{x:0,y:-1},[ze.Bottom]:{x:0,y:1}},zH=({source:t,sourcePosition:e=ze.Bottom,target:n})=>e===ze.Left||e===ze.Right?t.x<n.x?{x:1,y:0}:{x:-1,y:0}:t.y<n.y?{x:0,y:1}:{x:0,y:-1},OT=(t,e)=>Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2));function jH({source:t,sourcePosition:e=ze.Bottom,target:n,targetPosition:r=ze.Top,center:i,offset:s}){const o=MT[e],a=MT[r],c={x:t.x+o.x*s,y:t.y+o.y*s},d={x:n.x+a.x*s,y:n.y+a.y*s},h=zH({source:c,sourcePosition:e,target:d}),f=h.x!==0?"x":"y",p=h[f];let m=[],y,b;const E={x:0,y:0},x={x:0,y:0},[C,S,_,k]=YO({sourceX:t.x,sourceY:t.y,targetX:n.x,targetY:n.y});if(o[f]*a[f]===-1){y=i.x??C,b=i.y??S;const T=[{x:y,y:c.y},{x:y,y:d.y}],M=[{x:c.x,y:b},{x:d.x,y:b}];o[f]===p?m=f==="x"?T:M:m=f==="x"?M:T}else{const T=[{x:c.x,y:d.y}],M=[{x:d.x,y:c.y}];if(f==="x"?m=o.x===p?M:T:m=o.y===p?T:M,e===r){const U=Math.abs(t[f]-n[f]);if(U<=s){const D=Math.min(s-1,s-U);o[f]===p?E[f]=(c[f]>t[f]?-1:1)*D:x[f]=(d[f]>n[f]?-1:1)*D}}if(e!==r){const U=f==="x"?"y":"x",D=o[f]===a[U],V=c[U]>d[U],H=c[U]<d[U];(o[f]===1&&(!D&&V||D&&H)||o[f]!==1&&(!D&&H||D&&V))&&(m=f==="x"?T:M)}const O={x:c.x+E.x,y:c.y+E.y},R={x:d.x+x.x,y:d.y+x.y},F=Math.max(Math.abs(O.x-m[0].x),Math.abs(R.x-m[0].x)),z=Math.max(Math.abs(O.y-m[0].y),Math.abs(R.y-m[0].y));F>=z?(y=(O.x+R.x)/2,b=m[0].y):(y=m[0].x,b=(O.y+R.y)/2)}return[[t,{x:c.x+E.x,y:c.y+E.y},...m,{x:d.x+x.x,y:d.y+x.y},n],y,b,_,k]}function BH(t,e,n,r){const i=Math.min(OT(t,e)/2,OT(e,n)/2,r),{x:s,y:o}=e;if(t.x===s&&s===n.x||t.y===o&&o===n.y)return`L${s} ${o}`;if(t.y===o){const d=t.x<n.x?-1:1,h=t.y<n.y?1:-1;return`L ${s+i*d},${o}Q ${s},${o} ${s},${o+i*h}`}const a=t.x<n.x?1:-1,c=t.y<n.y?-1:1;return`L ${s},${o+i*c}Q ${s},${o} ${s+i*a},${o}`}function uE({sourceX:t,sourceY:e,sourcePosition:n=ze.Bottom,targetX:r,targetY:i,targetPosition:s=ze.Top,borderRadius:o=5,centerX:a,centerY:c,offset:d=20}){const[h,f,p,m,y]=jH({source:{x:t,y:e},sourcePosition:n,target:{x:r,y:i},targetPosition:s,center:{x:a,y:c},offset:d});return[h.reduce((E,x,C)=>{let S="";return C>0&&C<h.length-1?S=BH(h[C-1],x,h[C+1],o):S=`${C===0?"M":"L"}${x.x} ${x.y}`,E+=S,E},""),f,p,m,y]}function LT(t){var e;return t&&!!(t.internals.handleBounds||(e=t.handles)!=null&&e.length)&&!!(t.measured.width||t.width||t.initialWidth)}function HH(t){var f;const{sourceNode:e,targetNode:n}=t;if(!LT(e)||!LT(n))return null;const r=e.internals.handleBounds||DT(e.handles),i=n.internals.handleBounds||DT(n.handles),s=FT((r==null?void 0:r.source)??[],t.sourceHandle),o=FT(t.connectionMode===gh.Strict?(i==null?void 0:i.target)??[]:((i==null?void 0:i.target)??[]).concat((i==null?void 0:i.source)??[]),t.targetHandle);if(!s||!o)return(f=t.onError)==null||f.call(t,"008",Qs.error008(s?"target":"source",{id:t.id,sourceHandle:t.sourceHandle,targetHandle:t.targetHandle})),null;const a=(s==null?void 0:s.position)||ze.Bottom,c=(o==null?void 0:o.position)||ze.Top,d=Ap(e,s,a),h=Ap(n,o,c);return{sourceX:d.x,sourceY:d.y,targetX:h.x,targetY:h.y,sourcePosition:a,targetPosition:c}}function DT(t){if(!t)return null;const e=[],n=[];for(const r of t)r.width=r.width??1,r.height=r.height??1,r.type==="source"?e.push(r):r.type==="target"&&n.push(r);return{source:e,target:n}}function Ap(t,e,n=ze.Left,r=!1){const i=((e==null?void 0:e.x)??0)+t.internals.positionAbsolute.x,s=((e==null?void 0:e.y)??0)+t.internals.positionAbsolute.y,{width:o,height:a}=e??ca(t);if(r)return{x:i+o/2,y:s+a/2};switch((e==null?void 0:e.position)??n){case ze.Top:return{x:i+o/2,y:s};case ze.Right:return{x:i+o,y:s+a/2};case ze.Bottom:return{x:i+o/2,y:s+a};case ze.Left:return{x:i,y:s+a/2}}}function FT(t,e){return t&&(e?t.find(n=>n.id===e):t[0])||null}function dE(t,e){return t?typeof t=="string"?t:`${e?`${e}__`:""}${Object.keys(t).sort().map(r=>`${r}=${t[r]}`).join("&")}`:""}function WH(t,{id:e,defaultColor:n,defaultMarkerStart:r,defaultMarkerEnd:i}){const s=new Set;return t.reduce((o,a)=>([a.markerStart||r,a.markerEnd||i].forEach(c=>{if(c&&typeof c=="object"){const d=dE(c,e);s.has(d)||(o.push({id:d,color:c.color||n,...c}),s.add(d))}}),o),[]).sort((o,a)=>o.id.localeCompare(a.id))}const y_={nodeOrigin:[0,0],nodeExtent:Ep,elevateNodesOnSelect:!0,defaults:{}},UH={...y_,checkEquality:!0};function v_(t,e){const n={...t};for(const r in e)e[r]!==void 0&&(n[r]=e[r]);return n}function VH(t,e,n){const r=v_(y_,n);for(const i of t.values())if(i.parentId)b_(i,t,e,r);else{const s=wm(i,r.nodeOrigin),o=bh(i.extent)?i.extent:r.nodeExtent,a=tu(s,o,ca(i));i.internals.positionAbsolute=a}}function hE(t,e,n,r){var a,c;const i=v_(UH,r),s=new Map(e),o=i!=null&&i.elevateNodesOnSelect?1e3:0;e.clear(),n.clear();for(const d of t){let h=s.get(d.id);if(i.checkEquality&&d===(h==null?void 0:h.internals.userNode))e.set(d.id,h);else{const f=wm(d,i.nodeOrigin),p=bh(d.extent)?d.extent:i.nodeExtent,m=tu(f,p,ca(d));h={...i.defaults,...d,measured:{width:(a=d.measured)==null?void 0:a.width,height:(c=d.measured)==null?void 0:c.height},internals:{positionAbsolute:m,handleBounds:d.measured?h==null?void 0:h.internals.handleBounds:void 0,z:QO(d,o),userNode:d}},e.set(d.id,h)}d.parentId&&b_(h,e,n,r)}}function GH(t,e){if(!t.parentId)return;const n=e.get(t.parentId);n?n.set(t.id,t):e.set(t.parentId,new Map([[t.id,t]]))}function b_(t,e,n,r){const{elevateNodesOnSelect:i,nodeOrigin:s,nodeExtent:o}=v_(y_,r),a=t.parentId,c=e.get(a);if(!c){console.warn(`Parent node ${a} not found. Please make sure that parent nodes are in front of their child nodes in the nodes array.`);return}GH(t,n);const d=i?1e3:0,{x:h,y:f,z:p}=qH(t,c,s,o,d),{positionAbsolute:m}=t.internals,y=h!==m.x||f!==m.y;(y||p!==t.internals.z)&&e.set(t.id,{...t,internals:{...t.internals,positionAbsolute:y?{x:h,y:f}:m,z:p}})}function QO(t,e){return(es(t.zIndex)?t.zIndex:0)+(t.selected?e:0)}function qH(t,e,n,r,i){const{x:s,y:o}=e.internals.positionAbsolute,a=ca(t),c=wm(t,n),d=bh(t.extent)?tu(c,t.extent,a):c;let h=tu({x:s+d.x,y:o+d.y},r,a);t.extent==="parent"&&(h=zO(h,a,e));const f=QO(t,i),p=e.internals.z??0;return{x:h.x,y:h.y,z:p>f?p:f}}function w_(t,e,n,r=[0,0]){var o;const i=[],s=new Map;for(const a of t){const c=e.get(a.parentId);if(!c)continue;const d=((o=s.get(a.parentId))==null?void 0:o.expandedRect)??vh(c),h=BO(d,a.rect);s.set(a.parentId,{expandedRect:h,parent:c})}return s.size>0&&s.forEach(({expandedRect:a,parent:c},d)=>{var S;const h=c.internals.positionAbsolute,f=ca(c),p=c.origin??r,m=a.x<h.x?Math.round(Math.abs(h.x-a.x)):0,y=a.y<h.y?Math.round(Math.abs(h.y-a.y)):0,b=Math.max(f.width,Math.round(a.width)),E=Math.max(f.height,Math.round(a.height)),x=(b-f.width)*p[0],C=(E-f.height)*p[1];(m>0||y>0||x||C)&&(i.push({id:d,type:"position",position:{x:c.position.x-m+x,y:c.position.y-y+C}}),(S=n.get(d))==null||S.forEach(_=>{t.some(k=>k.id===_.id)||i.push({id:_.id,type:"position",position:{x:_.position.x+m,y:_.position.y+y}})})),(f.width<a.width||f.height<a.height||m||y)&&i.push({id:d,type:"dimensions",setAttributes:!0,dimensions:{width:b+(m?p[0]*m-x:0),height:E+(y?p[1]*y-C:0)}})}),i}function YH(t,e,n,r,i,s){const o=r==null?void 0:r.querySelector(".xyflow__viewport");let a=!1;if(!o)return{changes:[],updatedInternals:a};const c=[],d=window.getComputedStyle(o),{m22:h}=new window.DOMMatrixReadOnly(d.transform),f=[];for(const p of t.values()){const m=e.get(p.id);if(!m)continue;if(m.hidden){e.set(m.id,{...m,internals:{...m.internals,handleBounds:void 0}}),a=!0;continue}const y=Ab(p.nodeElement),b=m.measured.width!==y.width||m.measured.height!==y.height;if(!!(y.width&&y.height&&(b||!m.internals.handleBounds||p.force))){const x=p.nodeElement.getBoundingClientRect(),C=bh(m.extent)?m.extent:s;let{positionAbsolute:S}=m.internals;m.parentId&&m.extent==="parent"?S=zO(S,y,e.get(m.parentId)):C&&(S=tu(S,C,y));const _={...m,measured:y,internals:{...m.internals,positionAbsolute:S,handleBounds:{source:IT("source",p.nodeElement,x,h,m.id),target:IT("target",p.nodeElement,x,h,m.id)}}};e.set(m.id,_),m.parentId&&b_(_,e,n,{nodeOrigin:i}),a=!0,b&&(c.push({id:m.id,type:"dimensions",dimensions:y}),m.expandParent&&m.parentId&&f.push({id:m.id,parentId:m.parentId,rect:vh(_,i)}))}}if(f.length>0){const p=w_(f,e,n,i);c.push(...p)}return{changes:c,updatedInternals:a}}async function XH({delta:t,panZoom:e,transform:n,translateExtent:r,width:i,height:s}){if(!e||!t.x&&!t.y)return Promise.resolve(!1);const o=await e.setViewportConstrained({x:n[0]+t.x,y:n[1]+t.y,zoom:n[2]},[[0,0],[i,s]],r),a=!!o&&(o.x!==n[0]||o.y!==n[1]||o.k!==n[2]);return Promise.resolve(a)}function $T(t,e,n,r,i,s){let o=i;const a=r.get(o)||new Map;r.set(o,a.set(n,e)),o=`${i}-${t}`;const c=r.get(o)||new Map;if(r.set(o,c.set(n,e)),s){o=`${i}-${t}-${s}`;const d=r.get(o)||new Map;r.set(o,d.set(n,e))}}function ZO(t,e,n){t.clear(),e.clear();for(const r of n){const{source:i,target:s,sourceHandle:o=null,targetHandle:a=null}=r,c={edgeId:r.id,source:i,target:s,sourceHandle:o,targetHandle:a},d=`${i}-${o}--${s}-${a}`,h=`${s}-${a}--${i}-${o}`;$T("source",c,h,t,i,o),$T("target",c,d,t,s,a),e.set(r.id,r)}}function JO(t,e){if(!t.parentId)return!1;const n=e.get(t.parentId);return n?n.selected?!0:JO(n,e):!1}function zT(t,e,n){var i;let r=t;do{if((i=r==null?void 0:r.matches)!=null&&i.call(r,e))return!0;if(r===n)return!1;r=r==null?void 0:r.parentElement}while(r);return!1}function KH(t,e,n,r){const i=new Map;for(const[s,o]of t)if((o.selected||o.id===r)&&(!o.parentId||!JO(o,t))&&(o.draggable||e&&typeof o.draggable>"u")){const a=t.get(s);a&&i.set(s,{id:s,position:a.position||{x:0,y:0},distance:{x:n.x-a.internals.positionAbsolute.x,y:n.y-a.internals.positionAbsolute.y},extent:a.extent,parentId:a.parentId,origin:a.origin,expandParent:a.expandParent,internals:{positionAbsolute:a.internals.positionAbsolute||{x:0,y:0}},measured:{width:a.measured.width??0,height:a.measured.height??0}})}return i}function pS({nodeId:t,dragItems:e,nodeLookup:n,dragging:r=!0}){var o,a,c;const i=[];for(const[d,h]of e){const f=(o=n.get(d))==null?void 0:o.internals.userNode;f&&i.push({...f,position:h.position,dragging:r})}if(!t)return[i[0],i];const s=(a=n.get(t))==null?void 0:a.internals.userNode;return[s?{...s,position:((c=e.get(t))==null?void 0:c.position)||s.position,dragging:r}:i[0],i]}function QH({onNodeMouseDown:t,getStoreItems:e,onDragStart:n,onDrag:r,onDragStop:i}){let s={x:null,y:null},o=0,a=new Map,c=!1,d={x:0,y:0},h=null,f=!1,p=null,m=!1;function y({noDragClassName:E,handleSelector:x,domNode:C,isSelectable:S,nodeId:_,nodeClickDistance:k=0}){p=oi(C);function N({x:R,y:F},z){const{nodeLookup:U,nodeExtent:D,snapGrid:V,snapToGrid:H,nodeOrigin:K,onNodeDrag:q,onSelectionDrag:G,onError:te,updateNodePositions:Y}=e();s={x:R,y:F};let Z=!1,X={x:0,y:0,x2:0,y2:0};if(a.size>1&&D){const Q=xm(a);X=lE(Q)}for(const[Q,J]of a){if(!U.has(Q))continue;let ie={x:R-J.distance.x,y:F-J.distance.y};H&&(ie=_b(ie,V));let ne=[[D[0][0],D[0][1]],[D[1][0],D[1][1]]];if(a.size>1&&D&&!J.extent){const{positionAbsolute:fe}=J.internals,ye=fe.x-X.x+D[0][0],pe=fe.x+J.measured.width-X.x2+D[1][0],Se=fe.y-X.y+D[0][1],xe=fe.y+J.measured.height-X.y2+D[1][1];ne=[[ye,Se],[pe,xe]]}const{position:oe,positionAbsolute:ue}=$O({nodeId:Q,nextPosition:ie,nodeLookup:U,nodeExtent:ne,nodeOrigin:K,onError:te});Z=Z||J.position.x!==oe.x||J.position.y!==oe.y,J.position=oe,J.internals.positionAbsolute=ue}if(Z&&(Y(a,!0),z&&(r||q||!_&&G))){const[Q,J]=pS({nodeId:_,dragItems:a,nodeLookup:U});r==null||r(z,a,Q,J),q==null||q(z,Q,J),_||G==null||G(z,J)}}async function T(){if(!h)return;const{transform:R,panBy:F,autoPanSpeed:z,autoPanOnNodeDrag:U}=e();if(!U){c=!1,cancelAnimationFrame(o);return}const[D,V]=jO(d,h,z);(D!==0||V!==0)&&(s.x=(s.x??0)-D/R[2],s.y=(s.y??0)-V/R[2],await F({x:D,y:V})&&N(s,null)),o=requestAnimationFrame(T)}function M(R){var Z;const{nodeLookup:F,multiSelectionActive:z,nodesDraggable:U,transform:D,snapGrid:V,snapToGrid:H,selectNodesOnDrag:K,onNodeDragStart:q,onSelectionDragStart:G,unselectNodesAndEdges:te}=e();f=!0,(!K||!S)&&!z&&_&&((Z=F.get(_))!=null&&Z.selected||te()),S&&K&&_&&(t==null||t(_));const Y=lp(R.sourceEvent,{transform:D,snapGrid:V,snapToGrid:H,containerBounds:h});if(s=Y,a=KH(F,U,Y,_),a.size>0&&(n||q||!_&&G)){const[X,Q]=pS({nodeId:_,dragItems:a,nodeLookup:F});n==null||n(R.sourceEvent,a,X,Q),q==null||q(R.sourceEvent,X,Q),_||G==null||G(R.sourceEvent,Q)}}const O=yO().clickDistance(k).on("start",R=>{const{domNode:F,nodeDragThreshold:z,transform:U,snapGrid:D,snapToGrid:V}=e();h=(F==null?void 0:F.getBoundingClientRect())||null,m=!1,z===0&&M(R),s=lp(R.sourceEvent,{transform:U,snapGrid:D,snapToGrid:V,containerBounds:h}),d=Xo(R.sourceEvent,h)}).on("drag",R=>{const{autoPanOnNodeDrag:F,transform:z,snapGrid:U,snapToGrid:D,nodeDragThreshold:V,nodeLookup:H}=e(),K=lp(R.sourceEvent,{transform:z,snapGrid:U,snapToGrid:D,containerBounds:h});if((R.sourceEvent.type==="touchmove"&&R.sourceEvent.touches.length>1||_&&!H.has(_))&&(m=!0),!m){if(!c&&F&&f&&(c=!0,T()),!f){const q=K.xSnapped-(s.x??0),G=K.ySnapped-(s.y??0);Math.sqrt(q*q+G*G)>V&&M(R)}(s.x!==K.xSnapped||s.y!==K.ySnapped)&&a&&f&&(d=Xo(R.sourceEvent,h),N(K,R.sourceEvent))}}).on("end",R=>{if(!(!f||m)&&(c=!1,f=!1,cancelAnimationFrame(o),a.size>0)){const{nodeLookup:F,updateNodePositions:z,onNodeDragStop:U,onSelectionDragStop:D}=e();if(z(a,!1),i||U||!_&&D){const[V,H]=pS({nodeId:_,dragItems:a,nodeLookup:F,dragging:!1});i==null||i(R.sourceEvent,a,V,H),U==null||U(R.sourceEvent,V,H),_||D==null||D(R.sourceEvent,H)}}}).filter(R=>{const F=R.target;return!R.button&&(!E||!zT(F,`.${E}`,C))&&(!x||zT(F,x,C))});p.call(O)}function b(){p==null||p.on(".drag",null)}return{update:y,destroy:b}}function ZH(t,e,n){const r=[],i={x:t.x-n,y:t.y-n,width:n*2,height:n*2};for(const s of e.values())_p(i,vh(s))>0&&r.push(s);return r}const JH=250;function e4(t,e,n,r){var a,c;let i=[],s=1/0;const o=ZH(t,n,e+JH);for(const d of o){const h=[...((a=d.internals.handleBounds)==null?void 0:a.source)??[],...((c=d.internals.handleBounds)==null?void 0:c.target)??[]];for(const f of h){if(r.nodeId===f.nodeId&&r.type===f.type&&r.id===f.id)continue;const{x:p,y:m}=Ap(d,f,f.position,!0),y=Math.sqrt(Math.pow(p-t.x,2)+Math.pow(m-t.y,2));y>e||(y<s?(i=[{...f,x:p,y:m}],s=y):y===s&&i.push({...f,x:p,y:m}))}}if(!i.length)return null;if(i.length>1){const d=r.type==="source"?"target":"source";return i.find(h=>h.type===d)??i[0]}return i[0]}function eL(t,e,n,r,i,s=!1){var d,h,f;const o=r.get(t);if(!o)return null;const a=i==="strict"?(d=o.internals.handleBounds)==null?void 0:d[e]:[...((h=o.internals.handleBounds)==null?void 0:h.source)??[],...((f=o.internals.handleBounds)==null?void 0:f.target)??[]],c=(n?a==null?void 0:a.find(p=>p.id===n):a==null?void 0:a[0])??null;return c&&s?{...c,...Ap(o,c,c.position,!0)}:c}function tL(t,e){return t||(e!=null&&e.classList.contains("target")?"target":e!=null&&e.classList.contains("source")?"source":null)}function t4(t,e){let n=null;return e?n=!0:t&&!e&&(n=!1),n}const nL=()=>!0;function n4(t,{connectionMode:e,connectionRadius:n,handleId:r,nodeId:i,edgeUpdaterType:s,isTarget:o,domNode:a,nodeLookup:c,lib:d,autoPanOnConnect:h,flowId:f,panBy:p,cancelConnection:m,onConnectStart:y,onConnect:b,onConnectEnd:E,isValidConnection:x=nL,onReconnectEnd:C,updateConnection:S,getTransform:_,getFromHandle:k,autoPanSpeed:N}){const T=VO(t.target);let M=0,O;const{x:R,y:F}=Xo(t),z=T==null?void 0:T.elementFromPoint(R,F),U=tL(s,z),D=a==null?void 0:a.getBoundingClientRect();if(!D||!U)return;const V=eL(i,U,r,c,e);if(!V)return;let H=Xo(t,D),K=!1,q=null,G=!1,te=null;function Y(){if(!h||!D)return;const[ue,fe]=jO(H,D,N);p({x:ue,y:fe}),M=requestAnimationFrame(Y)}const Z={...V,nodeId:i,type:U,position:V.position},X=c.get(i),J={inProgress:!0,isValid:null,from:Ap(X,Z,ze.Left,!0),fromHandle:Z,fromPosition:Z.position,fromNode:X,to:H,toHandle:null,toPosition:kT[Z.position],toNode:null};S(J);let ie=J;y==null||y(t,{nodeId:i,handleId:r,handleType:U});function ne(ue){if(!k()||!Z){oe(ue);return}const fe=_();H=Xo(ue,D),O=e4(Sm(H,fe,!1,[1,1]),n,c,Z),K||(Y(),K=!0);const ye=rL(ue,{handle:O,connectionMode:e,fromNodeId:i,fromHandleId:r,fromType:o?"target":"source",isValidConnection:x,doc:T,lib:d,flowId:f,nodeLookup:c});te=ye.handleDomNode,q=ye.connection,G=t4(!!O,ye.isValid);const pe={...ie,isValid:G,to:O&&G?HO({x:O.x,y:O.y},fe):H,toHandle:ye.toHandle,toPosition:G&&ye.toHandle?ye.toHandle.position:kT[Z.position],toNode:ye.toHandle?c.get(ye.toHandle.nodeId):null};G&&O&&ie.toHandle&&pe.toHandle&&ie.toHandle.type===pe.toHandle.type&&ie.toHandle.nodeId===pe.toHandle.nodeId&&ie.toHandle.id===pe.toHandle.id&&ie.to.x===pe.to.x&&ie.to.y===pe.to.y||(S(pe),ie=pe)}function oe(ue){(O||te)&&q&&G&&(b==null||b(q));const{inProgress:fe,...ye}=ie,pe={...ye,toPosition:ie.toHandle?ie.toPosition:null};E==null||E(ue,pe),s&&(C==null||C(ue,pe)),m(),cancelAnimationFrame(M),K=!1,G=!1,q=null,te=null,T.removeEventListener("mousemove",ne),T.removeEventListener("mouseup",oe),T.removeEventListener("touchmove",ne),T.removeEventListener("touchend",oe)}T.addEventListener("mousemove",ne),T.addEventListener("mouseup",oe),T.addEventListener("touchmove",ne),T.addEventListener("touchend",oe)}function rL(t,{handle:e,connectionMode:n,fromNodeId:r,fromHandleId:i,fromType:s,doc:o,lib:a,flowId:c,isValidConnection:d=nL,nodeLookup:h}){const f=s==="target",p=e?o.querySelector(`.${a}-flow__handle[data-id="${c}-${e==null?void 0:e.nodeId}-${e==null?void 0:e.id}-${e==null?void 0:e.type}"]`):null,{x:m,y}=Xo(t),b=o.elementFromPoint(m,y),E=b!=null&&b.classList.contains(`${a}-flow__handle`)?b:p,x={handleDomNode:E,isValid:!1,connection:null,toHandle:null};if(E){const C=tL(void 0,E),S=E.getAttribute("data-nodeid"),_=E.getAttribute("data-handleid"),k=E.classList.contains("connectable"),N=E.classList.contains("connectableend");if(!S||!C)return x;const T={source:f?S:r,sourceHandle:f?_:i,target:f?r:S,targetHandle:f?i:_};x.connection=T;const O=k&&N&&(n===gh.Strict?f&&C==="source"||!f&&C==="target":S!==r||_!==i);x.isValid=O&&d(T),x.toHandle=eL(S,C,_,h,n,!1)}return x}const fE={onPointerDown:n4,isValid:rL};function r4({domNode:t,panZoom:e,getTransform:n,getViewScale:r}){const i=oi(t);function s({translateExtent:a,width:c,height:d,zoomStep:h=10,pannable:f=!0,zoomable:p=!0,inversePan:m=!1}){const y=S=>{const _=n();if(S.sourceEvent.type!=="wheel"||!e)return;const k=-S.sourceEvent.deltaY*(S.sourceEvent.deltaMode===1?.05:S.sourceEvent.deltaMode?1:.002)*h,N=_[2]*Math.pow(2,k);e.scaleTo(N)};let b=[0,0];const E=S=>{(S.sourceEvent.type==="mousedown"||S.sourceEvent.type==="touchstart")&&(b=[S.sourceEvent.clientX??S.sourceEvent.touches[0].clientX,S.sourceEvent.clientY??S.sourceEvent.touches[0].clientY])},x=S=>{const _=n();if(S.sourceEvent.type!=="mousemove"&&S.sourceEvent.type!=="touchmove"||!e)return;const k=[S.sourceEvent.clientX??S.sourceEvent.touches[0].clientX,S.sourceEvent.clientY??S.sourceEvent.touches[0].clientY],N=[k[0]-b[0],k[1]-b[1]];b=k;const T=r()*Math.max(_[2],Math.log(_[2]))*(m?-1:1),M={x:_[0]-N[0]*T,y:_[1]-N[1]*T},O=[[0,0],[c,d]];e.setViewportConstrained({x:M.x,y:M.y,zoom:_[2]},O,a)},C=NO().on("start",E).on("zoom",f?x:null).on("zoom.wheel",p?y:null);i.call(C,{})}function o(){i.on("zoom",null)}return{update:s,destroy:o,pointer:Zi}}const i4=(t,e)=>t.x!==e.x||t.y!==e.y||t.zoom!==e.k,Rb=t=>({x:t.x,y:t.y,zoom:t.k}),gS=({x:t,y:e,zoom:n})=>Sb.translate(t,e).scale(n),ld=(t,e)=>t.target.closest(`.${e}`),iL=(t,e)=>e===2&&Array.isArray(t)&&t.includes(2),mS=(t,e=0,n=()=>{})=>{const r=typeof e=="number"&&e>0;return r||n(),r?t.transition().duration(e).on("end",n):t},sL=t=>{const e=t.ctrlKey&&R0()?10:1;return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*e};function s4({zoomPanValues:t,noWheelClassName:e,d3Selection:n,d3Zoom:r,panOnScrollMode:i,panOnScrollSpeed:s,zoomOnPinch:o,onPanZoomStart:a,onPanZoom:c,onPanZoomEnd:d}){return h=>{if(ld(h,e))return!1;h.preventDefault(),h.stopImmediatePropagation();const f=n.property("__zoom").k||1;if(h.ctrlKey&&o){const E=Zi(h),x=sL(h),C=f*Math.pow(2,x);r.scaleTo(n,C,E,h);return}const p=h.deltaMode===1?20:1;let m=i===Jc.Vertical?0:h.deltaX*p,y=i===Jc.Horizontal?0:h.deltaY*p;!R0()&&h.shiftKey&&i!==Jc.Vertical&&(m=h.deltaY*p,y=0),r.translateBy(n,-(m/f)*s,-(y/f)*s,{internal:!0});const b=Rb(n.property("__zoom"));clearTimeout(t.panScrollTimeout),t.isPanScrolling||(t.isPanScrolling=!0,a==null||a(h,b)),t.isPanScrolling&&(c==null||c(h,b),t.panScrollTimeout=setTimeout(()=>{d==null||d(h,b),t.isPanScrolling=!1},150))}}function o4({noWheelClassName:t,preventScrolling:e,d3ZoomHandler:n}){return function(r,i){if(!e&&r.type==="wheel"&&!r.ctrlKey||ld(r,t))return null;r.preventDefault(),n.call(this,r,i)}}function a4({zoomPanValues:t,onDraggingChange:e,onPanZoomStart:n}){return r=>{var s,o,a;if((s=r.sourceEvent)!=null&&s.internal)return;const i=Rb(r.transform);t.mouseButton=((o=r.sourceEvent)==null?void 0:o.button)||0,t.isZoomingOrPanning=!0,t.prevViewport=i,((a=r.sourceEvent)==null?void 0:a.type)==="mousedown"&&e(!0),n&&(n==null||n(r.sourceEvent,i))}}function l4({zoomPanValues:t,panOnDrag:e,onPaneContextMenu:n,onTransformChange:r,onPanZoom:i}){return s=>{var o,a;t.usedRightMouseButton=!!(n&&iL(e,t.mouseButton??0)),(o=s.sourceEvent)!=null&&o.sync||r([s.transform.x,s.transform.y,s.transform.k]),i&&!((a=s.sourceEvent)!=null&&a.internal)&&(i==null||i(s.sourceEvent,Rb(s.transform)))}}function c4({zoomPanValues:t,panOnDrag:e,panOnScroll:n,onDraggingChange:r,onPanZoomEnd:i,onPaneContextMenu:s}){return o=>{var a;if(!((a=o.sourceEvent)!=null&&a.internal)&&(t.isZoomingOrPanning=!1,s&&iL(e,t.mouseButton??0)&&!t.usedRightMouseButton&&o.sourceEvent&&s(o.sourceEvent),t.usedRightMouseButton=!1,r(!1),i&&i4(t.prevViewport,o.transform))){const c=Rb(o.transform);t.prevViewport=c,clearTimeout(t.timerId),t.timerId=setTimeout(()=>{i==null||i(o.sourceEvent,c)},n?150:0)}}}function u4({zoomActivationKeyPressed:t,zoomOnScroll:e,zoomOnPinch:n,panOnDrag:r,panOnScroll:i,zoomOnDoubleClick:s,userSelectionActive:o,noWheelClassName:a,noPanClassName:c,lib:d}){return h=>{var y;const f=t||e,p=n&&h.ctrlKey;if(h.button===1&&h.type==="mousedown"&&(ld(h,`${d}-flow__node`)||ld(h,`${d}-flow__edge`)))return!0;if(!r&&!f&&!i&&!s&&!n||o||ld(h,a)&&h.type==="wheel"||ld(h,c)&&(h.type!=="wheel"||i&&h.type==="wheel"&&!t)||!n&&h.ctrlKey&&h.type==="wheel")return!1;if(!n&&h.type==="touchstart"&&((y=h.touches)==null?void 0:y.length)>1)return h.preventDefault(),!1;if(!f&&!i&&!p&&h.type==="wheel"||!r&&(h.type==="mousedown"||h.type==="touchstart")||Array.isArray(r)&&!r.includes(h.button)&&h.type==="mousedown")return!1;const m=Array.isArray(r)&&r.includes(h.button)||!h.button||h.button<=1;return(!h.ctrlKey||h.type==="wheel")&&m}}function d4({domNode:t,minZoom:e,maxZoom:n,paneClickDistance:r,translateExtent:i,viewport:s,onPanZoom:o,onPanZoomStart:a,onPanZoomEnd:c,onDraggingChange:d}){const h={isZoomingOrPanning:!1,usedRightMouseButton:!1,prevViewport:{x:0,y:0,zoom:0},mouseButton:0,timerId:void 0,panScrollTimeout:void 0,isPanScrolling:!1},f=t.getBoundingClientRect(),p=NO().clickDistance(!es(r)||r<0?0:r).scaleExtent([e,n]).translateExtent(i),m=oi(t).call(p);S({x:s.x,y:s.y,zoom:yh(s.zoom,e,n)},[[0,0],[f.width,f.height]],i);const y=m.on("wheel.zoom"),b=m.on("dblclick.zoom");p.wheelDelta(sL);function E(z,U){return m?new Promise(D=>{p==null||p.transform(mS(m,U==null?void 0:U.duration,()=>D(!0)),z)}):Promise.resolve(!1)}function x({noWheelClassName:z,noPanClassName:U,onPaneContextMenu:D,userSelectionActive:V,panOnScroll:H,panOnDrag:K,panOnScrollMode:q,panOnScrollSpeed:G,preventScrolling:te,zoomOnPinch:Y,zoomOnScroll:Z,zoomOnDoubleClick:X,zoomActivationKeyPressed:Q,lib:J,onTransformChange:ie}){V&&!h.isZoomingOrPanning&&C();const oe=H&&!Q&&!V?s4({zoomPanValues:h,noWheelClassName:z,d3Selection:m,d3Zoom:p,panOnScrollMode:q,panOnScrollSpeed:G,zoomOnPinch:Y,onPanZoomStart:a,onPanZoom:o,onPanZoomEnd:c}):o4({noWheelClassName:z,preventScrolling:te,d3ZoomHandler:y});if(m.on("wheel.zoom",oe,{passive:!1}),!V){const fe=a4({zoomPanValues:h,onDraggingChange:d,onPanZoomStart:a});p.on("start",fe);const ye=l4({zoomPanValues:h,panOnDrag:K,onPaneContextMenu:!!D,onPanZoom:o,onTransformChange:ie});p.on("zoom",ye);const pe=c4({zoomPanValues:h,panOnDrag:K,panOnScroll:H,onPaneContextMenu:D,onPanZoomEnd:c,onDraggingChange:d});p.on("end",pe)}const ue=u4({zoomActivationKeyPressed:Q,panOnDrag:K,zoomOnScroll:Z,panOnScroll:H,zoomOnDoubleClick:X,zoomOnPinch:Y,userSelectionActive:V,noPanClassName:U,noWheelClassName:z,lib:J});p.filter(ue),X?m.on("dblclick.zoom",b):m.on("dblclick.zoom",null)}function C(){p.on("zoom",null)}async function S(z,U,D){const V=gS(z),H=p==null?void 0:p.constrain()(V,U,D);return H&&await E(H),new Promise(K=>K(H))}async function _(z,U){const D=gS(z);return await E(D,U),new Promise(V=>V(D))}function k(z){if(m){const U=gS(z),D=m.property("__zoom");(D.k!==z.zoom||D.x!==z.x||D.y!==z.y)&&(p==null||p.transform(m,U,null,{sync:!0}))}}function N(){const z=m?IO(m.node()):{x:0,y:0,k:1};return{x:z.x,y:z.y,zoom:z.k}}function T(z,U){return m?new Promise(D=>{p==null||p.scaleTo(mS(m,U==null?void 0:U.duration,()=>D(!0)),z)}):Promise.resolve(!1)}function M(z,U){return m?new Promise(D=>{p==null||p.scaleBy(mS(m,U==null?void 0:U.duration,()=>D(!0)),z)}):Promise.resolve(!1)}function O(z){p==null||p.scaleExtent(z)}function R(z){p==null||p.translateExtent(z)}function F(z){const U=!es(z)||z<0?0:z;p==null||p.clickDistance(U)}return{update:x,destroy:C,setViewport:_,setViewportConstrained:S,getViewport:N,scaleTo:T,scaleBy:M,setScaleExtent:O,setTranslateExtent:R,syncViewport:k,setClickDistance:F}}var cp;(function(t){t.Line="line",t.Handle="handle"})(cp||(cp={}));function h4({width:t,prevWidth:e,height:n,prevHeight:r,affectsX:i,affectsY:s}){const o=t-e,a=n-r,c=[o>0?1:o<0?-1:0,a>0?1:a<0?-1:0];return o&&i&&(c[0]=c[0]*-1),a&&s&&(c[1]=c[1]*-1),c}function f4(t){const e=t.includes("right")||t.includes("left"),n=t.includes("bottom")||t.includes("top"),r=t.includes("left"),i=t.includes("top");return{isHorizontal:e,isVertical:n,affectsX:r,affectsY:i}}function La(t,e){return Math.max(0,e-t)}function Da(t,e){return Math.max(0,t-e)}function mv(t,e,n){return Math.max(0,e-t,t-n)}function jT(t,e){return t?!e:e}function p4(t,e,n,r,i,s,o,a){let{affectsX:c,affectsY:d}=e;const{isHorizontal:h,isVertical:f}=e,p=h&&f,{xSnapped:m,ySnapped:y}=n,{minWidth:b,maxWidth:E,minHeight:x,maxHeight:C}=r,{x:S,y:_,width:k,height:N,aspectRatio:T}=t;let M=Math.floor(h?m-t.pointerX:0),O=Math.floor(f?y-t.pointerY:0);const R=k+(c?-M:M),F=N+(d?-O:O),z=-s[0]*k,U=-s[1]*N;let D=mv(R,b,E),V=mv(F,x,C);if(o){let q=0,G=0;c&&M<0?q=La(S+M+z,o[0][0]):!c&&M>0&&(q=Da(S+R+z,o[1][0])),d&&O<0?G=La(_+O+U,o[0][1]):!d&&O>0&&(G=Da(_+F+U,o[1][1])),D=Math.max(D,q),V=Math.max(V,G)}if(a){let q=0,G=0;c&&M>0?q=Da(S+M,a[0][0]):!c&&M<0&&(q=La(S+R,a[1][0])),d&&O>0?G=Da(_+O,a[0][1]):!d&&O<0&&(G=La(_+F,a[1][1])),D=Math.max(D,q),V=Math.max(V,G)}if(i){if(h){const q=mv(R/T,x,C)*T;if(D=Math.max(D,q),o){let G=0;!c&&!d||c&&!d&&p?G=Da(_+U+R/T,o[1][1])*T:G=La(_+U+(c?M:-M)/T,o[0][1])*T,D=Math.max(D,G)}if(a){let G=0;!c&&!d||c&&!d&&p?G=La(_+R/T,a[1][1])*T:G=Da(_+(c?M:-M)/T,a[0][1])*T,D=Math.max(D,G)}}if(f){const q=mv(F*T,b,E)/T;if(V=Math.max(V,q),o){let G=0;!c&&!d||d&&!c&&p?G=Da(S+F*T+z,o[1][0])/T:G=La(S+(d?O:-O)*T+z,o[0][0])/T,V=Math.max(V,G)}if(a){let G=0;!c&&!d||d&&!c&&p?G=La(S+F*T,a[1][0])/T:G=Da(S+(d?O:-O)*T,a[0][0])/T,V=Math.max(V,G)}}}O=O+(O<0?V:-V),M=M+(M<0?D:-D),i&&(p?R>F*T?O=(jT(c,d)?-M:M)/T:M=(jT(c,d)?-O:O)*T:h?(O=M/T,d=c):(M=O*T,c=d));const H=c?S+M:S,K=d?_+O:_;return{width:k+(c?-M:M),height:N+(d?-O:O),x:s[0]*M*(c?-1:1)+H,y:s[1]*O*(d?-1:1)+K}}const oL={width:0,height:0,x:0,y:0},g4={...oL,pointerX:0,pointerY:0,aspectRatio:1};function m4(t){return[[0,0],[t.measured.width,t.measured.height]]}function y4(t,e,n){const r=e.position.x+t.position.x,i=e.position.y+t.position.y,s=t.measured.width??0,o=t.measured.height??0,a=n[0]*s,c=n[1]*o;return[[r-a,i-c],[r+s-a,i+o-c]]}function v4({domNode:t,nodeId:e,getStoreItems:n,onChange:r,onEnd:i}){const s=oi(t);function o({controlPosition:c,boundaries:d,keepAspectRatio:h,onResizeStart:f,onResize:p,onResizeEnd:m,shouldResize:y}){let b={...oL},E={...g4};const x=f4(c);let C,S=null,_=[],k,N,T;const M=yO().on("start",O=>{const{nodeLookup:R,transform:F,snapGrid:z,snapToGrid:U,nodeOrigin:D,paneDomNode:V}=n();if(C=R.get(e),!C)return;S=(V==null?void 0:V.getBoundingClientRect())??null;const{xSnapped:H,ySnapped:K}=lp(O.sourceEvent,{transform:F,snapGrid:z,snapToGrid:U,containerBounds:S});b={width:C.measured.width??0,height:C.measured.height??0,x:C.position.x??0,y:C.position.y??0},E={...b,pointerX:H,pointerY:K,aspectRatio:b.width/b.height},k=void 0,C.parentId&&(C.extent==="parent"||C.expandParent)&&(k=R.get(C.parentId),N=k&&C.extent==="parent"?m4(k):void 0),_=[],T=void 0;for(const[q,G]of R)if(G.parentId===e&&(_.push({id:q,position:{...G.position},extent:G.extent}),G.extent==="parent"||G.expandParent)){const te=y4(G,C,G.origin??D);T?T=[[Math.min(te[0][0],T[0][0]),Math.min(te[0][1],T[0][1])],[Math.max(te[1][0],T[1][0]),Math.max(te[1][1],T[1][1])]]:T=te}f==null||f(O,{...b})}).on("drag",O=>{const{transform:R,snapGrid:F,snapToGrid:z,nodeOrigin:U}=n(),D=lp(O.sourceEvent,{transform:R,snapGrid:F,snapToGrid:z,containerBounds:S}),V=[];if(!C)return;const{x:H,y:K,width:q,height:G}=b,te={},Y=C.origin??U,{width:Z,height:X,x:Q,y:J}=p4(E,x,D,d,h,Y,N,T),ie=Z!==q,ne=X!==G,oe=Q!==H&&ie,ue=J!==K&&ne;if(!oe&&!ue&&!ie&&!ne)return;if((oe||ue||Y[0]===1||Y[1]===1)&&(te.x=oe?Q:b.x,te.y=ue?J:b.y,b.x=te.x,b.y=te.y,_.length>0)){const Se=Q-H,xe=J-K;for(const Ge of _)Ge.position={x:Ge.position.x-Se+Y[0]*(Z-q),y:Ge.position.y-xe+Y[1]*(X-G)},V.push(Ge)}if((ie||ne)&&(te.width=ie?Z:b.width,te.height=ne?X:b.height,b.width=te.width,b.height=te.height),k&&C.expandParent){const Se=Y[0]*(te.width??0);te.x&&te.x<Se&&(b.x=Se,E.x=E.x-(te.x-Se));const xe=Y[1]*(te.height??0);te.y&&te.y<xe&&(b.y=xe,E.y=E.y-(te.y-xe))}const fe=h4({width:b.width,prevWidth:q,height:b.height,prevHeight:G,affectsX:x.affectsX,affectsY:x.affectsY}),ye={...b,direction:fe};(y==null?void 0:y(O,ye))!==!1&&(p==null||p(O,ye),r(te,V))}).on("end",O=>{m==null||m(O,{...b}),i==null||i()});s.call(M)}function a(){s.on(".drag",null)}return{update:o,destroy:a}}var yS={exports:{}},vS={},bS={exports:{}},wS={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var BT;function b4(){if(BT)return wS;BT=1;var t=uu();function e(f,p){return f===p&&(f!==0||1/f===1/p)||f!==f&&p!==p}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,i=t.useEffect,s=t.useLayoutEffect,o=t.useDebugValue;function a(f,p){var m=p(),y=r({inst:{value:m,getSnapshot:p}}),b=y[0].inst,E=y[1];return s(function(){b.value=m,b.getSnapshot=p,c(b)&&E({inst:b})},[f,m,p]),i(function(){return c(b)&&E({inst:b}),f(function(){c(b)&&E({inst:b})})},[f]),o(m),m}function c(f){var p=f.getSnapshot;f=f.value;try{var m=p();return!n(f,m)}catch{return!0}}function d(f,p){return p()}var h=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?d:a;return wS.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:h,wS}var HT;function w4(){return HT||(HT=1,bS.exports=b4()),bS.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var WT;function x4(){if(WT)return vS;WT=1;var t=uu(),e=w4();function n(d,h){return d===h&&(d!==0||1/d===1/h)||d!==d&&h!==h}var r=typeof Object.is=="function"?Object.is:n,i=e.useSyncExternalStore,s=t.useRef,o=t.useEffect,a=t.useMemo,c=t.useDebugValue;return vS.useSyncExternalStoreWithSelector=function(d,h,f,p,m){var y=s(null);if(y.current===null){var b={hasValue:!1,value:null};y.current=b}else b=y.current;y=a(function(){function x(N){if(!C){if(C=!0,S=N,N=p(N),m!==void 0&&b.hasValue){var T=b.value;if(m(T,N))return _=T}return _=N}if(T=_,r(S,N))return T;var M=p(N);return m!==void 0&&m(T,M)?(S=N,T):(S=N,_=M)}var C=!1,S,_,k=f===void 0?null:f;return[function(){return x(h())},k===null?void 0:function(){return x(k())}]},[h,f,p,m]);var E=i(d,y[0],y[1]);return o(function(){b.hasValue=!0,b.value=E},[E]),c(E),E},vS}var UT;function S4(){return UT||(UT=1,yS.exports=x4()),yS.exports}var E4=S4();const C4=as(E4),_4={},VT=t=>{let e;const n=new Set,r=(h,f)=>{const p=typeof h=="function"?h(e):h;if(!Object.is(p,e)){const m=e;e=f??(typeof p!="object"||p===null)?p:Object.assign({},e,p),n.forEach(y=>y(e,m))}},i=()=>e,c={setState:r,getState:i,getInitialState:()=>d,subscribe:h=>(n.add(h),()=>n.delete(h)),destroy:()=>{(_4?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},d=e=t(r,i,c);return c},A4=t=>t?VT(t):VT,{useDebugValue:k4}=Ce,{useSyncExternalStoreWithSelector:R4}=C4,T4=t=>t;function aL(t,e=T4,n){const r=R4(t.subscribe,t.getState,t.getServerState||t.getInitialState,e,n);return k4(r),r}const GT=(t,e)=>{const n=A4(t),r=(i,s=e)=>aL(n,i,s);return Object.assign(r,n),r},P4=(t,e)=>t?GT(t,e):GT;function on(t,e){if(Object.is(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;if(t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(const[r,i]of t)if(!Object.is(i,e.get(r)))return!1;return!0}if(t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(const r of t)if(!e.has(r))return!1;return!0}const n=Object.keys(t);if(n.length!==Object.keys(e).length)return!1;for(const r of n)if(!Object.prototype.hasOwnProperty.call(e,r)||!Object.is(t[r],e[r]))return!1;return!0}var Ko=yb();const gl=as(Ko),Tb=I.createContext(null),I4=Tb.Provider,lL=Qs.error001();function ot(t,e){const n=I.useContext(Tb);if(n===null)throw new Error(lL);return aL(n,t,e)}function Vt(){const t=I.useContext(Tb);if(t===null)throw new Error(lL);return I.useMemo(()=>({getState:t.getState,setState:t.setState,subscribe:t.subscribe}),[t])}const qT={display:"none"},N4={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},cL="react-flow__node-desc",uL="react-flow__edge-desc",M4="react-flow__aria-live",O4=t=>t.ariaLiveMessage;function L4({rfId:t}){const e=ot(O4);return L.jsx("div",{id:`${M4}-${t}`,"aria-live":"assertive","aria-atomic":"true",style:N4,children:e})}function D4({rfId:t,disableKeyboardA11y:e}){return L.jsxs(L.Fragment,{children:[L.jsxs("div",{id:`${cL}-${t}`,style:qT,children:["Press enter or space to select a node.",!e&&"You can then use the arrow keys to move the node around."," Press delete to remove it and escape to cancel."," "]}),L.jsx("div",{id:`${uL}-${t}`,style:qT,children:"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel."}),!e&&L.jsx(L4,{rfId:t})]})}const F4=t=>t.userSelectionActive?"none":"all",Em=I.forwardRef(({position:t="top-left",children:e,className:n,style:r,...i},s)=>{const o=ot(F4),a=`${t}`.split("-");return L.jsx("div",{className:bn(["react-flow__panel",n,...a]),style:{...r,pointerEvents:o},ref:s,...i,children:e})});Em.displayName="Panel";function $4({proOptions:t,position:e="bottom-right"}){return t!=null&&t.hideAttribution?null:L.jsx(Em,{position:e,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://pro.reactflow.dev",children:L.jsx("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution",children:"React Flow"})})}const z4=t=>{const e=[],n=[];for(const[,r]of t.nodeLookup)r.selected&&e.push(r.internals.userNode);for(const[,r]of t.edgeLookup)r.selected&&n.push(r);return{selectedNodes:e,selectedEdges:n}},yv=t=>t.id;function j4(t,e){return on(t.selectedNodes.map(yv),e.selectedNodes.map(yv))&&on(t.selectedEdges.map(yv),e.selectedEdges.map(yv))}function B4({onSelectionChange:t}){const e=Vt(),{selectedNodes:n,selectedEdges:r}=ot(z4,j4);return I.useEffect(()=>{const i={nodes:n,edges:r};t==null||t(i),e.getState().onSelectionChangeHandlers.forEach(s=>s(i))},[n,r,t]),null}const H4=t=>!!t.onSelectionChangeHandlers;function W4({onSelectionChange:t}){const e=ot(H4);return t||e?L.jsx(B4,{onSelectionChange:t}):null}const dL=[0,0],U4={x:0,y:0,zoom:1},V4=["nodes","edges","defaultNodes","defaultEdges","onConnect","onConnectStart","onConnectEnd","onClickConnectStart","onClickConnectEnd","nodesDraggable","nodesConnectable","nodesFocusable","edgesFocusable","edgesReconnectable","elevateNodesOnSelect","elevateEdgesOnSelect","minZoom","maxZoom","nodeExtent","onNodesChange","onEdgesChange","elementsSelectable","connectionMode","snapGrid","snapToGrid","translateExtent","connectOnClick","defaultEdgeOptions","fitView","fitViewOptions","onNodesDelete","onEdgesDelete","onDelete","onNodeDrag","onNodeDragStart","onNodeDragStop","onSelectionDrag","onSelectionDragStart","onSelectionDragStop","onMoveStart","onMove","onMoveEnd","noPanClassName","nodeOrigin","autoPanOnConnect","autoPanOnNodeDrag","onError","connectionRadius","isValidConnection","selectNodesOnDrag","nodeDragThreshold","onBeforeDelete","debug","autoPanSpeed","paneClickDistance"],YT=[...V4,"rfId"],G4=t=>({setNodes:t.setNodes,setEdges:t.setEdges,setMinZoom:t.setMinZoom,setMaxZoom:t.setMaxZoom,setTranslateExtent:t.setTranslateExtent,setNodeExtent:t.setNodeExtent,reset:t.reset,setDefaultNodesAndEdges:t.setDefaultNodesAndEdges,setPaneClickDistance:t.setPaneClickDistance}),XT={translateExtent:Ep,nodeOrigin:dL,minZoom:.5,maxZoom:2,elementsSelectable:!0,noPanClassName:"nopan",rfId:"1",paneClickDistance:0};function q4(t){const{setNodes:e,setEdges:n,setMinZoom:r,setMaxZoom:i,setTranslateExtent:s,setNodeExtent:o,reset:a,setDefaultNodesAndEdges:c,setPaneClickDistance:d}=ot(G4,on),h=Vt();I.useEffect(()=>(c(t.defaultNodes,t.defaultEdges),()=>{f.current=XT,a()}),[]);const f=I.useRef(XT);return I.useEffect(()=>{for(const p of YT){const m=t[p],y=f.current[p];m!==y&&(typeof t[p]>"u"||(p==="nodes"?e(m):p==="edges"?n(m):p==="minZoom"?r(m):p==="maxZoom"?i(m):p==="translateExtent"?s(m):p==="nodeExtent"?o(m):p==="paneClickDistance"?d(m):p==="fitView"?h.setState({fitViewOnInit:m}):p==="fitViewOptions"?h.setState({fitViewOnInitOptions:m}):h.setState({[p]:m})))}f.current=t},YT.map(p=>t[p])),null}function KT(){return typeof window>"u"||!window.matchMedia?null:window.matchMedia("(prefers-color-scheme: dark)")}function Y4(t){var r;const[e,n]=I.useState(t==="system"?null:t);return I.useEffect(()=>{if(t!=="system"){n(t);return}const i=KT(),s=()=>n(i!=null&&i.matches?"dark":"light");return s(),i==null||i.addEventListener("change",s),()=>{i==null||i.removeEventListener("change",s)}},[t]),e!==null?e:(r=KT())!=null&&r.matches?"dark":"light"}const QT=typeof document<"u"?document:null;function kp(t=null,e={target:QT,actInsideInputWithModifier:!0}){const[n,r]=I.useState(!1),i=I.useRef(!1),s=I.useRef(new Set([])),[o,a]=I.useMemo(()=>{if(t!==null){const d=(Array.isArray(t)?t:[t]).filter(f=>typeof f=="string").map(f=>f.replace("+",`
`).replace(`

`,`
+`).split(`
`)),h=d.reduce((f,p)=>f.concat(...p),[]);return[d,h]}return[[],[]]},[t]);return I.useEffect(()=>{const c=(e==null?void 0:e.target)||QT;if(t!==null){const d=p=>{if(i.current=p.ctrlKey||p.metaKey||p.shiftKey,(!i.current||i.current&&!e.actInsideInputWithModifier)&&cE(p))return!1;const y=JT(p.code,a);s.current.add(p[y]),ZT(o,s.current,!1)&&(p.preventDefault(),r(!0))},h=p=>{if((!i.current||i.current&&!e.actInsideInputWithModifier)&&cE(p))return!1;const y=JT(p.code,a);ZT(o,s.current,!0)?(r(!1),s.current.clear()):s.current.delete(p[y]),p.key==="Meta"&&s.current.clear(),i.current=!1},f=()=>{s.current.clear(),r(!1)};return c==null||c.addEventListener("keydown",d),c==null||c.addEventListener("keyup",h),window.addEventListener("blur",f),window.addEventListener("contextmenu",f),()=>{c==null||c.removeEventListener("keydown",d),c==null||c.removeEventListener("keyup",h),window.removeEventListener("blur",f),window.removeEventListener("contextmenu",f)}}},[t,r]),n}function ZT(t,e,n){return t.filter(r=>n||r.length===e.size).some(r=>r.every(i=>e.has(i)))}function JT(t,e){return e.includes(t)?"code":"key"}const X4=()=>{const t=Vt();return I.useMemo(()=>({zoomIn:e=>{const{panZoom:n}=t.getState();return n?n.scaleBy(1.2,{duration:e==null?void 0:e.duration}):Promise.resolve(!1)},zoomOut:e=>{const{panZoom:n}=t.getState();return n?n.scaleBy(1/1.2,{duration:e==null?void 0:e.duration}):Promise.resolve(!1)},zoomTo:(e,n)=>{const{panZoom:r}=t.getState();return r?r.scaleTo(e,{duration:n==null?void 0:n.duration}):Promise.resolve(!1)},getZoom:()=>t.getState().transform[2],setViewport:async(e,n)=>{const{transform:[r,i,s],panZoom:o}=t.getState();return o?(await o.setViewport({x:e.x??r,y:e.y??i,zoom:e.zoom??s},{duration:n==null?void 0:n.duration}),Promise.resolve(!0)):Promise.resolve(!1)},getViewport:()=>{const[e,n,r]=t.getState().transform;return{x:e,y:n,zoom:r}},fitView:e=>{const{nodeLookup:n,minZoom:r,maxZoom:i,panZoom:s,domNode:o}=t.getState();if(!s||!o)return Promise.resolve(!1);const a=oE(n,e),{width:c,height:d}=Ab(o);return aE({nodes:a,width:c,height:d,minZoom:r,maxZoom:i,panZoom:s},e)},setCenter:async(e,n,r)=>{const{width:i,height:s,maxZoom:o,panZoom:a}=t.getState(),c=typeof(r==null?void 0:r.zoom)<"u"?r.zoom:o,d=i/2-e*c,h=s/2-n*c;return a?(await a.setViewport({x:d,y:h,zoom:c},{duration:r==null?void 0:r.duration}),Promise.resolve(!0)):Promise.resolve(!1)},fitBounds:async(e,n)=>{const{width:r,height:i,minZoom:s,maxZoom:o,panZoom:a}=t.getState(),c=m_(e,r,i,s,o,(n==null?void 0:n.padding)??.1);return a?(await a.setViewport(c,{duration:n==null?void 0:n.duration}),Promise.resolve(!0)):Promise.resolve(!1)},screenToFlowPosition:(e,n={})=>{const{transform:r,snapGrid:i,snapToGrid:s,domNode:o}=t.getState();if(!o)return e;const{x:a,y:c}=o.getBoundingClientRect(),d={x:e.x-a,y:e.y-c},h=n.snapGrid??i,f=n.snapToGrid??s;return Sm(d,r,f,h)},flowToScreenPosition:e=>{const{transform:n,domNode:r}=t.getState();if(!r)return e;const{x:i,y:s}=r.getBoundingClientRect(),o=HO(e,n);return{x:o.x+i,y:o.y+s}}}),[])};function hL(t,e){const n=[],r=new Map,i=[];for(const s of t)if(s.type==="add"){i.push(s);continue}else if(s.type==="remove"||s.type==="replace")r.set(s.id,[s]);else{const o=r.get(s.id);o?o.push(s):r.set(s.id,[s])}for(const s of e){const o=r.get(s.id);if(!o){n.push(s);continue}if(o[0].type==="remove")continue;if(o[0].type==="replace"){n.push({...o[0].item});continue}const a={...s};for(const c of o)K4(c,a);n.push(a)}return i.length&&i.forEach(s=>{s.index!==void 0?n.splice(s.index,0,{...s.item}):n.push({...s.item})}),n}function K4(t,e){switch(t.type){case"select":{e.selected=t.selected;break}case"position":{typeof t.position<"u"&&(e.position=t.position),typeof t.dragging<"u"&&(e.dragging=t.dragging);break}case"dimensions":{typeof t.dimensions<"u"&&(e.measured??(e.measured={}),e.measured.width=t.dimensions.width,e.measured.height=t.dimensions.height,t.setAttributes&&(e.width=t.dimensions.width,e.height=t.dimensions.height)),typeof t.resizing=="boolean"&&(e.resizing=t.resizing);break}}}function fL(t,e){return hL(t,e)}function pL(t,e){return hL(t,e)}function Gl(t,e){return{id:t,type:"select",selected:e}}function cd(t,e=new Set,n=!1){const r=[];for(const[i,s]of t){const o=e.has(i);!(s.selected===void 0&&!o)&&s.selected!==o&&(n&&(s.selected=o),r.push(Gl(s.id,o)))}return r}function eP({items:t=[],lookup:e}){var i;const n=[],r=new Map(t.map(s=>[s.id,s]));for(const[s,o]of t.entries()){const a=e.get(o.id),c=((i=a==null?void 0:a.internals)==null?void 0:i.userNode)??a;c!==void 0&&c!==o&&n.push({id:o.id,item:o,type:"replace"}),c===void 0&&n.push({item:o,type:"add",index:s})}for(const[s]of e)r.get(s)===void 0&&n.push({id:s,type:"remove"});return n}function tP(t){return{id:t.id,type:"remove"}}const nP=t=>TH(t),Q4=t=>DO(t);function gL(t){return I.forwardRef(t)}const Z4=typeof window<"u"?I.useLayoutEffect:I.useEffect;function rP(t){const[e,n]=I.useState(BigInt(0)),[r]=I.useState(()=>J4(()=>n(i=>i+BigInt(1))));return Z4(()=>{const i=r.get();i.length&&(t(i),r.reset())},[e]),r}function J4(t){let e=[];return{get:()=>e,reset:()=>{e=[]},push:n=>{e.push(n),t()}}}const mL=I.createContext(null);function e6({children:t}){const e=Vt(),n=I.useCallback(a=>{const{nodes:c=[],setNodes:d,hasDefaultNodes:h,onNodesChange:f,nodeLookup:p}=e.getState();let m=c;for(const y of a)m=typeof y=="function"?y(m):y;h?d(m):f&&f(eP({items:m,lookup:p}))},[]),r=rP(n),i=I.useCallback(a=>{const{edges:c=[],setEdges:d,hasDefaultEdges:h,onEdgesChange:f,edgeLookup:p}=e.getState();let m=c;for(const y of a)m=typeof y=="function"?y(m):y;h?d(m):f&&f(eP({items:m,lookup:p}))},[]),s=rP(i),o=I.useMemo(()=>({nodeQueue:r,edgeQueue:s}),[]);return L.jsx(mL.Provider,{value:o,children:t})}function t6(){const t=I.useContext(mL);if(!t)throw new Error("useBatchContext must be used within a BatchProvider");return t}const n6=t=>!!t.panZoom;function Pb(){const t=X4(),e=Vt(),n=t6(),r=ot(n6),i=I.useMemo(()=>{const s=f=>e.getState().nodeLookup.get(f),o=f=>{n.nodeQueue.push(f)},a=f=>{n.edgeQueue.push(f)},c=f=>{var x,C;const{nodeLookup:p,nodeOrigin:m}=e.getState(),y=nP(f)?f:p.get(f.id),b=y.parentId?UO(y.position,y.measured,y.parentId,p,m):y.position,E={...y,position:b,width:((x=y.measured)==null?void 0:x.width)??y.width,height:((C=y.measured)==null?void 0:C.height)??y.height};return vh(E)},d=(f,p,m={replace:!1})=>{o(y=>y.map(b=>{if(b.id===f){const E=typeof p=="function"?p(b):p;return m.replace&&nP(E)?E:{...b,...E}}return b}))},h=(f,p,m={replace:!1})=>{a(y=>y.map(b=>{if(b.id===f){const E=typeof p=="function"?p(b):p;return m.replace&&Q4(E)?E:{...b,...E}}return b}))};return{getNodes:()=>e.getState().nodes.map(f=>({...f})),getNode:f=>{var p;return(p=s(f))==null?void 0:p.internals.userNode},getInternalNode:s,getEdges:()=>{const{edges:f=[]}=e.getState();return f.map(p=>({...p}))},getEdge:f=>e.getState().edgeLookup.get(f),setNodes:o,setEdges:a,addNodes:f=>{const p=Array.isArray(f)?f:[f];n.nodeQueue.push(m=>[...m,...p])},addEdges:f=>{const p=Array.isArray(f)?f:[f];n.edgeQueue.push(m=>[...m,...p])},toObject:()=>{const{nodes:f=[],edges:p=[],transform:m}=e.getState(),[y,b,E]=m;return{nodes:f.map(x=>({...x})),edges:p.map(x=>({...x})),viewport:{x:y,y:b,zoom:E}}},deleteElements:async({nodes:f=[],edges:p=[]})=>{const{nodes:m,edges:y,onNodesDelete:b,onEdgesDelete:E,triggerNodeChanges:x,triggerEdgeChanges:C,onDelete:S,onBeforeDelete:_}=e.getState(),{nodes:k,edges:N}=await NH({nodesToRemove:f,edgesToRemove:p,nodes:m,edges:y,onBeforeDelete:_}),T=N.length>0,M=k.length>0;if(T){const O=N.map(tP);E==null||E(N),C(O)}if(M){const O=k.map(tP);b==null||b(k),x(O)}return(M||T)&&(S==null||S({nodes:k,edges:N})),{deletedNodes:k,deletedEdges:N}},getIntersectingNodes:(f,p=!0,m)=>{const y=TT(f),b=y?f:c(f),E=m!==void 0;return b?(m||e.getState().nodes).filter(x=>{const C=e.getState().nodeLookup.get(x.id);if(C&&!y&&(x.id===f.id||!C.internals.positionAbsolute))return!1;const S=vh(E?x:C),_=_p(S,b);return p&&_>0||_>=b.width*b.height}):[]},isNodeIntersecting:(f,p,m=!0)=>{const b=TT(f)?f:c(f);if(!b)return!1;const E=_p(b,p);return m&&E>0||E>=b.width*b.height},updateNode:d,updateNodeData:(f,p,m={replace:!1})=>{d(f,y=>{const b=typeof p=="function"?p(y):p;return m.replace?{...y,data:b}:{...y,data:{...y.data,...b}}},m)},updateEdge:h,updateEdgeData:(f,p,m={replace:!1})=>{h(f,y=>{const b=typeof p=="function"?p(y):p;return m.replace?{...y,data:b}:{...y,data:{...y.data,...b}}},m)},getNodesBounds:f=>{const{nodeLookup:p,nodeOrigin:m}=e.getState();return PH(f,{nodeLookup:p,nodeOrigin:m})},getHandleConnections:({type:f,id:p,nodeId:m})=>{var y;return Array.from(((y=e.getState().connectionLookup.get(`${m}-${f}${p?`-${p}`:""}`))==null?void 0:y.values())??[])},getNodeConnections:({type:f,handleId:p,nodeId:m})=>{var y;return Array.from(((y=e.getState().connectionLookup.get(`${m}${f?p?`-${f}-${p}`:`-${f}`:""}`))==null?void 0:y.values())??[])}}},[]);return I.useMemo(()=>({...i,...t,viewportInitialized:r}),[r])}const iP=t=>t.selected,r6={actInsideInputWithModifier:!1},i6=typeof window<"u"?window:void 0;function s6({deleteKeyCode:t,multiSelectionKeyCode:e}){const n=Vt(),{deleteElements:r}=Pb(),i=kp(t,r6),s=kp(e,{target:i6});I.useEffect(()=>{if(i){const{edges:o,nodes:a}=n.getState();r({nodes:a.filter(iP),edges:o.filter(iP)}),n.setState({nodesSelectionActive:!1})}},[i]),I.useEffect(()=>{n.setState({multiSelectionActive:s})},[s])}function o6(t){const e=Vt();I.useEffect(()=>{const n=()=>{var i,s;if(!t.current)return!1;const r=Ab(t.current);(r.height===0||r.width===0)&&((s=(i=e.getState()).onError)==null||s.call(i,"004",Qs.error004())),e.setState({width:r.width||500,height:r.height||500})};if(t.current){n(),window.addEventListener("resize",n);const r=new ResizeObserver(()=>n());return r.observe(t.current),()=>{window.removeEventListener("resize",n),r&&t.current&&r.unobserve(t.current)}}},[])}const Ib={position:"absolute",width:"100%",height:"100%",top:0,left:0},a6=t=>({userSelectionActive:t.userSelectionActive,lib:t.lib});function l6({onPaneContextMenu:t,zoomOnScroll:e=!0,zoomOnPinch:n=!0,panOnScroll:r=!1,panOnScrollSpeed:i=.5,panOnScrollMode:s=Jc.Free,zoomOnDoubleClick:o=!0,panOnDrag:a=!0,defaultViewport:c,translateExtent:d,minZoom:h,maxZoom:f,zoomActivationKeyCode:p,preventScrolling:m=!0,children:y,noWheelClassName:b,noPanClassName:E,onViewportChange:x,isControlledViewport:C,paneClickDistance:S}){const _=Vt(),k=I.useRef(null),{userSelectionActive:N,lib:T}=ot(a6,on),M=kp(p),O=I.useRef();o6(k);const R=I.useCallback(F=>{x==null||x({x:F[0],y:F[1],zoom:F[2]}),C||_.setState({transform:F})},[x,C]);return I.useEffect(()=>{if(k.current){O.current=d4({domNode:k.current,minZoom:h,maxZoom:f,translateExtent:d,viewport:c,paneClickDistance:S,onDraggingChange:D=>_.setState({paneDragging:D}),onPanZoomStart:(D,V)=>{const{onViewportChangeStart:H,onMoveStart:K}=_.getState();K==null||K(D,V),H==null||H(V)},onPanZoom:(D,V)=>{const{onViewportChange:H,onMove:K}=_.getState();K==null||K(D,V),H==null||H(V)},onPanZoomEnd:(D,V)=>{const{onViewportChangeEnd:H,onMoveEnd:K}=_.getState();K==null||K(D,V),H==null||H(V)}});const{x:F,y:z,zoom:U}=O.current.getViewport();return _.setState({panZoom:O.current,transform:[F,z,U],domNode:k.current.closest(".react-flow")}),()=>{var D;(D=O.current)==null||D.destroy()}}},[]),I.useEffect(()=>{var F;(F=O.current)==null||F.update({onPaneContextMenu:t,zoomOnScroll:e,zoomOnPinch:n,panOnScroll:r,panOnScrollSpeed:i,panOnScrollMode:s,zoomOnDoubleClick:o,panOnDrag:a,zoomActivationKeyPressed:M,preventScrolling:m,noPanClassName:E,userSelectionActive:N,noWheelClassName:b,lib:T,onTransformChange:R})},[t,e,n,r,i,s,o,a,M,m,E,N,b,T,R]),L.jsx("div",{className:"react-flow__renderer",ref:k,style:Ib,children:y})}const c6=t=>({userSelectionActive:t.userSelectionActive,userSelectionRect:t.userSelectionRect});function u6(){const{userSelectionActive:t,userSelectionRect:e}=ot(c6,on);return t&&e?L.jsx("div",{className:"react-flow__selection react-flow__container",style:{width:e.width,height:e.height,transform:`translate(${e.x}px, ${e.y}px)`}}):null}const xS=(t,e)=>n=>{n.target===e.current&&(t==null||t(n))},d6=t=>({userSelectionActive:t.userSelectionActive,elementsSelectable:t.elementsSelectable,dragging:t.paneDragging});function h6({isSelecting:t,selectionKeyPressed:e,selectionMode:n=Cp.Full,panOnDrag:r,selectionOnDrag:i,onSelectionStart:s,onSelectionEnd:o,onPaneClick:a,onPaneContextMenu:c,onPaneScroll:d,onPaneMouseEnter:h,onPaneMouseMove:f,onPaneMouseLeave:p,children:m}){const y=Vt(),{userSelectionActive:b,elementsSelectable:E,dragging:x}=ot(d6,on),C=E&&(t||b),S=I.useRef(null),_=I.useRef(),k=I.useRef(new Set),N=I.useRef(new Set),T=I.useRef(!1),M=I.useRef(!1),O=H=>{if(T.current){T.current=!1;return}a==null||a(H),y.getState().resetSelectedElements(),y.setState({nodesSelectionActive:!1})},R=H=>{if(Array.isArray(r)&&(r!=null&&r.includes(2))){H.preventDefault();return}c==null||c(H)},F=d?H=>d(H):void 0,z=H=>{var Y,Z;const{resetSelectedElements:K,domNode:q}=y.getState();if(_.current=q==null?void 0:q.getBoundingClientRect(),!E||!t||H.button!==0||H.target!==S.current||!_.current)return;(Z=(Y=H.target)==null?void 0:Y.setPointerCapture)==null||Z.call(Y,H.pointerId),M.current=!0,T.current=!1;const{x:G,y:te}=Xo(H.nativeEvent,_.current);K(),y.setState({userSelectionRect:{width:0,height:0,startX:G,startY:te,x:G,y:te}}),s==null||s(H)},U=H=>{const{userSelectionRect:K,transform:q,nodeLookup:G,edgeLookup:te,connectionLookup:Y,triggerNodeChanges:Z,triggerEdgeChanges:X,defaultEdgeOptions:Q}=y.getState();if(!_.current||!K)return;T.current=!0;const{x:J,y:ie}=Xo(H.nativeEvent,_.current),{startX:ne,startY:oe}=K,ue={startX:ne,startY:oe,x:J<ne?J:ne,y:ie<oe?ie:oe,width:Math.abs(J-ne),height:Math.abs(ie-oe)},fe=k.current,ye=N.current;k.current=new Set(FO(G,ue,q,n===Cp.Partial,!0).map(Se=>Se.id)),N.current=new Set;const pe=(Q==null?void 0:Q.selectable)??!0;for(const Se of k.current){const xe=Y.get(Se);if(xe)for(const{edgeId:Ge}of xe.values()){const pt=te.get(Ge);pt&&(pt.selectable??pe)&&N.current.add(Ge)}}if(!PT(fe,k.current)){const Se=cd(G,k.current,!0);Z(Se)}if(!PT(ye,N.current)){const Se=cd(te,N.current);X(Se)}y.setState({userSelectionRect:ue,userSelectionActive:!0,nodesSelectionActive:!1})},D=H=>{var q,G;if(H.button!==0||!M.current)return;(G=(q=H.target)==null?void 0:q.releasePointerCapture)==null||G.call(q,H.pointerId);const{userSelectionRect:K}=y.getState();!b&&K&&H.target===S.current&&(O==null||O(H)),y.setState({userSelectionActive:!1,userSelectionRect:null,nodesSelectionActive:k.current.size>0}),o==null||o(H),(e||i)&&(T.current=!1),M.current=!1},V=r===!0||Array.isArray(r)&&r.includes(0);return L.jsxs("div",{className:bn(["react-flow__pane",{draggable:V,dragging:x,selection:t}]),onClick:C?void 0:xS(O,S),onContextMenu:xS(R,S),onWheel:xS(F,S),onPointerEnter:C?void 0:h,onPointerDown:C?z:f,onPointerMove:C?U:f,onPointerUp:C?D:void 0,onPointerLeave:p,ref:S,style:Ib,children:[m,L.jsx(u6,{})]})}function pE({id:t,store:e,unselect:n=!1,nodeRef:r}){const{addSelectedNodes:i,unselectNodesAndEdges:s,multiSelectionActive:o,nodeLookup:a,onError:c}=e.getState(),d=a.get(t);if(!d){c==null||c("012",Qs.error012(t));return}e.setState({nodesSelectionActive:!1}),d.selected?(n||d.selected&&o)&&(s({nodes:[d],edges:[]}),requestAnimationFrame(()=>{var h;return(h=r==null?void 0:r.current)==null?void 0:h.blur()})):i([t])}function yL({nodeRef:t,disabled:e=!1,noDragClassName:n,handleSelector:r,nodeId:i,isSelectable:s,nodeClickDistance:o}){const a=Vt(),[c,d]=I.useState(!1),h=I.useRef();return I.useEffect(()=>{h.current=QH({getStoreItems:()=>a.getState(),onNodeMouseDown:f=>{pE({id:f,store:a,nodeRef:t})},onDragStart:()=>{d(!0)},onDragStop:()=>{d(!1)}})},[]),I.useEffect(()=>{var f,p;if(e)(f=h.current)==null||f.destroy();else if(t.current)return(p=h.current)==null||p.update({noDragClassName:n,handleSelector:r,domNode:t.current,isSelectable:s,nodeId:i,nodeClickDistance:o}),()=>{var m;(m=h.current)==null||m.destroy()}},[n,r,e,s,t,i]),c}const f6=t=>e=>e.selected&&(e.draggable||t&&typeof e.draggable>"u");function vL(){const t=Vt();return I.useCallback(n=>{const{nodeExtent:r,snapToGrid:i,snapGrid:s,nodesDraggable:o,onError:a,updateNodePositions:c,nodeLookup:d,nodeOrigin:h}=t.getState(),f=new Map,p=f6(o),m=i?s[0]:5,y=i?s[1]:5,b=n.direction.x*m*n.factor,E=n.direction.y*y*n.factor;for(const[,x]of d){if(!p(x))continue;let C={x:x.internals.positionAbsolute.x+b,y:x.internals.positionAbsolute.y+E};i&&(C=_b(C,s));const{position:S,positionAbsolute:_}=$O({nodeId:x.id,nextPosition:C,nodeLookup:d,nodeExtent:r,nodeOrigin:h,onError:a});x.position=S,x.internals.positionAbsolute=_,f.set(x.id,x)}c(f)},[])}const x_=I.createContext(null),p6=x_.Provider;x_.Consumer;const bL=()=>I.useContext(x_),g6=t=>({connectOnClick:t.connectOnClick,noPanClassName:t.noPanClassName,rfId:t.rfId}),m6=(t,e,n)=>r=>{const{connectionClickStartHandle:i,connectionMode:s,connection:o}=r,{fromHandle:a,toHandle:c,isValid:d}=o,h=(c==null?void 0:c.nodeId)===t&&(c==null?void 0:c.id)===e&&(c==null?void 0:c.type)===n;return{connectingFrom:(a==null?void 0:a.nodeId)===t&&(a==null?void 0:a.id)===e&&(a==null?void 0:a.type)===n,connectingTo:h,clickConnecting:(i==null?void 0:i.nodeId)===t&&(i==null?void 0:i.id)===e&&(i==null?void 0:i.type)===n,isPossibleEndHandle:s===gh.Strict?(a==null?void 0:a.type)!==n:t!==(a==null?void 0:a.nodeId)||e!==(a==null?void 0:a.id),connectionInProcess:!!a,clickConnectionInProcess:!!i,valid:h&&d}};function y6({type:t="source",position:e=ze.Top,isValidConnection:n,isConnectable:r=!0,isConnectableStart:i=!0,isConnectableEnd:s=!0,id:o,onConnect:a,children:c,className:d,onMouseDown:h,onTouchStart:f,...p},m){var V,H;const y=o||null,b=t==="target",E=Vt(),x=bL(),{connectOnClick:C,noPanClassName:S,rfId:_}=ot(g6,on),{connectingFrom:k,connectingTo:N,clickConnecting:T,isPossibleEndHandle:M,connectionInProcess:O,clickConnectionInProcess:R,valid:F}=ot(m6(x,y,t),on);x||(H=(V=E.getState()).onError)==null||H.call(V,"010",Qs.error010());const z=K=>{const{defaultEdgeOptions:q,onConnect:G,hasDefaultEdges:te}=E.getState(),Y={...q,...K};if(te){const{edges:Z,setEdges:X}=E.getState();X(XO(Y,Z))}G==null||G(Y),a==null||a(Y)},U=K=>{if(!x)return;const q=GO(K.nativeEvent);if(i&&(q&&K.button===0||!q)){const G=E.getState();fE.onPointerDown(K.nativeEvent,{autoPanOnConnect:G.autoPanOnConnect,connectionMode:G.connectionMode,connectionRadius:G.connectionRadius,domNode:G.domNode,nodeLookup:G.nodeLookup,lib:G.lib,isTarget:b,handleId:y,nodeId:x,flowId:G.rfId,panBy:G.panBy,cancelConnection:G.cancelConnection,onConnectStart:G.onConnectStart,onConnectEnd:G.onConnectEnd,updateConnection:G.updateConnection,onConnect:z,isValidConnection:n||G.isValidConnection,getTransform:()=>E.getState().transform,getFromHandle:()=>E.getState().connection.fromHandle,autoPanSpeed:G.autoPanSpeed})}q?h==null||h(K):f==null||f(K)},D=K=>{const{onClickConnectStart:q,onClickConnectEnd:G,connectionClickStartHandle:te,connectionMode:Y,isValidConnection:Z,lib:X,rfId:Q,nodeLookup:J,connection:ie}=E.getState();if(!x||!te&&!i)return;if(!te){q==null||q(K.nativeEvent,{nodeId:x,handleId:y,handleType:t}),E.setState({connectionClickStartHandle:{nodeId:x,type:t,id:y}});return}const ne=VO(K.target),oe=n||Z,{connection:ue,isValid:fe}=fE.isValid(K.nativeEvent,{handle:{nodeId:x,id:y,type:t},connectionMode:Y,fromNodeId:te.nodeId,fromHandleId:te.id||null,fromType:te.type,isValidConnection:oe,flowId:Q,doc:ne,lib:X,nodeLookup:J});fe&&ue&&z(ue);const ye=structuredClone(ie);delete ye.inProgress,ye.toPosition=ye.toHandle?ye.toHandle.position:null,G==null||G(K,ye),E.setState({connectionClickStartHandle:null})};return L.jsx("div",{"data-handleid":y,"data-nodeid":x,"data-handlepos":e,"data-id":`${_}-${x}-${y}-${t}`,className:bn(["react-flow__handle",`react-flow__handle-${e}`,"nodrag",S,d,{source:!b,target:b,connectable:r,connectablestart:i,connectableend:s,clickconnecting:T,connectingfrom:k,connectingto:N,valid:F,connectionindicator:r&&(!O||M)&&(O||R?s:i)}]),onMouseDown:U,onTouchStart:U,onClick:C?D:void 0,ref:m,...p,children:c})}const vl=I.memo(gL(y6));function v6({data:t,isConnectable:e,sourcePosition:n=ze.Bottom}){return L.jsxs(L.Fragment,{children:[t==null?void 0:t.label,L.jsx(vl,{type:"source",position:n,isConnectable:e})]})}function b6({data:t,isConnectable:e,targetPosition:n=ze.Top,sourcePosition:r=ze.Bottom}){return L.jsxs(L.Fragment,{children:[L.jsx(vl,{type:"target",position:n,isConnectable:e}),t==null?void 0:t.label,L.jsx(vl,{type:"source",position:r,isConnectable:e})]})}function w6(){return null}function x6({data:t,isConnectable:e,targetPosition:n=ze.Top}){return L.jsxs(L.Fragment,{children:[L.jsx(vl,{type:"target",position:n,isConnectable:e}),t==null?void 0:t.label]})}const T0={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}},sP={input:v6,default:b6,output:x6,group:w6};function S6(t){var e,n,r,i;return t.internals.handleBounds===void 0?{width:t.width??t.initialWidth??((e=t.style)==null?void 0:e.width),height:t.height??t.initialHeight??((n=t.style)==null?void 0:n.height)}:{width:t.width??((r=t.style)==null?void 0:r.width),height:t.height??((i=t.style)==null?void 0:i.height)}}const E6=t=>{const{width:e,height:n,x:r,y:i}=xm(t.nodeLookup,{filter:s=>!!s.selected});return{width:es(e)?e:null,height:es(n)?n:null,userSelectionActive:t.userSelectionActive,transformString:`translate(${t.transform[0]}px,${t.transform[1]}px) scale(${t.transform[2]}) translate(${r}px,${i}px)`}};function C6({onSelectionContextMenu:t,noPanClassName:e,disableKeyboardA11y:n}){const r=Vt(),{width:i,height:s,transformString:o,userSelectionActive:a}=ot(E6,on),c=vL(),d=I.useRef(null);if(I.useEffect(()=>{var p;n||(p=d.current)==null||p.focus({preventScroll:!0})},[n]),yL({nodeRef:d}),a||!i||!s)return null;const h=t?p=>{const m=r.getState().nodes.filter(y=>y.selected);t(p,m)}:void 0,f=p=>{Object.prototype.hasOwnProperty.call(T0,p.key)&&(p.preventDefault(),c({direction:T0[p.key],factor:p.shiftKey?4:1}))};return L.jsx("div",{className:bn(["react-flow__nodesselection","react-flow__container",e]),style:{transform:o},children:L.jsx("div",{ref:d,className:"react-flow__nodesselection-rect",onContextMenu:h,tabIndex:n?void 0:-1,onKeyDown:n?void 0:f,style:{width:i,height:s}})})}const oP=typeof window<"u"?window:void 0,_6=t=>({nodesSelectionActive:t.nodesSelectionActive,userSelectionActive:t.userSelectionActive});function wL({children:t,onPaneClick:e,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:i,onPaneContextMenu:s,onPaneScroll:o,paneClickDistance:a,deleteKeyCode:c,selectionKeyCode:d,selectionOnDrag:h,selectionMode:f,onSelectionStart:p,onSelectionEnd:m,multiSelectionKeyCode:y,panActivationKeyCode:b,zoomActivationKeyCode:E,elementsSelectable:x,zoomOnScroll:C,zoomOnPinch:S,panOnScroll:_,panOnScrollSpeed:k,panOnScrollMode:N,zoomOnDoubleClick:T,panOnDrag:M,defaultViewport:O,translateExtent:R,minZoom:F,maxZoom:z,preventScrolling:U,onSelectionContextMenu:D,noWheelClassName:V,noPanClassName:H,disableKeyboardA11y:K,onViewportChange:q,isControlledViewport:G}){const{nodesSelectionActive:te,userSelectionActive:Y}=ot(_6),Z=kp(d,{target:oP}),X=kp(b,{target:oP}),Q=X||M,J=X||_,ie=h&&Q!==!0,ne=Z||Y||ie;return s6({deleteKeyCode:c,multiSelectionKeyCode:y}),L.jsx(l6,{onPaneContextMenu:s,elementsSelectable:x,zoomOnScroll:C,zoomOnPinch:S,panOnScroll:J,panOnScrollSpeed:k,panOnScrollMode:N,zoomOnDoubleClick:T,panOnDrag:!Z&&Q,defaultViewport:O,translateExtent:R,minZoom:F,maxZoom:z,zoomActivationKeyCode:E,preventScrolling:U,noWheelClassName:V,noPanClassName:H,onViewportChange:q,isControlledViewport:G,paneClickDistance:a,children:L.jsxs(h6,{onSelectionStart:p,onSelectionEnd:m,onPaneClick:e,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:i,onPaneContextMenu:s,onPaneScroll:o,panOnDrag:Q,isSelecting:!!ne,selectionMode:f,selectionKeyPressed:Z,selectionOnDrag:ie,children:[t,te&&L.jsx(C6,{onSelectionContextMenu:D,noPanClassName:H,disableKeyboardA11y:K})]})})}wL.displayName="FlowRenderer";const A6=I.memo(wL),k6=t=>e=>t?FO(e.nodeLookup,{x:0,y:0,width:e.width,height:e.height},e.transform,!0).map(n=>n.id):Array.from(e.nodeLookup.keys());function R6(t){return ot(I.useCallback(k6(t),[t]),on)}const T6=t=>t.updateNodeInternals;function P6(){const t=ot(T6),[e]=I.useState(()=>typeof ResizeObserver>"u"?null:new ResizeObserver(n=>{const r=new Map;n.forEach(i=>{const s=i.target.getAttribute("data-id");r.set(s,{id:s,nodeElement:i.target,force:!0})}),t(r)}));return I.useEffect(()=>()=>{e==null||e.disconnect()},[e]),e}function I6({node:t,nodeType:e,hasDimensions:n,resizeObserver:r}){const i=Vt(),s=I.useRef(null),o=I.useRef(null),a=I.useRef(t.sourcePosition),c=I.useRef(t.targetPosition),d=I.useRef(e),h=n&&!!t.internals.handleBounds;return I.useEffect(()=>{s.current&&!t.hidden&&(!h||o.current!==s.current)&&(o.current&&(r==null||r.unobserve(o.current)),r==null||r.observe(s.current),o.current=s.current)},[h,t.hidden]),I.useEffect(()=>()=>{o.current&&(r==null||r.unobserve(o.current),o.current=null)},[]),I.useEffect(()=>{if(s.current){const f=d.current!==e,p=a.current!==t.sourcePosition,m=c.current!==t.targetPosition;(f||p||m)&&(d.current=e,a.current=t.sourcePosition,c.current=t.targetPosition,i.getState().updateNodeInternals(new Map([[t.id,{id:t.id,nodeElement:s.current,force:!0}]])))}},[t.id,e,t.sourcePosition,t.targetPosition]),s}function N6({id:t,onClick:e,onMouseEnter:n,onMouseMove:r,onMouseLeave:i,onContextMenu:s,onDoubleClick:o,nodesDraggable:a,elementsSelectable:c,nodesConnectable:d,nodesFocusable:h,resizeObserver:f,noDragClassName:p,noPanClassName:m,disableKeyboardA11y:y,rfId:b,nodeTypes:E,nodeClickDistance:x,onError:C}){const{node:S,internals:_,isParent:k}=ot(ne=>{const oe=ne.nodeLookup.get(t),ue=ne.parentLookup.has(t);return{node:oe,internals:oe.internals,isParent:ue}},on);let N=S.type||"default",T=(E==null?void 0:E[N])||sP[N];T===void 0&&(C==null||C("003",Qs.error003(N)),N="default",T=sP.default);const M=!!(S.draggable||a&&typeof S.draggable>"u"),O=!!(S.selectable||c&&typeof S.selectable>"u"),R=!!(S.connectable||d&&typeof S.connectable>"u"),F=!!(S.focusable||h&&typeof S.focusable>"u"),z=Vt(),U=WO(S),D=I6({node:S,nodeType:N,hasDimensions:U,resizeObserver:f}),V=yL({nodeRef:D,disabled:S.hidden||!M,noDragClassName:p,handleSelector:S.dragHandle,nodeId:t,isSelectable:O,nodeClickDistance:x}),H=vL();if(S.hidden)return null;const K=ca(S),q=S6(S),G=O||M||e||n||r||i,te=n?ne=>n(ne,{..._.userNode}):void 0,Y=r?ne=>r(ne,{..._.userNode}):void 0,Z=i?ne=>i(ne,{..._.userNode}):void 0,X=s?ne=>s(ne,{..._.userNode}):void 0,Q=o?ne=>o(ne,{..._.userNode}):void 0,J=ne=>{const{selectNodesOnDrag:oe,nodeDragThreshold:ue}=z.getState();O&&(!oe||!M||ue>0)&&pE({id:t,store:z,nodeRef:D}),e&&e(ne,{..._.userNode})},ie=ne=>{if(!(cE(ne.nativeEvent)||y))if(MO.includes(ne.key)&&O){const oe=ne.key==="Escape";pE({id:t,store:z,unselect:oe,nodeRef:D})}else M&&S.selected&&Object.prototype.hasOwnProperty.call(T0,ne.key)&&(ne.preventDefault(),z.setState({ariaLiveMessage:`Moved selected node ${ne.key.replace("Arrow","").toLowerCase()}. New position, x: ${~~_.positionAbsolute.x}, y: ${~~_.positionAbsolute.y}`}),H({direction:T0[ne.key],factor:ne.shiftKey?4:1}))};return L.jsx("div",{className:bn(["react-flow__node",`react-flow__node-${N}`,{[m]:M},S.className,{selected:S.selected,selectable:O,parent:k,draggable:M,dragging:V}]),ref:D,style:{zIndex:_.z,transform:`translate(${_.positionAbsolute.x}px,${_.positionAbsolute.y}px)`,pointerEvents:G?"all":"none",visibility:U?"visible":"hidden",...S.style,...q},"data-id":t,"data-testid":`rf__node-${t}`,onMouseEnter:te,onMouseMove:Y,onMouseLeave:Z,onContextMenu:X,onClick:J,onDoubleClick:Q,onKeyDown:F?ie:void 0,tabIndex:F?0:void 0,role:F?"button":void 0,"aria-describedby":y?void 0:`${cL}-${b}`,"aria-label":S.ariaLabel,children:L.jsx(p6,{value:t,children:L.jsx(T,{id:t,data:S.data,type:N,positionAbsoluteX:_.positionAbsolute.x,positionAbsoluteY:_.positionAbsolute.y,selected:S.selected??!1,selectable:O,draggable:M,deletable:S.deletable??!0,isConnectable:R,sourcePosition:S.sourcePosition,targetPosition:S.targetPosition,dragging:V,dragHandle:S.dragHandle,zIndex:_.z,parentId:S.parentId,...K})})})}const M6=t=>({nodesDraggable:t.nodesDraggable,nodesConnectable:t.nodesConnectable,nodesFocusable:t.nodesFocusable,elementsSelectable:t.elementsSelectable,onError:t.onError});function xL(t){const{nodesDraggable:e,nodesConnectable:n,nodesFocusable:r,elementsSelectable:i,onError:s}=ot(M6,on),o=R6(t.onlyRenderVisibleElements),a=P6();return L.jsx("div",{className:"react-flow__nodes",style:Ib,children:o.map(c=>L.jsx(N6,{id:c,nodeTypes:t.nodeTypes,nodeExtent:t.nodeExtent,onClick:t.onNodeClick,onMouseEnter:t.onNodeMouseEnter,onMouseMove:t.onNodeMouseMove,onMouseLeave:t.onNodeMouseLeave,onContextMenu:t.onNodeContextMenu,onDoubleClick:t.onNodeDoubleClick,noDragClassName:t.noDragClassName,noPanClassName:t.noPanClassName,rfId:t.rfId,disableKeyboardA11y:t.disableKeyboardA11y,resizeObserver:a,nodesDraggable:e,nodesConnectable:n,nodesFocusable:r,elementsSelectable:i,nodeClickDistance:t.nodeClickDistance,onError:s},c))})}xL.displayName="NodeRenderer";const O6=I.memo(xL);function L6(t){return ot(I.useCallback(n=>{if(!t)return n.edges.map(i=>i.id);const r=[];if(n.width&&n.height)for(const i of n.edges){const s=n.nodeLookup.get(i.source),o=n.nodeLookup.get(i.target);s&&o&&DH({sourceNode:s,targetNode:o,width:n.width,height:n.height,transform:n.transform})&&r.push(i.id)}return r},[t]),on)}const D6=({color:t="none",strokeWidth:e=1})=>L.jsx("polyline",{style:{stroke:t,strokeWidth:e},strokeLinecap:"round",strokeLinejoin:"round",fill:"none",points:"-5,-4 0,0 -5,4"}),F6=({color:t="none",strokeWidth:e=1})=>L.jsx("polyline",{style:{stroke:t,fill:t,strokeWidth:e},strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"}),aP={[mh.Arrow]:D6,[mh.ArrowClosed]:F6};function $6(t){const e=Vt();return I.useMemo(()=>{var i,s;return Object.prototype.hasOwnProperty.call(aP,t)?aP[t]:((s=(i=e.getState()).onError)==null||s.call(i,"009",Qs.error009(t)),null)},[t])}const z6=({id:t,type:e,color:n,width:r=12.5,height:i=12.5,markerUnits:s="strokeWidth",strokeWidth:o,orient:a="auto-start-reverse"})=>{const c=$6(e);return c?L.jsx("marker",{className:"react-flow__arrowhead",id:t,markerWidth:`${r}`,markerHeight:`${i}`,viewBox:"-10 -10 20 20",markerUnits:s,orient:a,refX:"0",refY:"0",children:L.jsx(c,{color:n,strokeWidth:o})}):null},SL=({defaultColor:t,rfId:e})=>{const n=ot(s=>s.edges),r=ot(s=>s.defaultEdgeOptions),i=I.useMemo(()=>WH(n,{id:e,defaultColor:t,defaultMarkerStart:r==null?void 0:r.markerStart,defaultMarkerEnd:r==null?void 0:r.markerEnd}),[n,r,e,t]);return i.length?L.jsx("svg",{className:"react-flow__marker",children:L.jsx("defs",{children:i.map(s=>L.jsx(z6,{id:s.id,type:s.type,color:s.color,width:s.width,height:s.height,markerUnits:s.markerUnits,strokeWidth:s.strokeWidth,orient:s.orient},s.id))})}):null};SL.displayName="MarkerDefinitions";var j6=I.memo(SL);function EL({x:t,y:e,label:n,labelStyle:r={},labelShowBg:i=!0,labelBgStyle:s={},labelBgPadding:o=[2,4],labelBgBorderRadius:a=2,children:c,className:d,...h}){const[f,p]=I.useState({x:1,y:0,width:0,height:0}),m=bn(["react-flow__edge-textwrapper",d]),y=I.useRef(null);return I.useEffect(()=>{if(y.current){const b=y.current.getBBox();p({x:b.x,y:b.y,width:b.width,height:b.height})}},[n]),typeof n>"u"||!n?null:L.jsxs("g",{transform:`translate(${t-f.width/2} ${e-f.height/2})`,className:m,visibility:f.width?"visible":"hidden",...h,children:[i&&L.jsx("rect",{width:f.width+2*o[0],x:-o[0],y:-o[1],height:f.height+2*o[1],className:"react-flow__edge-textbg",style:s,rx:a,ry:a}),L.jsx("text",{className:"react-flow__edge-text",y:f.height/2,dy:"0.3em",ref:y,style:r,children:n}),c]})}EL.displayName="EdgeText";const B6=I.memo(EL);function kh({path:t,labelX:e,labelY:n,label:r,labelStyle:i,labelShowBg:s,labelBgStyle:o,labelBgPadding:a,labelBgBorderRadius:c,interactionWidth:d=20,...h}){return L.jsxs(L.Fragment,{children:[L.jsx("path",{...h,d:t,fill:"none",className:bn(["react-flow__edge-path",h.className])}),d&&L.jsx("path",{d:t,fill:"none",strokeOpacity:0,strokeWidth:d,className:"react-flow__edge-interaction"}),r&&es(e)&&es(n)?L.jsx(B6,{x:e,y:n,label:r,labelStyle:i,labelShowBg:s,labelBgStyle:o,labelBgPadding:a,labelBgBorderRadius:c}):null]})}function lP({pos:t,x1:e,y1:n,x2:r,y2:i}){return t===ze.Left||t===ze.Right?[.5*(e+r),n]:[e,.5*(n+i)]}function CL({sourceX:t,sourceY:e,sourcePosition:n=ze.Bottom,targetX:r,targetY:i,targetPosition:s=ze.Top}){const[o,a]=lP({pos:n,x1:t,y1:e,x2:r,y2:i}),[c,d]=lP({pos:s,x1:r,y1:i,x2:t,y2:e}),[h,f,p,m]=qO({sourceX:t,sourceY:e,targetX:r,targetY:i,sourceControlX:o,sourceControlY:a,targetControlX:c,targetControlY:d});return[`M${t},${e} C${o},${a} ${c},${d} ${r},${i}`,h,f,p,m]}function _L(t){return I.memo(({id:e,sourceX:n,sourceY:r,targetX:i,targetY:s,sourcePosition:o=ze.Bottom,targetPosition:a=ze.Top,label:c,labelStyle:d,labelShowBg:h,labelBgStyle:f,labelBgPadding:p,labelBgBorderRadius:m,style:y,markerEnd:b,markerStart:E,interactionWidth:x})=>{const[C,S,_]=CL({sourceX:n,sourceY:r,sourcePosition:o,targetX:i,targetY:s,targetPosition:a}),k=t.isInternal?void 0:e;return L.jsx(kh,{id:k,path:C,labelX:S,labelY:_,label:c,labelStyle:d,labelShowBg:h,labelBgStyle:f,labelBgPadding:p,labelBgBorderRadius:m,style:y,markerEnd:b,markerStart:E,interactionWidth:x})})}const H6=_L({isInternal:!1}),AL=_L({isInternal:!0});H6.displayName="SimpleBezierEdge";AL.displayName="SimpleBezierEdgeInternal";function kL(t){return I.memo(({id:e,sourceX:n,sourceY:r,targetX:i,targetY:s,label:o,labelStyle:a,labelShowBg:c,labelBgStyle:d,labelBgPadding:h,labelBgBorderRadius:f,style:p,sourcePosition:m=ze.Bottom,targetPosition:y=ze.Top,markerEnd:b,markerStart:E,pathOptions:x,interactionWidth:C})=>{const[S,_,k]=uE({sourceX:n,sourceY:r,sourcePosition:m,targetX:i,targetY:s,targetPosition:y,borderRadius:x==null?void 0:x.borderRadius,offset:x==null?void 0:x.offset}),N=t.isInternal?void 0:e;return L.jsx(kh,{id:N,path:S,labelX:_,labelY:k,label:o,labelStyle:a,labelShowBg:c,labelBgStyle:d,labelBgPadding:h,labelBgBorderRadius:f,style:p,markerEnd:b,markerStart:E,interactionWidth:C})})}const RL=kL({isInternal:!1}),TL=kL({isInternal:!0});RL.displayName="SmoothStepEdge";TL.displayName="SmoothStepEdgeInternal";function PL(t){return I.memo(({id:e,...n})=>{var i;const r=t.isInternal?void 0:e;return L.jsx(RL,{...n,id:r,pathOptions:I.useMemo(()=>{var s;return{borderRadius:0,offset:(s=n.pathOptions)==null?void 0:s.offset}},[(i=n.pathOptions)==null?void 0:i.offset])})})}const W6=PL({isInternal:!1}),IL=PL({isInternal:!0});W6.displayName="StepEdge";IL.displayName="StepEdgeInternal";function NL(t){return I.memo(({id:e,sourceX:n,sourceY:r,targetX:i,targetY:s,label:o,labelStyle:a,labelShowBg:c,labelBgStyle:d,labelBgPadding:h,labelBgBorderRadius:f,style:p,markerEnd:m,markerStart:y,interactionWidth:b})=>{const[E,x,C]=KO({sourceX:n,sourceY:r,targetX:i,targetY:s}),S=t.isInternal?void 0:e;return L.jsx(kh,{id:S,path:E,labelX:x,labelY:C,label:o,labelStyle:a,labelShowBg:c,labelBgStyle:d,labelBgPadding:h,labelBgBorderRadius:f,style:p,markerEnd:m,markerStart:y,interactionWidth:b})})}const U6=NL({isInternal:!1}),ML=NL({isInternal:!0});U6.displayName="StraightEdge";ML.displayName="StraightEdgeInternal";function OL(t){return I.memo(({id:e,sourceX:n,sourceY:r,targetX:i,targetY:s,sourcePosition:o=ze.Bottom,targetPosition:a=ze.Top,label:c,labelStyle:d,labelShowBg:h,labelBgStyle:f,labelBgPadding:p,labelBgBorderRadius:m,style:y,markerEnd:b,markerStart:E,pathOptions:x,interactionWidth:C})=>{const[S,_,k]=kb({sourceX:n,sourceY:r,sourcePosition:o,targetX:i,targetY:s,targetPosition:a,curvature:x==null?void 0:x.curvature}),N=t.isInternal?void 0:e;return L.jsx(kh,{id:N,path:S,labelX:_,labelY:k,label:c,labelStyle:d,labelShowBg:h,labelBgStyle:f,labelBgPadding:p,labelBgBorderRadius:m,style:y,markerEnd:b,markerStart:E,interactionWidth:C})})}const V6=OL({isInternal:!1}),LL=OL({isInternal:!0});V6.displayName="BezierEdge";LL.displayName="BezierEdgeInternal";const cP={default:LL,straight:ML,step:IL,smoothstep:TL,simplebezier:AL},uP={sourceX:null,sourceY:null,targetX:null,targetY:null,sourcePosition:null,targetPosition:null},G6=(t,e,n)=>n===ze.Left?t-e:n===ze.Right?t+e:t,q6=(t,e,n)=>n===ze.Top?t-e:n===ze.Bottom?t+e:t,dP="react-flow__edgeupdater";function hP({position:t,centerX:e,centerY:n,radius:r=10,onMouseDown:i,onMouseEnter:s,onMouseOut:o,type:a}){return L.jsx("circle",{onMouseDown:i,onMouseEnter:s,onMouseOut:o,className:bn([dP,`${dP}-${a}`]),cx:G6(e,r,t),cy:q6(n,r,t),r,stroke:"transparent",fill:"transparent"})}function Y6({isReconnectable:t,reconnectRadius:e,edge:n,sourceX:r,sourceY:i,targetX:s,targetY:o,sourcePosition:a,targetPosition:c,onReconnect:d,onReconnectStart:h,onReconnectEnd:f,setReconnecting:p,setUpdateHover:m}){const y=Vt(),b=(_,k)=>{if(_.button!==0)return;const{autoPanOnConnect:N,domNode:T,isValidConnection:M,connectionMode:O,connectionRadius:R,lib:F,onConnectStart:z,onConnectEnd:U,cancelConnection:D,nodeLookup:V,rfId:H,panBy:K,updateConnection:q}=y.getState(),G=k.type==="target";p(!0),h==null||h(_,n,k.type);const te=(Z,X)=>{p(!1),f==null||f(Z,n,k.type,X)},Y=Z=>d==null?void 0:d(n,Z);fE.onPointerDown(_.nativeEvent,{autoPanOnConnect:N,connectionMode:O,connectionRadius:R,domNode:T,handleId:k.id,nodeId:k.nodeId,nodeLookup:V,isTarget:G,edgeUpdaterType:k.type,lib:F,flowId:H,cancelConnection:D,panBy:K,isValidConnection:M,onConnect:Y,onConnectStart:z,onConnectEnd:U,onReconnectEnd:te,updateConnection:q,getTransform:()=>y.getState().transform,getFromHandle:()=>y.getState().connection.fromHandle})},E=_=>b(_,{nodeId:n.target,id:n.targetHandle??null,type:"target"}),x=_=>b(_,{nodeId:n.source,id:n.sourceHandle??null,type:"source"}),C=()=>m(!0),S=()=>m(!1);return L.jsxs(L.Fragment,{children:[(t===!0||t==="source")&&L.jsx(hP,{position:a,centerX:r,centerY:i,radius:e,onMouseDown:E,onMouseEnter:C,onMouseOut:S,type:"source"}),(t===!0||t==="target")&&L.jsx(hP,{position:c,centerX:s,centerY:o,radius:e,onMouseDown:x,onMouseEnter:C,onMouseOut:S,type:"target"})]})}function X6({id:t,edgesFocusable:e,edgesReconnectable:n,elementsSelectable:r,onClick:i,onDoubleClick:s,onContextMenu:o,onMouseEnter:a,onMouseMove:c,onMouseLeave:d,reconnectRadius:h,onReconnect:f,onReconnectStart:p,onReconnectEnd:m,rfId:y,edgeTypes:b,noPanClassName:E,onError:x,disableKeyboardA11y:C}){let S=ot(pe=>pe.edgeLookup.get(t));const _=ot(pe=>pe.defaultEdgeOptions);S=_?{..._,...S}:S;let k=S.type||"default",N=(b==null?void 0:b[k])||cP[k];N===void 0&&(x==null||x("011",Qs.error011(k)),k="default",N=cP.default);const T=!!(S.focusable||e&&typeof S.focusable>"u"),M=typeof f<"u"&&(S.reconnectable||n&&typeof S.reconnectable>"u"),O=!!(S.selectable||r&&typeof S.selectable>"u"),R=I.useRef(null),[F,z]=I.useState(!1),[U,D]=I.useState(!1),V=Vt(),{zIndex:H,sourceX:K,sourceY:q,targetX:G,targetY:te,sourcePosition:Y,targetPosition:Z}=ot(I.useCallback(pe=>{const Se=pe.nodeLookup.get(S.source),xe=pe.nodeLookup.get(S.target);if(!Se||!xe)return{zIndex:S.zIndex,...uP};const Ge=HH({id:t,sourceNode:Se,targetNode:xe,sourceHandle:S.sourceHandle||null,targetHandle:S.targetHandle||null,connectionMode:pe.connectionMode,onError:x});return{zIndex:LH({selected:S.selected,zIndex:S.zIndex,sourceNode:Se,targetNode:xe,elevateOnSelect:pe.elevateEdgesOnSelect}),...Ge||uP}},[S.source,S.target,S.sourceHandle,S.targetHandle,S.selected,S.zIndex]),on),X=I.useMemo(()=>S.markerStart?`url('#${dE(S.markerStart,y)}')`:void 0,[S.markerStart,y]),Q=I.useMemo(()=>S.markerEnd?`url('#${dE(S.markerEnd,y)}')`:void 0,[S.markerEnd,y]);if(S.hidden||K===null||q===null||G===null||te===null)return null;const J=pe=>{var pt;const{addSelectedEdges:Se,unselectNodesAndEdges:xe,multiSelectionActive:Ge}=V.getState();O&&(V.setState({nodesSelectionActive:!1}),S.selected&&Ge?(xe({nodes:[],edges:[S]}),(pt=R.current)==null||pt.blur()):Se([t])),i&&i(pe,S)},ie=s?pe=>{s(pe,{...S})}:void 0,ne=o?pe=>{o(pe,{...S})}:void 0,oe=a?pe=>{a(pe,{...S})}:void 0,ue=c?pe=>{c(pe,{...S})}:void 0,fe=d?pe=>{d(pe,{...S})}:void 0,ye=pe=>{var Se;if(!C&&MO.includes(pe.key)&&O){const{unselectNodesAndEdges:xe,addSelectedEdges:Ge}=V.getState();pe.key==="Escape"?((Se=R.current)==null||Se.blur(),xe({edges:[S]})):Ge([t])}};return L.jsx("svg",{style:{zIndex:H},children:L.jsxs("g",{className:bn(["react-flow__edge",`react-flow__edge-${k}`,S.className,E,{selected:S.selected,animated:S.animated,inactive:!O&&!i,updating:F,selectable:O}]),onClick:J,onDoubleClick:ie,onContextMenu:ne,onMouseEnter:oe,onMouseMove:ue,onMouseLeave:fe,onKeyDown:T?ye:void 0,tabIndex:T?0:void 0,role:T?"button":"img","data-id":t,"data-testid":`rf__edge-${t}`,"aria-label":S.ariaLabel===null?void 0:S.ariaLabel||`Edge from ${S.source} to ${S.target}`,"aria-describedby":T?`${uL}-${y}`:void 0,ref:R,children:[!U&&L.jsx(N,{id:t,source:S.source,target:S.target,type:S.type,selected:S.selected,animated:S.animated,selectable:O,deletable:S.deletable??!0,label:S.label,labelStyle:S.labelStyle,labelShowBg:S.labelShowBg,labelBgStyle:S.labelBgStyle,labelBgPadding:S.labelBgPadding,labelBgBorderRadius:S.labelBgBorderRadius,sourceX:K,sourceY:q,targetX:G,targetY:te,sourcePosition:Y,targetPosition:Z,data:S.data,style:S.style,sourceHandleId:S.sourceHandle,targetHandleId:S.targetHandle,markerStart:X,markerEnd:Q,pathOptions:"pathOptions"in S?S.pathOptions:void 0,interactionWidth:S.interactionWidth}),M&&L.jsx(Y6,{edge:S,isReconnectable:M,reconnectRadius:h,onReconnect:f,onReconnectStart:p,onReconnectEnd:m,sourceX:K,sourceY:q,targetX:G,targetY:te,sourcePosition:Y,targetPosition:Z,setUpdateHover:z,setReconnecting:D})]})})}const K6=t=>({edgesFocusable:t.edgesFocusable,edgesReconnectable:t.edgesReconnectable,elementsSelectable:t.elementsSelectable,connectionMode:t.connectionMode,onError:t.onError});function DL({defaultMarkerColor:t,onlyRenderVisibleElements:e,rfId:n,edgeTypes:r,noPanClassName:i,onReconnect:s,onEdgeContextMenu:o,onEdgeMouseEnter:a,onEdgeMouseMove:c,onEdgeMouseLeave:d,onEdgeClick:h,reconnectRadius:f,onEdgeDoubleClick:p,onReconnectStart:m,onReconnectEnd:y,disableKeyboardA11y:b}){const{edgesFocusable:E,edgesReconnectable:x,elementsSelectable:C,onError:S}=ot(K6,on),_=L6(e);return L.jsxs("div",{className:"react-flow__edges",children:[L.jsx(j6,{defaultColor:t,rfId:n}),_.map(k=>L.jsx(X6,{id:k,edgesFocusable:E,edgesReconnectable:x,elementsSelectable:C,noPanClassName:i,onReconnect:s,onContextMenu:o,onMouseEnter:a,onMouseMove:c,onMouseLeave:d,onClick:h,reconnectRadius:f,onDoubleClick:p,onReconnectStart:m,onReconnectEnd:y,rfId:n,onError:S,edgeTypes:r,disableKeyboardA11y:b},k))]})}DL.displayName="EdgeRenderer";const Q6=I.memo(DL),Z6=t=>`translate(${t.transform[0]}px,${t.transform[1]}px) scale(${t.transform[2]})`;function J6({children:t}){const e=ot(Z6);return L.jsx("div",{className:"react-flow__viewport xyflow__viewport react-flow__container",style:{transform:e},children:t})}function eW(t){const e=Pb(),n=I.useRef(!1);I.useEffect(()=>{!n.current&&e.viewportInitialized&&t&&(setTimeout(()=>t(e),1),n.current=!0)},[t,e.viewportInitialized])}const tW=t=>{var e;return(e=t.panZoom)==null?void 0:e.syncViewport};function nW(t){const e=ot(tW),n=Vt();return I.useEffect(()=>{t&&(e==null||e(t),n.setState({transform:[t.x,t.y,t.zoom]}))},[t,e]),null}function rW(t){return t.connection.inProgress?{...t.connection,to:Sm(t.connection.to,t.transform)}:{...t.connection}}function iW(t){return rW}function sW(t){const e=iW();return ot(e,on)}const oW=t=>({nodesConnectable:t.nodesConnectable,isValid:t.connection.isValid,inProgress:t.connection.inProgress,width:t.width,height:t.height});function aW({containerStyle:t,style:e,type:n,component:r}){const{nodesConnectable:i,width:s,height:o,isValid:a,inProgress:c}=ot(oW,on);return!(s&&i&&c)?null:L.jsx("svg",{style:t,width:s,height:o,className:"react-flow__connectionline react-flow__container",children:L.jsx("g",{className:bn(["react-flow__connection",LO(a)]),children:L.jsx(FL,{style:e,type:n,CustomComponent:r,isValid:a})})})}const FL=({style:t,type:e=Va.Bezier,CustomComponent:n,isValid:r})=>{const{inProgress:i,from:s,fromNode:o,fromHandle:a,fromPosition:c,to:d,toNode:h,toHandle:f,toPosition:p}=sW();if(!i)return;if(n)return L.jsx(n,{connectionLineType:e,connectionLineStyle:t,fromNode:o,fromHandle:a,fromX:s.x,fromY:s.y,toX:d.x,toY:d.y,fromPosition:c,toPosition:p,connectionStatus:LO(r),toNode:h,toHandle:f});let m="";const y={sourceX:s.x,sourceY:s.y,sourcePosition:c,targetX:d.x,targetY:d.y,targetPosition:p};switch(e){case Va.Bezier:[m]=kb(y);break;case Va.SimpleBezier:[m]=CL(y);break;case Va.Step:[m]=uE({...y,borderRadius:0});break;case Va.SmoothStep:[m]=uE(y);break;default:[m]=KO(y)}return L.jsx("path",{d:m,fill:"none",className:"react-flow__connection-path",style:t})};FL.displayName="ConnectionLine";const lW={};function fP(t=lW){I.useRef(t),Vt(),I.useEffect(()=>{},[t])}function cW(){Vt(),I.useRef(!1),I.useEffect(()=>{},[])}function $L({nodeTypes:t,edgeTypes:e,onInit:n,onNodeClick:r,onEdgeClick:i,onNodeDoubleClick:s,onEdgeDoubleClick:o,onNodeMouseEnter:a,onNodeMouseMove:c,onNodeMouseLeave:d,onNodeContextMenu:h,onSelectionContextMenu:f,onSelectionStart:p,onSelectionEnd:m,connectionLineType:y,connectionLineStyle:b,connectionLineComponent:E,connectionLineContainerStyle:x,selectionKeyCode:C,selectionOnDrag:S,selectionMode:_,multiSelectionKeyCode:k,panActivationKeyCode:N,zoomActivationKeyCode:T,deleteKeyCode:M,onlyRenderVisibleElements:O,elementsSelectable:R,defaultViewport:F,translateExtent:z,minZoom:U,maxZoom:D,preventScrolling:V,defaultMarkerColor:H,zoomOnScroll:K,zoomOnPinch:q,panOnScroll:G,panOnScrollSpeed:te,panOnScrollMode:Y,zoomOnDoubleClick:Z,panOnDrag:X,onPaneClick:Q,onPaneMouseEnter:J,onPaneMouseMove:ie,onPaneMouseLeave:ne,onPaneScroll:oe,onPaneContextMenu:ue,paneClickDistance:fe,nodeClickDistance:ye,onEdgeContextMenu:pe,onEdgeMouseEnter:Se,onEdgeMouseMove:xe,onEdgeMouseLeave:Ge,reconnectRadius:pt,onReconnect:Gt,onReconnectStart:zt,onReconnectEnd:Tn,noDragClassName:Nt,noWheelClassName:wt,noPanClassName:De,disableKeyboardA11y:ar,nodeExtent:an,rfId:lr,viewport:xr,onViewportChange:Sr}){return fP(t),fP(e),cW(),eW(n),nW(xr),L.jsx(A6,{onPaneClick:Q,onPaneMouseEnter:J,onPaneMouseMove:ie,onPaneMouseLeave:ne,onPaneContextMenu:ue,onPaneScroll:oe,paneClickDistance:fe,deleteKeyCode:M,selectionKeyCode:C,selectionOnDrag:S,selectionMode:_,onSelectionStart:p,onSelectionEnd:m,multiSelectionKeyCode:k,panActivationKeyCode:N,zoomActivationKeyCode:T,elementsSelectable:R,zoomOnScroll:K,zoomOnPinch:q,zoomOnDoubleClick:Z,panOnScroll:G,panOnScrollSpeed:te,panOnScrollMode:Y,panOnDrag:X,defaultViewport:F,translateExtent:z,minZoom:U,maxZoom:D,onSelectionContextMenu:f,preventScrolling:V,noDragClassName:Nt,noWheelClassName:wt,noPanClassName:De,disableKeyboardA11y:ar,onViewportChange:Sr,isControlledViewport:!!xr,children:L.jsxs(J6,{children:[L.jsx(Q6,{edgeTypes:e,onEdgeClick:i,onEdgeDoubleClick:o,onReconnect:Gt,onReconnectStart:zt,onReconnectEnd:Tn,onlyRenderVisibleElements:O,onEdgeContextMenu:pe,onEdgeMouseEnter:Se,onEdgeMouseMove:xe,onEdgeMouseLeave:Ge,reconnectRadius:pt,defaultMarkerColor:H,noPanClassName:De,disableKeyboardA11y:ar,rfId:lr}),L.jsx(aW,{style:b,type:y,component:E,containerStyle:x}),L.jsx("div",{className:"react-flow__edgelabel-renderer"}),L.jsx(O6,{nodeTypes:t,onNodeClick:r,onNodeDoubleClick:s,onNodeMouseEnter:a,onNodeMouseMove:c,onNodeMouseLeave:d,onNodeContextMenu:h,nodeClickDistance:ye,onlyRenderVisibleElements:O,noPanClassName:De,noDragClassName:Nt,disableKeyboardA11y:ar,nodeExtent:an,rfId:lr}),L.jsx("div",{className:"react-flow__viewport-portal"})]})})}$L.displayName="GraphView";const uW=I.memo($L),pP=({nodes:t,edges:e,defaultNodes:n,defaultEdges:r,width:i,height:s,fitView:o,nodeOrigin:a,nodeExtent:c}={})=>{const d=new Map,h=new Map,f=new Map,p=new Map,m=r??e??[],y=n??t??[],b=a??[0,0],E=c??Ep;ZO(f,p,m),hE(y,d,h,{nodeOrigin:b,nodeExtent:E,elevateNodesOnSelect:!1});let x=[0,0,1];if(o&&i&&s){const C=xm(d,{filter:N=>!!((N.width||N.initialWidth)&&(N.height||N.initialHeight))}),{x:S,y:_,zoom:k}=m_(C,i,s,.5,2,.1);x=[S,_,k]}return{rfId:"1",width:0,height:0,transform:x,nodes:y,nodeLookup:d,parentLookup:h,edges:m,edgeLookup:p,connectionLookup:f,onNodesChange:null,onEdgesChange:null,hasDefaultNodes:n!==void 0,hasDefaultEdges:r!==void 0,panZoom:null,minZoom:.5,maxZoom:2,translateExtent:Ep,nodeExtent:E,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionMode:gh.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:b,nodeDragThreshold:1,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesReconnectable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,elevateEdgesOnSelect:!1,fitViewOnInit:!1,fitViewDone:!1,fitViewOnInitOptions:void 0,selectNodesOnDrag:!0,multiSelectionActive:!1,connection:{...OO},connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,autoPanSpeed:15,connectionRadius:20,onError:MH,isValidConnection:void 0,onSelectionChangeHandlers:[],lib:"react",debug:!1}},dW=({nodes:t,edges:e,defaultNodes:n,defaultEdges:r,width:i,height:s,fitView:o,nodeOrigin:a,nodeExtent:c})=>P4((d,h)=>({...pP({nodes:t,edges:e,width:i,height:s,fitView:o,nodeOrigin:a,nodeExtent:c,defaultNodes:n,defaultEdges:r}),setNodes:f=>{const{nodeLookup:p,parentLookup:m,nodeOrigin:y,elevateNodesOnSelect:b}=h();hE(f,p,m,{nodeOrigin:y,nodeExtent:c,elevateNodesOnSelect:b,checkEquality:!0}),d({nodes:f})},setEdges:f=>{const{connectionLookup:p,edgeLookup:m}=h();ZO(p,m,f),d({edges:f})},setDefaultNodesAndEdges:(f,p)=>{if(f){const{setNodes:m}=h();m(f),d({hasDefaultNodes:!0})}if(p){const{setEdges:m}=h();m(p),d({hasDefaultEdges:!0})}},updateNodeInternals:(f,p={triggerFitView:!0})=>{const{triggerNodeChanges:m,nodeLookup:y,parentLookup:b,fitViewOnInit:E,fitViewDone:x,fitViewOnInitOptions:C,domNode:S,nodeOrigin:_,nodeExtent:k,debug:N,fitViewSync:T}=h(),{changes:M,updatedInternals:O}=YH(f,y,b,S,_,k);if(O){if(VH(y,b,{nodeOrigin:_,nodeExtent:k}),p.triggerFitView){let R=x;!x&&E&&(R=T({...C,nodes:C==null?void 0:C.nodes})),d({fitViewDone:R})}else d({});(M==null?void 0:M.length)>0&&(N&&console.log("React Flow: trigger node changes",M),m==null||m(M))}},updateNodePositions:(f,p=!1)=>{const m=[],y=[],{nodeLookup:b,triggerNodeChanges:E}=h();for(const[x,C]of f){const S=b.get(x),_=!!(S!=null&&S.expandParent&&(S!=null&&S.parentId)&&(C!=null&&C.position)),k={id:x,type:"position",position:_?{x:Math.max(0,C.position.x),y:Math.max(0,C.position.y)}:C.position,dragging:p};_&&S.parentId&&m.push({id:x,parentId:S.parentId,rect:{...C.internals.positionAbsolute,width:C.measured.width??0,height:C.measured.height??0}}),y.push(k)}if(m.length>0){const{parentLookup:x,nodeOrigin:C}=h(),S=w_(m,b,x,C);y.push(...S)}E(y)},triggerNodeChanges:f=>{const{onNodesChange:p,setNodes:m,nodes:y,hasDefaultNodes:b,debug:E}=h();if(f!=null&&f.length){if(b){const x=fL(f,y);m(x)}E&&console.log("React Flow: trigger node changes",f),p==null||p(f)}},triggerEdgeChanges:f=>{const{onEdgesChange:p,setEdges:m,edges:y,hasDefaultEdges:b,debug:E}=h();if(f!=null&&f.length){if(b){const x=pL(f,y);m(x)}E&&console.log("React Flow: trigger edge changes",f),p==null||p(f)}},addSelectedNodes:f=>{const{multiSelectionActive:p,edgeLookup:m,nodeLookup:y,triggerNodeChanges:b,triggerEdgeChanges:E}=h();if(p){const x=f.map(C=>Gl(C,!0));b(x);return}b(cd(y,new Set([...f]),!0)),E(cd(m))},addSelectedEdges:f=>{const{multiSelectionActive:p,edgeLookup:m,nodeLookup:y,triggerNodeChanges:b,triggerEdgeChanges:E}=h();if(p){const x=f.map(C=>Gl(C,!0));E(x);return}E(cd(m,new Set([...f]))),b(cd(y,new Set,!0))},unselectNodesAndEdges:({nodes:f,edges:p}={})=>{const{edges:m,nodes:y,nodeLookup:b,triggerNodeChanges:E,triggerEdgeChanges:x}=h(),C=f||y,S=p||m,_=C.map(N=>{const T=b.get(N.id);return T&&(T.selected=!1),Gl(N.id,!1)}),k=S.map(N=>Gl(N.id,!1));E(_),x(k)},setMinZoom:f=>{const{panZoom:p,maxZoom:m}=h();p==null||p.setScaleExtent([f,m]),d({minZoom:f})},setMaxZoom:f=>{const{panZoom:p,minZoom:m}=h();p==null||p.setScaleExtent([m,f]),d({maxZoom:f})},setTranslateExtent:f=>{var p;(p=h().panZoom)==null||p.setTranslateExtent(f),d({translateExtent:f})},setPaneClickDistance:f=>{var p;(p=h().panZoom)==null||p.setClickDistance(f)},resetSelectedElements:()=>{const{edges:f,nodes:p,triggerNodeChanges:m,triggerEdgeChanges:y}=h(),b=p.reduce((x,C)=>C.selected?[...x,Gl(C.id,!1)]:x,[]),E=f.reduce((x,C)=>C.selected?[...x,Gl(C.id,!1)]:x,[]);m(b),y(E)},setNodeExtent:f=>{const{nodes:p,nodeLookup:m,parentLookup:y,nodeOrigin:b,elevateNodesOnSelect:E,nodeExtent:x}=h();f[0][0]===x[0][0]&&f[0][1]===x[0][1]&&f[1][0]===x[1][0]&&f[1][1]===x[1][1]||(hE(p,m,y,{nodeOrigin:b,nodeExtent:f,elevateNodesOnSelect:E,checkEquality:!1}),d({nodeExtent:f}))},panBy:f=>{const{transform:p,width:m,height:y,panZoom:b,translateExtent:E}=h();return XH({delta:f,panZoom:b,transform:p,translateExtent:E,width:m,height:y})},fitView:f=>{const{panZoom:p,width:m,height:y,minZoom:b,maxZoom:E,nodeLookup:x}=h();if(!p)return Promise.resolve(!1);const C=oE(x,f);return aE({nodes:C,width:m,height:y,panZoom:p,minZoom:b,maxZoom:E},f)},fitViewSync:f=>{const{panZoom:p,width:m,height:y,minZoom:b,maxZoom:E,nodeLookup:x}=h();if(!p)return!1;const C=oE(x,f);return aE({nodes:C,width:m,height:y,panZoom:p,minZoom:b,maxZoom:E},f),C.size>0},cancelConnection:()=>{d({connection:{...OO}})},updateConnection:f=>{d({connection:f})},reset:()=>d({...pP()})}),Object.is);function zL({initialNodes:t,initialEdges:e,defaultNodes:n,defaultEdges:r,initialWidth:i,initialHeight:s,fitView:o,nodeOrigin:a,nodeExtent:c,children:d}){const[h]=I.useState(()=>dW({nodes:t,edges:e,defaultNodes:n,defaultEdges:r,width:i,height:s,fitView:o,nodeOrigin:a,nodeExtent:c}));return L.jsx(I4,{value:h,children:L.jsx(e6,{children:d})})}function hW({children:t,nodes:e,edges:n,defaultNodes:r,defaultEdges:i,width:s,height:o,fitView:a,nodeOrigin:c,nodeExtent:d}){return I.useContext(Tb)?L.jsx(L.Fragment,{children:t}):L.jsx(zL,{initialNodes:e,initialEdges:n,defaultNodes:r,defaultEdges:i,initialWidth:s,initialHeight:o,fitView:a,nodeOrigin:c,nodeExtent:d,children:t})}const fW={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0};function pW({nodes:t,edges:e,defaultNodes:n,defaultEdges:r,className:i,nodeTypes:s,edgeTypes:o,onNodeClick:a,onEdgeClick:c,onInit:d,onMove:h,onMoveStart:f,onMoveEnd:p,onConnect:m,onConnectStart:y,onConnectEnd:b,onClickConnectStart:E,onClickConnectEnd:x,onNodeMouseEnter:C,onNodeMouseMove:S,onNodeMouseLeave:_,onNodeContextMenu:k,onNodeDoubleClick:N,onNodeDragStart:T,onNodeDrag:M,onNodeDragStop:O,onNodesDelete:R,onEdgesDelete:F,onDelete:z,onSelectionChange:U,onSelectionDragStart:D,onSelectionDrag:V,onSelectionDragStop:H,onSelectionContextMenu:K,onSelectionStart:q,onSelectionEnd:G,onBeforeDelete:te,connectionMode:Y,connectionLineType:Z=Va.Bezier,connectionLineStyle:X,connectionLineComponent:Q,connectionLineContainerStyle:J,deleteKeyCode:ie="Backspace",selectionKeyCode:ne="Shift",selectionOnDrag:oe=!1,selectionMode:ue=Cp.Full,panActivationKeyCode:fe="Space",multiSelectionKeyCode:ye=R0()?"Meta":"Control",zoomActivationKeyCode:pe=R0()?"Meta":"Control",snapToGrid:Se,snapGrid:xe,onlyRenderVisibleElements:Ge=!1,selectNodesOnDrag:pt,nodesDraggable:Gt,nodesConnectable:zt,nodesFocusable:Tn,nodeOrigin:Nt=dL,edgesFocusable:wt,edgesReconnectable:De,elementsSelectable:ar=!0,defaultViewport:an=U4,minZoom:lr=.5,maxZoom:xr=2,translateExtent:Sr=Ep,preventScrolling:jr=!0,nodeExtent:Br,defaultMarkerColor:cr="#b1b1b7",zoomOnScroll:ct=!0,zoomOnPinch:ds=!0,panOnScroll:hs=!1,panOnScrollSpeed:kl=.5,panOnScrollMode:He=Jc.Free,zoomOnDoubleClick:gt=!0,panOnDrag:qt=!0,onPaneClick:di,onPaneMouseEnter:ha,onPaneMouseMove:Mh,onPaneMouseLeave:fa,onPaneScroll:pa,onPaneContextMenu:Ym,paneClickDistance:Oh=0,nodeClickDistance:Xm=0,children:Km,onReconnect:Qm,onReconnectStart:Lh,onReconnectEnd:Zm,onEdgeContextMenu:Rl,onEdgeDoubleClick:Dh,onEdgeMouseEnter:Tl,onEdgeMouseMove:fw,onEdgeMouseLeave:Pl,reconnectRadius:vu=10,onNodesChange:bu,onEdgesChange:Fh,noDragClassName:pw="nodrag",noWheelClassName:gw="nowheel",noPanClassName:Jm="nopan",fitView:fs,fitViewOptions:ey,connectOnClick:ty,attributionPosition:mw,proOptions:ny,defaultEdgeOptions:ry,elevateNodesOnSelect:iy,elevateEdgesOnSelect:sy,disableKeyboardA11y:oy=!1,autoPanOnConnect:yw,autoPanOnNodeDrag:Yt,autoPanSpeed:vw,connectionRadius:$h,isValidConnection:ay,onError:wu,style:bw,id:zh,nodeDragThreshold:xu,viewport:hi,onViewportChange:ww,width:Hr,height:xw,colorMode:Sw="light",debug:Ew,onScroll:no,...Su},Il){const ga=zh||"1",Cw=Y4(Sw),_w=I.useCallback(Eu=>{Eu.currentTarget.scrollTo({top:0,left:0,behavior:"instant"}),no==null||no(Eu)},[no]);return L.jsx("div",{"data-testid":"rf__wrapper",...Su,onScroll:_w,style:{...bw,...fW},ref:Il,className:bn(["react-flow",i,Cw]),id:zh,children:L.jsxs(hW,{nodes:t,edges:e,width:Hr,height:xw,fitView:fs,nodeOrigin:Nt,nodeExtent:Br,children:[L.jsx(uW,{onInit:d,onNodeClick:a,onEdgeClick:c,onNodeMouseEnter:C,onNodeMouseMove:S,onNodeMouseLeave:_,onNodeContextMenu:k,onNodeDoubleClick:N,nodeTypes:s,edgeTypes:o,connectionLineType:Z,connectionLineStyle:X,connectionLineComponent:Q,connectionLineContainerStyle:J,selectionKeyCode:ne,selectionOnDrag:oe,selectionMode:ue,deleteKeyCode:ie,multiSelectionKeyCode:ye,panActivationKeyCode:fe,zoomActivationKeyCode:pe,onlyRenderVisibleElements:Ge,defaultViewport:an,translateExtent:Sr,minZoom:lr,maxZoom:xr,preventScrolling:jr,zoomOnScroll:ct,zoomOnPinch:ds,zoomOnDoubleClick:gt,panOnScroll:hs,panOnScrollSpeed:kl,panOnScrollMode:He,panOnDrag:qt,onPaneClick:di,onPaneMouseEnter:ha,onPaneMouseMove:Mh,onPaneMouseLeave:fa,onPaneScroll:pa,onPaneContextMenu:Ym,paneClickDistance:Oh,nodeClickDistance:Xm,onSelectionContextMenu:K,onSelectionStart:q,onSelectionEnd:G,onReconnect:Qm,onReconnectStart:Lh,onReconnectEnd:Zm,onEdgeContextMenu:Rl,onEdgeDoubleClick:Dh,onEdgeMouseEnter:Tl,onEdgeMouseMove:fw,onEdgeMouseLeave:Pl,reconnectRadius:vu,defaultMarkerColor:cr,noDragClassName:pw,noWheelClassName:gw,noPanClassName:Jm,rfId:ga,disableKeyboardA11y:oy,nodeExtent:Br,viewport:hi,onViewportChange:ww}),L.jsx(q4,{nodes:t,edges:e,defaultNodes:n,defaultEdges:r,onConnect:m,onConnectStart:y,onConnectEnd:b,onClickConnectStart:E,onClickConnectEnd:x,nodesDraggable:Gt,nodesConnectable:zt,nodesFocusable:Tn,edgesFocusable:wt,edgesReconnectable:De,elementsSelectable:ar,elevateNodesOnSelect:iy,elevateEdgesOnSelect:sy,minZoom:lr,maxZoom:xr,nodeExtent:Br,onNodesChange:bu,onEdgesChange:Fh,snapToGrid:Se,snapGrid:xe,connectionMode:Y,translateExtent:Sr,connectOnClick:ty,defaultEdgeOptions:ry,fitView:fs,fitViewOptions:ey,onNodesDelete:R,onEdgesDelete:F,onDelete:z,onNodeDragStart:T,onNodeDrag:M,onNodeDragStop:O,onSelectionDrag:V,onSelectionDragStart:D,onSelectionDragStop:H,onMove:h,onMoveStart:f,onMoveEnd:p,noPanClassName:Jm,nodeOrigin:Nt,rfId:ga,autoPanOnConnect:yw,autoPanOnNodeDrag:Yt,autoPanSpeed:vw,onError:wu,connectionRadius:$h,isValidConnection:ay,selectNodesOnDrag:pt,nodeDragThreshold:xu,onBeforeDelete:te,paneClickDistance:Oh,debug:Ew}),L.jsx(W4,{onSelectionChange:U}),Km,L.jsx($4,{proOptions:ny,position:mw}),L.jsx(D4,{rfId:ga,disableKeyboardA11y:oy})]})})}var gW=gL(pW);const mW=t=>{var e;return(e=t.domNode)==null?void 0:e.querySelector(".react-flow__edgelabel-renderer")};function jL({children:t}){const e=ot(mW);return e?Ko.createPortal(t,e):null}function yW(t){const[e,n]=I.useState(t),r=I.useCallback(i=>n(s=>fL(i,s)),[]);return[e,n,r]}function vW(t){const[e,n]=I.useState(t),r=I.useCallback(i=>n(s=>pL(i,s)),[]);return[e,n,r]}function bW({dimensions:t,lineWidth:e,variant:n,className:r}){return L.jsx("path",{strokeWidth:e,d:`M${t[0]/2} 0 V${t[1]} M0 ${t[1]/2} H${t[0]}`,className:bn(["react-flow__background-pattern",n,r])})}function wW({radius:t,className:e}){return L.jsx("circle",{cx:t,cy:t,r:t,className:bn(["react-flow__background-pattern","dots",e])})}var ml;(function(t){t.Lines="lines",t.Dots="dots",t.Cross="cross"})(ml||(ml={}));const xW={[ml.Dots]:1,[ml.Lines]:1,[ml.Cross]:6},SW=t=>({transform:t.transform,patternId:`pattern-${t.rfId}`});function BL({id:t,variant:e=ml.Dots,gap:n=20,size:r,lineWidth:i=1,offset:s=0,color:o,bgColor:a,style:c,className:d,patternClassName:h}){const f=I.useRef(null),{transform:p,patternId:m}=ot(SW,on),y=r||xW[e],b=e===ml.Dots,E=e===ml.Cross,x=Array.isArray(n)?n:[n,n],C=[x[0]*p[2]||1,x[1]*p[2]||1],S=y*p[2],_=Array.isArray(s)?s:[s,s],k=E?[S,S]:C,N=[_[0]*p[2]||1+k[0]/2,_[1]*p[2]||1+k[1]/2],T=`${m}${t||""}`;return L.jsxs("svg",{className:bn(["react-flow__background",d]),style:{...c,...Ib,"--xy-background-color-props":a,"--xy-background-pattern-color-props":o},ref:f,"data-testid":"rf__background",children:[L.jsx("pattern",{id:T,x:p[0]%C[0],y:p[1]%C[1],width:C[0],height:C[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${N[0]},-${N[1]})`,children:b?L.jsx(wW,{radius:S/2,className:h}):L.jsx(bW,{dimensions:k,lineWidth:i,variant:e,className:h})}),L.jsx("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${T})`})]})}BL.displayName="Background";const EW=I.memo(BL);function CW(){return L.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",children:L.jsx("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"})})}function _W(){return L.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5",children:L.jsx("path",{d:"M0 0h32v4.2H0z"})})}function AW(){return L.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30",children:L.jsx("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"})})}function kW(){return L.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:L.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"})})}function RW(){return L.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:L.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"})})}function vv({children:t,className:e,...n}){return L.jsx("button",{type:"button",className:bn(["react-flow__controls-button",e]),...n,children:t})}const TW=t=>({isInteractive:t.nodesDraggable||t.nodesConnectable||t.elementsSelectable,minZoomReached:t.transform[2]<=t.minZoom,maxZoomReached:t.transform[2]>=t.maxZoom});function HL({style:t,showZoom:e=!0,showFitView:n=!0,showInteractive:r=!0,fitViewOptions:i,onZoomIn:s,onZoomOut:o,onFitView:a,onInteractiveChange:c,className:d,children:h,position:f="bottom-left",orientation:p="vertical","aria-label":m="React Flow controls"}){const y=Vt(),{isInteractive:b,minZoomReached:E,maxZoomReached:x}=ot(TW,on),{zoomIn:C,zoomOut:S,fitView:_}=Pb(),k=()=>{C(),s==null||s()},N=()=>{S(),o==null||o()},T=()=>{_(i),a==null||a()},M=()=>{y.setState({nodesDraggable:!b,nodesConnectable:!b,elementsSelectable:!b}),c==null||c(!b)},O=p==="horizontal"?"horizontal":"vertical";return L.jsxs(Em,{className:bn(["react-flow__controls",O,d]),position:f,style:t,"data-testid":"rf__controls","aria-label":m,children:[e&&L.jsxs(L.Fragment,{children:[L.jsx(vv,{onClick:k,className:"react-flow__controls-zoomin",title:"zoom in","aria-label":"zoom in",disabled:x,children:L.jsx(CW,{})}),L.jsx(vv,{onClick:N,className:"react-flow__controls-zoomout",title:"zoom out","aria-label":"zoom out",disabled:E,children:L.jsx(_W,{})})]}),n&&L.jsx(vv,{className:"react-flow__controls-fitview",onClick:T,title:"fit view","aria-label":"fit view",children:L.jsx(AW,{})}),r&&L.jsx(vv,{className:"react-flow__controls-interactive",onClick:M,title:"toggle interactivity","aria-label":"toggle interactivity",children:b?L.jsx(RW,{}):L.jsx(kW,{})}),h]})}HL.displayName="Controls";const PW=I.memo(HL);function IW({id:t,x:e,y:n,width:r,height:i,style:s,color:o,strokeColor:a,strokeWidth:c,className:d,borderRadius:h,shapeRendering:f,selected:p,onClick:m}){const{background:y,backgroundColor:b}=s||{},E=o||y||b;return L.jsx("rect",{className:bn(["react-flow__minimap-node",{selected:p},d]),x:e,y:n,rx:h,ry:h,width:r,height:i,style:{fill:E,stroke:a,strokeWidth:c},shapeRendering:f,onClick:m?x=>m(x,t):void 0})}const NW=I.memo(IW),MW=t=>t.nodes.map(e=>e.id),SS=t=>t instanceof Function?t:()=>t;function OW({nodeStrokeColor:t,nodeColor:e,nodeClassName:n="",nodeBorderRadius:r=5,nodeStrokeWidth:i,nodeComponent:s=NW,onClick:o}){const a=ot(MW,on),c=SS(e),d=SS(t),h=SS(n),f=typeof window>"u"||window.chrome?"crispEdges":"geometricPrecision";return L.jsx(L.Fragment,{children:a.map(p=>L.jsx(DW,{id:p,nodeColorFunc:c,nodeStrokeColorFunc:d,nodeClassNameFunc:h,nodeBorderRadius:r,nodeStrokeWidth:i,NodeComponent:s,onClick:o,shapeRendering:f},p))})}function LW({id:t,nodeColorFunc:e,nodeStrokeColorFunc:n,nodeClassNameFunc:r,nodeBorderRadius:i,nodeStrokeWidth:s,shapeRendering:o,NodeComponent:a,onClick:c}){const{node:d,x:h,y:f,width:p,height:m}=ot(y=>{const b=y.nodeLookup.get(t),{x:E,y:x}=b.internals.positionAbsolute,{width:C,height:S}=ca(b);return{node:b,x:E,y:x,width:C,height:S}},on);return!d||d.hidden||!WO(d)?null:L.jsx(a,{x:h,y:f,width:p,height:m,style:d.style,selected:!!d.selected,className:r(d),color:e(d),borderRadius:i,strokeColor:n(d),strokeWidth:s,shapeRendering:o,onClick:c,id:d.id})}const DW=I.memo(LW);var FW=I.memo(OW);const $W=200,zW=150,jW=t=>{const e={x:-t.transform[0]/t.transform[2],y:-t.transform[1]/t.transform[2],width:t.width/t.transform[2],height:t.height/t.transform[2]};return{viewBB:e,boundingRect:t.nodeLookup.size>0?BO(xm(t.nodeLookup),e):e,rfId:t.rfId,panZoom:t.panZoom,translateExtent:t.translateExtent,flowWidth:t.width,flowHeight:t.height}},BW="react-flow__minimap-desc";function WL({style:t,className:e,nodeStrokeColor:n,nodeColor:r,nodeClassName:i="",nodeBorderRadius:s=5,nodeStrokeWidth:o,nodeComponent:a,bgColor:c,maskColor:d,maskStrokeColor:h,maskStrokeWidth:f,position:p="bottom-right",onClick:m,onNodeClick:y,pannable:b=!1,zoomable:E=!1,ariaLabel:x="React Flow mini map",inversePan:C,zoomStep:S=10,offsetScale:_=5}){const k=Vt(),N=I.useRef(null),{boundingRect:T,viewBB:M,rfId:O,panZoom:R,translateExtent:F,flowWidth:z,flowHeight:U}=ot(jW,on),D=(t==null?void 0:t.width)??$W,V=(t==null?void 0:t.height)??zW,H=T.width/D,K=T.height/V,q=Math.max(H,K),G=q*D,te=q*V,Y=_*q,Z=T.x-(G-T.width)/2-Y,X=T.y-(te-T.height)/2-Y,Q=G+Y*2,J=te+Y*2,ie=`${BW}-${O}`,ne=I.useRef(0),oe=I.useRef();ne.current=q,I.useEffect(()=>{if(N.current&&R)return oe.current=r4({domNode:N.current,panZoom:R,getTransform:()=>k.getState().transform,getViewScale:()=>ne.current}),()=>{var ye;(ye=oe.current)==null||ye.destroy()}},[R]),I.useEffect(()=>{var ye;(ye=oe.current)==null||ye.update({translateExtent:F,width:z,height:U,inversePan:C,pannable:b,zoomStep:S,zoomable:E})},[b,E,C,S,F,z,U]);const ue=m?ye=>{var xe;const[pe,Se]=((xe=oe.current)==null?void 0:xe.pointer(ye))||[0,0];m(ye,{x:pe,y:Se})}:void 0,fe=y?I.useCallback((ye,pe)=>{const Se=k.getState().nodeLookup.get(pe);y(ye,Se)},[]):void 0;return L.jsx(Em,{position:p,style:{...t,"--xy-minimap-background-color-props":typeof c=="string"?c:void 0,"--xy-minimap-mask-background-color-props":typeof d=="string"?d:void 0,"--xy-minimap-mask-stroke-color-props":typeof h=="string"?h:void 0,"--xy-minimap-mask-stroke-width-props":typeof f=="number"?f*q:void 0,"--xy-minimap-node-background-color-props":typeof r=="string"?r:void 0,"--xy-minimap-node-stroke-color-props":typeof n=="string"?n:void 0,"--xy-minimap-node-stroke-width-props":typeof o=="string"?o:void 0},className:bn(["react-flow__minimap",e]),"data-testid":"rf__minimap",children:L.jsxs("svg",{width:D,height:V,viewBox:`${Z} ${X} ${Q} ${J}`,className:"react-flow__minimap-svg",role:"img","aria-labelledby":ie,ref:N,onClick:ue,children:[x&&L.jsx("title",{id:ie,children:x}),L.jsx(FW,{onClick:fe,nodeColor:r,nodeStrokeColor:n,nodeBorderRadius:s,nodeClassName:i,nodeStrokeWidth:o,nodeComponent:a}),L.jsx("path",{className:"react-flow__minimap-mask",d:`M${Z-Y},${X-Y}h${Q+Y*2}v${J+Y*2}h${-Q-Y*2}z
        M${M.x},${M.y}h${M.width}v${M.height}h${-M.width}z`,fillRule:"evenodd",pointerEvents:"none"})]})})}WL.displayName="MiniMap";const HW=I.memo(WL);function WW({nodeId:t,position:e,variant:n=cp.Handle,className:r,style:i={},children:s,color:o,minWidth:a=10,minHeight:c=10,maxWidth:d=Number.MAX_VALUE,maxHeight:h=Number.MAX_VALUE,keepAspectRatio:f=!1,shouldResize:p,onResizeStart:m,onResize:y,onResizeEnd:b}){const E=bL(),x=typeof t=="string"?t:E,C=Vt(),S=I.useRef(null),_=n===cp.Line?"right":"bottom-right",k=e??_,N=I.useRef(null);I.useEffect(()=>{if(!(!S.current||!x))return N.current||(N.current=v4({domNode:S.current,nodeId:x,getStoreItems:()=>{const{nodeLookup:R,transform:F,snapGrid:z,snapToGrid:U,nodeOrigin:D,domNode:V}=C.getState();return{nodeLookup:R,transform:F,snapGrid:z,snapToGrid:U,nodeOrigin:D,paneDomNode:V}},onChange:(R,F)=>{const{triggerNodeChanges:z,nodeLookup:U,parentLookup:D,nodeOrigin:V}=C.getState(),H=[],K={x:R.x,y:R.y},q=U.get(x);if(q&&q.expandParent&&q.parentId){const G=q.origin??V,te=R.width??q.measured.width??0,Y=R.height??q.measured.height??0,Z={id:q.id,parentId:q.parentId,rect:{width:te,height:Y,...UO({x:R.x??q.position.x,y:R.y??q.position.y},{width:te,height:Y},q.parentId,U,G)}},X=w_([Z],U,D,V);H.push(...X),K.x=R.x?Math.max(G[0]*te,R.x):void 0,K.y=R.y?Math.max(G[1]*Y,R.y):void 0}if(K.x!==void 0&&K.y!==void 0){const G={id:x,type:"position",position:{...K}};H.push(G)}if(R.width!==void 0&&R.height!==void 0){const G={id:x,type:"dimensions",resizing:!0,setAttributes:!0,dimensions:{width:R.width,height:R.height}};H.push(G)}for(const G of F){const te={...G,type:"position"};H.push(te)}z(H)},onEnd:()=>{const R={id:x,type:"dimensions",resizing:!1};C.getState().triggerNodeChanges([R])}})),N.current.update({controlPosition:k,boundaries:{minWidth:a,minHeight:c,maxWidth:d,maxHeight:h},keepAspectRatio:f,onResizeStart:m,onResize:y,onResizeEnd:b,shouldResize:p}),()=>{var R;(R=N.current)==null||R.destroy()}},[k,a,c,d,h,f,m,y,b,p]);const T=k.split("-"),M=n===cp.Line?"borderColor":"backgroundColor",O=o?{...i,[M]:o}:i;return L.jsx("div",{className:bn(["react-flow__resize-control","nodrag",...T,n,r]),ref:S,style:O,children:s})}I.memo(WW);const UW=[{target:".upload-pdf",content:"Get started by uploading your first PDF!",placement:"bottom",data:{pause:!0}},{target:".add-new-read-btn",content:"Get started with setting up your first read here! Different reads should be mapped to different intentions.",placement:"bottom",data:{pause:!0}},{target:".active-read",content:"You can see what read you are currently on. Any highlight will be associated with the selected read. Use this to also toggle between your reads.",placement:"left-end"},{target:".pdf-container",content:"Get started by highlighting your first highlight! You can also hold option and take a screenshot as a highlight",placement:"right"},{target:".pdf-container",content:"Each highlight you make will create a node corresponding to that node and the current read you are on. With this node, you are able to link them to other nodes, generate summaries & definitions, as well as take your own notes.",placement:"right"}],Cm=I.createContext(null),VW=({children:t})=>{const[e,n]=I.useState(!0),[r,i]=I.useState(UW),[s,o]=I.useState(0);return L.jsx(Cm.Provider,{value:{runTour:e,setRunTour:n,steps:r,setSteps:i,stepIndex:s,setStepIndex:o},children:t})},ua=I.createContext(null),GW=({children:t})=>{const e=I.useContext(Cm);if(!e)throw new Error("TourContext not found");const{setRunTour:n}=e,[r,i]=I.useState(null),[s,o]=I.useState([]),[a,c]=I.useState(0),[d,h]=I.useState({}),[f,p]=I.useState(!1),[m,y]=I.useState("0"),[b,E]=I.useState(null),[x,C]=I.useState([]),[S,_,k]=yW([]),[N,T,M]=vW([]),[O,R]=I.useState(!1),F=150,z=150,U=I.useCallback(Z=>{console.log("Connect",Z);const X={...Z,type:"relation",markerEnd:{type:mh.Arrow}};T(Q=>XO(X,Q))},[]);I.useEffect(()=>{c(s.filter(Z=>Z.id.startsWith(m.toString())).length)},[m]);const D=Z=>{var X;if(Z.type==="text"){const Q=((X=Z.content.text)==null?void 0:X.trim())??"",J=Q.split(/\s+/),ie=J.length>10?J.slice(0,10).join(" ")+"...":Q;return{type:Z.type,label:ie,content:Z.content.text}}else if(Z.type==="area")return{type:Z.type,label:"Image",content:Z.content.image}},V=Z=>{var J;console.log("Add highlight",Z,s);const X=`${m}-${a}`;c(ie=>ie+1),o(ie=>[...ie,{...Z,id:X,readRecordId:m}]);const Q=a===0;if(_(ie=>[...ie,{id:X,type:"highlight",data:{id:X,readRecordId:m,...D(Z),summary:"",references:[],notes:""},position:{x:Q?Object.keys(d).findIndex(ne=>ne===m)*F:S[S.length-1].position.x,y:Q?z:S[S.length-1].position.y+z}}]),console.log("Nodes",S),!Q){const ie=(J=s[s.length-1])==null?void 0:J.id;T(ne=>[...ne,{id:X,source:ie,target:X,type:"temporal",markerEnd:{type:mh.Arrow}}])}E(X)},H=(Z,X)=>{let Q=[...S];Q=Q.map(J=>J.id===Z?{...J,data:{...J.data,...X}}:J),console.log("Updated nodes",Q),_(Q)},K=Z=>{console.log("Delete highlight",Z),o(s.filter(X=>X.id!==Z)),_(S.filter(X=>X.id!==Z)),T(N.filter(X=>X.id!==Z&&X.source!==Z&&X.target!==Z)),E(null)},q=()=>{console.log("Reset highlights"),o([]),_([]),T([]),E(null),c(0)},G=(Z,X)=>{const Q=Object.keys(d).length.toString();h(J=>({...J,[Q]:{id:Q,title:Z,color:X}})),y(Q),Y(Q),Q==="0"&&Object.keys(d).length===0&&n(!0)},te=Z=>{C(X=>X.filter(Q=>Q!==Z))},Y=Z=>{C(X=>[...X,Z])};return L.jsx(ua.Provider,{value:{paperUrl:r,setPaperUrl:i,highlights:s,addHighlight:V,updateNodeData:H,deleteHighlight:K,resetHighlights:q,nodes:S,setNodes:_,onNodesChange:k,edges:N,setEdges:T,onEdgesChange:M,onConnect:U,onSelectNode:O,setOnSelectNode:R,readRecords:d,isAddingNewRead:f,setIsAddingNewRead:p,currentReadId:m,setCurrentReadId:y,selectedHighlightId:b,setSelectedHighlightId:E,createRead:G,displayedReads:x,hideRead:te,showRead:Y},children:t})},Rp={black:"#000",white:"#fff"},Gu={300:"#e57373",400:"#ef5350",500:"#f44336",700:"#d32f2f",800:"#c62828"},qu={50:"#f3e5f5",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",700:"#7b1fa2"},Yu={50:"#e3f2fd",200:"#90caf9",400:"#42a5f5",700:"#1976d2",800:"#1565c0"},Xu={300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",700:"#0288d1",900:"#01579b"},Ku={300:"#81c784",400:"#66bb6a",500:"#4caf50",700:"#388e3c",800:"#2e7d32",900:"#1b5e20"},Sf={300:"#ffb74d",400:"#ffa726",500:"#ff9800",700:"#f57c00",900:"#e65100"},qW={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"};function ra(t,...e){const n=new URL(`https://mui.com/production-error/?code=${t}`);return e.forEach(r=>n.searchParams.append("args[]",r)),`Minified MUI error #${t}; visit ${n} for the full message.`}const Nb="$$material";function P0(){return P0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},P0.apply(null,arguments)}function YW(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function XW(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var KW=function(){function t(n){var r=this;this._insertTag=function(i){var s;r.tags.length===0?r.insertionPoint?s=r.insertionPoint.nextSibling:r.prepend?s=r.container.firstChild:s=r.before:s=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,s),r.tags.push(i)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(XW(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var s=YW(i);try{s.insertRule(r,s.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){var i;return(i=r.parentNode)==null?void 0:i.removeChild(r)}),this.tags=[],this.ctr=0},t}(),Kn="-ms-",I0="-moz-",mt="-webkit-",UL="comm",S_="rule",E_="decl",QW="@import",VL="@keyframes",ZW="@layer",JW=Math.abs,Mb=String.fromCharCode,eU=Object.assign;function tU(t,e){return Un(t,0)^45?(((e<<2^Un(t,0))<<2^Un(t,1))<<2^Un(t,2))<<2^Un(t,3):0}function GL(t){return t.trim()}function nU(t,e){return(t=e.exec(t))?t[0]:t}function vt(t,e,n){return t.replace(e,n)}function gE(t,e){return t.indexOf(e)}function Un(t,e){return t.charCodeAt(e)|0}function Tp(t,e,n){return t.slice(e,n)}function zs(t){return t.length}function C_(t){return t.length}function bv(t,e){return e.push(t),t}function rU(t,e){return t.map(e).join("")}var Ob=1,wh=1,qL=0,$r=0,mn=0,Rh="";function Lb(t,e,n,r,i,s,o){return{value:t,root:e,parent:n,type:r,props:i,children:s,line:Ob,column:wh,length:o,return:""}}function Ef(t,e){return eU(Lb("",null,null,"",null,null,0),t,{length:-t.length},e)}function iU(){return mn}function sU(){return mn=$r>0?Un(Rh,--$r):0,wh--,mn===10&&(wh=1,Ob--),mn}function li(){return mn=$r<qL?Un(Rh,$r++):0,wh++,mn===10&&(wh=1,Ob++),mn}function Ys(){return Un(Rh,$r)}function jv(){return $r}function _m(t,e){return Tp(Rh,t,e)}function Pp(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function YL(t){return Ob=wh=1,qL=zs(Rh=t),$r=0,[]}function XL(t){return Rh="",t}function Bv(t){return GL(_m($r-1,mE(t===91?t+2:t===40?t+1:t)))}function oU(t){for(;(mn=Ys())&&mn<33;)li();return Pp(t)>2||Pp(mn)>3?"":" "}function aU(t,e){for(;--e&&li()&&!(mn<48||mn>102||mn>57&&mn<65||mn>70&&mn<97););return _m(t,jv()+(e<6&&Ys()==32&&li()==32))}function mE(t){for(;li();)switch(mn){case t:return $r;case 34:case 39:t!==34&&t!==39&&mE(mn);break;case 40:t===41&&mE(t);break;case 92:li();break}return $r}function lU(t,e){for(;li()&&t+mn!==57;)if(t+mn===84&&Ys()===47)break;return"/*"+_m(e,$r-1)+"*"+Mb(t===47?t:li())}function cU(t){for(;!Pp(Ys());)li();return _m(t,$r)}function uU(t){return XL(Hv("",null,null,null,[""],t=YL(t),0,[0],t))}function Hv(t,e,n,r,i,s,o,a,c){for(var d=0,h=0,f=o,p=0,m=0,y=0,b=1,E=1,x=1,C=0,S="",_=i,k=s,N=r,T=S;E;)switch(y=C,C=li()){case 40:if(y!=108&&Un(T,f-1)==58){gE(T+=vt(Bv(C),"&","&\f"),"&\f")!=-1&&(x=-1);break}case 34:case 39:case 91:T+=Bv(C);break;case 9:case 10:case 13:case 32:T+=oU(y);break;case 92:T+=aU(jv()-1,7);continue;case 47:switch(Ys()){case 42:case 47:bv(dU(lU(li(),jv()),e,n),c);break;default:T+="/"}break;case 123*b:a[d++]=zs(T)*x;case 125*b:case 59:case 0:switch(C){case 0:case 125:E=0;case 59+h:x==-1&&(T=vt(T,/\f/g,"")),m>0&&zs(T)-f&&bv(m>32?mP(T+";",r,n,f-1):mP(vt(T," ","")+";",r,n,f-2),c);break;case 59:T+=";";default:if(bv(N=gP(T,e,n,d,h,i,a,S,_=[],k=[],f),s),C===123)if(h===0)Hv(T,e,N,N,_,s,f,a,k);else switch(p===99&&Un(T,3)===110?100:p){case 100:case 108:case 109:case 115:Hv(t,N,N,r&&bv(gP(t,N,N,0,0,i,a,S,i,_=[],f),k),i,k,f,a,r?_:k);break;default:Hv(T,N,N,N,[""],k,0,a,k)}}d=h=m=0,b=x=1,S=T="",f=o;break;case 58:f=1+zs(T),m=y;default:if(b<1){if(C==123)--b;else if(C==125&&b++==0&&sU()==125)continue}switch(T+=Mb(C),C*b){case 38:x=h>0?1:(T+="\f",-1);break;case 44:a[d++]=(zs(T)-1)*x,x=1;break;case 64:Ys()===45&&(T+=Bv(li())),p=Ys(),h=f=zs(S=T+=cU(jv())),C++;break;case 45:y===45&&zs(T)==2&&(b=0)}}return s}function gP(t,e,n,r,i,s,o,a,c,d,h){for(var f=i-1,p=i===0?s:[""],m=C_(p),y=0,b=0,E=0;y<r;++y)for(var x=0,C=Tp(t,f+1,f=JW(b=o[y])),S=t;x<m;++x)(S=GL(b>0?p[x]+" "+C:vt(C,/&\f/g,p[x])))&&(c[E++]=S);return Lb(t,e,n,i===0?S_:a,c,d,h)}function dU(t,e,n){return Lb(t,e,n,UL,Mb(iU()),Tp(t,2,-2),0)}function mP(t,e,n,r){return Lb(t,e,n,E_,Tp(t,0,r),Tp(t,r+1,-1),r)}function fd(t,e){for(var n="",r=C_(t),i=0;i<r;i++)n+=e(t[i],i,t,e)||"";return n}function hU(t,e,n,r){switch(t.type){case ZW:if(t.children.length)break;case QW:case E_:return t.return=t.return||t.value;case UL:return"";case VL:return t.return=t.value+"{"+fd(t.children,r)+"}";case S_:t.value=t.props.join(",")}return zs(n=fd(t.children,r))?t.return=t.value+"{"+n+"}":""}function fU(t){var e=C_(t);return function(n,r,i,s){for(var o="",a=0;a<e;a++)o+=t[a](n,r,i,s)||"";return o}}function pU(t){return function(e){e.root||(e=e.return)&&t(e)}}function KL(t){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var gU=function(e,n,r){for(var i=0,s=0;i=s,s=Ys(),i===38&&s===12&&(n[r]=1),!Pp(s);)li();return _m(e,$r)},mU=function(e,n){var r=-1,i=44;do switch(Pp(i)){case 0:i===38&&Ys()===12&&(n[r]=1),e[r]+=gU($r-1,n,r);break;case 2:e[r]+=Bv(i);break;case 4:if(i===44){e[++r]=Ys()===58?"&\f":"",n[r]=e[r].length;break}default:e[r]+=Mb(i)}while(i=li());return e},yU=function(e,n){return XL(mU(YL(e),n))},yP=new WeakMap,vU=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var n=e.value,r=e.parent,i=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&n.charCodeAt(0)!==58&&!yP.get(r))&&!i){yP.set(e,!0);for(var s=[],o=yU(n,s),a=r.props,c=0,d=0;c<o.length;c++)for(var h=0;h<a.length;h++,d++)e.props[d]=s[c]?o[c].replace(/&\f/g,a[h]):a[h]+" "+o[c]}}},bU=function(e){if(e.type==="decl"){var n=e.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(e.return="",e.value="")}};function QL(t,e){switch(tU(t,e)){case 5103:return mt+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return mt+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return mt+t+I0+t+Kn+t+t;case 6828:case 4268:return mt+t+Kn+t+t;case 6165:return mt+t+Kn+"flex-"+t+t;case 5187:return mt+t+vt(t,/(\w+).+(:[^]+)/,mt+"box-$1$2"+Kn+"flex-$1$2")+t;case 5443:return mt+t+Kn+"flex-item-"+vt(t,/flex-|-self/,"")+t;case 4675:return mt+t+Kn+"flex-line-pack"+vt(t,/align-content|flex-|-self/,"")+t;case 5548:return mt+t+Kn+vt(t,"shrink","negative")+t;case 5292:return mt+t+Kn+vt(t,"basis","preferred-size")+t;case 6060:return mt+"box-"+vt(t,"-grow","")+mt+t+Kn+vt(t,"grow","positive")+t;case 4554:return mt+vt(t,/([^-])(transform)/g,"$1"+mt+"$2")+t;case 6187:return vt(vt(vt(t,/(zoom-|grab)/,mt+"$1"),/(image-set)/,mt+"$1"),t,"")+t;case 5495:case 3959:return vt(t,/(image-set\([^]*)/,mt+"$1$`$1");case 4968:return vt(vt(t,/(.+:)(flex-)?(.*)/,mt+"box-pack:$3"+Kn+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+mt+t+t;case 4095:case 3583:case 4068:case 2532:return vt(t,/(.+)-inline(.+)/,mt+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(zs(t)-1-e>6)switch(Un(t,e+1)){case 109:if(Un(t,e+4)!==45)break;case 102:return vt(t,/(.+:)(.+)-([^]+)/,"$1"+mt+"$2-$3$1"+I0+(Un(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~gE(t,"stretch")?QL(vt(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(Un(t,e+1)!==115)break;case 6444:switch(Un(t,zs(t)-3-(~gE(t,"!important")&&10))){case 107:return vt(t,":",":"+mt)+t;case 101:return vt(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+mt+(Un(t,14)===45?"inline-":"")+"box$3$1"+mt+"$2$3$1"+Kn+"$2box$3")+t}break;case 5936:switch(Un(t,e+11)){case 114:return mt+t+Kn+vt(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return mt+t+Kn+vt(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return mt+t+Kn+vt(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return mt+t+Kn+t+t}return t}var wU=function(e,n,r,i){if(e.length>-1&&!e.return)switch(e.type){case E_:e.return=QL(e.value,e.length);break;case VL:return fd([Ef(e,{value:vt(e.value,"@","@"+mt)})],i);case S_:if(e.length)return rU(e.props,function(s){switch(nU(s,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return fd([Ef(e,{props:[vt(s,/:(read-\w+)/,":"+I0+"$1")]})],i);case"::placeholder":return fd([Ef(e,{props:[vt(s,/:(plac\w+)/,":"+mt+"input-$1")]}),Ef(e,{props:[vt(s,/:(plac\w+)/,":"+I0+"$1")]}),Ef(e,{props:[vt(s,/:(plac\w+)/,Kn+"input-$1")]})],i)}return""})}},xU=[wU],SU=function(e){var n=e.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(b){var E=b.getAttribute("data-emotion");E.indexOf(" ")!==-1&&(document.head.appendChild(b),b.setAttribute("data-s",""))})}var i=e.stylisPlugins||xU,s={},o,a=[];o=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(b){for(var E=b.getAttribute("data-emotion").split(" "),x=1;x<E.length;x++)s[E[x]]=!0;a.push(b)});var c,d=[vU,bU];{var h,f=[hU,pU(function(b){h.insert(b)})],p=fU(d.concat(i,f)),m=function(E){return fd(uU(E),p)};c=function(E,x,C,S){h=C,m(E?E+"{"+x.styles+"}":x.styles),S&&(y.inserted[x.name]=!0)}}var y={key:n,sheet:new KW({key:n,container:o,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:s,registered:{},insert:c};return y.sheet.hydrate(a),y},ES={exports:{}},xt={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vP;function EU(){if(vP)return xt;vP=1;var t=typeof Symbol=="function"&&Symbol.for,e=t?Symbol.for("react.element"):60103,n=t?Symbol.for("react.portal"):60106,r=t?Symbol.for("react.fragment"):60107,i=t?Symbol.for("react.strict_mode"):60108,s=t?Symbol.for("react.profiler"):60114,o=t?Symbol.for("react.provider"):60109,a=t?Symbol.for("react.context"):60110,c=t?Symbol.for("react.async_mode"):60111,d=t?Symbol.for("react.concurrent_mode"):60111,h=t?Symbol.for("react.forward_ref"):60112,f=t?Symbol.for("react.suspense"):60113,p=t?Symbol.for("react.suspense_list"):60120,m=t?Symbol.for("react.memo"):60115,y=t?Symbol.for("react.lazy"):60116,b=t?Symbol.for("react.block"):60121,E=t?Symbol.for("react.fundamental"):60117,x=t?Symbol.for("react.responder"):60118,C=t?Symbol.for("react.scope"):60119;function S(k){if(typeof k=="object"&&k!==null){var N=k.$$typeof;switch(N){case e:switch(k=k.type,k){case c:case d:case r:case s:case i:case f:return k;default:switch(k=k&&k.$$typeof,k){case a:case h:case y:case m:case o:return k;default:return N}}case n:return N}}}function _(k){return S(k)===d}return xt.AsyncMode=c,xt.ConcurrentMode=d,xt.ContextConsumer=a,xt.ContextProvider=o,xt.Element=e,xt.ForwardRef=h,xt.Fragment=r,xt.Lazy=y,xt.Memo=m,xt.Portal=n,xt.Profiler=s,xt.StrictMode=i,xt.Suspense=f,xt.isAsyncMode=function(k){return _(k)||S(k)===c},xt.isConcurrentMode=_,xt.isContextConsumer=function(k){return S(k)===a},xt.isContextProvider=function(k){return S(k)===o},xt.isElement=function(k){return typeof k=="object"&&k!==null&&k.$$typeof===e},xt.isForwardRef=function(k){return S(k)===h},xt.isFragment=function(k){return S(k)===r},xt.isLazy=function(k){return S(k)===y},xt.isMemo=function(k){return S(k)===m},xt.isPortal=function(k){return S(k)===n},xt.isProfiler=function(k){return S(k)===s},xt.isStrictMode=function(k){return S(k)===i},xt.isSuspense=function(k){return S(k)===f},xt.isValidElementType=function(k){return typeof k=="string"||typeof k=="function"||k===r||k===d||k===s||k===i||k===f||k===p||typeof k=="object"&&k!==null&&(k.$$typeof===y||k.$$typeof===m||k.$$typeof===o||k.$$typeof===a||k.$$typeof===h||k.$$typeof===E||k.$$typeof===x||k.$$typeof===C||k.$$typeof===b)},xt.typeOf=S,xt}var bP;function CU(){return bP||(bP=1,ES.exports=EU()),ES.exports}var CS,wP;function _U(){if(wP)return CS;wP=1;var t=CU(),e={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},n={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},r={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},i={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};s[t.ForwardRef]=r,s[t.Memo]=i;function o(y){return t.isMemo(y)?i:s[y.$$typeof]||e}var a=Object.defineProperty,c=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,f=Object.getPrototypeOf,p=Object.prototype;function m(y,b,E){if(typeof b!="string"){if(p){var x=f(b);x&&x!==p&&m(y,x,E)}var C=c(b);d&&(C=C.concat(d(b)));for(var S=o(y),_=o(b),k=0;k<C.length;++k){var N=C[k];if(!n[N]&&!(E&&E[N])&&!(_&&_[N])&&!(S&&S[N])){var T=h(b,N);try{a(y,N,T)}catch{}}}}return y}return CS=m,CS}_U();var AU=!0;function ZL(t,e,n){var r="";return n.split(" ").forEach(function(i){t[i]!==void 0?e.push(t[i]+";"):i&&(r+=i+" ")}),r}var __=function(e,n,r){var i=e.key+"-"+n.name;(r===!1||AU===!1)&&e.registered[i]===void 0&&(e.registered[i]=n.styles)},A_=function(e,n,r){__(e,n,r);var i=e.key+"-"+n.name;if(e.inserted[n.name]===void 0){var s=n;do e.insert(n===s?"."+i:"",s,e.sheet,!0),s=s.next;while(s!==void 0)}};function kU(t){for(var e=0,n,r=0,i=t.length;i>=4;++r,i-=4)n=t.charCodeAt(r)&255|(t.charCodeAt(++r)&255)<<8|(t.charCodeAt(++r)&255)<<16|(t.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(t.charCodeAt(r+2)&255)<<16;case 2:e^=(t.charCodeAt(r+1)&255)<<8;case 1:e^=t.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var RU={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},TU=/[A-Z]|^ms/g,PU=/_EMO_([^_]+?)_([^]*?)_EMO_/g,JL=function(e){return e.charCodeAt(1)===45},xP=function(e){return e!=null&&typeof e!="boolean"},_S=KL(function(t){return JL(t)?t:t.replace(TU,"-$&").toLowerCase()}),SP=function(e,n){switch(e){case"animation":case"animationName":if(typeof n=="string")return n.replace(PU,function(r,i,s){return js={name:i,styles:s,next:js},i})}return RU[e]!==1&&!JL(e)&&typeof n=="number"&&n!==0?n+"px":n};function Ip(t,e,n){if(n==null)return"";var r=n;if(r.__emotion_styles!==void 0)return r;switch(typeof n){case"boolean":return"";case"object":{var i=n;if(i.anim===1)return js={name:i.name,styles:i.styles,next:js},i.name;var s=n;if(s.styles!==void 0){var o=s.next;if(o!==void 0)for(;o!==void 0;)js={name:o.name,styles:o.styles,next:js},o=o.next;var a=s.styles+";";return a}return IU(t,e,n)}case"function":{if(t!==void 0){var c=js,d=n(t);return js=c,Ip(t,e,d)}break}}var h=n;if(e==null)return h;var f=e[h];return f!==void 0?f:h}function IU(t,e,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=Ip(t,e,n[i])+";";else for(var s in n){var o=n[s];if(typeof o!="object"){var a=o;e!=null&&e[a]!==void 0?r+=s+"{"+e[a]+"}":xP(a)&&(r+=_S(s)+":"+SP(s,a)+";")}else if(Array.isArray(o)&&typeof o[0]=="string"&&(e==null||e[o[0]]===void 0))for(var c=0;c<o.length;c++)xP(o[c])&&(r+=_S(s)+":"+SP(s,o[c])+";");else{var d=Ip(t,e,o);switch(s){case"animation":case"animationName":{r+=_S(s)+":"+d+";";break}default:r+=s+"{"+d+"}"}}}return r}var EP=/label:\s*([^\s;{]+)\s*(;|$)/g,js;function Am(t,e,n){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var r=!0,i="";js=void 0;var s=t[0];if(s==null||s.raw===void 0)r=!1,i+=Ip(n,e,s);else{var o=s;i+=o[0]}for(var a=1;a<t.length;a++)if(i+=Ip(n,e,t[a]),r){var c=s;i+=c[a]}EP.lastIndex=0;for(var d="",h;(h=EP.exec(i))!==null;)d+="-"+h[1];var f=kU(i)+d;return{name:f,styles:i,next:js}}var NU=function(e){return e()},e2=Q1.useInsertionEffect?Q1.useInsertionEffect:!1,t2=e2||NU,CP=e2||I.useLayoutEffect,n2=I.createContext(typeof HTMLElement<"u"?SU({key:"css"}):null);n2.Provider;var k_=function(e){return I.forwardRef(function(n,r){var i=I.useContext(n2);return e(n,i,r)})},Db=I.createContext({}),R_={}.hasOwnProperty,yE="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",MU=function(e,n){var r={};for(var i in n)R_.call(n,i)&&(r[i]=n[i]);return r[yE]=e,r},OU=function(e){var n=e.cache,r=e.serialized,i=e.isStringTag;return __(n,r,i),t2(function(){return A_(n,r,i)}),null},LU=k_(function(t,e,n){var r=t.css;typeof r=="string"&&e.registered[r]!==void 0&&(r=e.registered[r]);var i=t[yE],s=[r],o="";typeof t.className=="string"?o=ZL(e.registered,s,t.className):t.className!=null&&(o=t.className+" ");var a=Am(s,void 0,I.useContext(Db));o+=e.key+"-"+a.name;var c={};for(var d in t)R_.call(t,d)&&d!=="css"&&d!==yE&&(c[d]=t[d]);return c.className=o,n&&(c.ref=n),I.createElement(I.Fragment,null,I.createElement(OU,{cache:e,serialized:a,isStringTag:typeof i=="string"}),I.createElement(i,c))}),DU=LU,_P=function(e,n){var r=arguments;if(n==null||!R_.call(n,"css"))return I.createElement.apply(void 0,r);var i=r.length,s=new Array(i);s[0]=DU,s[1]=MU(e,n);for(var o=2;o<i;o++)s[o]=r[o];return I.createElement.apply(null,s)};(function(t){var e;e||(e=t.JSX||(t.JSX={}))})(_P||(_P={}));var FU=k_(function(t,e){var n=t.styles,r=Am([n],void 0,I.useContext(Db)),i=I.useRef();return CP(function(){var s=e.key+"-global",o=new e.sheet.constructor({key:s,nonce:e.sheet.nonce,container:e.sheet.container,speedy:e.sheet.isSpeedy}),a=!1,c=document.querySelector('style[data-emotion="'+s+" "+r.name+'"]');return e.sheet.tags.length&&(o.before=e.sheet.tags[0]),c!==null&&(a=!0,c.setAttribute("data-emotion",s),o.hydrate([c])),i.current=[o,a],function(){o.flush()}},[e]),CP(function(){var s=i.current,o=s[0],a=s[1];if(a){s[1]=!1;return}if(r.next!==void 0&&A_(e,r.next,!0),o.tags.length){var c=o.tags[o.tags.length-1].nextElementSibling;o.before=c,o.flush()}e.insert("",r,o,!1)},[e,r.name]),null});function T_(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return Am(e)}function km(){var t=T_.apply(void 0,arguments),e="animation-"+t.name;return{name:e,styles:"@keyframes "+e+"{"+t.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}var $U=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,zU=KL(function(t){return $U.test(t)||t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)<91}),jU=zU,BU=function(e){return e!=="theme"},AP=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?jU:BU},kP=function(e,n,r){var i;if(n){var s=n.shouldForwardProp;i=e.__emotion_forwardProp&&s?function(o){return e.__emotion_forwardProp(o)&&s(o)}:s}return typeof i!="function"&&r&&(i=e.__emotion_forwardProp),i},HU=function(e){var n=e.cache,r=e.serialized,i=e.isStringTag;return __(n,r,i),t2(function(){return A_(n,r,i)}),null},WU=function t(e,n){var r=e.__emotion_real===e,i=r&&e.__emotion_base||e,s,o;n!==void 0&&(s=n.label,o=n.target);var a=kP(e,n,r),c=a||AP(i),d=!c("as");return function(){var h=arguments,f=r&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(s!==void 0&&f.push("label:"+s+";"),h[0]==null||h[0].raw===void 0)f.push.apply(f,h);else{var p=h[0];f.push(p[0]);for(var m=h.length,y=1;y<m;y++)f.push(h[y],p[y])}var b=k_(function(E,x,C){var S=d&&E.as||i,_="",k=[],N=E;if(E.theme==null){N={};for(var T in E)N[T]=E[T];N.theme=I.useContext(Db)}typeof E.className=="string"?_=ZL(x.registered,k,E.className):E.className!=null&&(_=E.className+" ");var M=Am(f.concat(k),x.registered,N);_+=x.key+"-"+M.name,o!==void 0&&(_+=" "+o);var O=d&&a===void 0?AP(S):c,R={};for(var F in E)d&&F==="as"||O(F)&&(R[F]=E[F]);return R.className=_,C&&(R.ref=C),I.createElement(I.Fragment,null,I.createElement(HU,{cache:x,serialized:M,isStringTag:typeof S=="string"}),I.createElement(S,R))});return b.displayName=s!==void 0?s:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",b.defaultProps=e.defaultProps,b.__emotion_real=b,b.__emotion_base=i,b.__emotion_styles=f,b.__emotion_forwardProp=a,Object.defineProperty(b,"toString",{value:function(){return"."+o}}),b.withComponent=function(E,x){var C=t(E,P0({},n,x,{shouldForwardProp:kP(b,x,!0)}));return C.apply(void 0,f)},b}},UU=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],vE=WU.bind(null);UU.forEach(function(t){vE[t]=vE(t)});var AS={exports:{}},kS,RP;function VU(){if(RP)return kS;RP=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return kS=t,kS}var RS,TP;function GU(){if(TP)return RS;TP=1;var t=VU();function e(){}function n(){}return n.resetWarningCache=e,RS=function(){function r(o,a,c,d,h,f){if(f!==t){var p=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw p.name="Invariant Violation",p}}r.isRequired=r;function i(){return r}var s={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:n,resetWarningCache:e};return s.PropTypes=s,s},RS}var PP;function P_(){return PP||(PP=1,AS.exports=GU()()),AS.exports}var qU=P_();const we=as(qU);function YU(t){return t==null||Object.keys(t).length===0}function XU(t){const{styles:e,defaultTheme:n={}}=t,r=typeof e=="function"?i=>e(YU(i)?n:i):e;return L.jsx(FU,{styles:r})}/**
 * @mui/styled-engine v6.4.6
 *
 * @license MIT
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function r2(t,e){return vE(t,e)}function KU(t,e){Array.isArray(t.__emotion_styles)&&(t.__emotion_styles=e(t.__emotion_styles))}const IP=[];function NP(t){return IP[0]=t,Am(IP)}var TS={exports:{}},At={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var MP;function QU(){if(MP)return At;MP=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),o=Symbol.for("react.context"),a=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),h=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),p=Symbol.for("react.offscreen"),m=Symbol.for("react.client.reference");function y(b){if(typeof b=="object"&&b!==null){var E=b.$$typeof;switch(E){case t:switch(b=b.type,b){case n:case i:case r:case c:case d:return b;default:switch(b=b&&b.$$typeof,b){case o:case a:case f:case h:return b;case s:return b;default:return E}}case e:return E}}}return At.ContextConsumer=s,At.ContextProvider=o,At.Element=t,At.ForwardRef=a,At.Fragment=n,At.Lazy=f,At.Memo=h,At.Portal=e,At.Profiler=i,At.StrictMode=r,At.Suspense=c,At.SuspenseList=d,At.isContextConsumer=function(b){return y(b)===s},At.isContextProvider=function(b){return y(b)===o},At.isElement=function(b){return typeof b=="object"&&b!==null&&b.$$typeof===t},At.isForwardRef=function(b){return y(b)===a},At.isFragment=function(b){return y(b)===n},At.isLazy=function(b){return y(b)===f},At.isMemo=function(b){return y(b)===h},At.isPortal=function(b){return y(b)===e},At.isProfiler=function(b){return y(b)===i},At.isStrictMode=function(b){return y(b)===r},At.isSuspense=function(b){return y(b)===c},At.isSuspenseList=function(b){return y(b)===d},At.isValidElementType=function(b){return typeof b=="string"||typeof b=="function"||b===n||b===i||b===r||b===c||b===d||b===p||typeof b=="object"&&b!==null&&(b.$$typeof===f||b.$$typeof===h||b.$$typeof===o||b.$$typeof===s||b.$$typeof===a||b.$$typeof===m||b.getModuleId!==void 0)},At.typeOf=y,At}var OP;function ZU(){return OP||(OP=1,TS.exports=QU()),TS.exports}var i2=ZU();function Ws(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function s2(t){if(I.isValidElement(t)||i2.isValidElementType(t)||!Ws(t))return t;const e={};return Object.keys(t).forEach(n=>{e[n]=s2(t[n])}),e}function or(t,e,n={clone:!0}){const r=n.clone?{...t}:t;return Ws(t)&&Ws(e)&&Object.keys(e).forEach(i=>{I.isValidElement(e[i])||i2.isValidElementType(e[i])?r[i]=e[i]:Ws(e[i])&&Object.prototype.hasOwnProperty.call(t,i)&&Ws(t[i])?r[i]=or(t[i],e[i],n):n.clone?r[i]=Ws(e[i])?s2(e[i]):e[i]:r[i]=e[i]}),r}const JU=t=>{const e=Object.keys(t).map(n=>({key:n,val:t[n]}))||[];return e.sort((n,r)=>n.val-r.val),e.reduce((n,r)=>({...n,[r.key]:r.val}),{})};function e8(t){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:r=5,...i}=t,s=JU(e),o=Object.keys(s);function a(p){return`@media (min-width:${typeof e[p]=="number"?e[p]:p}${n})`}function c(p){return`@media (max-width:${(typeof e[p]=="number"?e[p]:p)-r/100}${n})`}function d(p,m){const y=o.indexOf(m);return`@media (min-width:${typeof e[p]=="number"?e[p]:p}${n}) and (max-width:${(y!==-1&&typeof e[o[y]]=="number"?e[o[y]]:m)-r/100}${n})`}function h(p){return o.indexOf(p)+1<o.length?d(p,o[o.indexOf(p)+1]):a(p)}function f(p){const m=o.indexOf(p);return m===0?a(o[1]):m===o.length-1?c(o[m]):d(p,o[o.indexOf(p)+1]).replace("@media","@media not all and")}return{keys:o,values:s,up:a,down:c,between:d,only:h,not:f,unit:n,...i}}function t8(t,e){if(!t.containerQueries)return e;const n=Object.keys(e).filter(r=>r.startsWith("@container")).sort((r,i)=>{var o,a;const s=/min-width:\s*([0-9.]+)/;return+(((o=r.match(s))==null?void 0:o[1])||0)-+(((a=i.match(s))==null?void 0:a[1])||0)});return n.length?n.reduce((r,i)=>{const s=e[i];return delete r[i],r[i]=s,r},{...e}):e}function n8(t,e){return e==="@"||e.startsWith("@")&&(t.some(n=>e.startsWith(`@${n}`))||!!e.match(/^@\d/))}function r8(t,e){const n=e.match(/^@([^/]+)?\/?(.+)?$/);if(!n)return null;const[,r,i]=n,s=Number.isNaN(+r)?r||0:+r;return t.containerQueries(i).up(s)}function i8(t){const e=(s,o)=>s.replace("@media",o?`@container ${o}`:"@container");function n(s,o){s.up=(...a)=>e(t.breakpoints.up(...a),o),s.down=(...a)=>e(t.breakpoints.down(...a),o),s.between=(...a)=>e(t.breakpoints.between(...a),o),s.only=(...a)=>e(t.breakpoints.only(...a),o),s.not=(...a)=>{const c=e(t.breakpoints.not(...a),o);return c.includes("not all and")?c.replace("not all and ","").replace("min-width:","width<").replace("max-width:","width>").replace("and","or"):c}}const r={},i=s=>(n(r,s),r);return n(i),{...t,containerQueries:i}}const s8={borderRadius:4};function up(t,e){return e?or(t,e,{clone:!1}):t}const Fb={xs:0,sm:600,md:900,lg:1200,xl:1536},LP={keys:["xs","sm","md","lg","xl"],up:t=>`@media (min-width:${Fb[t]}px)`},o8={containerQueries:t=>({up:e=>{let n=typeof e=="number"?e:Fb[e]||e;return typeof n=="number"&&(n=`${n}px`),t?`@container ${t} (min-width:${n})`:`@container (min-width:${n})`}})};function ia(t,e,n){const r=t.theme||{};if(Array.isArray(e)){const s=r.breakpoints||LP;return e.reduce((o,a,c)=>(o[s.up(s.keys[c])]=n(e[c]),o),{})}if(typeof e=="object"){const s=r.breakpoints||LP;return Object.keys(e).reduce((o,a)=>{if(n8(s.keys,a)){const c=r8(r.containerQueries?r:o8,a);c&&(o[c]=n(e[a],a))}else if(Object.keys(s.values||Fb).includes(a)){const c=s.up(a);o[c]=n(e[a],a)}else{const c=a;o[c]=e[c]}return o},{})}return n(e)}function a8(t={}){var n;return((n=t.keys)==null?void 0:n.reduce((r,i)=>{const s=t.up(i);return r[s]={},r},{}))||{}}function l8(t,e){return t.reduce((n,r)=>{const i=n[r];return(!i||Object.keys(i).length===0)&&delete n[r],n},e)}function je(t){if(typeof t!="string")throw new Error(ra(7));return t.charAt(0).toUpperCase()+t.slice(1)}function $b(t,e,n=!0){if(!e||typeof e!="string")return null;if(t&&t.vars&&n){const r=`vars.${e}`.split(".").reduce((i,s)=>i&&i[s]?i[s]:null,t);if(r!=null)return r}return e.split(".").reduce((r,i)=>r&&r[i]!=null?r[i]:null,t)}function N0(t,e,n,r=n){let i;return typeof t=="function"?i=t(n):Array.isArray(t)?i=t[n]||r:i=$b(t,n)||r,e&&(i=e(i,r,t)),i}function hn(t){const{prop:e,cssProperty:n=t.prop,themeKey:r,transform:i}=t,s=o=>{if(o[e]==null)return null;const a=o[e],c=o.theme,d=$b(c,r)||{};return ia(o,a,f=>{let p=N0(d,i,f);return f===p&&typeof f=="string"&&(p=N0(d,i,`${e}${f==="default"?"":je(f)}`,f)),n===!1?p:{[n]:p}})};return s.propTypes={},s.filterProps=[e],s}function c8(t){const e={};return n=>(e[n]===void 0&&(e[n]=t(n)),e[n])}const u8={m:"margin",p:"padding"},d8={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},DP={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},h8=c8(t=>{if(t.length>2)if(DP[t])t=DP[t];else return[t];const[e,n]=t.split(""),r=u8[e],i=d8[n]||"";return Array.isArray(i)?i.map(s=>r+s):[r+i]}),I_=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],N_=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...I_,...N_];function Rm(t,e,n,r){const i=$b(t,e,!0)??n;return typeof i=="number"||typeof i=="string"?s=>typeof s=="string"?s:typeof i=="string"?`calc(${s} * ${i})`:i*s:Array.isArray(i)?s=>{if(typeof s=="string")return s;const o=Math.abs(s),a=i[o];return s>=0?a:typeof a=="number"?-a:`-${a}`}:typeof i=="function"?i:()=>{}}function M_(t){return Rm(t,"spacing",8)}function Tm(t,e){return typeof e=="string"||e==null?e:t(e)}function f8(t,e){return n=>t.reduce((r,i)=>(r[i]=Tm(e,n),r),{})}function p8(t,e,n,r){if(!e.includes(n))return null;const i=h8(n),s=f8(i,r),o=t[n];return ia(t,o,s)}function o2(t,e){const n=M_(t.theme);return Object.keys(t).map(r=>p8(t,e,r,n)).reduce(up,{})}function nn(t){return o2(t,I_)}nn.propTypes={};nn.filterProps=I_;function rn(t){return o2(t,N_)}rn.propTypes={};rn.filterProps=N_;function a2(t=8,e=M_({spacing:t})){if(t.mui)return t;const n=(...r)=>(r.length===0?[1]:r).map(s=>{const o=e(s);return typeof o=="number"?`${o}px`:o}).join(" ");return n.mui=!0,n}function zb(...t){const e=t.reduce((r,i)=>(i.filterProps.forEach(s=>{r[s]=i}),r),{}),n=r=>Object.keys(r).reduce((i,s)=>e[s]?up(i,e[s](r)):i,{});return n.propTypes={},n.filterProps=t.reduce((r,i)=>r.concat(i.filterProps),[]),n}function Ai(t){return typeof t!="number"?t:`${t}px solid`}function Pi(t,e){return hn({prop:t,themeKey:"borders",transform:e})}const g8=Pi("border",Ai),m8=Pi("borderTop",Ai),y8=Pi("borderRight",Ai),v8=Pi("borderBottom",Ai),b8=Pi("borderLeft",Ai),w8=Pi("borderColor"),x8=Pi("borderTopColor"),S8=Pi("borderRightColor"),E8=Pi("borderBottomColor"),C8=Pi("borderLeftColor"),_8=Pi("outline",Ai),A8=Pi("outlineColor"),jb=t=>{if(t.borderRadius!==void 0&&t.borderRadius!==null){const e=Rm(t.theme,"shape.borderRadius",4),n=r=>({borderRadius:Tm(e,r)});return ia(t,t.borderRadius,n)}return null};jb.propTypes={};jb.filterProps=["borderRadius"];zb(g8,m8,y8,v8,b8,w8,x8,S8,E8,C8,jb,_8,A8);const Bb=t=>{if(t.gap!==void 0&&t.gap!==null){const e=Rm(t.theme,"spacing",8),n=r=>({gap:Tm(e,r)});return ia(t,t.gap,n)}return null};Bb.propTypes={};Bb.filterProps=["gap"];const Hb=t=>{if(t.columnGap!==void 0&&t.columnGap!==null){const e=Rm(t.theme,"spacing",8),n=r=>({columnGap:Tm(e,r)});return ia(t,t.columnGap,n)}return null};Hb.propTypes={};Hb.filterProps=["columnGap"];const Wb=t=>{if(t.rowGap!==void 0&&t.rowGap!==null){const e=Rm(t.theme,"spacing",8),n=r=>({rowGap:Tm(e,r)});return ia(t,t.rowGap,n)}return null};Wb.propTypes={};Wb.filterProps=["rowGap"];const k8=hn({prop:"gridColumn"}),R8=hn({prop:"gridRow"}),T8=hn({prop:"gridAutoFlow"}),P8=hn({prop:"gridAutoColumns"}),I8=hn({prop:"gridAutoRows"}),N8=hn({prop:"gridTemplateColumns"}),M8=hn({prop:"gridTemplateRows"}),O8=hn({prop:"gridTemplateAreas"}),L8=hn({prop:"gridArea"});zb(Bb,Hb,Wb,k8,R8,T8,P8,I8,N8,M8,O8,L8);function pd(t,e){return e==="grey"?e:t}const D8=hn({prop:"color",themeKey:"palette",transform:pd}),F8=hn({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:pd}),$8=hn({prop:"backgroundColor",themeKey:"palette",transform:pd});zb(D8,F8,$8);function ai(t){return t<=1&&t!==0?`${t*100}%`:t}const z8=hn({prop:"width",transform:ai}),O_=t=>{if(t.maxWidth!==void 0&&t.maxWidth!==null){const e=n=>{var i,s,o,a,c;const r=((o=(s=(i=t.theme)==null?void 0:i.breakpoints)==null?void 0:s.values)==null?void 0:o[n])||Fb[n];return r?((c=(a=t.theme)==null?void 0:a.breakpoints)==null?void 0:c.unit)!=="px"?{maxWidth:`${r}${t.theme.breakpoints.unit}`}:{maxWidth:r}:{maxWidth:ai(n)}};return ia(t,t.maxWidth,e)}return null};O_.filterProps=["maxWidth"];const j8=hn({prop:"minWidth",transform:ai}),B8=hn({prop:"height",transform:ai}),H8=hn({prop:"maxHeight",transform:ai}),W8=hn({prop:"minHeight",transform:ai});hn({prop:"size",cssProperty:"width",transform:ai});hn({prop:"size",cssProperty:"height",transform:ai});const U8=hn({prop:"boxSizing"});zb(z8,O_,j8,B8,H8,W8,U8);const Pm={border:{themeKey:"borders",transform:Ai},borderTop:{themeKey:"borders",transform:Ai},borderRight:{themeKey:"borders",transform:Ai},borderBottom:{themeKey:"borders",transform:Ai},borderLeft:{themeKey:"borders",transform:Ai},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:Ai},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:jb},color:{themeKey:"palette",transform:pd},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:pd},backgroundColor:{themeKey:"palette",transform:pd},p:{style:rn},pt:{style:rn},pr:{style:rn},pb:{style:rn},pl:{style:rn},px:{style:rn},py:{style:rn},padding:{style:rn},paddingTop:{style:rn},paddingRight:{style:rn},paddingBottom:{style:rn},paddingLeft:{style:rn},paddingX:{style:rn},paddingY:{style:rn},paddingInline:{style:rn},paddingInlineStart:{style:rn},paddingInlineEnd:{style:rn},paddingBlock:{style:rn},paddingBlockStart:{style:rn},paddingBlockEnd:{style:rn},m:{style:nn},mt:{style:nn},mr:{style:nn},mb:{style:nn},ml:{style:nn},mx:{style:nn},my:{style:nn},margin:{style:nn},marginTop:{style:nn},marginRight:{style:nn},marginBottom:{style:nn},marginLeft:{style:nn},marginX:{style:nn},marginY:{style:nn},marginInline:{style:nn},marginInlineStart:{style:nn},marginInlineEnd:{style:nn},marginBlock:{style:nn},marginBlockStart:{style:nn},marginBlockEnd:{style:nn},displayPrint:{cssProperty:!1,transform:t=>({"@media print":{display:t}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:Bb},rowGap:{style:Wb},columnGap:{style:Hb},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:ai},maxWidth:{style:O_},minWidth:{transform:ai},height:{transform:ai},maxHeight:{transform:ai},minHeight:{transform:ai},boxSizing:{},font:{themeKey:"font"},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function V8(...t){const e=t.reduce((r,i)=>r.concat(Object.keys(i)),[]),n=new Set(e);return t.every(r=>n.size===Object.keys(r).length)}function G8(t,e){return typeof t=="function"?t(e):t}function q8(){function t(n,r,i,s){const o={[n]:r,theme:i},a=s[n];if(!a)return{[n]:r};const{cssProperty:c=n,themeKey:d,transform:h,style:f}=a;if(r==null)return null;if(d==="typography"&&r==="inherit")return{[n]:r};const p=$b(i,d)||{};return f?f(o):ia(o,r,y=>{let b=N0(p,h,y);return y===b&&typeof y=="string"&&(b=N0(p,h,`${n}${y==="default"?"":je(y)}`,y)),c===!1?b:{[c]:b}})}function e(n){const{sx:r,theme:i={}}=n||{};if(!r)return null;const s=i.unstable_sxConfig??Pm;function o(a){let c=a;if(typeof a=="function")c=a(i);else if(typeof a!="object")return a;if(!c)return null;const d=a8(i.breakpoints),h=Object.keys(d);let f=d;return Object.keys(c).forEach(p=>{const m=G8(c[p],i);if(m!=null)if(typeof m=="object")if(s[p])f=up(f,t(p,m,i,s));else{const y=ia({theme:i},m,b=>({[p]:b}));V8(y,m)?f[p]=e({sx:m,theme:i}):f=up(f,y)}else f=up(f,t(p,m,i,s))}),t8(i,l8(h,f))}return Array.isArray(r)?r.map(o):o(r)}return e}const nu=q8();nu.filterProps=["sx"];function Y8(t,e){var r;const n=this;if(n.vars){if(!((r=n.colorSchemes)!=null&&r[t])||typeof n.getColorSchemeSelector!="function")return{};let i=n.getColorSchemeSelector(t);return i==="&"?e:((i.includes("data-")||i.includes("."))&&(i=`*:where(${i.replace(/\s*&$/,"")}) &`),{[i]:e})}return n.palette.mode===t?e:{}}function L_(t={},...e){const{breakpoints:n={},palette:r={},spacing:i,shape:s={},...o}=t,a=e8(n),c=a2(i);let d=or({breakpoints:a,direction:"ltr",components:{},palette:{mode:"light",...r},spacing:c,shape:{...s8,...s}},o);return d=i8(d),d.applyStyles=Y8,d=e.reduce((h,f)=>or(h,f),d),d.unstable_sxConfig={...Pm,...o==null?void 0:o.unstable_sxConfig},d.unstable_sx=function(f){return nu({sx:f,theme:this})},d}function X8(t){return Object.keys(t).length===0}function K8(t=null){const e=I.useContext(Db);return!e||X8(e)?t:e}const Q8=L_();function D_(t=Q8){return K8(t)}function Z8({styles:t,themeId:e,defaultTheme:n={}}){const r=D_(n),i=typeof t=="function"?t(e&&r[e]||r):t;return L.jsx(XU,{styles:i})}const J8=t=>{var r;const e={systemProps:{},otherProps:{}},n=((r=t==null?void 0:t.theme)==null?void 0:r.unstable_sxConfig)??Pm;return Object.keys(t).forEach(i=>{n[i]?e.systemProps[i]=t[i]:e.otherProps[i]=t[i]}),e};function l2(t){const{sx:e,...n}=t,{systemProps:r,otherProps:i}=J8(n);let s;return Array.isArray(e)?s=[r,...e]:typeof e=="function"?s=(...o)=>{const a=e(...o);return Ws(a)?{...r,...a}:r}:s={...r,...e},{...i,sx:s}}const FP=t=>t,eV=()=>{let t=FP;return{configure(e){t=e},generate(e){return t(e)},reset(){t=FP}}},c2=eV();function u2(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=u2(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Ve(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=u2(t))&&(r&&(r+=" "),r+=e);return r}function tV(t={}){const{themeId:e,defaultTheme:n,defaultClassName:r="MuiBox-root",generateClassName:i}=t,s=r2("div",{shouldForwardProp:a=>a!=="theme"&&a!=="sx"&&a!=="as"})(nu);return I.forwardRef(function(c,d){const h=D_(n),{className:f,component:p="div",...m}=l2(c);return L.jsx(s,{as:p,ref:d,className:Ve(f,i?i(r):r),theme:e&&h[e]||h,...m})})}const nV={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function ht(t,e,n="Mui"){const r=nV[e];return r?`${n}-${r}`:`${c2.generate(t)}-${e}`}function nt(t,e,n="Mui"){const r={};return e.forEach(i=>{r[i]=ht(t,i,n)}),r}function d2(t){const{variants:e,...n}=t,r={variants:e,style:NP(n),isProcessed:!0};return r.style===n||e&&e.forEach(i=>{typeof i.style!="function"&&(i.style=NP(i.style))}),r}const rV=L_();function PS(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}function iV(t){return t?(e,n)=>n[t]:null}function sV(t,e,n){t.theme=lV(t.theme)?n:t.theme[e]||t.theme}function Wv(t,e){const n=typeof e=="function"?e(t):e;if(Array.isArray(n))return n.flatMap(r=>Wv(t,r));if(Array.isArray(n==null?void 0:n.variants)){let r;if(n.isProcessed)r=n.style;else{const{variants:i,...s}=n;r=s}return h2(t,n.variants,[r])}return n!=null&&n.isProcessed?n.style:n}function h2(t,e,n=[]){var i;let r;e:for(let s=0;s<e.length;s+=1){const o=e[s];if(typeof o.props=="function"){if(r??(r={...t,...t.ownerState,ownerState:t.ownerState}),!o.props(r))continue}else for(const a in o.props)if(t[a]!==o.props[a]&&((i=t.ownerState)==null?void 0:i[a])!==o.props[a])continue e;typeof o.style=="function"?(r??(r={...t,...t.ownerState,ownerState:t.ownerState}),n.push(o.style(r))):n.push(o.style)}return n}function oV(t={}){const{themeId:e,defaultTheme:n=rV,rootShouldForwardProp:r=PS,slotShouldForwardProp:i=PS}=t;function s(a){sV(a,e,n)}return(a,c={})=>{KU(a,k=>k.filter(N=>N!==nu));const{name:d,slot:h,skipVariantsResolver:f,skipSx:p,overridesResolver:m=iV(uV(h)),...y}=c,b=f!==void 0?f:h&&h!=="Root"&&h!=="root"||!1,E=p||!1;let x=PS;h==="Root"||h==="root"?x=r:h?x=i:cV(a)&&(x=void 0);const C=r2(a,{shouldForwardProp:x,label:aV(),...y}),S=k=>{if(typeof k=="function"&&k.__emotion_real!==k)return function(T){return Wv(T,k)};if(Ws(k)){const N=d2(k);return N.variants?function(M){return Wv(M,N)}:N.style}return k},_=(...k)=>{const N=[],T=k.map(S),M=[];if(N.push(s),d&&m&&M.push(function(z){var H,K;const D=(K=(H=z.theme.components)==null?void 0:H[d])==null?void 0:K.styleOverrides;if(!D)return null;const V={};for(const q in D)V[q]=Wv(z,D[q]);return m(z,V)}),d&&!b&&M.push(function(z){var V,H;const U=z.theme,D=(H=(V=U==null?void 0:U.components)==null?void 0:V[d])==null?void 0:H.variants;return D?h2(z,D):null}),E||M.push(nu),Array.isArray(T[0])){const F=T.shift(),z=new Array(N.length).fill(""),U=new Array(M.length).fill("");let D;D=[...z,...F,...U],D.raw=[...z,...F.raw,...U],N.unshift(D)}const O=[...N,...T,...M],R=C(...O);return a.muiName&&(R.muiName=a.muiName),R};return C.withConfig&&(_.withConfig=C.withConfig),_}}function aV(t,e){return void 0}function lV(t){for(const e in t)return!1;return!0}function cV(t){return typeof t=="string"&&t.charCodeAt(0)>96}function uV(t){return t&&t.charAt(0).toLowerCase()+t.slice(1)}function M0(t,e){const n={...e};for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)){const i=r;if(i==="components"||i==="slots")n[i]={...t[i],...n[i]};else if(i==="componentsProps"||i==="slotProps"){const s=t[i],o=e[i];if(!o)n[i]=s||{};else if(!s)n[i]=o;else{n[i]={...o};for(const a in s)if(Object.prototype.hasOwnProperty.call(s,a)){const c=a;n[i][c]=M0(s[c],o[c])}}}else n[i]===void 0&&(n[i]=t[i])}return n}const bl=typeof window<"u"?I.useLayoutEffect:I.useEffect;function dV(t,e=Number.MIN_SAFE_INTEGER,n=Number.MAX_SAFE_INTEGER){return Math.max(e,Math.min(t,n))}function F_(t,e=0,n=1){return dV(t,e,n)}function hV(t){t=t.slice(1);const e=new RegExp(`.{1,${t.length>=6?2:1}}`,"g");let n=t.match(e);return n&&n[0].length===1&&(n=n.map(r=>r+r)),n?`rgb${n.length===4?"a":""}(${n.map((r,i)=>i<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function wl(t){if(t.type)return t;if(t.charAt(0)==="#")return wl(hV(t));const e=t.indexOf("("),n=t.substring(0,e);if(!["rgb","rgba","hsl","hsla","color"].includes(n))throw new Error(ra(9,t));let r=t.substring(e+1,t.length-1),i;if(n==="color"){if(r=r.split(" "),i=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),!["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].includes(i))throw new Error(ra(10,i))}else r=r.split(",");return r=r.map(s=>parseFloat(s)),{type:n,values:r,colorSpace:i}}const fV=t=>{const e=wl(t);return e.values.slice(0,3).map((n,r)=>e.type.includes("hsl")&&r!==0?`${n}%`:n).join(" ")},Hf=(t,e)=>{try{return fV(t)}catch{return t}};function Ub(t){const{type:e,colorSpace:n}=t;let{values:r}=t;return e.includes("rgb")?r=r.map((i,s)=>s<3?parseInt(i,10):i):e.includes("hsl")&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),e.includes("color")?r=`${n} ${r.join(" ")}`:r=`${r.join(", ")}`,`${e}(${r})`}function f2(t){t=wl(t);const{values:e}=t,n=e[0],r=e[1]/100,i=e[2]/100,s=r*Math.min(i,1-i),o=(d,h=(d+n/30)%12)=>i-s*Math.max(Math.min(h-3,9-h,1),-1);let a="rgb";const c=[Math.round(o(0)*255),Math.round(o(8)*255),Math.round(o(4)*255)];return t.type==="hsla"&&(a+="a",c.push(e[3])),Ub({type:a,values:c})}function bE(t){t=wl(t);let e=t.type==="hsl"||t.type==="hsla"?wl(f2(t)).values:t.values;return e=e.map(n=>(t.type!=="color"&&(n/=255),n<=.03928?n/12.92:((n+.055)/1.055)**2.4)),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function pV(t,e){const n=bE(t),r=bE(e);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function rr(t,e){return t=wl(t),e=F_(e),(t.type==="rgb"||t.type==="hsl")&&(t.type+="a"),t.type==="color"?t.values[3]=`/${e}`:t.values[3]=e,Ub(t)}function wv(t,e,n){try{return rr(t,e)}catch{return t}}function $_(t,e){if(t=wl(t),e=F_(e),t.type.includes("hsl"))t.values[2]*=1-e;else if(t.type.includes("rgb")||t.type.includes("color"))for(let n=0;n<3;n+=1)t.values[n]*=1-e;return Ub(t)}function Mt(t,e,n){try{return $_(t,e)}catch{return t}}function z_(t,e){if(t=wl(t),e=F_(e),t.type.includes("hsl"))t.values[2]+=(100-t.values[2])*e;else if(t.type.includes("rgb"))for(let n=0;n<3;n+=1)t.values[n]+=(255-t.values[n])*e;else if(t.type.includes("color"))for(let n=0;n<3;n+=1)t.values[n]+=(1-t.values[n])*e;return Ub(t)}function Ot(t,e,n){try{return z_(t,e)}catch{return t}}function gV(t,e=.15){return bE(t)>.5?$_(t,e):z_(t,e)}function xv(t,e,n){try{return gV(t,e)}catch{return t}}function $P(...t){return t.reduce((e,n)=>n==null?e:function(...i){e.apply(this,i),n.apply(this,i)},()=>{})}function p2(t,e=166){let n;function r(...i){const s=()=>{t.apply(this,i)};clearTimeout(n),n=setTimeout(s,e)}return r.clear=()=>{clearTimeout(n)},r}function IS(t,e){var n,r,i;return I.isValidElement(t)&&e.indexOf(t.type.muiName??((i=(r=(n=t.type)==null?void 0:n._payload)==null?void 0:r.value)==null?void 0:i.muiName))!==-1}function rs(t){return t&&t.ownerDocument||document}function sa(t){return rs(t).defaultView||window}function wE(t,e){typeof t=="function"?t(e):t&&(t.current=e)}let zP=0;function mV(t){const[e,n]=I.useState(t),r=t||e;return I.useEffect(()=>{e==null&&(zP+=1,n(`mui-${zP}`))},[e]),r}const yV={...Q1},jP=yV.useId;function Im(t){if(jP!==void 0){const e=jP();return t??e}return mV(t)}function xE({controlled:t,default:e,name:n,state:r="value"}){const{current:i}=I.useRef(t!==void 0),[s,o]=I.useState(e),a=i?t:s,c=I.useCallback(d=>{i||o(d)},[]);return[a,c]}function gd(t){const e=I.useRef(t);return bl(()=>{e.current=t}),I.useRef((...n)=>(0,e.current)(...n)).current}function wr(...t){return I.useMemo(()=>t.every(e=>e==null)?null:e=>{t.forEach(n=>{wE(n,e)})},t)}const BP={};function g2(t,e){const n=I.useRef(BP);return n.current===BP&&(n.current=t(e)),n}const vV=[];function bV(t){I.useEffect(t,vV)}class j_{constructor(){Te(this,"currentId",null);Te(this,"clear",()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)});Te(this,"disposeEffect",()=>this.clear)}static create(){return new j_}start(e,n){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,n()},e)}}function m2(){const t=g2(j_.create).current;return bV(t.disposeEffect),t}function HP(t){try{return t.matches(":focus-visible")}catch{}return!1}function y2(t=window){const e=t.document.documentElement.clientWidth;return t.innerWidth-e}function ft(t,e,n=void 0){const r={};for(const i in t){const s=t[i];let o="",a=!0;for(let c=0;c<s.length;c+=1){const d=s[c];d&&(o+=(a===!0?"":" ")+e(d),a=!1,n&&n[d]&&(o+=" "+n[d]))}r[i]=o}return r}function wV(t){return typeof t=="string"}function v2(t,e,n){return t===void 0||wV(t)?e:{...e,ownerState:{...e.ownerState,...n}}}function b2(t,e=[]){if(t===void 0)return{};const n={};return Object.keys(t).filter(r=>r.match(/^on[A-Z]/)&&typeof t[r]=="function"&&!e.includes(r)).forEach(r=>{n[r]=t[r]}),n}function WP(t){if(t===void 0)return{};const e={};return Object.keys(t).filter(n=>!(n.match(/^on[A-Z]/)&&typeof t[n]=="function")).forEach(n=>{e[n]=t[n]}),e}function w2(t){const{getSlotProps:e,additionalProps:n,externalSlotProps:r,externalForwardedProps:i,className:s}=t;if(!e){const m=Ve(n==null?void 0:n.className,s,i==null?void 0:i.className,r==null?void 0:r.className),y={...n==null?void 0:n.style,...i==null?void 0:i.style,...r==null?void 0:r.style},b={...n,...i,...r};return m.length>0&&(b.className=m),Object.keys(y).length>0&&(b.style=y),{props:b,internalRef:void 0}}const o=b2({...i,...r}),a=WP(r),c=WP(i),d=e(o),h=Ve(d==null?void 0:d.className,n==null?void 0:n.className,s,i==null?void 0:i.className,r==null?void 0:r.className),f={...d==null?void 0:d.style,...n==null?void 0:n.style,...i==null?void 0:i.style,...r==null?void 0:r.style},p={...d,...n,...c,...a};return h.length>0&&(p.className=h),Object.keys(f).length>0&&(p.style=f),{props:p,internalRef:d.ref}}function x2(t,e,n){return typeof t=="function"?t(e,n):t}function xV(t){var f;const{elementType:e,externalSlotProps:n,ownerState:r,skipResolvingSlotProps:i=!1,...s}=t,o=i?{}:x2(n,r),{props:a,internalRef:c}=w2({...s,externalSlotProps:o}),d=wr(c,o==null?void 0:o.ref,(f=t.additionalProps)==null?void 0:f.ref);return v2(e,{...a,ref:d},r)}function Nm(t){var e;return parseInt(I.version,10)>=19?((e=t==null?void 0:t.props)==null?void 0:e.ref)||null:(t==null?void 0:t.ref)||null}const SV=I.createContext(),EV=()=>I.useContext(SV)??!1,CV=I.createContext(void 0);function _V(t){const{theme:e,name:n,props:r}=t;if(!e||!e.components||!e.components[n])return r;const i=e.components[n];return i.defaultProps?M0(i.defaultProps,r):!i.styleOverrides&&!i.variants?M0(i,r):r}function AV({props:t,name:e}){const n=I.useContext(CV);return _V({props:t,name:e,theme:{components:n}})}const UP={theme:void 0};function kV(t){let e,n;return function(i){let s=e;return(s===void 0||i.theme!==n)&&(UP.theme=i.theme,s=d2(t(UP)),e=s,n=i.theme),s}}function RV(t=""){function e(...r){if(!r.length)return"";const i=r[0];return typeof i=="string"&&!i.match(/(#|\(|\)|(-?(\d*\.)?\d+)(px|em|%|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc))|^(-?(\d*\.)?\d+)$|(\d+ \d+ \d+)/)?`, var(--${t?`${t}-`:""}${i}${e(...r.slice(1))})`:`, ${i}`}return(r,...i)=>`var(--${t?`${t}-`:""}${r}${e(...i)})`}const VP=(t,e,n,r=[])=>{let i=t;e.forEach((s,o)=>{o===e.length-1?Array.isArray(i)?i[Number(s)]=n:i&&typeof i=="object"&&(i[s]=n):i&&typeof i=="object"&&(i[s]||(i[s]=r.includes(s)?[]:{}),i=i[s])})},TV=(t,e,n)=>{function r(i,s=[],o=[]){Object.entries(i).forEach(([a,c])=>{(!n||n&&!n([...s,a]))&&c!=null&&(typeof c=="object"&&Object.keys(c).length>0?r(c,[...s,a],Array.isArray(c)?[...o,a]:o):e([...s,a],c,o))})}r(t)},PV=(t,e)=>typeof e=="number"?["lineHeight","fontWeight","opacity","zIndex"].some(r=>t.includes(r))||t[t.length-1].toLowerCase().includes("opacity")?e:`${e}px`:e;function NS(t,e){const{prefix:n,shouldSkipGeneratingVar:r}=e||{},i={},s={},o={};return TV(t,(a,c,d)=>{if((typeof c=="string"||typeof c=="number")&&(!r||!r(a,c))){const h=`--${n?`${n}-`:""}${a.join("-")}`,f=PV(a,c);Object.assign(i,{[h]:f}),VP(s,a,`var(${h})`,d),VP(o,a,`var(${h}, ${f})`,d)}},a=>a[0]==="vars"),{css:i,vars:s,varsWithDefaults:o}}function IV(t,e={}){const{getSelector:n=E,disableCssColorScheme:r,colorSchemeSelector:i}=e,{colorSchemes:s={},components:o,defaultColorScheme:a="light",...c}=t,{vars:d,css:h,varsWithDefaults:f}=NS(c,e);let p=f;const m={},{[a]:y,...b}=s;if(Object.entries(b||{}).forEach(([S,_])=>{const{vars:k,css:N,varsWithDefaults:T}=NS(_,e);p=or(p,T),m[S]={css:N,vars:k}}),y){const{css:S,vars:_,varsWithDefaults:k}=NS(y,e);p=or(p,k),m[a]={css:S,vars:_}}function E(S,_){var N,T;let k=i;if(i==="class"&&(k=".%s"),i==="data"&&(k="[data-%s]"),i!=null&&i.startsWith("data-")&&!i.includes("%s")&&(k=`[${i}="%s"]`),S){if(k==="media")return t.defaultColorScheme===S?":root":{[`@media (prefers-color-scheme: ${((T=(N=s[S])==null?void 0:N.palette)==null?void 0:T.mode)||S})`]:{":root":_}};if(k)return t.defaultColorScheme===S?`:root, ${k.replace("%s",String(S))}`:k.replace("%s",String(S))}return":root"}return{vars:p,generateThemeVars:()=>{let S={...d};return Object.entries(m).forEach(([,{vars:_}])=>{S=or(S,_)}),S},generateStyleSheets:()=>{var M,O;const S=[],_=t.defaultColorScheme||"light";function k(R,F){Object.keys(F).length&&S.push(typeof R=="string"?{[R]:{...F}}:R)}k(n(void 0,{...h}),h);const{[_]:N,...T}=m;if(N){const{css:R}=N,F=(O=(M=s[_])==null?void 0:M.palette)==null?void 0:O.mode,z=!r&&F?{colorScheme:F,...R}:{...R};k(n(_,{...z}),z)}return Object.entries(T).forEach(([R,{css:F}])=>{var D,V;const z=(V=(D=s[R])==null?void 0:D.palette)==null?void 0:V.mode,U=!r&&z?{colorScheme:z,...F}:{...F};k(n(R,{...U}),U)}),S}}}function NV(t){return function(n){return t==="media"?`@media (prefers-color-scheme: ${n})`:t?t.startsWith("data-")&&!t.includes("%s")?`[${t}="${n}"] &`:t==="class"?`.${n} &`:t==="data"?`[data-${n}] &`:`${t.replace("%s",n)} &`:"&"}}function S2(){return{text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:Rp.white,default:Rp.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}}}const MV=S2();function E2(){return{text:{primary:Rp.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:Rp.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}}}const GP=E2();function qP(t,e,n,r){const i=r.light||r,s=r.dark||r*1.5;t[e]||(t.hasOwnProperty(n)?t[e]=t[n]:e==="light"?t.light=z_(t.main,i):e==="dark"&&(t.dark=$_(t.main,s)))}function OV(t="light"){return t==="dark"?{main:Yu[200],light:Yu[50],dark:Yu[400]}:{main:Yu[700],light:Yu[400],dark:Yu[800]}}function LV(t="light"){return t==="dark"?{main:qu[200],light:qu[50],dark:qu[400]}:{main:qu[500],light:qu[300],dark:qu[700]}}function DV(t="light"){return t==="dark"?{main:Gu[500],light:Gu[300],dark:Gu[700]}:{main:Gu[700],light:Gu[400],dark:Gu[800]}}function FV(t="light"){return t==="dark"?{main:Xu[400],light:Xu[300],dark:Xu[700]}:{main:Xu[700],light:Xu[500],dark:Xu[900]}}function $V(t="light"){return t==="dark"?{main:Ku[400],light:Ku[300],dark:Ku[700]}:{main:Ku[800],light:Ku[500],dark:Ku[900]}}function zV(t="light"){return t==="dark"?{main:Sf[400],light:Sf[300],dark:Sf[700]}:{main:"#ed6c02",light:Sf[500],dark:Sf[900]}}function B_(t){const{mode:e="light",contrastThreshold:n=3,tonalOffset:r=.2,...i}=t,s=t.primary||OV(e),o=t.secondary||LV(e),a=t.error||DV(e),c=t.info||FV(e),d=t.success||$V(e),h=t.warning||zV(e);function f(b){return pV(b,GP.text.primary)>=n?GP.text.primary:MV.text.primary}const p=({color:b,name:E,mainShade:x=500,lightShade:C=300,darkShade:S=700})=>{if(b={...b},!b.main&&b[x]&&(b.main=b[x]),!b.hasOwnProperty("main"))throw new Error(ra(11,E?` (${E})`:"",x));if(typeof b.main!="string")throw new Error(ra(12,E?` (${E})`:"",JSON.stringify(b.main)));return qP(b,"light",C,r),qP(b,"dark",S,r),b.contrastText||(b.contrastText=f(b.main)),b};let m;return e==="light"?m=S2():e==="dark"&&(m=E2()),or({common:{...Rp},mode:e,primary:p({color:s,name:"primary"}),secondary:p({color:o,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:p({color:a,name:"error"}),warning:p({color:h,name:"warning"}),info:p({color:c,name:"info"}),success:p({color:d,name:"success"}),grey:qW,contrastThreshold:n,getContrastText:f,augmentColor:p,tonalOffset:r,...m},i)}function jV(t){const e={};return Object.entries(t).forEach(r=>{const[i,s]=r;typeof s=="object"&&(e[i]=`${s.fontStyle?`${s.fontStyle} `:""}${s.fontVariant?`${s.fontVariant} `:""}${s.fontWeight?`${s.fontWeight} `:""}${s.fontStretch?`${s.fontStretch} `:""}${s.fontSize||""}${s.lineHeight?`/${s.lineHeight} `:""}${s.fontFamily||""}`)}),e}function BV(t,e){return{toolbar:{minHeight:56,[t.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[t.up("sm")]:{minHeight:64}},...e}}function HV(t){return Math.round(t*1e5)/1e5}const YP={textTransform:"uppercase"},XP='"Roboto", "Helvetica", "Arial", sans-serif';function WV(t,e){const{fontFamily:n=XP,fontSize:r=14,fontWeightLight:i=300,fontWeightRegular:s=400,fontWeightMedium:o=500,fontWeightBold:a=700,htmlFontSize:c=16,allVariants:d,pxToRem:h,...f}=typeof e=="function"?e(t):e,p=r/14,m=h||(E=>`${E/c*p}rem`),y=(E,x,C,S,_)=>({fontFamily:n,fontWeight:E,fontSize:m(x),lineHeight:C,...n===XP?{letterSpacing:`${HV(S/x)}em`}:{},..._,...d}),b={h1:y(i,96,1.167,-1.5),h2:y(i,60,1.2,-.5),h3:y(s,48,1.167,0),h4:y(s,34,1.235,.25),h5:y(s,24,1.334,0),h6:y(o,20,1.6,.15),subtitle1:y(s,16,1.75,.15),subtitle2:y(o,14,1.57,.1),body1:y(s,16,1.5,.15),body2:y(s,14,1.43,.15),button:y(o,14,1.75,.4,YP),caption:y(s,12,1.66,.4),overline:y(s,12,2.66,1,YP),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return or({htmlFontSize:c,pxToRem:m,fontFamily:n,fontSize:r,fontWeightLight:i,fontWeightRegular:s,fontWeightMedium:o,fontWeightBold:a,...b},f,{clone:!1})}const UV=.2,VV=.14,GV=.12;function Wt(...t){return[`${t[0]}px ${t[1]}px ${t[2]}px ${t[3]}px rgba(0,0,0,${UV})`,`${t[4]}px ${t[5]}px ${t[6]}px ${t[7]}px rgba(0,0,0,${VV})`,`${t[8]}px ${t[9]}px ${t[10]}px ${t[11]}px rgba(0,0,0,${GV})`].join(",")}const qV=["none",Wt(0,2,1,-1,0,1,1,0,0,1,3,0),Wt(0,3,1,-2,0,2,2,0,0,1,5,0),Wt(0,3,3,-2,0,3,4,0,0,1,8,0),Wt(0,2,4,-1,0,4,5,0,0,1,10,0),Wt(0,3,5,-1,0,5,8,0,0,1,14,0),Wt(0,3,5,-1,0,6,10,0,0,1,18,0),Wt(0,4,5,-2,0,7,10,1,0,2,16,1),Wt(0,5,5,-3,0,8,10,1,0,3,14,2),Wt(0,5,6,-3,0,9,12,1,0,3,16,2),Wt(0,6,6,-3,0,10,14,1,0,4,18,3),Wt(0,6,7,-4,0,11,15,1,0,4,20,3),Wt(0,7,8,-4,0,12,17,2,0,5,22,4),Wt(0,7,8,-4,0,13,19,2,0,5,24,4),Wt(0,7,9,-4,0,14,21,2,0,5,26,4),Wt(0,8,9,-5,0,15,22,2,0,6,28,5),Wt(0,8,10,-5,0,16,24,2,0,6,30,5),Wt(0,8,11,-5,0,17,26,2,0,6,32,5),Wt(0,9,11,-5,0,18,28,2,0,7,34,6),Wt(0,9,12,-6,0,19,29,2,0,7,36,6),Wt(0,10,13,-6,0,20,31,3,0,8,38,7),Wt(0,10,13,-6,0,21,33,3,0,8,40,7),Wt(0,10,14,-6,0,22,35,3,0,8,42,7),Wt(0,11,14,-7,0,23,36,3,0,9,44,8),Wt(0,11,15,-7,0,24,38,3,0,9,46,8)],YV={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},XV={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function KP(t){return`${Math.round(t)}ms`}function KV(t){if(!t)return 0;const e=t/36;return Math.min(Math.round((4+15*e**.25+e/5)*10),3e3)}function QV(t){const e={...YV,...t.easing},n={...XV,...t.duration};return{getAutoHeightDuration:KV,create:(i=["all"],s={})=>{const{duration:o=n.standard,easing:a=e.easeInOut,delay:c=0,...d}=s;return(Array.isArray(i)?i:[i]).map(h=>`${h} ${typeof o=="string"?o:KP(o)} ${a} ${typeof c=="string"?c:KP(c)}`).join(",")},...t,easing:e,duration:n}}const ZV={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};function JV(t){return Ws(t)||typeof t>"u"||typeof t=="string"||typeof t=="boolean"||typeof t=="number"||Array.isArray(t)}function C2(t={}){const e={...t};function n(r){const i=Object.entries(r);for(let s=0;s<i.length;s++){const[o,a]=i[s];!JV(a)||o.startsWith("unstable_")?delete r[o]:Ws(a)&&(r[o]={...a},n(r[o]))}}return n(e),`import { unstable_createBreakpoints as createBreakpoints, createTransitions } from '@mui/material/styles';

const theme = ${JSON.stringify(e,null,2)};

theme.breakpoints = createBreakpoints(theme.breakpoints || {});
theme.transitions = createTransitions(theme.transitions || {});

export default theme;`}function SE(t={},...e){const{breakpoints:n,mixins:r={},spacing:i,palette:s={},transitions:o={},typography:a={},shape:c,...d}=t;if(t.vars&&t.generateThemeVars===void 0)throw new Error(ra(20));const h=B_(s),f=L_(t);let p=or(f,{mixins:BV(f.breakpoints,r),palette:h,shadows:qV.slice(),typography:WV(h,a),transitions:QV(o),zIndex:{...ZV}});return p=or(p,d),p=e.reduce((m,y)=>or(m,y),p),p.unstable_sxConfig={...Pm,...d==null?void 0:d.unstable_sxConfig},p.unstable_sx=function(y){return nu({sx:y,theme:this})},p.toRuntimeSource=C2,p}function EE(t){let e;return t<1?e=5.11916*t**2:e=4.5*Math.log(t+1)+2,Math.round(e*10)/1e3}const e9=[...Array(25)].map((t,e)=>{if(e===0)return"none";const n=EE(e);return`linear-gradient(rgba(255 255 255 / ${n}), rgba(255 255 255 / ${n}))`});function _2(t){return{inputPlaceholder:t==="dark"?.5:.42,inputUnderline:t==="dark"?.7:.42,switchTrackDisabled:t==="dark"?.2:.12,switchTrack:t==="dark"?.3:.38}}function A2(t){return t==="dark"?e9:[]}function t9(t){const{palette:e={mode:"light"},opacity:n,overlays:r,...i}=t,s=B_(e);return{palette:s,opacity:{..._2(s.mode),...n},overlays:r||A2(s.mode),...i}}function n9(t){var e;return!!t[0].match(/(cssVarPrefix|colorSchemeSelector|rootSelector|typography|mixins|breakpoints|direction|transitions)/)||!!t[0].match(/sxConfig$/)||t[0]==="palette"&&!!((e=t[1])!=null&&e.match(/(mode|contrastThreshold|tonalOffset)/))}const r9=t=>[...[...Array(25)].map((e,n)=>`--${t?`${t}-`:""}overlays-${n}`),`--${t?`${t}-`:""}palette-AppBar-darkBg`,`--${t?`${t}-`:""}palette-AppBar-darkColor`],i9=t=>(e,n)=>{const r=t.rootSelector||":root",i=t.colorSchemeSelector;let s=i;if(i==="class"&&(s=".%s"),i==="data"&&(s="[data-%s]"),i!=null&&i.startsWith("data-")&&!i.includes("%s")&&(s=`[${i}="%s"]`),t.defaultColorScheme===e){if(e==="dark"){const o={};return r9(t.cssVarPrefix).forEach(a=>{o[a]=n[a],delete n[a]}),s==="media"?{[r]:n,"@media (prefers-color-scheme: dark)":{[r]:o}}:s?{[s.replace("%s",e)]:o,[`${r}, ${s.replace("%s",e)}`]:n}:{[r]:{...n,...o}}}if(s&&s!=="media")return`${r}, ${s.replace("%s",String(e))}`}else if(e){if(s==="media")return{[`@media (prefers-color-scheme: ${String(e)})`]:{[r]:n}};if(s)return s.replace("%s",String(e))}return r};function s9(t,e){e.forEach(n=>{t[n]||(t[n]={})})}function de(t,e,n){!t[e]&&n&&(t[e]=n)}function Wf(t){return typeof t!="string"||!t.startsWith("hsl")?t:f2(t)}function fo(t,e){`${e}Channel`in t||(t[`${e}Channel`]=Hf(Wf(t[e])))}function o9(t){return typeof t=="number"?`${t}px`:typeof t=="string"||typeof t=="function"||Array.isArray(t)?t:"8px"}const vs=t=>{try{return t()}catch{}},a9=(t="mui")=>RV(t);function MS(t,e,n,r){if(!e)return;e=e===!0?{}:e;const i=r==="dark"?"dark":"light";if(!n){t[r]=t9({...e,palette:{mode:i,...e==null?void 0:e.palette}});return}const{palette:s,...o}=SE({...n,palette:{mode:i,...e==null?void 0:e.palette}});return t[r]={...e,palette:s,opacity:{..._2(i),...e==null?void 0:e.opacity},overlays:(e==null?void 0:e.overlays)||A2(i)},o}function l9(t={},...e){const{colorSchemes:n={light:!0},defaultColorScheme:r,disableCssColorScheme:i=!1,cssVarPrefix:s="mui",shouldSkipGeneratingVar:o=n9,colorSchemeSelector:a=n.light&&n.dark?"media":void 0,rootSelector:c=":root",...d}=t,h=Object.keys(n)[0],f=r||(n.light&&h!=="light"?"light":h),p=a9(s),{[f]:m,light:y,dark:b,...E}=n,x={...E};let C=m;if((f==="dark"&&!("dark"in n)||f==="light"&&!("light"in n))&&(C=!0),!C)throw new Error(ra(21,f));const S=MS(x,C,d,f);y&&!x.light&&MS(x,y,void 0,"light"),b&&!x.dark&&MS(x,b,void 0,"dark");let _={defaultColorScheme:f,...S,cssVarPrefix:s,colorSchemeSelector:a,rootSelector:c,getCssVar:p,colorSchemes:x,font:{...jV(S.typography),...S.font},spacing:o9(d.spacing)};Object.keys(_.colorSchemes).forEach(O=>{const R=_.colorSchemes[O].palette,F=z=>{const U=z.split("-"),D=U[1],V=U[2];return p(z,R[D][V])};if(R.mode==="light"&&(de(R.common,"background","#fff"),de(R.common,"onBackground","#000")),R.mode==="dark"&&(de(R.common,"background","#000"),de(R.common,"onBackground","#fff")),s9(R,["Alert","AppBar","Avatar","Button","Chip","FilledInput","LinearProgress","Skeleton","Slider","SnackbarContent","SpeedDialAction","StepConnector","StepContent","Switch","TableCell","Tooltip"]),R.mode==="light"){de(R.Alert,"errorColor",Mt(R.error.light,.6)),de(R.Alert,"infoColor",Mt(R.info.light,.6)),de(R.Alert,"successColor",Mt(R.success.light,.6)),de(R.Alert,"warningColor",Mt(R.warning.light,.6)),de(R.Alert,"errorFilledBg",F("palette-error-main")),de(R.Alert,"infoFilledBg",F("palette-info-main")),de(R.Alert,"successFilledBg",F("palette-success-main")),de(R.Alert,"warningFilledBg",F("palette-warning-main")),de(R.Alert,"errorFilledColor",vs(()=>R.getContrastText(R.error.main))),de(R.Alert,"infoFilledColor",vs(()=>R.getContrastText(R.info.main))),de(R.Alert,"successFilledColor",vs(()=>R.getContrastText(R.success.main))),de(R.Alert,"warningFilledColor",vs(()=>R.getContrastText(R.warning.main))),de(R.Alert,"errorStandardBg",Ot(R.error.light,.9)),de(R.Alert,"infoStandardBg",Ot(R.info.light,.9)),de(R.Alert,"successStandardBg",Ot(R.success.light,.9)),de(R.Alert,"warningStandardBg",Ot(R.warning.light,.9)),de(R.Alert,"errorIconColor",F("palette-error-main")),de(R.Alert,"infoIconColor",F("palette-info-main")),de(R.Alert,"successIconColor",F("palette-success-main")),de(R.Alert,"warningIconColor",F("palette-warning-main")),de(R.AppBar,"defaultBg",F("palette-grey-100")),de(R.Avatar,"defaultBg",F("palette-grey-400")),de(R.Button,"inheritContainedBg",F("palette-grey-300")),de(R.Button,"inheritContainedHoverBg",F("palette-grey-A100")),de(R.Chip,"defaultBorder",F("palette-grey-400")),de(R.Chip,"defaultAvatarColor",F("palette-grey-700")),de(R.Chip,"defaultIconColor",F("palette-grey-700")),de(R.FilledInput,"bg","rgba(0, 0, 0, 0.06)"),de(R.FilledInput,"hoverBg","rgba(0, 0, 0, 0.09)"),de(R.FilledInput,"disabledBg","rgba(0, 0, 0, 0.12)"),de(R.LinearProgress,"primaryBg",Ot(R.primary.main,.62)),de(R.LinearProgress,"secondaryBg",Ot(R.secondary.main,.62)),de(R.LinearProgress,"errorBg",Ot(R.error.main,.62)),de(R.LinearProgress,"infoBg",Ot(R.info.main,.62)),de(R.LinearProgress,"successBg",Ot(R.success.main,.62)),de(R.LinearProgress,"warningBg",Ot(R.warning.main,.62)),de(R.Skeleton,"bg",`rgba(${F("palette-text-primaryChannel")} / 0.11)`),de(R.Slider,"primaryTrack",Ot(R.primary.main,.62)),de(R.Slider,"secondaryTrack",Ot(R.secondary.main,.62)),de(R.Slider,"errorTrack",Ot(R.error.main,.62)),de(R.Slider,"infoTrack",Ot(R.info.main,.62)),de(R.Slider,"successTrack",Ot(R.success.main,.62)),de(R.Slider,"warningTrack",Ot(R.warning.main,.62));const z=xv(R.background.default,.8);de(R.SnackbarContent,"bg",z),de(R.SnackbarContent,"color",vs(()=>R.getContrastText(z))),de(R.SpeedDialAction,"fabHoverBg",xv(R.background.paper,.15)),de(R.StepConnector,"border",F("palette-grey-400")),de(R.StepContent,"border",F("palette-grey-400")),de(R.Switch,"defaultColor",F("palette-common-white")),de(R.Switch,"defaultDisabledColor",F("palette-grey-100")),de(R.Switch,"primaryDisabledColor",Ot(R.primary.main,.62)),de(R.Switch,"secondaryDisabledColor",Ot(R.secondary.main,.62)),de(R.Switch,"errorDisabledColor",Ot(R.error.main,.62)),de(R.Switch,"infoDisabledColor",Ot(R.info.main,.62)),de(R.Switch,"successDisabledColor",Ot(R.success.main,.62)),de(R.Switch,"warningDisabledColor",Ot(R.warning.main,.62)),de(R.TableCell,"border",Ot(wv(R.divider,1),.88)),de(R.Tooltip,"bg",wv(R.grey[700],.92))}if(R.mode==="dark"){de(R.Alert,"errorColor",Ot(R.error.light,.6)),de(R.Alert,"infoColor",Ot(R.info.light,.6)),de(R.Alert,"successColor",Ot(R.success.light,.6)),de(R.Alert,"warningColor",Ot(R.warning.light,.6)),de(R.Alert,"errorFilledBg",F("palette-error-dark")),de(R.Alert,"infoFilledBg",F("palette-info-dark")),de(R.Alert,"successFilledBg",F("palette-success-dark")),de(R.Alert,"warningFilledBg",F("palette-warning-dark")),de(R.Alert,"errorFilledColor",vs(()=>R.getContrastText(R.error.dark))),de(R.Alert,"infoFilledColor",vs(()=>R.getContrastText(R.info.dark))),de(R.Alert,"successFilledColor",vs(()=>R.getContrastText(R.success.dark))),de(R.Alert,"warningFilledColor",vs(()=>R.getContrastText(R.warning.dark))),de(R.Alert,"errorStandardBg",Mt(R.error.light,.9)),de(R.Alert,"infoStandardBg",Mt(R.info.light,.9)),de(R.Alert,"successStandardBg",Mt(R.success.light,.9)),de(R.Alert,"warningStandardBg",Mt(R.warning.light,.9)),de(R.Alert,"errorIconColor",F("palette-error-main")),de(R.Alert,"infoIconColor",F("palette-info-main")),de(R.Alert,"successIconColor",F("palette-success-main")),de(R.Alert,"warningIconColor",F("palette-warning-main")),de(R.AppBar,"defaultBg",F("palette-grey-900")),de(R.AppBar,"darkBg",F("palette-background-paper")),de(R.AppBar,"darkColor",F("palette-text-primary")),de(R.Avatar,"defaultBg",F("palette-grey-600")),de(R.Button,"inheritContainedBg",F("palette-grey-800")),de(R.Button,"inheritContainedHoverBg",F("palette-grey-700")),de(R.Chip,"defaultBorder",F("palette-grey-700")),de(R.Chip,"defaultAvatarColor",F("palette-grey-300")),de(R.Chip,"defaultIconColor",F("palette-grey-300")),de(R.FilledInput,"bg","rgba(255, 255, 255, 0.09)"),de(R.FilledInput,"hoverBg","rgba(255, 255, 255, 0.13)"),de(R.FilledInput,"disabledBg","rgba(255, 255, 255, 0.12)"),de(R.LinearProgress,"primaryBg",Mt(R.primary.main,.5)),de(R.LinearProgress,"secondaryBg",Mt(R.secondary.main,.5)),de(R.LinearProgress,"errorBg",Mt(R.error.main,.5)),de(R.LinearProgress,"infoBg",Mt(R.info.main,.5)),de(R.LinearProgress,"successBg",Mt(R.success.main,.5)),de(R.LinearProgress,"warningBg",Mt(R.warning.main,.5)),de(R.Skeleton,"bg",`rgba(${F("palette-text-primaryChannel")} / 0.13)`),de(R.Slider,"primaryTrack",Mt(R.primary.main,.5)),de(R.Slider,"secondaryTrack",Mt(R.secondary.main,.5)),de(R.Slider,"errorTrack",Mt(R.error.main,.5)),de(R.Slider,"infoTrack",Mt(R.info.main,.5)),de(R.Slider,"successTrack",Mt(R.success.main,.5)),de(R.Slider,"warningTrack",Mt(R.warning.main,.5));const z=xv(R.background.default,.98);de(R.SnackbarContent,"bg",z),de(R.SnackbarContent,"color",vs(()=>R.getContrastText(z))),de(R.SpeedDialAction,"fabHoverBg",xv(R.background.paper,.15)),de(R.StepConnector,"border",F("palette-grey-600")),de(R.StepContent,"border",F("palette-grey-600")),de(R.Switch,"defaultColor",F("palette-grey-300")),de(R.Switch,"defaultDisabledColor",F("palette-grey-600")),de(R.Switch,"primaryDisabledColor",Mt(R.primary.main,.55)),de(R.Switch,"secondaryDisabledColor",Mt(R.secondary.main,.55)),de(R.Switch,"errorDisabledColor",Mt(R.error.main,.55)),de(R.Switch,"infoDisabledColor",Mt(R.info.main,.55)),de(R.Switch,"successDisabledColor",Mt(R.success.main,.55)),de(R.Switch,"warningDisabledColor",Mt(R.warning.main,.55)),de(R.TableCell,"border",Mt(wv(R.divider,1),.68)),de(R.Tooltip,"bg",wv(R.grey[700],.92))}fo(R.background,"default"),fo(R.background,"paper"),fo(R.common,"background"),fo(R.common,"onBackground"),fo(R,"divider"),Object.keys(R).forEach(z=>{const U=R[z];z!=="tonalOffset"&&U&&typeof U=="object"&&(U.main&&de(R[z],"mainChannel",Hf(Wf(U.main))),U.light&&de(R[z],"lightChannel",Hf(Wf(U.light))),U.dark&&de(R[z],"darkChannel",Hf(Wf(U.dark))),U.contrastText&&de(R[z],"contrastTextChannel",Hf(Wf(U.contrastText))),z==="text"&&(fo(R[z],"primary"),fo(R[z],"secondary")),z==="action"&&(U.active&&fo(R[z],"active"),U.selected&&fo(R[z],"selected")))})}),_=e.reduce((O,R)=>or(O,R),_);const k={prefix:s,disableCssColorScheme:i,shouldSkipGeneratingVar:o,getSelector:i9(_)},{vars:N,generateThemeVars:T,generateStyleSheets:M}=IV(_,k);return _.vars=N,Object.entries(_.colorSchemes[_.defaultColorScheme]).forEach(([O,R])=>{_[O]=R}),_.generateThemeVars=T,_.generateStyleSheets=M,_.generateSpacing=function(){return a2(d.spacing,M_(this))},_.getColorSchemeSelector=NV(a),_.spacing=_.generateSpacing(),_.shouldSkipGeneratingVar=o,_.unstable_sxConfig={...Pm,...d==null?void 0:d.unstable_sxConfig},_.unstable_sx=function(R){return nu({sx:R,theme:this})},_.toRuntimeSource=C2,_}function QP(t,e,n){t.colorSchemes&&n&&(t.colorSchemes[e]={...n!==!0&&n,palette:B_({...n===!0?{}:n.palette,mode:e})})}function k2(t={},...e){const{palette:n,cssVariables:r=!1,colorSchemes:i=n?void 0:{light:!0},defaultColorScheme:s=n==null?void 0:n.mode,...o}=t,a=s||"light",c=i==null?void 0:i[a],d={...i,...n?{[a]:{...typeof c!="boolean"&&c,palette:n}}:void 0};if(r===!1){if(!("colorSchemes"in t))return SE(t,...e);let h=n;"palette"in t||d[a]&&(d[a]!==!0?h=d[a].palette:a==="dark"&&(h={mode:"dark"}));const f=SE({...t,palette:h},...e);return f.defaultColorScheme=a,f.colorSchemes=d,f.palette.mode==="light"&&(f.colorSchemes.light={...d.light!==!0&&d.light,palette:f.palette},QP(f,"dark",d.dark)),f.palette.mode==="dark"&&(f.colorSchemes.dark={...d.dark!==!0&&d.dark,palette:f.palette},QP(f,"light",d.light)),f}return!n&&!("light"in d)&&a==="light"&&(d.light=!0),l9({...o,colorSchemes:d,defaultColorScheme:a,...typeof r!="boolean"&&r},...e)}const H_=k2();function Vb(){const t=D_(H_);return t[Nb]||t}function R2(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}const zr=t=>R2(t)&&t!=="classes",Pe=oV({themeId:Nb,defaultTheme:H_,rootShouldForwardProp:zr});function c9(t){return L.jsx(Z8,{...t,defaultTheme:H_,themeId:Nb})}function u9(t){return function(n){return L.jsx(c9,{styles:typeof t=="function"?r=>t({theme:r,...n}):t})}}function d9(){return l2}const It=kV;function St(t){return AV(t)}function h9(t){return ht("MuiSvgIcon",t)}nt("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const f9=t=>{const{color:e,fontSize:n,classes:r}=t,i={root:["root",e!=="inherit"&&`color${je(e)}`,`fontSize${je(n)}`]};return ft(i,h9,r)},p9=Pe("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.color!=="inherit"&&e[`color${je(n.color)}`],e[`fontSize${je(n.fontSize)}`]]}})(It(({theme:t})=>{var e,n,r,i,s,o,a,c,d,h,f,p,m,y;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",flexShrink:0,transition:(i=(e=t.transitions)==null?void 0:e.create)==null?void 0:i.call(e,"fill",{duration:(r=(n=(t.vars??t).transitions)==null?void 0:n.duration)==null?void 0:r.shorter}),variants:[{props:b=>!b.hasSvgAsChild,style:{fill:"currentColor"}},{props:{fontSize:"inherit"},style:{fontSize:"inherit"}},{props:{fontSize:"small"},style:{fontSize:((o=(s=t.typography)==null?void 0:s.pxToRem)==null?void 0:o.call(s,20))||"1.25rem"}},{props:{fontSize:"medium"},style:{fontSize:((c=(a=t.typography)==null?void 0:a.pxToRem)==null?void 0:c.call(a,24))||"1.5rem"}},{props:{fontSize:"large"},style:{fontSize:((h=(d=t.typography)==null?void 0:d.pxToRem)==null?void 0:h.call(d,35))||"2.1875rem"}},...Object.entries((t.vars??t).palette).filter(([,b])=>b&&b.main).map(([b])=>{var E,x;return{props:{color:b},style:{color:(x=(E=(t.vars??t).palette)==null?void 0:E[b])==null?void 0:x.main}}}),{props:{color:"action"},style:{color:(p=(f=(t.vars??t).palette)==null?void 0:f.action)==null?void 0:p.active}},{props:{color:"disabled"},style:{color:(y=(m=(t.vars??t).palette)==null?void 0:m.action)==null?void 0:y.disabled}},{props:{color:"inherit"},style:{color:void 0}}]}})),CE=I.forwardRef(function(e,n){const r=St({props:e,name:"MuiSvgIcon"}),{children:i,className:s,color:o="inherit",component:a="svg",fontSize:c="medium",htmlColor:d,inheritViewBox:h=!1,titleAccess:f,viewBox:p="0 0 24 24",...m}=r,y=I.isValidElement(i)&&i.type==="svg",b={...r,color:o,component:a,fontSize:c,instanceFontSize:e.fontSize,inheritViewBox:h,viewBox:p,hasSvgAsChild:y},E={};h||(E.viewBox=p);const x=f9(b);return L.jsxs(p9,{as:a,className:Ve(x.root,s),focusable:"false",color:d,"aria-hidden":f?void 0:!0,role:f?"img":void 0,ref:n,...E,...m,...y&&i.props,ownerState:b,children:[y?i.props.children:i,f?L.jsx("title",{children:f}):null]})});CE.muiName="SvgIcon";function ui(t,e){function n(r,i){return L.jsx(CE,{"data-testid":`${e}Icon`,ref:i,...r,children:t})}return n.muiName=CE.muiName,I.memo(I.forwardRef(n))}function T2(t,e){if(!t)return e;if(typeof t=="function"||typeof e=="function")return i=>{const s=typeof e=="function"?e(i):e,o=typeof t=="function"?t({...i,...s}):t,a=Ve(i==null?void 0:i.className,s==null?void 0:s.className,o==null?void 0:o.className);return{...s,...o,...!!a&&{className:a},...(s==null?void 0:s.style)&&(o==null?void 0:o.style)&&{style:{...s.style,...o.style}},...(s==null?void 0:s.sx)&&(o==null?void 0:o.sx)&&{sx:[...Array.isArray(s.sx)?s.sx:[s.sx],...Array.isArray(o.sx)?o.sx:[o.sx]]}}};const n=e,r=Ve(n==null?void 0:n.className,t==null?void 0:t.className);return{...e,...t,...!!r&&{className:r},...(n==null?void 0:n.style)&&(t==null?void 0:t.style)&&{style:{...n.style,...t.style}},...(n==null?void 0:n.sx)&&(t==null?void 0:t.sx)&&{sx:[...Array.isArray(n.sx)?n.sx:[n.sx],...Array.isArray(t.sx)?t.sx:[t.sx]]}}}function P2(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function _E(t,e){return _E=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},_E(t,e)}function I2(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,_E(t,e)}const ZP={disabled:!1},O0=Ce.createContext(null);var g9=function(e){return e.scrollTop},Uf="unmounted",ql="exited",Yl="entering",td="entered",AE="exiting",eo=function(t){I2(e,t);function e(r,i){var s;s=t.call(this,r,i)||this;var o=i,a=o&&!o.isMounting?r.enter:r.appear,c;return s.appearStatus=null,r.in?a?(c=ql,s.appearStatus=Yl):c=td:r.unmountOnExit||r.mountOnEnter?c=Uf:c=ql,s.state={status:c},s.nextCallback=null,s}e.getDerivedStateFromProps=function(i,s){var o=i.in;return o&&s.status===Uf?{status:ql}:null};var n=e.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(i){var s=null;if(i!==this.props){var o=this.state.status;this.props.in?o!==Yl&&o!==td&&(s=Yl):(o===Yl||o===td)&&(s=AE)}this.updateStatus(!1,s)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var i=this.props.timeout,s,o,a;return s=o=a=i,i!=null&&typeof i!="number"&&(s=i.exit,o=i.enter,a=i.appear!==void 0?i.appear:o),{exit:s,enter:o,appear:a}},n.updateStatus=function(i,s){if(i===void 0&&(i=!1),s!==null)if(this.cancelNextCallback(),s===Yl){if(this.props.unmountOnExit||this.props.mountOnEnter){var o=this.props.nodeRef?this.props.nodeRef.current:gl.findDOMNode(this);o&&g9(o)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===ql&&this.setState({status:Uf})},n.performEnter=function(i){var s=this,o=this.props.enter,a=this.context?this.context.isMounting:i,c=this.props.nodeRef?[a]:[gl.findDOMNode(this),a],d=c[0],h=c[1],f=this.getTimeouts(),p=a?f.appear:f.enter;if(!i&&!o||ZP.disabled){this.safeSetState({status:td},function(){s.props.onEntered(d)});return}this.props.onEnter(d,h),this.safeSetState({status:Yl},function(){s.props.onEntering(d,h),s.onTransitionEnd(p,function(){s.safeSetState({status:td},function(){s.props.onEntered(d,h)})})})},n.performExit=function(){var i=this,s=this.props.exit,o=this.getTimeouts(),a=this.props.nodeRef?void 0:gl.findDOMNode(this);if(!s||ZP.disabled){this.safeSetState({status:ql},function(){i.props.onExited(a)});return}this.props.onExit(a),this.safeSetState({status:AE},function(){i.props.onExiting(a),i.onTransitionEnd(o.exit,function(){i.safeSetState({status:ql},function(){i.props.onExited(a)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(i,s){s=this.setNextCallback(s),this.setState(i,s)},n.setNextCallback=function(i){var s=this,o=!0;return this.nextCallback=function(a){o&&(o=!1,s.nextCallback=null,i(a))},this.nextCallback.cancel=function(){o=!1},this.nextCallback},n.onTransitionEnd=function(i,s){this.setNextCallback(s);var o=this.props.nodeRef?this.props.nodeRef.current:gl.findDOMNode(this),a=i==null&&!this.props.addEndListener;if(!o||a){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var c=this.props.nodeRef?[this.nextCallback]:[o,this.nextCallback],d=c[0],h=c[1];this.props.addEndListener(d,h)}i!=null&&setTimeout(this.nextCallback,i)},n.render=function(){var i=this.state.status;if(i===Uf)return null;var s=this.props,o=s.children;s.in,s.mountOnEnter,s.unmountOnExit,s.appear,s.enter,s.exit,s.timeout,s.addEndListener,s.onEnter,s.onEntering,s.onEntered,s.onExit,s.onExiting,s.onExited,s.nodeRef;var a=P2(s,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return Ce.createElement(O0.Provider,{value:null},typeof o=="function"?o(i,a):Ce.cloneElement(Ce.Children.only(o),a))},e}(Ce.Component);eo.contextType=O0;eo.propTypes={};function Qu(){}eo.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Qu,onEntering:Qu,onEntered:Qu,onExit:Qu,onExiting:Qu,onExited:Qu};eo.UNMOUNTED=Uf;eo.EXITED=ql;eo.ENTERING=Yl;eo.ENTERED=td;eo.EXITING=AE;function m9(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function W_(t,e){var n=function(s){return e&&I.isValidElement(s)?e(s):s},r=Object.create(null);return t&&I.Children.map(t,function(i){return i}).forEach(function(i){r[i.key]=n(i)}),r}function y9(t,e){t=t||{},e=e||{};function n(h){return h in e?e[h]:t[h]}var r=Object.create(null),i=[];for(var s in t)s in e?i.length&&(r[s]=i,i=[]):i.push(s);var o,a={};for(var c in e){if(r[c])for(o=0;o<r[c].length;o++){var d=r[c][o];a[r[c][o]]=n(d)}a[c]=n(c)}for(o=0;o<i.length;o++)a[i[o]]=n(i[o]);return a}function tc(t,e,n){return n[e]!=null?n[e]:t.props[e]}function v9(t,e){return W_(t.children,function(n){return I.cloneElement(n,{onExited:e.bind(null,n),in:!0,appear:tc(n,"appear",t),enter:tc(n,"enter",t),exit:tc(n,"exit",t)})})}function b9(t,e,n){var r=W_(t.children),i=y9(e,r);return Object.keys(i).forEach(function(s){var o=i[s];if(I.isValidElement(o)){var a=s in e,c=s in r,d=e[s],h=I.isValidElement(d)&&!d.props.in;c&&(!a||h)?i[s]=I.cloneElement(o,{onExited:n.bind(null,o),in:!0,exit:tc(o,"exit",t),enter:tc(o,"enter",t)}):!c&&a&&!h?i[s]=I.cloneElement(o,{in:!1}):c&&a&&I.isValidElement(d)&&(i[s]=I.cloneElement(o,{onExited:n.bind(null,o),in:d.props.in,exit:tc(o,"exit",t),enter:tc(o,"enter",t)}))}}),i}var w9=Object.values||function(t){return Object.keys(t).map(function(e){return t[e]})},x9={component:"div",childFactory:function(e){return e}},U_=function(t){I2(e,t);function e(r,i){var s;s=t.call(this,r,i)||this;var o=s.handleExited.bind(m9(s));return s.state={contextValue:{isMounting:!0},handleExited:o,firstRender:!0},s}var n=e.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},e.getDerivedStateFromProps=function(i,s){var o=s.children,a=s.handleExited,c=s.firstRender;return{children:c?v9(i,a):b9(i,o,a),firstRender:!1}},n.handleExited=function(i,s){var o=W_(this.props.children);i.key in o||(i.props.onExited&&i.props.onExited(s),this.mounted&&this.setState(function(a){var c=P0({},a.children);return delete c[i.key],{children:c}}))},n.render=function(){var i=this.props,s=i.component,o=i.childFactory,a=P2(i,["component","childFactory"]),c=this.state.contextValue,d=w9(this.state.children).map(o);return delete a.appear,delete a.enter,delete a.exit,s===null?Ce.createElement(O0.Provider,{value:c},d):Ce.createElement(O0.Provider,{value:c},Ce.createElement(s,a,d))},e}(Ce.Component);U_.propTypes={};U_.defaultProps=x9;const N2=t=>t.scrollTop;function L0(t,e){const{timeout:n,easing:r,style:i={}}=t;return{duration:i.transitionDuration??(typeof n=="number"?n:n[e.mode]||0),easing:i.transitionTimingFunction??(typeof r=="object"?r[e.mode]:r),delay:i.transitionDelay}}function S9(t){return ht("MuiPaper",t)}nt("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const E9=t=>{const{square:e,elevation:n,variant:r,classes:i}=t,s={root:["root",r,!e&&"rounded",r==="elevation"&&`elevation${n}`]};return ft(s,S9,i)},C9=Pe("div",{name:"MuiPaper",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],!n.square&&e.rounded,n.variant==="elevation"&&e[`elevation${n.elevation}`]]}})(It(({theme:t})=>({backgroundColor:(t.vars||t).palette.background.paper,color:(t.vars||t).palette.text.primary,transition:t.transitions.create("box-shadow"),variants:[{props:({ownerState:e})=>!e.square,style:{borderRadius:t.shape.borderRadius}},{props:{variant:"outlined"},style:{border:`1px solid ${(t.vars||t).palette.divider}`}},{props:{variant:"elevation"},style:{boxShadow:"var(--Paper-shadow)",backgroundImage:"var(--Paper-overlay)"}}]}))),V_=I.forwardRef(function(e,n){var m;const r=St({props:e,name:"MuiPaper"}),i=Vb(),{className:s,component:o="div",elevation:a=1,square:c=!1,variant:d="elevation",...h}=r,f={...r,component:o,elevation:a,square:c,variant:d},p=E9(f);return L.jsx(C9,{as:o,ownerState:f,className:Ve(p.root,s),ref:n,...h,style:{...d==="elevation"&&{"--Paper-shadow":(i.vars||i).shadows[a],...i.vars&&{"--Paper-overlay":(m=i.vars.overlays)==null?void 0:m[a]},...!i.vars&&i.palette.mode==="dark"&&{"--Paper-overlay":`linear-gradient(${rr("#fff",EE(a))}, ${rr("#fff",EE(a))})`}},...h.style}})});function Jt(t,e){const{className:n,elementType:r,ownerState:i,externalForwardedProps:s,internalForwardedProps:o,shouldForwardComponentProp:a=!1,...c}=e,{component:d,slots:h={[t]:void 0},slotProps:f={[t]:void 0},...p}=s,m=h[t]||r,y=x2(f[t],i),{props:{component:b,...E},internalRef:x}=w2({className:n,...c,externalForwardedProps:t==="root"?p:void 0,externalSlotProps:y}),C=wr(x,y==null?void 0:y.ref,e.ref),S=t==="root"?b||d:b,_=v2(m,{...t==="root"&&!d&&!h[t]&&o,...t!=="root"&&!h[t]&&o,...E,...S&&!a&&{as:S},...S&&a&&{component:S},ref:C},i);return[m,_]}class D0{constructor(){Te(this,"mountEffect",()=>{this.shouldMount&&!this.didMount&&this.ref.current!==null&&(this.didMount=!0,this.mounted.resolve())});this.ref={current:null},this.mounted=null,this.didMount=!1,this.shouldMount=!1,this.setShouldMount=null}static create(){return new D0}static use(){const e=g2(D0.create).current,[n,r]=I.useState(!1);return e.shouldMount=n,e.setShouldMount=r,I.useEffect(e.mountEffect,[n]),e}mount(){return this.mounted||(this.mounted=A9(),this.shouldMount=!0,this.setShouldMount(this.shouldMount)),this.mounted}start(...e){this.mount().then(()=>{var n;return(n=this.ref.current)==null?void 0:n.start(...e)})}stop(...e){this.mount().then(()=>{var n;return(n=this.ref.current)==null?void 0:n.stop(...e)})}pulsate(...e){this.mount().then(()=>{var n;return(n=this.ref.current)==null?void 0:n.pulsate(...e)})}}function _9(){return D0.use()}function A9(){let t,e;const n=new Promise((r,i)=>{t=r,e=i});return n.resolve=t,n.reject=e,n}function k9(t){const{className:e,classes:n,pulsate:r=!1,rippleX:i,rippleY:s,rippleSize:o,in:a,onExited:c,timeout:d}=t,[h,f]=I.useState(!1),p=Ve(e,n.ripple,n.rippleVisible,r&&n.ripplePulsate),m={width:o,height:o,top:-(o/2)+s,left:-(o/2)+i},y=Ve(n.child,h&&n.childLeaving,r&&n.childPulsate);return!a&&!h&&f(!0),I.useEffect(()=>{if(!a&&c!=null){const b=setTimeout(c,d);return()=>{clearTimeout(b)}}},[c,a,d]),L.jsx("span",{className:p,style:m,children:L.jsx("span",{className:y})})}const _i=nt("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),kE=550,R9=80,T9=km`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`,P9=km`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`,I9=km`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`,N9=Pe("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),M9=Pe(k9,{name:"MuiTouchRipple",slot:"Ripple"})`
  opacity: 0;
  position: absolute;

  &.${_i.rippleVisible} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${T9};
    animation-duration: ${kE}ms;
    animation-timing-function: ${({theme:t})=>t.transitions.easing.easeInOut};
  }

  &.${_i.ripplePulsate} {
    animation-duration: ${({theme:t})=>t.transitions.duration.shorter}ms;
  }

  & .${_i.child} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${_i.childLeaving} {
    opacity: 0;
    animation-name: ${P9};
    animation-duration: ${kE}ms;
    animation-timing-function: ${({theme:t})=>t.transitions.easing.easeInOut};
  }

  & .${_i.childPulsate} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${I9};
    animation-duration: 2500ms;
    animation-timing-function: ${({theme:t})=>t.transitions.easing.easeInOut};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`,O9=I.forwardRef(function(e,n){const r=St({props:e,name:"MuiTouchRipple"}),{center:i=!1,classes:s={},className:o,...a}=r,[c,d]=I.useState([]),h=I.useRef(0),f=I.useRef(null);I.useEffect(()=>{f.current&&(f.current(),f.current=null)},[c]);const p=I.useRef(!1),m=m2(),y=I.useRef(null),b=I.useRef(null),E=I.useCallback(_=>{const{pulsate:k,rippleX:N,rippleY:T,rippleSize:M,cb:O}=_;d(R=>[...R,L.jsx(M9,{classes:{ripple:Ve(s.ripple,_i.ripple),rippleVisible:Ve(s.rippleVisible,_i.rippleVisible),ripplePulsate:Ve(s.ripplePulsate,_i.ripplePulsate),child:Ve(s.child,_i.child),childLeaving:Ve(s.childLeaving,_i.childLeaving),childPulsate:Ve(s.childPulsate,_i.childPulsate)},timeout:kE,pulsate:k,rippleX:N,rippleY:T,rippleSize:M},h.current)]),h.current+=1,f.current=O},[s]),x=I.useCallback((_={},k={},N=()=>{})=>{const{pulsate:T=!1,center:M=i||k.pulsate,fakeElement:O=!1}=k;if((_==null?void 0:_.type)==="mousedown"&&p.current){p.current=!1;return}(_==null?void 0:_.type)==="touchstart"&&(p.current=!0);const R=O?null:b.current,F=R?R.getBoundingClientRect():{width:0,height:0,left:0,top:0};let z,U,D;if(M||_===void 0||_.clientX===0&&_.clientY===0||!_.clientX&&!_.touches)z=Math.round(F.width/2),U=Math.round(F.height/2);else{const{clientX:V,clientY:H}=_.touches&&_.touches.length>0?_.touches[0]:_;z=Math.round(V-F.left),U=Math.round(H-F.top)}if(M)D=Math.sqrt((2*F.width**2+F.height**2)/3),D%2===0&&(D+=1);else{const V=Math.max(Math.abs((R?R.clientWidth:0)-z),z)*2+2,H=Math.max(Math.abs((R?R.clientHeight:0)-U),U)*2+2;D=Math.sqrt(V**2+H**2)}_!=null&&_.touches?y.current===null&&(y.current=()=>{E({pulsate:T,rippleX:z,rippleY:U,rippleSize:D,cb:N})},m.start(R9,()=>{y.current&&(y.current(),y.current=null)})):E({pulsate:T,rippleX:z,rippleY:U,rippleSize:D,cb:N})},[i,E,m]),C=I.useCallback(()=>{x({},{pulsate:!0})},[x]),S=I.useCallback((_,k)=>{if(m.clear(),(_==null?void 0:_.type)==="touchend"&&y.current){y.current(),y.current=null,m.start(0,()=>{S(_,k)});return}y.current=null,d(N=>N.length>0?N.slice(1):N),f.current=k},[m]);return I.useImperativeHandle(n,()=>({pulsate:C,start:x,stop:S}),[C,x,S]),L.jsx(N9,{className:Ve(_i.root,s.root,o),ref:b,...a,children:L.jsx(U_,{component:null,exit:!0,children:c})})});function L9(t){return ht("MuiButtonBase",t)}const D9=nt("MuiButtonBase",["root","disabled","focusVisible"]),F9=t=>{const{disabled:e,focusVisible:n,focusVisibleClassName:r,classes:i}=t,o=ft({root:["root",e&&"disabled",n&&"focusVisible"]},L9,i);return n&&r&&(o.root+=` ${r}`),o},$9=Pe("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${D9.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),Gb=I.forwardRef(function(e,n){const r=St({props:e,name:"MuiButtonBase"}),{action:i,centerRipple:s=!1,children:o,className:a,component:c="button",disabled:d=!1,disableRipple:h=!1,disableTouchRipple:f=!1,focusRipple:p=!1,focusVisibleClassName:m,LinkComponent:y="a",onBlur:b,onClick:E,onContextMenu:x,onDragLeave:C,onFocus:S,onFocusVisible:_,onKeyDown:k,onKeyUp:N,onMouseDown:T,onMouseLeave:M,onMouseUp:O,onTouchEnd:R,onTouchMove:F,onTouchStart:z,tabIndex:U=0,TouchRippleProps:D,touchRippleRef:V,type:H,...K}=r,q=I.useRef(null),G=_9(),te=wr(G.ref,V),[Y,Z]=I.useState(!1);d&&Y&&Z(!1),I.useImperativeHandle(i,()=>({focusVisible:()=>{Z(!0),q.current.focus()}}),[]);const X=G.shouldMount&&!h&&!d;I.useEffect(()=>{Y&&p&&!h&&G.pulsate()},[h,p,Y,G]);const Q=po(G,"start",T,f),J=po(G,"stop",x,f),ie=po(G,"stop",C,f),ne=po(G,"stop",O,f),oe=po(G,"stop",De=>{Y&&De.preventDefault(),M&&M(De)},f),ue=po(G,"start",z,f),fe=po(G,"stop",R,f),ye=po(G,"stop",F,f),pe=po(G,"stop",De=>{HP(De.target)||Z(!1),b&&b(De)},!1),Se=gd(De=>{q.current||(q.current=De.currentTarget),HP(De.target)&&(Z(!0),_&&_(De)),S&&S(De)}),xe=()=>{const De=q.current;return c&&c!=="button"&&!(De.tagName==="A"&&De.href)},Ge=gd(De=>{p&&!De.repeat&&Y&&De.key===" "&&G.stop(De,()=>{G.start(De)}),De.target===De.currentTarget&&xe()&&De.key===" "&&De.preventDefault(),k&&k(De),De.target===De.currentTarget&&xe()&&De.key==="Enter"&&!d&&(De.preventDefault(),E&&E(De))}),pt=gd(De=>{p&&De.key===" "&&Y&&!De.defaultPrevented&&G.stop(De,()=>{G.pulsate(De)}),N&&N(De),E&&De.target===De.currentTarget&&xe()&&De.key===" "&&!De.defaultPrevented&&E(De)});let Gt=c;Gt==="button"&&(K.href||K.to)&&(Gt=y);const zt={};Gt==="button"?(zt.type=H===void 0?"button":H,zt.disabled=d):(!K.href&&!K.to&&(zt.role="button"),d&&(zt["aria-disabled"]=d));const Tn=wr(n,q),Nt={...r,centerRipple:s,component:c,disabled:d,disableRipple:h,disableTouchRipple:f,focusRipple:p,tabIndex:U,focusVisible:Y},wt=F9(Nt);return L.jsxs($9,{as:Gt,className:Ve(wt.root,a),ownerState:Nt,onBlur:pe,onClick:E,onContextMenu:J,onFocus:Se,onKeyDown:Ge,onKeyUp:pt,onMouseDown:Q,onMouseLeave:oe,onMouseUp:ne,onDragLeave:ie,onTouchEnd:fe,onTouchMove:ye,onTouchStart:ue,ref:Tn,tabIndex:d?-1:U,type:H,...zt,...K,children:[o,X?L.jsx(O9,{ref:te,center:s,...D}):null]})});function po(t,e,n,r=!1){return gd(i=>(n&&n(i),r||t[e](i),!0))}function z9(t){return typeof t.main=="string"}function j9(t,e=[]){if(!z9(t))return!1;for(const n of e)if(!t.hasOwnProperty(n)||typeof t[n]!="string")return!1;return!0}function is(t=[]){return([,e])=>e&&j9(e,t)}function B9(t){return ht("MuiCircularProgress",t)}nt("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);const Fa=44,RE=km`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`,TE=km`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: -126px;
  }
`,H9=typeof RE!="string"?T_`
        animation: ${RE} 1.4s linear infinite;
      `:null,W9=typeof TE!="string"?T_`
        animation: ${TE} 1.4s ease-in-out infinite;
      `:null,U9=t=>{const{classes:e,variant:n,color:r,disableShrink:i}=t,s={root:["root",n,`color${je(r)}`],svg:["svg"],circle:["circle",`circle${je(n)}`,i&&"circleDisableShrink"]};return ft(s,B9,e)},V9=Pe("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],e[`color${je(n.color)}`]]}})(It(({theme:t})=>({display:"inline-block",variants:[{props:{variant:"determinate"},style:{transition:t.transitions.create("transform")}},{props:{variant:"indeterminate"},style:H9||{animation:`${RE} 1.4s linear infinite`}},...Object.entries(t.palette).filter(is()).map(([e])=>({props:{color:e},style:{color:(t.vars||t).palette[e].main}}))]}))),G9=Pe("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:(t,e)=>e.svg})({display:"block"}),q9=Pe("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.circle,e[`circle${je(n.variant)}`],n.disableShrink&&e.circleDisableShrink]}})(It(({theme:t})=>({stroke:"currentColor",variants:[{props:{variant:"determinate"},style:{transition:t.transitions.create("stroke-dashoffset")}},{props:{variant:"indeterminate"},style:{strokeDasharray:"80px, 200px",strokeDashoffset:0}},{props:({ownerState:e})=>e.variant==="indeterminate"&&!e.disableShrink,style:W9||{animation:`${TE} 1.4s ease-in-out infinite`}}]}))),M2=I.forwardRef(function(e,n){const r=St({props:e,name:"MuiCircularProgress"}),{className:i,color:s="primary",disableShrink:o=!1,size:a=40,style:c,thickness:d=3.6,value:h=0,variant:f="indeterminate",...p}=r,m={...r,color:s,disableShrink:o,size:a,thickness:d,value:h,variant:f},y=U9(m),b={},E={},x={};if(f==="determinate"){const C=2*Math.PI*((Fa-d)/2);b.strokeDasharray=C.toFixed(3),x["aria-valuenow"]=Math.round(h),b.strokeDashoffset=`${((100-h)/100*C).toFixed(3)}px`,E.transform="rotate(-90deg)"}return L.jsx(V9,{className:Ve(y.root,i),style:{width:a,height:a,...E,...c},ownerState:m,ref:n,role:"progressbar",...x,...p,children:L.jsx(G9,{className:y.svg,ownerState:m,viewBox:`${Fa/2} ${Fa/2} ${Fa} ${Fa}`,children:L.jsx(q9,{className:y.circle,style:b,ownerState:m,cx:Fa,cy:Fa,r:(Fa-d)/2,fill:"none",strokeWidth:d})})})});function Y9(t){return ht("MuiIconButton",t)}const JP=nt("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge","loading","loadingIndicator","loadingWrapper"]),X9=t=>{const{classes:e,disabled:n,color:r,edge:i,size:s,loading:o}=t,a={root:["root",o&&"loading",n&&"disabled",r!=="default"&&`color${je(r)}`,i&&`edge${je(i)}`,`size${je(s)}`],loadingIndicator:["loadingIndicator"],loadingWrapper:["loadingWrapper"]};return ft(a,Y9,e)},K9=Pe(Gb,{name:"MuiIconButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.loading&&e.loading,n.color!=="default"&&e[`color${je(n.color)}`],n.edge&&e[`edge${je(n.edge)}`],e[`size${je(n.size)}`]]}})(It(({theme:t})=>({textAlign:"center",flex:"0 0 auto",fontSize:t.typography.pxToRem(24),padding:8,borderRadius:"50%",color:(t.vars||t).palette.action.active,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest}),variants:[{props:e=>!e.disableRipple,style:{"--IconButton-hoverBg":t.vars?`rgba(${t.vars.palette.action.activeChannel} / ${t.vars.palette.action.hoverOpacity})`:rr(t.palette.action.active,t.palette.action.hoverOpacity),"&:hover":{backgroundColor:"var(--IconButton-hoverBg)","@media (hover: none)":{backgroundColor:"transparent"}}}},{props:{edge:"start"},style:{marginLeft:-12}},{props:{edge:"start",size:"small"},style:{marginLeft:-3}},{props:{edge:"end"},style:{marginRight:-12}},{props:{edge:"end",size:"small"},style:{marginRight:-3}}]})),It(({theme:t})=>({variants:[{props:{color:"inherit"},style:{color:"inherit"}},...Object.entries(t.palette).filter(is()).map(([e])=>({props:{color:e},style:{color:(t.vars||t).palette[e].main}})),...Object.entries(t.palette).filter(is()).map(([e])=>({props:{color:e},style:{"--IconButton-hoverBg":t.vars?`rgba(${(t.vars||t).palette[e].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:rr((t.vars||t).palette[e].main,t.palette.action.hoverOpacity)}})),{props:{size:"small"},style:{padding:5,fontSize:t.typography.pxToRem(18)}},{props:{size:"large"},style:{padding:12,fontSize:t.typography.pxToRem(28)}}],[`&.${JP.disabled}`]:{backgroundColor:"transparent",color:(t.vars||t).palette.action.disabled},[`&.${JP.loading}`]:{color:"transparent"}}))),Q9=Pe("span",{name:"MuiIconButton",slot:"LoadingIndicator",overridesResolver:(t,e)=>e.loadingIndicator})(({theme:t})=>({display:"none",position:"absolute",visibility:"visible",top:"50%",left:"50%",transform:"translate(-50%, -50%)",color:(t.vars||t).palette.action.disabled,variants:[{props:{loading:!0},style:{display:"flex"}}]})),Np=I.forwardRef(function(e,n){const r=St({props:e,name:"MuiIconButton"}),{edge:i=!1,children:s,className:o,color:a="default",disabled:c=!1,disableFocusRipple:d=!1,size:h="medium",id:f,loading:p=null,loadingIndicator:m,...y}=r,b=Im(f),E=m??L.jsx(M2,{"aria-labelledby":b,color:"inherit",size:16}),x={...r,edge:i,color:a,disabled:c,disableFocusRipple:d,loading:p,loadingIndicator:E,size:h},C=X9(x);return L.jsxs(K9,{id:p?b:f,className:Ve(C.root,o),centerRipple:!0,focusRipple:!d,disabled:c||p,ref:n,...y,ownerState:x,children:[typeof p=="boolean"&&L.jsx("span",{className:C.loadingWrapper,style:{display:"contents"},children:L.jsx(Q9,{className:C.loadingIndicator,ownerState:x,children:p&&E})}),s]})});function Z9(t){return ht("MuiTypography",t)}nt("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const J9={primary:!0,secondary:!0,error:!0,info:!0,success:!0,warning:!0,textPrimary:!0,textSecondary:!0,textDisabled:!0},eG=d9(),tG=t=>{const{align:e,gutterBottom:n,noWrap:r,paragraph:i,variant:s,classes:o}=t,a={root:["root",s,t.align!=="inherit"&&`align${je(e)}`,n&&"gutterBottom",r&&"noWrap",i&&"paragraph"]};return ft(a,Z9,o)},nG=Pe("span",{name:"MuiTypography",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.variant&&e[n.variant],n.align!=="inherit"&&e[`align${je(n.align)}`],n.noWrap&&e.noWrap,n.gutterBottom&&e.gutterBottom,n.paragraph&&e.paragraph]}})(It(({theme:t})=>{var e;return{margin:0,variants:[{props:{variant:"inherit"},style:{font:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}},...Object.entries(t.typography).filter(([n,r])=>n!=="inherit"&&r&&typeof r=="object").map(([n,r])=>({props:{variant:n},style:r})),...Object.entries(t.palette).filter(is()).map(([n])=>({props:{color:n},style:{color:(t.vars||t).palette[n].main}})),...Object.entries(((e=t.palette)==null?void 0:e.text)||{}).filter(([,n])=>typeof n=="string").map(([n])=>({props:{color:`text${je(n)}`},style:{color:(t.vars||t).palette.text[n]}})),{props:({ownerState:n})=>n.align!=="inherit",style:{textAlign:"var(--Typography-textAlign)"}},{props:({ownerState:n})=>n.noWrap,style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},{props:({ownerState:n})=>n.gutterBottom,style:{marginBottom:"0.35em"}},{props:({ownerState:n})=>n.paragraph,style:{marginBottom:16}}]}})),eI={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},gr=I.forwardRef(function(e,n){const{color:r,...i}=St({props:e,name:"MuiTypography"}),s=!J9[r],o=eG({...i,...s&&{color:r}}),{align:a="inherit",className:c,component:d,gutterBottom:h=!1,noWrap:f=!1,paragraph:p=!1,variant:m="body1",variantMapping:y=eI,...b}=o,E={...o,align:a,color:r,className:c,component:d,gutterBottom:h,noWrap:f,paragraph:p,variant:m,variantMapping:y},x=d||(p?"p":y[m]||eI[m])||"span",C=tG(E);return L.jsx(nG,{as:x,ref:n,className:Ve(C.root,c),...b,ownerState:E,style:{...a!=="inherit"&&{"--Typography-textAlign":a},...b.style}})});function rG(t){return typeof t=="function"?t():t}const iG=I.forwardRef(function(e,n){const{children:r,container:i,disablePortal:s=!1}=e,[o,a]=I.useState(null),c=wr(I.isValidElement(r)?Nm(r):null,n);if(bl(()=>{s||a(rG(i)||document.body)},[i,s]),bl(()=>{if(o&&!s)return wE(n,o),()=>{wE(n,null)}},[n,o,s]),s){if(I.isValidElement(r)){const d={ref:c};return I.cloneElement(r,d)}return r}return o&&Ko.createPortal(r,o)});function Sv(t){return parseInt(t,10)||0}const sG={shadow:{visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"}};function oG(t){for(const e in t)return!1;return!0}function aG(t){return oG(t)||t.outerHeightStyle===0&&!t.overflowing}const lG=I.forwardRef(function(e,n){const{onChange:r,maxRows:i,minRows:s=1,style:o,value:a,...c}=e,{current:d}=I.useRef(a!=null),h=I.useRef(null),f=wr(n,h),p=I.useRef(null),m=I.useRef(null),y=I.useCallback(()=>{const C=h.current,S=m.current;if(!C||!S)return;const k=sa(C).getComputedStyle(C);if(k.width==="0px")return{outerHeightStyle:0,overflowing:!1};S.style.width=k.width,S.value=C.value||e.placeholder||"x",S.value.slice(-1)===`
`&&(S.value+=" ");const N=k.boxSizing,T=Sv(k.paddingBottom)+Sv(k.paddingTop),M=Sv(k.borderBottomWidth)+Sv(k.borderTopWidth),O=S.scrollHeight;S.value="x";const R=S.scrollHeight;let F=O;s&&(F=Math.max(Number(s)*R,F)),i&&(F=Math.min(Number(i)*R,F)),F=Math.max(F,R);const z=F+(N==="border-box"?T+M:0),U=Math.abs(F-O)<=1;return{outerHeightStyle:z,overflowing:U}},[i,s,e.placeholder]),b=I.useCallback(()=>{const C=h.current,S=y();if(!C||!S||aG(S))return;const _=S.outerHeightStyle;p.current!==_&&(p.current=_,C.style.height=`${_}px`),C.style.overflow=S.overflowing?"hidden":""},[y]),E=I.useRef(-1);bl(()=>{const C=p2(()=>b()),S=h==null?void 0:h.current;if(!S)return;const _=sa(S);_.addEventListener("resize",C);let k;return typeof ResizeObserver<"u"&&(k=new ResizeObserver(()=>{k.unobserve(S),cancelAnimationFrame(E.current),b(),E.current=requestAnimationFrame(()=>{k.observe(S)})}),k.observe(S)),()=>{C.clear(),cancelAnimationFrame(E.current),_.removeEventListener("resize",C),k&&k.disconnect()}},[y,b]),bl(()=>{b()});const x=C=>{d||b(),r&&r(C)};return L.jsxs(I.Fragment,{children:[L.jsx("textarea",{value:a,onChange:x,ref:f,rows:s,style:o,...c}),L.jsx("textarea",{"aria-hidden":!0,className:e.className,readOnly:!0,ref:m,tabIndex:-1,style:{...sG.shadow,...o,paddingTop:0,paddingBottom:0}})]})});function PE(t){return typeof t=="string"}function du({props:t,states:e,muiFormControl:n}){return e.reduce((r,i)=>(r[i]=t[i],n&&typeof t[i]>"u"&&(r[i]=n[i]),r),{})}const G_=I.createContext(void 0);function _l(){return I.useContext(G_)}function tI(t){return t!=null&&!(Array.isArray(t)&&t.length===0)}function F0(t,e=!1){return t&&(tI(t.value)&&t.value!==""||e&&tI(t.defaultValue)&&t.defaultValue!=="")}function cG(t){return t.startAdornment}function uG(t){return ht("MuiInputBase",t)}const xh=nt("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]);var nI;const qb=(t,e)=>{const{ownerState:n}=t;return[e.root,n.formControl&&e.formControl,n.startAdornment&&e.adornedStart,n.endAdornment&&e.adornedEnd,n.error&&e.error,n.size==="small"&&e.sizeSmall,n.multiline&&e.multiline,n.color&&e[`color${je(n.color)}`],n.fullWidth&&e.fullWidth,n.hiddenLabel&&e.hiddenLabel]},Yb=(t,e)=>{const{ownerState:n}=t;return[e.input,n.size==="small"&&e.inputSizeSmall,n.multiline&&e.inputMultiline,n.type==="search"&&e.inputTypeSearch,n.startAdornment&&e.inputAdornedStart,n.endAdornment&&e.inputAdornedEnd,n.hiddenLabel&&e.inputHiddenLabel]},dG=t=>{const{classes:e,color:n,disabled:r,error:i,endAdornment:s,focused:o,formControl:a,fullWidth:c,hiddenLabel:d,multiline:h,readOnly:f,size:p,startAdornment:m,type:y}=t,b={root:["root",`color${je(n)}`,r&&"disabled",i&&"error",c&&"fullWidth",o&&"focused",a&&"formControl",p&&p!=="medium"&&`size${je(p)}`,h&&"multiline",m&&"adornedStart",s&&"adornedEnd",d&&"hiddenLabel",f&&"readOnly"],input:["input",r&&"disabled",y==="search"&&"inputTypeSearch",h&&"inputMultiline",p==="small"&&"inputSizeSmall",d&&"inputHiddenLabel",m&&"inputAdornedStart",s&&"inputAdornedEnd",f&&"readOnly"]};return ft(b,uG,e)},Xb=Pe("div",{name:"MuiInputBase",slot:"Root",overridesResolver:qb})(It(({theme:t})=>({...t.typography.body1,color:(t.vars||t).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${xh.disabled}`]:{color:(t.vars||t).palette.text.disabled,cursor:"default"},variants:[{props:({ownerState:e})=>e.multiline,style:{padding:"4px 0 5px"}},{props:({ownerState:e,size:n})=>e.multiline&&n==="small",style:{paddingTop:1}},{props:({ownerState:e})=>e.fullWidth,style:{width:"100%"}}]}))),Kb=Pe("input",{name:"MuiInputBase",slot:"Input",overridesResolver:Yb})(It(({theme:t})=>{const e=t.palette.mode==="light",n={color:"currentColor",...t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:e?.42:.5},transition:t.transitions.create("opacity",{duration:t.transitions.duration.shorter})},r={opacity:"0 !important"},i=t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:e?.42:.5};return{font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%","&::-webkit-input-placeholder":n,"&::-moz-placeholder":n,"&::-ms-input-placeholder":n,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${xh.formControl} &`]:{"&::-webkit-input-placeholder":r,"&::-moz-placeholder":r,"&::-ms-input-placeholder":r,"&:focus::-webkit-input-placeholder":i,"&:focus::-moz-placeholder":i,"&:focus::-ms-input-placeholder":i},[`&.${xh.disabled}`]:{opacity:1,WebkitTextFillColor:(t.vars||t).palette.text.disabled},variants:[{props:({ownerState:s})=>!s.disableInjectingGlobalStyles,style:{animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}}},{props:{size:"small"},style:{paddingTop:1}},{props:({ownerState:s})=>s.multiline,style:{height:"auto",resize:"none",padding:0,paddingTop:0}},{props:{type:"search"},style:{MozAppearance:"textfield"}}]}})),rI=u9({"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}),q_=I.forwardRef(function(e,n){const r=St({props:e,name:"MuiInputBase"}),{"aria-describedby":i,autoComplete:s,autoFocus:o,className:a,color:c,components:d={},componentsProps:h={},defaultValue:f,disabled:p,disableInjectingGlobalStyles:m,endAdornment:y,error:b,fullWidth:E=!1,id:x,inputComponent:C="input",inputProps:S={},inputRef:_,margin:k,maxRows:N,minRows:T,multiline:M=!1,name:O,onBlur:R,onChange:F,onClick:z,onFocus:U,onKeyDown:D,onKeyUp:V,placeholder:H,readOnly:K,renderSuffix:q,rows:G,size:te,slotProps:Y={},slots:Z={},startAdornment:X,type:Q="text",value:J,...ie}=r,ne=S.value!=null?S.value:J,{current:oe}=I.useRef(ne!=null),ue=I.useRef(),fe=I.useCallback(ct=>{},[]),ye=wr(ue,_,S.ref,fe),[pe,Se]=I.useState(!1),xe=_l(),Ge=du({props:r,muiFormControl:xe,states:["color","disabled","error","hiddenLabel","size","required","filled"]});Ge.focused=xe?xe.focused:pe,I.useEffect(()=>{!xe&&p&&pe&&(Se(!1),R&&R())},[xe,p,pe,R]);const pt=xe&&xe.onFilled,Gt=xe&&xe.onEmpty,zt=I.useCallback(ct=>{F0(ct)?pt&&pt():Gt&&Gt()},[pt,Gt]);bl(()=>{oe&&zt({value:ne})},[ne,zt,oe]);const Tn=ct=>{U&&U(ct),S.onFocus&&S.onFocus(ct),xe&&xe.onFocus?xe.onFocus(ct):Se(!0)},Nt=ct=>{R&&R(ct),S.onBlur&&S.onBlur(ct),xe&&xe.onBlur?xe.onBlur(ct):Se(!1)},wt=(ct,...ds)=>{if(!oe){const hs=ct.target||ue.current;if(hs==null)throw new Error(ra(1));zt({value:hs.value})}S.onChange&&S.onChange(ct,...ds),F&&F(ct,...ds)};I.useEffect(()=>{zt(ue.current)},[]);const De=ct=>{ue.current&&ct.currentTarget===ct.target&&ue.current.focus(),z&&z(ct)};let ar=C,an=S;M&&ar==="input"&&(G?an={type:void 0,minRows:G,maxRows:G,...an}:an={type:void 0,maxRows:N,minRows:T,...an},ar=lG);const lr=ct=>{zt(ct.animationName==="mui-auto-fill-cancel"?ue.current:{value:"x"})};I.useEffect(()=>{xe&&xe.setAdornedStart(!!X)},[xe,X]);const xr={...r,color:Ge.color||"primary",disabled:Ge.disabled,endAdornment:y,error:Ge.error,focused:Ge.focused,formControl:xe,fullWidth:E,hiddenLabel:Ge.hiddenLabel,multiline:M,size:Ge.size,startAdornment:X,type:Q},Sr=dG(xr),jr=Z.root||d.Root||Xb,Br=Y.root||h.root||{},cr=Z.input||d.Input||Kb;return an={...an,...Y.input??h.input},L.jsxs(I.Fragment,{children:[!m&&typeof rI=="function"&&(nI||(nI=L.jsx(rI,{}))),L.jsxs(jr,{...Br,ref:n,onClick:De,...ie,...!PE(jr)&&{ownerState:{...xr,...Br.ownerState}},className:Ve(Sr.root,Br.className,a,K&&"MuiInputBase-readOnly"),children:[X,L.jsx(G_.Provider,{value:null,children:L.jsx(cr,{"aria-invalid":Ge.error,"aria-describedby":i,autoComplete:s,autoFocus:o,defaultValue:f,disabled:Ge.disabled,id:x,onAnimationStart:lr,name:O,placeholder:H,readOnly:K,required:Ge.required,rows:G,value:ne,onKeyDown:D,onKeyUp:V,type:Q,...an,...!PE(cr)&&{as:ar,ownerState:{...xr,...an.ownerState}},ref:ye,className:Ve(Sr.input,an.className,K&&"MuiInputBase-readOnly"),onBlur:Nt,onChange:wt,onFocus:Tn})}),y,q?q({...Ge,startAdornment:X}):null]})]})});function hG(t){return ht("MuiInput",t)}const Cf={...xh,...nt("MuiInput",["root","underline","input"])};function fG(t){return ht("MuiOutlinedInput",t)}const bs={...xh,...nt("MuiOutlinedInput",["root","notchedOutline","input"])};function pG(t){return ht("MuiFilledInput",t)}const Ul={...xh,...nt("MuiFilledInput",["root","underline","input","adornedStart","adornedEnd","sizeSmall","multiline","hiddenLabel"])},gG=ui(L.jsx("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown"),mG={entering:{opacity:1},entered:{opacity:1}},IE=I.forwardRef(function(e,n){const r=Vb(),i={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{addEndListener:s,appear:o=!0,children:a,easing:c,in:d,onEnter:h,onEntered:f,onEntering:p,onExit:m,onExited:y,onExiting:b,style:E,timeout:x=i,TransitionComponent:C=eo,...S}=e,_=I.useRef(null),k=wr(_,Nm(a),n),N=D=>V=>{if(D){const H=_.current;V===void 0?D(H):D(H,V)}},T=N(p),M=N((D,V)=>{N2(D);const H=L0({style:E,timeout:x,easing:c},{mode:"enter"});D.style.webkitTransition=r.transitions.create("opacity",H),D.style.transition=r.transitions.create("opacity",H),h&&h(D,V)}),O=N(f),R=N(b),F=N(D=>{const V=L0({style:E,timeout:x,easing:c},{mode:"exit"});D.style.webkitTransition=r.transitions.create("opacity",V),D.style.transition=r.transitions.create("opacity",V),m&&m(D)}),z=N(y),U=D=>{s&&s(_.current,D)};return L.jsx(C,{appear:o,in:d,nodeRef:_,onEnter:M,onEntered:O,onEntering:T,onExit:F,onExited:z,onExiting:R,addEndListener:U,timeout:x,...S,children:(D,{ownerState:V,...H})=>I.cloneElement(a,{style:{opacity:0,visibility:D==="exited"&&!d?"hidden":void 0,...mG[D],...E,...a.props.style},ref:k,...H})})});function yG(t){return ht("MuiBackdrop",t)}nt("MuiBackdrop",["root","invisible"]);const vG=t=>{const{classes:e,invisible:n}=t;return ft({root:["root",n&&"invisible"]},yG,e)},bG=Pe("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.invisible&&e.invisible]}})({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent",variants:[{props:{invisible:!0},style:{backgroundColor:"transparent"}}]}),O2=I.forwardRef(function(e,n){const r=St({props:e,name:"MuiBackdrop"}),{children:i,className:s,component:o="div",invisible:a=!1,open:c,components:d={},componentsProps:h={},slotProps:f={},slots:p={},TransitionComponent:m,transitionDuration:y,...b}=r,E={...r,component:o,invisible:a},x=vG(E),C={transition:m,root:d.Root,...p},S={...h,...f},_={slots:C,slotProps:S},[k,N]=Jt("root",{elementType:bG,externalForwardedProps:_,className:Ve(x.root,s),ownerState:E}),[T,M]=Jt("transition",{elementType:IE,externalForwardedProps:_,ownerState:E});return L.jsx(T,{in:c,timeout:y,...b,...M,children:L.jsx(k,{"aria-hidden":!0,...N,classes:x,ref:n,children:i})})}),wG=nt("MuiBox",["root"]),xG=k2(),Rt=tV({themeId:Nb,defaultTheme:xG,defaultClassName:wG.root,generateClassName:c2.generate});function SG(t){return ht("MuiButton",t)}const Vl=nt("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","colorPrimary","colorSecondary","colorSuccess","colorError","colorInfo","colorWarning","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","icon","iconSizeSmall","iconSizeMedium","iconSizeLarge","loading","loadingWrapper","loadingIconPlaceholder","loadingIndicator","loadingPositionCenter","loadingPositionStart","loadingPositionEnd"]),EG=I.createContext({}),CG=I.createContext(void 0),_G=t=>{const{color:e,disableElevation:n,fullWidth:r,size:i,variant:s,loading:o,loadingPosition:a,classes:c}=t,d={root:["root",o&&"loading",s,`${s}${je(e)}`,`size${je(i)}`,`${s}Size${je(i)}`,`color${je(e)}`,n&&"disableElevation",r&&"fullWidth",o&&`loadingPosition${je(a)}`],startIcon:["icon","startIcon",`iconSize${je(i)}`],endIcon:["icon","endIcon",`iconSize${je(i)}`],loadingIndicator:["loadingIndicator"],loadingWrapper:["loadingWrapper"]},h=ft(d,SG,c);return{...c,...h}},L2=[{props:{size:"small"},style:{"& > *:nth-of-type(1)":{fontSize:18}}},{props:{size:"medium"},style:{"& > *:nth-of-type(1)":{fontSize:20}}},{props:{size:"large"},style:{"& > *:nth-of-type(1)":{fontSize:22}}}],AG=Pe(Gb,{shouldForwardProp:t=>zr(t)||t==="classes",name:"MuiButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],e[`${n.variant}${je(n.color)}`],e[`size${je(n.size)}`],e[`${n.variant}Size${je(n.size)}`],n.color==="inherit"&&e.colorInherit,n.disableElevation&&e.disableElevation,n.fullWidth&&e.fullWidth,n.loading&&e.loading]}})(It(({theme:t})=>{const e=t.palette.mode==="light"?t.palette.grey[300]:t.palette.grey[800],n=t.palette.mode==="light"?t.palette.grey.A100:t.palette.grey[700];return{...t.typography.button,minWidth:64,padding:"6px 16px",border:0,borderRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create(["background-color","box-shadow","border-color","color"],{duration:t.transitions.duration.short}),"&:hover":{textDecoration:"none"},[`&.${Vl.disabled}`]:{color:(t.vars||t).palette.action.disabled},variants:[{props:{variant:"contained"},style:{color:"var(--variant-containedColor)",backgroundColor:"var(--variant-containedBg)",boxShadow:(t.vars||t).shadows[2],"&:hover":{boxShadow:(t.vars||t).shadows[4],"@media (hover: none)":{boxShadow:(t.vars||t).shadows[2]}},"&:active":{boxShadow:(t.vars||t).shadows[8]},[`&.${Vl.focusVisible}`]:{boxShadow:(t.vars||t).shadows[6]},[`&.${Vl.disabled}`]:{color:(t.vars||t).palette.action.disabled,boxShadow:(t.vars||t).shadows[0],backgroundColor:(t.vars||t).palette.action.disabledBackground}}},{props:{variant:"outlined"},style:{padding:"5px 15px",border:"1px solid currentColor",borderColor:"var(--variant-outlinedBorder, currentColor)",backgroundColor:"var(--variant-outlinedBg)",color:"var(--variant-outlinedColor)",[`&.${Vl.disabled}`]:{border:`1px solid ${(t.vars||t).palette.action.disabledBackground}`}}},{props:{variant:"text"},style:{padding:"6px 8px",color:"var(--variant-textColor)",backgroundColor:"var(--variant-textBg)"}},...Object.entries(t.palette).filter(is()).map(([r])=>({props:{color:r},style:{"--variant-textColor":(t.vars||t).palette[r].main,"--variant-outlinedColor":(t.vars||t).palette[r].main,"--variant-outlinedBorder":t.vars?`rgba(${t.vars.palette[r].mainChannel} / 0.5)`:rr(t.palette[r].main,.5),"--variant-containedColor":(t.vars||t).palette[r].contrastText,"--variant-containedBg":(t.vars||t).palette[r].main,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":(t.vars||t).palette[r].dark,"--variant-textBg":t.vars?`rgba(${t.vars.palette[r].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:rr(t.palette[r].main,t.palette.action.hoverOpacity),"--variant-outlinedBorder":(t.vars||t).palette[r].main,"--variant-outlinedBg":t.vars?`rgba(${t.vars.palette[r].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:rr(t.palette[r].main,t.palette.action.hoverOpacity)}}}})),{props:{color:"inherit"},style:{color:"inherit",borderColor:"currentColor","--variant-containedBg":t.vars?t.vars.palette.Button.inheritContainedBg:e,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":t.vars?t.vars.palette.Button.inheritContainedHoverBg:n,"--variant-textBg":t.vars?`rgba(${t.vars.palette.text.primaryChannel} / ${t.vars.palette.action.hoverOpacity})`:rr(t.palette.text.primary,t.palette.action.hoverOpacity),"--variant-outlinedBg":t.vars?`rgba(${t.vars.palette.text.primaryChannel} / ${t.vars.palette.action.hoverOpacity})`:rr(t.palette.text.primary,t.palette.action.hoverOpacity)}}}},{props:{size:"small",variant:"text"},style:{padding:"4px 5px",fontSize:t.typography.pxToRem(13)}},{props:{size:"large",variant:"text"},style:{padding:"8px 11px",fontSize:t.typography.pxToRem(15)}},{props:{size:"small",variant:"outlined"},style:{padding:"3px 9px",fontSize:t.typography.pxToRem(13)}},{props:{size:"large",variant:"outlined"},style:{padding:"7px 21px",fontSize:t.typography.pxToRem(15)}},{props:{size:"small",variant:"contained"},style:{padding:"4px 10px",fontSize:t.typography.pxToRem(13)}},{props:{size:"large",variant:"contained"},style:{padding:"8px 22px",fontSize:t.typography.pxToRem(15)}},{props:{disableElevation:!0},style:{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${Vl.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${Vl.disabled}`]:{boxShadow:"none"}}},{props:{fullWidth:!0},style:{width:"100%"}},{props:{loadingPosition:"center"},style:{transition:t.transitions.create(["background-color","box-shadow","border-color"],{duration:t.transitions.duration.short}),[`&.${Vl.loading}`]:{color:"transparent"}}}]}})),kG=Pe("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.startIcon,n.loading&&e.startIconLoadingStart,e[`iconSize${je(n.size)}`]]}})(({theme:t})=>({display:"inherit",marginRight:8,marginLeft:-4,variants:[{props:{size:"small"},style:{marginLeft:-2}},{props:{loadingPosition:"start",loading:!0},style:{transition:t.transitions.create(["opacity"],{duration:t.transitions.duration.short}),opacity:0}},{props:{loadingPosition:"start",loading:!0,fullWidth:!0},style:{marginRight:-8}},...L2]})),RG=Pe("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.endIcon,n.loading&&e.endIconLoadingEnd,e[`iconSize${je(n.size)}`]]}})(({theme:t})=>({display:"inherit",marginRight:-4,marginLeft:8,variants:[{props:{size:"small"},style:{marginRight:-2}},{props:{loadingPosition:"end",loading:!0},style:{transition:t.transitions.create(["opacity"],{duration:t.transitions.duration.short}),opacity:0}},{props:{loadingPosition:"end",loading:!0,fullWidth:!0},style:{marginLeft:-8}},...L2]})),TG=Pe("span",{name:"MuiButton",slot:"LoadingIndicator",overridesResolver:(t,e)=>e.loadingIndicator})(({theme:t})=>({display:"none",position:"absolute",visibility:"visible",variants:[{props:{loading:!0},style:{display:"flex"}},{props:{loadingPosition:"start"},style:{left:14}},{props:{loadingPosition:"start",size:"small"},style:{left:10}},{props:{variant:"text",loadingPosition:"start"},style:{left:6}},{props:{loadingPosition:"center"},style:{left:"50%",transform:"translate(-50%)",color:(t.vars||t).palette.action.disabled}},{props:{loadingPosition:"end"},style:{right:14}},{props:{loadingPosition:"end",size:"small"},style:{right:10}},{props:{variant:"text",loadingPosition:"end"},style:{right:6}},{props:{loadingPosition:"start",fullWidth:!0},style:{position:"relative",left:-10}},{props:{loadingPosition:"end",fullWidth:!0},style:{position:"relative",right:-10}}]})),iI=Pe("span",{name:"MuiButton",slot:"LoadingIconPlaceholder",overridesResolver:(t,e)=>e.loadingIconPlaceholder})({display:"inline-block",width:"1em",height:"1em"}),ts=I.forwardRef(function(e,n){const r=I.useContext(EG),i=I.useContext(CG),s=M0(r,e),o=St({props:s,name:"MuiButton"}),{children:a,color:c="primary",component:d="button",className:h,disabled:f=!1,disableElevation:p=!1,disableFocusRipple:m=!1,endIcon:y,focusVisibleClassName:b,fullWidth:E=!1,id:x,loading:C=null,loadingIndicator:S,loadingPosition:_="center",size:k="medium",startIcon:N,type:T,variant:M="text",...O}=o,R=Im(x),F=S??L.jsx(M2,{"aria-labelledby":R,color:"inherit",size:16}),z={...o,color:c,component:d,disabled:f,disableElevation:p,disableFocusRipple:m,fullWidth:E,loading:C,loadingIndicator:F,loadingPosition:_,size:k,type:T,variant:M},U=_G(z),D=(N||C&&_==="start")&&L.jsx(kG,{className:U.startIcon,ownerState:z,children:N||L.jsx(iI,{className:U.loadingIconPlaceholder,ownerState:z})}),V=(y||C&&_==="end")&&L.jsx(RG,{className:U.endIcon,ownerState:z,children:y||L.jsx(iI,{className:U.loadingIconPlaceholder,ownerState:z})}),H=i||"",K=typeof C=="boolean"?L.jsx("span",{className:U.loadingWrapper,style:{display:"contents"},children:C&&L.jsx(TG,{className:U.loadingIndicator,ownerState:z,children:F})}):null;return L.jsxs(AG,{ownerState:z,className:Ve(r.className,U.root,h,H),component:d,disabled:f||C,focusRipple:!m,focusVisibleClassName:Ve(U.focusVisible,b),ref:n,type:T,id:C?R:x,...O,classes:U,children:[D,_!=="end"&&K,a,_==="end"&&K,V]})});function PG(t){return ht("PrivateSwitchBase",t)}nt("PrivateSwitchBase",["root","checked","disabled","input","edgeStart","edgeEnd"]);const IG=t=>{const{classes:e,checked:n,disabled:r,edge:i}=t,s={root:["root",n&&"checked",r&&"disabled",i&&`edge${je(i)}`],input:["input"]};return ft(s,PG,e)},NG=Pe(Gb)({padding:9,borderRadius:"50%",variants:[{props:{edge:"start",size:"small"},style:{marginLeft:-3}},{props:({edge:t,ownerState:e})=>t==="start"&&e.size!=="small",style:{marginLeft:-12}},{props:{edge:"end",size:"small"},style:{marginRight:-3}},{props:({edge:t,ownerState:e})=>t==="end"&&e.size!=="small",style:{marginRight:-12}}]}),MG=Pe("input",{shouldForwardProp:zr})({cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1}),OG=I.forwardRef(function(e,n){const{autoFocus:r,checked:i,checkedIcon:s,defaultChecked:o,disabled:a,disableFocusRipple:c=!1,edge:d=!1,icon:h,id:f,inputProps:p,inputRef:m,name:y,onBlur:b,onChange:E,onFocus:x,readOnly:C,required:S=!1,tabIndex:_,type:k,value:N,slots:T={},slotProps:M={},...O}=e,[R,F]=xE({controlled:i,default:!!o,name:"SwitchBase",state:"checked"}),z=_l(),U=J=>{x&&x(J),z&&z.onFocus&&z.onFocus(J)},D=J=>{b&&b(J),z&&z.onBlur&&z.onBlur(J)},V=J=>{if(J.nativeEvent.defaultPrevented)return;const ie=J.target.checked;F(ie),E&&E(J,ie)};let H=a;z&&typeof H>"u"&&(H=z.disabled);const K=k==="checkbox"||k==="radio",q={...e,checked:R,disabled:H,disableFocusRipple:c,edge:d},G=IG(q),te={slots:T,slotProps:{input:p,...M}},[Y,Z]=Jt("root",{ref:n,elementType:NG,className:G.root,shouldForwardComponentProp:!0,externalForwardedProps:{...te,component:"span",...O},getSlotProps:J=>({...J,onFocus:ie=>{var ne;(ne=J.onFocus)==null||ne.call(J,ie),U(ie)},onBlur:ie=>{var ne;(ne=J.onBlur)==null||ne.call(J,ie),D(ie)}}),ownerState:q,additionalProps:{centerRipple:!0,focusRipple:!c,disabled:H,role:void 0,tabIndex:null}}),[X,Q]=Jt("input",{ref:m,elementType:MG,className:G.input,externalForwardedProps:te,getSlotProps:J=>({onChange:ie=>{var ne;(ne=J.onChange)==null||ne.call(J,ie),V(ie)}}),ownerState:q,additionalProps:{autoFocus:r,checked:i,defaultChecked:o,disabled:H,id:K?f:void 0,name:y,readOnly:C,required:S,tabIndex:_,type:k,...k==="checkbox"&&N===void 0?{}:{value:N}}});return L.jsxs(Y,{...Z,children:[L.jsx(X,{...Q}),R?s:h]})}),LG=ui(L.jsx("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}),"CheckBoxOutlineBlank"),DG=ui(L.jsx("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckBox"),FG=ui(L.jsx("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z"}),"IndeterminateCheckBox");function $G(t){return ht("MuiCheckbox",t)}const OS=nt("MuiCheckbox",["root","checked","disabled","indeterminate","colorPrimary","colorSecondary","sizeSmall","sizeMedium"]),zG=t=>{const{classes:e,indeterminate:n,color:r,size:i}=t,s={root:["root",n&&"indeterminate",`color${je(r)}`,`size${je(i)}`]},o=ft(s,$G,e);return{...e,...o}},jG=Pe(OG,{shouldForwardProp:t=>zr(t)||t==="classes",name:"MuiCheckbox",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.indeterminate&&e.indeterminate,e[`size${je(n.size)}`],n.color!=="default"&&e[`color${je(n.color)}`]]}})(It(({theme:t})=>({color:(t.vars||t).palette.text.secondary,variants:[{props:{color:"default",disableRipple:!1},style:{"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.activeChannel} / ${t.vars.palette.action.hoverOpacity})`:rr(t.palette.action.active,t.palette.action.hoverOpacity)}}},...Object.entries(t.palette).filter(is()).map(([e])=>({props:{color:e,disableRipple:!1},style:{"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette[e].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:rr(t.palette[e].main,t.palette.action.hoverOpacity)}}})),...Object.entries(t.palette).filter(is()).map(([e])=>({props:{color:e},style:{[`&.${OS.checked}, &.${OS.indeterminate}`]:{color:(t.vars||t).palette[e].main},[`&.${OS.disabled}`]:{color:(t.vars||t).palette.action.disabled}}})),{props:{disableRipple:!1},style:{"&:hover":{"@media (hover: none)":{backgroundColor:"transparent"}}}}]}))),BG=L.jsx(DG,{}),HG=L.jsx(LG,{}),WG=L.jsx(FG,{}),UG=I.forwardRef(function(e,n){const r=St({props:e,name:"MuiCheckbox"}),{checkedIcon:i=BG,color:s="primary",icon:o=HG,indeterminate:a=!1,indeterminateIcon:c=WG,inputProps:d,size:h="medium",disableRipple:f=!1,className:p,slots:m={},slotProps:y={},...b}=r,E=a?c:o,x=a?c:i,C={...r,disableRipple:f,color:s,indeterminate:a,size:h},S=zG(C),_=y.input??d,[k,N]=Jt("root",{ref:n,elementType:jG,className:Ve(S.root,p),shouldForwardComponentProp:!0,externalForwardedProps:{slots:m,slotProps:y,...b},ownerState:C,additionalProps:{type:"checkbox",icon:I.cloneElement(E,{fontSize:E.props.fontSize??h}),checkedIcon:I.cloneElement(x,{fontSize:x.props.fontSize??h}),disableRipple:f,slots:m,slotProps:{input:T2(typeof _=="function"?_(C):_,{"data-indeterminate":a})}}});return L.jsx(k,{...N,classes:S})});function VG(t){const e=rs(t);return e.body===t?sa(t).innerWidth>e.documentElement.clientWidth:t.scrollHeight>t.clientHeight}function dp(t,e){e?t.setAttribute("aria-hidden","true"):t.removeAttribute("aria-hidden")}function sI(t){return parseInt(sa(t).getComputedStyle(t).paddingRight,10)||0}function GG(t){const n=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].includes(t.tagName),r=t.tagName==="INPUT"&&t.getAttribute("type")==="hidden";return n||r}function oI(t,e,n,r,i){const s=[e,n,...r];[].forEach.call(t.children,o=>{const a=!s.includes(o),c=!GG(o);a&&c&&dp(o,i)})}function LS(t,e){let n=-1;return t.some((r,i)=>e(r)?(n=i,!0):!1),n}function qG(t,e){const n=[],r=t.container;if(!e.disableScrollLock){if(VG(r)){const o=y2(sa(r));n.push({value:r.style.paddingRight,property:"padding-right",el:r}),r.style.paddingRight=`${sI(r)+o}px`;const a=rs(r).querySelectorAll(".mui-fixed");[].forEach.call(a,c=>{n.push({value:c.style.paddingRight,property:"padding-right",el:c}),c.style.paddingRight=`${sI(c)+o}px`})}let s;if(r.parentNode instanceof DocumentFragment)s=rs(r).body;else{const o=r.parentElement,a=sa(r);s=(o==null?void 0:o.nodeName)==="HTML"&&a.getComputedStyle(o).overflowY==="scroll"?o:r}n.push({value:s.style.overflow,property:"overflow",el:s},{value:s.style.overflowX,property:"overflow-x",el:s},{value:s.style.overflowY,property:"overflow-y",el:s}),s.style.overflow="hidden"}return()=>{n.forEach(({value:s,el:o,property:a})=>{s?o.style.setProperty(a,s):o.style.removeProperty(a)})}}function YG(t){const e=[];return[].forEach.call(t.children,n=>{n.getAttribute("aria-hidden")==="true"&&e.push(n)}),e}class XG{constructor(){this.modals=[],this.containers=[]}add(e,n){let r=this.modals.indexOf(e);if(r!==-1)return r;r=this.modals.length,this.modals.push(e),e.modalRef&&dp(e.modalRef,!1);const i=YG(n);oI(n,e.mount,e.modalRef,i,!0);const s=LS(this.containers,o=>o.container===n);return s!==-1?(this.containers[s].modals.push(e),r):(this.containers.push({modals:[e],container:n,restore:null,hiddenSiblings:i}),r)}mount(e,n){const r=LS(this.containers,s=>s.modals.includes(e)),i=this.containers[r];i.restore||(i.restore=qG(i,n))}remove(e,n=!0){const r=this.modals.indexOf(e);if(r===-1)return r;const i=LS(this.containers,o=>o.modals.includes(e)),s=this.containers[i];if(s.modals.splice(s.modals.indexOf(e),1),this.modals.splice(r,1),s.modals.length===0)s.restore&&s.restore(),e.modalRef&&dp(e.modalRef,n),oI(s.container,e.mount,e.modalRef,s.hiddenSiblings,!1),this.containers.splice(i,1);else{const o=s.modals[s.modals.length-1];o.modalRef&&dp(o.modalRef,!1)}return r}isTopModal(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}}const KG=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function QG(t){const e=parseInt(t.getAttribute("tabindex")||"",10);return Number.isNaN(e)?t.contentEditable==="true"||(t.nodeName==="AUDIO"||t.nodeName==="VIDEO"||t.nodeName==="DETAILS")&&t.getAttribute("tabindex")===null?0:t.tabIndex:e}function ZG(t){if(t.tagName!=="INPUT"||t.type!=="radio"||!t.name)return!1;const e=r=>t.ownerDocument.querySelector(`input[type="radio"]${r}`);let n=e(`[name="${t.name}"]:checked`);return n||(n=e(`[name="${t.name}"]`)),n!==t}function JG(t){return!(t.disabled||t.tagName==="INPUT"&&t.type==="hidden"||ZG(t))}function e7(t){const e=[],n=[];return Array.from(t.querySelectorAll(KG)).forEach((r,i)=>{const s=QG(r);s===-1||!JG(r)||(s===0?e.push(r):n.push({documentOrder:i,tabIndex:s,node:r}))}),n.sort((r,i)=>r.tabIndex===i.tabIndex?r.documentOrder-i.documentOrder:r.tabIndex-i.tabIndex).map(r=>r.node).concat(e)}function t7(){return!0}function n7(t){const{children:e,disableAutoFocus:n=!1,disableEnforceFocus:r=!1,disableRestoreFocus:i=!1,getTabbable:s=e7,isEnabled:o=t7,open:a}=t,c=I.useRef(!1),d=I.useRef(null),h=I.useRef(null),f=I.useRef(null),p=I.useRef(null),m=I.useRef(!1),y=I.useRef(null),b=wr(Nm(e),y),E=I.useRef(null);I.useEffect(()=>{!a||!y.current||(m.current=!n)},[n,a]),I.useEffect(()=>{if(!a||!y.current)return;const S=rs(y.current);return y.current.contains(S.activeElement)||(y.current.hasAttribute("tabIndex")||y.current.setAttribute("tabIndex","-1"),m.current&&y.current.focus()),()=>{i||(f.current&&f.current.focus&&(c.current=!0,f.current.focus()),f.current=null)}},[a]),I.useEffect(()=>{if(!a||!y.current)return;const S=rs(y.current),_=T=>{E.current=T,!(r||!o()||T.key!=="Tab")&&S.activeElement===y.current&&T.shiftKey&&(c.current=!0,h.current&&h.current.focus())},k=()=>{var O,R;const T=y.current;if(T===null)return;if(!S.hasFocus()||!o()||c.current){c.current=!1;return}if(T.contains(S.activeElement)||r&&S.activeElement!==d.current&&S.activeElement!==h.current)return;if(S.activeElement!==p.current)p.current=null;else if(p.current!==null)return;if(!m.current)return;let M=[];if((S.activeElement===d.current||S.activeElement===h.current)&&(M=s(y.current)),M.length>0){const F=!!((O=E.current)!=null&&O.shiftKey&&((R=E.current)==null?void 0:R.key)==="Tab"),z=M[0],U=M[M.length-1];typeof z!="string"&&typeof U!="string"&&(F?U.focus():z.focus())}else T.focus()};S.addEventListener("focusin",k),S.addEventListener("keydown",_,!0);const N=setInterval(()=>{S.activeElement&&S.activeElement.tagName==="BODY"&&k()},50);return()=>{clearInterval(N),S.removeEventListener("focusin",k),S.removeEventListener("keydown",_,!0)}},[n,r,i,o,a,s]);const x=S=>{f.current===null&&(f.current=S.relatedTarget),m.current=!0,p.current=S.target;const _=e.props.onFocus;_&&_(S)},C=S=>{f.current===null&&(f.current=S.relatedTarget),m.current=!0};return L.jsxs(I.Fragment,{children:[L.jsx("div",{tabIndex:a?0:-1,onFocus:C,ref:d,"data-testid":"sentinelStart"}),I.cloneElement(e,{ref:b,onFocus:x}),L.jsx("div",{tabIndex:a?0:-1,onFocus:C,ref:h,"data-testid":"sentinelEnd"})]})}function r7(t){return typeof t=="function"?t():t}function i7(t){return t?t.props.hasOwnProperty("in"):!1}const aI=()=>{},Ev=new XG;function s7(t){const{container:e,disableEscapeKeyDown:n=!1,disableScrollLock:r=!1,closeAfterTransition:i=!1,onTransitionEnter:s,onTransitionExited:o,children:a,onClose:c,open:d,rootRef:h}=t,f=I.useRef({}),p=I.useRef(null),m=I.useRef(null),y=wr(m,h),[b,E]=I.useState(!d),x=i7(a);let C=!0;(t["aria-hidden"]==="false"||t["aria-hidden"]===!1)&&(C=!1);const S=()=>rs(p.current),_=()=>(f.current.modalRef=m.current,f.current.mount=p.current,f.current),k=()=>{Ev.mount(_(),{disableScrollLock:r}),m.current&&(m.current.scrollTop=0)},N=gd(()=>{const V=r7(e)||S().body;Ev.add(_(),V),m.current&&k()}),T=()=>Ev.isTopModal(_()),M=gd(V=>{p.current=V,V&&(d&&T()?k():m.current&&dp(m.current,C))}),O=I.useCallback(()=>{Ev.remove(_(),C)},[C]);I.useEffect(()=>()=>{O()},[O]),I.useEffect(()=>{d?N():(!x||!i)&&O()},[d,O,x,i,N]);const R=V=>H=>{var K;(K=V.onKeyDown)==null||K.call(V,H),!(H.key!=="Escape"||H.which===229||!T())&&(n||(H.stopPropagation(),c&&c(H,"escapeKeyDown")))},F=V=>H=>{var K;(K=V.onClick)==null||K.call(V,H),H.target===H.currentTarget&&c&&c(H,"backdropClick")};return{getRootProps:(V={})=>{const H=b2(t);delete H.onTransitionEnter,delete H.onTransitionExited;const K={...H,...V};return{role:"presentation",...K,onKeyDown:R(K),ref:y}},getBackdropProps:(V={})=>{const H=V;return{"aria-hidden":!0,...H,onClick:F(H),open:d}},getTransitionProps:()=>{const V=()=>{E(!1),s&&s()},H=()=>{E(!0),o&&o(),i&&O()};return{onEnter:$P(V,(a==null?void 0:a.props.onEnter)??aI),onExited:$P(H,(a==null?void 0:a.props.onExited)??aI)}},rootRef:y,portalRef:M,isTopModal:T,exited:b,hasTransition:x}}function o7(t){return ht("MuiModal",t)}nt("MuiModal",["root","hidden","backdrop"]);const a7=t=>{const{open:e,exited:n,classes:r}=t;return ft({root:["root",!e&&n&&"hidden"],backdrop:["backdrop"]},o7,r)},l7=Pe("div",{name:"MuiModal",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.open&&n.exited&&e.hidden]}})(It(({theme:t})=>({position:"fixed",zIndex:(t.vars||t).zIndex.modal,right:0,bottom:0,top:0,left:0,variants:[{props:({ownerState:e})=>!e.open&&e.exited,style:{visibility:"hidden"}}]}))),c7=Pe(O2,{name:"MuiModal",slot:"Backdrop",overridesResolver:(t,e)=>e.backdrop})({zIndex:-1}),D2=I.forwardRef(function(e,n){const r=St({name:"MuiModal",props:e}),{BackdropComponent:i=c7,BackdropProps:s,classes:o,className:a,closeAfterTransition:c=!1,children:d,container:h,component:f,components:p={},componentsProps:m={},disableAutoFocus:y=!1,disableEnforceFocus:b=!1,disableEscapeKeyDown:E=!1,disablePortal:x=!1,disableRestoreFocus:C=!1,disableScrollLock:S=!1,hideBackdrop:_=!1,keepMounted:k=!1,onBackdropClick:N,onClose:T,onTransitionEnter:M,onTransitionExited:O,open:R,slotProps:F={},slots:z={},theme:U,...D}=r,V={...r,closeAfterTransition:c,disableAutoFocus:y,disableEnforceFocus:b,disableEscapeKeyDown:E,disablePortal:x,disableRestoreFocus:C,disableScrollLock:S,hideBackdrop:_,keepMounted:k},{getRootProps:H,getBackdropProps:K,getTransitionProps:q,portalRef:G,isTopModal:te,exited:Y,hasTransition:Z}=s7({...V,rootRef:n}),X={...V,exited:Y},Q=a7(X),J={};if(d.props.tabIndex===void 0&&(J.tabIndex="-1"),Z){const{onEnter:ye,onExited:pe}=q();J.onEnter=ye,J.onExited=pe}const ie={slots:{root:p.Root,backdrop:p.Backdrop,...z},slotProps:{...m,...F}},[ne,oe]=Jt("root",{ref:n,elementType:l7,externalForwardedProps:{...ie,...D,component:f},getSlotProps:H,ownerState:X,className:Ve(a,Q==null?void 0:Q.root,!X.open&&X.exited&&(Q==null?void 0:Q.hidden))}),[ue,fe]=Jt("backdrop",{ref:s==null?void 0:s.ref,elementType:i,externalForwardedProps:ie,shouldForwardComponentProp:!0,additionalProps:s,getSlotProps:ye=>K({...ye,onClick:pe=>{N&&N(pe),ye!=null&&ye.onClick&&ye.onClick(pe)}}),className:Ve(s==null?void 0:s.className,Q==null?void 0:Q.backdrop),ownerState:X});return!k&&!R&&(!Z||Y)?null:L.jsx(iG,{ref:G,container:h,disablePortal:x,children:L.jsxs(ne,{...oe,children:[!_&&i?L.jsx(ue,{...fe}):null,L.jsx(n7,{disableEnforceFocus:b,disableAutoFocus:y,disableRestoreFocus:C,isEnabled:te,open:R,children:I.cloneElement(d,J)})]})})});function u7(t){return ht("MuiDialog",t)}const DS=nt("MuiDialog",["root","scrollPaper","scrollBody","container","paper","paperScrollPaper","paperScrollBody","paperWidthFalse","paperWidthXs","paperWidthSm","paperWidthMd","paperWidthLg","paperWidthXl","paperFullWidth","paperFullScreen"]),F2=I.createContext({}),d7=Pe(O2,{name:"MuiDialog",slot:"Backdrop",overrides:(t,e)=>e.backdrop})({zIndex:-1}),h7=t=>{const{classes:e,scroll:n,maxWidth:r,fullWidth:i,fullScreen:s}=t,o={root:["root"],container:["container",`scroll${je(n)}`],paper:["paper",`paperScroll${je(n)}`,`paperWidth${je(String(r))}`,i&&"paperFullWidth",s&&"paperFullScreen"]};return ft(o,u7,e)},f7=Pe(D2,{name:"MuiDialog",slot:"Root",overridesResolver:(t,e)=>e.root})({"@media print":{position:"absolute !important"}}),p7=Pe("div",{name:"MuiDialog",slot:"Container",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.container,e[`scroll${je(n.scroll)}`]]}})({height:"100%","@media print":{height:"auto"},outline:0,variants:[{props:{scroll:"paper"},style:{display:"flex",justifyContent:"center",alignItems:"center"}},{props:{scroll:"body"},style:{overflowY:"auto",overflowX:"hidden",textAlign:"center","&::after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}}}]}),g7=Pe(V_,{name:"MuiDialog",slot:"Paper",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.paper,e[`scrollPaper${je(n.scroll)}`],e[`paperWidth${je(String(n.maxWidth))}`],n.fullWidth&&e.paperFullWidth,n.fullScreen&&e.paperFullScreen]}})(It(({theme:t})=>({margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"},variants:[{props:{scroll:"paper"},style:{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"}},{props:{scroll:"body"},style:{display:"inline-block",verticalAlign:"middle",textAlign:"initial"}},{props:({ownerState:e})=>!e.maxWidth,style:{maxWidth:"calc(100% - 64px)"}},{props:{maxWidth:"xs"},style:{maxWidth:t.breakpoints.unit==="px"?Math.max(t.breakpoints.values.xs,444):`max(${t.breakpoints.values.xs}${t.breakpoints.unit}, 444px)`,[`&.${DS.paperScrollBody}`]:{[t.breakpoints.down(Math.max(t.breakpoints.values.xs,444)+32*2)]:{maxWidth:"calc(100% - 64px)"}}}},...Object.keys(t.breakpoints.values).filter(e=>e!=="xs").map(e=>({props:{maxWidth:e},style:{maxWidth:`${t.breakpoints.values[e]}${t.breakpoints.unit}`,[`&.${DS.paperScrollBody}`]:{[t.breakpoints.down(t.breakpoints.values[e]+32*2)]:{maxWidth:"calc(100% - 64px)"}}}})),{props:({ownerState:e})=>e.fullWidth,style:{width:"calc(100% - 64px)"}},{props:({ownerState:e})=>e.fullScreen,style:{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,[`&.${DS.paperScrollBody}`]:{margin:0,maxWidth:"100%"}}}]}))),m7=I.forwardRef(function(e,n){const r=St({props:e,name:"MuiDialog"}),i=Vb(),s={enter:i.transitions.duration.enteringScreen,exit:i.transitions.duration.leavingScreen},{"aria-describedby":o,"aria-labelledby":a,"aria-modal":c=!0,BackdropComponent:d,BackdropProps:h,children:f,className:p,disableEscapeKeyDown:m=!1,fullScreen:y=!1,fullWidth:b=!1,maxWidth:E="sm",onBackdropClick:x,onClick:C,onClose:S,open:_,PaperComponent:k=V_,PaperProps:N={},scroll:T="paper",slots:M={},slotProps:O={},TransitionComponent:R=IE,transitionDuration:F=s,TransitionProps:z,...U}=r,D={...r,disableEscapeKeyDown:m,fullScreen:y,fullWidth:b,maxWidth:E,scroll:T},V=h7(D),H=I.useRef(),K=xe=>{H.current=xe.target===xe.currentTarget},q=xe=>{C&&C(xe),H.current&&(H.current=null,x&&x(xe),S&&S(xe,"backdropClick"))},G=Im(a),te=I.useMemo(()=>({titleId:G}),[G]),Y={transition:R,...M},Z={transition:z,paper:N,backdrop:h,...O},X={slots:Y,slotProps:Z},[Q,J]=Jt("root",{elementType:f7,shouldForwardComponentProp:!0,externalForwardedProps:X,ownerState:D,className:Ve(V.root,p),ref:n}),[ie,ne]=Jt("backdrop",{elementType:d7,shouldForwardComponentProp:!0,externalForwardedProps:X,ownerState:D}),[oe,ue]=Jt("paper",{elementType:g7,shouldForwardComponentProp:!0,externalForwardedProps:X,ownerState:D,className:Ve(V.paper,N.className)}),[fe,ye]=Jt("container",{elementType:p7,externalForwardedProps:X,ownerState:D,className:Ve(V.container)}),[pe,Se]=Jt("transition",{elementType:IE,externalForwardedProps:X,ownerState:D,additionalProps:{appear:!0,in:_,timeout:F,role:"presentation"}});return L.jsx(Q,{closeAfterTransition:!0,slots:{backdrop:ie},slotProps:{backdrop:{transitionDuration:F,as:d,...ne}},disableEscapeKeyDown:m,onClose:S,open:_,onClick:q,...J,...U,children:L.jsx(pe,{...Se,children:L.jsx(fe,{onMouseDown:K,...ye,children:L.jsx(oe,{as:k,elevation:24,role:"dialog","aria-describedby":o,"aria-labelledby":G,"aria-modal":c,...ue,children:L.jsx(F2.Provider,{value:te,children:f})})})})})});function y7(t){return ht("MuiDialogActions",t)}nt("MuiDialogActions",["root","spacing"]);const v7=t=>{const{classes:e,disableSpacing:n}=t;return ft({root:["root",!n&&"spacing"]},y7,e)},b7=Pe("div",{name:"MuiDialogActions",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.disableSpacing&&e.spacing]}})({display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto",variants:[{props:({ownerState:t})=>!t.disableSpacing,style:{"& > :not(style) ~ :not(style)":{marginLeft:8}}}]}),w7=I.forwardRef(function(e,n){const r=St({props:e,name:"MuiDialogActions"}),{className:i,disableSpacing:s=!1,...o}=r,a={...r,disableSpacing:s},c=v7(a);return L.jsx(b7,{className:Ve(c.root,i),ownerState:a,ref:n,...o})});function x7(t){return ht("MuiDialogContent",t)}nt("MuiDialogContent",["root","dividers"]);function S7(t){return ht("MuiDialogTitle",t)}const E7=nt("MuiDialogTitle",["root"]),C7=t=>{const{classes:e,dividers:n}=t;return ft({root:["root",n&&"dividers"]},x7,e)},_7=Pe("div",{name:"MuiDialogContent",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.dividers&&e.dividers]}})(It(({theme:t})=>({flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"20px 24px",variants:[{props:({ownerState:e})=>e.dividers,style:{padding:"16px 24px",borderTop:`1px solid ${(t.vars||t).palette.divider}`,borderBottom:`1px solid ${(t.vars||t).palette.divider}`}},{props:({ownerState:e})=>!e.dividers,style:{[`.${E7.root} + &`]:{paddingTop:0}}}]}))),A7=I.forwardRef(function(e,n){const r=St({props:e,name:"MuiDialogContent"}),{className:i,dividers:s=!1,...o}=r,a={...r,dividers:s},c=C7(a);return L.jsx(_7,{className:Ve(c.root,i),ownerState:a,ref:n,...o})}),k7=t=>{const{classes:e}=t;return ft({root:["root"]},S7,e)},R7=Pe(gr,{name:"MuiDialogTitle",slot:"Root",overridesResolver:(t,e)=>e.root})({padding:"16px 24px",flex:"0 0 auto"}),T7=I.forwardRef(function(e,n){const r=St({props:e,name:"MuiDialogTitle"}),{className:i,id:s,...o}=r,a=r,c=k7(a),{titleId:d=s}=I.useContext(F2);return L.jsx(R7,{component:"h2",className:Ve(c.root,i),ownerState:a,ref:n,variant:"h6",id:s??d,...o})}),lI=nt("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]),P7=t=>{const{classes:e,disableUnderline:n,startAdornment:r,endAdornment:i,size:s,hiddenLabel:o,multiline:a}=t,c={root:["root",!n&&"underline",r&&"adornedStart",i&&"adornedEnd",s==="small"&&`size${je(s)}`,o&&"hiddenLabel",a&&"multiline"],input:["input"]},d=ft(c,pG,e);return{...e,...d}},I7=Pe(Xb,{shouldForwardProp:t=>zr(t)||t==="classes",name:"MuiFilledInput",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[...qb(t,e),!n.disableUnderline&&e.underline]}})(It(({theme:t})=>{const e=t.palette.mode==="light",n=e?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",r=e?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",i=e?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",s=e?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return{position:"relative",backgroundColor:t.vars?t.vars.palette.FilledInput.bg:r,borderTopLeftRadius:(t.vars||t).shape.borderRadius,borderTopRightRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),"&:hover":{backgroundColor:t.vars?t.vars.palette.FilledInput.hoverBg:i,"@media (hover: none)":{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:r}},[`&.${Ul.focused}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:r},[`&.${Ul.disabled}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.disabledBg:s},variants:[{props:({ownerState:o})=>!o.disableUnderline,style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${Ul.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${Ul.error}`]:{"&::before, &::after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:`1px solid ${t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / ${t.vars.opacity.inputUnderline})`:n}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${Ul.disabled}, .${Ul.error}):before`]:{borderBottom:`1px solid ${(t.vars||t).palette.text.primary}`},[`&.${Ul.disabled}:before`]:{borderBottomStyle:"dotted"}}},...Object.entries(t.palette).filter(is()).map(([o])=>{var a;return{props:{disableUnderline:!1,color:o},style:{"&::after":{borderBottom:`2px solid ${(a=(t.vars||t).palette[o])==null?void 0:a.main}`}}}}),{props:({ownerState:o})=>o.startAdornment,style:{paddingLeft:12}},{props:({ownerState:o})=>o.endAdornment,style:{paddingRight:12}},{props:({ownerState:o})=>o.multiline,style:{padding:"25px 12px 8px"}},{props:({ownerState:o,size:a})=>o.multiline&&a==="small",style:{paddingTop:21,paddingBottom:4}},{props:({ownerState:o})=>o.multiline&&o.hiddenLabel,style:{paddingTop:16,paddingBottom:17}},{props:({ownerState:o})=>o.multiline&&o.hiddenLabel&&o.size==="small",style:{paddingTop:8,paddingBottom:9}}]}})),N7=Pe(Kb,{name:"MuiFilledInput",slot:"Input",overridesResolver:Yb})(It(({theme:t})=>({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12,...!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:t.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:t.palette.mode==="light"?null:"#fff",caretColor:t.palette.mode==="light"?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},...t.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},variants:[{props:{size:"small"},style:{paddingTop:21,paddingBottom:4}},{props:({ownerState:e})=>e.hiddenLabel,style:{paddingTop:16,paddingBottom:17}},{props:({ownerState:e})=>e.startAdornment,style:{paddingLeft:0}},{props:({ownerState:e})=>e.endAdornment,style:{paddingRight:0}},{props:({ownerState:e})=>e.hiddenLabel&&e.size==="small",style:{paddingTop:8,paddingBottom:9}},{props:({ownerState:e})=>e.multiline,style:{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0}}]}))),Y_=I.forwardRef(function(e,n){const r=St({props:e,name:"MuiFilledInput"}),{disableUnderline:i=!1,components:s={},componentsProps:o,fullWidth:a=!1,hiddenLabel:c,inputComponent:d="input",multiline:h=!1,slotProps:f,slots:p={},type:m="text",...y}=r,b={...r,disableUnderline:i,fullWidth:a,inputComponent:d,multiline:h,type:m},E=P7(r),x={root:{ownerState:b},input:{ownerState:b}},C=f??o?or(x,f??o):x,S=p.root??s.Root??I7,_=p.input??s.Input??N7;return L.jsx(q_,{slots:{root:S,input:_},slotProps:C,fullWidth:a,inputComponent:d,multiline:h,ref:n,type:m,...y,classes:E})});Y_.muiName="Input";function M7(t){return ht("MuiFormControl",t)}nt("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const O7=t=>{const{classes:e,margin:n,fullWidth:r}=t,i={root:["root",n!=="none"&&`margin${je(n)}`,r&&"fullWidth"]};return ft(i,M7,e)},L7=Pe("div",{name:"MuiFormControl",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`margin${je(n.margin)}`],n.fullWidth&&e.fullWidth]}})({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top",variants:[{props:{margin:"normal"},style:{marginTop:16,marginBottom:8}},{props:{margin:"dense"},style:{marginTop:8,marginBottom:4}},{props:{fullWidth:!0},style:{width:"100%"}}]}),$2=I.forwardRef(function(e,n){const r=St({props:e,name:"MuiFormControl"}),{children:i,className:s,color:o="primary",component:a="div",disabled:c=!1,error:d=!1,focused:h,fullWidth:f=!1,hiddenLabel:p=!1,margin:m="none",required:y=!1,size:b="medium",variant:E="outlined",...x}=r,C={...r,color:o,component:a,disabled:c,error:d,fullWidth:f,hiddenLabel:p,margin:m,required:y,size:b,variant:E},S=O7(C),[_,k]=I.useState(()=>{let V=!1;return i&&I.Children.forEach(i,H=>{if(!IS(H,["Input","Select"]))return;const K=IS(H,["Select"])?H.props.input:H;K&&cG(K.props)&&(V=!0)}),V}),[N,T]=I.useState(()=>{let V=!1;return i&&I.Children.forEach(i,H=>{IS(H,["Input","Select"])&&(F0(H.props,!0)||F0(H.props.inputProps,!0))&&(V=!0)}),V}),[M,O]=I.useState(!1);c&&M&&O(!1);const R=h!==void 0&&!c?h:M;let F;I.useRef(!1);const z=I.useCallback(()=>{T(!0)},[]),U=I.useCallback(()=>{T(!1)},[]),D=I.useMemo(()=>({adornedStart:_,setAdornedStart:k,color:o,disabled:c,error:d,filled:N,focused:R,fullWidth:f,hiddenLabel:p,size:b,onBlur:()=>{O(!1)},onFocus:()=>{O(!0)},onEmpty:U,onFilled:z,registerEffect:F,required:y,variant:E}),[_,o,c,d,N,R,f,p,F,U,z,y,b,E]);return L.jsx(G_.Provider,{value:D,children:L.jsx(L7,{as:a,ownerState:C,className:Ve(S.root,s),ref:n,...x,children:i})})});function D7(t){return ht("MuiFormControlLabel",t)}const Vf=nt("MuiFormControlLabel",["root","labelPlacementStart","labelPlacementTop","labelPlacementBottom","disabled","label","error","required","asterisk"]),F7=t=>{const{classes:e,disabled:n,labelPlacement:r,error:i,required:s}=t,o={root:["root",n&&"disabled",`labelPlacement${je(r)}`,i&&"error",s&&"required"],label:["label",n&&"disabled"],asterisk:["asterisk",i&&"error"]};return ft(o,D7,e)},$7=Pe("label",{name:"MuiFormControlLabel",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`& .${Vf.label}`]:e.label},e.root,e[`labelPlacement${je(n.labelPlacement)}`]]}})(It(({theme:t})=>({display:"inline-flex",alignItems:"center",cursor:"pointer",verticalAlign:"middle",WebkitTapHighlightColor:"transparent",marginLeft:-11,marginRight:16,[`&.${Vf.disabled}`]:{cursor:"default"},[`& .${Vf.label}`]:{[`&.${Vf.disabled}`]:{color:(t.vars||t).palette.text.disabled}},variants:[{props:{labelPlacement:"start"},style:{flexDirection:"row-reverse",marginRight:-11}},{props:{labelPlacement:"top"},style:{flexDirection:"column-reverse"}},{props:{labelPlacement:"bottom"},style:{flexDirection:"column"}},{props:({labelPlacement:e})=>e==="start"||e==="top"||e==="bottom",style:{marginLeft:16}}]}))),z7=Pe("span",{name:"MuiFormControlLabel",slot:"Asterisk",overridesResolver:(t,e)=>e.asterisk})(It(({theme:t})=>({[`&.${Vf.error}`]:{color:(t.vars||t).palette.error.main}}))),j7=I.forwardRef(function(e,n){const r=St({props:e,name:"MuiFormControlLabel"}),{checked:i,className:s,componentsProps:o={},control:a,disabled:c,disableTypography:d,inputRef:h,label:f,labelPlacement:p="end",name:m,onChange:y,required:b,slots:E={},slotProps:x={},value:C,...S}=r,_=_l(),k=c??a.props.disabled??(_==null?void 0:_.disabled),N=b??a.props.required,T={disabled:k,required:N};["checked","name","onChange","value","inputRef"].forEach(V=>{typeof a.props[V]>"u"&&typeof r[V]<"u"&&(T[V]=r[V])});const M=du({props:r,muiFormControl:_,states:["error"]}),O={...r,disabled:k,labelPlacement:p,required:N,error:M.error},R=F7(O),F={slots:E,slotProps:{...o,...x}},[z,U]=Jt("typography",{elementType:gr,externalForwardedProps:F,ownerState:O});let D=f;return D!=null&&D.type!==gr&&!d&&(D=L.jsx(z,{component:"span",...U,className:Ve(R.label,U==null?void 0:U.className),children:D})),L.jsxs($7,{className:Ve(R.root,s),ownerState:O,ref:n,...S,children:[I.cloneElement(a,T),N?L.jsxs("div",{children:[D,L.jsxs(z7,{ownerState:O,"aria-hidden":!0,className:R.asterisk,children:["","*"]})]}):D]})});function B7(t){return ht("MuiFormHelperText",t)}const cI=nt("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]);var uI;const H7=t=>{const{classes:e,contained:n,size:r,disabled:i,error:s,filled:o,focused:a,required:c}=t,d={root:["root",i&&"disabled",s&&"error",r&&`size${je(r)}`,n&&"contained",a&&"focused",o&&"filled",c&&"required"]};return ft(d,B7,e)},W7=Pe("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.size&&e[`size${je(n.size)}`],n.contained&&e.contained,n.filled&&e.filled]}})(It(({theme:t})=>({color:(t.vars||t).palette.text.secondary,...t.typography.caption,textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,[`&.${cI.disabled}`]:{color:(t.vars||t).palette.text.disabled},[`&.${cI.error}`]:{color:(t.vars||t).palette.error.main},variants:[{props:{size:"small"},style:{marginTop:4}},{props:({ownerState:e})=>e.contained,style:{marginLeft:14,marginRight:14}}]}))),U7=I.forwardRef(function(e,n){const r=St({props:e,name:"MuiFormHelperText"}),{children:i,className:s,component:o="p",disabled:a,error:c,filled:d,focused:h,margin:f,required:p,variant:m,...y}=r,b=_l(),E=du({props:r,muiFormControl:b,states:["variant","size","disabled","error","filled","focused","required"]}),x={...r,component:o,contained:E.variant==="filled"||E.variant==="outlined",variant:E.variant,size:E.size,disabled:E.disabled,error:E.error,filled:E.filled,focused:E.focused,required:E.required};delete x.ownerState;const C=H7(x);return L.jsx(W7,{as:o,className:Ve(C.root,s),ref:n,...y,ownerState:x,children:i===" "?uI||(uI=L.jsx("span",{className:"notranslate","aria-hidden":!0,children:""})):i})});function V7(t){return ht("MuiFormLabel",t)}const hp=nt("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),G7=t=>{const{classes:e,color:n,focused:r,disabled:i,error:s,filled:o,required:a}=t,c={root:["root",`color${je(n)}`,i&&"disabled",s&&"error",o&&"filled",r&&"focused",a&&"required"],asterisk:["asterisk",s&&"error"]};return ft(c,V7,e)},q7=Pe("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.color==="secondary"&&e.colorSecondary,n.filled&&e.filled]}})(It(({theme:t})=>({color:(t.vars||t).palette.text.secondary,...t.typography.body1,lineHeight:"1.4375em",padding:0,position:"relative",variants:[...Object.entries(t.palette).filter(is()).map(([e])=>({props:{color:e},style:{[`&.${hp.focused}`]:{color:(t.vars||t).palette[e].main}}})),{props:{},style:{[`&.${hp.disabled}`]:{color:(t.vars||t).palette.text.disabled},[`&.${hp.error}`]:{color:(t.vars||t).palette.error.main}}}]}))),Y7=Pe("span",{name:"MuiFormLabel",slot:"Asterisk",overridesResolver:(t,e)=>e.asterisk})(It(({theme:t})=>({[`&.${hp.error}`]:{color:(t.vars||t).palette.error.main}}))),X7=I.forwardRef(function(e,n){const r=St({props:e,name:"MuiFormLabel"}),{children:i,className:s,color:o,component:a="label",disabled:c,error:d,filled:h,focused:f,required:p,...m}=r,y=_l(),b=du({props:r,muiFormControl:y,states:["color","required","focused","disabled","error","filled"]}),E={...r,color:b.color||"primary",component:a,disabled:b.disabled,error:b.error,filled:b.filled,focused:b.focused,required:b.required},x=G7(E);return L.jsxs(q7,{as:a,ownerState:E,className:Ve(x.root,s),ref:n,...m,children:[i,b.required&&L.jsxs(Y7,{ownerState:E,"aria-hidden":!0,className:x.asterisk,children:["","*"]})]})});function NE(t){return`scale(${t}, ${t**2})`}const K7={entering:{opacity:1,transform:NE(1)},entered:{opacity:1,transform:"none"}},FS=typeof navigator<"u"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),ME=I.forwardRef(function(e,n){const{addEndListener:r,appear:i=!0,children:s,easing:o,in:a,onEnter:c,onEntered:d,onEntering:h,onExit:f,onExited:p,onExiting:m,style:y,timeout:b="auto",TransitionComponent:E=eo,...x}=e,C=m2(),S=I.useRef(),_=Vb(),k=I.useRef(null),N=wr(k,Nm(s),n),T=V=>H=>{if(V){const K=k.current;H===void 0?V(K):V(K,H)}},M=T(h),O=T((V,H)=>{N2(V);const{duration:K,delay:q,easing:G}=L0({style:y,timeout:b,easing:o},{mode:"enter"});let te;b==="auto"?(te=_.transitions.getAutoHeightDuration(V.clientHeight),S.current=te):te=K,V.style.transition=[_.transitions.create("opacity",{duration:te,delay:q}),_.transitions.create("transform",{duration:FS?te:te*.666,delay:q,easing:G})].join(","),c&&c(V,H)}),R=T(d),F=T(m),z=T(V=>{const{duration:H,delay:K,easing:q}=L0({style:y,timeout:b,easing:o},{mode:"exit"});let G;b==="auto"?(G=_.transitions.getAutoHeightDuration(V.clientHeight),S.current=G):G=H,V.style.transition=[_.transitions.create("opacity",{duration:G,delay:K}),_.transitions.create("transform",{duration:FS?G:G*.666,delay:FS?K:K||G*.333,easing:q})].join(","),V.style.opacity=0,V.style.transform=NE(.75),f&&f(V)}),U=T(p),D=V=>{b==="auto"&&C.start(S.current||0,V),r&&r(k.current,V)};return L.jsx(E,{appear:i,in:a,nodeRef:k,onEnter:O,onEntered:R,onEntering:M,onExit:z,onExited:U,onExiting:F,addEndListener:D,timeout:b==="auto"?null:b,...x,children:(V,{ownerState:H,...K})=>I.cloneElement(s,{style:{opacity:0,transform:NE(.75),visibility:V==="exited"&&!a?"hidden":void 0,...K7[V],...y,...s.props.style},ref:N,...K})})});ME&&(ME.muiSupportAuto=!0);const Q7=t=>{const{classes:e,disableUnderline:n}=t,i=ft({root:["root",!n&&"underline"],input:["input"]},hG,e);return{...e,...i}},Z7=Pe(Xb,{shouldForwardProp:t=>zr(t)||t==="classes",name:"MuiInput",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[...qb(t,e),!n.disableUnderline&&e.underline]}})(It(({theme:t})=>{let n=t.palette.mode==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return t.vars&&(n=`rgba(${t.vars.palette.common.onBackgroundChannel} / ${t.vars.opacity.inputUnderline})`),{position:"relative",variants:[{props:({ownerState:r})=>r.formControl,style:{"label + &":{marginTop:16}}},{props:({ownerState:r})=>!r.disableUnderline,style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${Cf.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${Cf.error}`]:{"&::before, &::after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:`1px solid ${n}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${Cf.disabled}, .${Cf.error}):before`]:{borderBottom:`2px solid ${(t.vars||t).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${n}`}},[`&.${Cf.disabled}:before`]:{borderBottomStyle:"dotted"}}},...Object.entries(t.palette).filter(is()).map(([r])=>({props:{color:r,disableUnderline:!1},style:{"&::after":{borderBottom:`2px solid ${(t.vars||t).palette[r].main}`}}}))]}})),J7=Pe(Kb,{name:"MuiInput",slot:"Input",overridesResolver:Yb})({}),X_=I.forwardRef(function(e,n){const r=St({props:e,name:"MuiInput"}),{disableUnderline:i=!1,components:s={},componentsProps:o,fullWidth:a=!1,inputComponent:c="input",multiline:d=!1,slotProps:h,slots:f={},type:p="text",...m}=r,y=Q7(r),E={root:{ownerState:{disableUnderline:i}}},x=h??o?or(h??o,E):E,C=f.root??s.Root??Z7,S=f.input??s.Input??J7;return L.jsx(q_,{slots:{root:C,input:S},slotProps:x,fullWidth:a,inputComponent:c,multiline:d,ref:n,type:p,...m,classes:y})});X_.muiName="Input";function eq(t){return ht("MuiInputLabel",t)}nt("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const tq=t=>{const{classes:e,formControl:n,size:r,shrink:i,disableAnimation:s,variant:o,required:a}=t,c={root:["root",n&&"formControl",!s&&"animated",i&&"shrink",r&&r!=="normal"&&`size${je(r)}`,o],asterisk:[a&&"asterisk"]},d=ft(c,eq,e);return{...e,...d}},nq=Pe(X7,{shouldForwardProp:t=>zr(t)||t==="classes",name:"MuiInputLabel",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`& .${hp.asterisk}`]:e.asterisk},e.root,n.formControl&&e.formControl,n.size==="small"&&e.sizeSmall,n.shrink&&e.shrink,!n.disableAnimation&&e.animated,n.focused&&e.focused,e[n.variant]]}})(It(({theme:t})=>({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%",variants:[{props:({ownerState:e})=>e.formControl,style:{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"}},{props:{size:"small"},style:{transform:"translate(0, 17px) scale(1)"}},{props:({ownerState:e})=>e.shrink,style:{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"}},{props:({ownerState:e})=>!e.disableAnimation,style:{transition:t.transitions.create(["color","transform","max-width"],{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut})}},{props:{variant:"filled"},style:{zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"}},{props:{variant:"filled",size:"small"},style:{transform:"translate(12px, 13px) scale(1)"}},{props:({variant:e,ownerState:n})=>e==="filled"&&n.shrink,style:{userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"}},{props:({variant:e,ownerState:n,size:r})=>e==="filled"&&n.shrink&&r==="small",style:{transform:"translate(12px, 4px) scale(0.75)"}},{props:{variant:"outlined"},style:{zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"}},{props:{variant:"outlined",size:"small"},style:{transform:"translate(14px, 9px) scale(1)"}},{props:({variant:e,ownerState:n})=>e==="outlined"&&n.shrink,style:{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}}]}))),rq=I.forwardRef(function(e,n){const r=St({name:"MuiInputLabel",props:e}),{disableAnimation:i=!1,margin:s,shrink:o,variant:a,className:c,...d}=r,h=_l();let f=o;typeof f>"u"&&h&&(f=h.filled||h.focused||h.adornedStart);const p=du({props:r,muiFormControl:h,states:["size","variant","required","focused"]}),m={...r,disableAnimation:i,formControl:h,shrink:f,size:p.size,variant:p.variant,required:p.required,focused:p.focused},y=tq(m);return L.jsx(nq,{"data-shrink":f,ref:n,className:Ve(y.root,c),...d,ownerState:m,classes:y})}),OE=I.createContext({});function iq(t){return ht("MuiList",t)}nt("MuiList",["root","padding","dense","subheader"]);const sq=t=>{const{classes:e,disablePadding:n,dense:r,subheader:i}=t;return ft({root:["root",!n&&"padding",r&&"dense",i&&"subheader"]},iq,e)},oq=Pe("ul",{name:"MuiList",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.disablePadding&&e.padding,n.dense&&e.dense,n.subheader&&e.subheader]}})({listStyle:"none",margin:0,padding:0,position:"relative",variants:[{props:({ownerState:t})=>!t.disablePadding,style:{paddingTop:8,paddingBottom:8}},{props:({ownerState:t})=>t.subheader,style:{paddingTop:0}}]}),aq=I.forwardRef(function(e,n){const r=St({props:e,name:"MuiList"}),{children:i,className:s,component:o="ul",dense:a=!1,disablePadding:c=!1,subheader:d,...h}=r,f=I.useMemo(()=>({dense:a}),[a]),p={...r,component:o,dense:a,disablePadding:c},m=sq(p);return L.jsx(OE.Provider,{value:f,children:L.jsxs(oq,{as:o,className:Ve(m.root,s),ref:n,ownerState:p,...h,children:[d,i]})})}),dI=nt("MuiListItemIcon",["root","alignItemsFlexStart"]),hI=nt("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]);function $S(t,e,n){return t===e?t.firstChild:e&&e.nextElementSibling?e.nextElementSibling:n?null:t.firstChild}function fI(t,e,n){return t===e?n?t.firstChild:t.lastChild:e&&e.previousElementSibling?e.previousElementSibling:n?null:t.lastChild}function z2(t,e){if(e===void 0)return!0;let n=t.innerText;return n===void 0&&(n=t.textContent),n=n.trim().toLowerCase(),n.length===0?!1:e.repeating?n[0]===e.keys[0]:n.startsWith(e.keys.join(""))}function _f(t,e,n,r,i,s){let o=!1,a=i(t,e,e?n:!1);for(;a;){if(a===t.firstChild){if(o)return!1;o=!0}const c=r?!1:a.disabled||a.getAttribute("aria-disabled")==="true";if(!a.hasAttribute("tabindex")||!z2(a,s)||c)a=i(t,a,n);else return a.focus(),!0}return!1}const lq=I.forwardRef(function(e,n){const{actions:r,autoFocus:i=!1,autoFocusItem:s=!1,children:o,className:a,disabledItemsFocusable:c=!1,disableListWrap:d=!1,onKeyDown:h,variant:f="selectedMenu",...p}=e,m=I.useRef(null),y=I.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});bl(()=>{i&&m.current.focus()},[i]),I.useImperativeHandle(r,()=>({adjustStyleForScrollbar:(S,{direction:_})=>{const k=!m.current.style.width;if(S.clientHeight<m.current.clientHeight&&k){const N=`${y2(sa(S))}px`;m.current.style[_==="rtl"?"paddingLeft":"paddingRight"]=N,m.current.style.width=`calc(100% + ${N})`}return m.current}}),[]);const b=S=>{const _=m.current,k=S.key;if(S.ctrlKey||S.metaKey||S.altKey){h&&h(S);return}const T=rs(_).activeElement;if(k==="ArrowDown")S.preventDefault(),_f(_,T,d,c,$S);else if(k==="ArrowUp")S.preventDefault(),_f(_,T,d,c,fI);else if(k==="Home")S.preventDefault(),_f(_,null,d,c,$S);else if(k==="End")S.preventDefault(),_f(_,null,d,c,fI);else if(k.length===1){const M=y.current,O=k.toLowerCase(),R=performance.now();M.keys.length>0&&(R-M.lastTime>500?(M.keys=[],M.repeating=!0,M.previousKeyMatched=!0):M.repeating&&O!==M.keys[0]&&(M.repeating=!1)),M.lastTime=R,M.keys.push(O);const F=T&&!M.repeating&&z2(T,M);M.previousKeyMatched&&(F||_f(_,T,!1,c,$S,M))?S.preventDefault():M.previousKeyMatched=!1}h&&h(S)},E=wr(m,n);let x=-1;I.Children.forEach(o,(S,_)=>{if(!I.isValidElement(S)){x===_&&(x+=1,x>=o.length&&(x=-1));return}S.props.disabled||(f==="selectedMenu"&&S.props.selected||x===-1)&&(x=_),x===_&&(S.props.disabled||S.props.muiSkipListHighlight||S.type.muiSkipListHighlight)&&(x+=1,x>=o.length&&(x=-1))});const C=I.Children.map(o,(S,_)=>{if(_===x){const k={};return s&&(k.autoFocus=!0),S.props.tabIndex===void 0&&f==="selectedMenu"&&(k.tabIndex=0),I.cloneElement(S,k)}return S});return L.jsx(aq,{role:"menu",ref:E,className:a,onKeyDown:b,tabIndex:i?0:-1,...p,children:C})});function cq(t){return ht("MuiPopover",t)}nt("MuiPopover",["root","paper"]);function pI(t,e){let n=0;return typeof e=="number"?n=e:e==="center"?n=t.height/2:e==="bottom"&&(n=t.height),n}function gI(t,e){let n=0;return typeof e=="number"?n=e:e==="center"?n=t.width/2:e==="right"&&(n=t.width),n}function mI(t){return[t.horizontal,t.vertical].map(e=>typeof e=="number"?`${e}px`:e).join(" ")}function zS(t){return typeof t=="function"?t():t}const uq=t=>{const{classes:e}=t;return ft({root:["root"],paper:["paper"]},cq,e)},dq=Pe(D2,{name:"MuiPopover",slot:"Root",overridesResolver:(t,e)=>e.root})({}),j2=Pe(V_,{name:"MuiPopover",slot:"Paper",overridesResolver:(t,e)=>e.paper})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),hq=I.forwardRef(function(e,n){const r=St({props:e,name:"MuiPopover"}),{action:i,anchorEl:s,anchorOrigin:o={vertical:"top",horizontal:"left"},anchorPosition:a,anchorReference:c="anchorEl",children:d,className:h,container:f,elevation:p=8,marginThreshold:m=16,open:y,PaperProps:b={},slots:E={},slotProps:x={},transformOrigin:C={vertical:"top",horizontal:"left"},TransitionComponent:S,transitionDuration:_="auto",TransitionProps:k={},disableScrollLock:N=!1,...T}=r,M=I.useRef(),O={...r,anchorOrigin:o,anchorReference:c,elevation:p,marginThreshold:m,transformOrigin:C,TransitionComponent:S,transitionDuration:_,TransitionProps:k},R=uq(O),F=I.useCallback(()=>{if(c==="anchorPosition")return a;const fe=zS(s),pe=(fe&&fe.nodeType===1?fe:rs(M.current).body).getBoundingClientRect();return{top:pe.top+pI(pe,o.vertical),left:pe.left+gI(pe,o.horizontal)}},[s,o.horizontal,o.vertical,a,c]),z=I.useCallback(fe=>({vertical:pI(fe,C.vertical),horizontal:gI(fe,C.horizontal)}),[C.horizontal,C.vertical]),U=I.useCallback(fe=>{const ye={width:fe.offsetWidth,height:fe.offsetHeight},pe=z(ye);if(c==="none")return{top:null,left:null,transformOrigin:mI(pe)};const Se=F();let xe=Se.top-pe.vertical,Ge=Se.left-pe.horizontal;const pt=xe+ye.height,Gt=Ge+ye.width,zt=sa(zS(s)),Tn=zt.innerHeight-m,Nt=zt.innerWidth-m;if(m!==null&&xe<m){const wt=xe-m;xe-=wt,pe.vertical+=wt}else if(m!==null&&pt>Tn){const wt=pt-Tn;xe-=wt,pe.vertical+=wt}if(m!==null&&Ge<m){const wt=Ge-m;Ge-=wt,pe.horizontal+=wt}else if(Gt>Nt){const wt=Gt-Nt;Ge-=wt,pe.horizontal+=wt}return{top:`${Math.round(xe)}px`,left:`${Math.round(Ge)}px`,transformOrigin:mI(pe)}},[s,c,F,z,m]),[D,V]=I.useState(y),H=I.useCallback(()=>{const fe=M.current;if(!fe)return;const ye=U(fe);ye.top!==null&&fe.style.setProperty("top",ye.top),ye.left!==null&&(fe.style.left=ye.left),fe.style.transformOrigin=ye.transformOrigin,V(!0)},[U]);I.useEffect(()=>(N&&window.addEventListener("scroll",H),()=>window.removeEventListener("scroll",H)),[s,N,H]);const K=()=>{H()},q=()=>{V(!1)};I.useEffect(()=>{y&&H()}),I.useImperativeHandle(i,()=>y?{updatePosition:()=>{H()}}:null,[y,H]),I.useEffect(()=>{if(!y)return;const fe=p2(()=>{H()}),ye=sa(s);return ye.addEventListener("resize",fe),()=>{fe.clear(),ye.removeEventListener("resize",fe)}},[s,y,H]);let G=_;const te={slots:{transition:S,...E},slotProps:{transition:k,paper:b,...x}},[Y,Z]=Jt("transition",{elementType:ME,externalForwardedProps:te,ownerState:O,getSlotProps:fe=>({...fe,onEntering:(ye,pe)=>{var Se;(Se=fe.onEntering)==null||Se.call(fe,ye,pe),K()},onExited:ye=>{var pe;(pe=fe.onExited)==null||pe.call(fe,ye),q()}}),additionalProps:{appear:!0,in:y}});_==="auto"&&!Y.muiSupportAuto&&(G=void 0);const X=f||(s?rs(zS(s)).body:void 0),[Q,{slots:J,slotProps:ie,...ne}]=Jt("root",{ref:n,elementType:dq,externalForwardedProps:{...te,...T},shouldForwardComponentProp:!0,additionalProps:{slots:{backdrop:E.backdrop},slotProps:{backdrop:T2(typeof x.backdrop=="function"?x.backdrop(O):x.backdrop,{invisible:!0})},container:X,open:y},ownerState:O,className:Ve(R.root,h)}),[oe,ue]=Jt("paper",{ref:M,className:R.paper,elementType:j2,externalForwardedProps:te,shouldForwardComponentProp:!0,additionalProps:{elevation:p,style:D?void 0:{opacity:0}},ownerState:O});return L.jsx(Q,{...ne,...!PE(Q)&&{slots:J,slotProps:ie,disableScrollLock:N},children:L.jsx(Y,{...Z,timeout:G,children:L.jsx(oe,{...ue,children:d})})})});function fq(t){return ht("MuiMenu",t)}nt("MuiMenu",["root","paper","list"]);const pq={vertical:"top",horizontal:"right"},gq={vertical:"top",horizontal:"left"},mq=t=>{const{classes:e}=t;return ft({root:["root"],paper:["paper"],list:["list"]},fq,e)},yq=Pe(hq,{shouldForwardProp:t=>zr(t)||t==="classes",name:"MuiMenu",slot:"Root",overridesResolver:(t,e)=>e.root})({}),vq=Pe(j2,{name:"MuiMenu",slot:"Paper",overridesResolver:(t,e)=>e.paper})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),bq=Pe(lq,{name:"MuiMenu",slot:"List",overridesResolver:(t,e)=>e.list})({outline:0}),wq=I.forwardRef(function(e,n){const r=St({props:e,name:"MuiMenu"}),{autoFocus:i=!0,children:s,className:o,disableAutoFocusItem:a=!1,MenuListProps:c={},onClose:d,open:h,PaperProps:f={},PopoverClasses:p,transitionDuration:m="auto",TransitionProps:{onEntering:y,...b}={},variant:E="selectedMenu",slots:x={},slotProps:C={},...S}=r,_=EV(),k={...r,autoFocus:i,disableAutoFocusItem:a,MenuListProps:c,onEntering:y,PaperProps:f,transitionDuration:m,TransitionProps:b,variant:E},N=mq(k),T=i&&!a&&h,M=I.useRef(null),O=(G,te)=>{M.current&&M.current.adjustStyleForScrollbar(G,{direction:_?"rtl":"ltr"}),y&&y(G,te)},R=G=>{G.key==="Tab"&&(G.preventDefault(),d&&d(G,"tabKeyDown"))};let F=-1;I.Children.map(s,(G,te)=>{I.isValidElement(G)&&(G.props.disabled||(E==="selectedMenu"&&G.props.selected||F===-1)&&(F=te))});const z={slots:x,slotProps:{list:c,transition:b,paper:f,...C}},U=xV({elementType:x.root,externalSlotProps:C.root,ownerState:k,className:[N.root,o]}),[D,V]=Jt("paper",{className:N.paper,elementType:vq,externalForwardedProps:z,shouldForwardComponentProp:!0,ownerState:k}),[H,K]=Jt("list",{className:Ve(N.list,c.className),elementType:bq,shouldForwardComponentProp:!0,externalForwardedProps:z,getSlotProps:G=>({...G,onKeyDown:te=>{var Y;R(te),(Y=G.onKeyDown)==null||Y.call(G,te)}}),ownerState:k}),q=typeof z.slotProps.transition=="function"?z.slotProps.transition(k):z.slotProps.transition;return L.jsx(yq,{onClose:d,anchorOrigin:{vertical:"bottom",horizontal:_?"right":"left"},transformOrigin:_?pq:gq,slots:{root:x.root,paper:D,backdrop:x.backdrop,...x.transition&&{transition:x.transition}},slotProps:{root:U,paper:V,backdrop:typeof C.backdrop=="function"?C.backdrop(k):C.backdrop,transition:{...q,onEntering:(...G)=>{var te;O(...G),(te=q==null?void 0:q.onEntering)==null||te.call(q,...G)}}},open:h,ref:n,transitionDuration:m,ownerState:k,...S,classes:p,children:L.jsx(H,{actions:M,autoFocus:i&&(F===-1||a),autoFocusItem:T,variant:E,...K,children:s})})});function xq(t){return ht("MuiMenuItem",t)}const Af=nt("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),Sq=(t,e)=>{const{ownerState:n}=t;return[e.root,n.dense&&e.dense,n.divider&&e.divider,!n.disableGutters&&e.gutters]},Eq=t=>{const{disabled:e,dense:n,divider:r,disableGutters:i,selected:s,classes:o}=t,c=ft({root:["root",n&&"dense",e&&"disabled",!i&&"gutters",r&&"divider",s&&"selected"]},xq,o);return{...o,...c}},Cq=Pe(Gb,{shouldForwardProp:t=>zr(t)||t==="classes",name:"MuiMenuItem",slot:"Root",overridesResolver:Sq})(It(({theme:t})=>({...t.typography.body1,display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap","&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${Af.selected}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:rr(t.palette.primary.main,t.palette.action.selectedOpacity),[`&.${Af.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:rr(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},[`&.${Af.selected}:hover`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:rr(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:rr(t.palette.primary.main,t.palette.action.selectedOpacity)}},[`&.${Af.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`&.${Af.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity},[`& + .${lI.root}`]:{marginTop:t.spacing(1),marginBottom:t.spacing(1)},[`& + .${lI.inset}`]:{marginLeft:52},[`& .${hI.root}`]:{marginTop:0,marginBottom:0},[`& .${hI.inset}`]:{paddingLeft:36},[`& .${dI.root}`]:{minWidth:36},variants:[{props:({ownerState:e})=>!e.disableGutters,style:{paddingLeft:16,paddingRight:16}},{props:({ownerState:e})=>e.divider,style:{borderBottom:`1px solid ${(t.vars||t).palette.divider}`,backgroundClip:"padding-box"}},{props:({ownerState:e})=>!e.dense,style:{[t.breakpoints.up("sm")]:{minHeight:"auto"}}},{props:({ownerState:e})=>e.dense,style:{minHeight:32,paddingTop:4,paddingBottom:4,...t.typography.body2,[`& .${dI.root} svg`]:{fontSize:"1.25rem"}}}]}))),_q=I.forwardRef(function(e,n){const r=St({props:e,name:"MuiMenuItem"}),{autoFocus:i=!1,component:s="li",dense:o=!1,divider:a=!1,disableGutters:c=!1,focusVisibleClassName:d,role:h="menuitem",tabIndex:f,className:p,...m}=r,y=I.useContext(OE),b=I.useMemo(()=>({dense:o||y.dense||!1,disableGutters:c}),[y.dense,o,c]),E=I.useRef(null);bl(()=>{i&&E.current&&E.current.focus()},[i]);const x={...r,dense:b.dense,divider:a,disableGutters:c},C=Eq(r),S=wr(E,n);let _;return r.disabled||(_=f!==void 0?f:-1),L.jsx(OE.Provider,{value:b,children:L.jsx(Cq,{ref:S,role:h,tabIndex:_,component:s,focusVisibleClassName:Ve(C.focusVisible,d),className:Ve(C.root,p),...m,ownerState:x,classes:C})})});function Aq(t){return ht("MuiNativeSelect",t)}const K_=nt("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),kq=t=>{const{classes:e,variant:n,disabled:r,multiple:i,open:s,error:o}=t,a={select:["select",n,r&&"disabled",i&&"multiple",o&&"error"],icon:["icon",`icon${je(n)}`,s&&"iconOpen",r&&"disabled"]};return ft(a,Aq,e)},B2=Pe("select")(({theme:t})=>({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":{borderRadius:0},[`&.${K_.disabled}`]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(t.vars||t).palette.background.paper},variants:[{props:({ownerState:e})=>e.variant!=="filled"&&e.variant!=="outlined",style:{"&&&":{paddingRight:24,minWidth:16}}},{props:{variant:"filled"},style:{"&&&":{paddingRight:32}}},{props:{variant:"outlined"},style:{borderRadius:(t.vars||t).shape.borderRadius,"&:focus":{borderRadius:(t.vars||t).shape.borderRadius},"&&&":{paddingRight:32}}}]})),Rq=Pe(B2,{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:zr,overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.select,e[n.variant],n.error&&e.error,{[`&.${K_.multiple}`]:e.multiple}]}})({}),H2=Pe("svg")(({theme:t})=>({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(t.vars||t).palette.action.active,[`&.${K_.disabled}`]:{color:(t.vars||t).palette.action.disabled},variants:[{props:({ownerState:e})=>e.open,style:{transform:"rotate(180deg)"}},{props:{variant:"filled"},style:{right:7}},{props:{variant:"outlined"},style:{right:7}}]})),Tq=Pe(H2,{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.icon,n.variant&&e[`icon${je(n.variant)}`],n.open&&e.iconOpen]}})({}),Pq=I.forwardRef(function(e,n){const{className:r,disabled:i,error:s,IconComponent:o,inputRef:a,variant:c="standard",...d}=e,h={...e,disabled:i,variant:c,error:s},f=kq(h);return L.jsxs(I.Fragment,{children:[L.jsx(Rq,{ownerState:h,className:Ve(f.select,r),disabled:i,ref:a||n,...d}),e.multiple?null:L.jsx(Tq,{as:o,ownerState:h,className:f.icon})]})});var yI;const Iq=Pe("fieldset",{shouldForwardProp:zr})({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),Nq=Pe("legend",{shouldForwardProp:zr})(It(({theme:t})=>({float:"unset",width:"auto",overflow:"hidden",variants:[{props:({ownerState:e})=>!e.withLabel,style:{padding:0,lineHeight:"11px",transition:t.transitions.create("width",{duration:150,easing:t.transitions.easing.easeOut})}},{props:({ownerState:e})=>e.withLabel,style:{display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:t.transitions.create("max-width",{duration:50,easing:t.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}}},{props:({ownerState:e})=>e.withLabel&&e.notched,style:{maxWidth:"100%",transition:t.transitions.create("max-width",{duration:100,easing:t.transitions.easing.easeOut,delay:50})}}]})));function Mq(t){const{children:e,classes:n,className:r,label:i,notched:s,...o}=t,a=i!=null&&i!=="",c={...t,notched:s,withLabel:a};return L.jsx(Iq,{"aria-hidden":!0,className:r,ownerState:c,...o,children:L.jsx(Nq,{ownerState:c,children:a?L.jsx("span",{children:i}):yI||(yI=L.jsx("span",{className:"notranslate","aria-hidden":!0,children:""}))})})}const Oq=t=>{const{classes:e}=t,r=ft({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},fG,e);return{...e,...r}},Lq=Pe(Xb,{shouldForwardProp:t=>zr(t)||t==="classes",name:"MuiOutlinedInput",slot:"Root",overridesResolver:qb})(It(({theme:t})=>{const e=t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{position:"relative",borderRadius:(t.vars||t).shape.borderRadius,[`&:hover .${bs.notchedOutline}`]:{borderColor:(t.vars||t).palette.text.primary},"@media (hover: none)":{[`&:hover .${bs.notchedOutline}`]:{borderColor:t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.23)`:e}},[`&.${bs.focused} .${bs.notchedOutline}`]:{borderWidth:2},variants:[...Object.entries(t.palette).filter(is()).map(([n])=>({props:{color:n},style:{[`&.${bs.focused} .${bs.notchedOutline}`]:{borderColor:(t.vars||t).palette[n].main}}})),{props:{},style:{[`&.${bs.error} .${bs.notchedOutline}`]:{borderColor:(t.vars||t).palette.error.main},[`&.${bs.disabled} .${bs.notchedOutline}`]:{borderColor:(t.vars||t).palette.action.disabled}}},{props:({ownerState:n})=>n.startAdornment,style:{paddingLeft:14}},{props:({ownerState:n})=>n.endAdornment,style:{paddingRight:14}},{props:({ownerState:n})=>n.multiline,style:{padding:"16.5px 14px"}},{props:({ownerState:n,size:r})=>n.multiline&&r==="small",style:{padding:"8.5px 14px"}}]}})),Dq=Pe(Mq,{name:"MuiOutlinedInput",slot:"NotchedOutline",overridesResolver:(t,e)=>e.notchedOutline})(It(({theme:t})=>{const e=t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.23)`:e}})),Fq=Pe(Kb,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:Yb})(It(({theme:t})=>({padding:"16.5px 14px",...!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:t.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:t.palette.mode==="light"?null:"#fff",caretColor:t.palette.mode==="light"?null:"#fff",borderRadius:"inherit"}},...t.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},variants:[{props:{size:"small"},style:{padding:"8.5px 14px"}},{props:({ownerState:e})=>e.multiline,style:{padding:0}},{props:({ownerState:e})=>e.startAdornment,style:{paddingLeft:0}},{props:({ownerState:e})=>e.endAdornment,style:{paddingRight:0}}]}))),Q_=I.forwardRef(function(e,n){var r;const i=St({props:e,name:"MuiOutlinedInput"}),{components:s={},fullWidth:o=!1,inputComponent:a="input",label:c,multiline:d=!1,notched:h,slots:f={},type:p="text",...m}=i,y=Oq(i),b=_l(),E=du({props:i,muiFormControl:b,states:["color","disabled","error","focused","hiddenLabel","size","required"]}),x={...i,color:E.color||"primary",disabled:E.disabled,error:E.error,focused:E.focused,formControl:b,fullWidth:o,hiddenLabel:E.hiddenLabel,multiline:d,size:E.size,type:p},C=f.root??s.Root??Lq,S=f.input??s.Input??Fq;return L.jsx(q_,{slots:{root:C,input:S},renderSuffix:_=>L.jsx(Dq,{ownerState:x,className:y.notchedOutline,label:c!=null&&c!==""&&E.required?r||(r=L.jsxs(I.Fragment,{children:[c,"","*"]})):c,notched:typeof h<"u"?h:!!(_.startAdornment||_.filled||_.focused)}),fullWidth:o,inputComponent:a,multiline:d,ref:n,type:p,...m,classes:{...y,notchedOutline:null}})});Q_.muiName="Input";function W2(t){return ht("MuiSelect",t)}const kf=nt("MuiSelect",["root","select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]);var vI;const $q=Pe(B2,{name:"MuiSelect",slot:"Select",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`&.${kf.select}`]:e.select},{[`&.${kf.select}`]:e[n.variant]},{[`&.${kf.error}`]:e.error},{[`&.${kf.multiple}`]:e.multiple}]}})({[`&.${kf.select}`]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),zq=Pe(H2,{name:"MuiSelect",slot:"Icon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.icon,n.variant&&e[`icon${je(n.variant)}`],n.open&&e.iconOpen]}})({}),jq=Pe("input",{shouldForwardProp:t=>R2(t)&&t!=="classes",name:"MuiSelect",slot:"NativeInput",overridesResolver:(t,e)=>e.nativeInput})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function bI(t,e){return typeof e=="object"&&e!==null?t===e:String(t)===String(e)}function Bq(t){return t==null||typeof t=="string"&&!t.trim()}const Hq=t=>{const{classes:e,variant:n,disabled:r,multiple:i,open:s,error:o}=t,a={select:["select",n,r&&"disabled",i&&"multiple",o&&"error"],icon:["icon",`icon${je(n)}`,s&&"iconOpen",r&&"disabled"],nativeInput:["nativeInput"]};return ft(a,W2,e)},Wq=I.forwardRef(function(e,n){var kl;const{"aria-describedby":r,"aria-label":i,autoFocus:s,autoWidth:o,children:a,className:c,defaultOpen:d,defaultValue:h,disabled:f,displayEmpty:p,error:m=!1,IconComponent:y,inputRef:b,labelId:E,MenuProps:x={},multiple:C,name:S,onBlur:_,onChange:k,onClose:N,onFocus:T,onOpen:M,open:O,readOnly:R,renderValue:F,required:z,SelectDisplayProps:U={},tabIndex:D,type:V,value:H,variant:K="standard",...q}=e,[G,te]=xE({controlled:H,default:h,name:"Select"}),[Y,Z]=xE({controlled:O,default:d,name:"Select"}),X=I.useRef(null),Q=I.useRef(null),[J,ie]=I.useState(null),{current:ne}=I.useRef(O!=null),[oe,ue]=I.useState(),fe=wr(n,b),ye=I.useCallback(He=>{Q.current=He,He&&ie(He)},[]),pe=J==null?void 0:J.parentNode;I.useImperativeHandle(fe,()=>({focus:()=>{Q.current.focus()},node:X.current,value:G}),[G]),I.useEffect(()=>{d&&Y&&J&&!ne&&(ue(o?null:pe.clientWidth),Q.current.focus())},[J,o]),I.useEffect(()=>{s&&Q.current.focus()},[s]),I.useEffect(()=>{if(!E)return;const He=rs(Q.current).getElementById(E);if(He){const gt=()=>{getSelection().isCollapsed&&Q.current.focus()};return He.addEventListener("click",gt),()=>{He.removeEventListener("click",gt)}}},[E]);const Se=(He,gt)=>{He?M&&M(gt):N&&N(gt),ne||(ue(o?null:pe.clientWidth),Z(He))},xe=He=>{He.button===0&&(He.preventDefault(),Q.current.focus(),Se(!0,He))},Ge=He=>{Se(!1,He)},pt=I.Children.toArray(a),Gt=He=>{const gt=pt.find(qt=>qt.props.value===He.target.value);gt!==void 0&&(te(gt.props.value),k&&k(He,gt))},zt=He=>gt=>{let qt;if(gt.currentTarget.hasAttribute("tabindex")){if(C){qt=Array.isArray(G)?G.slice():[];const di=G.indexOf(He.props.value);di===-1?qt.push(He.props.value):qt.splice(di,1)}else qt=He.props.value;if(He.props.onClick&&He.props.onClick(gt),G!==qt&&(te(qt),k)){const di=gt.nativeEvent||gt,ha=new di.constructor(di.type,di);Object.defineProperty(ha,"target",{writable:!0,value:{value:qt,name:S}}),k(ha,He)}C||Se(!1,gt)}},Tn=He=>{R||[" ","ArrowUp","ArrowDown","Enter"].includes(He.key)&&(He.preventDefault(),Se(!0,He))},Nt=J!==null&&Y,wt=He=>{!Nt&&_&&(Object.defineProperty(He,"target",{writable:!0,value:{value:G,name:S}}),_(He))};delete q["aria-invalid"];let De,ar;const an=[];let lr=!1;(F0({value:G})||p)&&(F?De=F(G):lr=!0);const xr=pt.map(He=>{if(!I.isValidElement(He))return null;let gt;if(C){if(!Array.isArray(G))throw new Error(ra(2));gt=G.some(qt=>bI(qt,He.props.value)),gt&&lr&&an.push(He.props.children)}else gt=bI(G,He.props.value),gt&&lr&&(ar=He.props.children);return I.cloneElement(He,{"aria-selected":gt?"true":"false",onClick:zt(He),onKeyUp:qt=>{qt.key===" "&&qt.preventDefault(),He.props.onKeyUp&&He.props.onKeyUp(qt)},role:"option",selected:gt,value:void 0,"data-value":He.props.value})});lr&&(C?an.length===0?De=null:De=an.reduce((He,gt,qt)=>(He.push(gt),qt<an.length-1&&He.push(", "),He),[]):De=ar);let Sr=oe;!o&&ne&&J&&(Sr=pe.clientWidth);let jr;typeof D<"u"?jr=D:jr=f?null:0;const Br=U.id||(S?`mui-component-select-${S}`:void 0),cr={...e,variant:K,value:G,open:Nt,error:m},ct=Hq(cr),ds={...x.PaperProps,...(kl=x.slotProps)==null?void 0:kl.paper},hs=Im();return L.jsxs(I.Fragment,{children:[L.jsx($q,{as:"div",ref:ye,tabIndex:jr,role:"combobox","aria-controls":Nt?hs:void 0,"aria-disabled":f?"true":void 0,"aria-expanded":Nt?"true":"false","aria-haspopup":"listbox","aria-label":i,"aria-labelledby":[E,Br].filter(Boolean).join(" ")||void 0,"aria-describedby":r,"aria-required":z?"true":void 0,"aria-invalid":m?"true":void 0,onKeyDown:Tn,onMouseDown:f||R?null:xe,onBlur:wt,onFocus:T,...U,ownerState:cr,className:Ve(U.className,ct.select,c),id:Br,children:Bq(De)?vI||(vI=L.jsx("span",{className:"notranslate","aria-hidden":!0,children:""})):De}),L.jsx(jq,{"aria-invalid":m,value:Array.isArray(G)?G.join(","):G,name:S,ref:X,"aria-hidden":!0,onChange:Gt,tabIndex:-1,disabled:f,className:ct.nativeInput,autoFocus:s,required:z,...q,ownerState:cr}),L.jsx(zq,{as:y,className:ct.icon,ownerState:cr}),L.jsx(wq,{id:`menu-${S||""}`,anchorEl:pe,open:Nt,onClose:Ge,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},...x,slotProps:{...x.slotProps,list:{"aria-labelledby":E,role:"listbox","aria-multiselectable":C?"true":void 0,disableListWrap:!0,id:hs,...x.MenuListProps},paper:{...ds,style:{minWidth:Sr,...ds!=null?ds.style:null}}},children:xr})]})}),Uq=t=>{const{classes:e}=t,r=ft({root:["root"]},W2,e);return{...e,...r}},Z_={name:"MuiSelect",overridesResolver:(t,e)=>e.root,shouldForwardProp:t=>zr(t)&&t!=="variant",slot:"Root"},Vq=Pe(X_,Z_)(""),Gq=Pe(Q_,Z_)(""),qq=Pe(Y_,Z_)(""),J_=I.forwardRef(function(e,n){const r=St({name:"MuiSelect",props:e}),{autoWidth:i=!1,children:s,classes:o={},className:a,defaultOpen:c=!1,displayEmpty:d=!1,IconComponent:h=gG,id:f,input:p,inputProps:m,label:y,labelId:b,MenuProps:E,multiple:x=!1,native:C=!1,onClose:S,onOpen:_,open:k,renderValue:N,SelectDisplayProps:T,variant:M="outlined",...O}=r,R=C?Pq:Wq,F=_l(),z=du({props:r,muiFormControl:F,states:["variant","error"]}),U=z.variant||M,D={...r,variant:U,classes:o},V=Uq(D),{root:H,...K}=V,q=p||{standard:L.jsx(Vq,{ownerState:D}),outlined:L.jsx(Gq,{label:y,ownerState:D}),filled:L.jsx(qq,{ownerState:D})}[U],G=wr(n,Nm(q));return L.jsx(I.Fragment,{children:I.cloneElement(q,{inputComponent:R,inputProps:{children:s,error:z.error,IconComponent:h,variant:U,type:void 0,multiple:x,...C?{id:f}:{autoWidth:i,defaultOpen:c,displayEmpty:d,labelId:b,MenuProps:E,onClose:S,onOpen:_,open:k,renderValue:N,SelectDisplayProps:{id:f,...T}},...m,classes:m?or(K,m.classes):K,...p?p.props.inputProps:{}},...(x&&C||d)&&U==="outlined"?{notched:!0}:{},ref:G,className:Ve(q.props.className,a,V.root),...!p&&{variant:U},...O})})});J_.muiName="Select";function Yq(t){return ht("MuiTextField",t)}nt("MuiTextField",["root"]);const Xq={standard:X_,filled:Y_,outlined:Q_},Kq=t=>{const{classes:e}=t;return ft({root:["root"]},Yq,e)},Qq=Pe($2,{name:"MuiTextField",slot:"Root",overridesResolver:(t,e)=>e.root})({}),LE=I.forwardRef(function(e,n){const r=St({props:e,name:"MuiTextField"}),{autoComplete:i,autoFocus:s=!1,children:o,className:a,color:c="primary",defaultValue:d,disabled:h=!1,error:f=!1,FormHelperTextProps:p,fullWidth:m=!1,helperText:y,id:b,InputLabelProps:E,inputProps:x,InputProps:C,inputRef:S,label:_,maxRows:k,minRows:N,multiline:T=!1,name:M,onBlur:O,onChange:R,onFocus:F,placeholder:z,required:U=!1,rows:D,select:V=!1,SelectProps:H,slots:K={},slotProps:q={},type:G,value:te,variant:Y="outlined",...Z}=r,X={...r,autoFocus:s,color:c,disabled:h,error:f,fullWidth:m,multiline:T,required:U,select:V,variant:Y},Q=Kq(X),J=Im(b),ie=y&&J?`${J}-helper-text`:void 0,ne=_&&J?`${J}-label`:void 0,oe=Xq[Y],ue={slots:K,slotProps:{input:C,inputLabel:E,htmlInput:x,formHelperText:p,select:H,...q}},fe={},ye=ue.slotProps.inputLabel;Y==="outlined"&&(ye&&typeof ye.shrink<"u"&&(fe.notched=ye.shrink),fe.label=_),V&&((!H||!H.native)&&(fe.id=void 0),fe["aria-describedby"]=void 0);const[pe,Se]=Jt("input",{elementType:oe,externalForwardedProps:ue,additionalProps:fe,ownerState:X}),[xe,Ge]=Jt("inputLabel",{elementType:rq,externalForwardedProps:ue,ownerState:X}),[pt,Gt]=Jt("htmlInput",{elementType:"input",externalForwardedProps:ue,ownerState:X}),[zt,Tn]=Jt("formHelperText",{elementType:U7,externalForwardedProps:ue,ownerState:X}),[Nt,wt]=Jt("select",{elementType:J_,externalForwardedProps:ue,ownerState:X}),De=L.jsx(pe,{"aria-describedby":ie,autoComplete:i,autoFocus:s,defaultValue:d,fullWidth:m,multiline:T,name:M,rows:D,maxRows:k,minRows:N,type:G,value:te,id:J,inputRef:S,onBlur:O,onChange:R,onFocus:F,placeholder:z,inputProps:Gt,slots:{input:K.htmlInput?pt:void 0},...Se});return L.jsxs(Qq,{className:Ve(Q.root,a),disabled:h,error:f,fullWidth:m,ref:n,required:U,color:c,variant:Y,ownerState:X,...Z,children:[_!=null&&_!==""&&L.jsx(xe,{htmlFor:J,id:ne,...Ge,children:_}),V?L.jsx(Nt,{"aria-describedby":ie,id:J,labelId:ne,value:te,input:De,...wt,children:o}):De,y&&L.jsx(zt,{id:ie,...Tn,children:y})]})}),wI=ui(L.jsx("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6z"}),"Add"),Zq=ui(L.jsx("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20z"}),"ArrowBack"),Jq=ui(L.jsx("path",{d:"m12 4-1.41 1.41L16.17 11H4v2h12.17l-5.58 5.59L12 20l8-8z"}),"ArrowForward"),eY=ui(L.jsx("path",{d:"m19 1-5 5v11l5-4.5zM1 6v14.65c0 .25.25.5.5.5.1 0 .15-.05.25-.05C3.1 20.45 5.05 20 6.5 20c1.95 0 4.05.4 5.5 1.5V6c-1.45-1.1-3.55-1.5-5.5-1.5S2.45 4.9 1 6m22 13.5V6c-.6-.45-1.25-.75-2-1v13.5c-1.1-.35-2.3-.5-3.5-.5-1.7 0-4.15.65-5.5 1.5v2c1.35-.85 3.8-1.5 5.5-1.5 1.65 0 3.35.3 4.75 1.05.1.05.15.05.25.05.25 0 .5-.25.5-.5z"}),"AutoStories"),tY=ui(L.jsx("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close"),nY=ui(L.jsx("path",{d:"M22 3.41 16.71 8.7 20 12h-8V4l3.29 3.29L20.59 2zM3.41 22l5.29-5.29L12 20v-8H4l3.29 3.29L2 20.59z"}),"CloseFullscreen"),rY=ui(L.jsx("path",{d:"M12 1.27a11 11 0 00-3.48 21.46c.55.09.73-.28.73-.55v-1.84c-3.03.64-3.67-1.46-3.67-1.46-.55-1.29-1.28-1.65-1.28-1.65-.92-.65.1-.65.1-.65 1.1 0 1.73 1.1 1.73 1.1.92 1.65 2.57 1.2 3.21.92a2 2 0 01.64-1.47c-2.47-.27-5.04-1.19-5.04-5.5 0-1.1.46-2.1 1.2-2.84a3.76 3.76 0 010-2.93s.91-.28 3.11 1.1c1.8-.49 3.7-.49 5.5 0 2.1-1.38 3.02-1.1 3.02-1.1a3.76 3.76 0 010 2.93c.83.74 1.2 1.74 1.2 2.94 0 4.21-2.57 5.13-5.04 5.4.45.37.82.92.82 2.02v3.03c0 .27.1.64.73.55A11 11 0 0012 1.27"}),"GitHub"),iY=ui(L.jsx("path",{d:"M21 11V3h-8l3.29 3.29-10 10L3 13v8h8l-3.29-3.29 10-10z"}),"OpenInFull"),sY=ui(L.jsx("path",{d:"M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8zm4 18H6V4h7v5h5zM8 15.01l1.41 1.41L11 14.84V19h2v-4.16l1.59 1.59L16 15.01 12.01 11z"}),"UploadFile"),U2="/re-ad/re-ad-logo.svg";function oY(){const t=I.useContext(ua);if(!t)throw new Error("PaperContext not found");const{paperUrl:e,readRecords:n,currentReadId:r,setCurrentReadId:i,setIsAddingNewRead:s,displayedReads:o,hideRead:a,showRead:c}=t;if(!I.useContext(Cm))throw new Error("TourContext not found");const h=()=>{if(!e){alert("Please upload a paper first");return}s(!0)};return L.jsxs("div",{className:"NavBar",children:[L.jsx("div",{className:"logo-text",children:L.jsx("img",{src:U2,height:40,alt:"re:ad"})}),L.jsxs(Rt,{className:"highlights",sx:{mx:2},children:[Object.values(n).length>0&&Object.values(n).map(f=>L.jsx(Rt,{className:"read",sx:{borderBottom:r===f.id?`2px solid ${f.color}`:"none"},children:L.jsx(j7,{control:L.jsx(UG,{onChange:()=>{o.includes(f.id)?a(f.id):c(f.id)},sx:{color:f.color,"&.Mui-checked":{color:f.color}},checked:o.includes(f.id),disabled:r===f.id}),label:f.title})},f.id)),Object.values(n).length>0?L.jsx(Np,{onClick:h,children:L.jsx(wI,{})}):L.jsx(ts,{className:"mui-button add-new-read-btn",size:"small",variant:"text",startIcon:L.jsx(wI,{}),onClick:h,children:L.jsx("span",{style:{lineHeight:0},children:"new read"})})]}),L.jsxs(Rt,{className:"active-read",sx:{mx:3,display:"flex",flexDirection:"row",alignItems:"center",gap:1},children:[L.jsx("h4",{children:"active read:"}),Object.values(n).length>0?L.jsx("div",{children:L.jsx($2,{size:"small",fullWidth:!0,children:L.jsx(J_,{value:r,onChange:f=>i(f.target.value),sx:{"& .MuiOutlinedInput-notchedOutline":{borderColor:n[r].color},"&:hover .MuiOutlinedInput-notchedOutline":{borderColor:n[r].color},"&.Mui-focused .MuiOutlinedInput-notchedOutline":{borderColor:n[r].color}},children:Object.values(n).map(f=>L.jsx(_q,{value:f.id,children:f.title},f.id))})})}):L.jsx("div",{children:L.jsx("p",{children:"none"})})]})]})}const aY="modulepreload",lY=function(t){return"/re-ad/"+t},xI={},Gf=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.allSettled(n.map(c=>{if(c=lY(c),c in xI)return;xI[c]=!0;const d=c.endsWith(".css"),h=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${h}`))return;const f=document.createElement("link");if(f.rel=d?"stylesheet":aY,d||(f.as="script"),f.crossOrigin="",f.href=c,a&&f.setAttribute("nonce",a),document.head.appendChild(f),d)return new Promise((p,m)=>{f.addEventListener("load",p),f.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${c}`)))})}))}function s(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return i.then(o=>{for(const a of o||[])a.status==="rejected"&&s(a.reason);return e().catch(s)})};var jS,SI;function cY(){if(SI)return jS;SI=1;var t="Expected a function",e=NaN,n="[object Symbol]",r=/^\s+|\s+$/g,i=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,o=/^0o[0-7]+$/i,a=parseInt,c=typeof lv=="object"&&lv&&lv.Object===Object&&lv,d=typeof self=="object"&&self&&self.Object===Object&&self,h=c||d||Function("return this")(),f=Object.prototype,p=f.toString,m=Math.max,y=Math.min,b=function(){return h.Date.now()};function E(k,N,T){var M,O,R,F,z,U,D=0,V=!1,H=!1,K=!0;if(typeof k!="function")throw new TypeError(t);N=_(N)||0,x(T)&&(V=!!T.leading,H="maxWait"in T,R=H?m(_(T.maxWait)||0,N):R,K="trailing"in T?!!T.trailing:K);function q(ne){var oe=M,ue=O;return M=O=void 0,D=ne,F=k.apply(ue,oe),F}function G(ne){return D=ne,z=setTimeout(Z,N),V?q(ne):F}function te(ne){var oe=ne-U,ue=ne-D,fe=N-oe;return H?y(fe,R-ue):fe}function Y(ne){var oe=ne-U,ue=ne-D;return U===void 0||oe>=N||oe<0||H&&ue>=R}function Z(){var ne=b();if(Y(ne))return X(ne);z=setTimeout(Z,te(ne))}function X(ne){return z=void 0,K&&M?q(ne):(M=O=void 0,F)}function Q(){z!==void 0&&clearTimeout(z),D=0,M=U=O=z=void 0}function J(){return z===void 0?F:X(b())}function ie(){var ne=b(),oe=Y(ne);if(M=arguments,O=this,U=ne,oe){if(z===void 0)return G(U);if(H)return z=setTimeout(Z,N),q(U)}return z===void 0&&(z=setTimeout(Z,N)),F}return ie.cancel=Q,ie.flush=J,ie}function x(k){var N=typeof k;return!!k&&(N=="object"||N=="function")}function C(k){return!!k&&typeof k=="object"}function S(k){return typeof k=="symbol"||C(k)&&p.call(k)==n}function _(k){if(typeof k=="number")return k;if(S(k))return e;if(x(k)){var N=typeof k.valueOf=="function"?k.valueOf():k;k=x(N)?N+"":N}if(typeof k!="string")return k===0?k:+k;k=k.replace(r,"");var T=s.test(k);return T||o.test(k)?a(k.slice(2),T?2:8):i.test(k)?e:+k}return jS=E,jS}var uY=cY();const dY=as(uY),DE=I.createContext(void 0),V2=()=>{const t=I.useContext(DE);if(t===void 0)throw new Error("usePdfHighlighterContext must be used within PdfHighlighter!");return t},G2=(t,{width:e,height:n})=>({x1:t.left,y1:t.top,x2:t.left+t.width,y2:t.top+t.height,width:e,height:n,pageNumber:t.pageNumber}),q2=({boundingRect:t,rects:e},n)=>{const r=t.pageNumber,i=n.getPageView(r-1).viewport,s=o=>G2(o,i);return{boundingRect:s(t),rects:(e||[]).map(s)}},hY=(t,e)=>{const[n,r,i,s]=e.convertToViewportRectangle([t.x1,t.y1,t.x2,t.y2]);return{left:Math.min(n,i),top:Math.min(r,s),width:Math.abs(i-n),height:Math.abs(r-s),pageNumber:t.pageNumber}},Y2=(t,e,n=!1)=>{const{width:r,height:i}=e;if(n)return hY(t,e);if(t.x1===void 0)throw new Error("You are using old position format, please update");const s=r*t.x1/t.width,o=i*t.y1/t.height,a=r*t.x2/t.width,c=i*t.y2/t.height;return{left:s,top:o,width:a-s,height:c-o,pageNumber:t.pageNumber}},fY=({boundingRect:t,rects:e,usePdfCoordinates:n},r)=>{const i=t.pageNumber,s=r.getPageView(i-1).viewport,o=a=>Y2(a,s,n);return{boundingRect:o(t),rects:(e||[]).map(o)}},pY=t=>{const e=Array.from(t).map(h=>{const{left:f,top:p,width:m,height:y,pageNumber:b}=h,E=f,x=f+m,C=p,S=p+y;return{X0:E,X1:x,Y0:C,Y1:S,pageNumber:b}});let n=Number.MAX_SAFE_INTEGER;e.forEach(h=>{n=Math.min(n,h.pageNumber??n)});const r=e.filter(h=>(h.X0>0||h.X1>0||h.Y0>0||h.Y1>0)&&h.pageNumber===n),i=r.reduce((h,f)=>({X0:Math.min(h.X0,f.X0),X1:Math.max(h.X1,f.X1),Y0:Math.min(h.Y0,f.Y0),Y1:Math.max(h.Y1,f.Y1),pageNumber:n}),r[0]),{X0:s,X1:o,Y0:a,Y1:c,pageNumber:d}=i;return{left:s,top:a,width:o-s,height:c-a,pageNumber:d}},gY=t=>t.sort((e,n)=>{const r=(e.pageNumber||0)*e.top-(n.pageNumber||0)*n.top;return r===0?e.left-n.left:r}),mY=(t,e)=>t.pageNumber===e.pageNumber&&t.left<=e.left&&e.left<=t.left+t.width,yY=(t,e,n=5)=>t.pageNumber===e.pageNumber&&Math.abs(t.top-e.top)<n&&Math.abs(t.height-e.height)<n,vY=(t,e)=>t.pageNumber===e.pageNumber&&t.top>e.top&&t.left>e.left&&t.top+t.height<e.top+e.height&&t.left+t.width<e.left+e.width,bY=(t,e,n=10)=>{const r=t.left+t.width,i=e.left+e.width;return t.pageNumber===e.pageNumber&&t.left<=e.left&&r<=i&&e.left-r<=n},EI=(t,e)=>{t.width=Math.max(e.width-t.left+e.left,t.width)},wY=t=>{const e=gY(t),n=new Set,r=e.filter(s=>e.every(o=>!vY(s,o)));let i=0;for(;i<=2;)r.forEach(s=>{r.forEach(o=>{s===o||n.has(s)||n.has(o)||yY(s,o)&&(mY(s,o)&&(EI(s,o),s.height=Math.max(s.height,o.height),n.add(o)),bY(s,o)&&(EI(s,o),n.add(o)))})}),i+=1;return r.filter(s=>!n.has(s))},xY=(t,e)=>!(t.top<e.top||t.bottom>e.bottom||t.right>e.right||t.left<e.left),SY=(t,e,n=!0)=>{const r=Array.from(t.getClientRects()),i=[];for(const s of r)for(const o of e){const a=o.node.getBoundingClientRect();if(xY(s,a)&&s.width>0&&s.height>0&&s.width<a.width&&s.left>a.left&&s.height<a.height){const c={top:s.top+o.node.scrollTop-a.top,left:s.left+o.node.scrollLeft-a.left,width:s.width,height:s.height,pageNumber:o.number};i.push(c)}}return n?wY(i):i},EY=t=>t.reduce((e,n)=>(n&&[n.position.boundingRect.pageNumber,...n.position.rects.map(i=>i.pageNumber||0)].forEach(i=>{e[i]||(e[i]=[]);const s={...n,position:{...n.position,rects:n.position.rects.filter(o=>i===o.pageNumber)}};e[i].push(s)}),e),{}),X2=t=>(t||{}).ownerDocument||document,$0=t=>(X2(t)||{}).defaultView||window,Mp=t=>t instanceof HTMLElement||t instanceof $0(t).HTMLElement,CY=t=>t instanceof HTMLCanvasElement||t instanceof $0(t).HTMLCanvasElement,Us=t=>t,fp=t=>{const e=Us(t.closest(".page"));if(!e||!Mp(e))return null;const n=Number(Us(e).dataset.pageNumber);return{node:e,number:n}},_Y=t=>{const e=t.startContainer.parentElement,n=t.endContainer.parentElement;if(!Mp(e)||!Mp(n))return[];const r=fp(Us(e)),i=fp(Us(n));if(!(r!=null&&r.number)||!(i!=null&&i.number))return[];if(r.number===i.number)return[r];if(r.number===i.number-1)return[r,i];const s=[];let o=r.number;const a=r.node.ownerDocument;for(;o<=i.number;){const c=fp(a.querySelector(`[data-page-number='${o}'`));c&&s.push(c),o++}return s},AY=(t,e)=>{const n=X2(t);let r=t.querySelector(`.${e}`);return!r&&t.children.length&&(r=n.createElement("div"),r.className=e,t.appendChild(r)),r},K2=I.createContext(void 0),kY=()=>{const t=I.useContext(K2);if(t===void 0)throw new Error("useHighlightContainerContext must be used within a child of PdfHighlighter!");return t},RY=(t,e)=>{const{left:n,top:r,width:i,height:s}=e,o=t?t.ownerDocument:null,a=o&&o.createElement("canvas");if(!a||!CY(a))return"";a.width=i,a.height=s;const c=a.getContext("2d");if(!c||!t)return"";const d=window.devicePixelRatio;return c.drawImage(t,n*d,r*d,i*d,s*d,0,0,i,s),a.toDataURL("image/png")},Q2=(t,e,n)=>RY(n.getPageView(e-1).canvas,t),TY="empty-id",PY=({highlightsByPage:t,pageNumber:e,scrolledToHighlightId:n,viewer:r,highlightBindings:i,children:s})=>{const o=t[e]||[];return Ce.createElement("div",null,o.map((a,c)=>{const d={...a,id:"id"in a?a.id:TY,position:fY(a.position,r)},h=n===d.id,f={highlight:d,viewportToScaled:p=>{const m=r.getPageView((p.pageNumber||e)-1).viewport;return G2(p,m)},screenshot:p=>Q2(p,e,r),isScrolledTo:h,highlightBindings:i};return Ce.createElement(K2.Provider,{value:f,key:c},s)}))},CI=(t,e)=>({left:Math.min(e.x,t.x),top:Math.min(e.y,t.y),width:Math.abs(e.x-t.x),height:Math.abs(e.y-t.y)}),_I=(t,e,n)=>{const r=t.getBoundingClientRect();return{x:e-r.left+t.scrollLeft,y:n-r.top+t.scrollTop-window.scrollY}},IY=({viewer:t,onSelection:e,onReset:n,onDragStart:r,enableAreaSelection:i,onChange:s,style:o})=>{const[a,c]=I.useState(null),[d,h]=I.useState(null),[f,p]=I.useState(!1),m=I.useRef(null),y=I.useRef(null),b=()=>{n&&n(),c(null),h(null),p(!1)};return I.useEffect(()=>{if(s&&s(!!(a&&d)),!m.current)return;const E=Us(m.current.parentElement),x=_=>{if(!a||!d||!y.current)return;const k=CI(a,d),N=k.width>=1&&k.height>=1;if(!E.contains(Us(_.target))||!N){b();return}p(!0);const T=fp(y.current);if(!T)return;const M={...k,top:k.top-T.node.offsetTop,left:k.left-T.node.offsetLeft,pageNumber:T.number},O={boundingRect:M,rects:[]},R=q2(O,t),F=Q2(M,M.pageNumber,t);e&&e(O,R,F,b,_)},C=_=>{!m.current||!a||f||h(_I(E,_.pageX,_.pageY))},S=_=>{const k=T=>i(T)&&Mp(T.target)&&!!Us(T.target).closest(".page"),N=T=>a&&!Us(T.target).closest(".PdfHighlighter__tip-container");if(!k(_)){N(_)&&b();return}y.current=Us(_.target),r&&r(_),c(_I(E,_.pageX,_.pageY)),h(null),p(!1)};return E.addEventListener("mousemove",C),E.addEventListener("mousedown",S),document.addEventListener("mouseup",x),()=>{E.removeEventListener("mousemove",C),E.removeEventListener("mousedown",S),document.removeEventListener("mouseup",x)}},[a,d]),Ce.createElement("div",{className:"MouseSelection-container",ref:m},a&&d&&Ce.createElement("div",{className:"MouseSelection",style:{...CI(a,d),...o}}))},NY=(t,e,n)=>Math.min(Math.max(t,e),n),BS=5,MY=({viewer:t,updateTipPositionRef:e})=>{const[n,r]=I.useState(0),[i,s]=I.useState(0),o=I.useRef(null),a=()=>{if(!o.current)return;const{offsetHeight:O,offsetWidth:R}=o.current;r(O),s(R)};e.current=a,I.useLayoutEffect(()=>{a()},[a]);const{getTip:c}=V2(),d=c();if(!d)return null;const{position:h,content:f}=d,{boundingRect:p}=h,m=p.pageNumber,y=t.getPageView(m-1).div,b=y.getBoundingClientRect(),{left:E,width:x}=b,C=t.container.scrollTop,S=y.offsetLeft+p.left+p.width/2,_=p.top+y.offsetTop,k=_+p.height,T=_-n-BS<C?k+BS:_-n-BS,M=NY(S-i/2,0,E+x-i);return Ce.createElement("div",{className:"PdfHighlighter__tip-container",style:{top:T,left:M,height:"max-content",width:"max-content"},ref:o},f)};let Z2,J2,eD;(async()=>{const t=await Gf(()=>import("./pdf_viewer-B7ZwkPJS.js"),[]);Z2=t.EventBus,J2=t.PDFLinkService,eD=t.PDFViewer})();const OY=10,LY="auto",DY="rgba(153,193,218,255)",FY=t=>AY(t,"PdfHighlighter__highlight-layer"),AI=(t,e)=>{var n;(n=t.viewer)==null||n.classList.toggle("PdfHighlighter--disable-selection",e)},$Y=({highlights:t,onScrollAway:e,pdfScaleValue:n=LY,onSelection:r,onCreateGhostHighlight:i,onRemoveGhostHighlight:s,selectionTip:o,enableAreaSelection:a,mouseSelectionStyle:c,pdfDocument:d,children:h,textSelectionColor:f=DY,utilsRef:p,style:m})=>{const[y,b]=I.useState(null),[E,x]=I.useState(!1),C=I.useRef(null),S=I.useRef({}),_=I.useRef(null),k=I.useRef(null),N=I.useRef(null),T=I.useRef(!1),M=I.useRef(!1),O=I.useRef(()=>{}),R=I.useRef(new Z2),F=I.useRef(new J2({eventBus:R.current,externalLinkTarget:2})),z=I.useRef(null),U=I.useRef(null);I.useLayoutEffect(()=>{if(!C.current)return;const ne=dY(()=>{U.current=U.current||new eD({container:C.current,eventBus:R.current,textLayerMode:2,removePageBorders:!0,linkService:F.current}),U.current.setDocument(d),F.current.setDocument(d),F.current.setViewer(U.current),x(!0)},100);return ne(),()=>{ne.cancel()}},[document]),I.useLayoutEffect(()=>{if(!C.current)return;z.current=new ResizeObserver(q),z.current.observe(C.current);const ne=C.current.ownerDocument;return R.current.on("textlayerrendered",te),R.current.on("pagesinit",q),ne.addEventListener("keydown",K),te(),()=>{var oe;R.current.off("pagesinit",q),R.current.off("textlayerrendered",te),ne.removeEventListener("keydown",K),(oe=z.current)==null||oe.disconnect()}},[o,t,r]);const D=()=>{e&&e(),N.current=null,te()},V=()=>{const ne=C.current,oe=$0(ne).getSelection();if(!ne||!oe||oe.isCollapsed||!U.current)return;const ue=oe.rangeCount>0?oe.getRangeAt(0):null;if(!ue||!ne.contains(ue.commonAncestorContainer))return;const fe=_Y(ue);if(!fe||fe.length===0)return;const ye=SY(ue,fe);if(ye.length===0)return;const pe={boundingRect:pY(ye),rects:ye},Se=q2(pe,U.current),xe={text:oe.toString().split(`
`).join(" ")};k.current={content:xe,type:"text",position:Se,makeGhostHighlight:()=>(_.current={content:xe,type:"text",position:Se},i&&i(_.current),Q(),te(),_.current)},r&&r(k.current),o&&b({position:pe,content:o})},H=ne=>{!Mp(ne.target)||Us(ne.target).closest(".PdfHighlighter__tip-container")||(b(null),Q(),X(),Z(!1))},K=ne=>{ne.code==="Escape"&&(Q(),X(),b(null))},q=()=>{U.current&&(U.current.currentScaleValue=n.toString())},G=(ne,oe)=>{U.current&&ne.reactRoot.render(Ce.createElement(DE.Provider,{value:ie},Ce.createElement(PY,{highlightsByPage:EY([...t,_.current]),pageNumber:oe,scrolledToHighlightId:N.current,viewer:U.current,highlightBindings:ne,children:h})))},te=()=>{var ne;if(U.current)for(let oe=1;oe<=d.numPages;oe++){const ue=S.current[oe];if((ne=ue==null?void 0:ue.container)!=null&&ne.isConnected)G(ue,oe);else{const{textLayer:fe}=U.current.getPageView(oe-1)||{};if(!fe)continue;const ye=FY(fe.div);if(ye){const pe=nO.createRoot(ye);S.current[oe]={reactRoot:pe,container:ye,textLayer:fe.div},G(S.current[oe],oe)}}}},Y=()=>!!k.current||!!_.current||T.current||M.current,Z=ne=>{var oe;ne!==void 0?M.current=ne:M.current=!M.current,U.current&&((oe=U.current.viewer)==null||oe.classList.toggle("PdfHighlighter--disable-selection",M.current))},X=()=>{s&&_.current&&s(_.current),_.current=null,te()},Q=()=>{k.current=null;const ne=C.current,oe=$0(ne).getSelection();!ne||!oe||oe.removeAllRanges()},ie={isEditingOrHighlighting:Y,getCurrentSelection:()=>k.current,getGhostHighlight:()=>_.current,removeGhostHighlight:X,toggleEditInProgress:Z,isEditInProgress:()=>M.current,isSelectionInProgress:()=>!!k.current||T.current,scrollToHighlight:ne=>{const{boundingRect:oe,usePdfCoordinates:ue}=ne.position,fe=oe.pageNumber;U.current.container.removeEventListener("scroll",D);const ye=U.current.getPageView(fe-1).viewport;U.current.scrollPageIntoView({pageNumber:fe,destArray:[null,{name:"XYZ"},...ye.convertToPdfPoint(0,Y2(oe,ye,ue).top-OY),0]}),N.current=ne.id,te(),setTimeout(()=>{U.current.container.addEventListener("scroll",D,{once:!0})},100)},getViewer:()=>U.current,getTip:()=>y,setTip:b,updateTipPosition:O.current};return p(ie),Ce.createElement(DE.Provider,{value:ie},Ce.createElement("div",{ref:C,className:"PdfHighlighter",onPointerDown:H,onPointerUp:V,style:m},Ce.createElement("div",{className:"pdfViewer"}),Ce.createElement("style",null,`
          .textLayer ::selection {
            background: ${f};
          }
        `),E&&Ce.createElement(MY,{viewer:U.current,updateTipPositionRef:O}),E&&a&&Ce.createElement(IY,{viewer:U.current,onChange:ne=>T.current=ne,enableAreaSelection:a,style:c,onDragStart:()=>AI(U.current,!0),onReset:()=>{k.current=null,AI(U.current,!1)},onSelection:(ne,oe,ue,fe)=>{k.current={content:{image:ue},type:"area",position:oe,makeGhostHighlight:()=>(_.current={position:oe,type:"area",content:{image:ue}},i&&i(_.current),fe(),te(),_.current)},r&&r(k.current),o&&b({position:ne,content:o})}})))},zY=({highlight:t,onClick:e,onMouseOver:n,onMouseOut:r,isScrolledTo:i,onContextMenu:s,style:o})=>{const a=i?"TextHighlight--scrolledTo":"",{rects:c}=t.position;return Ce.createElement("div",{className:`TextHighlight ${a}`,onContextMenu:s},Ce.createElement("div",{className:"TextHighlight__parts"},c.map((d,h)=>Ce.createElement("div",{onMouseOver:n,onMouseOut:r,onClick:e,key:h,style:{...d,...o},className:"TextHighlight__part"}))))};var Rf={exports:{}},HS={};function tD(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(n=tD(t[e]))&&(r&&(r+=" "),r+=n);else for(e in t)t[e]&&(r&&(r+=" "),r+=e);return r}function kI(){for(var t,e,n=0,r="";n<arguments.length;)(t=arguments[n++])&&(e=tD(t))&&(r&&(r+=" "),r+=e);return r}const jY=Object.freeze(Object.defineProperty({__proto__:null,clsx:kI,default:kI},Symbol.toStringTag,{value:"Module"})),BY=Vz(jY);var cn={},$a={},RI;function Qb(){if(RI)return $a;RI=1,Object.defineProperty($a,"__esModule",{value:!0}),$a.dontSetMe=i,$a.findInArray=t,$a.int=r,$a.isFunction=e,$a.isNum=n;function t(s,o){for(let a=0,c=s.length;a<c;a++)if(o.apply(o,[s[a],a,s]))return s[a]}function e(s){return typeof s=="function"||Object.prototype.toString.call(s)==="[object Function]"}function n(s){return typeof s=="number"&&!isNaN(s)}function r(s){return parseInt(s,10)}function i(s,o,a){if(s[o])return new Error("Invalid prop ".concat(o," passed to ").concat(a," - do not set this, set it on the child."))}return $a}var za={},TI;function HY(){if(TI)return za;TI=1,Object.defineProperty(za,"__esModule",{value:!0}),za.browserPrefixToKey=n,za.browserPrefixToStyle=r,za.default=void 0,za.getPrefix=e;const t=["Moz","Webkit","O","ms"];function e(){var s;let o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"transform";if(typeof window>"u")return"";const a=(s=window.document)===null||s===void 0||(s=s.documentElement)===null||s===void 0?void 0:s.style;if(!a||o in a)return"";for(let c=0;c<t.length;c++)if(n(o,t[c])in a)return t[c];return""}function n(s,o){return o?"".concat(o).concat(i(s)):s}function r(s,o){return o?"-".concat(o.toLowerCase(),"-").concat(s):s}function i(s){let o="",a=!0;for(let c=0;c<s.length;c++)a?(o+=s[c].toUpperCase(),a=!1):s[c]==="-"?a=!0:o+=s[c];return o}return za.default=e(),za}var PI;function eA(){if(PI)return cn;PI=1,Object.defineProperty(cn,"__esModule",{value:!0}),cn.addClassName=k,cn.addEvent=a,cn.addUserSelectStyles=S,cn.createCSSTransform=y,cn.createSVGTransform=b,cn.getTouch=x,cn.getTouchIdentifier=C,cn.getTranslation=E,cn.innerHeight=f,cn.innerWidth=p,cn.matchesSelector=s,cn.matchesSelectorAndParentsTo=o,cn.offsetXYFromParent=m,cn.outerHeight=d,cn.outerWidth=h,cn.removeClassName=N,cn.removeEvent=c,cn.removeUserSelectStyles=_;var t=Qb(),e=r(HY());function n(T){if(typeof WeakMap!="function")return null;var M=new WeakMap,O=new WeakMap;return(n=function(R){return R?O:M})(T)}function r(T,M){if(T&&T.__esModule)return T;if(T===null||typeof T!="object"&&typeof T!="function")return{default:T};var O=n(M);if(O&&O.has(T))return O.get(T);var R={},F=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var z in T)if(z!=="default"&&Object.prototype.hasOwnProperty.call(T,z)){var U=F?Object.getOwnPropertyDescriptor(T,z):null;U&&(U.get||U.set)?Object.defineProperty(R,z,U):R[z]=T[z]}return R.default=T,O&&O.set(T,R),R}let i="";function s(T,M){return i||(i=(0,t.findInArray)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],function(O){return(0,t.isFunction)(T[O])})),(0,t.isFunction)(T[i])?T[i](M):!1}function o(T,M,O){let R=T;do{if(s(R,M))return!0;if(R===O)return!1;R=R.parentNode}while(R);return!1}function a(T,M,O,R){if(!T)return;const F={capture:!0,...R};T.addEventListener?T.addEventListener(M,O,F):T.attachEvent?T.attachEvent("on"+M,O):T["on"+M]=O}function c(T,M,O,R){if(!T)return;const F={capture:!0,...R};T.removeEventListener?T.removeEventListener(M,O,F):T.detachEvent?T.detachEvent("on"+M,O):T["on"+M]=null}function d(T){let M=T.clientHeight;const O=T.ownerDocument.defaultView.getComputedStyle(T);return M+=(0,t.int)(O.borderTopWidth),M+=(0,t.int)(O.borderBottomWidth),M}function h(T){let M=T.clientWidth;const O=T.ownerDocument.defaultView.getComputedStyle(T);return M+=(0,t.int)(O.borderLeftWidth),M+=(0,t.int)(O.borderRightWidth),M}function f(T){let M=T.clientHeight;const O=T.ownerDocument.defaultView.getComputedStyle(T);return M-=(0,t.int)(O.paddingTop),M-=(0,t.int)(O.paddingBottom),M}function p(T){let M=T.clientWidth;const O=T.ownerDocument.defaultView.getComputedStyle(T);return M-=(0,t.int)(O.paddingLeft),M-=(0,t.int)(O.paddingRight),M}function m(T,M,O){const F=M===M.ownerDocument.body?{left:0,top:0}:M.getBoundingClientRect(),z=(T.clientX+M.scrollLeft-F.left)/O,U=(T.clientY+M.scrollTop-F.top)/O;return{x:z,y:U}}function y(T,M){const O=E(T,M,"px");return{[(0,e.browserPrefixToKey)("transform",e.default)]:O}}function b(T,M){return E(T,M,"")}function E(T,M,O){let{x:R,y:F}=T,z="translate(".concat(R).concat(O,",").concat(F).concat(O,")");if(M){const U="".concat(typeof M.x=="string"?M.x:M.x+O),D="".concat(typeof M.y=="string"?M.y:M.y+O);z="translate(".concat(U,", ").concat(D,")")+z}return z}function x(T,M){return T.targetTouches&&(0,t.findInArray)(T.targetTouches,O=>M===O.identifier)||T.changedTouches&&(0,t.findInArray)(T.changedTouches,O=>M===O.identifier)}function C(T){if(T.targetTouches&&T.targetTouches[0])return T.targetTouches[0].identifier;if(T.changedTouches&&T.changedTouches[0])return T.changedTouches[0].identifier}function S(T){if(!T)return;let M=T.getElementById("react-draggable-style-el");M||(M=T.createElement("style"),M.type="text/css",M.id="react-draggable-style-el",M.innerHTML=`.react-draggable-transparent-selection *::-moz-selection {all: inherit;}
`,M.innerHTML+=`.react-draggable-transparent-selection *::selection {all: inherit;}
`,T.getElementsByTagName("head")[0].appendChild(M)),T.body&&k(T.body,"react-draggable-transparent-selection")}function _(T){if(T)try{if(T.body&&N(T.body,"react-draggable-transparent-selection"),T.selection)T.selection.empty();else{const M=(T.defaultView||window).getSelection();M&&M.type!=="Caret"&&M.removeAllRanges()}}catch{}}function k(T,M){T.classList?T.classList.add(M):T.className.match(new RegExp("(?:^|\\s)".concat(M,"(?!\\S)")))||(T.className+=" ".concat(M))}function N(T,M){T.classList?T.classList.remove(M):T.className=T.className.replace(new RegExp("(?:^|\\s)".concat(M,"(?!\\S)"),"g"),"")}return cn}var ws={},II;function nD(){if(II)return ws;II=1,Object.defineProperty(ws,"__esModule",{value:!0}),ws.canDragX=i,ws.canDragY=s,ws.createCoreData=a,ws.createDraggableData=c,ws.getBoundPosition=n,ws.getControlPosition=o,ws.snapToGrid=r;var t=Qb(),e=eA();function n(f,p,m){if(!f.props.bounds)return[p,m];let{bounds:y}=f.props;y=typeof y=="string"?y:d(y);const b=h(f);if(typeof y=="string"){const{ownerDocument:E}=b,x=E.defaultView;let C;if(y==="parent"?C=b.parentNode:C=E.querySelector(y),!(C instanceof x.HTMLElement))throw new Error('Bounds selector "'+y+'" could not find an element.');const S=C,_=x.getComputedStyle(b),k=x.getComputedStyle(S);y={left:-b.offsetLeft+(0,t.int)(k.paddingLeft)+(0,t.int)(_.marginLeft),top:-b.offsetTop+(0,t.int)(k.paddingTop)+(0,t.int)(_.marginTop),right:(0,e.innerWidth)(S)-(0,e.outerWidth)(b)-b.offsetLeft+(0,t.int)(k.paddingRight)-(0,t.int)(_.marginRight),bottom:(0,e.innerHeight)(S)-(0,e.outerHeight)(b)-b.offsetTop+(0,t.int)(k.paddingBottom)-(0,t.int)(_.marginBottom)}}return(0,t.isNum)(y.right)&&(p=Math.min(p,y.right)),(0,t.isNum)(y.bottom)&&(m=Math.min(m,y.bottom)),(0,t.isNum)(y.left)&&(p=Math.max(p,y.left)),(0,t.isNum)(y.top)&&(m=Math.max(m,y.top)),[p,m]}function r(f,p,m){const y=Math.round(p/f[0])*f[0],b=Math.round(m/f[1])*f[1];return[y,b]}function i(f){return f.props.axis==="both"||f.props.axis==="x"}function s(f){return f.props.axis==="both"||f.props.axis==="y"}function o(f,p,m){const y=typeof p=="number"?(0,e.getTouch)(f,p):null;if(typeof p=="number"&&!y)return null;const b=h(m),E=m.props.offsetParent||b.offsetParent||b.ownerDocument.body;return(0,e.offsetXYFromParent)(y||f,E,m.props.scale)}function a(f,p,m){const y=!(0,t.isNum)(f.lastX),b=h(f);return y?{node:b,deltaX:0,deltaY:0,lastX:p,lastY:m,x:p,y:m}:{node:b,deltaX:p-f.lastX,deltaY:m-f.lastY,lastX:f.lastX,lastY:f.lastY,x:p,y:m}}function c(f,p){const m=f.props.scale;return{node:p.node,x:f.state.x+p.deltaX/m,y:f.state.y+p.deltaY/m,deltaX:p.deltaX/m,deltaY:p.deltaY/m,lastX:f.state.x,lastY:f.state.y}}function d(f){return{left:f.left,top:f.top,right:f.right,bottom:f.bottom}}function h(f){const p=f.findDOMNode();if(!p)throw new Error("<DraggableCore>: Unmounted during event!");return p}return ws}var Tf={},Cv={},NI;function rD(){if(NI)return Cv;NI=1,Object.defineProperty(Cv,"__esModule",{value:!0}),Cv.default=t;function t(){}return Cv}var MI;function WY(){if(MI)return Tf;MI=1,Object.defineProperty(Tf,"__esModule",{value:!0}),Tf.default=void 0;var t=d(uu()),e=a(P_()),n=a(yb()),r=eA(),i=nD(),s=Qb(),o=a(rD());function a(E){return E&&E.__esModule?E:{default:E}}function c(E){if(typeof WeakMap!="function")return null;var x=new WeakMap,C=new WeakMap;return(c=function(S){return S?C:x})(E)}function d(E,x){if(E&&E.__esModule)return E;if(E===null||typeof E!="object"&&typeof E!="function")return{default:E};var C=c(x);if(C&&C.has(E))return C.get(E);var S={},_=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var k in E)if(k!=="default"&&Object.prototype.hasOwnProperty.call(E,k)){var N=_?Object.getOwnPropertyDescriptor(E,k):null;N&&(N.get||N.set)?Object.defineProperty(S,k,N):S[k]=E[k]}return S.default=E,C&&C.set(E,S),S}function h(E,x,C){return x=f(x),x in E?Object.defineProperty(E,x,{value:C,enumerable:!0,configurable:!0,writable:!0}):E[x]=C,E}function f(E){var x=p(E,"string");return typeof x=="symbol"?x:String(x)}function p(E,x){if(typeof E!="object"||E===null)return E;var C=E[Symbol.toPrimitive];if(C!==void 0){var S=C.call(E,x);if(typeof S!="object")return S;throw new TypeError("@@toPrimitive must return a primitive value.")}return(x==="string"?String:Number)(E)}const m={touch:{start:"touchstart",move:"touchmove",stop:"touchend"},mouse:{start:"mousedown",move:"mousemove",stop:"mouseup"}};let y=m.mouse,b=class extends t.Component{constructor(){super(...arguments),h(this,"dragging",!1),h(this,"lastX",NaN),h(this,"lastY",NaN),h(this,"touchIdentifier",null),h(this,"mounted",!1),h(this,"handleDragStart",x=>{if(this.props.onMouseDown(x),!this.props.allowAnyClick&&typeof x.button=="number"&&x.button!==0)return!1;const C=this.findDOMNode();if(!C||!C.ownerDocument||!C.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");const{ownerDocument:S}=C;if(this.props.disabled||!(x.target instanceof S.defaultView.Node)||this.props.handle&&!(0,r.matchesSelectorAndParentsTo)(x.target,this.props.handle,C)||this.props.cancel&&(0,r.matchesSelectorAndParentsTo)(x.target,this.props.cancel,C))return;x.type==="touchstart"&&x.preventDefault();const _=(0,r.getTouchIdentifier)(x);this.touchIdentifier=_;const k=(0,i.getControlPosition)(x,_,this);if(k==null)return;const{x:N,y:T}=k,M=(0,i.createCoreData)(this,N,T);(0,o.default)("DraggableCore: handleDragStart: %j",M),(0,o.default)("calling",this.props.onStart),!(this.props.onStart(x,M)===!1||this.mounted===!1)&&(this.props.enableUserSelectHack&&(0,r.addUserSelectStyles)(S),this.dragging=!0,this.lastX=N,this.lastY=T,(0,r.addEvent)(S,y.move,this.handleDrag),(0,r.addEvent)(S,y.stop,this.handleDragStop))}),h(this,"handleDrag",x=>{const C=(0,i.getControlPosition)(x,this.touchIdentifier,this);if(C==null)return;let{x:S,y:_}=C;if(Array.isArray(this.props.grid)){let T=S-this.lastX,M=_-this.lastY;if([T,M]=(0,i.snapToGrid)(this.props.grid,T,M),!T&&!M)return;S=this.lastX+T,_=this.lastY+M}const k=(0,i.createCoreData)(this,S,_);if((0,o.default)("DraggableCore: handleDrag: %j",k),this.props.onDrag(x,k)===!1||this.mounted===!1){try{this.handleDragStop(new MouseEvent("mouseup"))}catch{const M=document.createEvent("MouseEvents");M.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),this.handleDragStop(M)}return}this.lastX=S,this.lastY=_}),h(this,"handleDragStop",x=>{if(!this.dragging)return;const C=(0,i.getControlPosition)(x,this.touchIdentifier,this);if(C==null)return;let{x:S,y:_}=C;if(Array.isArray(this.props.grid)){let M=S-this.lastX||0,O=_-this.lastY||0;[M,O]=(0,i.snapToGrid)(this.props.grid,M,O),S=this.lastX+M,_=this.lastY+O}const k=(0,i.createCoreData)(this,S,_);if(this.props.onStop(x,k)===!1||this.mounted===!1)return!1;const T=this.findDOMNode();T&&this.props.enableUserSelectHack&&(0,r.removeUserSelectStyles)(T.ownerDocument),(0,o.default)("DraggableCore: handleDragStop: %j",k),this.dragging=!1,this.lastX=NaN,this.lastY=NaN,T&&((0,o.default)("DraggableCore: Removing handlers"),(0,r.removeEvent)(T.ownerDocument,y.move,this.handleDrag),(0,r.removeEvent)(T.ownerDocument,y.stop,this.handleDragStop))}),h(this,"onMouseDown",x=>(y=m.mouse,this.handleDragStart(x))),h(this,"onMouseUp",x=>(y=m.mouse,this.handleDragStop(x))),h(this,"onTouchStart",x=>(y=m.touch,this.handleDragStart(x))),h(this,"onTouchEnd",x=>(y=m.touch,this.handleDragStop(x)))}componentDidMount(){this.mounted=!0;const x=this.findDOMNode();x&&(0,r.addEvent)(x,m.touch.start,this.onTouchStart,{passive:!1})}componentWillUnmount(){this.mounted=!1;const x=this.findDOMNode();if(x){const{ownerDocument:C}=x;(0,r.removeEvent)(C,m.mouse.move,this.handleDrag),(0,r.removeEvent)(C,m.touch.move,this.handleDrag),(0,r.removeEvent)(C,m.mouse.stop,this.handleDragStop),(0,r.removeEvent)(C,m.touch.stop,this.handleDragStop),(0,r.removeEvent)(x,m.touch.start,this.onTouchStart,{passive:!1}),this.props.enableUserSelectHack&&(0,r.removeUserSelectStyles)(C)}}findDOMNode(){var x,C;return(x=this.props)!==null&&x!==void 0&&x.nodeRef?(C=this.props)===null||C===void 0||(C=C.nodeRef)===null||C===void 0?void 0:C.current:n.default.findDOMNode(this)}render(){return t.cloneElement(t.Children.only(this.props.children),{onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}};return Tf.default=b,h(b,"displayName","DraggableCore"),h(b,"propTypes",{allowAnyClick:e.default.bool,children:e.default.node.isRequired,disabled:e.default.bool,enableUserSelectHack:e.default.bool,offsetParent:function(E,x){if(E[x]&&E[x].nodeType!==1)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:e.default.arrayOf(e.default.number),handle:e.default.string,cancel:e.default.string,nodeRef:e.default.object,onStart:e.default.func,onDrag:e.default.func,onStop:e.default.func,onMouseDown:e.default.func,scale:e.default.number,className:s.dontSetMe,style:s.dontSetMe,transform:s.dontSetMe}),h(b,"defaultProps",{allowAnyClick:!1,disabled:!1,enableUserSelectHack:!0,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){},scale:1}),Tf}var OI;function UY(){return OI||(OI=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"DraggableCore",{enumerable:!0,get:function(){return c.default}}),t.default=void 0;var e=p(uu()),n=h(P_()),r=h(yb()),i=h(BY),s=eA(),o=nD(),a=Qb(),c=h(WY()),d=h(rD());function h(C){return C&&C.__esModule?C:{default:C}}function f(C){if(typeof WeakMap!="function")return null;var S=new WeakMap,_=new WeakMap;return(f=function(k){return k?_:S})(C)}function p(C,S){if(C&&C.__esModule)return C;if(C===null||typeof C!="object"&&typeof C!="function")return{default:C};var _=f(S);if(_&&_.has(C))return _.get(C);var k={},N=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var T in C)if(T!=="default"&&Object.prototype.hasOwnProperty.call(C,T)){var M=N?Object.getOwnPropertyDescriptor(C,T):null;M&&(M.get||M.set)?Object.defineProperty(k,T,M):k[T]=C[T]}return k.default=C,_&&_.set(C,k),k}function m(){return m=Object.assign?Object.assign.bind():function(C){for(var S=1;S<arguments.length;S++){var _=arguments[S];for(var k in _)Object.prototype.hasOwnProperty.call(_,k)&&(C[k]=_[k])}return C},m.apply(this,arguments)}function y(C,S,_){return S=b(S),S in C?Object.defineProperty(C,S,{value:_,enumerable:!0,configurable:!0,writable:!0}):C[S]=_,C}function b(C){var S=E(C,"string");return typeof S=="symbol"?S:String(S)}function E(C,S){if(typeof C!="object"||C===null)return C;var _=C[Symbol.toPrimitive];if(_!==void 0){var k=_.call(C,S);if(typeof k!="object")return k;throw new TypeError("@@toPrimitive must return a primitive value.")}return(S==="string"?String:Number)(C)}class x extends e.Component{static getDerivedStateFromProps(S,_){let{position:k}=S,{prevPropsPosition:N}=_;return k&&(!N||k.x!==N.x||k.y!==N.y)?((0,d.default)("Draggable: getDerivedStateFromProps %j",{position:k,prevPropsPosition:N}),{x:k.x,y:k.y,prevPropsPosition:{...k}}):null}constructor(S){super(S),y(this,"onDragStart",(_,k)=>{if((0,d.default)("Draggable: onDragStart: %j",k),this.props.onStart(_,(0,o.createDraggableData)(this,k))===!1)return!1;this.setState({dragging:!0,dragged:!0})}),y(this,"onDrag",(_,k)=>{if(!this.state.dragging)return!1;(0,d.default)("Draggable: onDrag: %j",k);const N=(0,o.createDraggableData)(this,k),T={x:N.x,y:N.y,slackX:0,slackY:0};if(this.props.bounds){const{x:O,y:R}=T;T.x+=this.state.slackX,T.y+=this.state.slackY;const[F,z]=(0,o.getBoundPosition)(this,T.x,T.y);T.x=F,T.y=z,T.slackX=this.state.slackX+(O-T.x),T.slackY=this.state.slackY+(R-T.y),N.x=T.x,N.y=T.y,N.deltaX=T.x-this.state.x,N.deltaY=T.y-this.state.y}if(this.props.onDrag(_,N)===!1)return!1;this.setState(T)}),y(this,"onDragStop",(_,k)=>{if(!this.state.dragging||this.props.onStop(_,(0,o.createDraggableData)(this,k))===!1)return!1;(0,d.default)("Draggable: onDragStop: %j",k);const T={dragging:!1,slackX:0,slackY:0};if(!!this.props.position){const{x:O,y:R}=this.props.position;T.x=O,T.y=R}this.setState(T)}),this.state={dragging:!1,dragged:!1,x:S.position?S.position.x:S.defaultPosition.x,y:S.position?S.position.y:S.defaultPosition.y,prevPropsPosition:{...S.position},slackX:0,slackY:0,isElementSVG:!1},S.position&&!(S.onDrag||S.onStop)&&console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element.")}componentDidMount(){typeof window.SVGElement<"u"&&this.findDOMNode()instanceof window.SVGElement&&this.setState({isElementSVG:!0})}componentWillUnmount(){this.setState({dragging:!1})}findDOMNode(){var S,_;return(S=(_=this.props)===null||_===void 0||(_=_.nodeRef)===null||_===void 0?void 0:_.current)!==null&&S!==void 0?S:r.default.findDOMNode(this)}render(){const{axis:S,bounds:_,children:k,defaultPosition:N,defaultClassName:T,defaultClassNameDragging:M,defaultClassNameDragged:O,position:R,positionOffset:F,scale:z,...U}=this.props;let D={},V=null;const K=!!!R||this.state.dragging,q=R||N,G={x:(0,o.canDragX)(this)&&K?this.state.x:q.x,y:(0,o.canDragY)(this)&&K?this.state.y:q.y};this.state.isElementSVG?V=(0,s.createSVGTransform)(G,F):D=(0,s.createCSSTransform)(G,F);const te=(0,i.default)(k.props.className||"",T,{[M]:this.state.dragging,[O]:this.state.dragged});return e.createElement(c.default,m({},U,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),e.cloneElement(e.Children.only(k),{className:te,style:{...k.props.style,...D},transform:V}))}}t.default=x,y(x,"displayName","Draggable"),y(x,"propTypes",{...c.default.propTypes,axis:n.default.oneOf(["both","x","y","none"]),bounds:n.default.oneOfType([n.default.shape({left:n.default.number,right:n.default.number,top:n.default.number,bottom:n.default.number}),n.default.string,n.default.oneOf([!1])]),defaultClassName:n.default.string,defaultClassNameDragging:n.default.string,defaultClassNameDragged:n.default.string,defaultPosition:n.default.shape({x:n.default.number,y:n.default.number}),positionOffset:n.default.shape({x:n.default.oneOfType([n.default.number,n.default.string]),y:n.default.oneOfType([n.default.number,n.default.string])}),position:n.default.shape({x:n.default.number,y:n.default.number}),className:a.dontSetMe,style:a.dontSetMe,transform:a.dontSetMe}),y(x,"defaultProps",{...c.default.defaultProps,axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},scale:1})}(HS)),HS}var LI;function VY(){if(LI)return Rf.exports;LI=1;const{default:t,DraggableCore:e}=UY();return Rf.exports=t,Rf.exports.default=t,Rf.exports.DraggableCore=e,Rf.exports}var GY=VY();const qY=as(GY);var gn=function(){return gn=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},gn.apply(this,arguments)},DI={width:"100%",height:"10px",top:"0px",left:"0px",cursor:"row-resize"},FI={width:"10px",height:"100%",top:"0px",left:"0px",cursor:"col-resize"},_v={width:"20px",height:"20px",position:"absolute",zIndex:1},YY={top:gn(gn({},DI),{top:"-5px"}),right:gn(gn({},FI),{left:void 0,right:"-5px"}),bottom:gn(gn({},DI),{top:void 0,bottom:"-5px"}),left:gn(gn({},FI),{left:"-5px"}),topRight:gn(gn({},_v),{right:"-10px",top:"-10px",cursor:"ne-resize"}),bottomRight:gn(gn({},_v),{right:"-10px",bottom:"-10px",cursor:"se-resize"}),bottomLeft:gn(gn({},_v),{left:"-10px",bottom:"-10px",cursor:"sw-resize"}),topLeft:gn(gn({},_v),{left:"-10px",top:"-10px",cursor:"nw-resize"})},XY=I.memo(function(t){var e=t.onResizeStart,n=t.direction,r=t.children,i=t.replaceStyles,s=t.className,o=I.useCallback(function(d){e(d,n)},[e,n]),a=I.useCallback(function(d){e(d,n)},[e,n]),c=I.useMemo(function(){return gn(gn({position:"absolute",userSelect:"none"},YY[n]),i??{})},[i,n]);return L.jsx("div",{className:s||void 0,style:c,onMouseDown:o,onTouchStart:a,children:r})}),KY=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(r[s]=i[s])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ss=function(){return Ss=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Ss.apply(this,arguments)},QY={width:"auto",height:"auto"},Av=function(t,e,n){return Math.max(Math.min(t,n),e)},$I=function(t,e,n){var r=Math.round(t/e);return r*e+n*(r-1)},Zu=function(t,e){return new RegExp(t,"i").test(e)},kv=function(t){return!!(t.touches&&t.touches.length)},ZY=function(t){return!!((t.clientX||t.clientX===0)&&(t.clientY||t.clientY===0))},zI=function(t,e,n){n===void 0&&(n=0);var r=e.reduce(function(s,o,a){return Math.abs(o-t)<Math.abs(e[s]-t)?a:s},0),i=Math.abs(e[r]-t);return n===0||i<n?e[r]:t},WS=function(t){return t=t.toString(),t==="auto"||t.endsWith("px")||t.endsWith("%")||t.endsWith("vh")||t.endsWith("vw")||t.endsWith("vmax")||t.endsWith("vmin")?t:"".concat(t,"px")},Rv=function(t,e,n,r){if(t&&typeof t=="string"){if(t.endsWith("px"))return Number(t.replace("px",""));if(t.endsWith("%")){var i=Number(t.replace("%",""))/100;return e*i}if(t.endsWith("vw")){var i=Number(t.replace("vw",""))/100;return n*i}if(t.endsWith("vh")){var i=Number(t.replace("vh",""))/100;return r*i}}return t},JY=function(t,e,n,r,i,s,o){return r=Rv(r,t.width,e,n),i=Rv(i,t.height,e,n),s=Rv(s,t.width,e,n),o=Rv(o,t.height,e,n),{maxWidth:typeof r>"u"?void 0:Number(r),maxHeight:typeof i>"u"?void 0:Number(i),minWidth:typeof s>"u"?void 0:Number(s),minHeight:typeof o>"u"?void 0:Number(o)}},eX=function(t){return Array.isArray(t)?t:[t,t]},tX=["as","ref","style","className","grid","gridGap","snap","bounds","boundsByDirection","size","defaultSize","minWidth","minHeight","maxWidth","maxHeight","lockAspectRatio","lockAspectRatioExtraWidth","lockAspectRatioExtraHeight","enable","handleStyles","handleClasses","handleWrapperStyle","handleWrapperClass","children","onResizeStart","onResize","onResizeStop","handleComponent","scale","resizeRatio","snapGap"],jI="__resizable_base__",nX=function(t){KY(e,t);function e(n){var r,i,s,o,a=t.call(this,n)||this;return a.ratio=1,a.resizable=null,a.parentLeft=0,a.parentTop=0,a.resizableLeft=0,a.resizableRight=0,a.resizableTop=0,a.resizableBottom=0,a.targetLeft=0,a.targetTop=0,a.delta={width:0,height:0},a.appendBase=function(){if(!a.resizable||!a.window)return null;var c=a.parentNode;if(!c)return null;var d=a.window.document.createElement("div");return d.style.width="100%",d.style.height="100%",d.style.position="absolute",d.style.transform="scale(0, 0)",d.style.left="0",d.style.flex="0 0 100%",d.classList?d.classList.add(jI):d.className+=jI,c.appendChild(d),d},a.removeBase=function(c){var d=a.parentNode;d&&d.removeChild(c)},a.state={isResizing:!1,width:(i=(r=a.propsSize)===null||r===void 0?void 0:r.width)!==null&&i!==void 0?i:"auto",height:(o=(s=a.propsSize)===null||s===void 0?void 0:s.height)!==null&&o!==void 0?o:"auto",direction:"right",original:{x:0,y:0,width:0,height:0},backgroundStyle:{height:"100%",width:"100%",backgroundColor:"rgba(0,0,0,0)",cursor:"auto",opacity:0,position:"fixed",zIndex:9999,top:"0",left:"0",bottom:"0",right:"0"},flexBasis:void 0},a.onResizeStart=a.onResizeStart.bind(a),a.onMouseMove=a.onMouseMove.bind(a),a.onMouseUp=a.onMouseUp.bind(a),a}return Object.defineProperty(e.prototype,"parentNode",{get:function(){return this.resizable?this.resizable.parentNode:null},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"window",{get:function(){return!this.resizable||!this.resizable.ownerDocument?null:this.resizable.ownerDocument.defaultView},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"propsSize",{get:function(){return this.props.size||this.props.defaultSize||QY},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){var n=0,r=0;if(this.resizable&&this.window){var i=this.resizable.offsetWidth,s=this.resizable.offsetHeight,o=this.resizable.style.position;o!=="relative"&&(this.resizable.style.position="relative"),n=this.resizable.style.width!=="auto"?this.resizable.offsetWidth:i,r=this.resizable.style.height!=="auto"?this.resizable.offsetHeight:s,this.resizable.style.position=o}return{width:n,height:r}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"sizeStyle",{get:function(){var n=this,r=this.props.size,i=function(a){var c;if(typeof n.state[a]>"u"||n.state[a]==="auto")return"auto";if(n.propsSize&&n.propsSize[a]&&(!((c=n.propsSize[a])===null||c===void 0)&&c.toString().endsWith("%"))){if(n.state[a].toString().endsWith("%"))return n.state[a].toString();var d=n.getParentSize(),h=Number(n.state[a].toString().replace("px","")),f=h/d[a]*100;return"".concat(f,"%")}return WS(n.state[a])},s=r&&typeof r.width<"u"&&!this.state.isResizing?WS(r.width):i("width"),o=r&&typeof r.height<"u"&&!this.state.isResizing?WS(r.height):i("height");return{width:s,height:o}},enumerable:!1,configurable:!0}),e.prototype.getParentSize=function(){if(!this.parentNode)return this.window?{width:this.window.innerWidth,height:this.window.innerHeight}:{width:0,height:0};var n=this.appendBase();if(!n)return{width:0,height:0};var r=!1,i=this.parentNode.style.flexWrap;i!=="wrap"&&(r=!0,this.parentNode.style.flexWrap="wrap"),n.style.position="relative",n.style.minWidth="100%",n.style.minHeight="100%";var s={width:n.offsetWidth,height:n.offsetHeight};return r&&(this.parentNode.style.flexWrap=i),this.removeBase(n),s},e.prototype.bindEvents=function(){this.window&&(this.window.addEventListener("mouseup",this.onMouseUp),this.window.addEventListener("mousemove",this.onMouseMove),this.window.addEventListener("mouseleave",this.onMouseUp),this.window.addEventListener("touchmove",this.onMouseMove,{capture:!0,passive:!1}),this.window.addEventListener("touchend",this.onMouseUp))},e.prototype.unbindEvents=function(){this.window&&(this.window.removeEventListener("mouseup",this.onMouseUp),this.window.removeEventListener("mousemove",this.onMouseMove),this.window.removeEventListener("mouseleave",this.onMouseUp),this.window.removeEventListener("touchmove",this.onMouseMove,!0),this.window.removeEventListener("touchend",this.onMouseUp))},e.prototype.componentDidMount=function(){if(!(!this.resizable||!this.window)){var n=this.window.getComputedStyle(this.resizable);this.setState({width:this.state.width||this.size.width,height:this.state.height||this.size.height,flexBasis:n.flexBasis!=="auto"?n.flexBasis:void 0})}},e.prototype.componentWillUnmount=function(){this.window&&this.unbindEvents()},e.prototype.createSizeForCssProperty=function(n,r){var i=this.propsSize&&this.propsSize[r];return this.state[r]==="auto"&&this.state.original[r]===n&&(typeof i>"u"||i==="auto")?"auto":n},e.prototype.calculateNewMaxFromBoundary=function(n,r){var i=this.props.boundsByDirection,s=this.state.direction,o=i&&Zu("left",s),a=i&&Zu("top",s),c,d;if(this.props.bounds==="parent"){var h=this.parentNode;h&&(c=o?this.resizableRight-this.parentLeft:h.offsetWidth+(this.parentLeft-this.resizableLeft),d=a?this.resizableBottom-this.parentTop:h.offsetHeight+(this.parentTop-this.resizableTop))}else this.props.bounds==="window"?this.window&&(c=o?this.resizableRight:this.window.innerWidth-this.resizableLeft,d=a?this.resizableBottom:this.window.innerHeight-this.resizableTop):this.props.bounds&&(c=o?this.resizableRight-this.targetLeft:this.props.bounds.offsetWidth+(this.targetLeft-this.resizableLeft),d=a?this.resizableBottom-this.targetTop:this.props.bounds.offsetHeight+(this.targetTop-this.resizableTop));return c&&Number.isFinite(c)&&(n=n&&n<c?n:c),d&&Number.isFinite(d)&&(r=r&&r<d?r:d),{maxWidth:n,maxHeight:r}},e.prototype.calculateNewSizeFromDirection=function(n,r){var i=this.props.scale||1,s=eX(this.props.resizeRatio||1),o=s[0],a=s[1],c=this.state,d=c.direction,h=c.original,f=this.props,p=f.lockAspectRatio,m=f.lockAspectRatioExtraHeight,y=f.lockAspectRatioExtraWidth,b=h.width,E=h.height,x=m||0,C=y||0;return Zu("right",d)&&(b=h.width+(n-h.x)*o/i,p&&(E=(b-C)/this.ratio+x)),Zu("left",d)&&(b=h.width-(n-h.x)*o/i,p&&(E=(b-C)/this.ratio+x)),Zu("bottom",d)&&(E=h.height+(r-h.y)*a/i,p&&(b=(E-x)*this.ratio+C)),Zu("top",d)&&(E=h.height-(r-h.y)*a/i,p&&(b=(E-x)*this.ratio+C)),{newWidth:b,newHeight:E}},e.prototype.calculateNewSizeFromAspectRatio=function(n,r,i,s){var o=this.props,a=o.lockAspectRatio,c=o.lockAspectRatioExtraHeight,d=o.lockAspectRatioExtraWidth,h=typeof s.width>"u"?10:s.width,f=typeof i.width>"u"||i.width<0?n:i.width,p=typeof s.height>"u"?10:s.height,m=typeof i.height>"u"||i.height<0?r:i.height,y=c||0,b=d||0;if(a){var E=(p-y)*this.ratio+b,x=(m-y)*this.ratio+b,C=(h-b)/this.ratio+y,S=(f-b)/this.ratio+y,_=Math.max(h,E),k=Math.min(f,x),N=Math.max(p,C),T=Math.min(m,S);n=Av(n,_,k),r=Av(r,N,T)}else n=Av(n,h,f),r=Av(r,p,m);return{newWidth:n,newHeight:r}},e.prototype.setBoundingClientRect=function(){var n=1/(this.props.scale||1);if(this.props.bounds==="parent"){var r=this.parentNode;if(r){var i=r.getBoundingClientRect();this.parentLeft=i.left*n,this.parentTop=i.top*n}}if(this.props.bounds&&typeof this.props.bounds!="string"){var s=this.props.bounds.getBoundingClientRect();this.targetLeft=s.left*n,this.targetTop=s.top*n}if(this.resizable){var o=this.resizable.getBoundingClientRect(),a=o.left,c=o.top,d=o.right,h=o.bottom;this.resizableLeft=a*n,this.resizableRight=d*n,this.resizableTop=c*n,this.resizableBottom=h*n}},e.prototype.onResizeStart=function(n,r){if(!(!this.resizable||!this.window)){var i=0,s=0;if(n.nativeEvent&&ZY(n.nativeEvent)?(i=n.nativeEvent.clientX,s=n.nativeEvent.clientY):n.nativeEvent&&kv(n.nativeEvent)&&(i=n.nativeEvent.touches[0].clientX,s=n.nativeEvent.touches[0].clientY),this.props.onResizeStart&&this.resizable){var o=this.props.onResizeStart(n,r,this.resizable);if(o===!1)return}this.props.size&&(typeof this.props.size.height<"u"&&this.props.size.height!==this.state.height&&this.setState({height:this.props.size.height}),typeof this.props.size.width<"u"&&this.props.size.width!==this.state.width&&this.setState({width:this.props.size.width})),this.ratio=typeof this.props.lockAspectRatio=="number"?this.props.lockAspectRatio:this.size.width/this.size.height;var a,c=this.window.getComputedStyle(this.resizable);if(c.flexBasis!=="auto"){var d=this.parentNode;if(d){var h=this.window.getComputedStyle(d).flexDirection;this.flexDir=h.startsWith("row")?"row":"column",a=c.flexBasis}}this.setBoundingClientRect(),this.bindEvents();var f={original:{x:i,y:s,width:this.size.width,height:this.size.height},isResizing:!0,backgroundStyle:Ss(Ss({},this.state.backgroundStyle),{cursor:this.window.getComputedStyle(n.target).cursor||"auto"}),direction:r,flexBasis:a};this.setState(f)}},e.prototype.onMouseMove=function(n){var r=this;if(!(!this.state.isResizing||!this.resizable||!this.window)){if(this.window.TouchEvent&&kv(n))try{n.preventDefault(),n.stopPropagation()}catch{}var i=this.props,s=i.maxWidth,o=i.maxHeight,a=i.minWidth,c=i.minHeight,d=kv(n)?n.touches[0].clientX:n.clientX,h=kv(n)?n.touches[0].clientY:n.clientY,f=this.state,p=f.direction,m=f.original,y=f.width,b=f.height,E=this.getParentSize(),x=JY(E,this.window.innerWidth,this.window.innerHeight,s,o,a,c);s=x.maxWidth,o=x.maxHeight,a=x.minWidth,c=x.minHeight;var C=this.calculateNewSizeFromDirection(d,h),S=C.newHeight,_=C.newWidth,k=this.calculateNewMaxFromBoundary(s,o);this.props.snap&&this.props.snap.x&&(_=zI(_,this.props.snap.x,this.props.snapGap)),this.props.snap&&this.props.snap.y&&(S=zI(S,this.props.snap.y,this.props.snapGap));var N=this.calculateNewSizeFromAspectRatio(_,S,{width:k.maxWidth,height:k.maxHeight},{width:a,height:c});if(_=N.newWidth,S=N.newHeight,this.props.grid){var T=$I(_,this.props.grid[0],this.props.gridGap?this.props.gridGap[0]:0),M=$I(S,this.props.grid[1],this.props.gridGap?this.props.gridGap[1]:0),O=this.props.snapGap||0,R=O===0||Math.abs(T-_)<=O?T:_,F=O===0||Math.abs(M-S)<=O?M:S;_=R,S=F}var z={width:_-m.width,height:S-m.height};if(this.delta=z,y&&typeof y=="string"){if(y.endsWith("%")){var U=_/E.width*100;_="".concat(U,"%")}else if(y.endsWith("vw")){var D=_/this.window.innerWidth*100;_="".concat(D,"vw")}else if(y.endsWith("vh")){var V=_/this.window.innerHeight*100;_="".concat(V,"vh")}}if(b&&typeof b=="string"){if(b.endsWith("%")){var U=S/E.height*100;S="".concat(U,"%")}else if(b.endsWith("vw")){var D=S/this.window.innerWidth*100;S="".concat(D,"vw")}else if(b.endsWith("vh")){var V=S/this.window.innerHeight*100;S="".concat(V,"vh")}}var H={width:this.createSizeForCssProperty(_,"width"),height:this.createSizeForCssProperty(S,"height")};this.flexDir==="row"?H.flexBasis=H.width:this.flexDir==="column"&&(H.flexBasis=H.height);var K=this.state.width!==H.width,q=this.state.height!==H.height,G=this.state.flexBasis!==H.flexBasis,te=K||q||G;te&&Ko.flushSync(function(){r.setState(H)}),this.props.onResize&&te&&this.props.onResize(n,p,this.resizable,z)}},e.prototype.onMouseUp=function(n){var r,i,s=this.state,o=s.isResizing,a=s.direction;s.original,!(!o||!this.resizable)&&(this.props.onResizeStop&&this.props.onResizeStop(n,a,this.resizable,this.delta),this.props.size&&this.setState({width:(r=this.props.size.width)!==null&&r!==void 0?r:"auto",height:(i=this.props.size.height)!==null&&i!==void 0?i:"auto"}),this.unbindEvents(),this.setState({isResizing:!1,backgroundStyle:Ss(Ss({},this.state.backgroundStyle),{cursor:"auto"})}))},e.prototype.updateSize=function(n){var r,i;this.setState({width:(r=n.width)!==null&&r!==void 0?r:"auto",height:(i=n.height)!==null&&i!==void 0?i:"auto"})},e.prototype.renderResizer=function(){var n=this,r=this.props,i=r.enable,s=r.handleStyles,o=r.handleClasses,a=r.handleWrapperStyle,c=r.handleWrapperClass,d=r.handleComponent;if(!i)return null;var h=Object.keys(i).map(function(f){return i[f]!==!1?L.jsx(XY,{direction:f,onResizeStart:n.onResizeStart,replaceStyles:s&&s[f],className:o&&o[f],children:d&&d[f]?d[f]:null},f):null});return L.jsx("div",{className:c,style:a,children:h})},e.prototype.render=function(){var n=this,r=Object.keys(this.props).reduce(function(o,a){return tX.indexOf(a)!==-1||(o[a]=n.props[a]),o},{}),i=Ss(Ss(Ss({position:"relative",userSelect:this.state.isResizing?"none":"auto"},this.props.style),this.sizeStyle),{maxWidth:this.props.maxWidth,maxHeight:this.props.maxHeight,minWidth:this.props.minWidth,minHeight:this.props.minHeight,boxSizing:"border-box",flexShrink:0});this.state.flexBasis&&(i.flexBasis=this.state.flexBasis);var s=this.props.as||"div";return L.jsxs(s,Ss({style:i,className:this.props.className},r,{ref:function(o){o&&(n.resizable=o)},children:[this.state.isResizing&&L.jsx("div",{style:this.state.backgroundStyle}),this.props.children,this.renderResizer()]}))},e.defaultProps={as:"div",onResizeStart:function(){},onResize:function(){},onResizeStop:function(){},enable:{top:!0,right:!0,bottom:!0,left:!0,topRight:!0,bottomRight:!0,bottomLeft:!0,topLeft:!0},style:{},grid:[1,1],gridGap:[0,0],lockAspectRatio:!1,lockAspectRatioExtraWidth:0,lockAspectRatioExtraHeight:0,scale:1,resizeRatio:1,snapGap:0},e}(I.PureComponent);/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var FE=function(t,e){return FE=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)r.hasOwnProperty(i)&&(n[i]=r[i])},FE(t,e)};function rX(t,e){FE(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var En=function(){return En=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},En.apply(this,arguments)};function iX(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}var sX={width:"auto",height:"auto",display:"inline-block",position:"absolute",top:0,left:0},oX=function(t){return{bottom:t,bottomLeft:t,bottomRight:t,left:t,right:t,top:t,topLeft:t,topRight:t}},aX=function(t){rX(e,t);function e(n){var r=t.call(this,n)||this;return r.resizingPosition={x:0,y:0},r.offsetFromParent={left:0,top:0},r.resizableElement={current:null},r.originalPosition={x:0,y:0},r.state={resizing:!1,bounds:{top:0,right:0,bottom:0,left:0},maxWidth:n.maxWidth,maxHeight:n.maxHeight},r.onResizeStart=r.onResizeStart.bind(r),r.onResize=r.onResize.bind(r),r.onResizeStop=r.onResizeStop.bind(r),r.onDragStart=r.onDragStart.bind(r),r.onDrag=r.onDrag.bind(r),r.onDragStop=r.onDragStop.bind(r),r.getMaxSizesFromProps=r.getMaxSizesFromProps.bind(r),r}return e.prototype.componentDidMount=function(){this.updateOffsetFromParent();var n=this.offsetFromParent,r=n.left,i=n.top,s=this.getDraggablePosition(),o=s.x,a=s.y;this.draggable.setState({x:o-r,y:a-i}),this.forceUpdate()},e.prototype.getDraggablePosition=function(){var n=this.draggable.state,r=n.x,i=n.y;return{x:r,y:i}},e.prototype.getParent=function(){return this.resizable&&this.resizable.parentNode},e.prototype.getParentSize=function(){return this.resizable.getParentSize()},e.prototype.getMaxSizesFromProps=function(){var n=typeof this.props.maxWidth>"u"?Number.MAX_SAFE_INTEGER:this.props.maxWidth,r=typeof this.props.maxHeight>"u"?Number.MAX_SAFE_INTEGER:this.props.maxHeight;return{maxWidth:n,maxHeight:r}},e.prototype.getSelfElement=function(){return this.resizable&&this.resizable.resizable},e.prototype.getOffsetHeight=function(n){var r=this.props.scale;switch(this.props.bounds){case"window":return window.innerHeight/r;case"body":return document.body.offsetHeight/r;default:return n.offsetHeight}},e.prototype.getOffsetWidth=function(n){var r=this.props.scale;switch(this.props.bounds){case"window":return window.innerWidth/r;case"body":return document.body.offsetWidth/r;default:return n.offsetWidth}},e.prototype.onDragStart=function(n,r){this.props.onDragStart&&this.props.onDragStart(n,r);var i=this.getDraggablePosition();if(this.originalPosition=i,!!this.props.bounds){var s=this.getParent(),o=this.props.scale,a;if(this.props.bounds==="parent")a=s;else if(this.props.bounds==="body"){var c=s.getBoundingClientRect(),d=c.left,h=c.top,f=document.body.getBoundingClientRect(),p=-(d-s.offsetLeft*o-f.left)/o,m=-(h-s.offsetTop*o-f.top)/o,y=(document.body.offsetWidth-this.resizable.size.width*o)/o+p,b=(document.body.offsetHeight-this.resizable.size.height*o)/o+m;return this.setState({bounds:{top:m,right:y,bottom:b,left:p}})}else if(this.props.bounds==="window"){if(!this.resizable)return;var E=s.getBoundingClientRect(),x=E.left,C=E.top,S=-(x-s.offsetLeft*o)/o,_=-(C-s.offsetTop*o)/o,y=(window.innerWidth-this.resizable.size.width*o)/o+S,b=(window.innerHeight-this.resizable.size.height*o)/o+_;return this.setState({bounds:{top:_,right:y,bottom:b,left:S}})}else typeof this.props.bounds=="string"?a=document.querySelector(this.props.bounds):this.props.bounds instanceof HTMLElement&&(a=this.props.bounds);if(!(!(a instanceof HTMLElement)||!(s instanceof HTMLElement))){var k=a.getBoundingClientRect(),N=k.left,T=k.top,M=s.getBoundingClientRect(),O=M.left,R=M.top,F=(N-O)/o,z=T-R;if(this.resizable){this.updateOffsetFromParent();var U=this.offsetFromParent;this.setState({bounds:{top:z-U.top,right:F+(a.offsetWidth-this.resizable.size.width)-U.left/o,bottom:z+(a.offsetHeight-this.resizable.size.height)-U.top,left:F-U.left/o}})}}}},e.prototype.onDrag=function(n,r){if(this.props.onDrag){var i=this.offsetFromParent,s=i.left,o=i.top;if(!this.props.dragAxis||this.props.dragAxis==="both")return this.props.onDrag(n,En(En({},r),{x:r.x+s,y:r.y+o}));if(this.props.dragAxis==="x")return this.props.onDrag(n,En(En({},r),{x:r.x+s,y:this.originalPosition.y+o,deltaY:0}));if(this.props.dragAxis==="y")return this.props.onDrag(n,En(En({},r),{x:this.originalPosition.x+s,y:r.y+o,deltaX:0}))}},e.prototype.onDragStop=function(n,r){if(this.props.onDragStop){var i=this.offsetFromParent,s=i.left,o=i.top;if(!this.props.dragAxis||this.props.dragAxis==="both")return this.props.onDragStop(n,En(En({},r),{x:r.x+s,y:r.y+o}));if(this.props.dragAxis==="x")return this.props.onDragStop(n,En(En({},r),{x:r.x+s,y:this.originalPosition.y+o,deltaY:0}));if(this.props.dragAxis==="y")return this.props.onDragStop(n,En(En({},r),{x:this.originalPosition.x+s,y:r.y+o,deltaX:0}))}},e.prototype.onResizeStart=function(n,r,i){n.stopPropagation(),this.setState({resizing:!0});var s=this.props.scale,o=this.offsetFromParent,a=this.getDraggablePosition();if(this.resizingPosition={x:a.x+o.left,y:a.y+o.top},this.originalPosition=a,this.props.bounds){var c=this.getParent(),d=void 0;this.props.bounds==="parent"?d=c:this.props.bounds==="body"?d=document.body:this.props.bounds==="window"?d=window:typeof this.props.bounds=="string"?d=document.querySelector(this.props.bounds):this.props.bounds instanceof HTMLElement&&(d=this.props.bounds);var h=this.getSelfElement();if(h instanceof Element&&(d instanceof HTMLElement||d===window)&&c instanceof HTMLElement){var f=this.getMaxSizesFromProps(),p=f.maxWidth,m=f.maxHeight,y=this.getParentSize();if(p&&typeof p=="string")if(p.endsWith("%")){var b=Number(p.replace("%",""))/100;p=y.width*b}else p.endsWith("px")&&(p=Number(p.replace("px","")));if(m&&typeof m=="string")if(m.endsWith("%")){var b=Number(m.replace("%",""))/100;m=y.height*b}else m.endsWith("px")&&(m=Number(m.replace("px","")));var E=h.getBoundingClientRect(),x=E.left,C=E.top,S=this.props.bounds==="window"?{left:0,top:0}:d.getBoundingClientRect(),_=S.left,k=S.top,N=this.getOffsetWidth(d),T=this.getOffsetHeight(d),M=r.toLowerCase().endsWith("left"),O=r.toLowerCase().endsWith("right"),R=r.startsWith("top"),F=r.startsWith("bottom");if((M||R)&&this.resizable){var z=(x-_)/s+this.resizable.size.width;this.setState({maxWidth:z>Number(p)?p:z})}if(O||this.props.lockAspectRatio&&!M&&!R){var z=N+(_-x)/s;this.setState({maxWidth:z>Number(p)?p:z})}if((R||M)&&this.resizable){var z=(C-k)/s+this.resizable.size.height;this.setState({maxHeight:z>Number(m)?m:z})}if(F||this.props.lockAspectRatio&&!R&&!M){var z=T+(k-C)/s;this.setState({maxHeight:z>Number(m)?m:z})}}}else this.setState({maxWidth:this.props.maxWidth,maxHeight:this.props.maxHeight});this.props.onResizeStart&&this.props.onResizeStart(n,r,i)},e.prototype.onResize=function(n,r,i,s){var o=this,a={x:this.originalPosition.x,y:this.originalPosition.y},c=-s.width,d=-s.height,h=["top","left","topLeft","bottomLeft","topRight"];h.includes(r)&&(r==="bottomLeft"?a.x+=c:(r==="topRight"||(a.x+=c),a.y+=d));var f=this.draggable.state;(a.x!==f.x||a.y!==f.y)&&Ko.flushSync(function(){o.draggable.setState(a)}),this.updateOffsetFromParent();var p=this.offsetFromParent,m=this.getDraggablePosition().x+p.left,y=this.getDraggablePosition().y+p.top;this.resizingPosition={x:m,y},this.props.onResize&&this.props.onResize(n,r,i,s,{x:m,y})},e.prototype.onResizeStop=function(n,r,i,s){this.setState({resizing:!1});var o=this.getMaxSizesFromProps(),a=o.maxWidth,c=o.maxHeight;this.setState({maxWidth:a,maxHeight:c}),this.props.onResizeStop&&this.props.onResizeStop(n,r,i,s,this.resizingPosition)},e.prototype.updateSize=function(n){this.resizable&&this.resizable.updateSize({width:n.width,height:n.height})},e.prototype.updatePosition=function(n){this.draggable.setState(n)},e.prototype.updateOffsetFromParent=function(){var n=this.props.scale,r=this.getParent(),i=this.getSelfElement();if(!r||i===null)return{top:0,left:0};var s=r.getBoundingClientRect(),o=s.left,a=s.top,c=i.getBoundingClientRect(),d=this.getDraggablePosition(),h=r.scrollLeft,f=r.scrollTop;this.offsetFromParent={left:c.left-o+h-d.x*n,top:c.top-a+f-d.y*n}},e.prototype.render=function(){var n=this,r=this.props,i=r.disableDragging,s=r.style,o=r.dragHandleClassName,a=r.position,c=r.onMouseDown,d=r.onMouseUp,h=r.dragAxis,f=r.dragGrid,p=r.bounds,m=r.enableUserSelectHack,y=r.cancel,b=r.children;r.onResizeStart,r.onResize,r.onResizeStop,r.onDragStart,r.onDrag,r.onDragStop;var E=r.resizeHandleStyles,x=r.resizeHandleClasses,C=r.resizeHandleComponent,S=r.enableResizing,_=r.resizeGrid,k=r.resizeHandleWrapperClass,N=r.resizeHandleWrapperStyle,T=r.scale,M=r.allowAnyClick,O=r.dragPositionOffset,R=iX(r,["disableDragging","style","dragHandleClassName","position","onMouseDown","onMouseUp","dragAxis","dragGrid","bounds","enableUserSelectHack","cancel","children","onResizeStart","onResize","onResizeStop","onDragStart","onDrag","onDragStop","resizeHandleStyles","resizeHandleClasses","resizeHandleComponent","enableResizing","resizeGrid","resizeHandleWrapperClass","resizeHandleWrapperStyle","scale","allowAnyClick","dragPositionOffset"]),F=this.props.default?En({},this.props.default):void 0;delete R.default;var z=i||o?{cursor:"auto"}:{cursor:"move"},U=En(En(En({},sX),z),s),D=this.offsetFromParent,V=D.left,H=D.top,K;a&&(K={x:a.x-V,y:a.y-H});var q=this.state.resizing?void 0:K,G=this.state.resizing?"both":h;return I.createElement(qY,{ref:function(te){te&&(n.draggable=te)},handle:o?".".concat(o):void 0,defaultPosition:F,onMouseDown:c,onMouseUp:d,onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop,axis:G,disabled:i,grid:f,bounds:p?this.state.bounds:void 0,position:q,enableUserSelectHack:m,cancel:y,scale:T,allowAnyClick:M,nodeRef:this.resizableElement,positionOffset:O},I.createElement(nX,En({},R,{ref:function(te){te&&(n.resizable=te,n.resizableElement.current=te.resizable)},defaultSize:F,size:this.props.size,enable:typeof S=="boolean"?oX(S):S,onResizeStart:this.onResizeStart,onResize:this.onResize,onResizeStop:this.onResizeStop,style:U,minWidth:this.props.minWidth,minHeight:this.props.minHeight,maxWidth:this.state.resizing?this.state.maxWidth:this.props.maxWidth,maxHeight:this.state.resizing?this.state.maxHeight:this.props.maxHeight,grid:_,handleWrapperClass:k,handleWrapperStyle:N,lockAspectRatio:this.props.lockAspectRatio,lockAspectRatioExtraWidth:this.props.lockAspectRatioExtraWidth,lockAspectRatioExtraHeight:this.props.lockAspectRatioExtraHeight,handleStyles:E,handleClasses:x,handleComponent:C,scale:this.props.scale}),b))},e.defaultProps={maxWidth:Number.MAX_SAFE_INTEGER,maxHeight:Number.MAX_SAFE_INTEGER,scale:1,onResizeStart:function(){},onResize:function(){},onResizeStop:function(){},onDragStart:function(){},onDrag:function(){},onDragStop:function(){}},e}(I.PureComponent);const lX=({highlight:t,onChange:e,isScrolledTo:n,bounds:r,onContextMenu:i,onEditStart:s,style:o})=>{const a=n?"AreaHighlight--scrolledTo":"",c=`${t.position.boundingRect.width}${t.position.boundingRect.height}${t.position.boundingRect.left}${t.position.boundingRect.top}`;return Ce.createElement("div",{className:`AreaHighlight ${a}`,onContextMenu:i},Ce.createElement(aX,{className:"AreaHighlight__part",onDragStop:(d,h)=>{const f={...t.position.boundingRect,top:h.y,left:h.x};e&&e(f)},onResizeStop:(d,h,f,p,m)=>{var b;const y={top:m.y,left:m.x,width:f.offsetWidth,height:f.offsetHeight,pageNumber:((b=fp(f))==null?void 0:b.number)||-1};e&&e(y)},onDragStart:s,onResizeStart:s,default:{x:t.position.boundingRect.left,y:t.position.boundingRect.top,width:t.position.boundingRect.width,height:t.position.boundingRect.height},key:c,bounds:r,onClick:d=>{d.stopPropagation(),d.preventDefault()},style:o}))};var pp={};pp.d=(t,e)=>{for(var n in e)pp.o(e,n)&&!pp.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})};pp.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var Ye=globalThis.pdfjsLib={};pp.d(Ye,{AbortException:()=>fu,AnnotationEditorLayer:()=>qC,AnnotationEditorParamsType:()=>Xe,AnnotationEditorType:()=>st,AnnotationEditorUIManager:()=>iu,AnnotationLayer:()=>oQ,AnnotationMode:()=>Ga,CMapCompressionType:()=>zE,ColorPicker:()=>U0,DOMSVGFactory:()=>rA,DrawLayer:()=>QC,FeatureTest:()=>Or,GlobalWorkerOptions:()=>Qo,ImageKind:()=>Uv,InvalidPDFException:()=>sD,MissingPDFException:()=>hu,OPS:()=>$i,Outliner:()=>RC,PDFDataRangeTransport:()=>eF,PDFDateString:()=>hD,PDFWorker:()=>yd,PasswordResponses:()=>hX,PermissionFlag:()=>dX,PixelsPerInch:()=>xl,RenderingCancelledException:()=>iA,TextLayer:()=>Sh,UnexpectedResponseException:()=>tw,Util:()=>$e,VerbosityLevel:()=>Zb,XfaLayer:()=>nF,build:()=>jK,createValidAbsoluteUrl:()=>mX,fetchData:()=>ow,getDocument:()=>IK,getFilenameFromUrl:()=>AX,getPdfFilenameFromUrl:()=>kX,getXfaPageViewport:()=>RX,isDataScheme:()=>sA,isPdfFile:()=>oA,noContextMenu:()=>Fr,normalizeUnicode:()=>SX,renderTextLayer:()=>SK,setLayerDimensions:()=>ru,shadow:()=>lt,updateTextLayer:()=>EK,version:()=>zK});const sr=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),iD=[1,0,0,1,0,0],$E=[.001,0,0,.001,0,0],cX=1e7,US=1.35,Ci={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256},Ga={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},uX="pdfjs_internal_editor_",st={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15},Xe={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_DEFAULT_COLOR:32,HIGHLIGHT_THICKNESS:33,HIGHLIGHT_FREE:34,HIGHLIGHT_SHOW_ALL:35},dX={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},Qn={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},Uv={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},Sn={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,WIDGET:20},Pf={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},Zb={ERRORS:0,WARNINGS:1,INFOS:5},zE={NONE:0,BINARY:1},$i={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91},hX={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let Jb=Zb.WARNINGS;function fX(t){Number.isInteger(t)&&(Jb=t)}function pX(){return Jb}function ew(t){Jb>=Zb.INFOS&&console.log(`Info: ${t}`)}function Je(t){Jb>=Zb.WARNINGS&&console.log(`Warning: ${t}`)}function Tt(t){throw new Error(t)}function Rn(t,e){t||Tt(e)}function gX(t){switch(t==null?void 0:t.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function mX(t,e=null,n=null){if(!t)return null;try{if(n&&typeof t=="string"){if(n.addDefaultProtocol&&t.startsWith("www.")){const i=t.match(/\./g);(i==null?void 0:i.length)>=2&&(t=`http://${t}`)}if(n.tryConvertEncoding)try{t=xX(t)}catch{}}const r=e?new URL(t,e):new URL(t);if(gX(r))return r}catch{}return null}function lt(t,e,n,r=!1){return Object.defineProperty(t,e,{value:n,enumerable:!r,configurable:!0,writable:!1}),n}const Al=function(){function e(n,r){this.constructor===e&&Tt("Cannot initialize BaseException."),this.message=n,this.name=r}return e.prototype=new Error,e.constructor=e,e}();class jE extends Al{constructor(e,n){super(e,"PasswordException"),this.code=n}}class BE extends Al{constructor(e,n){super(e,"UnknownErrorException"),this.details=n}}class sD extends Al{constructor(e){super(e,"InvalidPDFException")}}class hu extends Al{constructor(e){super(e,"MissingPDFException")}}class tw extends Al{constructor(e,n){super(e,"UnexpectedResponseException"),this.status=n}}class yX extends Al{constructor(e){super(e,"FormatError")}}class fu extends Al{constructor(e){super(e,"AbortException")}}function oD(t){(typeof t!="object"||(t==null?void 0:t.length)===void 0)&&Tt("Invalid argument for bytesToString");const e=t.length,n=8192;if(e<n)return String.fromCharCode.apply(null,t);const r=[];for(let i=0;i<e;i+=n){const s=Math.min(i+n,e),o=t.subarray(i,s);r.push(String.fromCharCode.apply(null,o))}return r.join("")}function nw(t){typeof t!="string"&&Tt("Invalid argument for stringToBytes");const e=t.length,n=new Uint8Array(e);for(let r=0;r<e;++r)n[r]=t.charCodeAt(r)&255;return n}function vX(t){return String.fromCharCode(t>>24&255,t>>16&255,t>>8&255,t&255)}function tA(t){const e=Object.create(null);for(const[n,r]of t)e[n]=r;return e}function bX(){const t=new Uint8Array(4);return t[0]=1,new Uint32Array(t.buffer,0,1)[0]===1}function wX(){try{return new Function(""),!0}catch{return!1}}class Or{static get isLittleEndian(){return lt(this,"isLittleEndian",bX())}static get isEvalSupported(){return lt(this,"isEvalSupported",wX())}static get isOffscreenCanvasSupported(){return lt(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.platform)=="string"?lt(this,"platform",{isMac:navigator.platform.includes("Mac")}):lt(this,"platform",{isMac:!1})}static get isCSSRoundSupported(){var e,n;return lt(this,"isCSSRoundSupported",(n=(e=globalThis.CSS)==null?void 0:e.supports)==null?void 0:n.call(e,"width: round(1.5px, 1px)"))}}const VS=Array.from(Array(256).keys(),t=>t.toString(16).padStart(2,"0"));var ea,Vv,HE;class $e{static makeHexColor(e,n,r){return`#${VS[e]}${VS[n]}${VS[r]}`}static scaleMinMax(e,n){let r;e[0]?(e[0]<0&&(r=n[0],n[0]=n[2],n[2]=r),n[0]*=e[0],n[2]*=e[0],e[3]<0&&(r=n[1],n[1]=n[3],n[3]=r),n[1]*=e[3],n[3]*=e[3]):(r=n[0],n[0]=n[1],n[1]=r,r=n[2],n[2]=n[3],n[3]=r,e[1]<0&&(r=n[1],n[1]=n[3],n[3]=r),n[1]*=e[1],n[3]*=e[1],e[2]<0&&(r=n[0],n[0]=n[2],n[2]=r),n[0]*=e[2],n[2]*=e[2]),n[0]+=e[4],n[1]+=e[5],n[2]+=e[4],n[3]+=e[5]}static transform(e,n){return[e[0]*n[0]+e[2]*n[1],e[1]*n[0]+e[3]*n[1],e[0]*n[2]+e[2]*n[3],e[1]*n[2]+e[3]*n[3],e[0]*n[4]+e[2]*n[5]+e[4],e[1]*n[4]+e[3]*n[5]+e[5]]}static applyTransform(e,n){const r=e[0]*n[0]+e[1]*n[2]+n[4],i=e[0]*n[1]+e[1]*n[3]+n[5];return[r,i]}static applyInverseTransform(e,n){const r=n[0]*n[3]-n[1]*n[2],i=(e[0]*n[3]-e[1]*n[2]+n[2]*n[5]-n[4]*n[3])/r,s=(-e[0]*n[1]+e[1]*n[0]+n[4]*n[1]-n[5]*n[0])/r;return[i,s]}static getAxialAlignedBoundingBox(e,n){const r=this.applyTransform(e,n),i=this.applyTransform(e.slice(2,4),n),s=this.applyTransform([e[0],e[3]],n),o=this.applyTransform([e[2],e[1]],n);return[Math.min(r[0],i[0],s[0],o[0]),Math.min(r[1],i[1],s[1],o[1]),Math.max(r[0],i[0],s[0],o[0]),Math.max(r[1],i[1],s[1],o[1])]}static inverseTransform(e){const n=e[0]*e[3]-e[1]*e[2];return[e[3]/n,-e[1]/n,-e[2]/n,e[0]/n,(e[2]*e[5]-e[4]*e[3])/n,(e[4]*e[1]-e[5]*e[0])/n]}static singularValueDecompose2dScale(e){const n=[e[0],e[2],e[1],e[3]],r=e[0]*n[0]+e[1]*n[2],i=e[0]*n[1]+e[1]*n[3],s=e[2]*n[0]+e[3]*n[2],o=e[2]*n[1]+e[3]*n[3],a=(r+o)/2,c=Math.sqrt((r+o)**2-4*(r*o-s*i))/2,d=a+c||1,h=a-c||1;return[Math.sqrt(d),Math.sqrt(h)]}static normalizeRect(e){const n=e.slice(0);return e[0]>e[2]&&(n[0]=e[2],n[2]=e[0]),e[1]>e[3]&&(n[1]=e[3],n[3]=e[1]),n}static intersect(e,n){const r=Math.max(Math.min(e[0],e[2]),Math.min(n[0],n[2])),i=Math.min(Math.max(e[0],e[2]),Math.max(n[0],n[2]));if(r>i)return null;const s=Math.max(Math.min(e[1],e[3]),Math.min(n[1],n[3])),o=Math.min(Math.max(e[1],e[3]),Math.max(n[1],n[3]));return s>o?null:[r,s,i,o]}static bezierBoundingBox(e,n,r,i,s,o,a,c,d){return d?(d[0]=Math.min(d[0],e,a),d[1]=Math.min(d[1],n,c),d[2]=Math.max(d[2],e,a),d[3]=Math.max(d[3],n,c)):d=[Math.min(e,a),Math.min(n,c),Math.max(e,a),Math.max(n,c)],B(this,ea,HE).call(this,e,r,s,a,n,i,o,c,3*(-e+3*(r-s)+a),6*(e-2*r+s),3*(r-e),d),B(this,ea,HE).call(this,e,r,s,a,n,i,o,c,3*(-n+3*(i-o)+c),6*(n-2*i+o),3*(i-n),d),d}}ea=new WeakSet,Vv=function(e,n,r,i,s,o,a,c,d,h){if(d<=0||d>=1)return;const f=1-d,p=d*d,m=p*d,y=f*(f*(f*e+3*d*n)+3*p*r)+m*i,b=f*(f*(f*s+3*d*o)+3*p*a)+m*c;h[0]=Math.min(h[0],y),h[1]=Math.min(h[1],b),h[2]=Math.max(h[2],y),h[3]=Math.max(h[3],b)},HE=function(e,n,r,i,s,o,a,c,d,h,f,p){if(Math.abs(d)<1e-12){Math.abs(h)>=1e-12&&B(this,ea,Vv).call(this,e,n,r,i,s,o,a,c,-f/h,p);return}const m=h**2-4*f*d;if(m<0)return;const y=Math.sqrt(m),b=2*d;B(this,ea,Vv).call(this,e,n,r,i,s,o,a,c,(-h+y)/b,p),B(this,ea,Vv).call(this,e,n,r,i,s,o,a,c,(-h-y)/b,p)},W($e,ea);function xX(t){return decodeURIComponent(escape(t))}let GS=null,BI=null;function SX(t){return GS||(GS=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,BI=new Map([["","t"]])),t.replaceAll(GS,(e,n,r)=>n?n.normalize("NFKC"):BI.get(r))}function EX(){if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.randomUUID)=="function")return crypto.randomUUID();const t=new Uint8Array(32);if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.getRandomValues)=="function")crypto.getRandomValues(t);else for(let e=0;e<32;e++)t[e]=Math.floor(Math.random()*255);return oD(t)}const aD="pdfjs_internal_id_",go={BEZIER_CURVE_TO:0,MOVE_TO:1,LINE_TO:2,QUADRATIC_CURVE_TO:3,RESTORE:4,SAVE:5,SCALE:6,TRANSFORM:7,TRANSLATE:8};class rw{constructor(){this.constructor===rw&&Tt("Cannot initialize BaseFilterFactory.")}addFilter(e){return"none"}addHCMFilter(e,n){return"none"}addAlphaFilter(e){return"none"}addLuminosityFilter(e){return"none"}addHighlightHCMFilter(e,n,r,i,s){return"none"}destroy(e=!1){}}var jp;const AA=class AA{constructor({enableHWA:e=!1}={}){W(this,jp,!1);this.constructor===AA&&Tt("Cannot initialize BaseCanvasFactory."),j(this,jp,e)}create(e,n){if(e<=0||n<=0)throw new Error("Invalid canvas size");const r=this._createCanvas(e,n);return{canvas:r,context:r.getContext("2d",{willReadFrequently:!v(this,jp)})}}reset(e,n,r){if(!e.canvas)throw new Error("Canvas is not specified");if(n<=0||r<=0)throw new Error("Invalid canvas size");e.canvas.width=n,e.canvas.height=r}destroy(e){if(!e.canvas)throw new Error("Canvas is not specified");e.canvas.width=0,e.canvas.height=0,e.canvas=null,e.context=null}_createCanvas(e,n){Tt("Abstract method `_createCanvas` called.")}};jp=new WeakMap;let z0=AA;class iw{constructor({baseUrl:e=null,isCompressed:n=!0}){this.constructor===iw&&Tt("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=e,this.isCompressed=n}async fetch({name:e}){if(!this.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!e)throw new Error("CMap name must be specified.");const n=this.baseUrl+e+(this.isCompressed?".bcmap":""),r=this.isCompressed?zE.BINARY:zE.NONE;return this._fetchData(n,r).catch(i=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${n}`)})}_fetchData(e,n){Tt("Abstract method `_fetchData` called.")}}class sw{constructor({baseUrl:e=null}){this.constructor===sw&&Tt("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!e)throw new Error("Font filename must be specified.");const n=`${this.baseUrl}${e}`;return this._fetchData(n).catch(r=>{throw new Error(`Unable to load font data at: ${n}`)})}_fetchData(e){Tt("Abstract method `_fetchData` called.")}}class nA{constructor(){this.constructor===nA&&Tt("Cannot initialize BaseSVGFactory.")}create(e,n,r=!1){if(e<=0||n<=0)throw new Error("Invalid SVG dimensions");const i=this._createSVG("svg:svg");return i.setAttribute("version","1.1"),r||(i.setAttribute("width",`${e}px`),i.setAttribute("height",`${n}px`)),i.setAttribute("preserveAspectRatio","none"),i.setAttribute("viewBox",`0 0 ${e} ${n}`),i}createElement(e){if(typeof e!="string")throw new Error("Invalid SVG element type");return this._createSVG(e)}_createSVG(e){Tt("Abstract method `_createSVG` called.")}}const yo="http://www.w3.org/2000/svg",Zl=class Zl{};Te(Zl,"CSS",96),Te(Zl,"PDF",72),Te(Zl,"PDF_TO_CSS_UNITS",Zl.CSS/Zl.PDF);let xl=Zl;var rc,Es,Eo,Pr,Z0,ic,Oe,Zn,nd,rd,Gv,lD,WE,id,qf,Yf,UE,Xf;class CX extends rw{constructor({docId:n,ownerDocument:r=globalThis.document}={}){super();W(this,Oe);W(this,rc);W(this,Es);W(this,Eo);W(this,Pr);W(this,Z0);W(this,ic,0);j(this,Eo,n),j(this,Pr,r)}addFilter(n){if(!n)return"none";let r=v(this,Oe,Zn).get(n);if(r)return r;const[i,s,o]=B(this,Oe,Gv).call(this,n),a=n.length===1?i:`${i}${s}${o}`;if(r=v(this,Oe,Zn).get(a),r)return v(this,Oe,Zn).set(n,r),r;const c=`g_${v(this,Eo)}_transfer_map_${qr(this,ic)._++}`,d=`url(#${c})`;v(this,Oe,Zn).set(n,d),v(this,Oe,Zn).set(a,d);const h=B(this,Oe,id).call(this,c);return B(this,Oe,Yf).call(this,i,s,o,h),d}addHCMFilter(n,r){var y;const i=`${n}-${r}`,s="base";let o=v(this,Oe,nd).get(s);if((o==null?void 0:o.key)===i||(o?((y=o.filter)==null||y.remove(),o.key=i,o.url="none",o.filter=null):(o={key:i,url:"none",filter:null},v(this,Oe,nd).set(s,o)),!n||!r))return o.url;const a=B(this,Oe,Xf).call(this,n);n=$e.makeHexColor(...a);const c=B(this,Oe,Xf).call(this,r);if(r=$e.makeHexColor(...c),v(this,Oe,rd).style.color="",n==="#000000"&&r==="#ffffff"||n===r)return o.url;const d=new Array(256);for(let b=0;b<=255;b++){const E=b/255;d[b]=E<=.03928?E/12.92:((E+.055)/1.055)**2.4}const h=d.join(","),f=`g_${v(this,Eo)}_hcm_filter`,p=o.filter=B(this,Oe,id).call(this,f);B(this,Oe,Yf).call(this,h,h,h,p),B(this,Oe,WE).call(this,p);const m=(b,E)=>{const x=a[b]/255,C=c[b]/255,S=new Array(E+1);for(let _=0;_<=E;_++)S[_]=x+_/E*(C-x);return S.join(",")};return B(this,Oe,Yf).call(this,m(0,5),m(1,5),m(2,5),p),o.url=`url(#${f})`,o.url}addAlphaFilter(n){let r=v(this,Oe,Zn).get(n);if(r)return r;const[i]=B(this,Oe,Gv).call(this,[n]),s=`alpha_${i}`;if(r=v(this,Oe,Zn).get(s),r)return v(this,Oe,Zn).set(n,r),r;const o=`g_${v(this,Eo)}_alpha_map_${qr(this,ic)._++}`,a=`url(#${o})`;v(this,Oe,Zn).set(n,a),v(this,Oe,Zn).set(s,a);const c=B(this,Oe,id).call(this,o);return B(this,Oe,UE).call(this,i,c),a}addLuminosityFilter(n){let r=v(this,Oe,Zn).get(n||"luminosity");if(r)return r;let i,s;if(n?([i]=B(this,Oe,Gv).call(this,[n]),s=`luminosity_${i}`):s="luminosity",r=v(this,Oe,Zn).get(s),r)return v(this,Oe,Zn).set(n,r),r;const o=`g_${v(this,Eo)}_luminosity_map_${qr(this,ic)._++}`,a=`url(#${o})`;v(this,Oe,Zn).set(n,a),v(this,Oe,Zn).set(s,a);const c=B(this,Oe,id).call(this,o);return B(this,Oe,lD).call(this,c),n&&B(this,Oe,UE).call(this,i,c),a}addHighlightHCMFilter(n,r,i,s,o){var C;const a=`${r}-${i}-${s}-${o}`;let c=v(this,Oe,nd).get(n);if((c==null?void 0:c.key)===a||(c?((C=c.filter)==null||C.remove(),c.key=a,c.url="none",c.filter=null):(c={key:a,url:"none",filter:null},v(this,Oe,nd).set(n,c)),!r||!i))return c.url;const[d,h]=[r,i].map(B(this,Oe,Xf).bind(this));let f=Math.round(.2126*d[0]+.7152*d[1]+.0722*d[2]),p=Math.round(.2126*h[0]+.7152*h[1]+.0722*h[2]),[m,y]=[s,o].map(B(this,Oe,Xf).bind(this));p<f&&([f,p,m,y]=[p,f,y,m]),v(this,Oe,rd).style.color="";const b=(S,_,k)=>{const N=new Array(256),T=(p-f)/k,M=S/255,O=(_-S)/(255*k);let R=0;for(let F=0;F<=k;F++){const z=Math.round(f+F*T),U=M+F*O;for(let D=R;D<=z;D++)N[D]=U;R=z+1}for(let F=R;F<256;F++)N[F]=N[R-1];return N.join(",")},E=`g_${v(this,Eo)}_hcm_${n}_filter`,x=c.filter=B(this,Oe,id).call(this,E);return B(this,Oe,WE).call(this,x),B(this,Oe,Yf).call(this,b(m[0],y[0],5),b(m[1],y[1],5),b(m[2],y[2],5),x),c.url=`url(#${E})`,c.url}destroy(n=!1){n&&v(this,Oe,nd).size!==0||(v(this,Es)&&(v(this,Es).parentNode.parentNode.remove(),j(this,Es,null)),v(this,rc)&&(v(this,rc).clear(),j(this,rc,null)),j(this,ic,0))}}rc=new WeakMap,Es=new WeakMap,Eo=new WeakMap,Pr=new WeakMap,Z0=new WeakMap,ic=new WeakMap,Oe=new WeakSet,Zn=function(){return v(this,rc)||j(this,rc,new Map)},nd=function(){return v(this,Z0)||j(this,Z0,new Map)},rd=function(){if(!v(this,Es)){const n=v(this,Pr).createElement("div"),{style:r}=n;r.visibility="hidden",r.contain="strict",r.width=r.height=0,r.position="absolute",r.top=r.left=0,r.zIndex=-1;const i=v(this,Pr).createElementNS(yo,"svg");i.setAttribute("width",0),i.setAttribute("height",0),j(this,Es,v(this,Pr).createElementNS(yo,"defs")),n.append(i),i.append(v(this,Es)),v(this,Pr).body.append(n)}return v(this,Es)},Gv=function(n){if(n.length===1){const d=n[0],h=new Array(256);for(let p=0;p<256;p++)h[p]=d[p]/255;const f=h.join(",");return[f,f,f]}const[r,i,s]=n,o=new Array(256),a=new Array(256),c=new Array(256);for(let d=0;d<256;d++)o[d]=r[d]/255,a[d]=i[d]/255,c[d]=s[d]/255;return[o.join(","),a.join(","),c.join(",")]},lD=function(n){const r=v(this,Pr).createElementNS(yo,"feColorMatrix");r.setAttribute("type","matrix"),r.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),n.append(r)},WE=function(n){const r=v(this,Pr).createElementNS(yo,"feColorMatrix");r.setAttribute("type","matrix"),r.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),n.append(r)},id=function(n){const r=v(this,Pr).createElementNS(yo,"filter");return r.setAttribute("color-interpolation-filters","sRGB"),r.setAttribute("id",n),v(this,Oe,rd).append(r),r},qf=function(n,r,i){const s=v(this,Pr).createElementNS(yo,r);s.setAttribute("type","discrete"),s.setAttribute("tableValues",i),n.append(s)},Yf=function(n,r,i,s){const o=v(this,Pr).createElementNS(yo,"feComponentTransfer");s.append(o),B(this,Oe,qf).call(this,o,"feFuncR",n),B(this,Oe,qf).call(this,o,"feFuncG",r),B(this,Oe,qf).call(this,o,"feFuncB",i)},UE=function(n,r){const i=v(this,Pr).createElementNS(yo,"feComponentTransfer");r.append(i),B(this,Oe,qf).call(this,i,"feFuncA",n)},Xf=function(n){return v(this,Oe,rd).style.color=n,aA(getComputedStyle(v(this,Oe,rd)).getPropertyValue("color"))};class _X extends z0{constructor({ownerDocument:e=globalThis.document,enableHWA:n=!1}={}){super({enableHWA:n}),this._document=e}_createCanvas(e,n){const r=this._document.createElement("canvas");return r.width=e,r.height=n,r}}async function ow(t,e="text"){if(Kf(t,document.baseURI)){const n=await fetch(t);if(!n.ok)throw new Error(n.statusText);switch(e){case"arraybuffer":return n.arrayBuffer();case"blob":return n.blob();case"json":return n.json()}return n.text()}return new Promise((n,r)=>{const i=new XMLHttpRequest;i.open("GET",t,!0),i.responseType=e,i.onreadystatechange=()=>{if(i.readyState===XMLHttpRequest.DONE){if(i.status===200||i.status===0){switch(e){case"arraybuffer":case"blob":case"json":n(i.response);return}n(i.responseText);return}r(new Error(i.statusText))}},i.send(null)})}class cD extends iw{_fetchData(e,n){return ow(e,this.isCompressed?"arraybuffer":"text").then(r=>({cMapData:r instanceof ArrayBuffer?new Uint8Array(r):nw(r),compressionType:n}))}}class uD extends sw{_fetchData(e){return ow(e,"arraybuffer").then(n=>new Uint8Array(n))}}class rA extends nA{_createSVG(e){return document.createElementNS(yo,e)}}class Mm{constructor({viewBox:e,scale:n,rotation:r,offsetX:i=0,offsetY:s=0,dontFlip:o=!1}){this.viewBox=e,this.scale=n,this.rotation=r,this.offsetX=i,this.offsetY=s;const a=(e[2]+e[0])/2,c=(e[3]+e[1])/2;let d,h,f,p;switch(r%=360,r<0&&(r+=360),r){case 180:d=-1,h=0,f=0,p=1;break;case 90:d=0,h=1,f=1,p=0;break;case 270:d=0,h=-1,f=-1,p=0;break;case 0:d=1,h=0,f=0,p=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}o&&(f=-f,p=-p);let m,y,b,E;d===0?(m=Math.abs(c-e[1])*n+i,y=Math.abs(a-e[0])*n+s,b=(e[3]-e[1])*n,E=(e[2]-e[0])*n):(m=Math.abs(a-e[0])*n+i,y=Math.abs(c-e[1])*n+s,b=(e[2]-e[0])*n,E=(e[3]-e[1])*n),this.transform=[d*n,h*n,f*n,p*n,m-d*n*a-f*n*c,y-h*n*a-p*n*c],this.width=b,this.height=E}get rawDims(){const{viewBox:e}=this;return lt(this,"rawDims",{pageWidth:e[2]-e[0],pageHeight:e[3]-e[1],pageX:e[0],pageY:e[1]})}clone({scale:e=this.scale,rotation:n=this.rotation,offsetX:r=this.offsetX,offsetY:i=this.offsetY,dontFlip:s=!1}={}){return new Mm({viewBox:this.viewBox.slice(),scale:e,rotation:n,offsetX:r,offsetY:i,dontFlip:s})}convertToViewportPoint(e,n){return $e.applyTransform([e,n],this.transform)}convertToViewportRectangle(e){const n=$e.applyTransform([e[0],e[1]],this.transform),r=$e.applyTransform([e[2],e[3]],this.transform);return[n[0],n[1],r[0],r[1]]}convertToPdfPoint(e,n){return $e.applyInverseTransform([e,n],this.transform)}}class iA extends Al{constructor(e,n=0){super(e,"RenderingCancelledException"),this.extraDelay=n}}function sA(t){const e=t.length;let n=0;for(;n<e&&t[n].trim()==="";)n++;return t.substring(n,n+5).toLowerCase()==="data:"}function oA(t){return typeof t=="string"&&/\.pdf$/i.test(t)}function AX(t){return[t]=t.split(/[#?]/,1),t.substring(t.lastIndexOf("/")+1)}function kX(t,e="document.pdf"){if(typeof t!="string")return e;if(sA(t))return Je('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),e;const n=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,r=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,i=n.exec(t);let s=r.exec(i[1])||r.exec(i[2])||r.exec(i[3]);if(s&&(s=s[0],s.includes("%")))try{s=r.exec(decodeURIComponent(s))[0]}catch{}return s||e}class HI{constructor(){Te(this,"started",Object.create(null));Te(this,"times",[])}time(e){e in this.started&&Je(`Timer is already running for ${e}`),this.started[e]=Date.now()}timeEnd(e){e in this.started||Je(`Timer has not been started for ${e}`),this.times.push({name:e,start:this.started[e],end:Date.now()}),delete this.started[e]}toString(){const e=[];let n=0;for(const{name:r}of this.times)n=Math.max(r.length,n);for(const{name:r,start:i,end:s}of this.times)e.push(`${r.padEnd(n)} ${s-i}ms
`);return e.join("")}}function Kf(t,e){try{const{protocol:n}=e?new URL(t,e):new URL(t);return n==="http:"||n==="https:"}catch{return!1}}function Fr(t){t.preventDefault()}function dD(t){console.log("Deprecated API usage: "+t)}let WI;class hD{static toDateObject(e){if(!e||typeof e!="string")return null;WI||(WI=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const n=WI.exec(e);if(!n)return null;const r=parseInt(n[1],10);let i=parseInt(n[2],10);i=i>=1&&i<=12?i-1:0;let s=parseInt(n[3],10);s=s>=1&&s<=31?s:1;let o=parseInt(n[4],10);o=o>=0&&o<=23?o:0;let a=parseInt(n[5],10);a=a>=0&&a<=59?a:0;let c=parseInt(n[6],10);c=c>=0&&c<=59?c:0;const d=n[7]||"Z";let h=parseInt(n[8],10);h=h>=0&&h<=23?h:0;let f=parseInt(n[9],10)||0;return f=f>=0&&f<=59?f:0,d==="-"?(o+=h,a+=f):d==="+"&&(o-=h,a-=f),new Date(Date.UTC(r,i,s,o,a,c))}}function RX(t,{scale:e=1,rotation:n=0}){const{width:r,height:i}=t.attributes.style,s=[0,0,parseInt(r),parseInt(i)];return new Mm({viewBox:s,scale:e,rotation:n})}function aA(t){if(t.startsWith("#")){const e=parseInt(t.slice(1),16);return[(e&16711680)>>16,(e&65280)>>8,e&255]}return t.startsWith("rgb(")?t.slice(4,-1).split(",").map(e=>parseInt(e)):t.startsWith("rgba(")?t.slice(5,-1).split(",").map(e=>parseInt(e)).slice(0,3):(Je(`Not a valid color format: "${t}"`),[0,0,0])}function TX(t){const e=document.createElement("span");e.style.visibility="hidden",document.body.append(e);for(const n of t.keys()){e.style.color=n;const r=window.getComputedStyle(e).color;t.set(n,aA(r))}e.remove()}function Zt(t){const{a:e,b:n,c:r,d:i,e:s,f:o}=t.getTransform();return[e,n,r,i,s,o]}function mo(t){const{a:e,b:n,c:r,d:i,e:s,f:o}=t.getTransform().invertSelf();return[e,n,r,i,s,o]}function ru(t,e,n=!1,r=!0){if(e instanceof Mm){const{pageWidth:i,pageHeight:s}=e.rawDims,{style:o}=t,a=Or.isCSSRoundSupported,c=`var(--scale-factor) * ${i}px`,d=`var(--scale-factor) * ${s}px`,h=a?`round(${c}, 1px)`:`calc(${c})`,f=a?`round(${d}, 1px)`:`calc(${d})`;!n||e.rotation%180===0?(o.width=h,o.height=f):(o.width=f,o.height=h)}r&&t.setAttribute("data-main-rotation",e.rotation)}var sc,oc,Kr,ac,J0,fD,vr,pD,gD,qv,mD,GE;const eb=class eb{constructor(e){W(this,vr);W(this,sc,null);W(this,oc,null);W(this,Kr);W(this,ac,null);j(this,Kr,e)}render(){const e=j(this,sc,document.createElement("div"));e.className="editToolbar",e.setAttribute("role","toolbar");const n=v(this,Kr)._uiManager._signal;e.addEventListener("contextmenu",Fr,{signal:n}),e.addEventListener("pointerdown",B(eb,J0,fD),{signal:n});const r=j(this,ac,document.createElement("div"));r.className="buttons",e.append(r);const i=v(this,Kr).toolbarPosition;if(i){const{style:s}=e,o=v(this,Kr)._uiManager.direction==="ltr"?1-i[0]:i[0];s.insetInlineEnd=`${100*o}%`,s.top=`calc(${100*i[1]}% + var(--editor-toolbar-vert-offset))`}return B(this,vr,mD).call(this),e}hide(){var e;v(this,sc).classList.add("hidden"),(e=v(this,oc))==null||e.hideDropdown()}show(){v(this,sc).classList.remove("hidden")}addAltTextButton(e){B(this,vr,qv).call(this,e),v(this,ac).prepend(e,v(this,vr,GE))}addColorPicker(e){j(this,oc,e);const n=e.renderButton();B(this,vr,qv).call(this,n),v(this,ac).prepend(n,v(this,vr,GE))}remove(){var e;v(this,sc).remove(),(e=v(this,oc))==null||e.destroy(),j(this,oc,null)}};sc=new WeakMap,oc=new WeakMap,Kr=new WeakMap,ac=new WeakMap,J0=new WeakSet,fD=function(e){e.stopPropagation()},vr=new WeakSet,pD=function(e){v(this,Kr)._focusEventsAllowed=!1,e.preventDefault(),e.stopPropagation()},gD=function(e){v(this,Kr)._focusEventsAllowed=!0,e.preventDefault(),e.stopPropagation()},qv=function(e){const n=v(this,Kr)._uiManager._signal;e.addEventListener("focusin",B(this,vr,pD).bind(this),{capture:!0,signal:n}),e.addEventListener("focusout",B(this,vr,gD).bind(this),{capture:!0,signal:n}),e.addEventListener("contextmenu",Fr,{signal:n})},mD=function(){const e=document.createElement("button");e.className="delete",e.tabIndex=0,e.setAttribute("data-l10n-id",`pdfjs-editor-remove-${v(this,Kr).editorType}-button`),B(this,vr,qv).call(this,e),e.addEventListener("click",n=>{v(this,Kr)._uiManager.delete()},{signal:v(this,Kr)._uiManager._signal}),v(this,ac).append(e)},GE=function(){const e=document.createElement("div");return e.className="divider",e},W(eb,J0);let VE=eb;var Bp,lc,cc,El,yD,vD,bD;class PX{constructor(e){W(this,El);W(this,Bp,null);W(this,lc,null);W(this,cc);j(this,cc,e)}show(e,n,r){const[i,s]=B(this,El,vD).call(this,n,r),{style:o}=v(this,lc)||j(this,lc,B(this,El,yD).call(this));e.append(v(this,lc)),o.insetInlineEnd=`${100*i}%`,o.top=`calc(${100*s}% + var(--editor-toolbar-vert-offset))`}hide(){v(this,lc).remove()}}Bp=new WeakMap,lc=new WeakMap,cc=new WeakMap,El=new WeakSet,yD=function(){const e=j(this,lc,document.createElement("div"));e.className="editToolbar",e.setAttribute("role","toolbar"),e.addEventListener("contextmenu",Fr,{signal:v(this,cc)._signal});const n=j(this,Bp,document.createElement("div"));return n.className="buttons",e.append(n),B(this,El,bD).call(this),e},vD=function(e,n){let r=0,i=0;for(const s of e){const o=s.y+s.height;if(o<r)continue;const a=s.x+(n?s.width:0);if(o>r){i=a,r=o;continue}n?a>i&&(i=a):a<i&&(i=a)}return[n?1-i:i,r]},bD=function(){const e=document.createElement("button");e.className="highlightButton",e.tabIndex=0,e.setAttribute("data-l10n-id","pdfjs-highlight-floating-button1");const n=document.createElement("span");e.append(n),n.className="visuallyHidden",n.setAttribute("data-l10n-id","pdfjs-highlight-floating-button-label");const r=v(this,cc)._signal;e.addEventListener("contextmenu",Fr,{signal:r}),e.addEventListener("click",()=>{v(this,cc).highlightSelection("floating_button")},{signal:r}),v(this,Bp).append(e)};function j0(t,e,n){for(const r of n)e.addEventListener(r,t[r].bind(t))}function IX(t){return Math.round(Math.min(255,Math.max(1,255*t))).toString(16).padStart(2,"0")}var tb;class NX{constructor(){W(this,tb,0)}get id(){return`${uX}${qr(this,tb)._++}`}}tb=new WeakMap;var Hp,nb,wi,Wp,YE;const kA=class kA{constructor(){W(this,Wp);W(this,Hp,EX());W(this,nb,0);W(this,wi,null)}static get _isSVGFittingCanvas(){const e='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',r=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),i=new Image;i.src=e;const s=i.decode().then(()=>(r.drawImage(i,0,0,1,1,0,0,1,3),new Uint32Array(r.getImageData(0,0,1,1).data.buffer)[0]===0));return lt(this,"_isSVGFittingCanvas",s)}async getFromFile(e){const{lastModified:n,name:r,size:i,type:s}=e;return B(this,Wp,YE).call(this,`${n}_${r}_${i}_${s}`,e)}async getFromUrl(e){return B(this,Wp,YE).call(this,e,e)}async getFromId(e){v(this,wi)||j(this,wi,new Map);const n=v(this,wi).get(e);return n?n.bitmap?(n.refCounter+=1,n):n.file?this.getFromFile(n.file):this.getFromUrl(n.url):null}getSvgUrl(e){const n=v(this,wi).get(e);return n!=null&&n.isSvg?n.svgUrl:null}deleteId(e){v(this,wi)||j(this,wi,new Map);const n=v(this,wi).get(e);n&&(n.refCounter-=1,n.refCounter===0&&(n.bitmap=null))}isValidId(e){return e.startsWith(`image_${v(this,Hp)}_`)}};Hp=new WeakMap,nb=new WeakMap,wi=new WeakMap,Wp=new WeakSet,YE=async function(e,n){v(this,wi)||j(this,wi,new Map);let r=v(this,wi).get(e);if(r===null)return null;if(r!=null&&r.bitmap)return r.refCounter+=1,r;try{r||(r={bitmap:null,id:`image_${v(this,Hp)}_${qr(this,nb)._++}`,refCounter:0,isSvg:!1});let i;if(typeof n=="string"?(r.url=n,i=await ow(n,"blob")):i=r.file=n,i.type==="image/svg+xml"){const s=kA._isSVGFittingCanvas,o=new FileReader,a=new Image,c=new Promise((d,h)=>{a.onload=()=>{r.bitmap=a,r.isSvg=!0,d()},o.onload=async()=>{const f=r.svgUrl=o.result;a.src=await s?`${f}#svgView(preserveAspectRatio(none))`:f},a.onerror=o.onerror=h});o.readAsDataURL(i),await c}else r.bitmap=await createImageBitmap(i);r.refCounter=1}catch(i){console.error(i),r=null}return v(this,wi).set(e,r),r&&v(this,wi).set(r.id,r),r};let qE=kA;var Mn,Ya,Up,On;class MX{constructor(e=128){W(this,Mn,[]);W(this,Ya,!1);W(this,Up);W(this,On,-1);j(this,Up,e)}add({cmd:e,undo:n,post:r,mustExec:i,type:s=NaN,overwriteIfSameType:o=!1,keepUndo:a=!1}){if(i&&e(),v(this,Ya))return;const c={cmd:e,undo:n,post:r,type:s};if(v(this,On)===-1){v(this,Mn).length>0&&(v(this,Mn).length=0),j(this,On,0),v(this,Mn).push(c);return}if(o&&v(this,Mn)[v(this,On)].type===s){a&&(c.undo=v(this,Mn)[v(this,On)].undo),v(this,Mn)[v(this,On)]=c;return}const d=v(this,On)+1;d===v(this,Up)?v(this,Mn).splice(0,1):(j(this,On,d),d<v(this,Mn).length&&v(this,Mn).splice(d)),v(this,Mn).push(c)}undo(){if(v(this,On)===-1)return;j(this,Ya,!0);const{undo:e,post:n}=v(this,Mn)[v(this,On)];e(),n==null||n(),j(this,Ya,!1),j(this,On,v(this,On)-1)}redo(){if(v(this,On)<v(this,Mn).length-1){j(this,On,v(this,On)+1),j(this,Ya,!0);const{cmd:e,post:n}=v(this,Mn)[v(this,On)];e(),n==null||n(),j(this,Ya,!1)}}hasSomethingToUndo(){return v(this,On)!==-1}hasSomethingToRedo(){return v(this,On)<v(this,Mn).length-1}destroy(){j(this,Mn,null)}}Mn=new WeakMap,Ya=new WeakMap,Up=new WeakMap,On=new WeakMap;var rb,wD;class Om{constructor(e){W(this,rb);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:n}=Or.platform;for(const[r,i,s={}]of e)for(const o of r){const a=o.startsWith("mac+");n&&a?(this.callbacks.set(o.slice(4),{callback:i,options:s}),this.allKeys.add(o.split("+").at(-1))):!n&&!a&&(this.callbacks.set(o,{callback:i,options:s}),this.allKeys.add(o.split("+").at(-1)))}}exec(e,n){if(!this.allKeys.has(n.key))return;const r=this.callbacks.get(B(this,rb,wD).call(this,n));if(!r)return;const{callback:i,options:{bubbles:s=!1,args:o=[],checker:a=null}}=r;a&&!a(e,n)||(i.bind(e,...o,n)(),s||(n.stopPropagation(),n.preventDefault()))}}rb=new WeakSet,wD=function(e){e.altKey&&this.buffer.push("alt"),e.ctrlKey&&this.buffer.push("ctrl"),e.metaKey&&this.buffer.push("meta"),e.shiftKey&&this.buffer.push("shift"),this.buffer.push(e.key);const n=this.buffer.join("+");return this.buffer.length=0,n};const ib=class ib{get _colors(){const e=new Map([["CanvasText",null],["Canvas",null]]);return TX(e),lt(this,"_colors",e)}convert(e){const n=aA(e);if(!window.matchMedia("(forced-colors: active)").matches)return n;for(const[r,i]of this._colors)if(i.every((s,o)=>s===n[o]))return ib._colorsMapping.get(r);return n}getHexCode(e){const n=this._colors.get(e);return n?$e.makeHexColor(...n):e}};Te(ib,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let XE=ib;var vd,Qr,Cn,$n,bd,Co,wd,zi,xd,uc,Cs,ji,dc,Vp,Gp,_s,Sd,Xa,As,sb,Ka,qp,hc,Yp,Ed,zn,Ct,_o,fc,Xp,Kp,Qp,Zp,Jp,eg,tg,ng,rg,ig,sg,og,ag,Qa,ks,Ao,lg,Ee,Yv,xD,SD,Xv,ED,CD,_D,KE,AD,QE,ZE,kD,hr,ja,RD,TD,JE,PD,Qf,eC;const ud=class ud{constructor(e,n,r,i,s,o,a,c,d){W(this,Ee);W(this,vd,new AbortController);W(this,Qr,null);W(this,Cn,new Map);W(this,$n,new Map);W(this,bd,null);W(this,Co,null);W(this,wd,null);W(this,zi,new MX);W(this,xd,0);W(this,uc,new Set);W(this,Cs,null);W(this,ji,null);W(this,dc,new Set);W(this,Vp,!1);W(this,Gp,null);W(this,_s,null);W(this,Sd,null);W(this,Xa,!1);W(this,As,null);W(this,sb,new NX);W(this,Ka,!1);W(this,qp,!1);W(this,hc,null);W(this,Yp,null);W(this,Ed,null);W(this,zn,st.NONE);W(this,Ct,new Set);W(this,_o,null);W(this,fc,null);W(this,Xp,null);W(this,Kp,this.blur.bind(this));W(this,Qp,this.focus.bind(this));W(this,Zp,this.copy.bind(this));W(this,Jp,this.cut.bind(this));W(this,eg,this.paste.bind(this));W(this,tg,this.keydown.bind(this));W(this,ng,this.keyup.bind(this));W(this,rg,this.onEditingAction.bind(this));W(this,ig,this.onPageChanging.bind(this));W(this,sg,this.onScaleChanging.bind(this));W(this,og,this.onRotationChanging.bind(this));W(this,ag,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1});W(this,Qa,[0,0]);W(this,ks,null);W(this,Ao,null);W(this,lg,null);this._signal=v(this,vd).signal,j(this,Ao,e),j(this,lg,n),j(this,bd,r),this._eventBus=i,this._eventBus._on("editingaction",v(this,rg)),this._eventBus._on("pagechanging",v(this,ig)),this._eventBus._on("scalechanging",v(this,sg)),this._eventBus._on("rotationchanging",v(this,og)),B(this,Ee,ED).call(this),B(this,Ee,kD).call(this),B(this,Ee,KE).call(this),j(this,Co,s.annotationStorage),j(this,Gp,s.filterFactory),j(this,fc,o),j(this,Sd,a||null),j(this,Vp,c),j(this,Ed,d||null),this.viewParameters={realScale:xl.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1}static get _keyboardManager(){const e=ud.prototype,n=o=>v(o,Ao).contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&o.hasSomethingToControl(),r=(o,{target:a})=>{if(a instanceof HTMLInputElement){const{type:c}=a;return c!=="text"&&c!=="number"}return!0},i=this.TRANSLATE_SMALL,s=this.TRANSLATE_BIG;return lt(this,"_keyboardManager",new Om([[["ctrl+a","mac+meta+a"],e.selectAll,{checker:r}],[["ctrl+z","mac+meta+z"],e.undo,{checker:r}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],e.redo,{checker:r}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],e.delete,{checker:r}],[["Enter","mac+Enter"],e.addNewEditorFromKeyboard,{checker:(o,{target:a})=>!(a instanceof HTMLButtonElement)&&v(o,Ao).contains(a)&&!o.isEnterHandled}],[[" ","mac+ "],e.addNewEditorFromKeyboard,{checker:(o,{target:a})=>!(a instanceof HTMLButtonElement)&&v(o,Ao).contains(document.activeElement)}],[["Escape","mac+Escape"],e.unselectAll],[["ArrowLeft","mac+ArrowLeft"],e.translateSelectedEditors,{args:[-i,0],checker:n}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e.translateSelectedEditors,{args:[-s,0],checker:n}],[["ArrowRight","mac+ArrowRight"],e.translateSelectedEditors,{args:[i,0],checker:n}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e.translateSelectedEditors,{args:[s,0],checker:n}],[["ArrowUp","mac+ArrowUp"],e.translateSelectedEditors,{args:[0,-i],checker:n}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e.translateSelectedEditors,{args:[0,-s],checker:n}],[["ArrowDown","mac+ArrowDown"],e.translateSelectedEditors,{args:[0,i],checker:n}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e.translateSelectedEditors,{args:[0,s],checker:n}]]))}destroy(){var e,n,r;(e=v(this,vd))==null||e.abort(),j(this,vd,null),this._signal=null,this._eventBus._off("editingaction",v(this,rg)),this._eventBus._off("pagechanging",v(this,ig)),this._eventBus._off("scalechanging",v(this,sg)),this._eventBus._off("rotationchanging",v(this,og));for(const i of v(this,$n).values())i.destroy();v(this,$n).clear(),v(this,Cn).clear(),v(this,dc).clear(),j(this,Qr,null),v(this,Ct).clear(),v(this,zi).destroy(),(n=v(this,bd))==null||n.destroy(),(r=v(this,As))==null||r.hide(),j(this,As,null),v(this,_s)&&(clearTimeout(v(this,_s)),j(this,_s,null)),v(this,ks)&&(clearTimeout(v(this,ks)),j(this,ks,null))}async mlGuess(e){var n;return((n=v(this,Ed))==null?void 0:n.guess(e))||null}get hasMLManager(){return!!v(this,Ed)}get hcmFilter(){return lt(this,"hcmFilter",v(this,fc)?v(this,Gp).addHCMFilter(v(this,fc).foreground,v(this,fc).background):"none")}get direction(){return lt(this,"direction",getComputedStyle(v(this,Ao)).direction)}get highlightColors(){return lt(this,"highlightColors",v(this,Sd)?new Map(v(this,Sd).split(",").map(e=>e.split("=").map(n=>n.trim()))):null)}get highlightColorNames(){return lt(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,e=>e.reverse())):null)}setMainHighlightColorPicker(e){j(this,Yp,e)}editAltText(e){var n;(n=v(this,bd))==null||n.editAltText(this,e)}onPageChanging({pageNumber:e}){j(this,xd,e-1)}focusMainContainer(){v(this,Ao).focus()}findParent(e,n){for(const r of v(this,$n).values()){const{x:i,y:s,width:o,height:a}=r.div.getBoundingClientRect();if(e>=i&&e<=i+o&&n>=s&&n<=s+a)return r}return null}disableUserSelect(e=!1){v(this,lg).classList.toggle("noUserSelect",e)}addShouldRescale(e){v(this,dc).add(e)}removeShouldRescale(e){v(this,dc).delete(e)}onScaleChanging({scale:e}){this.commitOrRemove(),this.viewParameters.realScale=e*xl.PDF_TO_CSS_UNITS;for(const n of v(this,dc))n.onScaleChanging()}onRotationChanging({pagesRotation:e}){this.commitOrRemove(),this.viewParameters.rotation=e}highlightSelection(e=""){const n=document.getSelection();if(!n||n.isCollapsed)return;const{anchorNode:r,anchorOffset:i,focusNode:s,focusOffset:o}=n,a=n.toString(),d=B(this,Ee,Yv).call(this,n).closest(".textLayer"),h=this.getSelectionBoxes(d);if(h){n.empty(),v(this,zn)===st.NONE&&(this._eventBus.dispatch("showannotationeditorui",{source:this,mode:st.HIGHLIGHT}),this.showAllEditors("highlight",!0,!0));for(const f of v(this,$n).values())if(f.hasTextLayer(d)){f.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:e,boxes:h,anchorNode:r,anchorOffset:i,focusNode:s,focusOffset:o,text:a});break}}}addToAnnotationStorage(e){!e.isEmpty()&&v(this,Co)&&!v(this,Co).has(e.id)&&v(this,Co).setValue(e.id,e)}blur(){if(this.isShiftKeyDown=!1,v(this,Xa)&&(j(this,Xa,!1),B(this,Ee,Xv).call(this,"main_toolbar")),!this.hasSelection)return;const{activeElement:e}=document;for(const n of v(this,Ct))if(n.div.contains(e)){j(this,hc,[n,e]),n._focusEventsAllowed=!1;break}}focus(){if(!v(this,hc))return;const[e,n]=v(this,hc);j(this,hc,null),n.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:this._signal}),n.focus()}addEditListeners(){B(this,Ee,KE).call(this),B(this,Ee,QE).call(this)}removeEditListeners(){B(this,Ee,AD).call(this),B(this,Ee,ZE).call(this)}dragOver(e){for(const{type:n}of e.dataTransfer.items)for(const r of v(this,ji))if(r.isHandlingMimeForPasting(n)){e.dataTransfer.dropEffect="copy",e.preventDefault();return}}drop(e){for(const n of e.dataTransfer.items)for(const r of v(this,ji))if(r.isHandlingMimeForPasting(n.type)){r.paste(n,this.currentLayer),e.preventDefault();return}}copy(e){var r;if(e.preventDefault(),(r=v(this,Qr))==null||r.commitOrRemove(),!this.hasSelection)return;const n=[];for(const i of v(this,Ct)){const s=i.serialize(!0);s&&n.push(s)}n.length!==0&&e.clipboardData.setData("application/pdfjs",JSON.stringify(n))}cut(e){this.copy(e),this.delete()}paste(e){e.preventDefault();const{clipboardData:n}=e;for(const s of n.items)for(const o of v(this,ji))if(o.isHandlingMimeForPasting(s.type)){o.paste(s,this.currentLayer);return}let r=n.getData("application/pdfjs");if(!r)return;try{r=JSON.parse(r)}catch(s){Je(`paste: "${s.message}".`);return}if(!Array.isArray(r))return;this.unselectAll();const i=this.currentLayer;try{const s=[];for(const c of r){const d=i.deserialize(c);if(!d)return;s.push(d)}const o=()=>{for(const c of s)B(this,Ee,JE).call(this,c);B(this,Ee,eC).call(this,s)},a=()=>{for(const c of s)c.remove()};this.addCommands({cmd:o,undo:a,mustExec:!0})}catch(s){Je(`paste: "${s.message}".`)}}keydown(e){!this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!0),v(this,zn)!==st.NONE&&!this.isEditorHandlingKeyboard&&ud._keyboardManager.exec(this,e)}keyup(e){this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!1,v(this,Xa)&&(j(this,Xa,!1),B(this,Ee,Xv).call(this,"main_toolbar")))}onEditingAction({name:e}){switch(e){case"undo":case"redo":case"delete":case"selectAll":this[e]();break;case"highlightSelection":this.highlightSelection("context_menu");break}}setEditingState(e){e?(B(this,Ee,CD).call(this),B(this,Ee,QE).call(this),B(this,Ee,hr).call(this,{isEditing:v(this,zn)!==st.NONE,isEmpty:B(this,Ee,Qf).call(this),hasSomethingToUndo:v(this,zi).hasSomethingToUndo(),hasSomethingToRedo:v(this,zi).hasSomethingToRedo(),hasSelectedEditor:!1})):(B(this,Ee,_D).call(this),B(this,Ee,ZE).call(this),B(this,Ee,hr).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(e){if(!v(this,ji)){j(this,ji,e);for(const n of v(this,ji))B(this,Ee,ja).call(this,n.defaultPropertiesToUpdate)}}getId(){return v(this,sb).id}get currentLayer(){return v(this,$n).get(v(this,xd))}getLayer(e){return v(this,$n).get(e)}get currentPageIndex(){return v(this,xd)}addLayer(e){v(this,$n).set(e.pageIndex,e),v(this,Ka)?e.enable():e.disable()}removeLayer(e){v(this,$n).delete(e.pageIndex)}updateMode(e,n=null,r=!1){if(v(this,zn)!==e){if(j(this,zn,e),e===st.NONE){this.setEditingState(!1),B(this,Ee,TD).call(this);return}this.setEditingState(!0),B(this,Ee,RD).call(this),this.unselectAll();for(const i of v(this,$n).values())i.updateMode(e);if(!n&&r){this.addNewEditorFromKeyboard();return}if(n){for(const i of v(this,Cn).values())if(i.annotationElementId===n){this.setSelected(i),i.enterInEditMode();break}}}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(e){e!==v(this,zn)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:e})}updateParams(e,n){var r;if(v(this,ji)){switch(e){case Xe.CREATE:this.currentLayer.addNewEditor();return;case Xe.HIGHLIGHT_DEFAULT_COLOR:(r=v(this,Yp))==null||r.updateColor(n);break;case Xe.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(v(this,Xp)||j(this,Xp,new Map)).set(e,n),this.showAllEditors("highlight",n);break}for(const i of v(this,Ct))i.updateParams(e,n);for(const i of v(this,ji))i.updateDefaultParams(e,n)}}showAllEditors(e,n,r=!1){var s;for(const o of v(this,Cn).values())o.editorType===e&&o.show(n);(((s=v(this,Xp))==null?void 0:s.get(Xe.HIGHLIGHT_SHOW_ALL))??!0)!==n&&B(this,Ee,ja).call(this,[[Xe.HIGHLIGHT_SHOW_ALL,n]])}enableWaiting(e=!1){if(v(this,qp)!==e){j(this,qp,e);for(const n of v(this,$n).values())e?n.disableClick():n.enableClick(),n.div.classList.toggle("waiting",e)}}getEditors(e){const n=[];for(const r of v(this,Cn).values())r.pageIndex===e&&n.push(r);return n}getEditor(e){return v(this,Cn).get(e)}addEditor(e){v(this,Cn).set(e.id,e)}removeEditor(e){var n;e.div.contains(document.activeElement)&&(v(this,_s)&&clearTimeout(v(this,_s)),j(this,_s,setTimeout(()=>{this.focusMainContainer(),j(this,_s,null)},0))),v(this,Cn).delete(e.id),this.unselect(e),(!e.annotationElementId||!v(this,uc).has(e.annotationElementId))&&((n=v(this,Co))==null||n.remove(e.id))}addDeletedAnnotationElement(e){v(this,uc).add(e.annotationElementId),this.addChangedExistingAnnotation(e),e.deleted=!0}isDeletedAnnotationElement(e){return v(this,uc).has(e)}removeDeletedAnnotationElement(e){v(this,uc).delete(e.annotationElementId),this.removeChangedExistingAnnotation(e),e.deleted=!1}setActiveEditor(e){v(this,Qr)!==e&&(j(this,Qr,e),e&&B(this,Ee,ja).call(this,e.propertiesToUpdate))}updateUI(e){v(this,Ee,PD)===e&&B(this,Ee,ja).call(this,e.propertiesToUpdate)}toggleSelected(e){if(v(this,Ct).has(e)){v(this,Ct).delete(e),e.unselect(),B(this,Ee,hr).call(this,{hasSelectedEditor:this.hasSelection});return}v(this,Ct).add(e),e.select(),B(this,Ee,ja).call(this,e.propertiesToUpdate),B(this,Ee,hr).call(this,{hasSelectedEditor:!0})}setSelected(e){for(const n of v(this,Ct))n!==e&&n.unselect();v(this,Ct).clear(),v(this,Ct).add(e),e.select(),B(this,Ee,ja).call(this,e.propertiesToUpdate),B(this,Ee,hr).call(this,{hasSelectedEditor:!0})}isSelected(e){return v(this,Ct).has(e)}get firstSelectedEditor(){return v(this,Ct).values().next().value}unselect(e){e.unselect(),v(this,Ct).delete(e),B(this,Ee,hr).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return v(this,Ct).size!==0}get isEnterHandled(){return v(this,Ct).size===1&&this.firstSelectedEditor.isEnterHandled}undo(){v(this,zi).undo(),B(this,Ee,hr).call(this,{hasSomethingToUndo:v(this,zi).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:B(this,Ee,Qf).call(this)})}redo(){v(this,zi).redo(),B(this,Ee,hr).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:v(this,zi).hasSomethingToRedo(),isEmpty:B(this,Ee,Qf).call(this)})}addCommands(e){v(this,zi).add(e),B(this,Ee,hr).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:B(this,Ee,Qf).call(this)})}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const e=[...v(this,Ct)],n=()=>{for(const i of e)i.remove()},r=()=>{for(const i of e)B(this,Ee,JE).call(this,i)};this.addCommands({cmd:n,undo:r,mustExec:!0})}commitOrRemove(){var e;(e=v(this,Qr))==null||e.commitOrRemove()}hasSomethingToControl(){return v(this,Qr)||this.hasSelection}selectAll(){for(const e of v(this,Ct))e.commit();B(this,Ee,eC).call(this,v(this,Cn).values())}unselectAll(){if(!(v(this,Qr)&&(v(this,Qr).commitOrRemove(),v(this,zn)!==st.NONE))&&this.hasSelection){for(const e of v(this,Ct))e.unselect();v(this,Ct).clear(),B(this,Ee,hr).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(e,n,r=!1){if(r||this.commitOrRemove(),!this.hasSelection)return;v(this,Qa)[0]+=e,v(this,Qa)[1]+=n;const[i,s]=v(this,Qa),o=[...v(this,Ct)],a=1e3;v(this,ks)&&clearTimeout(v(this,ks)),j(this,ks,setTimeout(()=>{j(this,ks,null),v(this,Qa)[0]=v(this,Qa)[1]=0,this.addCommands({cmd:()=>{for(const c of o)v(this,Cn).has(c.id)&&c.translateInPage(i,s)},undo:()=>{for(const c of o)v(this,Cn).has(c.id)&&c.translateInPage(-i,-s)},mustExec:!1})},a));for(const c of o)c.translateInPage(e,n)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),j(this,Cs,new Map);for(const e of v(this,Ct))v(this,Cs).set(e,{savedX:e.x,savedY:e.y,savedPageIndex:e.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!v(this,Cs))return!1;this.disableUserSelect(!1);const e=v(this,Cs);j(this,Cs,null);let n=!1;for(const[{x:i,y:s,pageIndex:o},a]of e)a.newX=i,a.newY=s,a.newPageIndex=o,n||(n=i!==a.savedX||s!==a.savedY||o!==a.savedPageIndex);if(!n)return!1;const r=(i,s,o,a)=>{if(v(this,Cn).has(i.id)){const c=v(this,$n).get(a);c?i._setParentAndPosition(c,s,o):(i.pageIndex=a,i.x=s,i.y=o)}};return this.addCommands({cmd:()=>{for(const[i,{newX:s,newY:o,newPageIndex:a}]of e)r(i,s,o,a)},undo:()=>{for(const[i,{savedX:s,savedY:o,savedPageIndex:a}]of e)r(i,s,o,a)},mustExec:!0}),!0}dragSelectedEditors(e,n){if(v(this,Cs))for(const r of v(this,Cs).keys())r.drag(e,n)}rebuild(e){if(e.parent===null){const n=this.getLayer(e.pageIndex);n?(n.changeParent(e),n.addOrRebuild(e)):(this.addEditor(e),this.addToAnnotationStorage(e),e.rebuild())}else e.parent.addOrRebuild(e)}get isEditorHandlingKeyboard(){var e;return((e=this.getActive())==null?void 0:e.shouldGetKeyboardEvents())||v(this,Ct).size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(e){return v(this,Qr)===e}getActive(){return v(this,Qr)}getMode(){return v(this,zn)}get imageManager(){return lt(this,"imageManager",new qE)}getSelectionBoxes(e){if(!e)return null;const n=document.getSelection();for(let d=0,h=n.rangeCount;d<h;d++)if(!e.contains(n.getRangeAt(d).commonAncestorContainer))return null;const{x:r,y:i,width:s,height:o}=e.getBoundingClientRect();let a;switch(e.getAttribute("data-main-rotation")){case"90":a=(d,h,f,p)=>({x:(h-i)/o,y:1-(d+f-r)/s,width:p/o,height:f/s});break;case"180":a=(d,h,f,p)=>({x:1-(d+f-r)/s,y:1-(h+p-i)/o,width:f/s,height:p/o});break;case"270":a=(d,h,f,p)=>({x:1-(h+p-i)/o,y:(d-r)/s,width:p/o,height:f/s});break;default:a=(d,h,f,p)=>({x:(d-r)/s,y:(h-i)/o,width:f/s,height:p/o});break}const c=[];for(let d=0,h=n.rangeCount;d<h;d++){const f=n.getRangeAt(d);if(!f.collapsed)for(const{x:p,y:m,width:y,height:b}of f.getClientRects())y===0||b===0||c.push(a(p,m,y,b))}return c.length===0?null:c}addChangedExistingAnnotation({annotationElementId:e,id:n}){(v(this,wd)||j(this,wd,new Map)).set(e,n)}removeChangedExistingAnnotation({annotationElementId:e}){var n;(n=v(this,wd))==null||n.delete(e)}renderAnnotationElement(e){var i;const n=(i=v(this,wd))==null?void 0:i.get(e.data.id);if(!n)return;const r=v(this,Co).getRawValue(n);r&&(v(this,zn)===st.NONE&&!r.hasBeenModified||r.renderAnnotationElement(e))}};vd=new WeakMap,Qr=new WeakMap,Cn=new WeakMap,$n=new WeakMap,bd=new WeakMap,Co=new WeakMap,wd=new WeakMap,zi=new WeakMap,xd=new WeakMap,uc=new WeakMap,Cs=new WeakMap,ji=new WeakMap,dc=new WeakMap,Vp=new WeakMap,Gp=new WeakMap,_s=new WeakMap,Sd=new WeakMap,Xa=new WeakMap,As=new WeakMap,sb=new WeakMap,Ka=new WeakMap,qp=new WeakMap,hc=new WeakMap,Yp=new WeakMap,Ed=new WeakMap,zn=new WeakMap,Ct=new WeakMap,_o=new WeakMap,fc=new WeakMap,Xp=new WeakMap,Kp=new WeakMap,Qp=new WeakMap,Zp=new WeakMap,Jp=new WeakMap,eg=new WeakMap,tg=new WeakMap,ng=new WeakMap,rg=new WeakMap,ig=new WeakMap,sg=new WeakMap,og=new WeakMap,ag=new WeakMap,Qa=new WeakMap,ks=new WeakMap,Ao=new WeakMap,lg=new WeakMap,Ee=new WeakSet,Yv=function({anchorNode:e}){return e.nodeType===Node.TEXT_NODE?e.parentElement:e},xD=function(){const e=document.getSelection();if(!e||e.isCollapsed)return;const r=B(this,Ee,Yv).call(this,e).closest(".textLayer"),i=this.getSelectionBoxes(r);i&&(v(this,As)||j(this,As,new PX(this)),v(this,As).show(r,i,this.direction==="ltr"))},SD=function(){var s,o,a;const e=document.getSelection();if(!e||e.isCollapsed){v(this,_o)&&((s=v(this,As))==null||s.hide(),j(this,_o,null),B(this,Ee,hr).call(this,{hasSelectedText:!1}));return}const{anchorNode:n}=e;if(n===v(this,_o))return;if(!B(this,Ee,Yv).call(this,e).closest(".textLayer")){v(this,_o)&&((o=v(this,As))==null||o.hide(),j(this,_o,null),B(this,Ee,hr).call(this,{hasSelectedText:!1}));return}if((a=v(this,As))==null||a.hide(),j(this,_o,n),B(this,Ee,hr).call(this,{hasSelectedText:!0}),!(v(this,zn)!==st.HIGHLIGHT&&v(this,zn)!==st.NONE)&&(v(this,zn)===st.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),j(this,Xa,this.isShiftKeyDown),!this.isShiftKeyDown)){const c=this._signal,d=h=>{h.type==="pointerup"&&h.button!==0||(window.removeEventListener("pointerup",d),window.removeEventListener("blur",d),h.type==="pointerup"&&B(this,Ee,Xv).call(this,"main_toolbar"))};window.addEventListener("pointerup",d,{signal:c}),window.addEventListener("blur",d,{signal:c})}},Xv=function(e=""){v(this,zn)===st.HIGHLIGHT?this.highlightSelection(e):v(this,Vp)&&B(this,Ee,xD).call(this)},ED=function(){document.addEventListener("selectionchange",B(this,Ee,SD).bind(this),{signal:this._signal})},CD=function(){const e=this._signal;window.addEventListener("focus",v(this,Qp),{signal:e}),window.addEventListener("blur",v(this,Kp),{signal:e})},_D=function(){window.removeEventListener("focus",v(this,Qp)),window.removeEventListener("blur",v(this,Kp))},KE=function(){const e=this._signal;window.addEventListener("keydown",v(this,tg),{signal:e}),window.addEventListener("keyup",v(this,ng),{signal:e})},AD=function(){window.removeEventListener("keydown",v(this,tg)),window.removeEventListener("keyup",v(this,ng))},QE=function(){const e=this._signal;document.addEventListener("copy",v(this,Zp),{signal:e}),document.addEventListener("cut",v(this,Jp),{signal:e}),document.addEventListener("paste",v(this,eg),{signal:e})},ZE=function(){document.removeEventListener("copy",v(this,Zp)),document.removeEventListener("cut",v(this,Jp)),document.removeEventListener("paste",v(this,eg))},kD=function(){const e=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:e}),document.addEventListener("drop",this.drop.bind(this),{signal:e})},hr=function(e){Object.entries(e).some(([r,i])=>v(this,ag)[r]!==i)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(v(this,ag),e)}),v(this,zn)===st.HIGHLIGHT&&e.hasSelectedEditor===!1&&B(this,Ee,ja).call(this,[[Xe.HIGHLIGHT_FREE,!0]]))},ja=function(e){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:e})},RD=function(){if(!v(this,Ka)){j(this,Ka,!0);for(const e of v(this,$n).values())e.enable();for(const e of v(this,Cn).values())e.enable()}},TD=function(){if(this.unselectAll(),v(this,Ka)){j(this,Ka,!1);for(const e of v(this,$n).values())e.disable();for(const e of v(this,Cn).values())e.disable()}},JE=function(e){const n=v(this,$n).get(e.pageIndex);n?n.addOrRebuild(e):(this.addEditor(e),this.addToAnnotationStorage(e))},PD=function(){let e=null;for(e of v(this,Ct));return e},Qf=function(){if(v(this,Cn).size===0)return!0;if(v(this,Cn).size===1)for(const e of v(this,Cn).values())return e.isEmpty();return!1},eC=function(e){for(const n of v(this,Ct))n.unselect();v(this,Ct).clear();for(const n of e)n.isEmpty()||(v(this,Ct).add(n),n.select());B(this,Ee,hr).call(this,{hasSelectedEditor:this.hasSelection})},Te(ud,"TRANSLATE_SMALL",1),Te(ud,"TRANSLATE_BIG",10);let iu=ud;var ko,Ro,Bi,To,Zr,Cd,Hi,cg,tC;const bo=class bo{constructor(e){W(this,cg);W(this,ko,"");W(this,Ro,!1);W(this,Bi,null);W(this,To,null);W(this,Zr,null);W(this,Cd,!1);W(this,Hi,null);j(this,Hi,e)}static initialize(e){bo._l10nPromise||(bo._l10nPromise=e)}async render(){const e=j(this,Bi,document.createElement("button"));e.className="altText";const n=await bo._l10nPromise.get("pdfjs-editor-alt-text-button-label");e.textContent=n,e.setAttribute("aria-label",n),e.tabIndex="0";const r=v(this,Hi)._uiManager._signal;e.addEventListener("contextmenu",Fr,{signal:r}),e.addEventListener("pointerdown",s=>s.stopPropagation(),{signal:r});const i=s=>{s.preventDefault(),v(this,Hi)._uiManager.editAltText(v(this,Hi))};return e.addEventListener("click",i,{capture:!0,signal:r}),e.addEventListener("keydown",s=>{s.target===e&&s.key==="Enter"&&(j(this,Cd,!0),i(s))},{signal:r}),await B(this,cg,tC).call(this),e}finish(){v(this,Bi)&&(v(this,Bi).focus({focusVisible:v(this,Cd)}),j(this,Cd,!1))}isEmpty(){return!v(this,ko)&&!v(this,Ro)}get data(){return{altText:v(this,ko),decorative:v(this,Ro)}}set data({altText:e,decorative:n}){v(this,ko)===e&&v(this,Ro)===n||(j(this,ko,e),j(this,Ro,n),B(this,cg,tC).call(this))}toggle(e=!1){v(this,Bi)&&(!e&&v(this,Zr)&&(clearTimeout(v(this,Zr)),j(this,Zr,null)),v(this,Bi).disabled=!e)}destroy(){var e;(e=v(this,Bi))==null||e.remove(),j(this,Bi,null),j(this,To,null)}};ko=new WeakMap,Ro=new WeakMap,Bi=new WeakMap,To=new WeakMap,Zr=new WeakMap,Cd=new WeakMap,Hi=new WeakMap,cg=new WeakSet,tC=async function(){var i;const e=v(this,Bi);if(!e)return;if(!v(this,ko)&&!v(this,Ro)){e.classList.remove("done"),(i=v(this,To))==null||i.remove();return}e.classList.add("done"),bo._l10nPromise.get("pdfjs-editor-alt-text-edit-button-label").then(s=>{e.setAttribute("aria-label",s)});let n=v(this,To);if(!n){j(this,To,n=document.createElement("span")),n.className="tooltip",n.setAttribute("role","tooltip");const s=n.id=`alt-text-tooltip-${v(this,Hi).id}`;e.setAttribute("aria-describedby",s);const o=100,a=v(this,Hi)._uiManager._signal;a.addEventListener("abort",()=>{clearTimeout(v(this,Zr)),j(this,Zr,null)},{once:!0}),e.addEventListener("mouseenter",()=>{j(this,Zr,setTimeout(()=>{j(this,Zr,null),v(this,To).classList.add("show"),v(this,Hi)._reportTelemetry({action:"alt_text_tooltip"})},o))},{signal:a}),e.addEventListener("mouseleave",()=>{var c;v(this,Zr)&&(clearTimeout(v(this,Zr)),j(this,Zr,null)),(c=v(this,To))==null||c.classList.remove("show")},{signal:a})}n.innerText=v(this,Ro)?await bo._l10nPromise.get("pdfjs-editor-alt-text-decorative-tooltip"):v(this,ko),n.parentNode||e.append(n);const r=v(this,Hi).getImageForAltText();r==null||r.setAttribute("aria-describedby",n.id)},Te(bo,"_l10nPromise",null);let B0=bo;var pc,Wi,er,_d,gc,jn,mc,Ad,kd,tr,ug,yc,Za,dg,vc,Po,Rs,Rd,Td,xi,hg,ob,et,nC,fg,rC,iC,ID,ND,sC,oC,aC,MD,OD,LD,DD,lC,Zf;const Lt=class Lt{constructor(e){W(this,et);W(this,pc,null);W(this,Wi,null);W(this,er,null);W(this,_d,!1);W(this,gc,!1);W(this,jn,null);W(this,mc,null);W(this,Ad,this.focusin.bind(this));W(this,kd,this.focusout.bind(this));W(this,tr,null);W(this,ug,"");W(this,yc,!1);W(this,Za,null);W(this,dg,!1);W(this,vc,!1);W(this,Po,!1);W(this,Rs,null);W(this,Rd,0);W(this,Td,0);W(this,xi,null);Te(this,"_initialOptions",Object.create(null));Te(this,"_isVisible",!0);Te(this,"_uiManager",null);Te(this,"_focusEventsAllowed",!0);Te(this,"_l10nPromise",null);W(this,hg,!1);W(this,ob,Lt._zIndex++);this.constructor===Lt&&Tt("Cannot initialize AnnotationEditor."),this.parent=e.parent,this.id=e.id,this.width=this.height=null,this.pageIndex=e.parent.pageIndex,this.name=e.name,this.div=null,this._uiManager=e.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=e.isCentered,this._structTreeParentId=null;const{rotation:n,rawDims:{pageWidth:r,pageHeight:i,pageX:s,pageY:o}}=this.parent.viewport;this.rotation=n,this.pageRotation=(360+n-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[r,i],this.pageTranslation=[s,o];const[a,c]=this.parentDimensions;this.x=e.x/a,this.y=e.y/c,this.isAttachedToDOM=!1,this.deleted=!1}static get _resizerKeyboardManager(){const e=Lt.prototype._resizeWithKeyboard,n=iu.TRANSLATE_SMALL,r=iu.TRANSLATE_BIG;return lt(this,"_resizerKeyboardManager",new Om([[["ArrowLeft","mac+ArrowLeft"],e,{args:[-n,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e,{args:[-r,0]}],[["ArrowRight","mac+ArrowRight"],e,{args:[n,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e,{args:[r,0]}],[["ArrowUp","mac+ArrowUp"],e,{args:[0,-n]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e,{args:[0,-r]}],[["ArrowDown","mac+ArrowDown"],e,{args:[0,n]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e,{args:[0,r]}],[["Escape","mac+Escape"],Lt.prototype._stopResizingWithKeyboard]]))}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return lt(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(e){const n=new OX({id:e.parent.getNextId(),parent:e.parent,uiManager:e._uiManager});n.annotationElementId=e.annotationElementId,n.deleted=!0,n._uiManager.addToAnnotationStorage(n)}static initialize(e,n,r){if(Lt._l10nPromise||(Lt._l10nPromise=new Map(["pdfjs-editor-alt-text-button-label","pdfjs-editor-alt-text-edit-button-label","pdfjs-editor-alt-text-decorative-tooltip","pdfjs-editor-resizer-label-topLeft","pdfjs-editor-resizer-label-topMiddle","pdfjs-editor-resizer-label-topRight","pdfjs-editor-resizer-label-middleRight","pdfjs-editor-resizer-label-bottomRight","pdfjs-editor-resizer-label-bottomMiddle","pdfjs-editor-resizer-label-bottomLeft","pdfjs-editor-resizer-label-middleLeft"].map(s=>[s,e.get(s.replaceAll(/([A-Z])/g,o=>`-${o.toLowerCase()}`))]))),r!=null&&r.strings)for(const s of r.strings)Lt._l10nPromise.set(s,e.get(s));if(Lt._borderLineWidth!==-1)return;const i=getComputedStyle(document.documentElement);Lt._borderLineWidth=parseFloat(i.getPropertyValue("--outline-width"))||0}static updateDefaultParams(e,n){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(e){return!1}static paste(e,n){Tt("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return v(this,hg)}set _isDraggable(e){var n;j(this,hg,e),(n=this.div)==null||n.classList.toggle("draggable",e)}get isEnterHandled(){return!0}center(){const[e,n]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*n/(e*2),this.y+=this.width*e/(n*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*n/(e*2),this.y-=this.width*e/(n*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(e){this._uiManager.addCommands(e)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=v(this,ob)}setParent(e){e!==null?(this.pageIndex=e.pageIndex,this.pageDimensions=e.pageDimensions):B(this,et,Zf).call(this),this.parent=e}focusin(e){this._focusEventsAllowed&&(v(this,yc)?j(this,yc,!1):this.parent.setSelected(this))}focusout(e){var r;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const n=e.relatedTarget;n!=null&&n.closest(`#${this.id}`)||(e.preventDefault(),(r=this.parent)!=null&&r.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(e,n,r,i){const[s,o]=this.parentDimensions;[r,i]=this.screenToPageTranslation(r,i),this.x=(e+r)/s,this.y=(n+i)/o,this.fixAndSetPosition()}translate(e,n){B(this,et,nC).call(this,this.parentDimensions,e,n)}translateInPage(e,n){v(this,Za)||j(this,Za,[this.x,this.y]),B(this,et,nC).call(this,this.pageDimensions,e,n),this.div.scrollIntoView({block:"nearest"})}drag(e,n){v(this,Za)||j(this,Za,[this.x,this.y]);const[r,i]=this.parentDimensions;if(this.x+=e/r,this.y+=n/i,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:d,y:h}=this.div.getBoundingClientRect();this.parent.findNewParent(this,d,h)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:s,y:o}=this;const[a,c]=this.getBaseTranslation();s+=a,o+=c,this.div.style.left=`${(100*s).toFixed(2)}%`,this.div.style.top=`${(100*o).toFixed(2)}%`,this.div.scrollIntoView({block:"nearest"})}get _hasBeenMoved(){return!!v(this,Za)&&(v(this,Za)[0]!==this.x||v(this,Za)[1]!==this.y)}getBaseTranslation(){const[e,n]=this.parentDimensions,{_borderLineWidth:r}=Lt,i=r/e,s=r/n;switch(this.rotation){case 90:return[-i,s];case 180:return[i,s];case 270:return[i,-s];default:return[-i,-s]}}get _mustFixPosition(){return!0}fixAndSetPosition(e=this.rotation){const[n,r]=this.pageDimensions;let{x:i,y:s,width:o,height:a}=this;if(o*=n,a*=r,i*=n,s*=r,this._mustFixPosition)switch(e){case 0:i=Math.max(0,Math.min(n-o,i)),s=Math.max(0,Math.min(r-a,s));break;case 90:i=Math.max(0,Math.min(n-a,i)),s=Math.min(r,Math.max(o,s));break;case 180:i=Math.min(n,Math.max(o,i)),s=Math.min(r,Math.max(a,s));break;case 270:i=Math.min(n,Math.max(a,i)),s=Math.max(0,Math.min(r-o,s));break}this.x=i/=n,this.y=s/=r;const[c,d]=this.getBaseTranslation();i+=c,s+=d;const{style:h}=this.div;h.left=`${(100*i).toFixed(2)}%`,h.top=`${(100*s).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(e,n){var r;return B(r=Lt,fg,rC).call(r,e,n,this.parentRotation)}pageTranslationToScreen(e,n){var r;return B(r=Lt,fg,rC).call(r,e,n,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:e,pageDimensions:[n,r]}=this,i=n*e,s=r*e;return Or.isCSSRoundSupported?[Math.round(i),Math.round(s)]:[i,s]}setDims(e,n){const[r,i]=this.parentDimensions;this.div.style.width=`${(100*e/r).toFixed(2)}%`,v(this,gc)||(this.div.style.height=`${(100*n/i).toFixed(2)}%`)}fixDims(){const{style:e}=this.div,{height:n,width:r}=e,i=r.endsWith("%"),s=!v(this,gc)&&n.endsWith("%");if(i&&s)return;const[o,a]=this.parentDimensions;i||(e.width=`${(100*parseFloat(r)/o).toFixed(2)}%`),!v(this,gc)&&!s&&(e.height=`${(100*parseFloat(n)/a).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}altTextFinish(){var e;(e=v(this,er))==null||e.finish()}async addEditToolbar(){return v(this,tr)||v(this,vc)?v(this,tr):(j(this,tr,new VE(this)),this.div.append(v(this,tr).render()),v(this,er)&&v(this,tr).addAltTextButton(await v(this,er).render()),v(this,tr))}removeEditToolbar(){var e;v(this,tr)&&(v(this,tr).remove(),j(this,tr,null),(e=v(this,er))==null||e.destroy())}getClientDimensions(){return this.div.getBoundingClientRect()}async addAltTextButton(){v(this,er)||(B0.initialize(Lt._l10nPromise),j(this,er,new B0(this)),v(this,pc)&&(v(this,er).data=v(this,pc),j(this,pc,null)),await this.addEditToolbar())}get altTextData(){var e;return(e=v(this,er))==null?void 0:e.data}set altTextData(e){v(this,er)&&(v(this,er).data=e)}hasAltText(){var e;return!((e=v(this,er))!=null&&e.isEmpty())}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.tabIndex=v(this,_d)?-1:0,this._isVisible||this.div.classList.add("hidden"),this.setInForeground();const e=this._uiManager._signal;this.div.addEventListener("focusin",v(this,Ad),{signal:e}),this.div.addEventListener("focusout",v(this,kd),{signal:e});const[n,r]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*r/n).toFixed(2)}%`,this.div.style.maxHeight=`${(100*n/r).toFixed(2)}%`);const[i,s]=this.getInitialTranslation();return this.translate(i,s),j0(this,this.div,["pointerdown"]),this.div}pointerdown(e){const{isMac:n}=Or.platform;if(e.button!==0||e.ctrlKey&&n){e.preventDefault();return}if(j(this,yc,!0),this._isDraggable){B(this,et,MD).call(this,e);return}B(this,et,aC).call(this,e)}moveInDOM(){v(this,Rs)&&clearTimeout(v(this,Rs)),j(this,Rs,setTimeout(()=>{var e;j(this,Rs,null),(e=this.parent)==null||e.moveEditorInDOM(this)},0))}_setParentAndPosition(e,n,r){e.changeParent(this),this.x=n,this.y=r,this.fixAndSetPosition()}getRect(e,n,r=this.rotation){const i=this.parentScale,[s,o]=this.pageDimensions,[a,c]=this.pageTranslation,d=e/i,h=n/i,f=this.x*s,p=this.y*o,m=this.width*s,y=this.height*o;switch(r){case 0:return[f+d+a,o-p-h-y+c,f+d+m+a,o-p-h+c];case 90:return[f+h+a,o-p+d+c,f+h+y+a,o-p+d+m+c];case 180:return[f-d-m+a,o-p+h+c,f-d+a,o-p+h+y+c];case 270:return[f-h-y+a,o-p-d-m+c,f-h+a,o-p-d+c];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(e,n){const[r,i,s,o]=e,a=s-r,c=o-i;switch(this.rotation){case 0:return[r,n-o,a,c];case 90:return[r,n-i,c,a];case 180:return[s,n-i,a,c];case 270:return[s,n-o,c,a];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){j(this,vc,!0)}disableEditMode(){j(this,vc,!1)}isInEditMode(){return v(this,vc)}shouldGetKeyboardEvents(){return v(this,Po)}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){var n,r;const e=this._uiManager._signal;(n=this.div)==null||n.addEventListener("focusin",v(this,Ad),{signal:e}),(r=this.div)==null||r.addEventListener("focusout",v(this,kd),{signal:e})}rotate(e){}serialize(e=!1,n=null){Tt("An editor must be serializable")}static deserialize(e,n,r){const i=new this.prototype.constructor({parent:n,id:n.getNextId(),uiManager:r});i.rotation=e.rotation,j(i,pc,e.accessibilityData);const[s,o]=i.pageDimensions,[a,c,d,h]=i.getRectInCurrentCoords(e.rect,o);return i.x=a/s,i.y=c/o,i.width=d/s,i.height=h/o,i}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){if(this.div.removeEventListener("focusin",v(this,Ad)),this.div.removeEventListener("focusout",v(this,kd)),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),v(this,Rs)&&(clearTimeout(v(this,Rs)),j(this,Rs,null)),B(this,et,Zf).call(this),this.removeEditToolbar(),v(this,xi)){for(const e of v(this,xi).values())clearTimeout(e);j(this,xi,null)}this.parent=null}get isResizable(){return!1}makeResizable(){this.isResizable&&(B(this,et,ID).call(this),v(this,jn).classList.remove("hidden"),j0(this,this.div,["keydown"]))}get toolbarPosition(){return null}keydown(e){if(!this.isResizable||e.target!==this.div||e.key!=="Enter")return;this._uiManager.setSelected(this),j(this,mc,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const n=v(this,jn).children;if(!v(this,Wi)){j(this,Wi,Array.from(n));const o=B(this,et,OD).bind(this),a=B(this,et,LD).bind(this),c=this._uiManager._signal;for(const d of v(this,Wi)){const h=d.getAttribute("data-resizer-name");d.setAttribute("role","spinbutton"),d.addEventListener("keydown",o,{signal:c}),d.addEventListener("blur",a,{signal:c}),d.addEventListener("focus",B(this,et,DD).bind(this,h),{signal:c}),Lt._l10nPromise.get(`pdfjs-editor-resizer-label-${h}`).then(f=>d.setAttribute("aria-label",f))}}const r=v(this,Wi)[0];let i=0;for(const o of n){if(o===r)break;i++}const s=(360-this.rotation+this.parentRotation)%360/90*(v(this,Wi).length/4);if(s!==i){if(s<i)for(let a=0;a<i-s;a++)v(this,jn).append(v(this,jn).firstChild);else if(s>i)for(let a=0;a<s-i;a++)v(this,jn).firstChild.before(v(this,jn).lastChild);let o=0;for(const a of n){const d=v(this,Wi)[o++].getAttribute("data-resizer-name");Lt._l10nPromise.get(`pdfjs-editor-resizer-label-${d}`).then(h=>a.setAttribute("aria-label",h))}}B(this,et,lC).call(this,0),j(this,Po,!0),v(this,jn).firstChild.focus({focusVisible:!0}),e.preventDefault(),e.stopImmediatePropagation()}_resizeWithKeyboard(e,n){v(this,Po)&&B(this,et,oC).call(this,v(this,ug),{movementX:e,movementY:n})}_stopResizingWithKeyboard(){B(this,et,Zf).call(this),this.div.focus()}select(){var e,n;if(this.makeResizable(),(e=this.div)==null||e.classList.add("selectedEditor"),!v(this,tr)){this.addEditToolbar().then(()=>{var r,i;(r=this.div)!=null&&r.classList.contains("selectedEditor")&&((i=v(this,tr))==null||i.show())});return}(n=v(this,tr))==null||n.show()}unselect(){var e,n,r,i;(e=v(this,jn))==null||e.classList.add("hidden"),(n=this.div)==null||n.classList.remove("selectedEditor"),(r=this.div)!=null&&r.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),(i=v(this,tr))==null||i.hide()}updateParams(e,n){}disableEditing(){}enableEditing(){}enterInEditMode(){}getImageForAltText(){return null}get contentDiv(){return this.div}get isEditing(){return v(this,dg)}set isEditing(e){j(this,dg,e),this.parent&&(e?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(e,n){j(this,gc,!0);const r=e/n,{style:i}=this.div;i.aspectRatio=r,i.height="auto"}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(e,n=!1){if(n){v(this,xi)||j(this,xi,new Map);const{action:r}=e;let i=v(this,xi).get(r);i&&clearTimeout(i),i=setTimeout(()=>{this._reportTelemetry(e),v(this,xi).delete(r),v(this,xi).size===0&&j(this,xi,null)},Lt._telemetryTimeout),v(this,xi).set(r,i);return}e.type||(e.type=this.editorType),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:e}})}show(e=this._isVisible){this.div.classList.toggle("hidden",!e),this._isVisible=e}enable(){this.div&&(this.div.tabIndex=0),j(this,_d,!1)}disable(){this.div&&(this.div.tabIndex=-1),j(this,_d,!0)}renderAnnotationElement(e){let n=e.container.querySelector(".annotationContent");if(!n)n=document.createElement("div"),n.classList.add("annotationContent",this.editorType),e.container.prepend(n);else if(n.nodeName==="CANVAS"){const r=n;n=document.createElement("div"),n.classList.add("annotationContent",this.editorType),r.before(n)}return n}resetAnnotationElement(e){const{firstChild:n}=e.container;n.nodeName==="DIV"&&n.classList.contains("annotationContent")&&n.remove()}};pc=new WeakMap,Wi=new WeakMap,er=new WeakMap,_d=new WeakMap,gc=new WeakMap,jn=new WeakMap,mc=new WeakMap,Ad=new WeakMap,kd=new WeakMap,tr=new WeakMap,ug=new WeakMap,yc=new WeakMap,Za=new WeakMap,dg=new WeakMap,vc=new WeakMap,Po=new WeakMap,Rs=new WeakMap,Rd=new WeakMap,Td=new WeakMap,xi=new WeakMap,hg=new WeakMap,ob=new WeakMap,et=new WeakSet,nC=function([e,n],r,i){[r,i]=this.screenToPageTranslation(r,i),this.x+=r/e,this.y+=i/n,this.fixAndSetPosition()},fg=new WeakSet,rC=function(e,n,r){switch(r){case 90:return[n,-e];case 180:return[-e,-n];case 270:return[-n,e];default:return[e,n]}},iC=function(e){switch(e){case 90:{const[n,r]=this.pageDimensions;return[0,-n/r,r/n,0]}case 180:return[-1,0,0,-1];case 270:{const[n,r]=this.pageDimensions;return[0,n/r,-r/n,0]}default:return[1,0,0,1]}},ID=function(){if(v(this,jn))return;j(this,jn,document.createElement("div")),v(this,jn).classList.add("resizers");const e=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],n=this._uiManager._signal;for(const r of e){const i=document.createElement("div");v(this,jn).append(i),i.classList.add("resizer",r),i.setAttribute("data-resizer-name",r),i.addEventListener("pointerdown",B(this,et,ND).bind(this,r),{signal:n}),i.addEventListener("contextmenu",Fr,{signal:n}),i.tabIndex=-1}this.div.prepend(v(this,jn))},ND=function(e,n){var b;n.preventDefault();const{isMac:r}=Or.platform;if(n.button!==0||n.ctrlKey&&r)return;(b=v(this,er))==null||b.toggle(!1);const i=B(this,et,oC).bind(this,e),s=this._isDraggable;this._isDraggable=!1;const o=this._uiManager._signal,a={passive:!0,capture:!0,signal:o};this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",i,a),window.addEventListener("contextmenu",Fr,{signal:o});const c=this.x,d=this.y,h=this.width,f=this.height,p=this.parent.div.style.cursor,m=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(n.target).cursor;const y=()=>{var E;this.parent.togglePointerEvents(!0),(E=v(this,er))==null||E.toggle(!0),this._isDraggable=s,window.removeEventListener("pointerup",y),window.removeEventListener("blur",y),window.removeEventListener("pointermove",i,a),window.removeEventListener("contextmenu",Fr),this.parent.div.style.cursor=p,this.div.style.cursor=m,B(this,et,sC).call(this,c,d,h,f)};window.addEventListener("pointerup",y,{signal:o}),window.addEventListener("blur",y,{signal:o})},sC=function(e,n,r,i){const s=this.x,o=this.y,a=this.width,c=this.height;s===e&&o===n&&a===r&&c===i||this.addCommands({cmd:()=>{this.width=a,this.height=c,this.x=s,this.y=o;const[d,h]=this.parentDimensions;this.setDims(d*a,h*c),this.fixAndSetPosition()},undo:()=>{this.width=r,this.height=i,this.x=e,this.y=n;const[d,h]=this.parentDimensions;this.setDims(d*r,h*i),this.fixAndSetPosition()},mustExec:!0})},oC=function(e,n){const[r,i]=this.parentDimensions,s=this.x,o=this.y,a=this.width,c=this.height,d=Lt.MIN_SIZE/r,h=Lt.MIN_SIZE/i,f=K=>Math.round(K*1e4)/1e4,p=B(this,et,iC).call(this,this.rotation),m=(K,q)=>[p[0]*K+p[2]*q,p[1]*K+p[3]*q],y=B(this,et,iC).call(this,360-this.rotation),b=(K,q)=>[y[0]*K+y[2]*q,y[1]*K+y[3]*q];let E,x,C=!1,S=!1;switch(e){case"topLeft":C=!0,E=(K,q)=>[0,0],x=(K,q)=>[K,q];break;case"topMiddle":E=(K,q)=>[K/2,0],x=(K,q)=>[K/2,q];break;case"topRight":C=!0,E=(K,q)=>[K,0],x=(K,q)=>[0,q];break;case"middleRight":S=!0,E=(K,q)=>[K,q/2],x=(K,q)=>[0,q/2];break;case"bottomRight":C=!0,E=(K,q)=>[K,q],x=(K,q)=>[0,0];break;case"bottomMiddle":E=(K,q)=>[K/2,q],x=(K,q)=>[K/2,0];break;case"bottomLeft":C=!0,E=(K,q)=>[0,q],x=(K,q)=>[K,0];break;case"middleLeft":S=!0,E=(K,q)=>[0,q/2],x=(K,q)=>[K,q/2];break}const _=E(a,c),k=x(a,c);let N=m(...k);const T=f(s+N[0]),M=f(o+N[1]);let O=1,R=1,[F,z]=this.screenToPageTranslation(n.movementX,n.movementY);if([F,z]=b(F/r,z/i),C){const K=Math.hypot(a,c);O=R=Math.max(Math.min(Math.hypot(k[0]-_[0]-F,k[1]-_[1]-z)/K,1/a,1/c),d/a,h/c)}else S?O=Math.max(d,Math.min(1,Math.abs(k[0]-_[0]-F)))/a:R=Math.max(h,Math.min(1,Math.abs(k[1]-_[1]-z)))/c;const U=f(a*O),D=f(c*R);N=m(...x(U,D));const V=T-N[0],H=M-N[1];this.width=U,this.height=D,this.x=V,this.y=H,this.setDims(r*U,i*D),this.fixAndSetPosition()},aC=function(e){const{isMac:n}=Or.platform;e.ctrlKey&&!n||e.shiftKey||e.metaKey&&n?this.parent.toggleSelected(this):this.parent.setSelected(this)},MD=function(e){const n=this._uiManager.isSelected(this);this._uiManager.setUpDragSession();let r,i;const s=this._uiManager._signal;n&&(this.div.classList.add("moving"),r={passive:!0,capture:!0,signal:s},j(this,Rd,e.clientX),j(this,Td,e.clientY),i=a=>{const{clientX:c,clientY:d}=a,[h,f]=this.screenToPageTranslation(c-v(this,Rd),d-v(this,Td));j(this,Rd,c),j(this,Td,d),this._uiManager.dragSelectedEditors(h,f)},window.addEventListener("pointermove",i,r));const o=()=>{window.removeEventListener("pointerup",o),window.removeEventListener("blur",o),n&&(this.div.classList.remove("moving"),window.removeEventListener("pointermove",i,r)),j(this,yc,!1),this._uiManager.endDragSession()||B(this,et,aC).call(this,e)};window.addEventListener("pointerup",o,{signal:s}),window.addEventListener("blur",o,{signal:s})},OD=function(e){Lt._resizerKeyboardManager.exec(this,e)},LD=function(e){var n;v(this,Po)&&((n=e.relatedTarget)==null?void 0:n.parentNode)!==v(this,jn)&&B(this,et,Zf).call(this)},DD=function(e){j(this,ug,v(this,Po)?e:"")},lC=function(e){if(v(this,Wi))for(const n of v(this,Wi))n.tabIndex=e},Zf=function(){if(j(this,Po,!1),B(this,et,lC).call(this,-1),v(this,mc)){const{savedX:e,savedY:n,savedWidth:r,savedHeight:i}=v(this,mc);B(this,et,sC).call(this,e,n,r,i),j(this,mc,null)}},W(Lt,fg),Te(Lt,"_borderLineWidth",-1),Te(Lt,"_colorManager",new XE),Te(Lt,"_zIndex",1),Te(Lt,"_telemetryTimeout",1e3);let _t=Lt;class OX extends _t{constructor(e){super(e),this.annotationElementId=e.annotationElementId,this.deleted=!0}serialize(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex}}}const UI=3285377520,bi=4294901760,xs=65535;class FD{constructor(e){this.h1=e?e&4294967295:UI,this.h2=e?e&4294967295:UI}update(e){let n,r;if(typeof e=="string"){n=new Uint8Array(e.length*2),r=0;for(let b=0,E=e.length;b<E;b++){const x=e.charCodeAt(b);x<=255?n[r++]=x:(n[r++]=x>>>8,n[r++]=x&255)}}else if(ArrayBuffer.isView(e))n=e.slice(),r=n.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const i=r>>2,s=r-i*4,o=new Uint32Array(n.buffer,0,i);let a=0,c=0,d=this.h1,h=this.h2;const f=3432918353,p=461845907,m=f&xs,y=p&xs;for(let b=0;b<i;b++)b&1?(a=o[b],a=a*f&bi|a*m&xs,a=a<<15|a>>>17,a=a*p&bi|a*y&xs,d^=a,d=d<<13|d>>>19,d=d*5+3864292196):(c=o[b],c=c*f&bi|c*m&xs,c=c<<15|c>>>17,c=c*p&bi|c*y&xs,h^=c,h=h<<13|h>>>19,h=h*5+3864292196);switch(a=0,s){case 3:a^=n[i*4+2]<<16;case 2:a^=n[i*4+1]<<8;case 1:a^=n[i*4],a=a*f&bi|a*m&xs,a=a<<15|a>>>17,a=a*p&bi|a*y&xs,i&1?d^=a:h^=a}this.h1=d,this.h2=h}hexdigest(){let e=this.h1,n=this.h2;return e^=n>>>1,e=e*3981806797&bi|e*36045&xs,n=n*4283543511&bi|((n<<16|e>>>16)*2950163797&bi)>>>16,e^=n>>>1,e=e*444984403&bi|e*60499&xs,n=n*3301882366&bi|((n<<16|e>>>16)*3120437893&bi)>>>16,e^=n>>>1,(e>>>0).toString(16).padStart(8,"0")+(n>>>0).toString(16).padStart(8,"0")}}const cC=Object.freeze({map:null,hash:"",transfer:void 0});var bc,Bn,ab,$D;class lA{constructor(){W(this,ab);W(this,bc,!1);W(this,Bn,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(e,n){const r=v(this,Bn).get(e);return r===void 0?n:Object.assign(n,r)}getRawValue(e){return v(this,Bn).get(e)}remove(e){if(v(this,Bn).delete(e),v(this,Bn).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const n of v(this,Bn).values())if(n instanceof _t)return;this.onAnnotationEditor(null)}}setValue(e,n){const r=v(this,Bn).get(e);let i=!1;if(r!==void 0)for(const[s,o]of Object.entries(n))r[s]!==o&&(i=!0,r[s]=o);else i=!0,v(this,Bn).set(e,n);i&&B(this,ab,$D).call(this),n instanceof _t&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(n.constructor._type)}has(e){return v(this,Bn).has(e)}getAll(){return v(this,Bn).size>0?tA(v(this,Bn)):null}setAll(e){for(const[n,r]of Object.entries(e))this.setValue(n,r)}get size(){return v(this,Bn).size}resetModified(){v(this,bc)&&(j(this,bc,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new zD(this)}get serializable(){if(v(this,Bn).size===0)return cC;const e=new Map,n=new FD,r=[],i=Object.create(null);let s=!1;for(const[o,a]of v(this,Bn)){const c=a instanceof _t?a.serialize(!1,i):a;c&&(e.set(o,c),n.update(`${o}:${JSON.stringify(c)}`),s||(s=!!c.bitmap))}if(s)for(const o of e.values())o.bitmap&&r.push(o.bitmap);return e.size>0?{map:e,hash:n.hexdigest(),transfer:r}:cC}get editorStats(){let e=null;const n=new Map;for(const r of v(this,Bn).values()){if(!(r instanceof _t))continue;const i=r.telemetryFinalData;if(!i)continue;const{type:s}=i;n.has(s)||n.set(s,Object.getPrototypeOf(r).constructor),e||(e=Object.create(null));const o=e[s]||(e[s]=new Map);for(const[a,c]of Object.entries(i)){if(a==="type")continue;let d=o.get(a);d||(d=new Map,o.set(a,d));const h=d.get(c)??0;d.set(c,h+1)}}for(const[r,i]of n)e[r]=i.computeTelemetryFinalData(e[r]);return e}}bc=new WeakMap,Bn=new WeakMap,ab=new WeakSet,$D=function(){v(this,bc)||(j(this,bc,!0),typeof this.onSetModified=="function"&&this.onSetModified())};var pg;class zD extends lA{constructor(n){super();W(this,pg);const{map:r,hash:i,transfer:s}=n.serializable,o=structuredClone(r,s?{transfer:s}:null);j(this,pg,{map:o,hash:i,transfer:s})}get print(){Tt("Should not call PrintAnnotationStorage.print")}get serializable(){return v(this,pg)}}pg=new WeakMap;var Pd;class LX{constructor({ownerDocument:e=globalThis.document,styleElement:n=null}){W(this,Pd,new Set);this._document=e,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(e){this.nativeFontFaces.add(e),this._document.fonts.add(e)}removeNativeFontFace(e){this.nativeFontFaces.delete(e),this._document.fonts.delete(e)}insertRule(e){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const n=this.styleElement.sheet;n.insertRule(e,n.cssRules.length)}clear(){for(const e of this.nativeFontFaces)this._document.fonts.delete(e);this.nativeFontFaces.clear(),v(this,Pd).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:e,_inspectFont:n}){if(!(!e||v(this,Pd).has(e.loadedName))){if(Rn(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:r,src:i,style:s}=e,o=new FontFace(r,i,s);this.addNativeFontFace(o);try{await o.load(),v(this,Pd).add(r),n==null||n(e)}catch{Je(`Cannot load system font: ${e.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(o)}return}Tt("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(e){if(e.attached||e.missingFile&&!e.systemFontInfo)return;if(e.attached=!0,e.systemFontInfo){await this.loadSystemFont(e);return}if(this.isFontLoadingAPISupported){const r=e.createNativeFontFace();if(r){this.addNativeFontFace(r);try{await r.loaded}catch(i){throw Je(`Failed to load font '${r.family}': '${i}'.`),e.disableFontFace=!0,i}}return}const n=e.createFontFaceRule();if(n){if(this.insertRule(n),this.isSyncFontLoadingSupported)return;await new Promise(r=>{const i=this._queueLoadingCallback(r);this._prepareFontLoadEvent(e,i)})}}get isFontLoadingAPISupported(){var n;const e=!!((n=this._document)!=null&&n.fonts);return lt(this,"isFontLoadingAPISupported",e)}get isSyncFontLoadingSupported(){let e=!1;return(sr||typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.userAgent)=="string"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(e=!0),lt(this,"isSyncFontLoadingSupported",e)}_queueLoadingCallback(e){function n(){for(Rn(!i.done,"completeRequest() cannot be called twice."),i.done=!0;r.length>0&&r[0].done;){const s=r.shift();setTimeout(s.callback,0)}}const{loadingRequests:r}=this,i={done:!1,complete:n,callback:e};return r.push(i),i}get _loadTestFont(){const e=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return lt(this,"_loadTestFont",e)}_prepareFontLoadEvent(e,n){function r(_,k){return _.charCodeAt(k)<<24|_.charCodeAt(k+1)<<16|_.charCodeAt(k+2)<<8|_.charCodeAt(k+3)&255}function i(_,k,N,T){const M=_.substring(0,k),O=_.substring(k+N);return M+T+O}let s,o;const a=this._document.createElement("canvas");a.width=1,a.height=1;const c=a.getContext("2d");let d=0;function h(_,k){if(++d>30){Je("Load test font never loaded."),k();return}if(c.font="30px "+_,c.fillText(".",0,20),c.getImageData(0,0,1,1).data[3]>0){k();return}setTimeout(h.bind(null,_,k))}const f=`lt${Date.now()}${this.loadTestFontId++}`;let p=this._loadTestFont;p=i(p,976,f.length,f);const y=16,b=1482184792;let E=r(p,y);for(s=0,o=f.length-3;s<o;s+=4)E=E-b+r(f,s)|0;s<f.length&&(E=E-b+r(f+"XXX",s)|0),p=i(p,y,4,vX(E));const x=`url(data:font/opentype;base64,${btoa(p)});`,C=`@font-face {font-family:"${f}";src:${x}}`;this.insertRule(C);const S=this._document.createElement("div");S.style.visibility="hidden",S.style.width=S.style.height="10px",S.style.position="absolute",S.style.top=S.style.left="0px";for(const _ of[e.loadedName,f]){const k=this._document.createElement("span");k.textContent="Hi",k.style.fontFamily=_,S.append(k)}this._document.body.append(S),h(f,()=>{S.remove(),n.complete()})}}Pd=new WeakMap;class DX{constructor(e,{disableFontFace:n=!1,inspectFont:r=null}){this.compiledGlyphs=Object.create(null);for(const i in e)this[i]=e[i];this.disableFontFace=n===!0,this._inspectFont=r}createNativeFontFace(){var n;if(!this.data||this.disableFontFace)return null;let e;if(!this.cssFontInfo)e=new FontFace(this.loadedName,this.data,{});else{const r={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(r.style=`oblique ${this.cssFontInfo.italicAngle}deg`),e=new FontFace(this.cssFontInfo.fontFamily,this.data,r)}return(n=this._inspectFont)==null||n.call(this,this),e}createFontFaceRule(){var i;if(!this.data||this.disableFontFace)return null;const e=oD(this.data),n=`url(data:${this.mimetype};base64,${btoa(e)});`;let r;if(!this.cssFontInfo)r=`@font-face {font-family:"${this.loadedName}";src:${n}}`;else{let s=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(s+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),r=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${s}src:${n}}`}return(i=this._inspectFont)==null||i.call(this,this,n),r}getPathGenerator(e,n){if(this.compiledGlyphs[n]!==void 0)return this.compiledGlyphs[n];let r;try{r=e.get(this.loadedName+"_path_"+n)}catch(s){Je(`getPathGenerator - ignoring character: "${s}".`)}if(!Array.isArray(r)||r.length===0)return this.compiledGlyphs[n]=function(s,o){};const i=[];for(let s=0,o=r.length;s<o;)switch(r[s++]){case go.BEZIER_CURVE_TO:{const[a,c,d,h,f,p]=r.slice(s,s+6);i.push(m=>m.bezierCurveTo(a,c,d,h,f,p)),s+=6}break;case go.MOVE_TO:{const[a,c]=r.slice(s,s+2);i.push(d=>d.moveTo(a,c)),s+=2}break;case go.LINE_TO:{const[a,c]=r.slice(s,s+2);i.push(d=>d.lineTo(a,c)),s+=2}break;case go.QUADRATIC_CURVE_TO:{const[a,c,d,h]=r.slice(s,s+4);i.push(f=>f.quadraticCurveTo(a,c,d,h)),s+=4}break;case go.RESTORE:i.push(a=>a.restore());break;case go.SAVE:i.push(a=>a.save());break;case go.SCALE:Rn(i.length===2,"Scale command is only valid at the third position.");break;case go.TRANSFORM:{const[a,c,d,h,f,p]=r.slice(s,s+6);i.push(m=>m.transform(a,c,d,h,f,p)),s+=6}break;case go.TRANSLATE:{const[a,c]=r.slice(s,s+2);i.push(d=>d.translate(a,c)),s+=2}break}return this.compiledGlyphs[n]=function(o,a){i[0](o),i[1](o),o.scale(a,-a);for(let c=2,d=i.length;c<d;c++)i[c](o)}}}if(sr){var uC=Promise.withResolvers(),gp=null;(async()=>{const e=await Gf(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),n=await Gf(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),r=await Gf(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),i=await Gf(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]);let s,o;return new Map(Object.entries({fs:e,http:n,https:r,url:i,canvas:s,path2d:o}))})().then(e=>{gp=e,uC.resolve()},e=>{Je(`loadPackages: ${e}`),gp=new Map,uC.resolve()})}class Zs{static get promise(){return uC.promise}static get(e){return gp==null?void 0:gp.get(e)}}const jD=function(t){return Zs.get("fs").promises.readFile(t).then(n=>new Uint8Array(n))};class FX extends rw{}class $X extends z0{_createCanvas(e,n){return Zs.get("canvas").createCanvas(e,n)}}class zX extends iw{_fetchData(e,n){return jD(e).then(r=>({cMapData:r,compressionType:n}))}}class jX extends sw{_fetchData(e){return jD(e)}}const mr={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function dC(t,e){if(!e)return;const n=e[2]-e[0],r=e[3]-e[1],i=new Path2D;i.rect(e[0],e[1],n,r),t.clip(i)}class Lm{constructor(){this.constructor===Lm&&Tt("Cannot initialize BaseShadingPattern.")}getPattern(){Tt("Abstract method `getPattern` called.")}}class BX extends Lm{constructor(e){super(),this._type=e[1],this._bbox=e[2],this._colorStops=e[3],this._p0=e[4],this._p1=e[5],this._r0=e[6],this._r1=e[7],this.matrix=null}_createGradient(e){let n;this._type==="axial"?n=e.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(n=e.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const r of this._colorStops)n.addColorStop(r[0],r[1]);return n}getPattern(e,n,r,i){let s;if(i===mr.STROKE||i===mr.FILL){const o=n.current.getClippedPathBoundingBox(i,Zt(e))||[0,0,0,0],a=Math.ceil(o[2]-o[0])||1,c=Math.ceil(o[3]-o[1])||1,d=n.cachedCanvases.getCanvas("pattern",a,c,!0),h=d.context;h.clearRect(0,0,h.canvas.width,h.canvas.height),h.beginPath(),h.rect(0,0,h.canvas.width,h.canvas.height),h.translate(-o[0],-o[1]),r=$e.transform(r,[1,0,0,1,o[0],o[1]]),h.transform(...n.baseTransform),this.matrix&&h.transform(...this.matrix),dC(h,this._bbox),h.fillStyle=this._createGradient(h),h.fill(),s=e.createPattern(d.canvas,"no-repeat");const f=new DOMMatrix(r);s.setTransform(f)}else dC(e,this._bbox),s=this._createGradient(e);return s}}function qS(t,e,n,r,i,s,o,a){const c=e.coords,d=e.colors,h=t.data,f=t.width*4;let p;c[n+1]>c[r+1]&&(p=n,n=r,r=p,p=s,s=o,o=p),c[r+1]>c[i+1]&&(p=r,r=i,i=p,p=o,o=a,a=p),c[n+1]>c[r+1]&&(p=n,n=r,r=p,p=s,s=o,o=p);const m=(c[n]+e.offsetX)*e.scaleX,y=(c[n+1]+e.offsetY)*e.scaleY,b=(c[r]+e.offsetX)*e.scaleX,E=(c[r+1]+e.offsetY)*e.scaleY,x=(c[i]+e.offsetX)*e.scaleX,C=(c[i+1]+e.offsetY)*e.scaleY;if(y>=C)return;const S=d[s],_=d[s+1],k=d[s+2],N=d[o],T=d[o+1],M=d[o+2],O=d[a],R=d[a+1],F=d[a+2],z=Math.round(y),U=Math.round(C);let D,V,H,K,q,G,te,Y;for(let Z=z;Z<=U;Z++){if(Z<E){const ne=Z<y?0:(y-Z)/(y-E);D=m-(m-b)*ne,V=S-(S-N)*ne,H=_-(_-T)*ne,K=k-(k-M)*ne}else{let ne;Z>C?ne=1:E===C?ne=0:ne=(E-Z)/(E-C),D=b-(b-x)*ne,V=N-(N-O)*ne,H=T-(T-R)*ne,K=M-(M-F)*ne}let X;Z<y?X=0:Z>C?X=1:X=(y-Z)/(y-C),q=m-(m-x)*X,G=S-(S-O)*X,te=_-(_-R)*X,Y=k-(k-F)*X;const Q=Math.round(Math.min(D,q)),J=Math.round(Math.max(D,q));let ie=f*Z+Q*4;for(let ne=Q;ne<=J;ne++)X=(D-ne)/(D-q),X<0?X=0:X>1&&(X=1),h[ie++]=V-(V-G)*X|0,h[ie++]=H-(H-te)*X|0,h[ie++]=K-(K-Y)*X|0,h[ie++]=255}}function HX(t,e,n){const r=e.coords,i=e.colors;let s,o;switch(e.type){case"lattice":const a=e.verticesPerRow,c=Math.floor(r.length/a)-1,d=a-1;for(s=0;s<c;s++){let h=s*a;for(let f=0;f<d;f++,h++)qS(t,n,r[h],r[h+1],r[h+a],i[h],i[h+1],i[h+a]),qS(t,n,r[h+a+1],r[h+1],r[h+a],i[h+a+1],i[h+1],i[h+a])}break;case"triangles":for(s=0,o=r.length;s<o;s+=3)qS(t,n,r[s],r[s+1],r[s+2],i[s],i[s+1],i[s+2]);break;default:throw new Error("illegal figure")}}class WX extends Lm{constructor(e){super(),this._coords=e[2],this._colors=e[3],this._figures=e[4],this._bounds=e[5],this._bbox=e[7],this._background=e[8],this.matrix=null}_createMeshCanvas(e,n,r){const a=Math.floor(this._bounds[0]),c=Math.floor(this._bounds[1]),d=Math.ceil(this._bounds[2])-a,h=Math.ceil(this._bounds[3])-c,f=Math.min(Math.ceil(Math.abs(d*e[0]*1.1)),3e3),p=Math.min(Math.ceil(Math.abs(h*e[1]*1.1)),3e3),m=d/f,y=h/p,b={coords:this._coords,colors:this._colors,offsetX:-a,offsetY:-c,scaleX:1/m,scaleY:1/y},E=f+2*2,x=p+2*2,C=r.getCanvas("mesh",E,x,!1),S=C.context,_=S.createImageData(f,p);if(n){const N=_.data;for(let T=0,M=N.length;T<M;T+=4)N[T]=n[0],N[T+1]=n[1],N[T+2]=n[2],N[T+3]=255}for(const N of this._figures)HX(_,N,b);return S.putImageData(_,2,2),{canvas:C.canvas,offsetX:a-2*m,offsetY:c-2*y,scaleX:m,scaleY:y}}getPattern(e,n,r,i){dC(e,this._bbox);let s;if(i===mr.SHADING)s=$e.singularValueDecompose2dScale(Zt(e));else if(s=$e.singularValueDecompose2dScale(n.baseTransform),this.matrix){const a=$e.singularValueDecompose2dScale(this.matrix);s=[s[0]*a[0],s[1]*a[1]]}const o=this._createMeshCanvas(s,i===mr.SHADING?null:this._background,n.cachedCanvases);return i!==mr.SHADING&&(e.setTransform(...n.baseTransform),this.matrix&&e.transform(...this.matrix)),e.translate(o.offsetX,o.offsetY),e.scale(o.scaleX,o.scaleY),e.createPattern(o.canvas,"no-repeat")}}class UX extends Lm{getPattern(){return"hotpink"}}function VX(t){switch(t[0]){case"RadialAxial":return new BX(t);case"Mesh":return new WX(t);case"Dummy":return new UX}throw new Error(`Unknown IR type: ${t[0]}`)}const VI={COLORED:1,UNCOLORED:2},lb=class lb{constructor(e,n,r,i,s){this.operatorList=e[2],this.matrix=e[3],this.bbox=e[4],this.xstep=e[5],this.ystep=e[6],this.paintType=e[7],this.tilingType=e[8],this.color=n,this.ctx=r,this.canvasGraphicsFactory=i,this.baseTransform=s}createPatternCanvas(e){const n=this.operatorList,r=this.bbox,i=this.xstep,s=this.ystep,o=this.paintType,a=this.tilingType,c=this.color,d=this.canvasGraphicsFactory;ew("TilingType: "+a);const h=r[0],f=r[1],p=r[2],m=r[3],y=$e.singularValueDecompose2dScale(this.matrix),b=$e.singularValueDecompose2dScale(this.baseTransform),E=[y[0]*b[0],y[1]*b[1]],x=this.getSizeAndScale(i,this.ctx.canvas.width,E[0]),C=this.getSizeAndScale(s,this.ctx.canvas.height,E[1]),S=e.cachedCanvases.getCanvas("pattern",x.size,C.size,!0),_=S.context,k=d.createCanvasGraphics(_);k.groupLevel=e.groupLevel,this.setFillAndStrokeStyleToContext(k,o,c);let N=h,T=f,M=p,O=m;return h<0&&(N=0,M+=Math.abs(h)),f<0&&(T=0,O+=Math.abs(f)),_.translate(-(x.scale*N),-(C.scale*T)),k.transform(x.scale,0,0,C.scale,0,0),_.save(),this.clipBbox(k,N,T,M,O),k.baseTransform=Zt(k.ctx),k.executeOperatorList(n),k.endDrawing(),{canvas:S.canvas,scaleX:x.scale,scaleY:C.scale,offsetX:N,offsetY:T}}getSizeAndScale(e,n,r){e=Math.abs(e);const i=Math.max(lb.MAX_PATTERN_SIZE,n);let s=Math.ceil(e*r);return s>=i?s=i:r=s/e,{scale:r,size:s}}clipBbox(e,n,r,i,s){const o=i-n,a=s-r;e.ctx.rect(n,r,o,a),e.current.updateRectMinMax(Zt(e.ctx),[n,r,i,s]),e.clip(),e.endPath()}setFillAndStrokeStyleToContext(e,n,r){const i=e.ctx,s=e.current;switch(n){case VI.COLORED:const o=this.ctx;i.fillStyle=o.fillStyle,i.strokeStyle=o.strokeStyle,s.fillColor=o.fillStyle,s.strokeColor=o.strokeStyle;break;case VI.UNCOLORED:const a=$e.makeHexColor(r[0],r[1],r[2]);i.fillStyle=a,i.strokeStyle=a,s.fillColor=a,s.strokeColor=a;break;default:throw new yX(`Unsupported paint type: ${n}`)}}getPattern(e,n,r,i){let s=r;i!==mr.SHADING&&(s=$e.transform(s,n.baseTransform),this.matrix&&(s=$e.transform(s,this.matrix)));const o=this.createPatternCanvas(n);let a=new DOMMatrix(s);a=a.translate(o.offsetX,o.offsetY),a=a.scale(1/o.scaleX,1/o.scaleY);const c=e.createPattern(o.canvas,"repeat");return c.setTransform(a),c}};Te(lb,"MAX_PATTERN_SIZE",3e3);let hC=lb;function GX({src:t,srcPos:e=0,dest:n,width:r,height:i,nonBlackColor:s=4294967295,inverseDecode:o=!1}){const a=Or.isLittleEndian?4278190080:255,[c,d]=o?[s,a]:[a,s],h=r>>3,f=r&7,p=t.length;n=new Uint32Array(n.buffer);let m=0;for(let y=0;y<i;y++){for(const E=e+h;e<E;e++){const x=e<p?t[e]:255;n[m++]=x&128?d:c,n[m++]=x&64?d:c,n[m++]=x&32?d:c,n[m++]=x&16?d:c,n[m++]=x&8?d:c,n[m++]=x&4?d:c,n[m++]=x&2?d:c,n[m++]=x&1?d:c}if(f===0)continue;const b=e<p?t[e++]:255;for(let E=0;E<f;E++)n[m++]=b&1<<7-E?d:c}return{srcPos:e,destPos:m}}const GI=16,qI=100,qX=15,YI=10,XI=1e3,Nr=16;function YX(t,e){if(t._removeMirroring)throw new Error("Context is already forwarding operations.");t.__originalSave=t.save,t.__originalRestore=t.restore,t.__originalRotate=t.rotate,t.__originalScale=t.scale,t.__originalTranslate=t.translate,t.__originalTransform=t.transform,t.__originalSetTransform=t.setTransform,t.__originalResetTransform=t.resetTransform,t.__originalClip=t.clip,t.__originalMoveTo=t.moveTo,t.__originalLineTo=t.lineTo,t.__originalBezierCurveTo=t.bezierCurveTo,t.__originalRect=t.rect,t.__originalClosePath=t.closePath,t.__originalBeginPath=t.beginPath,t._removeMirroring=()=>{t.save=t.__originalSave,t.restore=t.__originalRestore,t.rotate=t.__originalRotate,t.scale=t.__originalScale,t.translate=t.__originalTranslate,t.transform=t.__originalTransform,t.setTransform=t.__originalSetTransform,t.resetTransform=t.__originalResetTransform,t.clip=t.__originalClip,t.moveTo=t.__originalMoveTo,t.lineTo=t.__originalLineTo,t.bezierCurveTo=t.__originalBezierCurveTo,t.rect=t.__originalRect,t.closePath=t.__originalClosePath,t.beginPath=t.__originalBeginPath,delete t._removeMirroring},t.save=function(){e.save(),this.__originalSave()},t.restore=function(){e.restore(),this.__originalRestore()},t.translate=function(r,i){e.translate(r,i),this.__originalTranslate(r,i)},t.scale=function(r,i){e.scale(r,i),this.__originalScale(r,i)},t.transform=function(r,i,s,o,a,c){e.transform(r,i,s,o,a,c),this.__originalTransform(r,i,s,o,a,c)},t.setTransform=function(r,i,s,o,a,c){e.setTransform(r,i,s,o,a,c),this.__originalSetTransform(r,i,s,o,a,c)},t.resetTransform=function(){e.resetTransform(),this.__originalResetTransform()},t.rotate=function(r){e.rotate(r),this.__originalRotate(r)},t.clip=function(r){e.clip(r),this.__originalClip(r)},t.moveTo=function(n,r){e.moveTo(n,r),this.__originalMoveTo(n,r)},t.lineTo=function(n,r){e.lineTo(n,r),this.__originalLineTo(n,r)},t.bezierCurveTo=function(n,r,i,s,o,a){e.bezierCurveTo(n,r,i,s,o,a),this.__originalBezierCurveTo(n,r,i,s,o,a)},t.rect=function(n,r,i,s){e.rect(n,r,i,s),this.__originalRect(n,r,i,s)},t.closePath=function(){e.closePath(),this.__originalClosePath()},t.beginPath=function(){e.beginPath(),this.__originalBeginPath()}}class XX{constructor(e){this.canvasFactory=e,this.cache=Object.create(null)}getCanvas(e,n,r){let i;return this.cache[e]!==void 0?(i=this.cache[e],this.canvasFactory.reset(i,n,r)):(i=this.canvasFactory.create(n,r),this.cache[e]=i),i}delete(e){delete this.cache[e]}clear(){for(const e in this.cache){const n=this.cache[e];this.canvasFactory.destroy(n),delete this.cache[e]}}}function Tv(t,e,n,r,i,s,o,a,c,d){const[h,f,p,m,y,b]=Zt(t);if(f===0&&p===0){const C=o*h+y,S=Math.round(C),_=a*m+b,k=Math.round(_),N=(o+c)*h+y,T=Math.abs(Math.round(N)-S)||1,M=(a+d)*m+b,O=Math.abs(Math.round(M)-k)||1;return t.setTransform(Math.sign(h),0,0,Math.sign(m),S,k),t.drawImage(e,n,r,i,s,0,0,T,O),t.setTransform(h,f,p,m,y,b),[T,O]}if(h===0&&m===0){const C=a*p+y,S=Math.round(C),_=o*f+b,k=Math.round(_),N=(a+d)*p+y,T=Math.abs(Math.round(N)-S)||1,M=(o+c)*f+b,O=Math.abs(Math.round(M)-k)||1;return t.setTransform(0,Math.sign(f),Math.sign(p),0,S,k),t.drawImage(e,n,r,i,s,0,0,O,T),t.setTransform(h,f,p,m,y,b),[O,T]}t.drawImage(e,n,r,i,s,o,a,c,d);const E=Math.hypot(h,f),x=Math.hypot(p,m);return[E*c,x*d]}function KX(t){const{width:e,height:n}=t;if(e>XI||n>XI)return null;const r=1e3,i=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),s=e+1;let o=new Uint8Array(s*(n+1)),a,c,d;const h=e+7&-8;let f=new Uint8Array(h*n),p=0;for(const x of t.data){let C=128;for(;C>0;)f[p++]=x&C?0:255,C>>=1}let m=0;for(p=0,f[p]!==0&&(o[0]=1,++m),c=1;c<e;c++)f[p]!==f[p+1]&&(o[c]=f[p]?2:1,++m),p++;for(f[p]!==0&&(o[c]=2,++m),a=1;a<n;a++){p=a*h,d=a*s,f[p-h]!==f[p]&&(o[d]=f[p]?1:8,++m);let x=(f[p]?4:0)+(f[p-h]?8:0);for(c=1;c<e;c++)x=(x>>2)+(f[p+1]?4:0)+(f[p-h+1]?8:0),i[x]&&(o[d+c]=i[x],++m),p++;if(f[p-h]!==f[p]&&(o[d+c]=f[p]?2:4,++m),m>r)return null}for(p=h*(n-1),d=a*s,f[p]!==0&&(o[d]=8,++m),c=1;c<e;c++)f[p]!==f[p+1]&&(o[d+c]=f[p]?4:8,++m),p++;if(f[p]!==0&&(o[d+c]=4,++m),m>r)return null;const y=new Int32Array([0,s,-1,0,-s,0,0,0,1]),b=new Path2D;for(a=0;m&&a<=n;a++){let x=a*s;const C=x+e;for(;x<C&&!o[x];)x++;if(x===C)continue;b.moveTo(x%s,a);const S=x;let _=o[x];do{const k=y[_];do x+=k;while(!o[x]);const N=o[x];N!==5&&N!==10?(_=N,o[x]=0):(_=N&51*_>>4,o[x]&=_>>2|_<<2),b.lineTo(x%s,x/s|0),o[x]||--m}while(S!==x);--a}return f=null,o=null,function(x){x.save(),x.scale(1/e,-1/n),x.translate(0,-n),x.fill(b),x.beginPath(),x.restore()}}class KI{constructor(e,n){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=iD,this.textMatrixScale=1,this.fontMatrix=$E,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=Qn.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,e,n])}clone(){const e=Object.create(this);return e.clipBox=this.clipBox.slice(),e}setCurrentPoint(e,n){this.x=e,this.y=n}updatePathMinMax(e,n,r){[n,r]=$e.applyTransform([n,r],e),this.minX=Math.min(this.minX,n),this.minY=Math.min(this.minY,r),this.maxX=Math.max(this.maxX,n),this.maxY=Math.max(this.maxY,r)}updateRectMinMax(e,n){const r=$e.applyTransform(n,e),i=$e.applyTransform(n.slice(2),e),s=$e.applyTransform([n[0],n[3]],e),o=$e.applyTransform([n[2],n[1]],e);this.minX=Math.min(this.minX,r[0],i[0],s[0],o[0]),this.minY=Math.min(this.minY,r[1],i[1],s[1],o[1]),this.maxX=Math.max(this.maxX,r[0],i[0],s[0],o[0]),this.maxY=Math.max(this.maxY,r[1],i[1],s[1],o[1])}updateScalingPathMinMax(e,n){$e.scaleMinMax(e,n),this.minX=Math.min(this.minX,n[0]),this.minY=Math.min(this.minY,n[1]),this.maxX=Math.max(this.maxX,n[2]),this.maxY=Math.max(this.maxY,n[3])}updateCurvePathMinMax(e,n,r,i,s,o,a,c,d,h){const f=$e.bezierBoundingBox(n,r,i,s,o,a,c,d,h);h||this.updateRectMinMax(e,f)}getPathBoundingBox(e=mr.FILL,n=null){const r=[this.minX,this.minY,this.maxX,this.maxY];if(e===mr.STROKE){n||Tt("Stroke bounding box must include transform.");const i=$e.singularValueDecompose2dScale(n),s=i[0]*this.lineWidth/2,o=i[1]*this.lineWidth/2;r[0]-=s,r[1]-=o,r[2]+=s,r[3]+=o}return r}updateClipFromPath(){const e=$e.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(e||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(e){this.clipBox=e,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(e=mr.FILL,n=null){return $e.intersect(this.clipBox,this.getPathBoundingBox(e,n))}}function QI(t,e){if(typeof ImageData<"u"&&e instanceof ImageData){t.putImageData(e,0,0);return}const n=e.height,r=e.width,i=n%Nr,s=(n-i)/Nr,o=i===0?s:s+1,a=t.createImageData(r,Nr);let c=0,d;const h=e.data,f=a.data;let p,m,y,b;if(e.kind===Uv.GRAYSCALE_1BPP){const E=h.byteLength,x=new Uint32Array(f.buffer,0,f.byteLength>>2),C=x.length,S=r+7>>3,_=4294967295,k=Or.isLittleEndian?4278190080:255;for(p=0;p<o;p++){for(y=p<s?Nr:i,d=0,m=0;m<y;m++){const N=E-c;let T=0;const M=N>S?r:N*8-7,O=M&-8;let R=0,F=0;for(;T<O;T+=8)F=h[c++],x[d++]=F&128?_:k,x[d++]=F&64?_:k,x[d++]=F&32?_:k,x[d++]=F&16?_:k,x[d++]=F&8?_:k,x[d++]=F&4?_:k,x[d++]=F&2?_:k,x[d++]=F&1?_:k;for(;T<M;T++)R===0&&(F=h[c++],R=128),x[d++]=F&R?_:k,R>>=1}for(;d<C;)x[d++]=0;t.putImageData(a,0,p*Nr)}}else if(e.kind===Uv.RGBA_32BPP){for(m=0,b=r*Nr*4,p=0;p<s;p++)f.set(h.subarray(c,c+b)),c+=b,t.putImageData(a,0,m),m+=Nr;p<o&&(b=r*i*4,f.set(h.subarray(c,c+b)),t.putImageData(a,0,m))}else if(e.kind===Uv.RGB_24BPP)for(y=Nr,b=r*y,p=0;p<o;p++){for(p>=s&&(y=i,b=r*y),d=0,m=b;m--;)f[d++]=h[c++],f[d++]=h[c++],f[d++]=h[c++],f[d++]=255;t.putImageData(a,0,p*Nr)}else throw new Error(`bad image kind: ${e.kind}`)}function ZI(t,e){if(e.bitmap){t.drawImage(e.bitmap,0,0);return}const n=e.height,r=e.width,i=n%Nr,s=(n-i)/Nr,o=i===0?s:s+1,a=t.createImageData(r,Nr);let c=0;const d=e.data,h=a.data;for(let f=0;f<o;f++){const p=f<s?Nr:i;({srcPos:c}=GX({src:d,srcPos:c,dest:h,width:r,height:p,nonBlackColor:0})),t.putImageData(a,0,f*Nr)}}function If(t,e){const n=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const r of n)t[r]!==void 0&&(e[r]=t[r]);t.setLineDash!==void 0&&(e.setLineDash(t.getLineDash()),e.lineDashOffset=t.lineDashOffset)}function Pv(t){if(t.strokeStyle=t.fillStyle="#000000",t.fillRule="nonzero",t.globalAlpha=1,t.lineWidth=1,t.lineCap="butt",t.lineJoin="miter",t.miterLimit=10,t.globalCompositeOperation="source-over",t.font="10px sans-serif",t.setLineDash!==void 0&&(t.setLineDash([]),t.lineDashOffset=0),!sr){const{filter:e}=t;e!=="none"&&e!==""&&(t.filter="none")}}function JI(t,e){if(e)return!0;const n=$e.singularValueDecompose2dScale(t);n[0]=Math.fround(n[0]),n[1]=Math.fround(n[1]);const r=Math.fround((globalThis.devicePixelRatio||1)*xl.PDF_TO_CSS_UNITS);return n[0]<=r&&n[1]<=r}const QX=["butt","round","square"],ZX=["miter","round","bevel"],JX={},eN={};var Cl,fC,pC;const RA=class RA{constructor(e,n,r,i,s,{optionalContentConfig:o,markedContentStack:a=null},c,d){W(this,Cl);this.ctx=e,this.current=new KI(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=n,this.objs=r,this.canvasFactory=i,this.filterFactory=s,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=a||[],this.optionalContentConfig=o,this.cachedCanvases=new XX(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=c,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=d,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(e,n=null){return typeof e=="string"?e.startsWith("g_")?this.commonObjs.get(e):this.objs.get(e):n}beginDrawing({transform:e,viewport:n,transparency:r=!1,background:i=null}){const s=this.ctx.canvas.width,o=this.ctx.canvas.height,a=this.ctx.fillStyle;if(this.ctx.fillStyle=i||"#ffffff",this.ctx.fillRect(0,0,s,o),this.ctx.fillStyle=a,r){const c=this.cachedCanvases.getCanvas("transparent",s,o);this.compositeCtx=this.ctx,this.transparentCanvas=c.canvas,this.ctx=c.context,this.ctx.save(),this.ctx.transform(...Zt(this.compositeCtx))}this.ctx.save(),Pv(this.ctx),e&&(this.ctx.transform(...e),this.outputScaleX=e[0],this.outputScaleY=e[0]),this.ctx.transform(...n.transform),this.viewportScale=n.scale,this.baseTransform=Zt(this.ctx)}executeOperatorList(e,n,r,i){const s=e.argsArray,o=e.fnArray;let a=n||0;const c=s.length;if(c===a)return a;const d=c-a>YI&&typeof r=="function",h=d?Date.now()+qX:0;let f=0;const p=this.commonObjs,m=this.objs;let y;for(;;){if(i!==void 0&&a===i.nextBreakPoint)return i.breakIt(a,r),a;if(y=o[a],y!==$i.dependency)this[y].apply(this,s[a]);else for(const b of s[a]){const E=b.startsWith("g_")?p:m;if(!E.has(b))return E.get(b,r),a}if(a++,a===c)return a;if(d&&++f>YI){if(Date.now()>h)return r(),a;f=0}}}endDrawing(){B(this,Cl,fC).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const e of this._cachedBitmapsMap.values()){for(const n of e.values())typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement&&(n.width=n.height=0);e.clear()}this._cachedBitmapsMap.clear(),B(this,Cl,pC).call(this)}_scaleImage(e,n){const r=e.width,i=e.height;let s=Math.max(Math.hypot(n[0],n[1]),1),o=Math.max(Math.hypot(n[2],n[3]),1),a=r,c=i,d="prescale1",h,f;for(;s>2&&a>1||o>2&&c>1;){let p=a,m=c;s>2&&a>1&&(p=a>=16384?Math.floor(a/2)-1||1:Math.ceil(a/2),s/=a/p),o>2&&c>1&&(m=c>=16384?Math.floor(c/2)-1||1:Math.ceil(c)/2,o/=c/m),h=this.cachedCanvases.getCanvas(d,p,m),f=h.context,f.clearRect(0,0,p,m),f.drawImage(e,0,0,a,c,0,0,p,m),e=h.canvas,a=p,c=m,d=d==="prescale1"?"prescale2":"prescale1"}return{img:e,paintWidth:a,paintHeight:c}}_createMaskCanvas(e){const n=this.ctx,{width:r,height:i}=e,s=this.current.fillColor,o=this.current.patternFill,a=Zt(n);let c,d,h,f;if((e.bitmap||e.data)&&e.count>1){const M=e.bitmap||e.data.buffer;d=JSON.stringify(o?a:[a.slice(0,4),s]),c=this._cachedBitmapsMap.get(M),c||(c=new Map,this._cachedBitmapsMap.set(M,c));const O=c.get(d);if(O&&!o){const R=Math.round(Math.min(a[0],a[2])+a[4]),F=Math.round(Math.min(a[1],a[3])+a[5]);return{canvas:O,offsetX:R,offsetY:F}}h=O}h||(f=this.cachedCanvases.getCanvas("maskCanvas",r,i),ZI(f.context,e));let p=$e.transform(a,[1/r,0,0,-1/i,0,0]);p=$e.transform(p,[1,0,0,1,0,-i]);const[m,y,b,E]=$e.getAxialAlignedBoundingBox([0,0,r,i],p),x=Math.round(b-m)||1,C=Math.round(E-y)||1,S=this.cachedCanvases.getCanvas("fillCanvas",x,C),_=S.context,k=m,N=y;_.translate(-k,-N),_.transform(...p),h||(h=this._scaleImage(f.canvas,mo(_)),h=h.img,c&&o&&c.set(d,h)),_.imageSmoothingEnabled=JI(Zt(_),e.interpolate),Tv(_,h,0,0,h.width,h.height,0,0,r,i),_.globalCompositeOperation="source-in";const T=$e.transform(mo(_),[1,0,0,1,-k,-N]);return _.fillStyle=o?s.getPattern(n,this,T,mr.FILL):s,_.fillRect(0,0,r,i),c&&!o&&(this.cachedCanvases.delete("fillCanvas"),c.set(d,S.canvas)),{canvas:S.canvas,offsetX:Math.round(k),offsetY:Math.round(N)}}setLineWidth(e){e!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=e,this.ctx.lineWidth=e}setLineCap(e){this.ctx.lineCap=QX[e]}setLineJoin(e){this.ctx.lineJoin=ZX[e]}setMiterLimit(e){this.ctx.miterLimit=e}setDash(e,n){const r=this.ctx;r.setLineDash!==void 0&&(r.setLineDash(e),r.lineDashOffset=n)}setRenderingIntent(e){}setFlatness(e){}setGState(e){for(const[n,r]of e)switch(n){case"LW":this.setLineWidth(r);break;case"LC":this.setLineCap(r);break;case"LJ":this.setLineJoin(r);break;case"ML":this.setMiterLimit(r);break;case"D":this.setDash(r[0],r[1]);break;case"RI":this.setRenderingIntent(r);break;case"FL":this.setFlatness(r);break;case"Font":this.setFont(r[0],r[1]);break;case"CA":this.current.strokeAlpha=r;break;case"ca":this.current.fillAlpha=r,this.ctx.globalAlpha=r;break;case"BM":this.ctx.globalCompositeOperation=r;break;case"SMask":this.current.activeSMask=r?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(r);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const e=this.inSMaskMode;this.current.activeSMask&&!e?this.beginSMaskMode():!this.current.activeSMask&&e&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const e=this.ctx.canvas.width,n=this.ctx.canvas.height,r="smaskGroupAt"+this.groupLevel,i=this.cachedCanvases.getCanvas(r,e,n);this.suspendedCtx=this.ctx,this.ctx=i.context;const s=this.ctx;s.setTransform(...Zt(this.suspendedCtx)),If(this.suspendedCtx,s),YX(s,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),If(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(e){if(!this.current.activeSMask)return;e?(e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.ceil(e[2]),e[3]=Math.ceil(e[3])):e=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const n=this.current.activeSMask,r=this.suspendedCtx;this.composeSMask(r,n,this.ctx,e),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(e,n,r,i){const s=i[0],o=i[1],a=i[2]-s,c=i[3]-o;a===0||c===0||(this.genericComposeSMask(n.context,r,a,c,n.subtype,n.backdrop,n.transferMap,s,o,n.offsetX,n.offsetY),e.save(),e.globalAlpha=1,e.globalCompositeOperation="source-over",e.setTransform(1,0,0,1,0,0),e.drawImage(r.canvas,0,0),e.restore())}genericComposeSMask(e,n,r,i,s,o,a,c,d,h,f){let p=e.canvas,m=c-h,y=d-f;if(o){if(m<0||y<0||m+r>p.width||y+i>p.height){const E=this.cachedCanvases.getCanvas("maskExtension",r,i),x=E.context;x.drawImage(p,-m,-y),o.some(C=>C!==0)&&(x.globalCompositeOperation="destination-atop",x.fillStyle=$e.makeHexColor(...o),x.fillRect(0,0,r,i),x.globalCompositeOperation="source-over"),p=E.canvas,m=y=0}else if(o.some(E=>E!==0)){e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0);const E=new Path2D;E.rect(m,y,r,i),e.clip(E),e.globalCompositeOperation="destination-atop",e.fillStyle=$e.makeHexColor(...o),e.fillRect(m,y,r,i),e.restore()}}n.save(),n.globalAlpha=1,n.setTransform(1,0,0,1,0,0),s==="Alpha"&&a?n.filter=this.filterFactory.addAlphaFilter(a):s==="Luminosity"&&(n.filter=this.filterFactory.addLuminosityFilter(a));const b=new Path2D;b.rect(c,d,r,i),n.clip(b),n.globalCompositeOperation="destination-in",n.drawImage(p,m,y,r,i,c,d,r,i),n.restore()}save(){this.inSMaskMode?(If(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const e=this.current;this.stateStack.push(e),this.current=e.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),If(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(e,n,r,i,s,o){this.ctx.transform(e,n,r,i,s,o),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(e,n,r){const i=this.ctx,s=this.current;let o=s.x,a=s.y,c,d;const h=Zt(i),f=h[0]===0&&h[3]===0||h[1]===0&&h[2]===0,p=f?r.slice(0):null;for(let m=0,y=0,b=e.length;m<b;m++)switch(e[m]|0){case $i.rectangle:o=n[y++],a=n[y++];const E=n[y++],x=n[y++],C=o+E,S=a+x;i.moveTo(o,a),E===0||x===0?i.lineTo(C,S):(i.lineTo(C,a),i.lineTo(C,S),i.lineTo(o,S)),f||s.updateRectMinMax(h,[o,a,C,S]),i.closePath();break;case $i.moveTo:o=n[y++],a=n[y++],i.moveTo(o,a),f||s.updatePathMinMax(h,o,a);break;case $i.lineTo:o=n[y++],a=n[y++],i.lineTo(o,a),f||s.updatePathMinMax(h,o,a);break;case $i.curveTo:c=o,d=a,o=n[y+4],a=n[y+5],i.bezierCurveTo(n[y],n[y+1],n[y+2],n[y+3],o,a),s.updateCurvePathMinMax(h,c,d,n[y],n[y+1],n[y+2],n[y+3],o,a,p),y+=6;break;case $i.curveTo2:c=o,d=a,i.bezierCurveTo(o,a,n[y],n[y+1],n[y+2],n[y+3]),s.updateCurvePathMinMax(h,c,d,o,a,n[y],n[y+1],n[y+2],n[y+3],p),o=n[y+2],a=n[y+3],y+=4;break;case $i.curveTo3:c=o,d=a,o=n[y+2],a=n[y+3],i.bezierCurveTo(n[y],n[y+1],o,a,o,a),s.updateCurvePathMinMax(h,c,d,n[y],n[y+1],o,a,o,a,p),y+=4;break;case $i.closePath:i.closePath();break}f&&s.updateScalingPathMinMax(h,p),s.setCurrentPoint(o,a)}closePath(){this.ctx.closePath()}stroke(e=!0){const n=this.ctx,r=this.current.strokeColor;n.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof r=="object"&&(r!=null&&r.getPattern)?(n.save(),n.strokeStyle=r.getPattern(n,this,mo(n),mr.STROKE),this.rescaleAndStroke(!1),n.restore()):this.rescaleAndStroke(!0)),e&&this.consumePath(this.current.getClippedPathBoundingBox()),n.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(e=!0){const n=this.ctx,r=this.current.fillColor,i=this.current.patternFill;let s=!1;i&&(n.save(),n.fillStyle=r.getPattern(n,this,mo(n),mr.FILL),s=!0);const o=this.current.getClippedPathBoundingBox();this.contentVisible&&o!==null&&(this.pendingEOFill?(n.fill("evenodd"),this.pendingEOFill=!1):n.fill()),s&&n.restore(),e&&this.consumePath(o)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=JX}eoClip(){this.pendingClip=eN}beginText(){this.current.textMatrix=iD,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const e=this.pendingTextPaths,n=this.ctx;if(e===void 0){n.beginPath();return}n.save(),n.beginPath();for(const r of e)n.setTransform(...r.transform),n.translate(r.x,r.y),r.addToPath(n,r.fontSize);n.restore(),n.clip(),n.beginPath(),delete this.pendingTextPaths}setCharSpacing(e){this.current.charSpacing=e}setWordSpacing(e){this.current.wordSpacing=e}setHScale(e){this.current.textHScale=e/100}setLeading(e){this.current.leading=-e}setFont(e,n){var h;const r=this.commonObjs.get(e),i=this.current;if(!r)throw new Error(`Can't find font for ${e}`);if(i.fontMatrix=r.fontMatrix||$E,(i.fontMatrix[0]===0||i.fontMatrix[3]===0)&&Je("Invalid font matrix for font "+e),n<0?(n=-n,i.fontDirection=-1):i.fontDirection=1,this.current.font=r,this.current.fontSize=n,r.isType3Font)return;const s=r.loadedName||"sans-serif",o=((h=r.systemFontInfo)==null?void 0:h.css)||`"${s}", ${r.fallbackName}`;let a="normal";r.black?a="900":r.bold&&(a="bold");const c=r.italic?"italic":"normal";let d=n;n<GI?d=GI:n>qI&&(d=qI),this.current.fontSizeScale=n/d,this.ctx.font=`${c} ${a} ${d}px ${o}`}setTextRenderingMode(e){this.current.textRenderingMode=e}setTextRise(e){this.current.textRise=e}moveText(e,n){this.current.x=this.current.lineX+=e,this.current.y=this.current.lineY+=n}setLeadingMoveText(e,n){this.setLeading(-n),this.moveText(e,n)}setTextMatrix(e,n,r,i,s,o){this.current.textMatrix=[e,n,r,i,s,o],this.current.textMatrixScale=Math.hypot(e,n),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(e,n,r,i){const s=this.ctx,o=this.current,a=o.font,c=o.textRenderingMode,d=o.fontSize/o.fontSizeScale,h=c&Qn.FILL_STROKE_MASK,f=!!(c&Qn.ADD_TO_PATH_FLAG),p=o.patternFill&&!a.missingFile;let m;(a.disableFontFace||f||p)&&(m=a.getPathGenerator(this.commonObjs,e)),a.disableFontFace||p?(s.save(),s.translate(n,r),s.beginPath(),m(s,d),i&&s.setTransform(...i),(h===Qn.FILL||h===Qn.FILL_STROKE)&&s.fill(),(h===Qn.STROKE||h===Qn.FILL_STROKE)&&s.stroke(),s.restore()):((h===Qn.FILL||h===Qn.FILL_STROKE)&&s.fillText(e,n,r),(h===Qn.STROKE||h===Qn.FILL_STROKE)&&s.strokeText(e,n,r)),f&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:Zt(s),x:n,y:r,fontSize:d,addToPath:m})}get isFontSubpixelAAEnabled(){const{context:e}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);e.scale(1.5,1),e.fillText("I",0,10);const n=e.getImageData(0,0,10,10).data;let r=!1;for(let i=3;i<n.length;i+=4)if(n[i]>0&&n[i]<255){r=!0;break}return lt(this,"isFontSubpixelAAEnabled",r)}showText(e){const n=this.current,r=n.font;if(r.isType3Font)return this.showType3Text(e);const i=n.fontSize;if(i===0)return;const s=this.ctx,o=n.fontSizeScale,a=n.charSpacing,c=n.wordSpacing,d=n.fontDirection,h=n.textHScale*d,f=e.length,p=r.vertical,m=p?1:-1,y=r.defaultVMetrics,b=i*n.fontMatrix[0],E=n.textRenderingMode===Qn.FILL&&!r.disableFontFace&&!n.patternFill;s.save(),s.transform(...n.textMatrix),s.translate(n.x,n.y+n.textRise),d>0?s.scale(h,-1):s.scale(h,1);let x;if(n.patternFill){s.save();const N=n.fillColor.getPattern(s,this,mo(s),mr.FILL);x=Zt(s),s.restore(),s.fillStyle=N}let C=n.lineWidth;const S=n.textMatrixScale;if(S===0||C===0){const N=n.textRenderingMode&Qn.FILL_STROKE_MASK;(N===Qn.STROKE||N===Qn.FILL_STROKE)&&(C=this.getSinglePixelWidth())}else C/=S;if(o!==1&&(s.scale(o,o),C/=o),s.lineWidth=C,r.isInvalidPDFjsFont){const N=[];let T=0;for(const M of e)N.push(M.unicode),T+=M.width;s.fillText(N.join(""),0,0),n.x+=T*b*h,s.restore(),this.compose();return}let _=0,k;for(k=0;k<f;++k){const N=e[k];if(typeof N=="number"){_+=m*N*i/1e3;continue}let T=!1;const M=(N.isSpace?c:0)+a,O=N.fontChar,R=N.accent;let F,z,U=N.width;if(p){const V=N.vmetric||y,H=-(N.vmetric?V[1]:U*.5)*b,K=V[2]*b;U=V?-V[0]:U,F=H/o,z=(_+K)/o}else F=_/o,z=0;if(r.remeasure&&U>0){const V=s.measureText(O).width*1e3/i*o;if(U<V&&this.isFontSubpixelAAEnabled){const H=U/V;T=!0,s.save(),s.scale(H,1),F/=H}else U!==V&&(F+=(U-V)/2e3*i/o)}if(this.contentVisible&&(N.isInFont||r.missingFile)){if(E&&!R)s.fillText(O,F,z);else if(this.paintChar(O,F,z,x),R){const V=F+i*R.offset.x/o,H=z-i*R.offset.y/o;this.paintChar(R.fontChar,V,H,x)}}const D=p?U*b-M*d:U*b+M*d;_+=D,T&&s.restore()}p?n.y-=_:n.x+=_*h,s.restore(),this.compose()}showType3Text(e){const n=this.ctx,r=this.current,i=r.font,s=r.fontSize,o=r.fontDirection,a=i.vertical?1:-1,c=r.charSpacing,d=r.wordSpacing,h=r.textHScale*o,f=r.fontMatrix||$E,p=e.length,m=r.textRenderingMode===Qn.INVISIBLE;let y,b,E,x;if(!(m||s===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,n.save(),n.transform(...r.textMatrix),n.translate(r.x,r.y),n.scale(h,o),y=0;y<p;++y){if(b=e[y],typeof b=="number"){x=a*b*s/1e3,this.ctx.translate(x,0),r.x+=x*h;continue}const C=(b.isSpace?d:0)+c,S=i.charProcOperatorList[b.operatorListId];if(!S){Je(`Type3 character "${b.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=b,this.save(),n.scale(s,s),n.transform(...f),this.executeOperatorList(S),this.restore()),E=$e.applyTransform([b.width,0],f)[0]*s+C,n.translate(E,0),r.x+=E*h}n.restore(),this.processingType3=null}}setCharWidth(e,n){}setCharWidthAndBounds(e,n,r,i,s,o){this.ctx.rect(r,i,s-r,o-i),this.ctx.clip(),this.endPath()}getColorN_Pattern(e){let n;if(e[0]==="TilingPattern"){const r=e[1],i=this.baseTransform||Zt(this.ctx),s={createCanvasGraphics:o=>new RA(o,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};n=new hC(e,r,this.ctx,s,i)}else n=this._getPattern(e[1],e[2]);return n}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(e,n,r){const i=$e.makeHexColor(e,n,r);this.ctx.strokeStyle=i,this.current.strokeColor=i}setFillRGBColor(e,n,r){const i=$e.makeHexColor(e,n,r);this.ctx.fillStyle=i,this.current.fillColor=i,this.current.patternFill=!1}_getPattern(e,n=null){let r;return this.cachedPatterns.has(e)?r=this.cachedPatterns.get(e):(r=VX(this.getObject(e)),this.cachedPatterns.set(e,r)),n&&(r.matrix=n),r}shadingFill(e){if(!this.contentVisible)return;const n=this.ctx;this.save();const r=this._getPattern(e);n.fillStyle=r.getPattern(n,this,mo(n),mr.SHADING);const i=mo(n);if(i){const{width:s,height:o}=n.canvas,[a,c,d,h]=$e.getAxialAlignedBoundingBox([0,0,s,o],i);this.ctx.fillRect(a,c,d-a,h-c)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){Tt("Should not call beginInlineImage")}beginImageData(){Tt("Should not call beginImageData")}paintFormXObjectBegin(e,n){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),e&&this.transform(...e),this.baseTransform=Zt(this.ctx),n)){const r=n[2]-n[0],i=n[3]-n[1];this.ctx.rect(n[0],n[1],r,i),this.current.updateRectMinMax(Zt(this.ctx),n),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(e){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const n=this.ctx;e.isolated||ew("TODO: Support non-isolated groups."),e.knockout&&Je("Knockout groups not supported.");const r=Zt(n);if(e.matrix&&n.transform(...e.matrix),!e.bbox)throw new Error("Bounding box is required.");let i=$e.getAxialAlignedBoundingBox(e.bbox,Zt(n));const s=[0,0,n.canvas.width,n.canvas.height];i=$e.intersect(i,s)||[0,0,0,0];const o=Math.floor(i[0]),a=Math.floor(i[1]),c=Math.max(Math.ceil(i[2])-o,1),d=Math.max(Math.ceil(i[3])-a,1);this.current.startNewPathAndClipBox([0,0,c,d]);let h="groupAt"+this.groupLevel;e.smask&&(h+="_smask_"+this.smaskCounter++%2);const f=this.cachedCanvases.getCanvas(h,c,d),p=f.context;p.translate(-o,-a),p.transform(...r),e.smask?this.smaskStack.push({canvas:f.canvas,context:p,offsetX:o,offsetY:a,subtype:e.smask.subtype,backdrop:e.smask.backdrop,transferMap:e.smask.transferMap||null,startTransformInverse:null}):(n.setTransform(1,0,0,1,0,0),n.translate(o,a),n.save()),If(n,p),this.ctx=p,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(n),this.groupLevel++}endGroup(e){if(!this.contentVisible)return;this.groupLevel--;const n=this.ctx,r=this.groupStack.pop();if(this.ctx=r,this.ctx.imageSmoothingEnabled=!1,e.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const i=Zt(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...i);const s=$e.getAxialAlignedBoundingBox([0,0,n.canvas.width,n.canvas.height],i);this.ctx.drawImage(n.canvas,0,0),this.ctx.restore(),this.compose(s)}}beginAnnotation(e,n,r,i,s){if(B(this,Cl,fC).call(this),Pv(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),n){const o=n[2]-n[0],a=n[3]-n[1];if(s&&this.annotationCanvasMap){r=r.slice(),r[4]-=n[0],r[5]-=n[1],n=n.slice(),n[0]=n[1]=0,n[2]=o,n[3]=a;const[c,d]=$e.singularValueDecompose2dScale(Zt(this.ctx)),{viewportScale:h}=this,f=Math.ceil(o*this.outputScaleX*h),p=Math.ceil(a*this.outputScaleY*h);this.annotationCanvas=this.canvasFactory.create(f,p);const{canvas:m,context:y}=this.annotationCanvas;this.annotationCanvasMap.set(e,m),this.annotationCanvas.savedCtx=this.ctx,this.ctx=y,this.ctx.save(),this.ctx.setTransform(c,0,0,-d,0,a*d),Pv(this.ctx)}else Pv(this.ctx),this.ctx.rect(n[0],n[1],o,a),this.ctx.clip(),this.endPath()}this.current=new KI(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...r),this.transform(...i)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),B(this,Cl,pC).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(e){if(!this.contentVisible)return;const n=e.count;e=this.getObject(e.data,e),e.count=n;const r=this.ctx,i=this.processingType3;if(i&&(i.compiled===void 0&&(i.compiled=KX(e)),i.compiled)){i.compiled(r);return}const s=this._createMaskCanvas(e),o=s.canvas;r.save(),r.setTransform(1,0,0,1,0,0),r.drawImage(o,s.offsetX,s.offsetY),r.restore(),this.compose()}paintImageMaskXObjectRepeat(e,n,r=0,i=0,s,o){if(!this.contentVisible)return;e=this.getObject(e.data,e);const a=this.ctx;a.save();const c=Zt(a);a.transform(n,r,i,s,0,0);const d=this._createMaskCanvas(e);a.setTransform(1,0,0,1,d.offsetX-c[4],d.offsetY-c[5]);for(let h=0,f=o.length;h<f;h+=2){const p=$e.transform(c,[n,r,i,s,o[h],o[h+1]]),[m,y]=$e.applyTransform([0,0],p);a.drawImage(d.canvas,m,y)}a.restore(),this.compose()}paintImageMaskXObjectGroup(e){if(!this.contentVisible)return;const n=this.ctx,r=this.current.fillColor,i=this.current.patternFill;for(const s of e){const{data:o,width:a,height:c,transform:d}=s,h=this.cachedCanvases.getCanvas("maskCanvas",a,c),f=h.context;f.save();const p=this.getObject(o,s);ZI(f,p),f.globalCompositeOperation="source-in",f.fillStyle=i?r.getPattern(f,this,mo(n),mr.FILL):r,f.fillRect(0,0,a,c),f.restore(),n.save(),n.transform(...d),n.scale(1,-1),Tv(n,h.canvas,0,0,a,c,0,-1,1,1),n.restore()}this.compose()}paintImageXObject(e){if(!this.contentVisible)return;const n=this.getObject(e);if(!n){Je("Dependent image isn't ready yet");return}this.paintInlineImageXObject(n)}paintImageXObjectRepeat(e,n,r,i){if(!this.contentVisible)return;const s=this.getObject(e);if(!s){Je("Dependent image isn't ready yet");return}const o=s.width,a=s.height,c=[];for(let d=0,h=i.length;d<h;d+=2)c.push({transform:[n,0,0,r,i[d],i[d+1]],x:0,y:0,w:o,h:a});this.paintInlineImageXObjectGroup(s,c)}applyTransferMapsToCanvas(e){return this.current.transferMaps!=="none"&&(e.filter=this.current.transferMaps,e.drawImage(e.canvas,0,0),e.filter="none"),e.canvas}applyTransferMapsToBitmap(e){if(this.current.transferMaps==="none")return e.bitmap;const{bitmap:n,width:r,height:i}=e,s=this.cachedCanvases.getCanvas("inlineImage",r,i),o=s.context;return o.filter=this.current.transferMaps,o.drawImage(n,0,0),o.filter="none",s.canvas}paintInlineImageXObject(e){if(!this.contentVisible)return;const n=e.width,r=e.height,i=this.ctx;if(this.save(),!sr){const{filter:a}=i;a!=="none"&&a!==""&&(i.filter="none")}i.scale(1/n,-1/r);let s;if(e.bitmap)s=this.applyTransferMapsToBitmap(e);else if(typeof HTMLElement=="function"&&e instanceof HTMLElement||!e.data)s=e;else{const c=this.cachedCanvases.getCanvas("inlineImage",n,r).context;QI(c,e),s=this.applyTransferMapsToCanvas(c)}const o=this._scaleImage(s,mo(i));i.imageSmoothingEnabled=JI(Zt(i),e.interpolate),Tv(i,o.img,0,0,o.paintWidth,o.paintHeight,0,-r,n,r),this.compose(),this.restore()}paintInlineImageXObjectGroup(e,n){if(!this.contentVisible)return;const r=this.ctx;let i;if(e.bitmap)i=e.bitmap;else{const s=e.width,o=e.height,c=this.cachedCanvases.getCanvas("inlineImage",s,o).context;QI(c,e),i=this.applyTransferMapsToCanvas(c)}for(const s of n)r.save(),r.transform(...s.transform),r.scale(1,-1),Tv(r,i,s.x,s.y,s.w,s.h,0,-1,1,1),r.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(e){}markPointProps(e,n){}beginMarkedContent(e){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(e,n){e==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(n)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(e){const n=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(e);const r=this.ctx;this.pendingClip&&(n||(this.pendingClip===eN?r.clip("evenodd"):r.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),r.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const e=Zt(this.ctx);if(e[1]===0&&e[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(e[0]),Math.abs(e[3]));else{const n=Math.abs(e[0]*e[3]-e[2]*e[1]),r=Math.hypot(e[0],e[2]),i=Math.hypot(e[1],e[3]);this._cachedGetSinglePixelWidth=Math.max(r,i)/n}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:e}=this.current,{a:n,b:r,c:i,d:s}=this.ctx.getTransform();let o,a;if(r===0&&i===0){const c=Math.abs(n),d=Math.abs(s);if(c===d)if(e===0)o=a=1/c;else{const h=c*e;o=a=h<1?1/h:1}else if(e===0)o=1/c,a=1/d;else{const h=c*e,f=d*e;o=h<1?1/h:1,a=f<1?1/f:1}}else{const c=Math.abs(n*s-r*i),d=Math.hypot(n,r),h=Math.hypot(i,s);if(e===0)o=h/c,a=d/c;else{const f=e*c;o=h>f?h/f:1,a=d>f?d/f:1}}this._cachedScaleForStroking[0]=o,this._cachedScaleForStroking[1]=a}return this._cachedScaleForStroking}rescaleAndStroke(e){const{ctx:n}=this,{lineWidth:r}=this.current,[i,s]=this.getScaleForStroking();if(n.lineWidth=r||1,i===1&&s===1){n.stroke();return}const o=n.getLineDash();if(e&&n.save(),n.scale(i,s),o.length>0){const a=Math.max(i,s);n.setLineDash(o.map(c=>c/a)),n.lineDashOffset/=a}n.stroke(),e&&n.restore()}isContentVisible(){for(let e=this.markedContentStack.length-1;e>=0;e--)if(!this.markedContentStack[e].visible)return!1;return!0}};Cl=new WeakSet,fC=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},pC=function(){if(this.pageColors){const e=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(e!=="none"){const n=this.ctx.filter;this.ctx.filter=e,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=n}}};let md=RA;for(const t in $i)md.prototype[t]!==void 0&&(md.prototype[$i[t]]=md.prototype[t]);var gg,mg;class Qo{static get workerPort(){return v(this,gg)}static set workerPort(e){if(!(typeof Worker<"u"&&e instanceof Worker)&&e!==null)throw new Error("Invalid `workerPort` type.");j(this,gg,e)}static get workerSrc(){return v(this,mg)}static set workerSrc(e){if(typeof e!="string")throw new Error("Invalid `workerSrc` type.");j(this,mg,e)}}gg=new WeakMap,mg=new WeakMap,W(Qo,gg,null),W(Qo,mg,"");const Iv={DATA:1,ERROR:2},pn={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function Yr(t){switch(t instanceof Error||typeof t=="object"&&t!==null||Tt('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),t.name){case"AbortException":return new fu(t.message);case"MissingPDFException":return new hu(t.message);case"PasswordException":return new jE(t.message,t.code);case"UnexpectedResponseException":return new tw(t.message,t.status);case"UnknownErrorException":return new BE(t.message,t.details);default:return new BE(t.message,t.toString())}}var Xs,BD,HD,Kv;class Jf{constructor(e,n,r){W(this,Xs);this.sourceName=e,this.targetName=n,this.comObj=r,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=i=>{const s=i.data;if(s.targetName!==this.sourceName)return;if(s.stream){B(this,Xs,HD).call(this,s);return}if(s.callback){const a=s.callbackId,c=this.callbackCapabilities[a];if(!c)throw new Error(`Cannot resolve callback ${a}`);if(delete this.callbackCapabilities[a],s.callback===Iv.DATA)c.resolve(s.data);else if(s.callback===Iv.ERROR)c.reject(Yr(s.reason));else throw new Error("Unexpected callback case");return}const o=this.actionHandler[s.action];if(!o)throw new Error(`Unknown action from worker: ${s.action}`);if(s.callbackId){const a=this.sourceName,c=s.sourceName;new Promise(function(d){d(o(s.data))}).then(function(d){r.postMessage({sourceName:a,targetName:c,callback:Iv.DATA,callbackId:s.callbackId,data:d})},function(d){r.postMessage({sourceName:a,targetName:c,callback:Iv.ERROR,callbackId:s.callbackId,reason:Yr(d)})});return}if(s.streamId){B(this,Xs,BD).call(this,s);return}o(s.data)},r.addEventListener("message",this._onComObjOnMessage)}on(e,n){const r=this.actionHandler;if(r[e])throw new Error(`There is already an actionName called "${e}"`);r[e]=n}send(e,n,r){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,data:n},r)}sendWithPromise(e,n,r){const i=this.callbackId++,s=Promise.withResolvers();this.callbackCapabilities[i]=s;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,callbackId:i,data:n},r)}catch(o){s.reject(o)}return s.promise}sendWithStream(e,n,r,i){const s=this.streamId++,o=this.sourceName,a=this.targetName,c=this.comObj;return new ReadableStream({start:d=>{const h=Promise.withResolvers();return this.streamControllers[s]={controller:d,startCall:h,pullCall:null,cancelCall:null,isClosed:!1},c.postMessage({sourceName:o,targetName:a,action:e,streamId:s,data:n,desiredSize:d.desiredSize},i),h.promise},pull:d=>{const h=Promise.withResolvers();return this.streamControllers[s].pullCall=h,c.postMessage({sourceName:o,targetName:a,stream:pn.PULL,streamId:s,desiredSize:d.desiredSize}),h.promise},cancel:d=>{Rn(d instanceof Error,"cancel must have a valid reason");const h=Promise.withResolvers();return this.streamControllers[s].cancelCall=h,this.streamControllers[s].isClosed=!0,c.postMessage({sourceName:o,targetName:a,stream:pn.CANCEL,streamId:s,reason:Yr(d)}),h.promise}},r)}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}Xs=new WeakSet,BD=function(e){const n=e.streamId,r=this.sourceName,i=e.sourceName,s=this.comObj,o=this,a=this.actionHandler[e.action],c={enqueue(d,h=1,f){if(this.isCancelled)return;const p=this.desiredSize;this.desiredSize-=h,p>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),s.postMessage({sourceName:r,targetName:i,stream:pn.ENQUEUE,streamId:n,chunk:d},f)},close(){this.isCancelled||(this.isCancelled=!0,s.postMessage({sourceName:r,targetName:i,stream:pn.CLOSE,streamId:n}),delete o.streamSinks[n])},error(d){Rn(d instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,s.postMessage({sourceName:r,targetName:i,stream:pn.ERROR,streamId:n,reason:Yr(d)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:e.desiredSize,ready:null};c.sinkCapability.resolve(),c.ready=c.sinkCapability.promise,this.streamSinks[n]=c,new Promise(function(d){d(a(e.data,c))}).then(function(){s.postMessage({sourceName:r,targetName:i,stream:pn.START_COMPLETE,streamId:n,success:!0})},function(d){s.postMessage({sourceName:r,targetName:i,stream:pn.START_COMPLETE,streamId:n,reason:Yr(d)})})},HD=function(e){const n=e.streamId,r=this.sourceName,i=e.sourceName,s=this.comObj,o=this.streamControllers[n],a=this.streamSinks[n];switch(e.stream){case pn.START_COMPLETE:e.success?o.startCall.resolve():o.startCall.reject(Yr(e.reason));break;case pn.PULL_COMPLETE:e.success?o.pullCall.resolve():o.pullCall.reject(Yr(e.reason));break;case pn.PULL:if(!a){s.postMessage({sourceName:r,targetName:i,stream:pn.PULL_COMPLETE,streamId:n,success:!0});break}a.desiredSize<=0&&e.desiredSize>0&&a.sinkCapability.resolve(),a.desiredSize=e.desiredSize,new Promise(function(c){var d;c((d=a.onPull)==null?void 0:d.call(a))}).then(function(){s.postMessage({sourceName:r,targetName:i,stream:pn.PULL_COMPLETE,streamId:n,success:!0})},function(c){s.postMessage({sourceName:r,targetName:i,stream:pn.PULL_COMPLETE,streamId:n,reason:Yr(c)})});break;case pn.ENQUEUE:if(Rn(o,"enqueue should have stream controller"),o.isClosed)break;o.controller.enqueue(e.chunk);break;case pn.CLOSE:if(Rn(o,"close should have stream controller"),o.isClosed)break;o.isClosed=!0,o.controller.close(),B(this,Xs,Kv).call(this,o,n);break;case pn.ERROR:Rn(o,"error should have stream controller"),o.controller.error(Yr(e.reason)),B(this,Xs,Kv).call(this,o,n);break;case pn.CANCEL_COMPLETE:e.success?o.cancelCall.resolve():o.cancelCall.reject(Yr(e.reason)),B(this,Xs,Kv).call(this,o,n);break;case pn.CANCEL:if(!a)break;new Promise(function(c){var d;c((d=a.onCancel)==null?void 0:d.call(a,Yr(e.reason)))}).then(function(){s.postMessage({sourceName:r,targetName:i,stream:pn.CANCEL_COMPLETE,streamId:n,success:!0})},function(c){s.postMessage({sourceName:r,targetName:i,stream:pn.CANCEL_COMPLETE,streamId:n,reason:Yr(c)})}),a.sinkCapability.reject(Yr(e.reason)),a.isCancelled=!0,delete this.streamSinks[n];break;default:throw new Error("Unexpected stream case")}},Kv=async function(e,n){var r,i,s;await Promise.allSettled([(r=e.startCall)==null?void 0:r.promise,(i=e.pullCall)==null?void 0:i.promise,(s=e.cancelCall)==null?void 0:s.promise]),delete this.streamControllers[n]};var wc,yg;class eK{constructor({parsedData:e,rawData:n}){W(this,wc);W(this,yg);j(this,wc,e),j(this,yg,n)}getRaw(){return v(this,yg)}get(e){return v(this,wc).get(e)??null}getAll(){return tA(v(this,wc))}has(e){return v(this,wc).has(e)}}wc=new WeakMap,yg=new WeakMap;const Ba=Symbol("INTERNAL");var vg,bg,wg,Id;class tK{constructor(e,{name:n,intent:r,usage:i}){W(this,vg,!1);W(this,bg,!1);W(this,wg,!1);W(this,Id,!0);j(this,vg,!!(e&Ci.DISPLAY)),j(this,bg,!!(e&Ci.PRINT)),this.name=n,this.intent=r,this.usage=i}get visible(){if(v(this,wg))return v(this,Id);if(!v(this,Id))return!1;const{print:e,view:n}=this.usage;return v(this,vg)?(n==null?void 0:n.viewState)!=="OFF":v(this,bg)?(e==null?void 0:e.printState)!=="OFF":!0}_setVisible(e,n,r=!1){e!==Ba&&Tt("Internal method `_setVisible` called."),j(this,wg,r),j(this,Id,n)}}vg=new WeakMap,bg=new WeakMap,wg=new WeakMap,Id=new WeakMap;var Ja,kt,Nd,Md,xg,gC;class nK{constructor(e,n=Ci.DISPLAY){W(this,xg);W(this,Ja,null);W(this,kt,new Map);W(this,Nd,null);W(this,Md,null);if(this.renderingIntent=n,this.name=null,this.creator=null,e!==null){this.name=e.name,this.creator=e.creator,j(this,Md,e.order);for(const r of e.groups)v(this,kt).set(r.id,new tK(n,r));if(e.baseState==="OFF")for(const r of v(this,kt).values())r._setVisible(Ba,!1);for(const r of e.on)v(this,kt).get(r)._setVisible(Ba,!0);for(const r of e.off)v(this,kt).get(r)._setVisible(Ba,!1);j(this,Nd,this.getHash())}}isVisible(e){if(v(this,kt).size===0)return!0;if(!e)return ew("Optional content group not defined."),!0;if(e.type==="OCG")return v(this,kt).has(e.id)?v(this,kt).get(e.id).visible:(Je(`Optional content group not found: ${e.id}`),!0);if(e.type==="OCMD"){if(e.expression)return B(this,xg,gC).call(this,e.expression);if(!e.policy||e.policy==="AnyOn"){for(const n of e.ids){if(!v(this,kt).has(n))return Je(`Optional content group not found: ${n}`),!0;if(v(this,kt).get(n).visible)return!0}return!1}else if(e.policy==="AllOn"){for(const n of e.ids){if(!v(this,kt).has(n))return Je(`Optional content group not found: ${n}`),!0;if(!v(this,kt).get(n).visible)return!1}return!0}else if(e.policy==="AnyOff"){for(const n of e.ids){if(!v(this,kt).has(n))return Je(`Optional content group not found: ${n}`),!0;if(!v(this,kt).get(n).visible)return!0}return!1}else if(e.policy==="AllOff"){for(const n of e.ids){if(!v(this,kt).has(n))return Je(`Optional content group not found: ${n}`),!0;if(v(this,kt).get(n).visible)return!1}return!0}return Je(`Unknown optional content policy ${e.policy}.`),!0}return Je(`Unknown group type ${e.type}.`),!0}setVisibility(e,n=!0){const r=v(this,kt).get(e);if(!r){Je(`Optional content group not found: ${e}`);return}r._setVisible(Ba,!!n,!0),j(this,Ja,null)}setOCGState({state:e,preserveRB:n}){let r;for(const i of e){switch(i){case"ON":case"OFF":case"Toggle":r=i;continue}const s=v(this,kt).get(i);if(s)switch(r){case"ON":s._setVisible(Ba,!0);break;case"OFF":s._setVisible(Ba,!1);break;case"Toggle":s._setVisible(Ba,!s.visible);break}}j(this,Ja,null)}get hasInitialVisibility(){return v(this,Nd)===null||this.getHash()===v(this,Nd)}getOrder(){return v(this,kt).size?v(this,Md)?v(this,Md).slice():[...v(this,kt).keys()]:null}getGroups(){return v(this,kt).size>0?tA(v(this,kt)):null}getGroup(e){return v(this,kt).get(e)||null}getHash(){if(v(this,Ja)!==null)return v(this,Ja);const e=new FD;for(const[n,r]of v(this,kt))e.update(`${n}:${r.visible}`);return j(this,Ja,e.hexdigest())}}Ja=new WeakMap,kt=new WeakMap,Nd=new WeakMap,Md=new WeakMap,xg=new WeakSet,gC=function(e){const n=e.length;if(n<2)return!0;const r=e[0];for(let i=1;i<n;i++){const s=e[i];let o;if(Array.isArray(s))o=B(this,xg,gC).call(this,s);else if(v(this,kt).has(s))o=v(this,kt).get(s).visible;else return Je(`Optional content group not found: ${s}`),!0;switch(r){case"And":if(!o)return!1;break;case"Or":if(o)return!0;break;case"Not":return!o;default:return!0}}return r==="And"};class rK{constructor(e,{disableRange:n=!1,disableStream:r=!1}){Rn(e,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:i,initialData:s,progressiveDone:o,contentDispositionFilename:a}=e;if(this._queuedChunks=[],this._progressiveDone=o,this._contentDispositionFilename=a,(s==null?void 0:s.length)>0){const c=s instanceof Uint8Array&&s.byteLength===s.buffer.byteLength?s.buffer:new Uint8Array(s).buffer;this._queuedChunks.push(c)}this._pdfDataRangeTransport=e,this._isStreamingSupported=!r,this._isRangeSupported=!n,this._contentLength=i,this._fullRequestReader=null,this._rangeReaders=[],e.addRangeListener((c,d)=>{this._onReceiveData({begin:c,chunk:d})}),e.addProgressListener((c,d)=>{this._onProgress({loaded:c,total:d})}),e.addProgressiveReadListener(c=>{this._onReceiveData({chunk:c})}),e.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),e.transportReady()}_onReceiveData({begin:e,chunk:n}){const r=n instanceof Uint8Array&&n.byteLength===n.buffer.byteLength?n.buffer:new Uint8Array(n).buffer;if(e===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(r):this._queuedChunks.push(r);else{const i=this._rangeReaders.some(function(s){return s._begin!==e?!1:(s._enqueue(r),!0)});Rn(i,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}_onProgress(e){var n,r,i,s;e.total===void 0?(r=(n=this._rangeReaders[0])==null?void 0:n.onProgress)==null||r.call(n,{loaded:e.loaded}):(s=(i=this._fullRequestReader)==null?void 0:i.onProgress)==null||s.call(i,{loaded:e.loaded,total:e.total})}_onProgressiveDone(){var e;(e=this._fullRequestReader)==null||e.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(e){const n=this._rangeReaders.indexOf(e);n>=0&&this._rangeReaders.splice(n,1)}getFullReader(){Rn(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const e=this._queuedChunks;return this._queuedChunks=null,new iK(this,e,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(e,n){if(n<=this._progressiveDataLength)return null;const r=new sK(this,e,n);return this._pdfDataRangeTransport.requestDataRange(e,n),this._rangeReaders.push(r),r}cancelAllRequests(e){var n;(n=this._fullRequestReader)==null||n.cancel(e);for(const r of this._rangeReaders.slice(0))r.cancel(e);this._pdfDataRangeTransport.abort()}}class iK{constructor(e,n,r=!1,i=null){this._stream=e,this._done=r||!1,this._filename=oA(i)?i:null,this._queuedChunks=n||[],this._loaded=0;for(const s of this._queuedChunks)this._loaded+=s.byteLength;this._requests=[],this._headersReady=Promise.resolve(),e._fullRequestReader=this,this.onProgress=null}_enqueue(e){this._done||(this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunks.push(e),this._loaded+=e.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class sK{constructor(e,n,r){this._stream=e,this._begin=n,this._end=r,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(e){if(!this._done){if(this._requests.length===0)this._queuedChunk=e;else{this._requests.shift().resolve({value:e,done:!1});for(const r of this._requests)r.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const n=this._queuedChunk;return this._queuedChunk=null,{value:n,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function oK(t){let e=!0,n=r("filename\\*","i").exec(t);if(n){n=n[1];let h=a(n);return h=unescape(h),h=c(h),h=d(h),s(h)}if(n=o(t),n){const h=d(n);return s(h)}if(n=r("filename","i").exec(t),n){n=n[1];let h=a(n);return h=d(h),s(h)}function r(h,f){return new RegExp("(?:^|;)\\s*"+h+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',f)}function i(h,f){if(h){if(!/^[\x00-\xFF]+$/.test(f))return f;try{const p=new TextDecoder(h,{fatal:!0}),m=nw(f);f=p.decode(m),e=!1}catch{}}return f}function s(h){return e&&/[\x80-\xff]/.test(h)&&(h=i("utf-8",h),e&&(h=i("iso-8859-1",h))),h}function o(h){const f=[];let p;const m=r("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(p=m.exec(h))!==null;){let[,b,E,x]=p;if(b=parseInt(b,10),b in f){if(b===0)break;continue}f[b]=[E,x]}const y=[];for(let b=0;b<f.length&&b in f;++b){let[E,x]=f[b];x=a(x),E&&(x=unescape(x),b===0&&(x=c(x))),y.push(x)}return y.join("")}function a(h){if(h.startsWith('"')){const f=h.slice(1).split('\\"');for(let p=0;p<f.length;++p){const m=f[p].indexOf('"');m!==-1&&(f[p]=f[p].slice(0,m),f.length=p+1),f[p]=f[p].replaceAll(/\\(.)/g,"$1")}h=f.join('"')}return h}function c(h){const f=h.indexOf("'");if(f===-1)return h;const p=h.slice(0,f),y=h.slice(f+1).replace(/^[^']*'/,"");return i(p,y)}function d(h){return!h.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(h)?h:h.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(f,p,m,y){if(m==="q"||m==="Q")return y=y.replaceAll("_"," "),y=y.replaceAll(/=([0-9a-fA-F]{2})/g,function(b,E){return String.fromCharCode(parseInt(E,16))}),i(p,y);try{y=atob(y)}catch{}return i(p,y)})}return""}function cA({getResponseHeader:t,isHttp:e,rangeChunkSize:n,disableRange:r}){const i={allowRangeRequests:!1,suggestedLength:void 0},s=parseInt(t("Content-Length"),10);return!Number.isInteger(s)||(i.suggestedLength=s,s<=2*n)||r||!e||t("Accept-Ranges")!=="bytes"||(t("Content-Encoding")||"identity")!=="identity"||(i.allowRangeRequests=!0),i}function uA(t){const e=t("Content-Disposition");if(e){let n=oK(e);if(n.includes("%"))try{n=decodeURIComponent(n)}catch{}if(oA(n))return n}return null}function aw(t,e){return t===404||t===0&&e.startsWith("file:")?new hu('Missing PDF "'+e+'".'):new tw(`Unexpected server response (${t}) while retrieving PDF "${e}".`,t)}function WD(t){return t===200||t===206}function UD(t,e,n){return{method:"GET",headers:t,signal:n.signal,mode:"cors",credentials:e?"include":"same-origin",redirect:"follow"}}function VD(t){const e=new Headers;for(const n in t){const r=t[n];r!==void 0&&e.append(n,r)}return e}function GD(t){return t instanceof Uint8Array?t.buffer:t instanceof ArrayBuffer?t:(Je(`getArrayBuffer - unexpected data format: ${t}`),new Uint8Array(t).buffer)}class tN{constructor(e){this.source=e,this.isHttp=/^https?:/i.test(e.url),this.httpHeaders=this.isHttp&&e.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return Rn(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new aK(this),this._fullRequestReader}getRangeReader(e,n){if(n<=this._progressiveDataLength)return null;const r=new lK(this,e,n);return this._rangeRequestReaders.push(r),r}cancelAllRequests(e){var n;(n=this._fullRequestReader)==null||n.cancel(e);for(const r of this._rangeRequestReaders.slice(0))r.cancel(e)}}class aK{constructor(e){this._stream=e,this._reader=null,this._loaded=0,this._filename=null;const n=e.source;this._withCredentials=n.withCredentials||!1,this._contentLength=n.length,this._headersCapability=Promise.withResolvers(),this._disableRange=n.disableRange||!1,this._rangeChunkSize=n.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!n.disableStream,this._isRangeSupported=!n.disableRange,this._headers=VD(this._stream.httpHeaders);const r=n.url;fetch(r,UD(this._headers,this._withCredentials,this._abortController)).then(i=>{if(!WD(i.status))throw aw(i.status,r);this._reader=i.body.getReader(),this._headersCapability.resolve();const s=c=>i.headers.get(c),{allowRangeRequests:o,suggestedLength:a}=cA({getResponseHeader:s,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=o,this._contentLength=a||this._contentLength,this._filename=uA(s),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new fu("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var r;await this._headersCapability.promise;const{value:e,done:n}=await this._reader.read();return n?{value:e,done:n}:(this._loaded+=e.byteLength,(r=this.onProgress)==null||r.call(this,{loaded:this._loaded,total:this._contentLength}),{value:GD(e),done:!1})}cancel(e){var n;(n=this._reader)==null||n.cancel(e),this._abortController.abort()}}class lK{constructor(e,n,r){this._stream=e,this._reader=null,this._loaded=0;const i=e.source;this._withCredentials=i.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!i.disableStream,this._abortController=new AbortController,this._headers=VD(this._stream.httpHeaders),this._headers.append("Range",`bytes=${n}-${r-1}`);const s=i.url;fetch(s,UD(this._headers,this._withCredentials,this._abortController)).then(o=>{if(!WD(o.status))throw aw(o.status,s);this._readCapability.resolve(),this._reader=o.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var r;await this._readCapability.promise;const{value:e,done:n}=await this._reader.read();return n?{value:e,done:n}:(this._loaded+=e.byteLength,(r=this.onProgress)==null||r.call(this,{loaded:this._loaded}),{value:GD(e),done:!1})}cancel(e){var n;(n=this._reader)==null||n.cancel(e),this._abortController.abort()}}const YS=200,XS=206;function cK(t){const e=t.response;return typeof e!="string"?e:nw(e).buffer}class uK{constructor(e,n={}){this.url=e,this.isHttp=/^https?:/i.test(e),this.httpHeaders=this.isHttp&&n.httpHeaders||Object.create(null),this.withCredentials=n.withCredentials||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(e,n,r){const i={begin:e,end:n};for(const s in r)i[s]=r[s];return this.request(i)}requestFull(e){return this.request(e)}request(e){const n=new XMLHttpRequest,r=this.currXhrId++,i=this.pendingRequests[r]={xhr:n};n.open("GET",this.url),n.withCredentials=this.withCredentials;for(const s in this.httpHeaders){const o=this.httpHeaders[s];o!==void 0&&n.setRequestHeader(s,o)}return this.isHttp&&"begin"in e&&"end"in e?(n.setRequestHeader("Range",`bytes=${e.begin}-${e.end-1}`),i.expectedStatus=XS):i.expectedStatus=YS,n.responseType="arraybuffer",e.onError&&(n.onerror=function(s){e.onError(n.status)}),n.onreadystatechange=this.onStateChange.bind(this,r),n.onprogress=this.onProgress.bind(this,r),i.onHeadersReceived=e.onHeadersReceived,i.onDone=e.onDone,i.onError=e.onError,i.onProgress=e.onProgress,n.send(null),r}onProgress(e,n){var i;const r=this.pendingRequests[e];r&&((i=r.onProgress)==null||i.call(r,n))}onStateChange(e,n){var c,d,h;const r=this.pendingRequests[e];if(!r)return;const i=r.xhr;if(i.readyState>=2&&r.onHeadersReceived&&(r.onHeadersReceived(),delete r.onHeadersReceived),i.readyState!==4||!(e in this.pendingRequests))return;if(delete this.pendingRequests[e],i.status===0&&this.isHttp){(c=r.onError)==null||c.call(r,i.status);return}const s=i.status||YS;if(!(s===YS&&r.expectedStatus===XS)&&s!==r.expectedStatus){(d=r.onError)==null||d.call(r,i.status);return}const a=cK(i);if(s===XS){const f=i.getResponseHeader("Content-Range"),p=/bytes (\d+)-(\d+)\/(\d+)/.exec(f);r.onDone({begin:parseInt(p[1],10),chunk:a})}else a?r.onDone({begin:0,chunk:a}):(h=r.onError)==null||h.call(r,i.status)}getRequestXhr(e){return this.pendingRequests[e].xhr}isPendingRequest(e){return e in this.pendingRequests}abortRequest(e){const n=this.pendingRequests[e].xhr;delete this.pendingRequests[e],n.abort()}}class dK{constructor(e){this._source=e,this._manager=new uK(e.url,{httpHeaders:e.httpHeaders,withCredentials:e.withCredentials}),this._rangeChunkSize=e.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(e){const n=this._rangeRequestReaders.indexOf(e);n>=0&&this._rangeRequestReaders.splice(n,1)}getFullReader(){return Rn(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new hK(this._manager,this._source),this._fullRequestReader}getRangeReader(e,n){const r=new fK(this._manager,e,n);return r.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(r),r}cancelAllRequests(e){var n;(n=this._fullRequestReader)==null||n.cancel(e);for(const r of this._rangeRequestReaders.slice(0))r.cancel(e)}}class hK{constructor(e,n){this._manager=e;const r={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=n.url,this._fullRequestId=e.requestFull(r),this._headersReceivedCapability=Promise.withResolvers(),this._disableRange=n.disableRange||!1,this._contentLength=n.length,this._rangeChunkSize=n.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const e=this._fullRequestId,n=this._manager.getRequestXhr(e),r=o=>n.getResponseHeader(o),{allowRangeRequests:i,suggestedLength:s}=cA({getResponseHeader:r,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});i&&(this._isRangeSupported=!0),this._contentLength=s||this._contentLength,this._filename=uA(r),this._isRangeSupported&&this._manager.abortRequest(e),this._headersReceivedCapability.resolve()}_onDone(e){if(e&&(this._requests.length>0?this._requests.shift().resolve({value:e.chunk,done:!1}):this._cachedChunks.push(e.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(e){this._storedError=aw(e,this._url),this._headersReceivedCapability.reject(this._storedError);for(const n of this._requests)n.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(e){var n;(n=this.onProgress)==null||n.call(this,{loaded:e.loaded,total:e.lengthComputable?e.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0,this._headersReceivedCapability.reject(e);for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class fK{constructor(e,n,r){this._manager=e;const i={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=e.url,this._requestId=e.requestRange(n,r,i),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var e;(e=this.onClosed)==null||e.call(this,this)}_onDone(e){const n=e.chunk;this._requests.length>0?this._requests.shift().resolve({value:n,done:!1}):this._queuedChunk=n,this._done=!0;for(const r of this._requests)r.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(e){this._storedError=aw(e,this._url);for(const n of this._requests)n.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(e){var n;this.isStreamingSupported||(n=this.onProgress)==null||n.call(this,{loaded:e.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const n=this._queuedChunk;return this._queuedChunk=null,{value:n,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const qD=/^file:\/\/\/[a-zA-Z]:\//;function pK(t){const e=Zs.get("url"),n=e.parse(t);return n.protocol==="file:"||n.host?n:/^[a-z]:[/\\]/i.test(t)?e.parse(`file:///${t}`):(n.host||(n.protocol="file:"),n)}class gK{constructor(e){this.source=e,this.url=pK(e.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.httpHeaders=this.isHttp&&e.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return Rn(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new vK(this):new mK(this),this._fullRequestReader}getRangeReader(e,n){if(n<=this._progressiveDataLength)return null;const r=this.isFsUrl?new bK(this,e,n):new yK(this,e,n);return this._rangeRequestReaders.push(r),r}cancelAllRequests(e){var n;(n=this._fullRequestReader)==null||n.cancel(e);for(const r of this._rangeRequestReaders.slice(0))r.cancel(e)}}class YD{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null;const n=e.source;this._contentLength=n.length,this._loaded=0,this._filename=null,this._disableRange=n.disableRange||!1,this._rangeChunkSize=n.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!n.disableStream,this._isRangeSupported=!n.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var r;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(r=this.onProgress)==null||r.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",n=>{this._error(n)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new fu("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class XD{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const n=e.source;this._isStreamingSupported=!n.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){var r;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(r=this.onProgress)==null||r.call(this,{loaded:this._loaded}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",n=>{this._error(n)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function H0(t,e){return{protocol:t.protocol,auth:t.auth,host:t.hostname,port:t.port,path:t.path,method:"GET",headers:e}}class mK extends YD{constructor(e){super(e);const n=r=>{if(r.statusCode===404){const a=new hu(`Missing PDF "${this._url}".`);this._storedError=a,this._headersCapability.reject(a);return}this._headersCapability.resolve(),this._setReadableStream(r);const i=a=>this._readableStream.headers[a.toLowerCase()],{allowRangeRequests:s,suggestedLength:o}=cA({getResponseHeader:i,isHttp:e.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=s,this._contentLength=o||this._contentLength,this._filename=uA(i)};if(this._request=null,this._url.protocol==="http:"){const r=Zs.get("http");this._request=r.request(H0(this._url,e.httpHeaders),n)}else{const r=Zs.get("https");this._request=r.request(H0(this._url,e.httpHeaders),n)}this._request.on("error",r=>{this._storedError=r,this._headersCapability.reject(r)}),this._request.end()}}class yK extends XD{constructor(e,n,r){super(e),this._httpHeaders={};for(const s in e.httpHeaders){const o=e.httpHeaders[s];o!==void 0&&(this._httpHeaders[s]=o)}this._httpHeaders.Range=`bytes=${n}-${r-1}`;const i=s=>{if(s.statusCode===404){const o=new hu(`Missing PDF "${this._url}".`);this._storedError=o;return}this._setReadableStream(s)};if(this._request=null,this._url.protocol==="http:"){const s=Zs.get("http");this._request=s.request(H0(this._url,this._httpHeaders),i)}else{const s=Zs.get("https");this._request=s.request(H0(this._url,this._httpHeaders),i)}this._request.on("error",s=>{this._storedError=s}),this._request.end()}}class vK extends YD{constructor(e){super(e);let n=decodeURIComponent(this._url.path);qD.test(this._url.href)&&(n=n.replace(/^\//,""));const r=Zs.get("fs");r.promises.lstat(n).then(i=>{this._contentLength=i.size,this._setReadableStream(r.createReadStream(n)),this._headersCapability.resolve()},i=>{i.code==="ENOENT"&&(i=new hu(`Missing PDF "${n}".`)),this._storedError=i,this._headersCapability.reject(i)})}}class bK extends XD{constructor(e,n,r){super(e);let i=decodeURIComponent(this._url.path);qD.test(this._url.href)&&(i=i.replace(/^\//,""));const s=Zs.get("fs");this._setReadableStream(s.createReadStream(i,{start:n,end:r-1}))}}const wK=1e5,Tr=30,xK=.8;var tO,el,Ir,Sg,Eg,xc,Io,Cg,_g,Sc,Od,Ld,tl,Dd,Ag,Fd,Ec,kg,Rg,Cc,_c,nl,$d,aa,KD,QD,mC,Ks,Qv,ZD,JD;const Jn=class Jn{constructor({textContentSource:e,container:n,viewport:r}){W(this,aa);W(this,el,Promise.withResolvers());W(this,Ir,null);W(this,Sg,!1);W(this,Eg,!!((tO=globalThis.FontInspector)!=null&&tO.enabled));W(this,xc,null);W(this,Io,null);W(this,Cg,0);W(this,_g,0);W(this,Sc,null);W(this,Od,null);W(this,Ld,0);W(this,tl,0);W(this,Dd,Object.create(null));W(this,Ag,[]);W(this,Fd,null);W(this,Ec,[]);W(this,kg,new WeakMap);W(this,Rg,null);var c;if(e instanceof ReadableStream)j(this,Fd,e);else if(typeof e=="object")j(this,Fd,new ReadableStream({start(d){d.enqueue(e),d.close()}}));else throw new Error('No "textContentSource" parameter specified.');j(this,Ir,j(this,Od,n)),j(this,tl,r.scale*(globalThis.devicePixelRatio||1)),j(this,Ld,r.rotation),j(this,Io,{prevFontSize:null,prevFontFamily:null,div:null,properties:null,ctx:null});const{pageWidth:i,pageHeight:s,pageX:o,pageY:a}=r.rawDims;j(this,Rg,[1,0,0,-1,-o,a+s]),j(this,_g,i),j(this,Cg,s),B(c=Jn,Ks,ZD).call(c),ru(n,r),v(this,el).promise.catch(()=>{}).then(()=>{v(Jn,$d).delete(this),j(this,Io,null),j(this,Dd,null)})}render(){const e=()=>{v(this,Sc).read().then(({value:n,done:r})=>{if(r){v(this,el).resolve();return}v(this,xc)??j(this,xc,n.lang),Object.assign(v(this,Dd),n.styles),B(this,aa,KD).call(this,n.items),e()},v(this,el).reject)};return j(this,Sc,v(this,Fd).getReader()),v(Jn,$d).add(this),e(),v(this,el).promise}update({viewport:e,onBefore:n=null}){var s;const r=e.scale*(globalThis.devicePixelRatio||1),i=e.rotation;if(i!==v(this,Ld)&&(n==null||n(),j(this,Ld,i),ru(v(this,Od),{rotation:i})),r!==v(this,tl)){n==null||n(),j(this,tl,r);const o={prevFontSize:null,prevFontFamily:null,div:null,properties:null,ctx:B(s=Jn,Ks,Qv).call(s,v(this,xc))};for(const a of v(this,Ec))o.properties=v(this,kg).get(a),o.div=a,B(this,aa,mC).call(this,o)}}cancel(){var n;const e=new fu("TextLayer task cancelled.");(n=v(this,Sc))==null||n.cancel(e).catch(()=>{}),j(this,Sc,null),v(this,el).reject(e)}get textDivs(){return v(this,Ec)}get textContentItemsStr(){return v(this,Ag)}static cleanup(){if(!(v(this,$d).size>0)){v(this,Cc).clear();for(const{canvas:e}of v(this,_c).values())e.remove();v(this,_c).clear()}}};el=new WeakMap,Ir=new WeakMap,Sg=new WeakMap,Eg=new WeakMap,xc=new WeakMap,Io=new WeakMap,Cg=new WeakMap,_g=new WeakMap,Sc=new WeakMap,Od=new WeakMap,Ld=new WeakMap,tl=new WeakMap,Dd=new WeakMap,Ag=new WeakMap,Fd=new WeakMap,Ec=new WeakMap,kg=new WeakMap,Rg=new WeakMap,Cc=new WeakMap,_c=new WeakMap,nl=new WeakMap,$d=new WeakMap,aa=new WeakSet,KD=function(e){var i,s;if(v(this,Sg))return;(s=v(this,Io)).ctx??(s.ctx=B(i=Jn,Ks,Qv).call(i,v(this,xc)));const n=v(this,Ec),r=v(this,Ag);for(const o of e){if(n.length>wK){Je("Ignoring additional textDivs for performance reasons."),j(this,Sg,!0);return}if(o.str===void 0){if(o.type==="beginMarkedContentProps"||o.type==="beginMarkedContent"){const a=v(this,Ir);j(this,Ir,document.createElement("span")),v(this,Ir).classList.add("markedContent"),o.id!==null&&v(this,Ir).setAttribute("id",`${o.id}`),a.append(v(this,Ir))}else o.type==="endMarkedContent"&&j(this,Ir,v(this,Ir).parentNode);continue}r.push(o.str),B(this,aa,QD).call(this,o)}},QD=function(e){var b;const n=document.createElement("span"),r={angle:0,canvasWidth:0,hasText:e.str!=="",hasEOL:e.hasEOL,fontSize:0};v(this,Ec).push(n);const i=$e.transform(v(this,Rg),e.transform);let s=Math.atan2(i[1],i[0]);const o=v(this,Dd)[e.fontName];o.vertical&&(s+=Math.PI/2);const a=v(this,Eg)&&o.fontSubstitution||o.fontFamily,c=Math.hypot(i[2],i[3]),d=c*B(b=Jn,Ks,JD).call(b,a,v(this,xc));let h,f;s===0?(h=i[4],f=i[5]-d):(h=i[4]+d*Math.sin(s),f=i[5]-d*Math.cos(s));const p="calc(var(--scale-factor)*",m=n.style;v(this,Ir)===v(this,Od)?(m.left=`${(100*h/v(this,_g)).toFixed(2)}%`,m.top=`${(100*f/v(this,Cg)).toFixed(2)}%`):(m.left=`${p}${h.toFixed(2)}px)`,m.top=`${p}${f.toFixed(2)}px)`),m.fontSize=`${p}${(v(Jn,nl)*c).toFixed(2)}px)`,m.fontFamily=a,r.fontSize=c,n.setAttribute("role","presentation"),n.textContent=e.str,n.dir=e.dir,v(this,Eg)&&(n.dataset.fontName=o.fontSubstitutionLoadedName||e.fontName),s!==0&&(r.angle=s*(180/Math.PI));let y=!1;if(e.str.length>1)y=!0;else if(e.str!==" "&&e.transform[0]!==e.transform[3]){const E=Math.abs(e.transform[0]),x=Math.abs(e.transform[3]);E!==x&&Math.max(E,x)/Math.min(E,x)>1.5&&(y=!0)}if(y&&(r.canvasWidth=o.vertical?e.height:e.width),v(this,kg).set(n,r),v(this,Io).div=n,v(this,Io).properties=r,B(this,aa,mC).call(this,v(this,Io)),r.hasText&&v(this,Ir).append(n),r.hasEOL){const E=document.createElement("br");E.setAttribute("role","presentation"),v(this,Ir).append(E)}},mC=function(e){const{div:n,properties:r,ctx:i,prevFontSize:s,prevFontFamily:o}=e,{style:a}=n;let c="";if(v(Jn,nl)>1&&(c=`scale(${1/v(Jn,nl)})`),r.canvasWidth!==0&&r.hasText){const{fontFamily:d}=a,{canvasWidth:h,fontSize:f}=r;(s!==f||o!==d)&&(i.font=`${f*v(this,tl)}px ${d}`,e.prevFontSize=f,e.prevFontFamily=d);const{width:p}=i.measureText(n.textContent);p>0&&(c=`scaleX(${h*v(this,tl)/p}) ${c}`)}r.angle!==0&&(c=`rotate(${r.angle}deg) ${c}`),c.length>0&&(a.transform=c)},Ks=new WeakSet,Qv=function(e=null){let n=v(this,_c).get(e||(e=""));if(!n){const r=document.createElement("canvas");r.className="hiddenCanvasElement",r.lang=e,document.body.append(r),n=r.getContext("2d",{alpha:!1,willReadFrequently:!0}),v(this,_c).set(e,n)}return n},ZD=function(){if(v(this,nl)!==null)return;const e=document.createElement("div");e.style.opacity=0,e.style.lineHeight=1,e.style.fontSize="1px",e.textContent="X",document.body.append(e),j(this,nl,e.getBoundingClientRect().height),e.remove()},JD=function(e,n){const r=v(this,Cc).get(e);if(r)return r;const i=B(this,Ks,Qv).call(this,n),s=i.font;i.canvas.width=i.canvas.height=Tr,i.font=`${Tr}px ${e}`;const o=i.measureText("");let a=o.fontBoundingBoxAscent,c=Math.abs(o.fontBoundingBoxDescent);if(a){const f=a/(a+c);return v(this,Cc).set(e,f),i.canvas.width=i.canvas.height=0,i.font=s,f}i.strokeStyle="red",i.clearRect(0,0,Tr,Tr),i.strokeText("g",0,0);let d=i.getImageData(0,0,Tr,Tr).data;c=0;for(let f=d.length-1-3;f>=0;f-=4)if(d[f]>0){c=Math.ceil(f/4/Tr);break}i.clearRect(0,0,Tr,Tr),i.strokeText("A",0,Tr),d=i.getImageData(0,0,Tr,Tr).data,a=0;for(let f=0,p=d.length;f<p;f+=4)if(d[f]>0){a=Tr-Math.floor(f/4/Tr);break}i.canvas.width=i.canvas.height=0,i.font=s;const h=a?a/(a+c):xK;return v(this,Cc).set(e,h),h},W(Jn,Ks),W(Jn,Cc,new Map),W(Jn,_c,new Map),W(Jn,nl,null),W(Jn,$d,new Set);let Sh=Jn;function SK(){dD("`renderTextLayer`, please use `TextLayer` instead.");const{textContentSource:t,container:e,viewport:n,...r}=arguments[0],i=Object.keys(r);i.length>0&&Je("Ignoring `renderTextLayer` parameters: "+i.join(", "));const s=new Sh({textContentSource:t,container:e,viewport:n}),{textDivs:o,textContentItemsStr:a}=s;return{promise:s.render(),textDivs:o,textContentItemsStr:a}}function EK(){dD("`updateTextLayer`, please use `TextLayer` instead.")}class Op{static textContent(e){const n=[],r={items:n,styles:Object.create(null)};function i(s){var c;if(!s)return;let o=null;const a=s.name;if(a==="#text")o=s.value;else if(Op.shouldBuildText(a))(c=s==null?void 0:s.attributes)!=null&&c.textContent?o=s.attributes.textContent:s.value&&(o=s.value);else return;if(o!==null&&n.push({str:o}),!!s.children)for(const d of s.children)i(d)}return i(e),r}static shouldBuildText(e){return!(e==="textarea"||e==="input"||e==="option"||e==="select")}}const CK=65536,_K=100,AK=5e3,kK=sr?$X:_X,RK=sr?zX:cD,TK=sr?FX:CX,PK=sr?jX:uD;function IK(t={}){typeof t=="string"||t instanceof URL?t={url:t}:(t instanceof ArrayBuffer||ArrayBuffer.isView(t))&&(t={data:t});const e=new yC,{docId:n}=e,r=t.url?NK(t.url):null,i=t.data?MK(t.data):null,s=t.httpHeaders||null,o=t.withCredentials===!0,a=t.password??null,c=t.range instanceof eF?t.range:null,d=Number.isInteger(t.rangeChunkSize)&&t.rangeChunkSize>0?t.rangeChunkSize:CK;let h=t.worker instanceof yd?t.worker:null;const f=t.verbosity,p=typeof t.docBaseUrl=="string"&&!sA(t.docBaseUrl)?t.docBaseUrl:null,m=typeof t.cMapUrl=="string"?t.cMapUrl:null,y=t.cMapPacked!==!1,b=t.CMapReaderFactory||RK,E=typeof t.standardFontDataUrl=="string"?t.standardFontDataUrl:null,x=t.StandardFontDataFactory||PK,C=t.stopAtErrors!==!0,S=Number.isInteger(t.maxImageSize)&&t.maxImageSize>-1?t.maxImageSize:-1,_=t.isEvalSupported!==!1,k=typeof t.isOffscreenCanvasSupported=="boolean"?t.isOffscreenCanvasSupported:!sr,N=Number.isInteger(t.canvasMaxAreaInBytes)?t.canvasMaxAreaInBytes:-1,T=typeof t.disableFontFace=="boolean"?t.disableFontFace:sr,M=t.fontExtraProperties===!0,O=t.enableXfa===!0,R=t.ownerDocument||globalThis.document,F=t.disableRange===!0,z=t.disableStream===!0,U=t.disableAutoFetch===!0,D=t.pdfBug===!0,V=t.enableHWA===!0,H=c?c.length:t.length??NaN,K=typeof t.useSystemFonts=="boolean"?t.useSystemFonts:!sr&&!T,q=typeof t.useWorkerFetch=="boolean"?t.useWorkerFetch:b===cD&&x===uD&&m&&E&&Kf(m,document.baseURI)&&Kf(E,document.baseURI),G=t.canvasFactory||new kK({ownerDocument:R,enableHWA:V}),te=t.filterFactory||new TK({docId:n,ownerDocument:R}),Y=null;fX(f);const Z={canvasFactory:G,filterFactory:te};if(q||(Z.cMapReaderFactory=new b({baseUrl:m,isCompressed:y}),Z.standardFontDataFactory=new x({baseUrl:E})),!h){const J={verbosity:f,port:Qo.workerPort};h=J.port?yd.fromPort(J):new yd(J),e._worker=h}const X={docId:n,apiVersion:"4.4.168",data:i,password:a,disableAutoFetch:U,rangeChunkSize:d,length:H,docBaseUrl:p,enableXfa:O,evaluatorOptions:{maxImageSize:S,disableFontFace:T,ignoreErrors:C,isEvalSupported:_,isOffscreenCanvasSupported:k,canvasMaxAreaInBytes:N,fontExtraProperties:M,useSystemFonts:K,cMapUrl:q?m:null,standardFontDataUrl:q?E:null}},Q={disableFontFace:T,fontExtraProperties:M,ownerDocument:R,pdfBug:D,styleElement:Y,loadingParams:{disableAutoFetch:U,enableXfa:O}};return h.promise.then(function(){if(e.destroyed)throw new Error("Loading aborted");if(h.destroyed)throw new Error("Worker was destroyed");const J=h.messageHandler.sendWithPromise("GetDocRequest",X,i?[i.buffer]:null);let ie;if(c)ie=new rK(c,{disableRange:F,disableStream:z});else if(!i){if(!r)throw new Error("getDocument - no `url` parameter provided.");ie=(oe=>sr?function(){return typeof fetch<"u"&&typeof Response<"u"&&"body"in Response.prototype}()&&Kf(oe.url)?new tN(oe):new gK(oe):Kf(oe.url)?new tN(oe):new dK(oe))({url:r,length:H,httpHeaders:s,withCredentials:o,rangeChunkSize:d,disableRange:F,disableStream:z})}return J.then(ne=>{if(e.destroyed)throw new Error("Loading aborted");if(h.destroyed)throw new Error("Worker was destroyed");const oe=new Jf(n,ne,h.port),ue=new FK(oe,e,ie,Q,Z);e._transport=ue,oe.send("Ready",null)})}).catch(e._capability.reject),e}function NK(t){if(t instanceof URL)return t.href;try{return new URL(t,window.location).href}catch{if(sr&&typeof t=="string")return t}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function MK(t){if(sr&&typeof Buffer<"u"&&t instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(t instanceof Uint8Array&&t.byteLength===t.buffer.byteLength)return t;if(typeof t=="string")return nw(t);if(t instanceof ArrayBuffer||ArrayBuffer.isView(t)||typeof t=="object"&&!isNaN(t==null?void 0:t.length))return new Uint8Array(t);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function nN(t){return typeof t=="object"&&Number.isInteger(t==null?void 0:t.num)&&t.num>=0&&Number.isInteger(t==null?void 0:t.gen)&&t.gen>=0}var cb;const ub=class ub{constructor(){this._capability=Promise.withResolvers(),this._transport=null,this._worker=null,this.docId=`d${qr(ub,cb)._++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){var e,n,r;this.destroyed=!0;try{(e=this._worker)!=null&&e.port&&(this._worker._pendingDestroy=!0),await((n=this._transport)==null?void 0:n.destroy())}catch(i){throw(r=this._worker)!=null&&r.port&&delete this._worker._pendingDestroy,i}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}};cb=new WeakMap,W(ub,cb,0);let yC=ub;class eF{constructor(e,n,r=!1,i=null){this.length=e,this.initialData=n,this.progressiveDone=r,this.contentDispositionFilename=i,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=Promise.withResolvers()}addRangeListener(e){this._rangeListeners.push(e)}addProgressListener(e){this._progressListeners.push(e)}addProgressiveReadListener(e){this._progressiveReadListeners.push(e)}addProgressiveDoneListener(e){this._progressiveDoneListeners.push(e)}onDataRange(e,n){for(const r of this._rangeListeners)r(e,n)}onDataProgress(e,n){this._readyCapability.promise.then(()=>{for(const r of this._progressListeners)r(e,n)})}onDataProgressiveRead(e){this._readyCapability.promise.then(()=>{for(const n of this._progressiveReadListeners)n(e)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const e of this._progressiveDoneListeners)e()})}transportReady(){this._readyCapability.resolve()}requestDataRange(e,n){Tt("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}class OK{constructor(e,n){this._pdfInfo=e,this._transport=n}get annotationStorage(){return this._transport.annotationStorage}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return lt(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(e){return this._transport.getPage(e)}getPageIndex(e){return this._transport.getPageIndex(e)}getDestinations(){return this._transport.getDestinations()}getDestination(e){return this._transport.getDestination(e)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:e="display"}={}){const{renderingIntent:n}=this._transport.getRenderingIntent(e);return this._transport.getOptionalContentConfig(n)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(e=!1){return this._transport.startCleanup(e||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(e){return this._transport.cachedPageNumber(e)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}var rl,No,ki,sd,Zv;class LK{constructor(e,n,r,i=!1){W(this,ki);W(this,rl,null);W(this,No,!1);this._pageIndex=e,this._pageInfo=n,this._transport=r,this._stats=i?new HI:null,this._pdfBug=i,this.commonObjs=r.commonObjs,this.objs=new tF,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:e,rotation:n=this.rotate,offsetX:r=0,offsetY:i=0,dontFlip:s=!1}={}){return new Mm({viewBox:this.view,scale:e,rotation:n,offsetX:r,offsetY:i,dontFlip:s})}getAnnotations({intent:e="display"}={}){const{renderingIntent:n}=this._transport.getRenderingIntent(e);return this._transport.getAnnotations(this._pageIndex,n)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return lt(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var e;return((e=this._transport._htmlForXfa)==null?void 0:e.children[this._pageIndex])||null}render({canvasContext:e,viewport:n,intent:r="display",annotationMode:i=Ga.ENABLE,transform:s=null,background:o=null,optionalContentConfigPromise:a=null,annotationCanvasMap:c=null,pageColors:d=null,printAnnotationStorage:h=null}){var S,_;(S=this._stats)==null||S.time("Overall");const f=this._transport.getRenderingIntent(r,i,h),{renderingIntent:p,cacheKey:m}=f;j(this,No,!1),B(this,ki,Zv).call(this),a||(a=this._transport.getOptionalContentConfig(p));let y=this._intentStates.get(m);y||(y=Object.create(null),this._intentStates.set(m,y)),y.streamReaderCancelTimeout&&(clearTimeout(y.streamReaderCancelTimeout),y.streamReaderCancelTimeout=null);const b=!!(p&Ci.PRINT);y.displayReadyCapability||(y.displayReadyCapability=Promise.withResolvers(),y.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(_=this._stats)==null||_.time("Page Request"),this._pumpOperatorList(f));const E=k=>{var N;y.renderTasks.delete(x),(this._maybeCleanupAfterRender||b)&&j(this,No,!0),B(this,ki,sd).call(this,!b),k?(x.capability.reject(k),this._abortOperatorList({intentState:y,reason:k instanceof Error?k:new Error(k)})):x.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),(N=globalThis.Stats)!=null&&N.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},x=new bC({callback:E,params:{canvasContext:e,viewport:n,transform:s,background:o},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:c,operatorList:y.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!b,pdfBug:this._pdfBug,pageColors:d});(y.renderTasks||(y.renderTasks=new Set)).add(x);const C=x.task;return Promise.all([y.displayReadyCapability.promise,a]).then(([k,N])=>{var T;if(this.destroyed){E();return}if((T=this._stats)==null||T.time("Rendering"),!(N.renderingIntent&p))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");x.initializeGraphics({transparency:k,optionalContentConfig:N}),x.operatorListChanged()}).catch(E),C}getOperatorList({intent:e="display",annotationMode:n=Ga.ENABLE,printAnnotationStorage:r=null}={}){var c;function i(){o.operatorList.lastChunk&&(o.opListReadCapability.resolve(o.operatorList),o.renderTasks.delete(a))}const s=this._transport.getRenderingIntent(e,n,r,!0);let o=this._intentStates.get(s.cacheKey);o||(o=Object.create(null),this._intentStates.set(s.cacheKey,o));let a;return o.opListReadCapability||(a=Object.create(null),a.operatorListChanged=i,o.opListReadCapability=Promise.withResolvers(),(o.renderTasks||(o.renderTasks=new Set)).add(a),o.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(c=this._stats)==null||c.time("Page Request"),this._pumpOperatorList(s)),o.opListReadCapability.promise}streamTextContent({includeMarkedContent:e=!1,disableNormalization:n=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:e===!0,disableNormalization:n===!0},{highWaterMark:100,size(i){return i.items.length}})}getTextContent(e={}){if(this._transport._htmlForXfa)return this.getXfa().then(r=>Op.textContent(r));const n=this.streamTextContent(e);return new Promise(function(r,i){function s(){o.read().then(function({value:c,done:d}){if(d){r(a);return}a.lang??(a.lang=c.lang),Object.assign(a.styles,c.styles),a.items.push(...c.items),s()},i)}const o=n.getReader(),a={items:[],styles:Object.create(null),lang:null};s()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const e=[];for(const n of this._intentStates.values())if(this._abortOperatorList({intentState:n,reason:new Error("Page was destroyed."),force:!0}),!n.opListReadCapability)for(const r of n.renderTasks)e.push(r.completed),r.cancel();return this.objs.clear(),j(this,No,!1),B(this,ki,Zv).call(this),Promise.all(e)}cleanup(e=!1){j(this,No,!0);const n=B(this,ki,sd).call(this,!1);return e&&n&&this._stats&&(this._stats=new HI),n}_startRenderPage(e,n){var i,s;const r=this._intentStates.get(n);r&&((i=this._stats)==null||i.timeEnd("Page Request"),(s=r.displayReadyCapability)==null||s.resolve(e))}_renderPageChunk(e,n){for(let r=0,i=e.length;r<i;r++)n.operatorList.fnArray.push(e.fnArray[r]),n.operatorList.argsArray.push(e.argsArray[r]);n.operatorList.lastChunk=e.lastChunk,n.operatorList.separateAnnots=e.separateAnnots;for(const r of n.renderTasks)r.operatorListChanged();e.lastChunk&&B(this,ki,sd).call(this,!0)}_pumpOperatorList({renderingIntent:e,cacheKey:n,annotationStorageSerializable:r}){const{map:i,transfer:s}=r,a=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:e,cacheKey:n,annotationStorage:i},s).getReader(),c=this._intentStates.get(n);c.streamReader=a;const d=()=>{a.read().then(({value:h,done:f})=>{if(f){c.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(h,c),d())},h=>{if(c.streamReader=null,!this._transport.destroyed){if(c.operatorList){c.operatorList.lastChunk=!0;for(const f of c.renderTasks)f.operatorListChanged();B(this,ki,sd).call(this,!0)}if(c.displayReadyCapability)c.displayReadyCapability.reject(h);else if(c.opListReadCapability)c.opListReadCapability.reject(h);else throw h}})};d()}_abortOperatorList({intentState:e,reason:n,force:r=!1}){if(e.streamReader){if(e.streamReaderCancelTimeout&&(clearTimeout(e.streamReaderCancelTimeout),e.streamReaderCancelTimeout=null),!r){if(e.renderTasks.size>0)return;if(n instanceof iA){let i=_K;n.extraDelay>0&&n.extraDelay<1e3&&(i+=n.extraDelay),e.streamReaderCancelTimeout=setTimeout(()=>{e.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:e,reason:n,force:!0})},i);return}}if(e.streamReader.cancel(new fu(n.message)).catch(()=>{}),e.streamReader=null,!this._transport.destroyed){for(const[i,s]of this._intentStates)if(s===e){this._intentStates.delete(i);break}this.cleanup()}}}get stats(){return this._stats}}rl=new WeakMap,No=new WeakMap,ki=new WeakSet,sd=function(e=!1){if(B(this,ki,Zv).call(this),!v(this,No)||this.destroyed)return!1;if(e)return j(this,rl,setTimeout(()=>{j(this,rl,null),B(this,ki,sd).call(this,!1)},AK)),!1;for(const{renderTasks:n,operatorList:r}of this._intentStates.values())if(n.size>0||!r.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),j(this,No,!1),!0},Zv=function(){v(this,rl)&&(clearTimeout(v(this,rl)),j(this,rl,null))};var Ac,db;class DK{constructor(){W(this,Ac,new Set);W(this,db,Promise.resolve())}postMessage(e,n){const r={data:structuredClone(e,n?{transfer:n}:null)};v(this,db).then(()=>{for(const i of v(this,Ac))i.call(this,r)})}addEventListener(e,n){v(this,Ac).add(n)}removeEventListener(e,n){v(this,Ac).delete(n)}terminate(){v(this,Ac).clear()}}Ac=new WeakMap,db=new WeakMap;const So={isWorkerDisabled:!1,fakeWorkerId:0};sr&&(So.isWorkerDisabled=!0,Qo.workerSrc||(Qo.workerSrc="./pdf.worker.mjs")),So.isSameOrigin=function(t,e){let n;try{if(n=new URL(t),!n.origin||n.origin==="null")return!1}catch{return!1}const r=new URL(e,n);return n.origin===r.origin},So.createCDNWrapper=function(t){const e=`await import("${t}");`;return URL.createObjectURL(new Blob([e],{type:"text/javascript"}))};var kc,zd,Jv,jd,e0;const Xr=class Xr{constructor({name:e=null,port:n=null,verbosity:r=pX()}={}){W(this,zd);var i;if(this.name=e,this.destroyed=!1,this.verbosity=r,this._readyCapability=Promise.withResolvers(),this._port=null,this._webWorker=null,this._messageHandler=null,n){if((i=v(Xr,kc))!=null&&i.has(n))throw new Error("Cannot use more than one PDFWorker per port.");(v(Xr,kc)||j(Xr,kc,new WeakMap)).set(n,this),this._initializeFromPort(n);return}this._initialize()}get promise(){return sr?Promise.all([Zs.promise,this._readyCapability.promise]):this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(e){this._port=e,this._messageHandler=new Jf("main","worker",e),this._messageHandler.on("ready",function(){}),B(this,zd,Jv).call(this)}_initialize(){if(So.isWorkerDisabled||v(Xr,jd,e0)){this._setupFakeWorker();return}let{workerSrc:e}=Xr;try{So.isSameOrigin(window.location.href,e)||(e=So.createCDNWrapper(new URL(e,window.location).href));const n=new Worker(e,{type:"module"}),r=new Jf("main","worker",n),i=()=>{s.abort(),r.destroy(),n.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},s=new AbortController;n.addEventListener("error",()=>{this._webWorker||i()},{signal:s.signal}),r.on("test",a=>{if(s.abort(),this.destroyed||!a){i();return}this._messageHandler=r,this._port=n,this._webWorker=n,B(this,zd,Jv).call(this)}),r.on("ready",a=>{if(s.abort(),this.destroyed){i();return}try{o()}catch{this._setupFakeWorker()}});const o=()=>{const a=new Uint8Array;r.send("test",a,[a.buffer])};o();return}catch{ew("The worker has been disabled.")}this._setupFakeWorker()}_setupFakeWorker(){So.isWorkerDisabled||(Je("Setting up fake worker."),So.isWorkerDisabled=!0),Xr._setupFakeWorkerGlobal.then(e=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const n=new DK;this._port=n;const r=`fake${So.fakeWorkerId++}`,i=new Jf(r+"_worker",r,n);e.setup(i,n),this._messageHandler=new Jf(r,r+"_worker",n),B(this,zd,Jv).call(this)}).catch(e=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${e.message}".`))})}destroy(){var e;this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),(e=v(Xr,kc))==null||e.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(e){var r;if(!(e!=null&&e.port))throw new Error("PDFWorker.fromPort - invalid method signature.");const n=(r=v(this,kc))==null?void 0:r.get(e.port);if(n){if(n._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return n}return new Xr(e)}static get workerSrc(){if(Qo.workerSrc)return Qo.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return lt(this,"_setupFakeWorkerGlobal",(async()=>v(this,jd,e0)?v(this,jd,e0):(await import(this.workerSrc)).WorkerMessageHandler)())}};kc=new WeakMap,zd=new WeakSet,Jv=function(){this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})},jd=new WeakSet,e0=function(){var e;try{return((e=globalThis.pdfjsWorker)==null?void 0:e.WorkerMessageHandler)||null}catch{return null}},W(Xr,jd),W(Xr,kc);let yd=Xr;var Mo,Ts,Bd,Hd,Ps,Rc,ep;class FK{constructor(e,n,r,i,s){W(this,Rc);W(this,Mo,new Map);W(this,Ts,new Map);W(this,Bd,new Map);W(this,Hd,new Map);W(this,Ps,null);this.messageHandler=e,this.loadingTask=n,this.commonObjs=new tF,this.fontLoader=new LX({ownerDocument:i.ownerDocument,styleElement:i.styleElement}),this.loadingParams=i.loadingParams,this._params=i,this.canvasFactory=s.canvasFactory,this.filterFactory=s.filterFactory,this.cMapReaderFactory=s.cMapReaderFactory,this.standardFontDataFactory=s.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=r,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.setupMessageHandler()}get annotationStorage(){return lt(this,"annotationStorage",new lA)}getRenderingIntent(e,n=Ga.ENABLE,r=null,i=!1){let s=Ci.DISPLAY,o=cC;switch(e){case"any":s=Ci.ANY;break;case"display":break;case"print":s=Ci.PRINT;break;default:Je(`getRenderingIntent - invalid intent: ${e}`)}switch(n){case Ga.DISABLE:s+=Ci.ANNOTATIONS_DISABLE;break;case Ga.ENABLE:break;case Ga.ENABLE_FORMS:s+=Ci.ANNOTATIONS_FORMS;break;case Ga.ENABLE_STORAGE:s+=Ci.ANNOTATIONS_STORAGE,o=(s&Ci.PRINT&&r instanceof zD?r:this.annotationStorage).serializable;break;default:Je(`getRenderingIntent - invalid annotationMode: ${n}`)}return i&&(s+=Ci.OPLIST),{renderingIntent:s,cacheKey:`${s}_${o.hash}`,annotationStorageSerializable:o}}destroy(){var r;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),(r=v(this,Ps))==null||r.reject(new Error("Worker was destroyed during onPassword callback"));const e=[];for(const i of v(this,Ts).values())e.push(i._destroy());v(this,Ts).clear(),v(this,Bd).clear(),v(this,Hd).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const n=this.messageHandler.sendWithPromise("Terminate",null);return e.push(n),Promise.all(e).then(()=>{var i;this.commonObjs.clear(),this.fontLoader.clear(),v(this,Mo).clear(),this.filterFactory.destroy(),Sh.cleanup(),(i=this._networkStream)==null||i.cancelAllRequests(new fu("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:e,loadingTask:n}=this;e.on("GetReader",(r,i)=>{Rn(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=s=>{this._lastProgress={loaded:s.loaded,total:s.total}},i.onPull=()=>{this._fullReader.read().then(function({value:s,done:o}){if(o){i.close();return}Rn(s instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),i.enqueue(new Uint8Array(s),1,[s])}).catch(s=>{i.error(s)})},i.onCancel=s=>{this._fullReader.cancel(s),i.ready.catch(o=>{if(!this.destroyed)throw o})}}),e.on("ReaderHeadersReady",r=>{const i=Promise.withResolvers(),s=this._fullReader;return s.headersReady.then(()=>{var o;(!s.isStreamingSupported||!s.isRangeSupported)&&(this._lastProgress&&((o=n.onProgress)==null||o.call(n,this._lastProgress)),s.onProgress=a=>{var c;(c=n.onProgress)==null||c.call(n,{loaded:a.loaded,total:a.total})}),i.resolve({isStreamingSupported:s.isStreamingSupported,isRangeSupported:s.isRangeSupported,contentLength:s.contentLength})},i.reject),i.promise}),e.on("GetRangeReader",(r,i)=>{Rn(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const s=this._networkStream.getRangeReader(r.begin,r.end);if(!s){i.close();return}i.onPull=()=>{s.read().then(function({value:o,done:a}){if(a){i.close();return}Rn(o instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),i.enqueue(new Uint8Array(o),1,[o])}).catch(o=>{i.error(o)})},i.onCancel=o=>{s.cancel(o),i.ready.catch(a=>{if(!this.destroyed)throw a})}}),e.on("GetDoc",({pdfInfo:r})=>{this._numPages=r.numPages,this._htmlForXfa=r.htmlForXfa,delete r.htmlForXfa,n._capability.resolve(new OK(r,this))}),e.on("DocException",function(r){let i;switch(r.name){case"PasswordException":i=new jE(r.message,r.code);break;case"InvalidPDFException":i=new sD(r.message);break;case"MissingPDFException":i=new hu(r.message);break;case"UnexpectedResponseException":i=new tw(r.message,r.status);break;case"UnknownErrorException":i=new BE(r.message,r.details);break;default:Tt("DocException - expected a valid Error.")}n._capability.reject(i)}),e.on("PasswordRequest",r=>{if(j(this,Ps,Promise.withResolvers()),n.onPassword){const i=s=>{s instanceof Error?v(this,Ps).reject(s):v(this,Ps).resolve({password:s})};try{n.onPassword(i,r.code)}catch(s){v(this,Ps).reject(s)}}else v(this,Ps).reject(new jE(r.message,r.code));return v(this,Ps).promise}),e.on("DataLoaded",r=>{var i;(i=n.onProgress)==null||i.call(n,{loaded:r.length,total:r.length}),this.downloadInfoCapability.resolve(r)}),e.on("StartRenderPage",r=>{if(this.destroyed)return;v(this,Ts).get(r.pageIndex)._startRenderPage(r.transparency,r.cacheKey)}),e.on("commonobj",([r,i,s])=>{var o;if(this.destroyed||this.commonObjs.has(r))return null;switch(i){case"Font":const{disableFontFace:a,fontExtraProperties:c,pdfBug:d}=this._params;if("error"in s){const m=s.error;Je(`Error during font loading: ${m}`),this.commonObjs.resolve(r,m);break}const h=d&&((o=globalThis.FontInspector)!=null&&o.enabled)?(m,y)=>globalThis.FontInspector.fontAdded(m,y):null,f=new DX(s,{disableFontFace:a,inspectFont:h});this.fontLoader.bind(f).catch(()=>e.sendWithPromise("FontFallback",{id:r})).finally(()=>{!c&&f.data&&(f.data=null),this.commonObjs.resolve(r,f)});break;case"CopyLocalImage":const{imageRef:p}=s;Rn(p,"The imageRef must be defined.");for(const m of v(this,Ts).values())for(const[,y]of m.objs)if((y==null?void 0:y.ref)===p)return y.dataLen?(this.commonObjs.resolve(r,structuredClone(y)),y.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(r,s);break;default:throw new Error(`Got unknown common object type ${i}`)}return null}),e.on("obj",([r,i,s,o])=>{var c;if(this.destroyed)return;const a=v(this,Ts).get(i);if(!a.objs.has(r)){if(a._intentStates.size===0){(c=o==null?void 0:o.bitmap)==null||c.close();return}switch(s){case"Image":a.objs.resolve(r,o),(o==null?void 0:o.dataLen)>cX&&(a._maybeCleanupAfterRender=!0);break;case"Pattern":a.objs.resolve(r,o);break;default:throw new Error(`Got unknown object type ${s}`)}}}),e.on("DocProgress",r=>{var i;this.destroyed||(i=n.onProgress)==null||i.call(n,{loaded:r.loaded,total:r.total})}),e.on("FetchBuiltInCMap",r=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.cMapReaderFactory?this.cMapReaderFactory.fetch(r):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),e.on("FetchStandardFontData",r=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.standardFontDataFactory?this.standardFontDataFactory.fetch(r):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var r;this.annotationStorage.size<=0&&Je("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:e,transfer:n}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:e,filename:((r=this._fullReader)==null?void 0:r.filename)??null},n).finally(()=>{this.annotationStorage.resetModified()})}getPage(e){if(!Number.isInteger(e)||e<=0||e>this._numPages)return Promise.reject(new Error("Invalid page request."));const n=e-1,r=v(this,Bd).get(n);if(r)return r;const i=this.messageHandler.sendWithPromise("GetPage",{pageIndex:n}).then(s=>{if(this.destroyed)throw new Error("Transport destroyed");s.refStr&&v(this,Hd).set(s.refStr,e);const o=new LK(n,s,this,this._params.pdfBug);return v(this,Ts).set(n,o),o});return v(this,Bd).set(n,i),i}getPageIndex(e){return nN(e)?this.messageHandler.sendWithPromise("GetPageIndex",{num:e.num,gen:e.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(e,n){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:e,intent:n})}getFieldObjects(){return B(this,Rc,ep).call(this,"GetFieldObjects")}hasJSActions(){return B(this,Rc,ep).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(e){return typeof e!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:e})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return B(this,Rc,ep).call(this,"GetDocJSActions")}getPageJSActions(e){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:e})}getStructTree(e){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:e})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(e){return B(this,Rc,ep).call(this,"GetOptionalContentConfig").then(n=>new nK(n,e))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const e="GetMetadata",n=v(this,Mo).get(e);if(n)return n;const r=this.messageHandler.sendWithPromise(e,null).then(i=>{var s,o;return{info:i[0],metadata:i[1]?new eK(i[1]):null,contentDispositionFilename:((s=this._fullReader)==null?void 0:s.filename)??null,contentLength:((o=this._fullReader)==null?void 0:o.contentLength)??null}});return v(this,Mo).set(e,r),r}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(e=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const n of v(this,Ts).values())if(!n.cleanup())throw new Error(`startCleanup: Page ${n.pageNumber} is currently rendering.`);this.commonObjs.clear(),e||this.fontLoader.clear(),v(this,Mo).clear(),this.filterFactory.destroy(!0),Sh.cleanup()}}cachedPageNumber(e){if(!nN(e))return null;const n=e.gen===0?`${e.num}R`:`${e.num}R${e.gen}`;return v(this,Hd).get(n)??null}}Mo=new WeakMap,Ts=new WeakMap,Bd=new WeakMap,Hd=new WeakMap,Ps=new WeakMap,Rc=new WeakSet,ep=function(e,n=null){const r=v(this,Mo).get(e);if(r)return r;const i=this.messageHandler.sendWithPromise(e,n);return v(this,Mo).set(e,i),i};const Nv=Symbol("INITIAL_DATA");var Ui,Tg,vC;class tF{constructor(){W(this,Tg);W(this,Ui,Object.create(null))}get(e,n=null){if(n){const i=B(this,Tg,vC).call(this,e);return i.promise.then(()=>n(i.data)),null}const r=v(this,Ui)[e];if(!r||r.data===Nv)throw new Error(`Requesting object that isn't resolved yet ${e}.`);return r.data}has(e){const n=v(this,Ui)[e];return!!n&&n.data!==Nv}resolve(e,n=null){const r=B(this,Tg,vC).call(this,e);r.data=n,r.resolve()}clear(){var e;for(const n in v(this,Ui)){const{data:r}=v(this,Ui)[n];(e=r==null?void 0:r.bitmap)==null||e.close()}j(this,Ui,Object.create(null))}*[Symbol.iterator](){for(const e in v(this,Ui)){const{data:n}=v(this,Ui)[e];n!==Nv&&(yield[e,n])}}}Ui=new WeakMap,Tg=new WeakSet,vC=function(e){var n;return(n=v(this,Ui))[e]||(n[e]={...Promise.withResolvers(),data:Nv})};var il;class $K{constructor(e){W(this,il,null);j(this,il,e),this.onContinue=null}get promise(){return v(this,il).capability.promise}cancel(e=0){v(this,il).cancel(null,e)}get separateAnnots(){const{separateAnnots:e}=v(this,il).operatorList;if(!e)return!1;const{annotationCanvasMap:n}=v(this,il);return e.form||e.canvas&&(n==null?void 0:n.size)>0}}il=new WeakMap;var sl,Tc;const Jl=class Jl{constructor({callback:e,params:n,objs:r,commonObjs:i,annotationCanvasMap:s,operatorList:o,pageIndex:a,canvasFactory:c,filterFactory:d,useRequestAnimationFrame:h=!1,pdfBug:f=!1,pageColors:p=null}){W(this,sl,null);this.callback=e,this.params=n,this.objs=r,this.commonObjs=i,this.annotationCanvasMap=s,this.operatorListIdx=null,this.operatorList=o,this._pageIndex=a,this.canvasFactory=c,this.filterFactory=d,this._pdfBug=f,this.pageColors=p,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=h===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new $K(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=n.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:e=!1,optionalContentConfig:n}){var a,c;if(this.cancelled)return;if(this._canvas){if(v(Jl,Tc).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");v(Jl,Tc).add(this._canvas)}this._pdfBug&&((a=globalThis.StepperManager)!=null&&a.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:r,viewport:i,transform:s,background:o}=this.params;this.gfx=new md(r,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:n},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:s,viewport:i,transparency:e,background:o}),this.operatorListIdx=0,this.graphicsReady=!0,(c=this.graphicsReadyCallback)==null||c.call(this)}cancel(e=null,n=0){var r;this.running=!1,this.cancelled=!0,(r=this.gfx)==null||r.endDrawing(),v(this,sl)&&(window.cancelAnimationFrame(v(this,sl)),j(this,sl,null)),v(Jl,Tc).delete(this._canvas),this.callback(e||new iA(`Rendering cancelled, page ${this._pageIndex+1}`,n))}operatorListChanged(){var e;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(e=this.stepper)==null||e.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?j(this,sl,window.requestAnimationFrame(()=>{j(this,sl,null),this._nextBound().catch(this._cancelBound)})):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),v(Jl,Tc).delete(this._canvas),this.callback())))}};sl=new WeakMap,Tc=new WeakMap,W(Jl,Tc,new WeakSet);let bC=Jl;const zK="4.4.168",jK="19fbc8998";function rN(t){return Math.floor(Math.max(0,Math.min(1,t))*255).toString(16).padStart(2,"0")}function Nf(t){return Math.max(0,Math.min(255,255*t))}class iN{static CMYK_G([e,n,r,i]){return["G",1-Math.min(1,.3*e+.59*r+.11*n+i)]}static G_CMYK([e]){return["CMYK",0,0,0,1-e]}static G_RGB([e]){return["RGB",e,e,e]}static G_rgb([e]){return e=Nf(e),[e,e,e]}static G_HTML([e]){const n=rN(e);return`#${n}${n}${n}`}static RGB_G([e,n,r]){return["G",.3*e+.59*n+.11*r]}static RGB_rgb(e){return e.map(Nf)}static RGB_HTML(e){return`#${e.map(rN).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([e,n,r,i]){return["RGB",1-Math.min(1,e+i),1-Math.min(1,r+i),1-Math.min(1,n+i)]}static CMYK_rgb([e,n,r,i]){return[Nf(1-Math.min(1,e+i)),Nf(1-Math.min(1,r+i)),Nf(1-Math.min(1,n+i))]}static CMYK_HTML(e){const n=this.CMYK_RGB(e).slice(1);return this.RGB_HTML(n)}static RGB_CMYK([e,n,r]){const i=1-e,s=1-n,o=1-r,a=Math.min(i,s,o);return["CMYK",i,s,o,a]}}class nF{static setupStorage(e,n,r,i,s){const o=i.getValue(n,{value:null});switch(r.name){case"textarea":if(o.value!==null&&(e.textContent=o.value),s==="print")break;e.addEventListener("input",a=>{i.setValue(n,{value:a.target.value})});break;case"input":if(r.attributes.type==="radio"||r.attributes.type==="checkbox"){if(o.value===r.attributes.xfaOn?e.setAttribute("checked",!0):o.value===r.attributes.xfaOff&&e.removeAttribute("checked"),s==="print")break;e.addEventListener("change",a=>{i.setValue(n,{value:a.target.checked?a.target.getAttribute("xfaOn"):a.target.getAttribute("xfaOff")})})}else{if(o.value!==null&&e.setAttribute("value",o.value),s==="print")break;e.addEventListener("input",a=>{i.setValue(n,{value:a.target.value})})}break;case"select":if(o.value!==null){e.setAttribute("value",o.value);for(const a of r.children)a.attributes.value===o.value?a.attributes.selected=!0:a.attributes.hasOwnProperty("selected")&&delete a.attributes.selected}e.addEventListener("input",a=>{const c=a.target.options,d=c.selectedIndex===-1?"":c[c.selectedIndex].value;i.setValue(n,{value:d})});break}}static setAttributes({html:e,element:n,storage:r=null,intent:i,linkService:s}){const{attributes:o}=n,a=e instanceof HTMLAnchorElement;o.type==="radio"&&(o.name=`${o.name}-${i}`);for(const[c,d]of Object.entries(o))if(d!=null)switch(c){case"class":d.length&&e.setAttribute(c,d.join(" "));break;case"dataId":break;case"id":e.setAttribute("data-element-id",d);break;case"style":Object.assign(e.style,d);break;case"textContent":e.textContent=d;break;default:(!a||c!=="href"&&c!=="newWindow")&&e.setAttribute(c,d)}a&&s.addLinkAttributes(e,o.href,o.newWindow),r&&o.dataId&&this.setupStorage(e,o.dataId,n,r)}static render(e){var f,p;const n=e.annotationStorage,r=e.linkService,i=e.xfaHtml,s=e.intent||"display",o=document.createElement(i.name);i.attributes&&this.setAttributes({html:o,element:i,intent:s,linkService:r});const a=s!=="richText",c=e.div;if(c.append(o),e.viewport){const m=`matrix(${e.viewport.transform.join(",")})`;c.style.transform=m}a&&c.setAttribute("class","xfaLayer xfaFont");const d=[];if(i.children.length===0){if(i.value){const m=document.createTextNode(i.value);o.append(m),a&&Op.shouldBuildText(i.name)&&d.push(m)}return{textDivs:d}}const h=[[i,-1,o]];for(;h.length>0;){const[m,y,b]=h.at(-1);if(y+1===m.children.length){h.pop();continue}const E=m.children[++h.at(-1)[1]];if(E===null)continue;const{name:x}=E;if(x==="#text"){const S=document.createTextNode(E.value);d.push(S),b.append(S);continue}const C=(f=E==null?void 0:E.attributes)!=null&&f.xmlns?document.createElementNS(E.attributes.xmlns,x):document.createElement(x);if(b.append(C),E.attributes&&this.setAttributes({html:C,element:E,storage:n,intent:s,linkService:r}),((p=E.children)==null?void 0:p.length)>0)h.push([E,-1,C]);else if(E.value){const S=document.createTextNode(E.value);a&&Op.shouldBuildText(x)&&d.push(S),C.append(S)}}for(const m of c.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))m.setAttribute("readOnly",!0);return{textDivs:d}}static update(e){const n=`matrix(${e.viewport.transform.join(",")})`;e.div.style.transform=n,e.div.hidden=!1}}const Dm=1e3,BK=9,su=new WeakSet;function Zo(t){return{width:t[2]-t[0],height:t[3]-t[1]}}class HK{static create(e){switch(e.data.annotationType){case Sn.LINK:return new rF(e);case Sn.TEXT:return new WK(e);case Sn.WIDGET:switch(e.data.fieldType){case"Tx":return new UK(e);case"Btn":return e.data.radioButton?new oF(e):e.data.checkBox?new GK(e):new qK(e);case"Ch":return new YK(e);case"Sig":return new VK(e)}return new pu(e);case Sn.POPUP:return new xC(e);case Sn.FREETEXT:return new dF(e);case Sn.LINE:return new KK(e);case Sn.SQUARE:return new QK(e);case Sn.CIRCLE:return new ZK(e);case Sn.POLYLINE:return new hF(e);case Sn.CARET:return new eQ(e);case Sn.INK:return new fF(e);case Sn.POLYGON:return new JK(e);case Sn.HIGHLIGHT:return new tQ(e);case Sn.UNDERLINE:return new nQ(e);case Sn.SQUIGGLY:return new rQ(e);case Sn.STRIKEOUT:return new iQ(e);case Sn.STAMP:return new pF(e);case Sn.FILEATTACHMENT:return new sQ(e);default:return new dn(e)}}}var Pc,Wd,Ud,Pg,wC;const TA=class TA{constructor(e,{isRenderable:n=!1,ignoreBorder:r=!1,createQuadrilaterals:i=!1}={}){W(this,Pg);W(this,Pc,null);W(this,Wd,!1);W(this,Ud,null);this.isRenderable=n,this.data=e.data,this.layer=e.layer,this.linkService=e.linkService,this.downloadManager=e.downloadManager,this.imageResourcesPath=e.imageResourcesPath,this.renderForms=e.renderForms,this.svgFactory=e.svgFactory,this.annotationStorage=e.annotationStorage,this.enableScripting=e.enableScripting,this.hasJSActions=e.hasJSActions,this._fieldObjects=e.fieldObjects,this.parent=e.parent,n&&(this.container=this._createContainer(r)),i&&this._createQuadrilaterals()}static _hasPopupData({titleObj:e,contentsObj:n,richText:r}){return!!(e!=null&&e.str||n!=null&&n.str||r!=null&&r.str)}get hasPopupData(){return TA._hasPopupData(this.data)}updateEdited(e){var r;if(!this.container)return;v(this,Pc)||j(this,Pc,{rect:this.data.rect.slice(0)});const{rect:n}=e;n&&B(this,Pg,wC).call(this,n),(r=v(this,Ud))==null||r.popup.updateEdited(e)}resetEdited(){var e;v(this,Pc)&&(B(this,Pg,wC).call(this,v(this,Pc).rect),(e=v(this,Ud))==null||e.popup.resetEdited(),j(this,Pc,null))}_createContainer(e){const{data:n,parent:{page:r,viewport:i}}=this,s=document.createElement("section");s.setAttribute("data-annotation-id",n.id),this instanceof pu||(s.tabIndex=Dm);const{style:o}=s;if(o.zIndex=this.parent.zIndex++,n.popupRef&&s.setAttribute("aria-haspopup","dialog"),n.alternativeText&&(s.title=n.alternativeText),n.noRotate&&s.classList.add("norotate"),!n.rect||this instanceof xC){const{rotation:b}=n;return!n.hasOwnCanvas&&b!==0&&this.setRotation(b,s),s}const{width:a,height:c}=Zo(n.rect);if(!e&&n.borderStyle.width>0){o.borderWidth=`${n.borderStyle.width}px`;const b=n.borderStyle.horizontalCornerRadius,E=n.borderStyle.verticalCornerRadius;if(b>0||E>0){const C=`calc(${b}px * var(--scale-factor)) / calc(${E}px * var(--scale-factor))`;o.borderRadius=C}else if(this instanceof oF){const C=`calc(${a}px * var(--scale-factor)) / calc(${c}px * var(--scale-factor))`;o.borderRadius=C}switch(n.borderStyle.style){case Pf.SOLID:o.borderStyle="solid";break;case Pf.DASHED:o.borderStyle="dashed";break;case Pf.BEVELED:Je("Unimplemented border style: beveled");break;case Pf.INSET:Je("Unimplemented border style: inset");break;case Pf.UNDERLINE:o.borderBottomStyle="solid";break}const x=n.borderColor||null;x?(j(this,Wd,!0),o.borderColor=$e.makeHexColor(x[0]|0,x[1]|0,x[2]|0)):o.borderWidth=0}const d=$e.normalizeRect([n.rect[0],r.view[3]-n.rect[1]+r.view[1],n.rect[2],r.view[3]-n.rect[3]+r.view[1]]),{pageWidth:h,pageHeight:f,pageX:p,pageY:m}=i.rawDims;o.left=`${100*(d[0]-p)/h}%`,o.top=`${100*(d[1]-m)/f}%`;const{rotation:y}=n;return n.hasOwnCanvas||y===0?(o.width=`${100*a/h}%`,o.height=`${100*c/f}%`):this.setRotation(y,s),s}setRotation(e,n=this.container){if(!this.data.rect)return;const{pageWidth:r,pageHeight:i}=this.parent.viewport.rawDims,{width:s,height:o}=Zo(this.data.rect);let a,c;e%180===0?(a=100*s/r,c=100*o/i):(a=100*o/r,c=100*s/i),n.style.width=`${a}%`,n.style.height=`${c}%`,n.setAttribute("data-main-rotation",(360-e)%360)}get _commonActions(){const e=(n,r,i)=>{const s=i.detail[n],o=s[0],a=s.slice(1);i.target.style[r]=iN[`${o}_HTML`](a),this.annotationStorage.setValue(this.data.id,{[r]:iN[`${o}_rgb`](a)})};return lt(this,"_commonActions",{display:n=>{const{display:r}=n.detail,i=r%2===1;this.container.style.visibility=i?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:i,noPrint:r===1||r===2})},print:n=>{this.annotationStorage.setValue(this.data.id,{noPrint:!n.detail.print})},hidden:n=>{const{hidden:r}=n.detail;this.container.style.visibility=r?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:r,noView:r})},focus:n=>{setTimeout(()=>n.target.focus({preventScroll:!1}),0)},userName:n=>{n.target.title=n.detail.userName},readonly:n=>{n.target.disabled=n.detail.readonly},required:n=>{this._setRequired(n.target,n.detail.required)},bgColor:n=>{e("bgColor","backgroundColor",n)},fillColor:n=>{e("fillColor","backgroundColor",n)},fgColor:n=>{e("fgColor","color",n)},textColor:n=>{e("textColor","color",n)},borderColor:n=>{e("borderColor","borderColor",n)},strokeColor:n=>{e("strokeColor","borderColor",n)},rotation:n=>{const r=n.detail.rotation;this.setRotation(r),this.annotationStorage.setValue(this.data.id,{rotation:r})}})}_dispatchEventFromSandbox(e,n){const r=this._commonActions;for(const i of Object.keys(n.detail)){const s=e[i]||r[i];s==null||s(n)}}_setDefaultPropertiesFromJS(e){if(!this.enableScripting)return;const n=this.annotationStorage.getRawValue(this.data.id);if(!n)return;const r=this._commonActions;for(const[i,s]of Object.entries(n)){const o=r[i];if(o){const a={detail:{[i]:s},target:e};o(a),delete n[i]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:e}=this.data;if(!e)return;const[n,r,i,s]=this.data.rect.map(b=>Math.fround(b));if(e.length===8){const[b,E,x,C]=e.subarray(2,6);if(i===b&&s===E&&n===x&&r===C)return}const{style:o}=this.container;let a;if(v(this,Wd)){const{borderColor:b,borderWidth:E}=o;o.borderWidth=0,a=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${b}" stroke-width="${E}">`],this.container.classList.add("hasBorder")}const c=i-n,d=s-r,{svgFactory:h}=this,f=h.createElement("svg");f.classList.add("quadrilateralsContainer"),f.setAttribute("width",0),f.setAttribute("height",0);const p=h.createElement("defs");f.append(p);const m=h.createElement("clipPath"),y=`clippath_${this.data.id}`;m.setAttribute("id",y),m.setAttribute("clipPathUnits","objectBoundingBox"),p.append(m);for(let b=2,E=e.length;b<E;b+=8){const x=e[b],C=e[b+1],S=e[b+2],_=e[b+3],k=h.createElement("rect"),N=(S-n)/c,T=(s-C)/d,M=(x-S)/c,O=(C-_)/d;k.setAttribute("x",N),k.setAttribute("y",T),k.setAttribute("width",M),k.setAttribute("height",O),m.append(k),a==null||a.push(`<rect vector-effect="non-scaling-stroke" x="${N}" y="${T}" width="${M}" height="${O}"/>`)}v(this,Wd)&&(a.push("</g></svg>')"),o.backgroundImage=a.join("")),this.container.append(f),this.container.style.clipPath=`url(#${y})`}_createPopup(){const{container:e,data:n}=this;e.setAttribute("aria-haspopup","dialog");const r=j(this,Ud,new xC({data:{color:n.color,titleObj:n.titleObj,modificationDate:n.modificationDate,contentsObj:n.contentsObj,richText:n.richText,parentRect:n.rect,borderStyle:0,id:`popup_${n.id}`,rotation:n.rotation},parent:this.parent,elements:[this]}));this.parent.div.append(r.render())}render(){Tt("Abstract method `AnnotationElement.render` called")}_getElementsByName(e,n=null){const r=[];if(this._fieldObjects){const i=this._fieldObjects[e];if(i)for(const{page:s,id:o,exportValues:a}of i){if(s===-1||o===n)continue;const c=typeof a=="string"?a:null,d=document.querySelector(`[data-element-id="${o}"]`);if(d&&!su.has(d)){Je(`_getElementsByName - element not allowed: ${o}`);continue}r.push({id:o,exportValue:c,domElement:d})}return r}for(const i of document.getElementsByName(e)){const{exportValue:s}=i,o=i.getAttribute("data-element-id");o!==n&&su.has(i)&&r.push({id:o,exportValue:s,domElement:i})}return r}show(){var e;this.container&&(this.container.hidden=!1),(e=this.popup)==null||e.maybeShow()}hide(){var e;this.container&&(this.container.hidden=!0),(e=this.popup)==null||e.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const e=this.getElementsToTriggerPopup();if(Array.isArray(e))for(const n of e)n.classList.add("highlightArea");else e.classList.add("highlightArea")}get _isEditable(){return!1}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:e,data:{id:n}}=this;this.container.addEventListener("dblclick",()=>{var r;(r=this.linkService.eventBus)==null||r.dispatch("switchannotationeditormode",{source:this,mode:e,editId:n})})}};Pc=new WeakMap,Wd=new WeakMap,Ud=new WeakMap,Pg=new WeakSet,wC=function(e){const{container:{style:n},data:{rect:r,rotation:i},parent:{viewport:{rawDims:{pageWidth:s,pageHeight:o,pageX:a,pageY:c}}}}=this;r==null||r.splice(0,4,...e);const{width:d,height:h}=Zo(e);n.left=`${100*(e[0]-a)/s}%`,n.top=`${100*(o-e[3]+c)/o}%`,i===0?(n.width=`${100*d/s}%`,n.height=`${100*h/o}%`):this.setRotation(i)};let dn=TA;var si,Xl,iF,sF;class rF extends dn{constructor(n,r=null){super(n,{isRenderable:!0,ignoreBorder:!!(r!=null&&r.ignoreBorder),createQuadrilaterals:!0});W(this,si);this.isTooltipOnly=n.data.isTooltipOnly}render(){const{data:n,linkService:r}=this,i=document.createElement("a");i.setAttribute("data-element-id",n.id);let s=!1;return n.url?(r.addLinkAttributes(i,n.url,n.newWindow),s=!0):n.action?(this._bindNamedAction(i,n.action),s=!0):n.attachment?(B(this,si,iF).call(this,i,n.attachment,n.attachmentDest),s=!0):n.setOCGState?(B(this,si,sF).call(this,i,n.setOCGState),s=!0):n.dest?(this._bindLink(i,n.dest),s=!0):(n.actions&&(n.actions.Action||n.actions["Mouse Up"]||n.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(i,n),s=!0),n.resetForm?(this._bindResetFormAction(i,n.resetForm),s=!0):this.isTooltipOnly&&!s&&(this._bindLink(i,""),s=!0)),this.container.classList.add("linkAnnotation"),s&&this.container.append(i),this.container}_bindLink(n,r){n.href=this.linkService.getDestinationHash(r),n.onclick=()=>(r&&this.linkService.goToDestination(r),!1),(r||r==="")&&B(this,si,Xl).call(this)}_bindNamedAction(n,r){n.href=this.linkService.getAnchorUrl(""),n.onclick=()=>(this.linkService.executeNamedAction(r),!1),B(this,si,Xl).call(this)}_bindJSAction(n,r){n.href=this.linkService.getAnchorUrl("");const i=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const s of Object.keys(r.actions)){const o=i.get(s);o&&(n[o]=()=>{var a;return(a=this.linkService.eventBus)==null||a.dispatch("dispatcheventinsandbox",{source:this,detail:{id:r.id,name:s}}),!1})}n.onclick||(n.onclick=()=>!1),B(this,si,Xl).call(this)}_bindResetFormAction(n,r){const i=n.onclick;if(i||(n.href=this.linkService.getAnchorUrl("")),B(this,si,Xl).call(this),!this._fieldObjects){Je('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),i||(n.onclick=()=>!1);return}n.onclick=()=>{var f;i==null||i();const{fields:s,refs:o,include:a}=r,c=[];if(s.length!==0||o.length!==0){const p=new Set(o);for(const m of s){const y=this._fieldObjects[m]||[];for(const{id:b}of y)p.add(b)}for(const m of Object.values(this._fieldObjects))for(const y of m)p.has(y.id)===a&&c.push(y)}else for(const p of Object.values(this._fieldObjects))c.push(...p);const d=this.annotationStorage,h=[];for(const p of c){const{id:m}=p;switch(h.push(m),p.type){case"text":{const b=p.defaultValue||"";d.setValue(m,{value:b});break}case"checkbox":case"radiobutton":{const b=p.defaultValue===p.exportValues;d.setValue(m,{value:b});break}case"combobox":case"listbox":{const b=p.defaultValue||"";d.setValue(m,{value:b});break}default:continue}const y=document.querySelector(`[data-element-id="${m}"]`);if(y){if(!su.has(y)){Je(`_bindResetFormAction - element not allowed: ${m}`);continue}}else continue;y.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((f=this.linkService.eventBus)==null||f.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:h,name:"ResetForm"}})),!1}}}si=new WeakSet,Xl=function(){this.container.setAttribute("data-internal-link","")},iF=function(n,r,i=null){n.href=this.linkService.getAnchorUrl(""),r.description&&(n.title=r.description),n.onclick=()=>{var s;return(s=this.downloadManager)==null||s.openOrDownloadData(r.content,r.filename,i),!1},B(this,si,Xl).call(this)},sF=function(n,r){n.href=this.linkService.getAnchorUrl(""),n.onclick=()=>(this.linkService.executeSetOCGState(r),!1),B(this,si,Xl).call(this)};class WK extends dn{constructor(e){super(e,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const e=document.createElement("img");return e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),e.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(e),this.container}}class pu extends dn{render(){return this.container}showElementAndHideCanvas(e){var n;this.data.hasOwnCanvas&&(((n=e.previousSibling)==null?void 0:n.nodeName)==="CANVAS"&&(e.previousSibling.hidden=!0),e.hidden=!1)}_getKeyModifier(e){return Or.platform.isMac?e.metaKey:e.ctrlKey}_setEventListener(e,n,r,i,s){r.includes("mouse")?e.addEventListener(r,o=>{var a;(a=this.linkService.eventBus)==null||a.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:i,value:s(o),shift:o.shiftKey,modifier:this._getKeyModifier(o)}})}):e.addEventListener(r,o=>{var a;if(r==="blur"){if(!n.focused||!o.relatedTarget)return;n.focused=!1}else if(r==="focus"){if(n.focused)return;n.focused=!0}s&&((a=this.linkService.eventBus)==null||a.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:i,value:s(o)}}))})}_setEventListeners(e,n,r,i){var s,o,a;for(const[c,d]of r)(d==="Action"||(s=this.data.actions)!=null&&s[d])&&((d==="Focus"||d==="Blur")&&(n||(n={focused:!1})),this._setEventListener(e,n,c,d,i),d==="Focus"&&!((o=this.data.actions)!=null&&o.Blur)?this._setEventListener(e,n,"blur","Blur",null):d==="Blur"&&!((a=this.data.actions)!=null&&a.Focus)&&this._setEventListener(e,n,"focus","Focus",null))}_setBackgroundColor(e){const n=this.data.backgroundColor||null;e.style.backgroundColor=n===null?"transparent":$e.makeHexColor(n[0],n[1],n[2])}_setTextStyle(e){const n=["left","center","right"],{fontColor:r}=this.data.defaultAppearanceData,i=this.data.defaultAppearanceData.fontSize||BK,s=e.style;let o;const a=2,c=d=>Math.round(10*d)/10;if(this.data.multiLine){const d=Math.abs(this.data.rect[3]-this.data.rect[1]-a),h=Math.round(d/(US*i))||1,f=d/h;o=Math.min(i,c(f/US))}else{const d=Math.abs(this.data.rect[3]-this.data.rect[1]-a);o=Math.min(i,c(d/US))}s.fontSize=`calc(${o}px * var(--scale-factor))`,s.color=$e.makeHexColor(r[0],r[1],r[2]),this.data.textAlignment!==null&&(s.textAlign=n[this.data.textAlignment])}_setRequired(e,n){n?e.setAttribute("required",!0):e.removeAttribute("required"),e.setAttribute("aria-required",n)}}class UK extends pu{constructor(e){const n=e.renderForms||e.data.hasOwnCanvas||!e.data.hasAppearance&&!!e.data.fieldValue;super(e,{isRenderable:n})}setPropertyOnSiblings(e,n,r,i){const s=this.annotationStorage;for(const o of this._getElementsByName(e.name,e.id))o.domElement&&(o.domElement[n]=r),s.setValue(o.id,{[i]:r})}render(){var i,s;const e=this.annotationStorage,n=this.data.id;this.container.classList.add("textWidgetAnnotation");let r=null;if(this.renderForms){const o=e.getValue(n,{value:this.data.fieldValue});let a=o.value||"";const c=e.getValue(n,{charLimit:this.data.maxLen}).charLimit;c&&a.length>c&&(a=a.slice(0,c));let d=o.formattedValue||((i=this.data.textContent)==null?void 0:i.join(`
`))||null;d&&this.data.comb&&(d=d.replaceAll(/\s+/g,""));const h={userValue:a,formattedValue:d,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(r=document.createElement("textarea"),r.textContent=d??a,this.data.doNotScroll&&(r.style.overflowY="hidden")):(r=document.createElement("input"),r.type="text",r.setAttribute("value",d??a),this.data.doNotScroll&&(r.style.overflowX="hidden")),this.data.hasOwnCanvas&&(r.hidden=!0),su.add(r),r.setAttribute("data-element-id",n),r.disabled=this.data.readOnly,r.name=this.data.fieldName,r.tabIndex=Dm,this._setRequired(r,this.data.required),c&&(r.maxLength=c),r.addEventListener("input",p=>{e.setValue(n,{value:p.target.value}),this.setPropertyOnSiblings(r,"value",p.target.value,"value"),h.formattedValue=null}),r.addEventListener("resetform",p=>{const m=this.data.defaultFieldValue??"";r.value=h.userValue=m,h.formattedValue=null});let f=p=>{const{formattedValue:m}=h;m!=null&&(p.target.value=m),p.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){r.addEventListener("focus",m=>{var b;if(h.focused)return;const{target:y}=m;h.userValue&&(y.value=h.userValue),h.lastCommittedValue=y.value,h.commitKey=1,(b=this.data.actions)!=null&&b.Focus||(h.focused=!0)}),r.addEventListener("updatefromsandbox",m=>{this.showElementAndHideCanvas(m.target);const y={value(b){h.userValue=b.detail.value??"",e.setValue(n,{value:h.userValue.toString()}),b.target.value=h.userValue},formattedValue(b){const{formattedValue:E}=b.detail;h.formattedValue=E,E!=null&&b.target!==document.activeElement&&(b.target.value=E),e.setValue(n,{formattedValue:E})},selRange(b){b.target.setSelectionRange(...b.detail.selRange)},charLimit:b=>{var S;const{charLimit:E}=b.detail,{target:x}=b;if(E===0){x.removeAttribute("maxLength");return}x.setAttribute("maxLength",E);let C=h.userValue;!C||C.length<=E||(C=C.slice(0,E),x.value=h.userValue=C,e.setValue(n,{value:C}),(S=this.linkService.eventBus)==null||S.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n,name:"Keystroke",value:C,willCommit:!0,commitKey:1,selStart:x.selectionStart,selEnd:x.selectionEnd}}))}};this._dispatchEventFromSandbox(y,m)}),r.addEventListener("keydown",m=>{var E;h.commitKey=1;let y=-1;if(m.key==="Escape"?y=0:m.key==="Enter"&&!this.data.multiLine?y=2:m.key==="Tab"&&(h.commitKey=3),y===-1)return;const{value:b}=m.target;h.lastCommittedValue!==b&&(h.lastCommittedValue=b,h.userValue=b,(E=this.linkService.eventBus)==null||E.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n,name:"Keystroke",value:b,willCommit:!0,commitKey:y,selStart:m.target.selectionStart,selEnd:m.target.selectionEnd}}))});const p=f;f=null,r.addEventListener("blur",m=>{var b,E;if(!h.focused||!m.relatedTarget)return;(b=this.data.actions)!=null&&b.Blur||(h.focused=!1);const{value:y}=m.target;h.userValue=y,h.lastCommittedValue!==y&&((E=this.linkService.eventBus)==null||E.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n,name:"Keystroke",value:y,willCommit:!0,commitKey:h.commitKey,selStart:m.target.selectionStart,selEnd:m.target.selectionEnd}})),p(m)}),(s=this.data.actions)!=null&&s.Keystroke&&r.addEventListener("beforeinput",m=>{var k;h.lastCommittedValue=null;const{data:y,target:b}=m,{value:E,selectionStart:x,selectionEnd:C}=b;let S=x,_=C;switch(m.inputType){case"deleteWordBackward":{const N=E.substring(0,x).match(/\w*[^\w]*$/);N&&(S-=N[0].length);break}case"deleteWordForward":{const N=E.substring(x).match(/^[^\w]*\w*/);N&&(_+=N[0].length);break}case"deleteContentBackward":x===C&&(S-=1);break;case"deleteContentForward":x===C&&(_+=1);break}m.preventDefault(),(k=this.linkService.eventBus)==null||k.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n,name:"Keystroke",value:E,change:y||"",willCommit:!1,selStart:S,selEnd:_}})}),this._setEventListeners(r,h,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],m=>m.target.value)}if(f&&r.addEventListener("blur",f),this.data.comb){const m=(this.data.rect[2]-this.data.rect[0])/c;r.classList.add("comb"),r.style.letterSpacing=`calc(${m}px * var(--scale-factor) - 1ch)`}}else r=document.createElement("div"),r.textContent=this.data.fieldValue,r.style.verticalAlign="middle",r.style.display="table-cell",this.data.hasOwnCanvas&&(r.hidden=!0);return this._setTextStyle(r),this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}class VK extends pu{constructor(e){super(e,{isRenderable:!!e.data.hasOwnCanvas})}}class GK extends pu{constructor(e){super(e,{isRenderable:e.renderForms})}render(){const e=this.annotationStorage,n=this.data,r=n.id;let i=e.getValue(r,{value:n.exportValue===n.fieldValue}).value;typeof i=="string"&&(i=i!=="Off",e.setValue(r,{value:i})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const s=document.createElement("input");return su.add(s),s.setAttribute("data-element-id",r),s.disabled=n.readOnly,this._setRequired(s,this.data.required),s.type="checkbox",s.name=n.fieldName,i&&s.setAttribute("checked",!0),s.setAttribute("exportValue",n.exportValue),s.tabIndex=Dm,s.addEventListener("change",o=>{const{name:a,checked:c}=o.target;for(const d of this._getElementsByName(a,r)){const h=c&&d.exportValue===n.exportValue;d.domElement&&(d.domElement.checked=h),e.setValue(d.id,{value:h})}e.setValue(r,{value:c})}),s.addEventListener("resetform",o=>{const a=n.defaultFieldValue||"Off";o.target.checked=a===n.exportValue}),this.enableScripting&&this.hasJSActions&&(s.addEventListener("updatefromsandbox",o=>{const a={value(c){c.target.checked=c.detail.value!=="Off",e.setValue(r,{value:c.target.checked})}};this._dispatchEventFromSandbox(a,o)}),this._setEventListeners(s,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],o=>o.target.checked)),this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class oF extends pu{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const e=this.annotationStorage,n=this.data,r=n.id;let i=e.getValue(r,{value:n.fieldValue===n.buttonValue}).value;if(typeof i=="string"&&(i=i!==n.buttonValue,e.setValue(r,{value:i})),i)for(const o of this._getElementsByName(n.fieldName,r))e.setValue(o.id,{value:!1});const s=document.createElement("input");if(su.add(s),s.setAttribute("data-element-id",r),s.disabled=n.readOnly,this._setRequired(s,this.data.required),s.type="radio",s.name=n.fieldName,i&&s.setAttribute("checked",!0),s.tabIndex=Dm,s.addEventListener("change",o=>{const{name:a,checked:c}=o.target;for(const d of this._getElementsByName(a,r))e.setValue(d.id,{value:!1});e.setValue(r,{value:c})}),s.addEventListener("resetform",o=>{const a=n.defaultFieldValue;o.target.checked=a!=null&&a===n.buttonValue}),this.enableScripting&&this.hasJSActions){const o=n.buttonValue;s.addEventListener("updatefromsandbox",a=>{const c={value:d=>{const h=o===d.detail.value;for(const f of this._getElementsByName(d.target.name)){const p=h&&f.id===r;f.domElement&&(f.domElement.checked=p),e.setValue(f.id,{value:p})}}};this._dispatchEventFromSandbox(c,a)}),this._setEventListeners(s,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],a=>a.target.checked)}return this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class qK extends rF{constructor(e){super(e,{ignoreBorder:e.data.hasAppearance})}render(){const e=super.render();e.classList.add("buttonWidgetAnnotation","pushButton");const n=e.lastChild;return this.enableScripting&&this.hasJSActions&&n&&(this._setDefaultPropertiesFromJS(n),n.addEventListener("updatefromsandbox",r=>{this._dispatchEventFromSandbox({},r)})),e}}class YK extends pu{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const e=this.annotationStorage,n=this.data.id,r=e.getValue(n,{value:this.data.fieldValue}),i=document.createElement("select");su.add(i),i.setAttribute("data-element-id",n),i.disabled=this.data.readOnly,this._setRequired(i,this.data.required),i.name=this.data.fieldName,i.tabIndex=Dm;let s=this.data.combo&&this.data.options.length>0;this.data.combo||(i.size=this.data.options.length,this.data.multiSelect&&(i.multiple=!0)),i.addEventListener("resetform",h=>{const f=this.data.defaultFieldValue;for(const p of i.options)p.selected=p.value===f});for(const h of this.data.options){const f=document.createElement("option");f.textContent=h.displayValue,f.value=h.exportValue,r.value.includes(h.exportValue)&&(f.setAttribute("selected",!0),s=!1),i.append(f)}let o=null;if(s){const h=document.createElement("option");h.value=" ",h.setAttribute("hidden",!0),h.setAttribute("selected",!0),i.prepend(h),o=()=>{h.remove(),i.removeEventListener("input",o),o=null},i.addEventListener("input",o)}const a=h=>{const f=h?"value":"textContent",{options:p,multiple:m}=i;return m?Array.prototype.filter.call(p,y=>y.selected).map(y=>y[f]):p.selectedIndex===-1?null:p[p.selectedIndex][f]};let c=a(!1);const d=h=>{const f=h.target.options;return Array.prototype.map.call(f,p=>({displayValue:p.textContent,exportValue:p.value}))};return this.enableScripting&&this.hasJSActions?(i.addEventListener("updatefromsandbox",h=>{const f={value(p){o==null||o();const m=p.detail.value,y=new Set(Array.isArray(m)?m:[m]);for(const b of i.options)b.selected=y.has(b.value);e.setValue(n,{value:a(!0)}),c=a(!1)},multipleSelection(p){i.multiple=!0},remove(p){const m=i.options,y=p.detail.remove;m[y].selected=!1,i.remove(y),m.length>0&&Array.prototype.findIndex.call(m,E=>E.selected)===-1&&(m[0].selected=!0),e.setValue(n,{value:a(!0),items:d(p)}),c=a(!1)},clear(p){for(;i.length!==0;)i.remove(0);e.setValue(n,{value:null,items:[]}),c=a(!1)},insert(p){const{index:m,displayValue:y,exportValue:b}=p.detail.insert,E=i.children[m],x=document.createElement("option");x.textContent=y,x.value=b,E?E.before(x):i.append(x),e.setValue(n,{value:a(!0),items:d(p)}),c=a(!1)},items(p){const{items:m}=p.detail;for(;i.length!==0;)i.remove(0);for(const y of m){const{displayValue:b,exportValue:E}=y,x=document.createElement("option");x.textContent=b,x.value=E,i.append(x)}i.options.length>0&&(i.options[0].selected=!0),e.setValue(n,{value:a(!0),items:d(p)}),c=a(!1)},indices(p){const m=new Set(p.detail.indices);for(const y of p.target.options)y.selected=m.has(y.index);e.setValue(n,{value:a(!0)}),c=a(!1)},editable(p){p.target.disabled=!p.detail.editable}};this._dispatchEventFromSandbox(f,h)}),i.addEventListener("input",h=>{var m;const f=a(!0),p=a(!1);e.setValue(n,{value:f}),h.preventDefault(),(m=this.linkService.eventBus)==null||m.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n,name:"Keystroke",value:c,change:p,changeEx:f,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(i,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],h=>h.target.value)):i.addEventListener("input",function(h){e.setValue(n,{value:a(!0)})}),this.data.combo&&this._setTextStyle(i),this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}class xC extends dn{constructor(e){const{data:n,elements:r}=e;super(e,{isRenderable:dn._hasPopupData(n)}),this.elements=r,this.popup=null}render(){this.container.classList.add("popupAnnotation");const e=this.popup=new XK({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),n=[];for(const r of this.elements)r.popup=e,n.push(r.data.id),r.addHighlightArea();return this.container.setAttribute("aria-controls",n.map(r=>`${aD}${r}`).join(",")),this.container}}var Vd,hb,fb,Gd,Ic,sn,Oo,Nc,Ig,Ng,qd,Lo,Vi,Do,Mg,Fo,Og,Mc,Oc,Pt,t0,SC,aF,lF,cF,uF,n0,r0,EC;class XK{constructor({container:e,color:n,elements:r,titleObj:i,modificationDate:s,contentsObj:o,richText:a,parent:c,rect:d,parentRect:h,open:f}){W(this,Pt);W(this,Vd,B(this,Pt,cF).bind(this));W(this,hb,B(this,Pt,EC).bind(this));W(this,fb,B(this,Pt,r0).bind(this));W(this,Gd,B(this,Pt,n0).bind(this));W(this,Ic,null);W(this,sn,null);W(this,Oo,null);W(this,Nc,null);W(this,Ig,null);W(this,Ng,null);W(this,qd,null);W(this,Lo,!1);W(this,Vi,null);W(this,Do,null);W(this,Mg,null);W(this,Fo,null);W(this,Og,null);W(this,Mc,null);W(this,Oc,!1);var p;j(this,sn,e),j(this,Og,i),j(this,Oo,o),j(this,Fo,a),j(this,Ng,c),j(this,Ic,n),j(this,Mg,d),j(this,qd,h),j(this,Ig,r),j(this,Nc,hD.toDateObject(s)),this.trigger=r.flatMap(m=>m.getElementsToTriggerPopup());for(const m of this.trigger)m.addEventListener("click",v(this,Gd)),m.addEventListener("mouseenter",v(this,fb)),m.addEventListener("mouseleave",v(this,hb)),m.classList.add("popupTriggerArea");for(const m of r)(p=m.container)==null||p.addEventListener("keydown",v(this,Vd));v(this,sn).hidden=!0,f&&B(this,Pt,n0).call(this)}render(){if(v(this,Vi))return;const e=j(this,Vi,document.createElement("div"));if(e.className="popup",v(this,Ic)){const s=e.style.outlineColor=$e.makeHexColor(...v(this,Ic));CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?e.style.backgroundColor=`color-mix(in srgb, ${s} 30%, white)`:e.style.backgroundColor=$e.makeHexColor(...v(this,Ic).map(a=>Math.floor(.7*(255-a)+a)))}const n=document.createElement("span");n.className="header";const r=document.createElement("h1");if(n.append(r),{dir:r.dir,str:r.textContent}=v(this,Og),e.append(n),v(this,Nc)){const s=document.createElement("span");s.classList.add("popupDate"),s.setAttribute("data-l10n-id","pdfjs-annotation-date-string"),s.setAttribute("data-l10n-args",JSON.stringify({date:v(this,Nc).toLocaleDateString(),time:v(this,Nc).toLocaleTimeString()})),n.append(s)}const i=v(this,Pt,t0);if(i)nF.render({xfaHtml:i,intent:"richText",div:e}),e.lastChild.classList.add("richText","popupContent");else{const s=this._formatContents(v(this,Oo));e.append(s)}v(this,sn).append(e)}_formatContents({str:e,dir:n}){const r=document.createElement("p");r.classList.add("popupContent"),r.dir=n;const i=e.split(/(?:\r\n?|\n)/);for(let s=0,o=i.length;s<o;++s){const a=i[s];r.append(document.createTextNode(a)),s<o-1&&r.append(document.createElement("br"))}return r}updateEdited({rect:e,popupContent:n}){var r;v(this,Mc)||j(this,Mc,{contentsObj:v(this,Oo),richText:v(this,Fo)}),e&&j(this,Do,null),n&&(j(this,Fo,B(this,Pt,lF).call(this,n)),j(this,Oo,null)),(r=v(this,Vi))==null||r.remove(),j(this,Vi,null)}resetEdited(){var e;v(this,Mc)&&({contentsObj:qr(this,Oo)._,richText:qr(this,Fo)._}=v(this,Mc),j(this,Mc,null),(e=v(this,Vi))==null||e.remove(),j(this,Vi,null),j(this,Do,null))}forceHide(){j(this,Oc,this.isVisible),v(this,Oc)&&(v(this,sn).hidden=!0)}maybeShow(){v(this,Oc)&&(v(this,Vi)||B(this,Pt,r0).call(this),j(this,Oc,!1),v(this,sn).hidden=!1)}get isVisible(){return v(this,sn).hidden===!1}}Vd=new WeakMap,hb=new WeakMap,fb=new WeakMap,Gd=new WeakMap,Ic=new WeakMap,sn=new WeakMap,Oo=new WeakMap,Nc=new WeakMap,Ig=new WeakMap,Ng=new WeakMap,qd=new WeakMap,Lo=new WeakMap,Vi=new WeakMap,Do=new WeakMap,Mg=new WeakMap,Fo=new WeakMap,Og=new WeakMap,Mc=new WeakMap,Oc=new WeakMap,Pt=new WeakSet,t0=function(){const e=v(this,Fo),n=v(this,Oo);return e!=null&&e.str&&(!(n!=null&&n.str)||n.str===e.str)&&v(this,Fo).html||null},SC=function(){var e,n,r;return((r=(n=(e=v(this,Pt,t0))==null?void 0:e.attributes)==null?void 0:n.style)==null?void 0:r.fontSize)||0},aF=function(){var e,n,r;return((r=(n=(e=v(this,Pt,t0))==null?void 0:e.attributes)==null?void 0:n.style)==null?void 0:r.color)||null},lF=function(e){const n=[],r={str:e,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:n}]}},i={style:{color:v(this,Pt,aF),fontSize:v(this,Pt,SC)?`calc(${v(this,Pt,SC)}px * var(--scale-factor))`:""}};for(const s of e.split(`
`))n.push({name:"span",value:s,attributes:i});return r},cF=function(e){e.altKey||e.shiftKey||e.ctrlKey||e.metaKey||(e.key==="Enter"||e.key==="Escape"&&v(this,Lo))&&B(this,Pt,n0).call(this)},uF=function(){if(v(this,Do)!==null)return;const{page:{view:e},viewport:{rawDims:{pageWidth:n,pageHeight:r,pageX:i,pageY:s}}}=v(this,Ng);let o=!!v(this,qd),a=o?v(this,qd):v(this,Mg);for(const y of v(this,Ig))if(!a||$e.intersect(y.data.rect,a)!==null){a=y.data.rect,o=!0;break}const c=$e.normalizeRect([a[0],e[3]-a[1]+e[1],a[2],e[3]-a[3]+e[1]]),h=o?a[2]-a[0]+5:0,f=c[0]+h,p=c[1];j(this,Do,[100*(f-i)/n,100*(p-s)/r]);const{style:m}=v(this,sn);m.left=`${v(this,Do)[0]}%`,m.top=`${v(this,Do)[1]}%`},n0=function(){j(this,Lo,!v(this,Lo)),v(this,Lo)?(B(this,Pt,r0).call(this),v(this,sn).addEventListener("click",v(this,Gd)),v(this,sn).addEventListener("keydown",v(this,Vd))):(B(this,Pt,EC).call(this),v(this,sn).removeEventListener("click",v(this,Gd)),v(this,sn).removeEventListener("keydown",v(this,Vd)))},r0=function(){v(this,Vi)||this.render(),this.isVisible?v(this,Lo)&&v(this,sn).classList.add("focused"):(B(this,Pt,uF).call(this),v(this,sn).hidden=!1,v(this,sn).style.zIndex=parseInt(v(this,sn).style.zIndex)+1e3)},EC=function(){v(this,sn).classList.remove("focused"),!(v(this,Lo)||!this.isVisible)&&(v(this,sn).hidden=!0,v(this,sn).style.zIndex=parseInt(v(this,sn).style.zIndex)-1e3)};class dF extends dn{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.textContent=e.data.textContent,this.textPosition=e.data.textPosition,this.annotationEditorType=st.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const e=document.createElement("div");e.classList.add("annotationTextContent"),e.setAttribute("role","comment");for(const n of this.textContent){const r=document.createElement("span");r.textContent=n,e.append(r)}this.container.append(e)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}get _isEditable(){return this.data.hasOwnCanvas}}var Lg;class KK extends dn{constructor(n){super(n,{isRenderable:!0,ignoreBorder:!0});W(this,Lg,null)}render(){this.container.classList.add("lineAnnotation");const n=this.data,{width:r,height:i}=Zo(n.rect),s=this.svgFactory.create(r,i,!0),o=j(this,Lg,this.svgFactory.createElement("svg:line"));return o.setAttribute("x1",n.rect[2]-n.lineCoordinates[0]),o.setAttribute("y1",n.rect[3]-n.lineCoordinates[1]),o.setAttribute("x2",n.rect[2]-n.lineCoordinates[2]),o.setAttribute("y2",n.rect[3]-n.lineCoordinates[3]),o.setAttribute("stroke-width",n.borderStyle.width||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),s.append(o),this.container.append(s),!n.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return v(this,Lg)}addHighlightArea(){this.container.classList.add("highlightArea")}}Lg=new WeakMap;var Dg;class QK extends dn{constructor(n){super(n,{isRenderable:!0,ignoreBorder:!0});W(this,Dg,null)}render(){this.container.classList.add("squareAnnotation");const n=this.data,{width:r,height:i}=Zo(n.rect),s=this.svgFactory.create(r,i,!0),o=n.borderStyle.width,a=j(this,Dg,this.svgFactory.createElement("svg:rect"));return a.setAttribute("x",o/2),a.setAttribute("y",o/2),a.setAttribute("width",r-o),a.setAttribute("height",i-o),a.setAttribute("stroke-width",o||1),a.setAttribute("stroke","transparent"),a.setAttribute("fill","transparent"),s.append(a),this.container.append(s),!n.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return v(this,Dg)}addHighlightArea(){this.container.classList.add("highlightArea")}}Dg=new WeakMap;var Fg;class ZK extends dn{constructor(n){super(n,{isRenderable:!0,ignoreBorder:!0});W(this,Fg,null)}render(){this.container.classList.add("circleAnnotation");const n=this.data,{width:r,height:i}=Zo(n.rect),s=this.svgFactory.create(r,i,!0),o=n.borderStyle.width,a=j(this,Fg,this.svgFactory.createElement("svg:ellipse"));return a.setAttribute("cx",r/2),a.setAttribute("cy",i/2),a.setAttribute("rx",r/2-o/2),a.setAttribute("ry",i/2-o/2),a.setAttribute("stroke-width",o||1),a.setAttribute("stroke","transparent"),a.setAttribute("fill","transparent"),s.append(a),this.container.append(s),!n.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return v(this,Fg)}addHighlightArea(){this.container.classList.add("highlightArea")}}Fg=new WeakMap;var $g;class hF extends dn{constructor(n){super(n,{isRenderable:!0,ignoreBorder:!0});W(this,$g,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:n,vertices:r,borderStyle:i,popupRef:s}}=this;if(!r)return this.container;const{width:o,height:a}=Zo(n),c=this.svgFactory.create(o,a,!0);let d=[];for(let f=0,p=r.length;f<p;f+=2){const m=r[f]-n[0],y=n[3]-r[f+1];d.push(`${m},${y}`)}d=d.join(" ");const h=j(this,$g,this.svgFactory.createElement(this.svgElementName));return h.setAttribute("points",d),h.setAttribute("stroke-width",i.width||1),h.setAttribute("stroke","transparent"),h.setAttribute("fill","transparent"),c.append(h),this.container.append(c),!s&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return v(this,$g)}addHighlightArea(){this.container.classList.add("highlightArea")}}$g=new WeakMap;class JK extends hF{constructor(e){super(e),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class eQ extends dn{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var zg;class fF extends dn{constructor(n){super(n,{isRenderable:!0,ignoreBorder:!0});W(this,zg,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=st.INK}render(){this.container.classList.add(this.containerClassName);const{data:{rect:n,inkLists:r,borderStyle:i,popupRef:s}}=this,{width:o,height:a}=Zo(n),c=this.svgFactory.create(o,a,!0);for(const d of r){let h=[];for(let p=0,m=d.length;p<m;p+=2){const y=d[p]-n[0],b=n[3]-d[p+1];h.push(`${y},${b}`)}h=h.join(" ");const f=this.svgFactory.createElement(this.svgElementName);v(this,zg).push(f),f.setAttribute("points",h),f.setAttribute("stroke-width",i.width||1),f.setAttribute("stroke","transparent"),f.setAttribute("fill","transparent"),!s&&this.hasPopupData&&this._createPopup(),c.append(f)}return this.container.append(c),this.container}getElementsToTriggerPopup(){return v(this,zg)}addHighlightArea(){this.container.classList.add("highlightArea")}}zg=new WeakMap;class tQ extends dn{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this.container}}class nQ extends dn{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class rQ extends dn{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class iQ extends dn{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class pF extends dn{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("stampAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var jg,Bg,CC;class sQ extends dn{constructor(n){var i;super(n,{isRenderable:!0});W(this,Bg);W(this,jg,null);const{file:r}=this.data;this.filename=r.filename,this.content=r.content,(i=this.linkService.eventBus)==null||i.dispatch("fileattachmentannotation",{source:this,...r})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:n,data:r}=this;let i;r.hasAppearance||r.fillAlpha===0?i=document.createElement("div"):(i=document.createElement("img"),i.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(r.name)?"paperclip":"pushpin"}.svg`,r.fillAlpha&&r.fillAlpha<1&&(i.style=`filter: opacity(${Math.round(r.fillAlpha*100)}%);`)),i.addEventListener("dblclick",B(this,Bg,CC).bind(this)),j(this,jg,i);const{isMac:s}=Or.platform;return n.addEventListener("keydown",o=>{o.key==="Enter"&&(s?o.metaKey:o.ctrlKey)&&B(this,Bg,CC).call(this)}),!r.popupRef&&this.hasPopupData?this._createPopup():i.classList.add("popupTriggerArea"),n.append(i),n}getElementsToTriggerPopup(){return v(this,jg)}addHighlightArea(){this.container.classList.add("highlightArea")}}jg=new WeakMap,Bg=new WeakSet,CC=function(){var n;(n=this.downloadManager)==null||n.openOrDownloadData(this.content,this.filename)};var Hg,Lc,Yd,lu,gF,_C;class oQ{constructor({div:e,accessibilityManager:n,annotationCanvasMap:r,annotationEditorUIManager:i,page:s,viewport:o}){W(this,lu);W(this,Hg,null);W(this,Lc,null);W(this,Yd,new Map);this.div=e,j(this,Hg,n),j(this,Lc,r),this.page=s,this.viewport=o,this.zIndex=0,this._annotationEditorUIManager=i}async render(e){var o;const{annotations:n}=e,r=this.div;ru(r,this.viewport);const i=new Map,s={data:null,layer:r,linkService:e.linkService,downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||"",renderForms:e.renderForms!==!1,svgFactory:new rA,annotationStorage:e.annotationStorage||new lA,enableScripting:e.enableScripting===!0,hasJSActions:e.hasJSActions,fieldObjects:e.fieldObjects,parent:this,elements:null};for(const a of n){if(a.noHTML)continue;const c=a.annotationType===Sn.POPUP;if(c){const f=i.get(a.id);if(!f)continue;s.elements=f}else{const{width:f,height:p}=Zo(a.rect);if(f<=0||p<=0)continue}s.data=a;const d=HK.create(s);if(!d.isRenderable)continue;if(!c&&a.popupRef){const f=i.get(a.popupRef);f?f.push(d):i.set(a.popupRef,[d])}const h=d.render();a.hidden&&(h.style.visibility="hidden"),B(this,lu,gF).call(this,h,a.id),d.annotationEditorType>0&&(v(this,Yd).set(d.data.id,d),(o=this._annotationEditorUIManager)==null||o.renderAnnotationElement(d))}B(this,lu,_C).call(this)}update({viewport:e}){const n=this.div;this.viewport=e,ru(n,{rotation:e.rotation}),B(this,lu,_C).call(this),n.hidden=!1}getEditableAnnotations(){return Array.from(v(this,Yd).values())}getEditableAnnotation(e){return v(this,Yd).get(e)}}Hg=new WeakMap,Lc=new WeakMap,Yd=new WeakMap,lu=new WeakSet,gF=function(e,n){var i;const r=e.firstChild||e;r.id=`${aD}${n}`,this.div.append(e),(i=v(this,Hg))==null||i.moveElementInDOM(this.div,e,r,!1)},_C=function(){if(!v(this,Lc))return;const e=this.div;for(const[n,r]of v(this,Lc)){const i=e.querySelector(`[data-annotation-id="${n}"]`);if(!i)continue;r.className="annotationContent";const{firstChild:s}=i;s?s.nodeName==="CANVAS"?s.replaceWith(r):s.classList.contains("annotationContent")?s.after(r):s.before(r):i.append(r)}v(this,Lc).clear()};const Mv=/\r\n?|\n/g;var Wg,Ug,Vg,Gg,qg,Gi,Jr,Yg,ei,Xd,vn,mF,yF,vF,i0,ta,s0,o0,bF,kC,wF;const $t=class $t extends _t{constructor(n){super({...n,name:"freeTextEditor"});W(this,vn);W(this,Wg,this.editorDivBlur.bind(this));W(this,Ug,this.editorDivFocus.bind(this));W(this,Vg,this.editorDivInput.bind(this));W(this,Gg,this.editorDivKeydown.bind(this));W(this,qg,this.editorDivPaste.bind(this));W(this,Gi);W(this,Jr,"");W(this,Yg,`${this.id}-editor`);W(this,ei);W(this,Xd,null);j(this,Gi,n.color||$t._defaultColor||_t._defaultLineColor),j(this,ei,n.fontSize||$t._defaultFontSize)}static get _keyboardManager(){const n=$t.prototype,r=o=>o.isEmpty(),i=iu.TRANSLATE_SMALL,s=iu.TRANSLATE_BIG;return lt(this,"_keyboardManager",new Om([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],n.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],n.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],n._translateEmpty,{args:[-i,0],checker:r}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],n._translateEmpty,{args:[-s,0],checker:r}],[["ArrowRight","mac+ArrowRight"],n._translateEmpty,{args:[i,0],checker:r}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],n._translateEmpty,{args:[s,0],checker:r}],[["ArrowUp","mac+ArrowUp"],n._translateEmpty,{args:[0,-i],checker:r}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],n._translateEmpty,{args:[0,-s],checker:r}],[["ArrowDown","mac+ArrowDown"],n._translateEmpty,{args:[0,i],checker:r}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],n._translateEmpty,{args:[0,s],checker:r}]]))}static initialize(n,r){_t.initialize(n,r,{strings:["pdfjs-free-text-default-content"]});const i=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(i.getPropertyValue("--freetext-padding"))}static updateDefaultParams(n,r){switch(n){case Xe.FREETEXT_SIZE:$t._defaultFontSize=r;break;case Xe.FREETEXT_COLOR:$t._defaultColor=r;break}}updateParams(n,r){switch(n){case Xe.FREETEXT_SIZE:B(this,vn,mF).call(this,r);break;case Xe.FREETEXT_COLOR:B(this,vn,yF).call(this,r);break}}static get defaultPropertiesToUpdate(){return[[Xe.FREETEXT_SIZE,$t._defaultFontSize],[Xe.FREETEXT_COLOR,$t._defaultColor||_t._defaultLineColor]]}get propertiesToUpdate(){return[[Xe.FREETEXT_SIZE,v(this,ei)],[Xe.FREETEXT_COLOR,v(this,Gi)]]}_translateEmpty(n,r){this._uiManager.translateSelectedEditors(n,r,!0)}getInitialTranslation(){const n=this.parentScale;return[-$t._internalPadding*n,-($t._internalPadding+v(this,ei))*n]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(this.isInEditMode())return;this.parent.setEditingState(!1),this.parent.updateToolbar(st.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant");const n=this._uiManager._signal;this.editorDiv.addEventListener("keydown",v(this,Gg),{signal:n}),this.editorDiv.addEventListener("focus",v(this,Ug),{signal:n}),this.editorDiv.addEventListener("blur",v(this,Wg),{signal:n}),this.editorDiv.addEventListener("input",v(this,Vg),{signal:n}),this.editorDiv.addEventListener("paste",v(this,qg),{signal:n})}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",v(this,Yg)),this._isDraggable=!0,this.editorDiv.removeEventListener("keydown",v(this,Gg)),this.editorDiv.removeEventListener("focus",v(this,Ug)),this.editorDiv.removeEventListener("blur",v(this,Wg)),this.editorDiv.removeEventListener("input",v(this,Vg)),this.editorDiv.removeEventListener("paste",v(this,qg)),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"))}focusin(n){this._focusEventsAllowed&&(super.focusin(n),n.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){var n;this.width||(this.enableEditMode(),this.editorDiv.focus(),(n=this._initialOptions)!=null&&n.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const n=v(this,Jr),r=j(this,Jr,B(this,vn,vF).call(this).trimEnd());if(n===r)return;const i=s=>{if(j(this,Jr,s),!s){this.remove();return}B(this,vn,o0).call(this),this._uiManager.rebuild(this),B(this,vn,i0).call(this)};this.addCommands({cmd:()=>{i(r)},undo:()=>{i(n)},mustExec:!1}),B(this,vn,i0).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(n){this.enterInEditMode()}keydown(n){n.target===this.div&&n.key==="Enter"&&(this.enterInEditMode(),n.preventDefault())}editorDivKeydown(n){$t._keyboardManager.exec(this,n)}editorDivFocus(n){this.isEditing=!0}editorDivBlur(n){this.isEditing=!1}editorDivInput(n){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let n,r;this.width&&(n=this.x,r=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",v(this,Yg)),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text"),this.enableEditing(),_t._l10nPromise.get("pdfjs-free-text-default-content").then(s=>{var o;return(o=this.editorDiv)==null?void 0:o.setAttribute("default-content",s)}),this.editorDiv.contentEditable=!0;const{style:i}=this.editorDiv;if(i.fontSize=`calc(${v(this,ei)}px * var(--scale-factor))`,i.color=v(this,Gi),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),j0(this,this.div,["dblclick","keydown"]),this.width){const[s,o]=this.parentDimensions;if(this.annotationElementId){const{position:a}=v(this,Xd);let[c,d]=this.getInitialTranslation();[c,d]=this.pageTranslationToScreen(c,d);const[h,f]=this.pageDimensions,[p,m]=this.pageTranslation;let y,b;switch(this.rotation){case 0:y=n+(a[0]-p)/h,b=r+this.height-(a[1]-m)/f;break;case 90:y=n+(a[0]-p)/h,b=r-(a[1]-m)/f,[c,d]=[d,-c];break;case 180:y=n-this.width+(a[0]-p)/h,b=r-(a[1]-m)/f,[c,d]=[-c,-d];break;case 270:y=n+(a[0]-p-this.height*f)/h,b=r+(a[1]-m-this.width*h)/f,[c,d]=[-d,c];break}this.setAt(y*s,b*o,c,d)}else this.setAt(n*s,r*o,this.width*s,this.height*o);B(this,vn,o0).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}editorDivPaste(n){var y,b,E;const r=n.clipboardData||window.clipboardData,{types:i}=r;if(i.length===1&&i[0]==="text/plain")return;n.preventDefault();const s=B(y=$t,ta,kC).call(y,r.getData("text")||"").replaceAll(Mv,`
`);if(!s)return;const o=window.getSelection();if(!o.rangeCount)return;this.editorDiv.normalize(),o.deleteFromDocument();const a=o.getRangeAt(0);if(!s.includes(`
`)){a.insertNode(document.createTextNode(s)),this.editorDiv.normalize(),o.collapseToStart();return}const{startContainer:c,startOffset:d}=a,h=[],f=[];if(c.nodeType===Node.TEXT_NODE){const x=c.parentElement;if(f.push(c.nodeValue.slice(d).replaceAll(Mv,"")),x!==this.editorDiv){let C=h;for(const S of this.editorDiv.childNodes){if(S===x){C=f;continue}C.push(B(b=$t,ta,s0).call(b,S))}}h.push(c.nodeValue.slice(0,d).replaceAll(Mv,""))}else if(c===this.editorDiv){let x=h,C=0;for(const S of this.editorDiv.childNodes)C++===d&&(x=f),x.push(B(E=$t,ta,s0).call(E,S))}j(this,Jr,`${h.join(`
`)}${s}${f.join(`
`)}`),B(this,vn,o0).call(this);const p=new Range;let m=h.reduce((x,C)=>x+C.length,0);for(const{firstChild:x}of this.editorDiv.childNodes)if(x.nodeType===Node.TEXT_NODE){const C=x.nodeValue.length;if(m<=C){p.setStart(x,m),p.setEnd(x,m);break}m-=C}o.removeAllRanges(),o.addRange(p)}get contentDiv(){return this.editorDiv}static deserialize(n,r,i){var a;let s=null;if(n instanceof dF){const{data:{defaultAppearanceData:{fontSize:c,fontColor:d},rect:h,rotation:f,id:p},textContent:m,textPosition:y,parent:{page:{pageNumber:b}}}=n;if(!m||m.length===0)return null;s=n={annotationType:st.FREETEXT,color:Array.from(d),fontSize:c,value:m.join(`
`),position:y,pageIndex:b-1,rect:h.slice(0),rotation:f,id:p,deleted:!1}}const o=super.deserialize(n,r,i);return j(o,ei,n.fontSize),j(o,Gi,$e.makeHexColor(...n.color)),j(o,Jr,B(a=$t,ta,kC).call(a,n.value)),o.annotationElementId=n.id||null,j(o,Xd,s),o}serialize(n=!1){if(this.isEmpty())return null;if(this.deleted)return{pageIndex:this.pageIndex,id:this.annotationElementId,deleted:!0};const r=$t._internalPadding*this.parentScale,i=this.getRect(r,r),s=_t._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:v(this,Gi)),o={annotationType:st.FREETEXT,color:s,fontSize:v(this,ei),value:B(this,vn,bF).call(this),pageIndex:this.pageIndex,rect:i,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return n?o:this.annotationElementId&&!B(this,vn,wF).call(this,o)?null:(o.id=this.annotationElementId,o)}renderAnnotationElement(n){const r=super.renderAnnotationElement(n);if(this.deleted)return r;const{style:i}=r;i.fontSize=`calc(${v(this,ei)}px * var(--scale-factor))`,i.color=v(this,Gi),r.replaceChildren();for(const o of v(this,Jr).split(`
`)){const a=document.createElement("div");a.append(o?document.createTextNode(o):document.createElement("br")),r.append(a)}const s=$t._internalPadding*this.parentScale;return n.updateEdited({rect:this.getRect(s,s),popupContent:v(this,Jr)}),r}resetAnnotationElement(n){super.resetAnnotationElement(n),n.resetEdited()}};Wg=new WeakMap,Ug=new WeakMap,Vg=new WeakMap,Gg=new WeakMap,qg=new WeakMap,Gi=new WeakMap,Jr=new WeakMap,Yg=new WeakMap,ei=new WeakMap,Xd=new WeakMap,vn=new WeakSet,mF=function(n){const r=s=>{this.editorDiv.style.fontSize=`calc(${s}px * var(--scale-factor))`,this.translate(0,-(s-v(this,ei))*this.parentScale),j(this,ei,s),B(this,vn,i0).call(this)},i=v(this,ei);this.addCommands({cmd:r.bind(this,n),undo:r.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Xe.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},yF=function(n){const r=s=>{j(this,Gi,this.editorDiv.style.color=s)},i=v(this,Gi);this.addCommands({cmd:r.bind(this,n),undo:r.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Xe.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},vF=function(){var r;const n=[];this.editorDiv.normalize();for(const i of this.editorDiv.childNodes)n.push(B(r=$t,ta,s0).call(r,i));return n.join(`
`)},i0=function(){const[n,r]=this.parentDimensions;let i;if(this.isAttachedToDOM)i=this.div.getBoundingClientRect();else{const{currentLayer:s,div:o}=this,a=o.style.display,c=o.classList.contains("hidden");o.classList.remove("hidden"),o.style.display="hidden",s.div.append(this.div),i=o.getBoundingClientRect(),o.remove(),o.style.display=a,o.classList.toggle("hidden",c)}this.rotation%180===this.parentRotation%180?(this.width=i.width/n,this.height=i.height/r):(this.width=i.height/n,this.height=i.width/r),this.fixAndSetPosition()},ta=new WeakSet,s0=function(n){return(n.nodeType===Node.TEXT_NODE?n.nodeValue:n.innerText).replaceAll(Mv,"")},o0=function(){if(this.editorDiv.replaceChildren(),!!v(this,Jr))for(const n of v(this,Jr).split(`
`)){const r=document.createElement("div");r.append(n?document.createTextNode(n):document.createElement("br")),this.editorDiv.append(r)}},bF=function(){return v(this,Jr).replaceAll(""," ")},kC=function(n){return n.replaceAll(" ","")},wF=function(n){const{value:r,fontSize:i,color:s,pageIndex:o}=v(this,Xd);return this._hasBeenMoved||n.value!==r||n.fontSize!==i||n.color.some((a,c)=>a!==s[c])||n.pageIndex!==o},W($t,ta),Te($t,"_freeTextDefaultContent",""),Te($t,"_internalPadding",0),Te($t,"_defaultColor",null),Te($t,"_defaultFontSize",10),Te($t,"_type","freetext"),Te($t,"_editorType",st.FREETEXT);let AC=$t;var Xg,ol,qi,br,xF,a0,SF,EF,TC;class RC{constructor(e,n=0,r=0,i=!0){W(this,br);W(this,Xg);W(this,ol,[]);W(this,qi,[]);let s=1/0,o=-1/0,a=1/0,c=-1/0;const d=10**-4;for(const{x:E,y:x,width:C,height:S}of e){const _=Math.floor((E-n)/d)*d,k=Math.ceil((E+C+n)/d)*d,N=Math.floor((x-n)/d)*d,T=Math.ceil((x+S+n)/d)*d,M=[_,N,T,!0],O=[k,N,T,!1];v(this,ol).push(M,O),s=Math.min(s,_),o=Math.max(o,k),a=Math.min(a,N),c=Math.max(c,T)}const h=o-s+2*r,f=c-a+2*r,p=s-r,m=a-r,y=v(this,ol).at(i?-1:-2),b=[y[0],y[2]];for(const E of v(this,ol)){const[x,C,S]=E;E[0]=(x-p)/h,E[1]=(C-m)/f,E[2]=(S-m)/f}j(this,Xg,{x:p,y:m,width:h,height:f,lastPoint:b})}getOutlines(){v(this,ol).sort((n,r)=>n[0]-r[0]||n[1]-r[1]||n[2]-r[2]);const e=[];for(const n of v(this,ol))n[3]?(e.push(...B(this,br,TC).call(this,n)),B(this,br,SF).call(this,n)):(B(this,br,EF).call(this,n),e.push(...B(this,br,TC).call(this,n)));return B(this,br,xF).call(this,e)}}Xg=new WeakMap,ol=new WeakMap,qi=new WeakMap,br=new WeakSet,xF=function(e){const n=[],r=new Set;for(const o of e){const[a,c,d]=o;n.push([a,c,o],[a,d,o])}n.sort((o,a)=>o[1]-a[1]||o[0]-a[0]);for(let o=0,a=n.length;o<a;o+=2){const c=n[o][2],d=n[o+1][2];c.push(d),d.push(c),r.add(c),r.add(d)}const i=[];let s;for(;r.size>0;){const o=r.values().next().value;let[a,c,d,h,f]=o;r.delete(o);let p=a,m=c;for(s=[a,d],i.push(s);;){let y;if(r.has(h))y=h;else if(r.has(f))y=f;else break;r.delete(y),[a,c,d,h,f]=y,p!==a&&(s.push(p,m,a,m===c?c:d),p=a),m=m===c?d:c}s.push(p,m)}return new aQ(i,v(this,Xg))},a0=function(e){const n=v(this,qi);let r=0,i=n.length-1;for(;r<=i;){const s=r+i>>1,o=n[s][0];if(o===e)return s;o<e?r=s+1:i=s-1}return i+1},SF=function([,e,n]){const r=B(this,br,a0).call(this,e);v(this,qi).splice(r,0,[e,n])},EF=function([,e,n]){const r=B(this,br,a0).call(this,e);for(let i=r;i<v(this,qi).length;i++){const[s,o]=v(this,qi)[i];if(s!==e)break;if(s===e&&o===n){v(this,qi).splice(i,1);return}}for(let i=r-1;i>=0;i--){const[s,o]=v(this,qi)[i];if(s!==e)break;if(s===e&&o===n){v(this,qi).splice(i,1);return}}},TC=function(e){const[n,r,i]=e,s=[[n,r,i]],o=B(this,br,a0).call(this,i);for(let a=0;a<o;a++){const[c,d]=v(this,qi)[a];for(let h=0,f=s.length;h<f;h++){const[,p,m]=s[h];if(!(d<=p||m<=c)){if(p>=c){if(m>d)s[h][1]=d;else{if(f===1)return[];s.splice(h,1),h--,f--}continue}s[h][2]=c,m>d&&s.push([n,d,m])}}}return s};class CF{toSVGPath(){throw new Error("Abstract method `toSVGPath` must be implemented.")}get box(){throw new Error("Abstract getter `box` must be implemented.")}serialize(e,n){throw new Error("Abstract method `serialize` must be implemented.")}get free(){return this instanceof IC}}var Kg,Kd;class aQ extends CF{constructor(n,r){super();W(this,Kg);W(this,Kd);j(this,Kd,n),j(this,Kg,r)}toSVGPath(){const n=[];for(const r of v(this,Kd)){let[i,s]=r;n.push(`M${i} ${s}`);for(let o=2;o<r.length;o+=2){const a=r[o],c=r[o+1];a===i?(n.push(`V${c}`),s=c):c===s&&(n.push(`H${a}`),i=a)}n.push("Z")}return n.join(" ")}serialize([n,r,i,s],o){const a=[],c=i-n,d=s-r;for(const h of v(this,Kd)){const f=new Array(h.length);for(let p=0;p<h.length;p+=2)f[p]=n+h[p]*c,f[p+1]=s-h[p+1]*d;a.push(f)}return a}get box(){return v(this,Kg)}}Kg=new WeakMap,Kd=new WeakMap;var Is,$o,Qd,Zd,Ns,rt,Dc,Fc,Qg,Zg,Jd,eh,al,Jg,pb,gb,em,PC;const wo=class wo{constructor({x:e,y:n},r,i,s,o,a=0){W(this,em);W(this,Is);W(this,$o,[]);W(this,Qd);W(this,Zd);W(this,Ns,[]);W(this,rt,new Float64Array(18));W(this,Dc);W(this,Fc);W(this,Qg);W(this,Zg);W(this,Jd);W(this,eh);W(this,al,[]);j(this,Is,r),j(this,eh,s*i),j(this,Zd,o),v(this,rt).set([NaN,NaN,NaN,NaN,e,n],6),j(this,Qd,a),j(this,Zg,v(wo,Jg)*i),j(this,Qg,v(wo,gb)*i),j(this,Jd,i),v(this,al).push(e,n)}get free(){return!0}isEmpty(){return isNaN(v(this,rt)[8])}add({x:e,y:n}){var O;j(this,Dc,e),j(this,Fc,n);const[r,i,s,o]=v(this,Is);let[a,c,d,h]=v(this,rt).subarray(8,12);const f=e-d,p=n-h,m=Math.hypot(f,p);if(m<v(this,Qg))return!1;const y=m-v(this,Zg),b=y/m,E=b*f,x=b*p;let C=a,S=c;a=d,c=h,d+=E,h+=x,(O=v(this,al))==null||O.push(e,n);const _=-x/y,k=E/y,N=_*v(this,eh),T=k*v(this,eh);return v(this,rt).set(v(this,rt).subarray(2,8),0),v(this,rt).set([d+N,h+T],4),v(this,rt).set(v(this,rt).subarray(14,18),12),v(this,rt).set([d-N,h-T],16),isNaN(v(this,rt)[6])?(v(this,Ns).length===0&&(v(this,rt).set([a+N,c+T],2),v(this,Ns).push(NaN,NaN,NaN,NaN,(a+N-r)/s,(c+T-i)/o),v(this,rt).set([a-N,c-T],14),v(this,$o).push(NaN,NaN,NaN,NaN,(a-N-r)/s,(c-T-i)/o)),v(this,rt).set([C,S,a,c,d,h],6),!this.isEmpty()):(v(this,rt).set([C,S,a,c,d,h],6),Math.abs(Math.atan2(S-c,C-a)-Math.atan2(x,E))<Math.PI/2?([a,c,d,h]=v(this,rt).subarray(2,6),v(this,Ns).push(NaN,NaN,NaN,NaN,((a+d)/2-r)/s,((c+h)/2-i)/o),[a,c,C,S]=v(this,rt).subarray(14,18),v(this,$o).push(NaN,NaN,NaN,NaN,((C+a)/2-r)/s,((S+c)/2-i)/o),!0):([C,S,a,c,d,h]=v(this,rt).subarray(0,6),v(this,Ns).push(((C+5*a)/6-r)/s,((S+5*c)/6-i)/o,((5*a+d)/6-r)/s,((5*c+h)/6-i)/o,((a+d)/2-r)/s,((c+h)/2-i)/o),[d,h,a,c,C,S]=v(this,rt).subarray(12,18),v(this,$o).push(((C+5*a)/6-r)/s,((S+5*c)/6-i)/o,((5*a+d)/6-r)/s,((5*c+h)/6-i)/o,((a+d)/2-r)/s,((c+h)/2-i)/o),!0))}toSVGPath(){if(this.isEmpty())return"";const e=v(this,Ns),n=v(this,$o),r=v(this,rt).subarray(4,6),i=v(this,rt).subarray(16,18),[s,o,a,c]=v(this,Is),[d,h,f,p]=B(this,em,PC).call(this);if(isNaN(v(this,rt)[6])&&!this.isEmpty())return`M${(v(this,rt)[2]-s)/a} ${(v(this,rt)[3]-o)/c} L${(v(this,rt)[4]-s)/a} ${(v(this,rt)[5]-o)/c} L${d} ${h} L${f} ${p} L${(v(this,rt)[16]-s)/a} ${(v(this,rt)[17]-o)/c} L${(v(this,rt)[14]-s)/a} ${(v(this,rt)[15]-o)/c} Z`;const m=[];m.push(`M${e[4]} ${e[5]}`);for(let y=6;y<e.length;y+=6)isNaN(e[y])?m.push(`L${e[y+4]} ${e[y+5]}`):m.push(`C${e[y]} ${e[y+1]} ${e[y+2]} ${e[y+3]} ${e[y+4]} ${e[y+5]}`);m.push(`L${(r[0]-s)/a} ${(r[1]-o)/c} L${d} ${h} L${f} ${p} L${(i[0]-s)/a} ${(i[1]-o)/c}`);for(let y=n.length-6;y>=6;y-=6)isNaN(n[y])?m.push(`L${n[y+4]} ${n[y+5]}`):m.push(`C${n[y]} ${n[y+1]} ${n[y+2]} ${n[y+3]} ${n[y+4]} ${n[y+5]}`);return m.push(`L${n[4]} ${n[5]} Z`),m.join(" ")}getOutlines(){var x;const e=v(this,Ns),n=v(this,$o),r=v(this,rt),i=r.subarray(4,6),s=r.subarray(16,18),[o,a,c,d]=v(this,Is),h=new Float64Array((((x=v(this,al))==null?void 0:x.length)??0)+2);for(let C=0,S=h.length-2;C<S;C+=2)h[C]=(v(this,al)[C]-o)/c,h[C+1]=(v(this,al)[C+1]-a)/d;h[h.length-2]=(v(this,Dc)-o)/c,h[h.length-1]=(v(this,Fc)-a)/d;const[f,p,m,y]=B(this,em,PC).call(this);if(isNaN(r[6])&&!this.isEmpty()){const C=new Float64Array(36);return C.set([NaN,NaN,NaN,NaN,(r[2]-o)/c,(r[3]-a)/d,NaN,NaN,NaN,NaN,(r[4]-o)/c,(r[5]-a)/d,NaN,NaN,NaN,NaN,f,p,NaN,NaN,NaN,NaN,m,y,NaN,NaN,NaN,NaN,(r[16]-o)/c,(r[17]-a)/d,NaN,NaN,NaN,NaN,(r[14]-o)/c,(r[15]-a)/d],0),new IC(C,h,v(this,Is),v(this,Jd),v(this,Qd),v(this,Zd))}const b=new Float64Array(v(this,Ns).length+24+v(this,$o).length);let E=e.length;for(let C=0;C<E;C+=2){if(isNaN(e[C])){b[C]=b[C+1]=NaN;continue}b[C]=e[C],b[C+1]=e[C+1]}b.set([NaN,NaN,NaN,NaN,(i[0]-o)/c,(i[1]-a)/d,NaN,NaN,NaN,NaN,f,p,NaN,NaN,NaN,NaN,m,y,NaN,NaN,NaN,NaN,(s[0]-o)/c,(s[1]-a)/d],E),E+=24;for(let C=n.length-6;C>=6;C-=6)for(let S=0;S<6;S+=2){if(isNaN(n[C+S])){b[E]=b[E+1]=NaN,E+=2;continue}b[E]=n[C+S],b[E+1]=n[C+S+1],E+=2}return b.set([NaN,NaN,NaN,NaN,n[4],n[5]],E),new IC(b,h,v(this,Is),v(this,Jd),v(this,Qd),v(this,Zd))}};Is=new WeakMap,$o=new WeakMap,Qd=new WeakMap,Zd=new WeakMap,Ns=new WeakMap,rt=new WeakMap,Dc=new WeakMap,Fc=new WeakMap,Qg=new WeakMap,Zg=new WeakMap,Jd=new WeakMap,eh=new WeakMap,al=new WeakMap,Jg=new WeakMap,pb=new WeakMap,gb=new WeakMap,em=new WeakSet,PC=function(){const e=v(this,rt).subarray(4,6),n=v(this,rt).subarray(16,18),[r,i,s,o]=v(this,Is);return[(v(this,Dc)+(e[0]-n[0])/2-r)/s,(v(this,Fc)+(e[1]-n[1])/2-i)/o,(v(this,Dc)+(n[0]-e[0])/2-r)/s,(v(this,Fc)+(n[1]-e[1])/2-i)/o]},W(wo,Jg,8),W(wo,pb,2),W(wo,gb,v(wo,Jg)+v(wo,pb));let W0=wo;var th,$c,zo,tm,ti,nm,un,Dr,tp,np,_F;class IC extends CF{constructor(n,r,i,s,o,a){super();W(this,Dr);W(this,th);W(this,$c,null);W(this,zo);W(this,tm);W(this,ti);W(this,nm);W(this,un);j(this,un,n),j(this,ti,r),j(this,th,i),j(this,nm,s),j(this,zo,o),j(this,tm,a),B(this,Dr,_F).call(this,a);const{x:c,y:d,width:h,height:f}=v(this,$c);for(let p=0,m=n.length;p<m;p+=2)n[p]=(n[p]-c)/h,n[p+1]=(n[p+1]-d)/f;for(let p=0,m=r.length;p<m;p+=2)r[p]=(r[p]-c)/h,r[p+1]=(r[p+1]-d)/f}toSVGPath(){const n=[`M${v(this,un)[4]} ${v(this,un)[5]}`];for(let r=6,i=v(this,un).length;r<i;r+=6){if(isNaN(v(this,un)[r])){n.push(`L${v(this,un)[r+4]} ${v(this,un)[r+5]}`);continue}n.push(`C${v(this,un)[r]} ${v(this,un)[r+1]} ${v(this,un)[r+2]} ${v(this,un)[r+3]} ${v(this,un)[r+4]} ${v(this,un)[r+5]}`)}return n.push("Z"),n.join(" ")}serialize([n,r,i,s],o){const a=i-n,c=s-r;let d,h;switch(o){case 0:d=B(this,Dr,tp).call(this,v(this,un),n,s,a,-c),h=B(this,Dr,tp).call(this,v(this,ti),n,s,a,-c);break;case 90:d=B(this,Dr,np).call(this,v(this,un),n,r,a,c),h=B(this,Dr,np).call(this,v(this,ti),n,r,a,c);break;case 180:d=B(this,Dr,tp).call(this,v(this,un),i,r,-a,c),h=B(this,Dr,tp).call(this,v(this,ti),i,r,-a,c);break;case 270:d=B(this,Dr,np).call(this,v(this,un),i,s,-a,-c),h=B(this,Dr,np).call(this,v(this,ti),i,s,-a,-c);break}return{outline:Array.from(d),points:[Array.from(h)]}}get box(){return v(this,$c)}getNewOutline(n,r){const{x:i,y:s,width:o,height:a}=v(this,$c),[c,d,h,f]=v(this,th),p=o*h,m=a*f,y=i*h+c,b=s*f+d,E=new W0({x:v(this,ti)[0]*p+y,y:v(this,ti)[1]*m+b},v(this,th),v(this,nm),n,v(this,tm),r??v(this,zo));for(let x=2;x<v(this,ti).length;x+=2)E.add({x:v(this,ti)[x]*p+y,y:v(this,ti)[x+1]*m+b});return E.getOutlines()}}th=new WeakMap,$c=new WeakMap,zo=new WeakMap,tm=new WeakMap,ti=new WeakMap,nm=new WeakMap,un=new WeakMap,Dr=new WeakSet,tp=function(n,r,i,s,o){const a=new Float64Array(n.length);for(let c=0,d=n.length;c<d;c+=2)a[c]=r+n[c]*s,a[c+1]=i+n[c+1]*o;return a},np=function(n,r,i,s,o){const a=new Float64Array(n.length);for(let c=0,d=n.length;c<d;c+=2)a[c]=r+n[c+1]*s,a[c+1]=i+n[c]*o;return a},_F=function(n){const r=v(this,un);let i=r[4],s=r[5],o=i,a=s,c=i,d=s,h=i,f=s;const p=n?Math.max:Math.min;for(let x=6,C=r.length;x<C;x+=6){if(isNaN(r[x]))o=Math.min(o,r[x+4]),a=Math.min(a,r[x+5]),c=Math.max(c,r[x+4]),d=Math.max(d,r[x+5]),f<r[x+5]?(h=r[x+4],f=r[x+5]):f===r[x+5]&&(h=p(h,r[x+4]));else{const S=$e.bezierBoundingBox(i,s,...r.slice(x,x+6));o=Math.min(o,S[0]),a=Math.min(a,S[1]),c=Math.max(c,S[2]),d=Math.max(d,S[3]),f<S[3]?(h=S[2],f=S[3]):f===S[3]&&(h=p(h,S[2]))}i=r[x+4],s=r[x+5]}const m=o-v(this,zo),y=a-v(this,zo),b=c-o+2*v(this,zo),E=d-a+2*v(this,zo);j(this,$c,{x:m,y,width:b,height:E,lastPoint:[h,f]})};var rm,im,Yi,zc,nh,_n,sm,rh,om,am,Xi,ih,Dt,NC,MC,AF,Kl,kF,Ha;const xo=class xo{constructor({editor:e=null,uiManager:n=null}){W(this,Dt);W(this,rm,B(this,Dt,AF).bind(this));W(this,im,B(this,Dt,kF).bind(this));W(this,Yi,null);W(this,zc,null);W(this,nh);W(this,_n,null);W(this,sm,!1);W(this,rh,!1);W(this,om,null);W(this,am);W(this,Xi,null);W(this,ih);var r;e?(j(this,rh,!1),j(this,ih,Xe.HIGHLIGHT_COLOR),j(this,om,e)):(j(this,rh,!0),j(this,ih,Xe.HIGHLIGHT_DEFAULT_COLOR)),j(this,Xi,(e==null?void 0:e._uiManager)||n),j(this,am,v(this,Xi)._eventBus),j(this,nh,(e==null?void 0:e.color)||((r=v(this,Xi))==null?void 0:r.highlightColors.values().next().value)||"#FFFF98")}static get _keyboardManager(){return lt(this,"_keyboardManager",new Om([[["Escape","mac+Escape"],xo.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],xo.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],xo.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],xo.prototype._moveToPrevious],[["Home","mac+Home"],xo.prototype._moveToBeginning],[["End","mac+End"],xo.prototype._moveToEnd]]))}renderButton(){const e=j(this,Yi,document.createElement("button"));e.className="colorPicker",e.tabIndex="0",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),e.setAttribute("aria-haspopup",!0);const n=v(this,Xi)._signal;e.addEventListener("click",B(this,Dt,Kl).bind(this),{signal:n}),e.addEventListener("keydown",v(this,rm),{signal:n});const r=j(this,zc,document.createElement("span"));return r.className="swatch",r.setAttribute("aria-hidden",!0),r.style.backgroundColor=v(this,nh),e.append(r),e}renderMainDropdown(){const e=j(this,_n,B(this,Dt,NC).call(this));return e.setAttribute("aria-orientation","horizontal"),e.setAttribute("aria-labelledby","highlightColorPickerLabel"),e}_colorSelectFromKeyboard(e){if(e.target===v(this,Yi)){B(this,Dt,Kl).call(this,e);return}const n=e.target.getAttribute("data-color");n&&B(this,Dt,MC).call(this,n,e)}_moveToNext(e){var n,r;if(!v(this,Dt,Ha)){B(this,Dt,Kl).call(this,e);return}if(e.target===v(this,Yi)){(n=v(this,_n).firstChild)==null||n.focus();return}(r=e.target.nextSibling)==null||r.focus()}_moveToPrevious(e){var n,r;if(e.target===((n=v(this,_n))==null?void 0:n.firstChild)||e.target===v(this,Yi)){v(this,Dt,Ha)&&this._hideDropdownFromKeyboard();return}v(this,Dt,Ha)||B(this,Dt,Kl).call(this,e),(r=e.target.previousSibling)==null||r.focus()}_moveToBeginning(e){var n;if(!v(this,Dt,Ha)){B(this,Dt,Kl).call(this,e);return}(n=v(this,_n).firstChild)==null||n.focus()}_moveToEnd(e){var n;if(!v(this,Dt,Ha)){B(this,Dt,Kl).call(this,e);return}(n=v(this,_n).lastChild)==null||n.focus()}hideDropdown(){var e;(e=v(this,_n))==null||e.classList.add("hidden"),window.removeEventListener("pointerdown",v(this,im))}_hideDropdownFromKeyboard(){var e;if(!v(this,rh)){if(!v(this,Dt,Ha)){(e=v(this,om))==null||e.unselect();return}this.hideDropdown(),v(this,Yi).focus({preventScroll:!0,focusVisible:v(this,sm)})}}updateColor(e){if(v(this,zc)&&(v(this,zc).style.backgroundColor=e),!v(this,_n))return;const n=v(this,Xi).highlightColors.values();for(const r of v(this,_n).children)r.setAttribute("aria-selected",n.next().value===e)}destroy(){var e,n;(e=v(this,Yi))==null||e.remove(),j(this,Yi,null),j(this,zc,null),(n=v(this,_n))==null||n.remove(),j(this,_n,null)}};rm=new WeakMap,im=new WeakMap,Yi=new WeakMap,zc=new WeakMap,nh=new WeakMap,_n=new WeakMap,sm=new WeakMap,rh=new WeakMap,om=new WeakMap,am=new WeakMap,Xi=new WeakMap,ih=new WeakMap,Dt=new WeakSet,NC=function(){const e=document.createElement("div"),n=v(this,Xi)._signal;e.addEventListener("contextmenu",Fr,{signal:n}),e.className="dropdown",e.role="listbox",e.setAttribute("aria-multiselectable",!1),e.setAttribute("aria-orientation","vertical"),e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown");for(const[r,i]of v(this,Xi).highlightColors){const s=document.createElement("button");s.tabIndex="0",s.role="option",s.setAttribute("data-color",i),s.title=r,s.setAttribute("data-l10n-id",`pdfjs-editor-colorpicker-${r}`);const o=document.createElement("span");s.append(o),o.className="swatch",o.style.backgroundColor=i,s.setAttribute("aria-selected",i===v(this,nh)),s.addEventListener("click",B(this,Dt,MC).bind(this,i),{signal:n}),e.append(s)}return e.addEventListener("keydown",v(this,rm),{signal:n}),e},MC=function(e,n){n.stopPropagation(),v(this,am).dispatch("switchannotationeditorparams",{source:this,type:v(this,ih),value:e})},AF=function(e){xo._keyboardManager.exec(this,e)},Kl=function(e){if(v(this,Dt,Ha)){this.hideDropdown();return}if(j(this,sm,e.detail===0),window.addEventListener("pointerdown",v(this,im),{signal:v(this,Xi)._signal}),v(this,_n)){v(this,_n).classList.remove("hidden");return}const n=j(this,_n,B(this,Dt,NC).call(this));v(this,Yi).append(n)},kF=function(e){var n;(n=v(this,_n))!=null&&n.contains(e.target)||this.hideDropdown()},Ha=function(){return v(this,_n)&&!v(this,_n).classList.contains("hidden")};let U0=xo;var sh,lm,ll,jc,oh,Si,cm,um,Bc,Ki,fr,ni,mb,ah,Hc,An,lh,Ms,dm,tt,OC,LC,RF,TF,PF,DC,rp,Ri,od,IF,l0,ip,NF,MF,OF,LF;const yt=class yt extends _t{constructor(n){super({...n,name:"highlightEditor"});W(this,tt);W(this,sh,null);W(this,lm,0);W(this,ll);W(this,jc,null);W(this,oh,null);W(this,Si,null);W(this,cm,null);W(this,um,0);W(this,Bc,null);W(this,Ki,null);W(this,fr,null);W(this,ni,!1);W(this,mb,B(this,tt,IF).bind(this));W(this,ah,null);W(this,Hc);W(this,An,null);W(this,lh,"");W(this,Ms);W(this,dm,"");this.color=n.color||yt._defaultColor,j(this,Ms,n.thickness||yt._defaultThickness),j(this,Hc,n.opacity||yt._defaultOpacity),j(this,ll,n.boxes||null),j(this,dm,n.methodOfCreation||""),j(this,lh,n.text||""),this._isDraggable=!1,n.highlightId>-1?(j(this,ni,!0),B(this,tt,LC).call(this,n),B(this,tt,rp).call(this)):(j(this,sh,n.anchorNode),j(this,lm,n.anchorOffset),j(this,cm,n.focusNode),j(this,um,n.focusOffset),B(this,tt,OC).call(this),B(this,tt,rp).call(this),this.rotate(this.rotation))}static get _keyboardManager(){const n=yt.prototype;return lt(this,"_keyboardManager",new Om([[["ArrowLeft","mac+ArrowLeft"],n._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],n._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],n._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],n._moveCaret,{args:[3]}]]))}get telemetryInitialData(){return{action:"added",type:v(this,ni)?"free_highlight":"highlight",color:this._uiManager.highlightColorNames.get(this.color),thickness:v(this,Ms),methodOfCreation:v(this,dm)}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.highlightColorNames.get(this.color)}}static computeTelemetryFinalData(n){return{numberOfColors:n.get("color").size}}static initialize(n,r){var i;_t.initialize(n,r),yt._defaultColor||(yt._defaultColor=((i=r.highlightColors)==null?void 0:i.values().next().value)||"#fff066")}static updateDefaultParams(n,r){switch(n){case Xe.HIGHLIGHT_DEFAULT_COLOR:yt._defaultColor=r;break;case Xe.HIGHLIGHT_THICKNESS:yt._defaultThickness=r;break}}translateInPage(n,r){}get toolbarPosition(){return v(this,ah)}updateParams(n,r){switch(n){case Xe.HIGHLIGHT_COLOR:B(this,tt,RF).call(this,r);break;case Xe.HIGHLIGHT_THICKNESS:B(this,tt,TF).call(this,r);break}}static get defaultPropertiesToUpdate(){return[[Xe.HIGHLIGHT_DEFAULT_COLOR,yt._defaultColor],[Xe.HIGHLIGHT_THICKNESS,yt._defaultThickness]]}get propertiesToUpdate(){return[[Xe.HIGHLIGHT_COLOR,this.color||yt._defaultColor],[Xe.HIGHLIGHT_THICKNESS,v(this,Ms)||yt._defaultThickness],[Xe.HIGHLIGHT_FREE,v(this,ni)]]}async addEditToolbar(){const n=await super.addEditToolbar();return n?(this._uiManager.highlightColors&&(j(this,oh,new U0({editor:this})),n.addColorPicker(v(this,oh))),n):null}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(B(this,tt,ip).call(this))}getBaseTranslation(){return[0,0]}getRect(n,r){return super.getRect(n,r,B(this,tt,ip).call(this))}onceAdded(){this.parent.addUndoableEditor(this),this.div.focus()}remove(){B(this,tt,DC).call(this),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(B(this,tt,rp).call(this),this.isAttachedToDOM||this.parent.add(this)))}setParent(n){var i;let r=!1;this.parent&&!n?B(this,tt,DC).call(this):n&&(B(this,tt,rp).call(this,n),r=!this.parent&&((i=this.div)==null?void 0:i.classList.contains("selectedEditor"))),super.setParent(n),this.show(this._isVisible),r&&this.select()}rotate(n){var s,o,a;const{drawLayer:r}=this.parent;let i;v(this,ni)?(n=(n-this.rotation+360)%360,i=B(s=yt,Ri,od).call(s,v(this,Ki).box,n)):i=B(o=yt,Ri,od).call(o,this,n),r.rotate(v(this,fr),n),r.rotate(v(this,An),n),r.updateBox(v(this,fr),i),r.updateBox(v(this,An),B(a=yt,Ri,od).call(a,v(this,Si).box,n))}render(){if(this.div)return this.div;const n=super.render();v(this,lh)&&(n.setAttribute("aria-label",v(this,lh)),n.setAttribute("role","mark")),v(this,ni)?n.classList.add("free"):this.div.addEventListener("keydown",v(this,mb),{signal:this._uiManager._signal});const r=j(this,Bc,document.createElement("div"));n.append(r),r.setAttribute("aria-hidden","true"),r.className="internal",r.style.clipPath=v(this,jc);const[i,s]=this.parentDimensions;return this.setDims(this.width*i,this.height*s),j0(this,v(this,Bc),["pointerover","pointerleave"]),this.enableEditing(),n}pointerover(){this.parent.drawLayer.addClass(v(this,An),"hovered")}pointerleave(){this.parent.drawLayer.removeClass(v(this,An),"hovered")}_moveCaret(n){switch(this.parent.unselect(this),n){case 0:case 2:B(this,tt,l0).call(this,!0);break;case 1:case 3:B(this,tt,l0).call(this,!1);break}}select(){var n,r;super.select(),v(this,An)&&((n=this.parent)==null||n.drawLayer.removeClass(v(this,An),"hovered"),(r=this.parent)==null||r.drawLayer.addClass(v(this,An),"selected"))}unselect(){var n;super.unselect(),v(this,An)&&((n=this.parent)==null||n.drawLayer.removeClass(v(this,An),"selected"),v(this,ni)||B(this,tt,l0).call(this,!1))}get _mustFixPosition(){return!v(this,ni)}show(n=this._isVisible){super.show(n),this.parent&&(this.parent.drawLayer.show(v(this,fr),n),this.parent.drawLayer.show(v(this,An),n))}static startHighlighting(n,r,{target:i,x:s,y:o}){const{x:a,y:c,width:d,height:h}=i.getBoundingClientRect(),f=E=>{B(this,Ri,OF).call(this,n,E)},p=n._signal,m={capture:!0,passive:!1,signal:p},y=E=>{E.preventDefault(),E.stopPropagation()},b=E=>{i.removeEventListener("pointermove",f),window.removeEventListener("blur",b),window.removeEventListener("pointerup",b),window.removeEventListener("pointerdown",y,m),window.removeEventListener("contextmenu",Fr),B(this,Ri,LF).call(this,n,E)};window.addEventListener("blur",b,{signal:p}),window.addEventListener("pointerup",b,{signal:p}),window.addEventListener("pointerdown",y,m),window.addEventListener("contextmenu",Fr,{signal:p}),i.addEventListener("pointermove",f,{signal:p}),this._freeHighlight=new W0({x:s,y:o},[a,c,d,h],n.scale,this._defaultThickness/2,r,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=n.drawLayer.highlight(this._freeHighlight,this._defaultColor,this._defaultOpacity,!0)}static deserialize(n,r,i){var b;const s=super.deserialize(n,r,i),{rect:[o,a,c,d],color:h,quadPoints:f}=n;s.color=$e.makeHexColor(...h),j(s,Hc,n.opacity);const[p,m]=s.pageDimensions;s.width=(c-o)/p,s.height=(d-a)/m;const y=j(s,ll,[]);for(let E=0;E<f.length;E+=8)y.push({x:(f[4]-c)/p,y:(d-(1-f[E+5]))/m,width:(f[E+2]-f[E])/p,height:(f[E+5]-f[E+1])/m});return B(b=s,tt,OC).call(b),s}serialize(n=!1){if(this.isEmpty()||n)return null;const r=this.getRect(0,0),i=_t._colorManager.convert(this.color);return{annotationType:st.HIGHLIGHT,color:i,opacity:v(this,Hc),thickness:v(this,Ms),quadPoints:B(this,tt,NF).call(this),outlines:B(this,tt,MF).call(this,r),pageIndex:this.pageIndex,rect:r,rotation:B(this,tt,ip).call(this),structTreeParentId:this._structTreeParentId}}static canCreateNewEmptyEditor(){return!1}};sh=new WeakMap,lm=new WeakMap,ll=new WeakMap,jc=new WeakMap,oh=new WeakMap,Si=new WeakMap,cm=new WeakMap,um=new WeakMap,Bc=new WeakMap,Ki=new WeakMap,fr=new WeakMap,ni=new WeakMap,mb=new WeakMap,ah=new WeakMap,Hc=new WeakMap,An=new WeakMap,lh=new WeakMap,Ms=new WeakMap,dm=new WeakMap,tt=new WeakSet,OC=function(){const n=new RC(v(this,ll),.001);j(this,Ki,n.getOutlines()),{x:this.x,y:this.y,width:this.width,height:this.height}=v(this,Ki).box;const r=new RC(v(this,ll),.0025,.001,this._uiManager.direction==="ltr");j(this,Si,r.getOutlines());const{lastPoint:i}=v(this,Si).box;j(this,ah,[(i[0]-this.x)/this.width,(i[1]-this.y)/this.height])},LC=function({highlightOutlines:n,highlightId:r,clipPathId:i}){var f,p;if(j(this,Ki,n),j(this,Si,n.getNewOutline(v(this,Ms)/2+1.5,.0025)),r>=0)j(this,fr,r),j(this,jc,i),this.parent.drawLayer.finalizeLine(r,n),j(this,An,this.parent.drawLayer.highlightOutline(v(this,Si)));else if(this.parent){const m=this.parent.viewport.rotation;this.parent.drawLayer.updateLine(v(this,fr),n),this.parent.drawLayer.updateBox(v(this,fr),B(f=yt,Ri,od).call(f,v(this,Ki).box,(m-this.rotation+360)%360)),this.parent.drawLayer.updateLine(v(this,An),v(this,Si)),this.parent.drawLayer.updateBox(v(this,An),B(p=yt,Ri,od).call(p,v(this,Si).box,m))}const{x:o,y:a,width:c,height:d}=n.box;switch(this.rotation){case 0:this.x=o,this.y=a,this.width=c,this.height=d;break;case 90:{const[m,y]=this.parentDimensions;this.x=a,this.y=1-o,this.width=c*y/m,this.height=d*m/y;break}case 180:this.x=1-o,this.y=1-a,this.width=c,this.height=d;break;case 270:{const[m,y]=this.parentDimensions;this.x=1-a,this.y=o,this.width=c*y/m,this.height=d*m/y;break}}const{lastPoint:h}=v(this,Si).box;j(this,ah,[(h[0]-o)/c,(h[1]-a)/d])},RF=function(n){const r=s=>{var o,a;this.color=s,(o=this.parent)==null||o.drawLayer.changeColor(v(this,fr),s),(a=v(this,oh))==null||a.updateColor(s)},i=this.color;this.addCommands({cmd:r.bind(this,n),undo:r.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Xe.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.highlightColorNames.get(n)},!0)},TF=function(n){const r=v(this,Ms),i=s=>{j(this,Ms,s),B(this,tt,PF).call(this,s)};this.addCommands({cmd:i.bind(this,n),undo:i.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Xe.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:n},!0)},PF=function(n){if(!v(this,ni))return;B(this,tt,LC).call(this,{highlightOutlines:v(this,Ki).getNewOutline(n/2)}),this.fixAndSetPosition();const[r,i]=this.parentDimensions;this.setDims(this.width*r,this.height*i)},DC=function(){v(this,fr)===null||!this.parent||(this.parent.drawLayer.remove(v(this,fr)),j(this,fr,null),this.parent.drawLayer.remove(v(this,An)),j(this,An,null))},rp=function(n=this.parent){v(this,fr)===null&&({id:qr(this,fr)._,clipPathId:qr(this,jc)._}=n.drawLayer.highlight(v(this,Ki),this.color,v(this,Hc)),j(this,An,n.drawLayer.highlightOutline(v(this,Si))),v(this,Bc)&&(v(this,Bc).style.clipPath=v(this,jc)))},Ri=new WeakSet,od=function({x:n,y:r,width:i,height:s},o){switch(o){case 90:return{x:1-r-s,y:n,width:s,height:i};case 180:return{x:1-n-i,y:1-r-s,width:i,height:s};case 270:return{x:r,y:1-n-i,width:s,height:i}}return{x:n,y:r,width:i,height:s}},IF=function(n){yt._keyboardManager.exec(this,n)},l0=function(n){if(!v(this,sh))return;const r=window.getSelection();n?r.setPosition(v(this,sh),v(this,lm)):r.setPosition(v(this,cm),v(this,um))},ip=function(){return v(this,ni)?this.rotation:0},NF=function(){if(v(this,ni))return null;const[n,r]=this.pageDimensions,i=v(this,ll),s=new Float32Array(i.length*8);let o=0;for(const{x:a,y:c,width:d,height:h}of i){const f=a*n,p=(1-c-h)*r;s[o]=s[o+4]=f,s[o+1]=s[o+3]=p,s[o+2]=s[o+6]=f+d*n,s[o+5]=s[o+7]=p+h*r,o+=8}return s},MF=function(n){return v(this,Ki).serialize(n,B(this,tt,ip).call(this))},OF=function(n,r){this._freeHighlight.add(r)&&n.drawLayer.updatePath(this._freeHighlightId,this._freeHighlight)},LF=function(n,r){this._freeHighlight.isEmpty()?n.drawLayer.removeFreeHighlight(this._freeHighlightId):n.createAndAddNewEditor(r,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""},W(yt,Ri),Te(yt,"_defaultColor",null),Te(yt,"_defaultOpacity",1),Te(yt,"_defaultThickness",12),Te(yt,"_l10nPromise"),Te(yt,"_type","highlight"),Te(yt,"_editorType",st.HIGHLIGHT),Te(yt,"_freeHighlightId",-1),Te(yt,"_freeHighlight",null),Te(yt,"_freeHighlightClipId","");let V0=yt;var Wc,Uc,hm,fm,pm,Vc,Os,jo,Ei,Gc,qc,Bo,Yc,Xc,cl,_e,DF,FF,$F,zF,$C,jF,zC,BF,HF,WF,UF,VF,Ql,jC,c0,u0,ad,BC,d0,la,GF,HC,qF,YF,WC,h0,sp;const Qt=class Qt extends _t{constructor(n){super({...n,name:"inkEditor"});W(this,_e);W(this,Wc,0);W(this,Uc,0);W(this,hm,this.canvasPointermove.bind(this));W(this,fm,this.canvasPointerleave.bind(this));W(this,pm,this.canvasPointerup.bind(this));W(this,Vc,this.canvasPointerdown.bind(this));W(this,Os,null);W(this,jo,new Path2D);W(this,Ei,!1);W(this,Gc,!1);W(this,qc,!1);W(this,Bo,null);W(this,Yc,0);W(this,Xc,0);W(this,cl,null);this.color=n.color||null,this.thickness=n.thickness||null,this.opacity=n.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(n,r){_t.initialize(n,r)}static updateDefaultParams(n,r){switch(n){case Xe.INK_THICKNESS:Qt._defaultThickness=r;break;case Xe.INK_COLOR:Qt._defaultColor=r;break;case Xe.INK_OPACITY:Qt._defaultOpacity=r/100;break}}updateParams(n,r){switch(n){case Xe.INK_THICKNESS:B(this,_e,DF).call(this,r);break;case Xe.INK_COLOR:B(this,_e,FF).call(this,r);break;case Xe.INK_OPACITY:B(this,_e,$F).call(this,r);break}}static get defaultPropertiesToUpdate(){return[[Xe.INK_THICKNESS,Qt._defaultThickness],[Xe.INK_COLOR,Qt._defaultColor||_t._defaultLineColor],[Xe.INK_OPACITY,Math.round(Qt._defaultOpacity*100)]]}get propertiesToUpdate(){return[[Xe.INK_THICKNESS,this.thickness||Qt._defaultThickness],[Xe.INK_COLOR,this.color||Qt._defaultColor||_t._defaultLineColor],[Xe.INK_OPACITY,Math.round(100*(this.opacity??Qt._defaultOpacity))]]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.canvas||(B(this,_e,c0).call(this),B(this,_e,u0).call(this)),this.isAttachedToDOM||(this.parent.add(this),B(this,_e,ad).call(this)),B(this,_e,sp).call(this)))}remove(){var n;this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,v(this,Os)&&(clearTimeout(v(this,Os)),j(this,Os,null)),(n=v(this,Bo))==null||n.disconnect(),j(this,Bo,null),super.remove())}setParent(n){!this.parent&&n?this._uiManager.removeShouldRescale(this):this.parent&&n===null&&this._uiManager.addShouldRescale(this),super.setParent(n)}onScaleChanging(){const[n,r]=this.parentDimensions,i=this.width*n,s=this.height*r;this.setDimensions(i,s)}enableEditMode(){v(this,Ei)||this.canvas===null||(super.enableEditMode(),this._isDraggable=!1,this.canvas.addEventListener("pointerdown",v(this,Vc),{signal:this._uiManager._signal}))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",v(this,Vc)))}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}commit(){v(this,Ei)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),j(this,Ei,!0),this.div.classList.add("disabled"),B(this,_e,sp).call(this,!0),this.select(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(n){this._focusEventsAllowed&&(super.focusin(n),this.enableEditMode())}canvasPointerdown(n){n.button!==0||!this.isInEditMode()||v(this,Ei)||(this.setInForeground(),n.preventDefault(),this.div.contains(document.activeElement)||this.div.focus({preventScroll:!0}),B(this,_e,jF).call(this,n.offsetX,n.offsetY))}canvasPointermove(n){n.preventDefault(),B(this,_e,zC).call(this,n.offsetX,n.offsetY)}canvasPointerup(n){n.preventDefault(),B(this,_e,jC).call(this,n)}canvasPointerleave(n){B(this,_e,jC).call(this,n)}get isResizable(){return!this.isEmpty()&&v(this,Ei)}render(){if(this.div)return this.div;let n,r;this.width&&(n=this.x,r=this.y),super.render(),this.div.setAttribute("data-l10n-id","pdfjs-ink");const[i,s,o,a]=B(this,_e,zF).call(this);if(this.setAt(i,s,0,0),this.setDims(o,a),B(this,_e,c0).call(this),this.width){const[c,d]=this.parentDimensions;this.setAspectRatio(this.width*c,this.height*d),this.setAt(n*c,r*d,this.width*c,this.height*d),j(this,qc,!0),B(this,_e,ad).call(this),this.setDims(this.width*c,this.height*d),B(this,_e,Ql).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return B(this,_e,u0).call(this),this.div}setDimensions(n,r){const i=Math.round(n),s=Math.round(r);if(v(this,Yc)===i&&v(this,Xc)===s)return;j(this,Yc,i),j(this,Xc,s),this.canvas.style.visibility="hidden";const[o,a]=this.parentDimensions;this.width=n/o,this.height=r/a,this.fixAndSetPosition(),v(this,Ei)&&B(this,_e,BC).call(this,n,r),B(this,_e,ad).call(this),B(this,_e,Ql).call(this),this.canvas.style.visibility="visible",this.fixDims()}static deserialize(n,r,i){var E,x,C;if(n instanceof fF)return null;const s=super.deserialize(n,r,i);s.thickness=n.thickness,s.color=$e.makeHexColor(...n.color),s.opacity=n.opacity;const[o,a]=s.pageDimensions,c=s.width*o,d=s.height*a,h=s.parentScale,f=n.thickness/2;j(s,Ei,!0),j(s,Yc,Math.round(c)),j(s,Xc,Math.round(d));const{paths:p,rect:m,rotation:y}=n;for(let{bezier:S}of p){S=B(E=Qt,la,qF).call(E,S,m,y);const _=[];s.paths.push(_);let k=h*(S[0]-f),N=h*(S[1]-f);for(let M=2,O=S.length;M<O;M+=6){const R=h*(S[M]-f),F=h*(S[M+1]-f),z=h*(S[M+2]-f),U=h*(S[M+3]-f),D=h*(S[M+4]-f),V=h*(S[M+5]-f);_.push([[k,N],[R,F],[z,U],[D,V]]),k=D,N=V}const T=B(this,la,GF).call(this,_);s.bezierPath2D.push(T)}const b=B(x=s,_e,WC).call(x);return j(s,Uc,Math.max(_t.MIN_SIZE,b[2]-b[0])),j(s,Wc,Math.max(_t.MIN_SIZE,b[3]-b[1])),B(C=s,_e,BC).call(C,c,d),s}serialize(){if(this.isEmpty())return null;const n=this.getRect(0,0),r=_t._colorManager.convert(this.ctx.strokeStyle);return{annotationType:st.INK,color:r,thickness:this.thickness,opacity:this.opacity,paths:B(this,_e,YF).call(this,this.scaleFactor/this.parentScale,this.translationX,this.translationY,n),pageIndex:this.pageIndex,rect:n,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}};Wc=new WeakMap,Uc=new WeakMap,hm=new WeakMap,fm=new WeakMap,pm=new WeakMap,Vc=new WeakMap,Os=new WeakMap,jo=new WeakMap,Ei=new WeakMap,Gc=new WeakMap,qc=new WeakMap,Bo=new WeakMap,Yc=new WeakMap,Xc=new WeakMap,cl=new WeakMap,_e=new WeakSet,DF=function(n){const r=s=>{this.thickness=s,B(this,_e,sp).call(this)},i=this.thickness;this.addCommands({cmd:r.bind(this,n),undo:r.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Xe.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})},FF=function(n){const r=s=>{this.color=s,B(this,_e,Ql).call(this)},i=this.color;this.addCommands({cmd:r.bind(this,n),undo:r.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Xe.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})},$F=function(n){const r=s=>{this.opacity=s,B(this,_e,Ql).call(this)};n/=100;const i=this.opacity;this.addCommands({cmd:r.bind(this,n),undo:r.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Xe.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})},zF=function(){const{parentRotation:n,parentDimensions:[r,i]}=this;switch(n){case 90:return[0,i,i,r];case 180:return[r,i,r,i];case 270:return[r,0,i,r];default:return[0,0,r,i]}},$C=function(){const{ctx:n,color:r,opacity:i,thickness:s,parentScale:o,scaleFactor:a}=this;n.lineWidth=s*o/a,n.lineCap="round",n.lineJoin="round",n.miterLimit=10,n.strokeStyle=`${r}${IX(i)}`},jF=function(n,r){const i=this._uiManager._signal;this.canvas.addEventListener("contextmenu",Fr,{signal:i}),this.canvas.addEventListener("pointerleave",v(this,fm),{signal:i}),this.canvas.addEventListener("pointermove",v(this,hm),{signal:i}),this.canvas.addEventListener("pointerup",v(this,pm),{signal:i}),this.canvas.removeEventListener("pointerdown",v(this,Vc)),this.isEditing=!0,v(this,qc)||(j(this,qc,!0),B(this,_e,ad).call(this),this.thickness||(this.thickness=Qt._defaultThickness),this.color||(this.color=Qt._defaultColor||_t._defaultLineColor),this.opacity??(this.opacity=Qt._defaultOpacity)),this.currentPath.push([n,r]),j(this,Gc,!1),B(this,_e,$C).call(this),j(this,cl,()=>{B(this,_e,WF).call(this),v(this,cl)&&window.requestAnimationFrame(v(this,cl))}),window.requestAnimationFrame(v(this,cl))},zC=function(n,r){const[i,s]=this.currentPath.at(-1);if(this.currentPath.length>1&&n===i&&r===s)return;const o=this.currentPath;let a=v(this,jo);if(o.push([n,r]),j(this,Gc,!0),o.length<=2){a.moveTo(...o[0]),a.lineTo(n,r);return}o.length===3&&(j(this,jo,a=new Path2D),a.moveTo(...o[0])),B(this,_e,UF).call(this,a,...o.at(-3),...o.at(-2),n,r)},BF=function(){if(this.currentPath.length===0)return;const n=this.currentPath.at(-1);v(this,jo).lineTo(...n)},HF=function(n,r){j(this,cl,null),n=Math.min(Math.max(n,0),this.canvas.width),r=Math.min(Math.max(r,0),this.canvas.height),B(this,_e,zC).call(this,n,r),B(this,_e,BF).call(this);let i;if(this.currentPath.length!==1)i=B(this,_e,VF).call(this);else{const d=[n,r];i=[[d,d.slice(),d.slice(),d]]}const s=v(this,jo),o=this.currentPath;this.currentPath=[],j(this,jo,new Path2D);const a=()=>{this.allRawPaths.push(o),this.paths.push(i),this.bezierPath2D.push(s),this._uiManager.rebuild(this)},c=()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(B(this,_e,c0).call(this),B(this,_e,u0).call(this)),B(this,_e,sp).call(this))};this.addCommands({cmd:a,undo:c,mustExec:!0})},WF=function(){if(!v(this,Gc))return;j(this,Gc,!1);const n=Math.ceil(this.thickness*this.parentScale),r=this.currentPath.slice(-3),i=r.map(a=>a[0]),s=r.map(a=>a[1]);Math.min(...i)-n,Math.max(...i)+n,Math.min(...s)-n,Math.max(...s)+n;const{ctx:o}=this;o.save(),o.clearRect(0,0,this.canvas.width,this.canvas.height);for(const a of this.bezierPath2D)o.stroke(a);o.stroke(v(this,jo)),o.restore()},UF=function(n,r,i,s,o,a,c){const d=(r+s)/2,h=(i+o)/2,f=(s+a)/2,p=(o+c)/2;n.bezierCurveTo(d+2*(s-d)/3,h+2*(o-h)/3,f+2*(s-f)/3,p+2*(o-p)/3,f,p)},VF=function(){const n=this.currentPath;if(n.length<=2)return[[n[0],n[0],n.at(-1),n.at(-1)]];const r=[];let i,[s,o]=n[0];for(i=1;i<n.length-2;i++){const[m,y]=n[i],[b,E]=n[i+1],x=(m+b)/2,C=(y+E)/2,S=[s+2*(m-s)/3,o+2*(y-o)/3],_=[x+2*(m-x)/3,C+2*(y-C)/3];r.push([[s,o],S,_,[x,C]]),[s,o]=[x,C]}const[a,c]=n[i],[d,h]=n[i+1],f=[s+2*(a-s)/3,o+2*(c-o)/3],p=[d+2*(a-d)/3,h+2*(c-h)/3];return r.push([[s,o],f,p,[d,h]]),r},Ql=function(){if(this.isEmpty()){B(this,_e,d0).call(this);return}B(this,_e,$C).call(this);const{canvas:n,ctx:r}=this;r.setTransform(1,0,0,1,0,0),r.clearRect(0,0,n.width,n.height),B(this,_e,d0).call(this);for(const i of this.bezierPath2D)r.stroke(i)},jC=function(n){this.canvas.removeEventListener("pointerleave",v(this,fm)),this.canvas.removeEventListener("pointermove",v(this,hm)),this.canvas.removeEventListener("pointerup",v(this,pm)),this.canvas.addEventListener("pointerdown",v(this,Vc),{signal:this._uiManager._signal}),v(this,Os)&&clearTimeout(v(this,Os)),j(this,Os,setTimeout(()=>{j(this,Os,null),this.canvas.removeEventListener("contextmenu",Fr)},10)),B(this,_e,HF).call(this,n.offsetX,n.offsetY),this.addToAnnotationStorage(),this.setInBackground()},c0=function(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",this.canvas.setAttribute("data-l10n-id","pdfjs-ink-canvas"),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")},u0=function(){j(this,Bo,new ResizeObserver(n=>{const r=n[0].contentRect;r.width&&r.height&&this.setDimensions(r.width,r.height)})),v(this,Bo).observe(this.div),this._uiManager._signal.addEventListener("abort",()=>{var n;(n=v(this,Bo))==null||n.disconnect(),j(this,Bo,null)},{once:!0})},ad=function(){if(!v(this,qc))return;const[n,r]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*n),this.canvas.height=Math.ceil(this.height*r),B(this,_e,d0).call(this)},BC=function(n,r){const i=B(this,_e,h0).call(this),s=(n-i)/v(this,Uc),o=(r-i)/v(this,Wc);this.scaleFactor=Math.min(s,o)},d0=function(){const n=B(this,_e,h0).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+n,this.translationY*this.scaleFactor+n)},la=new WeakSet,GF=function(n){const r=new Path2D;for(let i=0,s=n.length;i<s;i++){const[o,a,c,d]=n[i];i===0&&r.moveTo(...o),r.bezierCurveTo(a[0],a[1],c[0],c[1],d[0],d[1])}return r},HC=function(n,r,i){const[s,o,a,c]=r;switch(i){case 0:for(let d=0,h=n.length;d<h;d+=2)n[d]+=s,n[d+1]=c-n[d+1];break;case 90:for(let d=0,h=n.length;d<h;d+=2){const f=n[d];n[d]=n[d+1]+s,n[d+1]=f+o}break;case 180:for(let d=0,h=n.length;d<h;d+=2)n[d]=a-n[d],n[d+1]+=o;break;case 270:for(let d=0,h=n.length;d<h;d+=2){const f=n[d];n[d]=a-n[d+1],n[d+1]=c-f}break;default:throw new Error("Invalid rotation")}return n},qF=function(n,r,i){const[s,o,a,c]=r;switch(i){case 0:for(let d=0,h=n.length;d<h;d+=2)n[d]-=s,n[d+1]=c-n[d+1];break;case 90:for(let d=0,h=n.length;d<h;d+=2){const f=n[d];n[d]=n[d+1]-o,n[d+1]=f-s}break;case 180:for(let d=0,h=n.length;d<h;d+=2)n[d]=a-n[d],n[d+1]-=o;break;case 270:for(let d=0,h=n.length;d<h;d+=2){const f=n[d];n[d]=c-n[d+1],n[d+1]=a-f}break;default:throw new Error("Invalid rotation")}return n},YF=function(n,r,i,s){var h,f;const o=[],a=this.thickness/2,c=n*r+a,d=n*i+a;for(const p of this.paths){const m=[],y=[];for(let b=0,E=p.length;b<E;b++){const[x,C,S,_]=p[b];if(x[0]===_[0]&&x[1]===_[1]&&E===1){const U=n*x[0]+c,D=n*x[1]+d;m.push(U,D),y.push(U,D);break}const k=n*x[0]+c,N=n*x[1]+d,T=n*C[0]+c,M=n*C[1]+d,O=n*S[0]+c,R=n*S[1]+d,F=n*_[0]+c,z=n*_[1]+d;b===0&&(m.push(k,N),y.push(k,N)),m.push(T,M,O,R,F,z),y.push(T,M),b===E-1&&y.push(F,z)}o.push({bezier:B(h=Qt,la,HC).call(h,m,s,this.rotation),points:B(f=Qt,la,HC).call(f,y,s,this.rotation)})}return o},WC=function(){let n=1/0,r=-1/0,i=1/0,s=-1/0;for(const o of this.paths)for(const[a,c,d,h]of o){const f=$e.bezierBoundingBox(...a,...c,...d,...h);n=Math.min(n,f[0]),i=Math.min(i,f[1]),r=Math.max(r,f[2]),s=Math.max(s,f[3])}return[n,i,r,s]},h0=function(){return v(this,Ei)?Math.ceil(this.thickness*this.parentScale):0},sp=function(n=!1){if(this.isEmpty())return;if(!v(this,Ei)){B(this,_e,Ql).call(this);return}const r=B(this,_e,WC).call(this),i=B(this,_e,h0).call(this);j(this,Uc,Math.max(_t.MIN_SIZE,r[2]-r[0])),j(this,Wc,Math.max(_t.MIN_SIZE,r[3]-r[1]));const s=Math.ceil(i+v(this,Uc)*this.scaleFactor),o=Math.ceil(i+v(this,Wc)*this.scaleFactor),[a,c]=this.parentDimensions;this.width=s/a,this.height=o/c,this.setAspectRatio(s,o);const d=this.translationX,h=this.translationY;this.translationX=-r[0],this.translationY=-r[1],B(this,_e,ad).call(this),B(this,_e,Ql).call(this),j(this,Yc,s),j(this,Xc,o),this.setDims(s,o);const f=n?i/this.scaleFactor/2:0;this.translate(d-this.translationX-f,h-this.translationY-f)},W(Qt,la),Te(Qt,"_defaultColor",null),Te(Qt,"_defaultOpacity",1),Te(Qt,"_defaultThickness",1),Te(Qt,"_type","ink"),Te(Qt,"_editorType",st.INK);let FC=Qt;var Hn,Wn,ul,Ho,dl,ch,Ls,Wo,Ds,Qi,gm,dt,op,ap,f0,VC,XF,KF,GC,p0,QF;const yp=class yp extends _t{constructor(n){super({...n,name:"stampEditor"});W(this,dt);W(this,Hn,null);W(this,Wn,null);W(this,ul,null);W(this,Ho,null);W(this,dl,null);W(this,ch,"");W(this,Ls,null);W(this,Wo,null);W(this,Ds,null);W(this,Qi,!1);W(this,gm,!1);j(this,Ho,n.bitmapUrl),j(this,dl,n.bitmapFile)}static initialize(n,r){_t.initialize(n,r)}static get supportedTypes(){return lt(this,"supportedTypes",["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"].map(r=>`image/${r}`))}static get supportedTypesStr(){return lt(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(n){return this.supportedTypes.includes(n)}static paste(n,r){r.pasteEditor(st.STAMP,{bitmapFile:n.getAsFile()})}remove(){var n,r;v(this,Wn)&&(j(this,Hn,null),this._uiManager.imageManager.deleteId(v(this,Wn)),(n=v(this,Ls))==null||n.remove(),j(this,Ls,null),(r=v(this,Wo))==null||r.disconnect(),j(this,Wo,null),v(this,Ds)&&(clearTimeout(v(this,Ds)),j(this,Ds,null))),super.remove()}rebuild(){if(!this.parent){v(this,Wn)&&B(this,dt,f0).call(this);return}super.rebuild(),this.div!==null&&(v(this,Wn)&&v(this,Ls)===null&&B(this,dt,f0).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(v(this,ul)||v(this,Hn)||v(this,Ho)||v(this,dl)||v(this,Wn))}get isResizable(){return!0}render(){if(this.div)return this.div;let n,r;if(this.width&&(n=this.x,r=this.y),super.render(),this.div.hidden=!0,this.addAltTextButton(),v(this,Hn)?B(this,dt,VC).call(this):B(this,dt,f0).call(this),this.width){const[i,s]=this.parentDimensions;this.setAt(n*i,r*s,this.width*i,this.height*s)}return this.div}getImageForAltText(){return v(this,Ls)}static deserialize(n,r,i){if(n instanceof pF)return null;const s=super.deserialize(n,r,i),{rect:o,bitmapUrl:a,bitmapId:c,isSvg:d,accessibilityData:h}=n;c&&i.imageManager.isValidId(c)?j(s,Wn,c):j(s,Ho,a),j(s,Qi,d);const[f,p]=s.pageDimensions;return s.width=(o[2]-o[0])/f,s.height=(o[3]-o[1])/p,h&&(s.altTextData=h),s}serialize(n=!1,r=null){if(this.isEmpty())return null;const i={annotationType:st.STAMP,bitmapId:v(this,Wn),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:v(this,Qi),structTreeParentId:this._structTreeParentId};if(n)return i.bitmapUrl=B(this,dt,p0).call(this,!0),i.accessibilityData=this.altTextData,i;const{decorative:s,altText:o}=this.altTextData;if(!s&&o&&(i.accessibilityData={type:"Figure",alt:o}),r===null)return i;r.stamps||(r.stamps=new Map);const a=v(this,Qi)?(i.rect[2]-i.rect[0])*(i.rect[3]-i.rect[1]):null;if(!r.stamps.has(v(this,Wn)))r.stamps.set(v(this,Wn),{area:a,serialized:i}),i.bitmap=B(this,dt,p0).call(this,!1);else if(v(this,Qi)){const c=r.stamps.get(v(this,Wn));a>c.area&&(c.area=a,c.serialized.bitmap.close(),c.serialized.bitmap=B(this,dt,p0).call(this,!1))}return i}};Hn=new WeakMap,Wn=new WeakMap,ul=new WeakMap,Ho=new WeakMap,dl=new WeakMap,ch=new WeakMap,Ls=new WeakMap,Wo=new WeakMap,Ds=new WeakMap,Qi=new WeakMap,gm=new WeakMap,dt=new WeakSet,op=function(n,r=!1){if(!n){this.remove();return}j(this,Hn,n.bitmap),r||(j(this,Wn,n.id),j(this,Qi,n.isSvg)),n.file&&j(this,ch,n.file.name),B(this,dt,VC).call(this)},ap=function(){j(this,ul,null),this._uiManager.enableWaiting(!1),v(this,Ls)&&this.div.focus()},f0=function(){if(v(this,Wn)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(v(this,Wn)).then(i=>B(this,dt,op).call(this,i,!0)).finally(()=>B(this,dt,ap).call(this));return}if(v(this,Ho)){const i=v(this,Ho);j(this,Ho,null),this._uiManager.enableWaiting(!0),j(this,ul,this._uiManager.imageManager.getFromUrl(i).then(s=>B(this,dt,op).call(this,s)).finally(()=>B(this,dt,ap).call(this)));return}if(v(this,dl)){const i=v(this,dl);j(this,dl,null),this._uiManager.enableWaiting(!0),j(this,ul,this._uiManager.imageManager.getFromFile(i).then(s=>B(this,dt,op).call(this,s)).finally(()=>B(this,dt,ap).call(this)));return}const n=document.createElement("input");n.type="file",n.accept=yp.supportedTypesStr;const r=this._uiManager._signal;j(this,ul,new Promise(i=>{n.addEventListener("change",async()=>{if(!n.files||n.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const s=await this._uiManager.imageManager.getFromFile(n.files[0]);B(this,dt,op).call(this,s)}i()},{signal:r}),n.addEventListener("cancel",()=>{this.remove(),i()},{signal:r})}).finally(()=>B(this,dt,ap).call(this))),n.click()},VC=function(){const{div:n}=this;let{width:r,height:i}=v(this,Hn);const[s,o]=this.pageDimensions,a=.75;if(this.width)r=this.width*s,i=this.height*o;else if(r>a*s||i>a*o){const f=Math.min(a*s/r,a*o/i);r*=f,i*=f}const[c,d]=this.parentDimensions;this.setDims(r*c/s,i*d/o),this._uiManager.enableWaiting(!1);const h=j(this,Ls,document.createElement("canvas"));n.append(h),n.hidden=!1,B(this,dt,GC).call(this,r,i),B(this,dt,QF).call(this),v(this,gm)||(this.parent.addUndoableEditor(this),j(this,gm,!0)),this._reportTelemetry({action:"inserted_image"}),v(this,ch)&&h.setAttribute("aria-label",v(this,ch))},XF=function(n,r){var a;const[i,s]=this.parentDimensions;this.width=n/i,this.height=r/s,this.setDims(n,r),(a=this._initialOptions)!=null&&a.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,v(this,Ds)!==null&&clearTimeout(v(this,Ds)),j(this,Ds,setTimeout(()=>{j(this,Ds,null),B(this,dt,GC).call(this,n,r)},200))},KF=function(n,r){const{width:i,height:s}=v(this,Hn);let o=i,a=s,c=v(this,Hn);for(;o>2*n||a>2*r;){const d=o,h=a;o>2*n&&(o=o>=16384?Math.floor(o/2)-1:Math.ceil(o/2)),a>2*r&&(a=a>=16384?Math.floor(a/2)-1:Math.ceil(a/2));const f=new OffscreenCanvas(o,a);f.getContext("2d").drawImage(c,0,0,d,h,0,0,o,a),c=f.transferToImageBitmap()}return c},GC=function(n,r){n=Math.ceil(n),r=Math.ceil(r);const i=v(this,Ls);if(!i||i.width===n&&i.height===r)return;i.width=n,i.height=r;const s=v(this,Qi)?v(this,Hn):B(this,dt,KF).call(this,n,r);if(this._uiManager.hasMLManager&&!this.hasAltText()){const c=new OffscreenCanvas(n,r).getContext("2d");c.drawImage(s,0,0,s.width,s.height,0,0,n,r),this._uiManager.mlGuess({service:"image-to-text",request:{data:c.getImageData(0,0,n,r).data,width:n,height:r,channels:4}}).then(d=>{const h=(d==null?void 0:d.output)||"";this.parent&&h&&!this.hasAltText()&&(this.altTextData={altText:h,decorative:!1})})}const o=i.getContext("2d");o.filter=this._uiManager.hcmFilter,o.drawImage(s,0,0,s.width,s.height,0,0,n,r)},p0=function(n){if(n){if(v(this,Qi)){const s=this._uiManager.imageManager.getSvgUrl(v(this,Wn));if(s)return s}const r=document.createElement("canvas");return{width:r.width,height:r.height}=v(this,Hn),r.getContext("2d").drawImage(v(this,Hn),0,0),r.toDataURL()}if(v(this,Qi)){const[r,i]=this.pageDimensions,s=Math.round(this.width*r*xl.PDF_TO_CSS_UNITS),o=Math.round(this.height*i*xl.PDF_TO_CSS_UNITS),a=new OffscreenCanvas(s,o);return a.getContext("2d").drawImage(v(this,Hn),0,0,v(this,Hn).width,v(this,Hn).height,0,0,s,o),a.transferToImageBitmap()}return structuredClone(v(this,Hn))},QF=function(){this._uiManager._signal&&(j(this,Wo,new ResizeObserver(n=>{const r=n[0].contentRect;r.width&&r.height&&B(this,dt,XF).call(this,r.width,r.height)})),v(this,Wo).observe(this.div),this._uiManager._signal.addEventListener("abort",()=>{var n;(n=v(this,Wo))==null||n.disconnect(),j(this,Wo,null)},{once:!0}))},Te(yp,"_type","stamp"),Te(yp,"_editorType",st.STAMP);let UC=yp;var Kc,uh,Fs,Qc,Uo,Vo,Go,ri,hl,dh,hh,pr,Be,fl,Vn,ZF,YC,XC,KC,g0;const Fi=class Fi{constructor({uiManager:e,pageIndex:n,div:r,accessibilityManager:i,annotationLayer:s,drawLayer:o,textLayer:a,viewport:c,l10n:d}){W(this,Vn);W(this,Kc);W(this,uh,!1);W(this,Fs,null);W(this,Qc,null);W(this,Uo,null);W(this,Vo,null);W(this,Go,null);W(this,ri,new Map);W(this,hl,!1);W(this,dh,!1);W(this,hh,!1);W(this,pr,null);W(this,Be);const h=[...v(Fi,fl).values()];if(!Fi._initialized){Fi._initialized=!0;for(const f of h)f.initialize(d,e)}e.registerEditorTypes(h),j(this,Be,e),this.pageIndex=n,this.div=r,j(this,Kc,i),j(this,Fs,s),this.viewport=c,j(this,pr,a),this.drawLayer=o,v(this,Be).addLayer(this)}get isEmpty(){return v(this,ri).size===0}get isInvisible(){return this.isEmpty&&v(this,Be).getMode()===st.NONE}updateToolbar(e){v(this,Be).updateToolbar(e)}updateMode(e=v(this,Be).getMode()){switch(B(this,Vn,g0).call(this),e){case st.NONE:this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case st.INK:this.addInkEditorIfNeeded(!1),this.disableTextSelection(),this.togglePointerEvents(!0),this.disableClick();break;case st.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:n}=this.div;for(const r of v(Fi,fl).values())n.toggle(`${r._type}Editing`,e===r._editorType);this.div.hidden=!1}hasTextLayer(e){var n;return e===((n=v(this,pr))==null?void 0:n.div)}addInkEditorIfNeeded(e){if(v(this,Be).getMode()!==st.INK)return;if(!e){for(const r of v(this,ri).values())if(r.isEmpty()){r.setInBackground();return}}this.createAndAddNewEditor({offsetX:0,offsetY:0},!1).setInBackground()}setEditingState(e){v(this,Be).setEditingState(e)}addCommands(e){v(this,Be).addCommands(e)}togglePointerEvents(e=!1){this.div.classList.toggle("disabled",!e)}toggleAnnotationLayerPointerEvents(e=!1){var n;(n=v(this,Fs))==null||n.div.classList.toggle("disabled",!e)}enable(){this.div.tabIndex=0,this.togglePointerEvents(!0);const e=new Set;for(const r of v(this,ri).values())r.enableEditing(),r.show(!0),r.annotationElementId&&(v(this,Be).removeChangedExistingAnnotation(r),e.add(r.annotationElementId));if(!v(this,Fs))return;const n=v(this,Fs).getEditableAnnotations();for(const r of n){if(r.hide(),v(this,Be).isDeletedAnnotationElement(r.data.id)||e.has(r.data.id))continue;const i=this.deserialize(r);i&&(this.addOrRebuild(i),i.enableEditing())}}disable(){var i;j(this,hh,!0),this.div.tabIndex=-1,this.togglePointerEvents(!1);const e=new Map,n=new Map;for(const s of v(this,ri).values())if(s.disableEditing(),!!s.annotationElementId){if(s.serialize()!==null){e.set(s.annotationElementId,s);continue}else n.set(s.annotationElementId,s);(i=this.getEditableAnnotation(s.annotationElementId))==null||i.show(),s.remove()}if(v(this,Fs)){const s=v(this,Fs).getEditableAnnotations();for(const o of s){const{id:a}=o.data;if(v(this,Be).isDeletedAnnotationElement(a))continue;let c=n.get(a);if(c){c.resetAnnotationElement(o),c.show(!1),o.show();continue}c=e.get(a),c&&(v(this,Be).addChangedExistingAnnotation(c),c.renderAnnotationElement(o),c.show(!1)),o.show()}}B(this,Vn,g0).call(this),this.isEmpty&&(this.div.hidden=!0);const{classList:r}=this.div;for(const s of v(Fi,fl).values())r.remove(`${s._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),j(this,hh,!1)}getEditableAnnotation(e){var n;return((n=v(this,Fs))==null?void 0:n.getEditableAnnotation(e))||null}setActiveEditor(e){v(this,Be).getActive()!==e&&v(this,Be).setActiveEditor(e)}enableTextSelection(){var e;this.div.tabIndex=-1,(e=v(this,pr))!=null&&e.div&&!v(this,Vo)&&(j(this,Vo,B(this,Vn,ZF).bind(this)),v(this,pr).div.addEventListener("pointerdown",v(this,Vo),{signal:v(this,Be)._signal}),v(this,pr).div.classList.add("highlighting"))}disableTextSelection(){var e;this.div.tabIndex=0,(e=v(this,pr))!=null&&e.div&&v(this,Vo)&&(v(this,pr).div.removeEventListener("pointerdown",v(this,Vo)),j(this,Vo,null),v(this,pr).div.classList.remove("highlighting"))}enableClick(){if(v(this,Uo))return;const e=v(this,Be)._signal;j(this,Uo,this.pointerdown.bind(this)),j(this,Qc,this.pointerup.bind(this)),this.div.addEventListener("pointerdown",v(this,Uo),{signal:e}),this.div.addEventListener("pointerup",v(this,Qc),{signal:e})}disableClick(){v(this,Uo)&&(this.div.removeEventListener("pointerdown",v(this,Uo)),this.div.removeEventListener("pointerup",v(this,Qc)),j(this,Uo,null),j(this,Qc,null))}attach(e){v(this,ri).set(e.id,e);const{annotationElementId:n}=e;n&&v(this,Be).isDeletedAnnotationElement(n)&&v(this,Be).removeDeletedAnnotationElement(e)}detach(e){var n;v(this,ri).delete(e.id),(n=v(this,Kc))==null||n.removePointerInTextLayer(e.contentDiv),!v(this,hh)&&e.annotationElementId&&v(this,Be).addDeletedAnnotationElement(e)}remove(e){this.detach(e),v(this,Be).removeEditor(e),e.div.remove(),e.isAttachedToDOM=!1,v(this,dh)||this.addInkEditorIfNeeded(!1)}changeParent(e){var n;e.parent!==this&&(e.parent&&e.annotationElementId&&(v(this,Be).addDeletedAnnotationElement(e.annotationElementId),_t.deleteAnnotationElement(e),e.annotationElementId=null),this.attach(e),(n=e.parent)==null||n.detach(e),e.setParent(this),e.div&&e.isAttachedToDOM&&(e.div.remove(),this.div.append(e.div)))}add(e){if(!(e.parent===this&&e.isAttachedToDOM)){if(this.changeParent(e),v(this,Be).addEditor(e),this.attach(e),!e.isAttachedToDOM){const n=e.render();this.div.append(n),e.isAttachedToDOM=!0}e.fixAndSetPosition(),e.onceAdded(),v(this,Be).addToAnnotationStorage(e),e._reportTelemetry(e.telemetryInitialData)}}moveEditorInDOM(e){var r;if(!e.isAttachedToDOM)return;const{activeElement:n}=document;e.div.contains(n)&&!v(this,Go)&&(e._focusEventsAllowed=!1,j(this,Go,setTimeout(()=>{j(this,Go,null),e.div.contains(document.activeElement)?e._focusEventsAllowed=!0:(e.div.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:v(this,Be)._signal}),n.focus())},0))),e._structTreeParentId=(r=v(this,Kc))==null?void 0:r.moveElementInDOM(this.div,e.div,e.contentDiv,!0)}addOrRebuild(e){e.needsToBeRebuilt()?(e.parent||(e.parent=this),e.rebuild(),e.show()):this.add(e)}addUndoableEditor(e){const n=()=>e._uiManager.rebuild(e),r=()=>{e.remove()};this.addCommands({cmd:n,undo:r,mustExec:!1})}getNextId(){return v(this,Be).getId()}get _signal(){return v(this,Be)._signal}canCreateNewEmptyEditor(){var e;return(e=v(this,Vn,YC))==null?void 0:e.canCreateNewEmptyEditor()}pasteEditor(e,n){v(this,Be).updateToolbar(e),v(this,Be).updateMode(e);const{offsetX:r,offsetY:i}=B(this,Vn,KC).call(this),s=this.getNextId(),o=B(this,Vn,XC).call(this,{parent:this,id:s,x:r,y:i,uiManager:v(this,Be),isCentered:!0,...n});o&&this.add(o)}deserialize(e){var n;return((n=v(Fi,fl).get(e.annotationType??e.annotationEditorType))==null?void 0:n.deserialize(e,this,v(this,Be)))||null}createAndAddNewEditor(e,n,r={}){const i=this.getNextId(),s=B(this,Vn,XC).call(this,{parent:this,id:i,x:e.offsetX,y:e.offsetY,uiManager:v(this,Be),isCentered:n,...r});return s&&this.add(s),s}addNewEditor(){this.createAndAddNewEditor(B(this,Vn,KC).call(this),!0)}setSelected(e){v(this,Be).setSelected(e)}toggleSelected(e){v(this,Be).toggleSelected(e)}isSelected(e){return v(this,Be).isSelected(e)}unselect(e){v(this,Be).unselect(e)}pointerup(e){const{isMac:n}=Or.platform;if(!(e.button!==0||e.ctrlKey&&n)&&e.target===this.div&&v(this,hl)){if(j(this,hl,!1),!v(this,uh)){j(this,uh,!0);return}if(v(this,Be).getMode()===st.STAMP){v(this,Be).unselectAll();return}this.createAndAddNewEditor(e,!1)}}pointerdown(e){if(v(this,Be).getMode()===st.HIGHLIGHT&&this.enableTextSelection(),v(this,hl)){j(this,hl,!1);return}const{isMac:n}=Or.platform;if(e.button!==0||e.ctrlKey&&n||e.target!==this.div)return;j(this,hl,!0);const r=v(this,Be).getActive();j(this,uh,!r||r.isEmpty())}findNewParent(e,n,r){const i=v(this,Be).findParent(n,r);return i===null||i===this?!1:(i.changeParent(e),!0)}destroy(){var e,n;((e=v(this,Be).getActive())==null?void 0:e.parent)===this&&(v(this,Be).commitOrRemove(),v(this,Be).setActiveEditor(null)),v(this,Go)&&(clearTimeout(v(this,Go)),j(this,Go,null));for(const r of v(this,ri).values())(n=v(this,Kc))==null||n.removePointerInTextLayer(r.contentDiv),r.setParent(null),r.isAttachedToDOM=!1,r.div.remove();this.div=null,v(this,ri).clear(),v(this,Be).removeLayer(this)}render({viewport:e}){this.viewport=e,ru(this.div,e);for(const n of v(this,Be).getEditors(this.pageIndex))this.add(n),n.rebuild();this.updateMode()}update({viewport:e}){v(this,Be).commitOrRemove(),B(this,Vn,g0).call(this);const n=this.viewport.rotation,r=e.rotation;if(this.viewport=e,ru(this.div,{rotation:r}),n!==r)for(const i of v(this,ri).values())i.rotate(r);this.addInkEditorIfNeeded(!1)}get pageDimensions(){const{pageWidth:e,pageHeight:n}=this.viewport.rawDims;return[e,n]}get scale(){return v(this,Be).viewParameters.realScale}};Kc=new WeakMap,uh=new WeakMap,Fs=new WeakMap,Qc=new WeakMap,Uo=new WeakMap,Vo=new WeakMap,Go=new WeakMap,ri=new WeakMap,hl=new WeakMap,dh=new WeakMap,hh=new WeakMap,pr=new WeakMap,Be=new WeakMap,fl=new WeakMap,Vn=new WeakSet,ZF=function(e){if(v(this,Be).unselectAll(),e.target===v(this,pr).div){const{isMac:n}=Or.platform;if(e.button!==0||e.ctrlKey&&n)return;v(this,Be).showAllEditors("highlight",!0,!0),v(this,pr).div.classList.add("free"),V0.startHighlighting(this,v(this,Be).direction==="ltr",e),v(this,pr).div.addEventListener("pointerup",()=>{v(this,pr).div.classList.remove("free")},{once:!0,signal:v(this,Be)._signal}),e.preventDefault()}},YC=function(){return v(Fi,fl).get(v(this,Be).getMode())},XC=function(e){const n=v(this,Vn,YC);return n?new n.prototype.constructor(e):null},KC=function(){const{x:e,y:n,width:r,height:i}=this.div.getBoundingClientRect(),s=Math.max(0,e),o=Math.max(0,n),a=Math.min(window.innerWidth,e+r),c=Math.min(window.innerHeight,n+i),d=(s+a)/2-e,h=(o+c)/2-n,[f,p]=this.viewport.rotation%180===0?[d,h]:[h,d];return{offsetX:f,offsetY:p}},g0=function(){j(this,dh,!0);for(const e of v(this,ri).values())e.isEmpty()&&e.remove();j(this,dh,!1)},Te(Fi,"_initialized",!1),W(Fi,fl,new Map([AC,FC,UC,V0].map(e=>[e._editorType,e])));let qC=Fi;var $s,mm,kn,pl,ym,ZC,cu,JC,JF;const Fn=class Fn{constructor({pageIndex:e}){W(this,cu);W(this,$s,null);W(this,mm,0);W(this,kn,new Map);W(this,pl,new Map);this.pageIndex=e}setParent(e){if(!v(this,$s)){j(this,$s,e);return}if(v(this,$s)!==e){if(v(this,kn).size>0)for(const n of v(this,kn).values())n.remove(),e.append(n);j(this,$s,e)}}static get _svgFactory(){return lt(this,"_svgFactory",new rA)}highlight(e,n,r,i=!1){const s=qr(this,mm)._++,o=B(this,cu,JC).call(this,e.box);o.classList.add("highlight"),e.free&&o.classList.add("free");const a=Fn._svgFactory.createElement("defs");o.append(a);const c=Fn._svgFactory.createElement("path");a.append(c);const d=`path_p${this.pageIndex}_${s}`;c.setAttribute("id",d),c.setAttribute("d",e.toSVGPath()),i&&v(this,pl).set(s,c);const h=B(this,cu,JF).call(this,a,d),f=Fn._svgFactory.createElement("use");return o.append(f),o.setAttribute("fill",n),o.setAttribute("fill-opacity",r),f.setAttribute("href",`#${d}`),v(this,kn).set(s,o),{id:s,clipPathId:`url(#${h})`}}highlightOutline(e){const n=qr(this,mm)._++,r=B(this,cu,JC).call(this,e.box);r.classList.add("highlightOutline");const i=Fn._svgFactory.createElement("defs");r.append(i);const s=Fn._svgFactory.createElement("path");i.append(s);const o=`path_p${this.pageIndex}_${n}`;s.setAttribute("id",o),s.setAttribute("d",e.toSVGPath()),s.setAttribute("vector-effect","non-scaling-stroke");let a;if(e.free){r.classList.add("free");const h=Fn._svgFactory.createElement("mask");i.append(h),a=`mask_p${this.pageIndex}_${n}`,h.setAttribute("id",a),h.setAttribute("maskUnits","objectBoundingBox");const f=Fn._svgFactory.createElement("rect");h.append(f),f.setAttribute("width","1"),f.setAttribute("height","1"),f.setAttribute("fill","white");const p=Fn._svgFactory.createElement("use");h.append(p),p.setAttribute("href",`#${o}`),p.setAttribute("stroke","none"),p.setAttribute("fill","black"),p.setAttribute("fill-rule","nonzero"),p.classList.add("mask")}const c=Fn._svgFactory.createElement("use");r.append(c),c.setAttribute("href",`#${o}`),a&&c.setAttribute("mask",`url(#${a})`);const d=c.cloneNode();return r.append(d),c.classList.add("mainOutline"),d.classList.add("secondaryOutline"),v(this,kn).set(n,r),n}finalizeLine(e,n){const r=v(this,pl).get(e);v(this,pl).delete(e),this.updateBox(e,n.box),r.setAttribute("d",n.toSVGPath())}updateLine(e,n){v(this,kn).get(e).firstChild.firstChild.setAttribute("d",n.toSVGPath())}removeFreeHighlight(e){this.remove(e),v(this,pl).delete(e)}updatePath(e,n){v(this,pl).get(e).setAttribute("d",n.toSVGPath())}updateBox(e,n){var r;B(r=Fn,ym,ZC).call(r,v(this,kn).get(e),n)}show(e,n){v(this,kn).get(e).classList.toggle("hidden",!n)}rotate(e,n){v(this,kn).get(e).setAttribute("data-main-rotation",n)}changeColor(e,n){v(this,kn).get(e).setAttribute("fill",n)}changeOpacity(e,n){v(this,kn).get(e).setAttribute("fill-opacity",n)}addClass(e,n){v(this,kn).get(e).classList.add(n)}removeClass(e,n){v(this,kn).get(e).classList.remove(n)}remove(e){v(this,$s)!==null&&(v(this,kn).get(e).remove(),v(this,kn).delete(e))}destroy(){j(this,$s,null);for(const e of v(this,kn).values())e.remove();v(this,kn).clear()}};$s=new WeakMap,mm=new WeakMap,kn=new WeakMap,pl=new WeakMap,ym=new WeakSet,ZC=function(e,{x:n=0,y:r=0,width:i=1,height:s=1}={}){const{style:o}=e;o.top=`${100*r}%`,o.left=`${100*n}%`,o.width=`${100*i}%`,o.height=`${100*s}%`},cu=new WeakSet,JC=function(e){var r;const n=Fn._svgFactory.create(1,1,!0);return v(this,$s).append(n),n.setAttribute("aria-hidden",!0),B(r=Fn,ym,ZC).call(r,n,e),n},JF=function(e,n){const r=Fn._svgFactory.createElement("clipPath");e.append(r);const i=`clip_${n}`;r.setAttribute("id",i),r.setAttribute("clipPathUnits","objectBoundingBox");const s=Fn._svgFactory.createElement("use");return r.append(s),s.setAttribute("href",`#${n}`),s.classList.add("clip"),i},W(Fn,ym);let QC=Fn;Ye.AbortException;Ye.AnnotationEditorLayer;Ye.AnnotationEditorParamsType;Ye.AnnotationEditorType;Ye.AnnotationEditorUIManager;Ye.AnnotationLayer;Ye.AnnotationMode;Ye.CMapCompressionType;Ye.ColorPicker;Ye.DOMSVGFactory;Ye.DrawLayer;Ye.FeatureTest;var lQ=Ye.GlobalWorkerOptions;Ye.ImageKind;Ye.InvalidPDFException;Ye.MissingPDFException;Ye.OPS;Ye.Outliner;Ye.PDFDataRangeTransport;Ye.PDFDateString;Ye.PDFWorker;Ye.PasswordResponses;Ye.PermissionFlag;Ye.PixelsPerInch;Ye.RenderingCancelledException;Ye.TextLayer;Ye.UnexpectedResponseException;Ye.Util;Ye.VerbosityLevel;Ye.XfaLayer;Ye.build;Ye.createValidAbsoluteUrl;Ye.fetchData;var cQ=Ye.getDocument;Ye.getFilenameFromUrl;Ye.getPdfFilenameFromUrl;Ye.getXfaPageViewport;Ye.isDataScheme;Ye.isPdfFile;Ye.noContextMenu;Ye.normalizeUnicode;Ye.renderTextLayer;Ye.setLayerDimensions;Ye.shadow;Ye.updateTextLayer;Ye.version;const uQ=t=>Ce.createElement("div",{style:{color:"black"}},"Loading ",Math.floor(t.loaded/t.total*100),"%"),dQ=t=>Ce.createElement("div",{style:{color:"black"}},t.message),hQ=t=>{throw new Error(`Error loading PDF document: ${t.message}!`)},fQ="https://unpkg.com/pdfjs-dist@4.4.168/build/pdf.worker.min.mjs",pQ=({document:t,beforeLoad:e=uQ,errorMessage:n=dQ,children:r,onError:i=hQ,workerSrc:s=fQ})=>{const o=I.useRef(null),a=I.useRef(null),[c,d]=I.useState(null),[h,f]=I.useState(null);return I.useEffect(()=>(lQ.workerSrc=s,o.current=cQ(t),o.current.onProgress=p=>{f(p.loaded>p.total?null:p)},o.current.promise.then(p=>{a.current=p}).catch(p=>{p.message!="Worker was destroyed"&&(d(p),i(p))}).finally(()=>{f(null)}),()=>{o.current&&o.current.destroy(),a.current&&a.current.destroy()}),[t]),c?n(c):h?e(h):a.current&&r(a.current)};function gQ({readRecords:t,displayedReads:e,setSelectedHighlightId:n}){const{highlight:r,isScrolledTo:i,highlightBindings:s}=kY(),o=e.includes(r.readRecordId)?t[r.readRecordId].color:"#e6e6e6";return r.type==="text"?L.jsx(zY,{isScrolledTo:i,highlight:r,style:{background:o},onClick:()=>n(r.id)}):L.jsx(lX,{isScrolledTo:i,highlight:r,bounds:s.textLayer,style:{background:o,pointerEvents:"none"}})}const mQ=t=>{document.location.hash=`highlight-${t.id}`},yQ=({highlights:t,resetHighlights:e})=>{const n=I.useContext(ua);if(!n)throw new Error("PaperContext not found");const{readRecords:r}=n,i=s=>{const o=parseInt(s.slice(1,3),16),a=parseInt(s.slice(3,5),16),c=parseInt(s.slice(5,7),16);return`rgba(${o}, ${a}, ${c}, 1)`};return L.jsxs("div",{className:"sidebar",style:{width:"25%"},children:[t&&L.jsx("ul",{className:"sidebar__highlights",children:t.map((s,o)=>L.jsxs("li",{className:"sidebar__highlight",onClick:()=>{mQ(s)},style:{backgroundColor:i(r[s.readRecordId].color)},children:[L.jsxs("div",{children:[s.content.text&&L.jsx("blockquote",{style:{marginTop:"0.5rem"},children:`${s.content.text.slice(0,90).trim()}`}),s.content.image&&L.jsx("div",{className:"highlight__image__container",style:{marginTop:"0.5rem"},children:L.jsx("img",{src:s.content.image,alt:"Screenshot",className:"highlight__image"})})]}),L.jsxs("div",{className:"highlight__location",children:["Page ",s.position.boundingRect.pageNumber]})]},o))}),t&&t.length>0&&L.jsx("div",{style:{padding:"0.5rem"},children:L.jsx("button",{onClick:e,className:"sidebar__reset",children:"Reset highlights"})})]})},vQ=({addHighlight:t})=>{const e=I.useRef(null),{getCurrentSelection:n,removeGhostHighlight:r,setTip:i}=V2();return L.jsx("div",{className:"Tip",children:L.jsx("button",{className:"Tip__compact",onClick:()=>{e.current=n(),t({content:e.current.content,type:e.current.type,position:e.current.position}),r(),i(null)},children:"Add highlight"})})};function bQ(){const t=I.useContext(ua);if(!t)throw new Error("PaperContext not found");const{paperUrl:e,setPaperUrl:n,highlights:r,addHighlight:i,resetHighlights:s,selectedHighlightId:o,setSelectedHighlightId:a,currentReadId:c,readRecords:d,displayedReads:h,onSelectNode:f}=t,p=I.useContext(Cm);if(!p)throw new Error("TourContext not found");const{setRunTour:m}=p,[y,b]=I.useState(!1),E=I.useRef(null),x=()=>{const _=C(o);_&&E.current&&(console.log("sceroll to highlight",_),E.current.scrollToHighlight(_))};I.useEffect(()=>{console.log("onSelectNode",f),console.log("selectedHighlightId",o),o&&f&&x()},[f,o]);const C=_=>r.find(k=>k.id===_);I.useEffect(()=>{console.log("selectedHighlightId",o)},[o]);const S=_=>{var N;const k=(N=_.target.files)==null?void 0:N[0];if(k&&k.type==="application/pdf"){const T=new FileReader;T.onload=M=>{var O;n((O=M.target)==null?void 0:O.result)},T.readAsDataURL(k),m(!0)}else alert("Please upload a valid PDF file.")};return L.jsx(Rt,{style:{width:"100%",height:"100%",display:"flex",flexDirection:"row"},children:e?L.jsxs(L.Fragment,{children:[y&&L.jsx(yQ,{highlights:r,resetHighlights:s}),y&&L.jsx(Np,{sx:{position:"absolute",left:"calc(15% - 10px)",top:"50%",transform:"translateY(-50%)",backgroundColor:"white","&:hover":{backgroundColor:"#f0f0f0"},boxShadow:2,zIndex:1e3,width:"24px",height:"48px",borderRadius:"0 4px 4px 0"},onClick:()=>b(!1),children:L.jsx(Zq,{})}),!y&&L.jsx(Np,{sx:{position:"fixed",left:"0",top:"50%",transform:"translateY(-50%)",backgroundColor:"white","&:hover":{backgroundColor:"#f0f0f0"},boxShadow:2,zIndex:1e3,width:"24px",height:"48px",borderRadius:"0 4px 4px 0"},onClick:()=>b(!0),children:L.jsx(Jq,{})}),L.jsx("div",{style:{height:"100%",width:y?"calc(75%)":"100%",position:"relative"},className:"pdf pdf-container",children:L.jsx(pQ,{document:e,children:_=>{var k;return L.jsx($Y,{enableAreaSelection:N=>N.altKey,pdfDocument:_,utilsRef:N=>{E.current=N},selectionTip:Object.keys(d).length>0?L.jsx(vQ,{addHighlight:i}):null,highlights:r,textSelectionColor:(k=d[c])==null?void 0:k.color,children:L.jsx(gQ,{setSelectedHighlightId:a,readRecords:d,displayedReads:h})})}})})]}):L.jsxs(Rt,{sx:{width:"100%",height:"100%",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},children:[L.jsx("input",{type:"file",accept:"application/pdf",onChange:S,style:{display:"none"},id:"pdf-upload"}),L.jsx("label",{htmlFor:"pdf-upload",children:L.jsx(ts,{className:"upload-pdf",variant:"outlined",component:"span",startIcon:L.jsx(sY,{}),children:"Upload PDF"})})]})})}var KS,sN;function dA(){if(sN)return KS;sN=1;var t="\0",e="\0",n="";class r{constructor(h){Te(this,"_isDirected",!0);Te(this,"_isMultigraph",!1);Te(this,"_isCompound",!1);Te(this,"_label");Te(this,"_defaultNodeLabelFn",()=>{});Te(this,"_defaultEdgeLabelFn",()=>{});Te(this,"_nodes",{});Te(this,"_in",{});Te(this,"_preds",{});Te(this,"_out",{});Te(this,"_sucs",{});Te(this,"_edgeObjs",{});Te(this,"_edgeLabels",{});Te(this,"_nodeCount",0);Te(this,"_edgeCount",0);Te(this,"_parent");Te(this,"_children");h&&(this._isDirected=Object.hasOwn(h,"directed")?h.directed:!0,this._isMultigraph=Object.hasOwn(h,"multigraph")?h.multigraph:!1,this._isCompound=Object.hasOwn(h,"compound")?h.compound:!1),this._isCompound&&(this._parent={},this._children={},this._children[e]={})}isDirected(){return this._isDirected}isMultigraph(){return this._isMultigraph}isCompound(){return this._isCompound}setGraph(h){return this._label=h,this}graph(){return this._label}setDefaultNodeLabel(h){return this._defaultNodeLabelFn=h,typeof h!="function"&&(this._defaultNodeLabelFn=()=>h),this}nodeCount(){return this._nodeCount}nodes(){return Object.keys(this._nodes)}sources(){var h=this;return this.nodes().filter(f=>Object.keys(h._in[f]).length===0)}sinks(){var h=this;return this.nodes().filter(f=>Object.keys(h._out[f]).length===0)}setNodes(h,f){var p=arguments,m=this;return h.forEach(function(y){p.length>1?m.setNode(y,f):m.setNode(y)}),this}setNode(h,f){return Object.hasOwn(this._nodes,h)?(arguments.length>1&&(this._nodes[h]=f),this):(this._nodes[h]=arguments.length>1?f:this._defaultNodeLabelFn(h),this._isCompound&&(this._parent[h]=e,this._children[h]={},this._children[e][h]=!0),this._in[h]={},this._preds[h]={},this._out[h]={},this._sucs[h]={},++this._nodeCount,this)}node(h){return this._nodes[h]}hasNode(h){return Object.hasOwn(this._nodes,h)}removeNode(h){var f=this;if(Object.hasOwn(this._nodes,h)){var p=m=>f.removeEdge(f._edgeObjs[m]);delete this._nodes[h],this._isCompound&&(this._removeFromParentsChildList(h),delete this._parent[h],this.children(h).forEach(function(m){f.setParent(m)}),delete this._children[h]),Object.keys(this._in[h]).forEach(p),delete this._in[h],delete this._preds[h],Object.keys(this._out[h]).forEach(p),delete this._out[h],delete this._sucs[h],--this._nodeCount}return this}setParent(h,f){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(f===void 0)f=e;else{f+="";for(var p=f;p!==void 0;p=this.parent(p))if(p===h)throw new Error("Setting "+f+" as parent of "+h+" would create a cycle");this.setNode(f)}return this.setNode(h),this._removeFromParentsChildList(h),this._parent[h]=f,this._children[f][h]=!0,this}_removeFromParentsChildList(h){delete this._children[this._parent[h]][h]}parent(h){if(this._isCompound){var f=this._parent[h];if(f!==e)return f}}children(h=e){if(this._isCompound){var f=this._children[h];if(f)return Object.keys(f)}else{if(h===e)return this.nodes();if(this.hasNode(h))return[]}}predecessors(h){var f=this._preds[h];if(f)return Object.keys(f)}successors(h){var f=this._sucs[h];if(f)return Object.keys(f)}neighbors(h){var f=this.predecessors(h);if(f){const m=new Set(f);for(var p of this.successors(h))m.add(p);return Array.from(m.values())}}isLeaf(h){var f;return this.isDirected()?f=this.successors(h):f=this.neighbors(h),f.length===0}filterNodes(h){var f=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});f.setGraph(this.graph());var p=this;Object.entries(this._nodes).forEach(function([b,E]){h(b)&&f.setNode(b,E)}),Object.values(this._edgeObjs).forEach(function(b){f.hasNode(b.v)&&f.hasNode(b.w)&&f.setEdge(b,p.edge(b))});var m={};function y(b){var E=p.parent(b);return E===void 0||f.hasNode(E)?(m[b]=E,E):E in m?m[E]:y(E)}return this._isCompound&&f.nodes().forEach(b=>f.setParent(b,y(b))),f}setDefaultEdgeLabel(h){return this._defaultEdgeLabelFn=h,typeof h!="function"&&(this._defaultEdgeLabelFn=()=>h),this}edgeCount(){return this._edgeCount}edges(){return Object.values(this._edgeObjs)}setPath(h,f){var p=this,m=arguments;return h.reduce(function(y,b){return m.length>1?p.setEdge(y,b,f):p.setEdge(y,b),b}),this}setEdge(){var h,f,p,m,y=!1,b=arguments[0];typeof b=="object"&&b!==null&&"v"in b?(h=b.v,f=b.w,p=b.name,arguments.length===2&&(m=arguments[1],y=!0)):(h=b,f=arguments[1],p=arguments[3],arguments.length>2&&(m=arguments[2],y=!0)),h=""+h,f=""+f,p!==void 0&&(p=""+p);var E=o(this._isDirected,h,f,p);if(Object.hasOwn(this._edgeLabels,E))return y&&(this._edgeLabels[E]=m),this;if(p!==void 0&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(h),this.setNode(f),this._edgeLabels[E]=y?m:this._defaultEdgeLabelFn(h,f,p);var x=a(this._isDirected,h,f,p);return h=x.v,f=x.w,Object.freeze(x),this._edgeObjs[E]=x,i(this._preds[f],h),i(this._sucs[h],f),this._in[f][E]=x,this._out[h][E]=x,this._edgeCount++,this}edge(h,f,p){var m=arguments.length===1?c(this._isDirected,arguments[0]):o(this._isDirected,h,f,p);return this._edgeLabels[m]}edgeAsObj(){const h=this.edge(...arguments);return typeof h!="object"?{label:h}:h}hasEdge(h,f,p){var m=arguments.length===1?c(this._isDirected,arguments[0]):o(this._isDirected,h,f,p);return Object.hasOwn(this._edgeLabels,m)}removeEdge(h,f,p){var m=arguments.length===1?c(this._isDirected,arguments[0]):o(this._isDirected,h,f,p),y=this._edgeObjs[m];return y&&(h=y.v,f=y.w,delete this._edgeLabels[m],delete this._edgeObjs[m],s(this._preds[f],h),s(this._sucs[h],f),delete this._in[f][m],delete this._out[h][m],this._edgeCount--),this}inEdges(h,f){var p=this._in[h];if(p){var m=Object.values(p);return f?m.filter(y=>y.v===f):m}}outEdges(h,f){var p=this._out[h];if(p){var m=Object.values(p);return f?m.filter(y=>y.w===f):m}}nodeEdges(h,f){var p=this.inEdges(h,f);if(p)return p.concat(this.outEdges(h,f))}}function i(d,h){d[h]?d[h]++:d[h]=1}function s(d,h){--d[h]||delete d[h]}function o(d,h,f,p){var m=""+h,y=""+f;if(!d&&m>y){var b=m;m=y,y=b}return m+n+y+n+(p===void 0?t:p)}function a(d,h,f,p){var m=""+h,y=""+f;if(!d&&m>y){var b=m;m=y,y=b}var E={v:m,w:y};return p&&(E.name=p),E}function c(d,h){return o(d,h.v,h.w,h.name)}return KS=r,KS}var QS,oN;function wQ(){return oN||(oN=1,QS="2.2.4"),QS}var ZS,aN;function xQ(){return aN||(aN=1,ZS={Graph:dA(),version:wQ()}),ZS}var JS,lN;function SQ(){if(lN)return JS;lN=1;var t=dA();JS={write:e,read:i};function e(s){var o={options:{directed:s.isDirected(),multigraph:s.isMultigraph(),compound:s.isCompound()},nodes:n(s),edges:r(s)};return s.graph()!==void 0&&(o.value=structuredClone(s.graph())),o}function n(s){return s.nodes().map(function(o){var a=s.node(o),c=s.parent(o),d={v:o};return a!==void 0&&(d.value=a),c!==void 0&&(d.parent=c),d})}function r(s){return s.edges().map(function(o){var a=s.edge(o),c={v:o.v,w:o.w};return o.name!==void 0&&(c.name=o.name),a!==void 0&&(c.value=a),c})}function i(s){var o=new t(s.options).setGraph(s.value);return s.nodes.forEach(function(a){o.setNode(a.v,a.value),a.parent&&o.setParent(a.v,a.parent)}),s.edges.forEach(function(a){o.setEdge({v:a.v,w:a.w,name:a.name},a.value)}),o}return JS}var e1,cN;function EQ(){if(cN)return e1;cN=1,e1=t;function t(e){var n={},r=[],i;function s(o){Object.hasOwn(n,o)||(n[o]=!0,i.push(o),e.successors(o).forEach(s),e.predecessors(o).forEach(s))}return e.nodes().forEach(function(o){i=[],s(o),i.length&&r.push(i)}),r}return e1}var t1,uN;function e$(){if(uN)return t1;uN=1;class t{constructor(){Te(this,"_arr",[]);Te(this,"_keyIndices",{})}size(){return this._arr.length}keys(){return this._arr.map(function(n){return n.key})}has(n){return Object.hasOwn(this._keyIndices,n)}priority(n){var r=this._keyIndices[n];if(r!==void 0)return this._arr[r].priority}min(){if(this.size()===0)throw new Error("Queue underflow");return this._arr[0].key}add(n,r){var i=this._keyIndices;if(n=String(n),!Object.hasOwn(i,n)){var s=this._arr,o=s.length;return i[n]=o,s.push({key:n,priority:r}),this._decrease(o),!0}return!1}removeMin(){this._swap(0,this._arr.length-1);var n=this._arr.pop();return delete this._keyIndices[n.key],this._heapify(0),n.key}decrease(n,r){var i=this._keyIndices[n];if(r>this._arr[i].priority)throw new Error("New priority is greater than current priority. Key: "+n+" Old: "+this._arr[i].priority+" New: "+r);this._arr[i].priority=r,this._decrease(i)}_heapify(n){var r=this._arr,i=2*n,s=i+1,o=n;i<r.length&&(o=r[i].priority<r[o].priority?i:o,s<r.length&&(o=r[s].priority<r[o].priority?s:o),o!==n&&(this._swap(n,o),this._heapify(o)))}_decrease(n){for(var r=this._arr,i=r[n].priority,s;n!==0&&(s=n>>1,!(r[s].priority<i));)this._swap(n,s),n=s}_swap(n,r){var i=this._arr,s=this._keyIndices,o=i[n],a=i[r];i[n]=a,i[r]=o,s[a.key]=n,s[o.key]=r}}return t1=t,t1}var n1,dN;function t$(){if(dN)return n1;dN=1;var t=e$();n1=n;var e=()=>1;function n(i,s,o,a){return r(i,String(s),o||e,a||function(c){return i.outEdges(c)})}function r(i,s,o,a){var c={},d=new t,h,f,p=function(m){var y=m.v!==h?m.v:m.w,b=c[y],E=o(m),x=f.distance+E;if(E<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+m+" Weight: "+E);x<b.distance&&(b.distance=x,b.predecessor=h,d.decrease(y,x))};for(i.nodes().forEach(function(m){var y=m===s?0:Number.POSITIVE_INFINITY;c[m]={distance:y},d.add(m,y)});d.size()>0&&(h=d.removeMin(),f=c[h],f.distance!==Number.POSITIVE_INFINITY);)a(h).forEach(p);return c}return n1}var r1,hN;function CQ(){if(hN)return r1;hN=1;var t=t$();r1=e;function e(n,r,i){return n.nodes().reduce(function(s,o){return s[o]=t(n,o,r,i),s},{})}return r1}var i1,fN;function n$(){if(fN)return i1;fN=1,i1=t;function t(e){var n=0,r=[],i={},s=[];function o(a){var c=i[a]={onStack:!0,lowlink:n,index:n++};if(r.push(a),e.successors(a).forEach(function(f){Object.hasOwn(i,f)?i[f].onStack&&(c.lowlink=Math.min(c.lowlink,i[f].index)):(o(f),c.lowlink=Math.min(c.lowlink,i[f].lowlink))}),c.lowlink===c.index){var d=[],h;do h=r.pop(),i[h].onStack=!1,d.push(h);while(a!==h);s.push(d)}}return e.nodes().forEach(function(a){Object.hasOwn(i,a)||o(a)}),s}return i1}var s1,pN;function _Q(){if(pN)return s1;pN=1;var t=n$();s1=e;function e(n){return t(n).filter(function(r){return r.length>1||r.length===1&&n.hasEdge(r[0],r[0])})}return s1}var o1,gN;function AQ(){if(gN)return o1;gN=1,o1=e;var t=()=>1;function e(r,i,s){return n(r,i||t,s||function(o){return r.outEdges(o)})}function n(r,i,s){var o={},a=r.nodes();return a.forEach(function(c){o[c]={},o[c][c]={distance:0},a.forEach(function(d){c!==d&&(o[c][d]={distance:Number.POSITIVE_INFINITY})}),s(c).forEach(function(d){var h=d.v===c?d.w:d.v,f=i(d);o[c][h]={distance:f,predecessor:c}})}),a.forEach(function(c){var d=o[c];a.forEach(function(h){var f=o[h];a.forEach(function(p){var m=f[c],y=d[p],b=f[p],E=m.distance+y.distance;E<b.distance&&(b.distance=E,b.predecessor=y.predecessor)})})}),o}return o1}var a1,mN;function r$(){if(mN)return a1;mN=1;function t(n){var r={},i={},s=[];function o(a){if(Object.hasOwn(i,a))throw new e;Object.hasOwn(r,a)||(i[a]=!0,r[a]=!0,n.predecessors(a).forEach(o),delete i[a],s.push(a))}if(n.sinks().forEach(o),Object.keys(r).length!==n.nodeCount())throw new e;return s}class e extends Error{constructor(){super(...arguments)}}return a1=t,t.CycleException=e,a1}var l1,yN;function kQ(){if(yN)return l1;yN=1;var t=r$();l1=e;function e(n){try{t(n)}catch(r){if(r instanceof t.CycleException)return!1;throw r}return!0}return l1}var c1,vN;function i$(){if(vN)return c1;vN=1,c1=t;function t(i,s,o){Array.isArray(s)||(s=[s]);var a=i.isDirected()?f=>i.successors(f):f=>i.neighbors(f),c=o==="post"?e:n,d=[],h={};return s.forEach(f=>{if(!i.hasNode(f))throw new Error("Graph does not have node: "+f);c(f,a,h,d)}),d}function e(i,s,o,a){for(var c=[[i,!1]];c.length>0;){var d=c.pop();d[1]?a.push(d[0]):Object.hasOwn(o,d[0])||(o[d[0]]=!0,c.push([d[0],!0]),r(s(d[0]),h=>c.push([h,!1])))}}function n(i,s,o,a){for(var c=[i];c.length>0;){var d=c.pop();Object.hasOwn(o,d)||(o[d]=!0,a.push(d),r(s(d),h=>c.push(h)))}}function r(i,s){for(var o=i.length;o--;)s(i[o],o,i);return i}return c1}var u1,bN;function RQ(){if(bN)return u1;bN=1;var t=i$();u1=e;function e(n,r){return t(n,r,"post")}return u1}var d1,wN;function TQ(){if(wN)return d1;wN=1;var t=i$();d1=e;function e(n,r){return t(n,r,"pre")}return d1}var h1,xN;function PQ(){if(xN)return h1;xN=1;var t=dA(),e=e$();h1=n;function n(r,i){var s=new t,o={},a=new e,c;function d(f){var p=f.v===c?f.w:f.v,m=a.priority(p);if(m!==void 0){var y=i(f);y<m&&(o[p]=c,a.decrease(p,y))}}if(r.nodeCount()===0)return s;r.nodes().forEach(function(f){a.add(f,Number.POSITIVE_INFINITY),s.setNode(f)}),a.decrease(r.nodes()[0],0);for(var h=!1;a.size()>0;){if(c=a.removeMin(),Object.hasOwn(o,c))s.setEdge(c,o[c]);else{if(h)throw new Error("Input graph is not connected: "+r);h=!0}r.nodeEdges(c).forEach(d)}return s}return h1}var f1,SN;function IQ(){return SN||(SN=1,f1={components:EQ(),dijkstra:t$(),dijkstraAll:CQ(),findCycles:_Q(),floydWarshall:AQ(),isAcyclic:kQ(),postorder:RQ(),preorder:TQ(),prim:PQ(),tarjan:n$(),topsort:r$()}),f1}var p1,EN;function ss(){if(EN)return p1;EN=1;var t=xQ();return p1={Graph:t.Graph,json:SQ(),alg:IQ(),version:t.version},p1}var g1,CN;function NQ(){if(CN)return g1;CN=1;class t{constructor(){let i={};i._next=i._prev=i,this._sentinel=i}dequeue(){let i=this._sentinel,s=i._prev;if(s!==i)return e(s),s}enqueue(i){let s=this._sentinel;i._prev&&i._next&&e(i),i._next=s._next,s._next._prev=i,s._next=i,i._prev=s}toString(){let i=[],s=this._sentinel,o=s._prev;for(;o!==s;)i.push(JSON.stringify(o,n)),o=o._prev;return"["+i.join(", ")+"]"}}function e(r){r._prev._next=r._next,r._next._prev=r._prev,delete r._next,delete r._prev}function n(r,i){if(r!=="_next"&&r!=="_prev")return i}return g1=t,g1}var m1,_N;function MQ(){if(_N)return m1;_N=1;let t=ss().Graph,e=NQ();m1=r;let n=()=>1;function r(d,h){if(d.nodeCount()<=1)return[];let f=o(d,h||n);return i(f.graph,f.buckets,f.zeroIdx).flatMap(m=>d.outEdges(m.v,m.w))}function i(d,h,f){let p=[],m=h[h.length-1],y=h[0],b;for(;d.nodeCount();){for(;b=y.dequeue();)s(d,h,f,b);for(;b=m.dequeue();)s(d,h,f,b);if(d.nodeCount()){for(let E=h.length-2;E>0;--E)if(b=h[E].dequeue(),b){p=p.concat(s(d,h,f,b,!0));break}}}return p}function s(d,h,f,p,m){let y=m?[]:void 0;return d.inEdges(p.v).forEach(b=>{let E=d.edge(b),x=d.node(b.v);m&&y.push({v:b.v,w:b.w}),x.out-=E,a(h,f,x)}),d.outEdges(p.v).forEach(b=>{let E=d.edge(b),x=b.w,C=d.node(x);C.in-=E,a(h,f,C)}),d.removeNode(p.v),y}function o(d,h){let f=new t,p=0,m=0;d.nodes().forEach(E=>{f.setNode(E,{v:E,in:0,out:0})}),d.edges().forEach(E=>{let x=f.edge(E.v,E.w)||0,C=h(E),S=x+C;f.setEdge(E.v,E.w,S),m=Math.max(m,f.node(E.v).out+=C),p=Math.max(p,f.node(E.w).in+=C)});let y=c(m+p+3).map(()=>new e),b=p+1;return f.nodes().forEach(E=>{a(y,b,f.node(E))}),{graph:f,buckets:y,zeroIdx:b}}function a(d,h,f){f.out?f.in?d[f.out-f.in+h].enqueue(f):d[d.length-1].enqueue(f):d[0].enqueue(f)}function c(d){const h=[];for(let f=0;f<d;f++)h.push(f);return h}return m1}var y1,AN;function yn(){if(AN)return y1;AN=1;let t=ss().Graph;y1={addBorderNode:h,addDummyNode:e,applyWithChunking:m,asNonCompoundGraph:r,buildLayerMatrix:a,intersectRect:o,mapValues:N,maxRank:y,normalizeRanks:c,notime:x,partition:b,pick:k,predecessorWeights:s,range:_,removeEmptyRanks:d,simplify:n,successorWeights:i,time:E,uniqueId:S,zipObject:T};function e(M,O,R,F){let z;do z=S(F);while(M.hasNode(z));return R.dummy=O,M.setNode(z,R),z}function n(M){let O=new t().setGraph(M.graph());return M.nodes().forEach(R=>O.setNode(R,M.node(R))),M.edges().forEach(R=>{let F=O.edge(R.v,R.w)||{weight:0,minlen:1},z=M.edge(R);O.setEdge(R.v,R.w,{weight:F.weight+z.weight,minlen:Math.max(F.minlen,z.minlen)})}),O}function r(M){let O=new t({multigraph:M.isMultigraph()}).setGraph(M.graph());return M.nodes().forEach(R=>{M.children(R).length||O.setNode(R,M.node(R))}),M.edges().forEach(R=>{O.setEdge(R,M.edge(R))}),O}function i(M){let O=M.nodes().map(R=>{let F={};return M.outEdges(R).forEach(z=>{F[z.w]=(F[z.w]||0)+M.edge(z).weight}),F});return T(M.nodes(),O)}function s(M){let O=M.nodes().map(R=>{let F={};return M.inEdges(R).forEach(z=>{F[z.v]=(F[z.v]||0)+M.edge(z).weight}),F});return T(M.nodes(),O)}function o(M,O){let R=M.x,F=M.y,z=O.x-R,U=O.y-F,D=M.width/2,V=M.height/2;if(!z&&!U)throw new Error("Not possible to find intersection inside of the rectangle");let H,K;return Math.abs(U)*D>Math.abs(z)*V?(U<0&&(V=-V),H=V*z/U,K=V):(z<0&&(D=-D),H=D,K=D*U/z),{x:R+H,y:F+K}}function a(M){let O=_(y(M)+1).map(()=>[]);return M.nodes().forEach(R=>{let F=M.node(R),z=F.rank;z!==void 0&&(O[z][F.order]=R)}),O}function c(M){let O=M.nodes().map(F=>{let z=M.node(F).rank;return z===void 0?Number.MAX_VALUE:z}),R=m(Math.min,O);M.nodes().forEach(F=>{let z=M.node(F);Object.hasOwn(z,"rank")&&(z.rank-=R)})}function d(M){let O=M.nodes().map(D=>M.node(D).rank),R=m(Math.min,O),F=[];M.nodes().forEach(D=>{let V=M.node(D).rank-R;F[V]||(F[V]=[]),F[V].push(D)});let z=0,U=M.graph().nodeRankFactor;Array.from(F).forEach((D,V)=>{D===void 0&&V%U!==0?--z:D!==void 0&&z&&D.forEach(H=>M.node(H).rank+=z)})}function h(M,O,R,F){let z={width:0,height:0};return arguments.length>=4&&(z.rank=R,z.order=F),e(M,"border",z,O)}function f(M,O=p){const R=[];for(let F=0;F<M.length;F+=O){const z=M.slice(F,F+O);R.push(z)}return R}const p=65535;function m(M,O){if(O.length>p){const R=f(O);return M.apply(null,R.map(F=>M.apply(null,F)))}else return M.apply(null,O)}function y(M){const R=M.nodes().map(F=>{let z=M.node(F).rank;return z===void 0?Number.MIN_VALUE:z});return m(Math.max,R)}function b(M,O){let R={lhs:[],rhs:[]};return M.forEach(F=>{O(F)?R.lhs.push(F):R.rhs.push(F)}),R}function E(M,O){let R=Date.now();try{return O()}finally{console.log(M+" time: "+(Date.now()-R)+"ms")}}function x(M,O){return O()}let C=0;function S(M){var O=++C;return toString(M)+O}function _(M,O,R=1){O==null&&(O=M,M=0);let F=U=>U<O;R<0&&(F=U=>O<U);const z=[];for(let U=M;F(U);U+=R)z.push(U);return z}function k(M,O){const R={};for(const F of O)M[F]!==void 0&&(R[F]=M[F]);return R}function N(M,O){let R=O;return typeof O=="string"&&(R=F=>F[O]),Object.entries(M).reduce((F,[z,U])=>(F[z]=R(U,z),F),{})}function T(M,O){return M.reduce((R,F,z)=>(R[F]=O[z],R),{})}return y1}var v1,kN;function OQ(){if(kN)return v1;kN=1;let t=MQ(),e=yn().uniqueId;v1={run:n,undo:i};function n(s){(s.graph().acyclicer==="greedy"?t(s,a(s)):r(s)).forEach(c=>{let d=s.edge(c);s.removeEdge(c),d.forwardName=c.name,d.reversed=!0,s.setEdge(c.w,c.v,d,e("rev"))});function a(c){return d=>c.edge(d).weight}}function r(s){let o=[],a={},c={};function d(h){Object.hasOwn(c,h)||(c[h]=!0,a[h]=!0,s.outEdges(h).forEach(f=>{Object.hasOwn(a,f.w)?o.push(f):d(f.w)}),delete a[h])}return s.nodes().forEach(d),o}function i(s){s.edges().forEach(o=>{let a=s.edge(o);if(a.reversed){s.removeEdge(o);let c=a.forwardName;delete a.reversed,delete a.forwardName,s.setEdge(o.w,o.v,a,c)}})}return v1}var b1,RN;function LQ(){if(RN)return b1;RN=1;let t=yn();b1={run:e,undo:r};function e(i){i.graph().dummyChains=[],i.edges().forEach(s=>n(i,s))}function n(i,s){let o=s.v,a=i.node(o).rank,c=s.w,d=i.node(c).rank,h=s.name,f=i.edge(s),p=f.labelRank;if(d===a+1)return;i.removeEdge(s);let m,y,b;for(b=0,++a;a<d;++b,++a)f.points=[],y={width:0,height:0,edgeLabel:f,edgeObj:s,rank:a},m=t.addDummyNode(i,"edge",y,"_d"),a===p&&(y.width=f.width,y.height=f.height,y.dummy="edge-label",y.labelpos=f.labelpos),i.setEdge(o,m,{weight:f.weight},h),b===0&&i.graph().dummyChains.push(m),o=m;i.setEdge(o,c,{weight:f.weight},h)}function r(i){i.graph().dummyChains.forEach(s=>{let o=i.node(s),a=o.edgeLabel,c;for(i.setEdge(o.edgeObj,a);o.dummy;)c=i.successors(s)[0],i.removeNode(s),a.points.push({x:o.x,y:o.y}),o.dummy==="edge-label"&&(a.x=o.x,a.y=o.y,a.width=o.width,a.height=o.height),s=c,o=i.node(s)})}return b1}var w1,TN;function G0(){if(TN)return w1;TN=1;const{applyWithChunking:t}=yn();w1={longestPath:e,slack:n};function e(r){var i={};function s(o){var a=r.node(o);if(Object.hasOwn(i,o))return a.rank;i[o]=!0;let c=r.outEdges(o).map(h=>h==null?Number.POSITIVE_INFINITY:s(h.w)-r.edge(h).minlen);var d=t(Math.min,c);return d===Number.POSITIVE_INFINITY&&(d=0),a.rank=d}r.sources().forEach(s)}function n(r,i){return r.node(i.w).rank-r.node(i.v).rank-r.edge(i).minlen}return w1}var x1,PN;function s$(){if(PN)return x1;PN=1;var t=ss().Graph,e=G0().slack;x1=n;function n(o){var a=new t({directed:!1}),c=o.nodes()[0],d=o.nodeCount();a.setNode(c,{});for(var h,f;r(a,o)<d;)h=i(a,o),f=a.hasNode(h.v)?e(o,h):-e(o,h),s(a,o,f);return a}function r(o,a){function c(d){a.nodeEdges(d).forEach(h=>{var f=h.v,p=d===f?h.w:f;!o.hasNode(p)&&!e(a,h)&&(o.setNode(p,{}),o.setEdge(d,p,{}),c(p))})}return o.nodes().forEach(c),o.nodeCount()}function i(o,a){return a.edges().reduce((d,h)=>{let f=Number.POSITIVE_INFINITY;return o.hasNode(h.v)!==o.hasNode(h.w)&&(f=e(a,h)),f<d[0]?[f,h]:d},[Number.POSITIVE_INFINITY,null])[1]}function s(o,a,c){o.nodes().forEach(d=>a.node(d).rank+=c)}return x1}var S1,IN;function DQ(){if(IN)return S1;IN=1;var t=s$(),e=G0().slack,n=G0().longestPath,r=ss().alg.preorder,i=ss().alg.postorder,s=yn().simplify;S1=o,o.initLowLimValues=h,o.initCutValues=a,o.calcCutValue=d,o.leaveEdge=p,o.enterEdge=m,o.exchangeEdges=y;function o(C){C=s(C),n(C);var S=t(C);h(S),a(S,C);for(var _,k;_=p(S);)k=m(S,C,_),y(S,C,_,k)}function a(C,S){var _=i(C,C.nodes());_=_.slice(0,_.length-1),_.forEach(k=>c(C,S,k))}function c(C,S,_){var k=C.node(_),N=k.parent;C.edge(_,N).cutvalue=d(C,S,_)}function d(C,S,_){var k=C.node(_),N=k.parent,T=!0,M=S.edge(_,N),O=0;return M||(T=!1,M=S.edge(N,_)),O=M.weight,S.nodeEdges(_).forEach(R=>{var F=R.v===_,z=F?R.w:R.v;if(z!==N){var U=F===T,D=S.edge(R).weight;if(O+=U?D:-D,E(C,_,z)){var V=C.edge(_,z).cutvalue;O+=U?-V:V}}}),O}function h(C,S){arguments.length<2&&(S=C.nodes()[0]),f(C,{},1,S)}function f(C,S,_,k,N){var T=_,M=C.node(k);return S[k]=!0,C.neighbors(k).forEach(O=>{Object.hasOwn(S,O)||(_=f(C,S,_,O,k))}),M.low=T,M.lim=_++,N?M.parent=N:delete M.parent,_}function p(C){return C.edges().find(S=>C.edge(S).cutvalue<0)}function m(C,S,_){var k=_.v,N=_.w;S.hasEdge(k,N)||(k=_.w,N=_.v);var T=C.node(k),M=C.node(N),O=T,R=!1;T.lim>M.lim&&(O=M,R=!0);var F=S.edges().filter(z=>R===x(C,C.node(z.v),O)&&R!==x(C,C.node(z.w),O));return F.reduce((z,U)=>e(S,U)<e(S,z)?U:z)}function y(C,S,_,k){var N=_.v,T=_.w;C.removeEdge(N,T),C.setEdge(k.v,k.w,{}),h(C),a(C,S),b(C,S)}function b(C,S){var _=C.nodes().find(N=>!S.node(N).parent),k=r(C,_);k=k.slice(1),k.forEach(N=>{var T=C.node(N).parent,M=S.edge(N,T),O=!1;M||(M=S.edge(T,N),O=!0),S.node(N).rank=S.node(T).rank+(O?M.minlen:-M.minlen)})}function E(C,S,_){return C.hasEdge(S,_)}function x(C,S,_){return _.low<=S.lim&&S.lim<=_.lim}return S1}var E1,NN;function FQ(){if(NN)return E1;NN=1;var t=G0(),e=t.longestPath,n=s$(),r=DQ();E1=i;function i(c){switch(c.graph().ranker){case"network-simplex":a(c);break;case"tight-tree":o(c);break;case"longest-path":s(c);break;default:a(c)}}var s=e;function o(c){e(c),n(c)}function a(c){r(c)}return E1}var C1,MN;function $Q(){if(MN)return C1;MN=1,C1=t;function t(r){let i=n(r);r.graph().dummyChains.forEach(s=>{let o=r.node(s),a=o.edgeObj,c=e(r,i,a.v,a.w),d=c.path,h=c.lca,f=0,p=d[f],m=!0;for(;s!==a.w;){if(o=r.node(s),m){for(;(p=d[f])!==h&&r.node(p).maxRank<o.rank;)f++;p===h&&(m=!1)}if(!m){for(;f<d.length-1&&r.node(p=d[f+1]).minRank<=o.rank;)f++;p=d[f]}r.setParent(s,p),s=r.successors(s)[0]}})}function e(r,i,s,o){let a=[],c=[],d=Math.min(i[s].low,i[o].low),h=Math.max(i[s].lim,i[o].lim),f,p;f=s;do f=r.parent(f),a.push(f);while(f&&(i[f].low>d||h>i[f].lim));for(p=f,f=o;(f=r.parent(f))!==p;)c.push(f);return{path:a.concat(c.reverse()),lca:p}}function n(r){let i={},s=0;function o(a){let c=s;r.children(a).forEach(o),i[a]={low:c,lim:s++}}return r.children().forEach(o),i}return C1}var _1,ON;function zQ(){if(ON)return _1;ON=1;let t=yn();_1={run:e,cleanup:s};function e(o){let a=t.addDummyNode(o,"root",{},"_root"),c=r(o),d=Object.values(c),h=t.applyWithChunking(Math.max,d)-1,f=2*h+1;o.graph().nestingRoot=a,o.edges().forEach(m=>o.edge(m).minlen*=f);let p=i(o)+1;o.children().forEach(m=>n(o,a,f,p,h,c,m)),o.graph().nodeRankFactor=f}function n(o,a,c,d,h,f,p){let m=o.children(p);if(!m.length){p!==a&&o.setEdge(a,p,{weight:0,minlen:c});return}let y=t.addBorderNode(o,"_bt"),b=t.addBorderNode(o,"_bb"),E=o.node(p);o.setParent(y,p),E.borderTop=y,o.setParent(b,p),E.borderBottom=b,m.forEach(x=>{n(o,a,c,d,h,f,x);let C=o.node(x),S=C.borderTop?C.borderTop:x,_=C.borderBottom?C.borderBottom:x,k=C.borderTop?d:2*d,N=S!==_?1:h-f[p]+1;o.setEdge(y,S,{weight:k,minlen:N,nestingEdge:!0}),o.setEdge(_,b,{weight:k,minlen:N,nestingEdge:!0})}),o.parent(p)||o.setEdge(a,y,{weight:0,minlen:h+f[p]})}function r(o){var a={};function c(d,h){var f=o.children(d);f&&f.length&&f.forEach(p=>c(p,h+1)),a[d]=h}return o.children().forEach(d=>c(d,1)),a}function i(o){return o.edges().reduce((a,c)=>a+o.edge(c).weight,0)}function s(o){var a=o.graph();o.removeNode(a.nestingRoot),delete a.nestingRoot,o.edges().forEach(c=>{var d=o.edge(c);d.nestingEdge&&o.removeEdge(c)})}return _1}var A1,LN;function jQ(){if(LN)return A1;LN=1;let t=yn();A1=e;function e(r){function i(s){let o=r.children(s),a=r.node(s);if(o.length&&o.forEach(i),Object.hasOwn(a,"minRank")){a.borderLeft=[],a.borderRight=[];for(let c=a.minRank,d=a.maxRank+1;c<d;++c)n(r,"borderLeft","_bl",s,a,c),n(r,"borderRight","_br",s,a,c)}}r.children().forEach(i)}function n(r,i,s,o,a,c){let d={width:0,height:0,rank:c,borderType:i},h=a[i][c-1],f=t.addDummyNode(r,"border",d,s);a[i][c]=f,r.setParent(f,o),h&&r.setEdge(h,f,{weight:1})}return A1}var k1,DN;function BQ(){if(DN)return k1;DN=1,k1={adjust:t,undo:e};function t(c){let d=c.graph().rankdir.toLowerCase();(d==="lr"||d==="rl")&&n(c)}function e(c){let d=c.graph().rankdir.toLowerCase();(d==="bt"||d==="rl")&&i(c),(d==="lr"||d==="rl")&&(o(c),n(c))}function n(c){c.nodes().forEach(d=>r(c.node(d))),c.edges().forEach(d=>r(c.edge(d)))}function r(c){let d=c.width;c.width=c.height,c.height=d}function i(c){c.nodes().forEach(d=>s(c.node(d))),c.edges().forEach(d=>{let h=c.edge(d);h.points.forEach(s),Object.hasOwn(h,"y")&&s(h)})}function s(c){c.y=-c.y}function o(c){c.nodes().forEach(d=>a(c.node(d))),c.edges().forEach(d=>{let h=c.edge(d);h.points.forEach(a),Object.hasOwn(h,"x")&&a(h)})}function a(c){let d=c.x;c.x=c.y,c.y=d}return k1}var R1,FN;function HQ(){if(FN)return R1;FN=1;let t=yn();R1=e;function e(n){let r={},i=n.nodes().filter(h=>!n.children(h).length),s=i.map(h=>n.node(h).rank),o=t.applyWithChunking(Math.max,s),a=t.range(o+1).map(()=>[]);function c(h){if(r[h])return;r[h]=!0;let f=n.node(h);a[f.rank].push(h),n.successors(h).forEach(c)}return i.sort((h,f)=>n.node(h).rank-n.node(f).rank).forEach(c),a}return R1}var T1,$N;function WQ(){if($N)return T1;$N=1;let t=yn().zipObject;T1=e;function e(r,i){let s=0;for(let o=1;o<i.length;++o)s+=n(r,i[o-1],i[o]);return s}function n(r,i,s){let o=t(s,s.map((p,m)=>m)),a=i.flatMap(p=>r.outEdges(p).map(m=>({pos:o[m.w],weight:r.edge(m).weight})).sort((m,y)=>m.pos-y.pos)),c=1;for(;c<s.length;)c<<=1;let d=2*c-1;c-=1;let h=new Array(d).fill(0),f=0;return a.forEach(p=>{let m=p.pos+c;h[m]+=p.weight;let y=0;for(;m>0;)m%2&&(y+=h[m+1]),m=m-1>>1,h[m]+=p.weight;f+=p.weight*y}),f}return T1}var P1,zN;function UQ(){if(zN)return P1;zN=1,P1=t;function t(e,n=[]){return n.map(r=>{let i=e.inEdges(r);if(i.length){let s=i.reduce((o,a)=>{let c=e.edge(a),d=e.node(a.v);return{sum:o.sum+c.weight*d.order,weight:o.weight+c.weight}},{sum:0,weight:0});return{v:r,barycenter:s.sum/s.weight,weight:s.weight}}else return{v:r}})}return P1}var I1,jN;function VQ(){if(jN)return I1;jN=1;let t=yn();I1=e;function e(i,s){let o={};i.forEach((c,d)=>{let h=o[c.v]={indegree:0,in:[],out:[],vs:[c.v],i:d};c.barycenter!==void 0&&(h.barycenter=c.barycenter,h.weight=c.weight)}),s.edges().forEach(c=>{let d=o[c.v],h=o[c.w];d!==void 0&&h!==void 0&&(h.indegree++,d.out.push(o[c.w]))});let a=Object.values(o).filter(c=>!c.indegree);return n(a)}function n(i){let s=[];function o(c){return d=>{d.merged||(d.barycenter===void 0||c.barycenter===void 0||d.barycenter>=c.barycenter)&&r(c,d)}}function a(c){return d=>{d.in.push(c),--d.indegree===0&&i.push(d)}}for(;i.length;){let c=i.pop();s.push(c),c.in.reverse().forEach(o(c)),c.out.forEach(a(c))}return s.filter(c=>!c.merged).map(c=>t.pick(c,["vs","i","barycenter","weight"]))}function r(i,s){let o=0,a=0;i.weight&&(o+=i.barycenter*i.weight,a+=i.weight),s.weight&&(o+=s.barycenter*s.weight,a+=s.weight),i.vs=s.vs.concat(i.vs),i.barycenter=o/a,i.weight=a,i.i=Math.min(s.i,i.i),s.merged=!0}return I1}var N1,BN;function GQ(){if(BN)return N1;BN=1;let t=yn();N1=e;function e(i,s){let o=t.partition(i,y=>Object.hasOwn(y,"barycenter")),a=o.lhs,c=o.rhs.sort((y,b)=>b.i-y.i),d=[],h=0,f=0,p=0;a.sort(r(!!s)),p=n(d,c,p),a.forEach(y=>{p+=y.vs.length,d.push(y.vs),h+=y.barycenter*y.weight,f+=y.weight,p=n(d,c,p)});let m={vs:d.flat(!0)};return f&&(m.barycenter=h/f,m.weight=f),m}function n(i,s,o){let a;for(;s.length&&(a=s[s.length-1]).i<=o;)s.pop(),i.push(a.vs),o++;return o}function r(i){return(s,o)=>s.barycenter<o.barycenter?-1:s.barycenter>o.barycenter?1:i?o.i-s.i:s.i-o.i}return N1}var M1,HN;function qQ(){if(HN)return M1;HN=1;let t=UQ(),e=VQ(),n=GQ();M1=r;function r(o,a,c,d){let h=o.children(a),f=o.node(a),p=f?f.borderLeft:void 0,m=f?f.borderRight:void 0,y={};p&&(h=h.filter(C=>C!==p&&C!==m));let b=t(o,h);b.forEach(C=>{if(o.children(C.v).length){let S=r(o,C.v,c,d);y[C.v]=S,Object.hasOwn(S,"barycenter")&&s(C,S)}});let E=e(b,c);i(E,y);let x=n(E,d);if(p&&(x.vs=[p,x.vs,m].flat(!0),o.predecessors(p).length)){let C=o.node(o.predecessors(p)[0]),S=o.node(o.predecessors(m)[0]);Object.hasOwn(x,"barycenter")||(x.barycenter=0,x.weight=0),x.barycenter=(x.barycenter*x.weight+C.order+S.order)/(x.weight+2),x.weight+=2}return x}function i(o,a){o.forEach(c=>{c.vs=c.vs.flatMap(d=>a[d]?a[d].vs:d)})}function s(o,a){o.barycenter!==void 0?(o.barycenter=(o.barycenter*o.weight+a.barycenter*a.weight)/(o.weight+a.weight),o.weight+=a.weight):(o.barycenter=a.barycenter,o.weight=a.weight)}return M1}var O1,WN;function YQ(){if(WN)return O1;WN=1;let t=ss().Graph,e=yn();O1=n;function n(i,s,o){let a=r(i),c=new t({compound:!0}).setGraph({root:a}).setDefaultNodeLabel(d=>i.node(d));return i.nodes().forEach(d=>{let h=i.node(d),f=i.parent(d);(h.rank===s||h.minRank<=s&&s<=h.maxRank)&&(c.setNode(d),c.setParent(d,f||a),i[o](d).forEach(p=>{let m=p.v===d?p.w:p.v,y=c.edge(m,d),b=y!==void 0?y.weight:0;c.setEdge(m,d,{weight:i.edge(p).weight+b})}),Object.hasOwn(h,"minRank")&&c.setNode(d,{borderLeft:h.borderLeft[s],borderRight:h.borderRight[s]}))}),c}function r(i){for(var s;i.hasNode(s=e.uniqueId("_root")););return s}return O1}var L1,UN;function XQ(){if(UN)return L1;UN=1,L1=t;function t(e,n,r){let i={},s;r.forEach(o=>{let a=e.parent(o),c,d;for(;a;){if(c=e.parent(a),c?(d=i[c],i[c]=a):(d=s,s=a),d&&d!==a){n.setEdge(d,a);return}a=c}})}return L1}var D1,VN;function KQ(){if(VN)return D1;VN=1;let t=HQ(),e=WQ(),n=qQ(),r=YQ(),i=XQ(),s=ss().Graph,o=yn();D1=a;function a(f,p){if(p&&typeof p.customOrder=="function"){p.customOrder(f,a);return}let m=o.maxRank(f),y=c(f,o.range(1,m+1),"inEdges"),b=c(f,o.range(m-1,-1,-1),"outEdges"),E=t(f);if(h(f,E),p&&p.disableOptimalOrderHeuristic)return;let x=Number.POSITIVE_INFINITY,C;for(let S=0,_=0;_<4;++S,++_){d(S%2?y:b,S%4>=2),E=o.buildLayerMatrix(f);let k=e(f,E);k<x&&(_=0,C=Object.assign({},E),x=k)}h(f,C)}function c(f,p,m){return p.map(function(y){return r(f,y,m)})}function d(f,p){let m=new s;f.forEach(function(y){let b=y.graph().root,E=n(y,b,m,p);E.vs.forEach((x,C)=>y.node(x).order=C),i(y,m,E.vs)})}function h(f,p){Object.values(p).forEach(m=>m.forEach((y,b)=>f.node(y).order=b))}return D1}var F1,GN;function QQ(){if(GN)return F1;GN=1;let t=ss().Graph,e=yn();F1={positionX:m,findType1Conflicts:n,findType2Conflicts:r,addConflict:s,hasConflict:o,verticalAlignment:a,horizontalCompaction:c,alignCoordinates:f,findSmallestWidthAlignment:h,balance:p};function n(E,x){let C={};function S(_,k){let N=0,T=0,M=_.length,O=k[k.length-1];return k.forEach((R,F)=>{let z=i(E,R),U=z?E.node(z).order:M;(z||R===O)&&(k.slice(T,F+1).forEach(D=>{E.predecessors(D).forEach(V=>{let H=E.node(V),K=H.order;(K<N||U<K)&&!(H.dummy&&E.node(D).dummy)&&s(C,V,D)})}),T=F+1,N=U)}),k}return x.length&&x.reduce(S),C}function r(E,x){let C={};function S(k,N,T,M,O){let R;e.range(N,T).forEach(F=>{R=k[F],E.node(R).dummy&&E.predecessors(R).forEach(z=>{let U=E.node(z);U.dummy&&(U.order<M||U.order>O)&&s(C,z,R)})})}function _(k,N){let T=-1,M,O=0;return N.forEach((R,F)=>{if(E.node(R).dummy==="border"){let z=E.predecessors(R);z.length&&(M=E.node(z[0]).order,S(N,O,F,T,M),O=F,T=M)}S(N,O,N.length,M,k.length)}),N}return x.length&&x.reduce(_),C}function i(E,x){if(E.node(x).dummy)return E.predecessors(x).find(C=>E.node(C).dummy)}function s(E,x,C){if(x>C){let _=x;x=C,C=_}let S=E[x];S||(E[x]=S={}),S[C]=!0}function o(E,x,C){if(x>C){let S=x;x=C,C=S}return!!E[x]&&Object.hasOwn(E[x],C)}function a(E,x,C,S){let _={},k={},N={};return x.forEach(T=>{T.forEach((M,O)=>{_[M]=M,k[M]=M,N[M]=O})}),x.forEach(T=>{let M=-1;T.forEach(O=>{let R=S(O);if(R.length){R=R.sort((z,U)=>N[z]-N[U]);let F=(R.length-1)/2;for(let z=Math.floor(F),U=Math.ceil(F);z<=U;++z){let D=R[z];k[O]===O&&M<N[D]&&!o(C,O,D)&&(k[D]=O,k[O]=_[O]=_[D],M=N[D])}}})}),{root:_,align:k}}function c(E,x,C,S,_){let k={},N=d(E,x,C,_),T=_?"borderLeft":"borderRight";function M(F,z){let U=N.nodes(),D=U.pop(),V={};for(;D;)V[D]?F(D):(V[D]=!0,U.push(D),U=U.concat(z(D))),D=U.pop()}function O(F){k[F]=N.inEdges(F).reduce((z,U)=>Math.max(z,k[U.v]+N.edge(U)),0)}function R(F){let z=N.outEdges(F).reduce((D,V)=>Math.min(D,k[V.w]-N.edge(V)),Number.POSITIVE_INFINITY),U=E.node(F);z!==Number.POSITIVE_INFINITY&&U.borderType!==T&&(k[F]=Math.max(k[F],z))}return M(O,N.predecessors.bind(N)),M(R,N.successors.bind(N)),Object.keys(S).forEach(F=>k[F]=k[C[F]]),k}function d(E,x,C,S){let _=new t,k=E.graph(),N=y(k.nodesep,k.edgesep,S);return x.forEach(T=>{let M;T.forEach(O=>{let R=C[O];if(_.setNode(R),M){var F=C[M],z=_.edge(F,R);_.setEdge(F,R,Math.max(N(E,O,M),z||0))}M=O})}),_}function h(E,x){return Object.values(x).reduce((C,S)=>{let _=Number.NEGATIVE_INFINITY,k=Number.POSITIVE_INFINITY;Object.entries(S).forEach(([T,M])=>{let O=b(E,T)/2;_=Math.max(M+O,_),k=Math.min(M-O,k)});const N=_-k;return N<C[0]&&(C=[N,S]),C},[Number.POSITIVE_INFINITY,null])[1]}function f(E,x){let C=Object.values(x),S=e.applyWithChunking(Math.min,C),_=e.applyWithChunking(Math.max,C);["u","d"].forEach(k=>{["l","r"].forEach(N=>{let T=k+N,M=E[T];if(M===x)return;let O=Object.values(M),R=S-e.applyWithChunking(Math.min,O);N!=="l"&&(R=_-e.applyWithChunking(Math.max,O)),R&&(E[T]=e.mapValues(M,F=>F+R))})})}function p(E,x){return e.mapValues(E.ul,(C,S)=>{if(x)return E[x.toLowerCase()][S];{let _=Object.values(E).map(k=>k[S]).sort((k,N)=>k-N);return(_[1]+_[2])/2}})}function m(E){let x=e.buildLayerMatrix(E),C=Object.assign(n(E,x),r(E,x)),S={},_;["u","d"].forEach(N=>{_=N==="u"?x:Object.values(x).reverse(),["l","r"].forEach(T=>{T==="r"&&(_=_.map(F=>Object.values(F).reverse()));let M=(N==="u"?E.predecessors:E.successors).bind(E),O=a(E,_,C,M),R=c(E,_,O.root,O.align,T==="r");T==="r"&&(R=e.mapValues(R,F=>-F)),S[N+T]=R})});let k=h(E,S);return f(S,k),p(S,E.graph().align)}function y(E,x,C){return(S,_,k)=>{let N=S.node(_),T=S.node(k),M=0,O;if(M+=N.width/2,Object.hasOwn(N,"labelpos"))switch(N.labelpos.toLowerCase()){case"l":O=-N.width/2;break;case"r":O=N.width/2;break}if(O&&(M+=C?O:-O),O=0,M+=(N.dummy?x:E)/2,M+=(T.dummy?x:E)/2,M+=T.width/2,Object.hasOwn(T,"labelpos"))switch(T.labelpos.toLowerCase()){case"l":O=T.width/2;break;case"r":O=-T.width/2;break}return O&&(M+=C?O:-O),O=0,M}}function b(E,x){return E.node(x).width}return F1}var $1,qN;function ZQ(){if(qN)return $1;qN=1;let t=yn(),e=QQ().positionX;$1=n;function n(i){i=t.asNonCompoundGraph(i),r(i),Object.entries(e(i)).forEach(([s,o])=>i.node(s).x=o)}function r(i){let s=t.buildLayerMatrix(i),o=i.graph().ranksep,a=0;s.forEach(c=>{const d=c.reduce((h,f)=>{const p=i.node(f).height;return h>p?h:p},0);c.forEach(h=>i.node(h).y=a+d/2),a+=d+o})}return $1}var z1,YN;function JQ(){if(YN)return z1;YN=1;let t=OQ(),e=LQ(),n=FQ(),r=yn().normalizeRanks,i=$Q(),s=yn().removeEmptyRanks,o=zQ(),a=jQ(),c=BQ(),d=KQ(),h=ZQ(),f=yn(),p=ss().Graph;z1=m;function m(X,Q){let J=Q&&Q.debugTiming?f.time:f.notime;J("layout",()=>{let ie=J("  buildLayoutGraph",()=>M(X));J("  runLayout",()=>y(ie,J,Q)),J("  updateInputGraph",()=>b(X,ie))})}function y(X,Q,J){Q("    makeSpaceForEdgeLabels",()=>O(X)),Q("    removeSelfEdges",()=>q(X)),Q("    acyclic",()=>t.run(X)),Q("    nestingGraph.run",()=>o.run(X)),Q("    rank",()=>n(f.asNonCompoundGraph(X))),Q("    injectEdgeLabelProxies",()=>R(X)),Q("    removeEmptyRanks",()=>s(X)),Q("    nestingGraph.cleanup",()=>o.cleanup(X)),Q("    normalizeRanks",()=>r(X)),Q("    assignRankMinMax",()=>F(X)),Q("    removeEdgeLabelProxies",()=>z(X)),Q("    normalize.run",()=>e.run(X)),Q("    parentDummyChains",()=>i(X)),Q("    addBorderSegments",()=>a(X)),Q("    order",()=>d(X,J)),Q("    insertSelfEdges",()=>G(X)),Q("    adjustCoordinateSystem",()=>c.adjust(X)),Q("    position",()=>h(X)),Q("    positionSelfEdges",()=>te(X)),Q("    removeBorderNodes",()=>K(X)),Q("    normalize.undo",()=>e.undo(X)),Q("    fixupEdgeLabelCoords",()=>V(X)),Q("    undoCoordinateSystem",()=>c.undo(X)),Q("    translateGraph",()=>U(X)),Q("    assignNodeIntersects",()=>D(X)),Q("    reversePoints",()=>H(X)),Q("    acyclic.undo",()=>t.undo(X))}function b(X,Q){X.nodes().forEach(J=>{let ie=X.node(J),ne=Q.node(J);ie&&(ie.x=ne.x,ie.y=ne.y,ie.rank=ne.rank,Q.children(J).length&&(ie.width=ne.width,ie.height=ne.height))}),X.edges().forEach(J=>{let ie=X.edge(J),ne=Q.edge(J);ie.points=ne.points,Object.hasOwn(ne,"x")&&(ie.x=ne.x,ie.y=ne.y)}),X.graph().width=Q.graph().width,X.graph().height=Q.graph().height}let E=["nodesep","edgesep","ranksep","marginx","marginy"],x={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},C=["acyclicer","ranker","rankdir","align"],S=["width","height"],_={width:0,height:0},k=["minlen","weight","width","height","labeloffset"],N={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},T=["labelpos"];function M(X){let Q=new p({multigraph:!0,compound:!0}),J=Z(X.graph());return Q.setGraph(Object.assign({},x,Y(J,E),f.pick(J,C))),X.nodes().forEach(ie=>{let ne=Z(X.node(ie));const oe=Y(ne,S);Object.keys(_).forEach(ue=>{oe[ue]===void 0&&(oe[ue]=_[ue])}),Q.setNode(ie,oe),Q.setParent(ie,X.parent(ie))}),X.edges().forEach(ie=>{let ne=Z(X.edge(ie));Q.setEdge(ie,Object.assign({},N,Y(ne,k),f.pick(ne,T)))}),Q}function O(X){let Q=X.graph();Q.ranksep/=2,X.edges().forEach(J=>{let ie=X.edge(J);ie.minlen*=2,ie.labelpos.toLowerCase()!=="c"&&(Q.rankdir==="TB"||Q.rankdir==="BT"?ie.width+=ie.labeloffset:ie.height+=ie.labeloffset)})}function R(X){X.edges().forEach(Q=>{let J=X.edge(Q);if(J.width&&J.height){let ie=X.node(Q.v),oe={rank:(X.node(Q.w).rank-ie.rank)/2+ie.rank,e:Q};f.addDummyNode(X,"edge-proxy",oe,"_ep")}})}function F(X){let Q=0;X.nodes().forEach(J=>{let ie=X.node(J);ie.borderTop&&(ie.minRank=X.node(ie.borderTop).rank,ie.maxRank=X.node(ie.borderBottom).rank,Q=Math.max(Q,ie.maxRank))}),X.graph().maxRank=Q}function z(X){X.nodes().forEach(Q=>{let J=X.node(Q);J.dummy==="edge-proxy"&&(X.edge(J.e).labelRank=J.rank,X.removeNode(Q))})}function U(X){let Q=Number.POSITIVE_INFINITY,J=0,ie=Number.POSITIVE_INFINITY,ne=0,oe=X.graph(),ue=oe.marginx||0,fe=oe.marginy||0;function ye(pe){let Se=pe.x,xe=pe.y,Ge=pe.width,pt=pe.height;Q=Math.min(Q,Se-Ge/2),J=Math.max(J,Se+Ge/2),ie=Math.min(ie,xe-pt/2),ne=Math.max(ne,xe+pt/2)}X.nodes().forEach(pe=>ye(X.node(pe))),X.edges().forEach(pe=>{let Se=X.edge(pe);Object.hasOwn(Se,"x")&&ye(Se)}),Q-=ue,ie-=fe,X.nodes().forEach(pe=>{let Se=X.node(pe);Se.x-=Q,Se.y-=ie}),X.edges().forEach(pe=>{let Se=X.edge(pe);Se.points.forEach(xe=>{xe.x-=Q,xe.y-=ie}),Object.hasOwn(Se,"x")&&(Se.x-=Q),Object.hasOwn(Se,"y")&&(Se.y-=ie)}),oe.width=J-Q+ue,oe.height=ne-ie+fe}function D(X){X.edges().forEach(Q=>{let J=X.edge(Q),ie=X.node(Q.v),ne=X.node(Q.w),oe,ue;J.points?(oe=J.points[0],ue=J.points[J.points.length-1]):(J.points=[],oe=ne,ue=ie),J.points.unshift(f.intersectRect(ie,oe)),J.points.push(f.intersectRect(ne,ue))})}function V(X){X.edges().forEach(Q=>{let J=X.edge(Q);if(Object.hasOwn(J,"x"))switch((J.labelpos==="l"||J.labelpos==="r")&&(J.width-=J.labeloffset),J.labelpos){case"l":J.x-=J.width/2+J.labeloffset;break;case"r":J.x+=J.width/2+J.labeloffset;break}})}function H(X){X.edges().forEach(Q=>{let J=X.edge(Q);J.reversed&&J.points.reverse()})}function K(X){X.nodes().forEach(Q=>{if(X.children(Q).length){let J=X.node(Q),ie=X.node(J.borderTop),ne=X.node(J.borderBottom),oe=X.node(J.borderLeft[J.borderLeft.length-1]),ue=X.node(J.borderRight[J.borderRight.length-1]);J.width=Math.abs(ue.x-oe.x),J.height=Math.abs(ne.y-ie.y),J.x=oe.x+J.width/2,J.y=ie.y+J.height/2}}),X.nodes().forEach(Q=>{X.node(Q).dummy==="border"&&X.removeNode(Q)})}function q(X){X.edges().forEach(Q=>{if(Q.v===Q.w){var J=X.node(Q.v);J.selfEdges||(J.selfEdges=[]),J.selfEdges.push({e:Q,label:X.edge(Q)}),X.removeEdge(Q)}})}function G(X){var Q=f.buildLayerMatrix(X);Q.forEach(J=>{var ie=0;J.forEach((ne,oe)=>{var ue=X.node(ne);ue.order=oe+ie,(ue.selfEdges||[]).forEach(fe=>{f.addDummyNode(X,"selfedge",{width:fe.label.width,height:fe.label.height,rank:ue.rank,order:oe+ ++ie,e:fe.e,label:fe.label},"_se")}),delete ue.selfEdges})})}function te(X){X.nodes().forEach(Q=>{var J=X.node(Q);if(J.dummy==="selfedge"){var ie=X.node(J.e.v),ne=ie.x+ie.width/2,oe=ie.y,ue=J.x-ne,fe=ie.height/2;X.setEdge(J.e,J.label),X.removeNode(Q),J.label.points=[{x:ne+2*ue/3,y:oe-fe},{x:ne+5*ue/6,y:oe-fe},{x:ne+ue,y:oe},{x:ne+5*ue/6,y:oe+fe},{x:ne+2*ue/3,y:oe+fe}],J.label.x=J.x,J.label.y=J.y}})}function Y(X,Q){return f.mapValues(f.pick(X,Q),Number)}function Z(X){var Q={};return X&&Object.entries(X).forEach(([J,ie])=>{typeof J=="string"&&(J=J.toLowerCase()),Q[J]=ie}),Q}return z1}var j1,XN;function eZ(){if(XN)return j1;XN=1;let t=yn(),e=ss().Graph;j1={debugOrdering:n};function n(r){let i=t.buildLayerMatrix(r),s=new e({compound:!0,multigraph:!0}).setGraph({});return r.nodes().forEach(o=>{s.setNode(o,{label:o}),s.setParent(o,"layer"+r.node(o).rank)}),r.edges().forEach(o=>s.setEdge(o.v,o.w,{},o.name)),i.forEach((o,a)=>{let c="layer"+a;s.setNode(c,{rank:"same"}),o.reduce((d,h)=>(s.setEdge(d,h,{style:"invis"}),h))}),s}return j1}var B1,KN;function tZ(){return KN||(KN=1,B1="1.1.4"),B1}var H1,QN;function nZ(){return QN||(QN=1,H1={graphlib:ss(),layout:JQ(),debug:eZ(),util:{time:yn().time,notime:yn().notime},version:tZ()}),H1}var rZ=nZ();const ZN=as(rZ);function iZ({data:t}){const{id:e,readRecordId:n,label:r,type:i,content:s}=t,o=I.useContext(ua);if(!o)throw new Error("PaperContext not found");const{readRecords:a,displayedReads:c,selectedHighlightId:d}=o,{color:h}=a[n],f=c.includes(n);return L.jsxs(Rt,{className:`highlight-node ${e===d?"selected":""}`,id:`node-${e}`,sx:{backgroundColor:f?h:"#e6e6e6"},children:[L.jsx(vl,{type:"target",position:ze.Top}),L.jsx(gr,{variant:"body1",children:r}),i==="area"&&L.jsx("img",{src:s,alt:"Node Content",style:{maxWidth:"100%",maxHeight:"100px"}}),L.jsx(vl,{type:"source",position:ze.Bottom})]})}function sZ({data:t}){const{id:e,readRecordId:n,label:r,content:i,type:s,notes:o}=t,a=I.useContext(ua);if(!a)throw new Error("PaperContext not found");const{readRecords:c,displayedReads:d,selectedHighlightId:h}=a,{color:f}=c[n],p=d.includes(n);return L.jsxs(Rt,{className:`overview-node ${e===h?"selected":""}`,id:`node-${e}`,sx:{backgroundColor:p?f:"#e6e6e6"},children:[L.jsx(vl,{type:"target",position:ze.Top}),L.jsx(gr,{variant:"body1",children:r}),s==="area"&&L.jsxs(L.Fragment,{children:[L.jsx("img",{src:i,alt:"Node Content",style:{maxWidth:"100%",maxHeight:"100px"}}),L.jsx("br",{})]}),L.jsx(gr,{variant:"caption",children:o}),L.jsx(vl,{type:"source",position:ze.Bottom})]})}function oZ({sourceX:t,sourceY:e,targetX:n,targetY:r,sourcePosition:i,targetPosition:s,markerEnd:o}){const[a,c,d]=kb({sourceX:t,sourceY:e,sourcePosition:i,targetX:n,targetY:r,targetPosition:s});return L.jsxs(L.Fragment,{children:[L.jsx(kh,{path:a,markerEnd:o,style:{stroke:"black",strokeWidth:1,strokeDasharray:"5,5"}}),L.jsx(jL,{children:L.jsx("div",{className:"nodrag nopan",style:{transform:`translate(-50%, -50%) translate(${c}px,${d}px)`}})})]})}function aZ({sourceX:t,sourceY:e,targetX:n,targetY:r,sourcePosition:i,targetPosition:s}){const[o,a,c]=kb({sourceX:t,sourceY:e,sourcePosition:i,targetX:n,targetY:r,targetPosition:s});return L.jsxs(L.Fragment,{children:[L.jsx(kh,{path:o,style:{stroke:"black",strokeWidth:2}}),L.jsx(jL,{children:L.jsx("div",{className:"nodrag nopan",style:{transform:`translate(-50%, -50%) translate(${a}px,${c}px)`}})})]})}var JN;(function(t){t.STRING="string",t.NUMBER="number",t.INTEGER="integer",t.BOOLEAN="boolean",t.ARRAY="array",t.OBJECT="object"})(JN||(JN={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var eM;(function(t){t.LANGUAGE_UNSPECIFIED="language_unspecified",t.PYTHON="python"})(eM||(eM={}));var tM;(function(t){t.OUTCOME_UNSPECIFIED="outcome_unspecified",t.OUTCOME_OK="outcome_ok",t.OUTCOME_FAILED="outcome_failed",t.OUTCOME_DEADLINE_EXCEEDED="outcome_deadline_exceeded"})(tM||(tM={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nM=["user","model","function","system"];var rM;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY"})(rM||(rM={}));var iM;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(iM||(iM={}));var sM;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(sM||(sM={}));var oM;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER"})(oM||(oM={}));var mp;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.OTHER="OTHER"})(mp||(mp={}));var aM;(function(t){t.TASK_TYPE_UNSPECIFIED="TASK_TYPE_UNSPECIFIED",t.RETRIEVAL_QUERY="RETRIEVAL_QUERY",t.RETRIEVAL_DOCUMENT="RETRIEVAL_DOCUMENT",t.SEMANTIC_SIMILARITY="SEMANTIC_SIMILARITY",t.CLASSIFICATION="CLASSIFICATION",t.CLUSTERING="CLUSTERING"})(aM||(aM={}));var lM;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE"})(lM||(lM={}));var cM;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(cM||(cM={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ir extends Error{constructor(e){super(`[GoogleGenerativeAI Error]: ${e}`)}}class Ju extends ir{constructor(e,n){super(e),this.response=n}}class o$ extends ir{constructor(e,n,r,i){super(e),this.status=n,this.statusText=r,this.errorDetails=i}}class yl extends ir{}class a$ extends ir{}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lZ="https://generativelanguage.googleapis.com",cZ="v1beta",uZ="0.23.0",dZ="genai-js";var ou;(function(t){t.GENERATE_CONTENT="generateContent",t.STREAM_GENERATE_CONTENT="streamGenerateContent",t.COUNT_TOKENS="countTokens",t.EMBED_CONTENT="embedContent",t.BATCH_EMBED_CONTENTS="batchEmbedContents"})(ou||(ou={}));class hZ{constructor(e,n,r,i,s){this.model=e,this.task=n,this.apiKey=r,this.stream=i,this.requestOptions=s}toString(){var e,n;const r=((e=this.requestOptions)===null||e===void 0?void 0:e.apiVersion)||cZ;let s=`${((n=this.requestOptions)===null||n===void 0?void 0:n.baseUrl)||lZ}/${r}/${this.model}:${this.task}`;return this.stream&&(s+="?alt=sse"),s}}function fZ(t){const e=[];return t!=null&&t.apiClient&&e.push(t.apiClient),e.push(`${dZ}/${uZ}`),e.join(" ")}async function pZ(t){var e;const n=new Headers;n.append("Content-Type","application/json"),n.append("x-goog-api-client",fZ(t.requestOptions)),n.append("x-goog-api-key",t.apiKey);let r=(e=t.requestOptions)===null||e===void 0?void 0:e.customHeaders;if(r){if(!(r instanceof Headers))try{r=new Headers(r)}catch(i){throw new yl(`unable to convert customHeaders value ${JSON.stringify(r)} to Headers: ${i.message}`)}for(const[i,s]of r.entries()){if(i==="x-goog-api-key")throw new yl(`Cannot set reserved header name ${i}`);if(i==="x-goog-api-client")throw new yl(`Header name ${i} can only be set using the apiClient field`);n.append(i,s)}}return n}async function gZ(t,e,n,r,i,s){const o=new hZ(t,e,n,r,s);return{url:o.toString(),fetchOptions:Object.assign(Object.assign({},bZ(s)),{method:"POST",headers:await pZ(o),body:i})}}async function Fm(t,e,n,r,i,s={},o=fetch){const{url:a,fetchOptions:c}=await gZ(t,e,n,r,i,s);return mZ(a,c,o)}async function mZ(t,e,n=fetch){let r;try{r=await n(t,e)}catch(i){yZ(i,t)}return r.ok||await vZ(r,t),r}function yZ(t,e){let n=t;throw n.name==="AbortError"?(n=new a$(`Request aborted when fetching ${e.toString()}: ${t.message}`),n.stack=t.stack):t instanceof o$||t instanceof yl||(n=new ir(`Error fetching from ${e.toString()}: ${t.message}`),n.stack=t.stack),n}async function vZ(t,e){let n="",r;try{const i=await t.json();n=i.error.message,i.error.details&&(n+=` ${JSON.stringify(i.error.details)}`,r=i.error.details)}catch{}throw new o$(`Error fetching from ${e.toString()}: [${t.status} ${t.statusText}] ${n}`,t.status,t.statusText,r)}function bZ(t){const e={};if((t==null?void 0:t.signal)!==void 0||(t==null?void 0:t.timeout)>=0){const n=new AbortController;(t==null?void 0:t.timeout)>=0&&setTimeout(()=>n.abort(),t.timeout),t!=null&&t.signal&&t.signal.addEventListener("abort",()=>{n.abort()}),e.signal=n.signal}return e}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hA(t){return t.text=()=>{if(t.candidates&&t.candidates.length>0){if(t.candidates.length>1&&console.warn(`This response had ${t.candidates.length} candidates. Returning text from the first candidate only. Access response.candidates directly to use the other candidates.`),m0(t.candidates[0]))throw new Ju(`${Ua(t)}`,t);return wZ(t)}else if(t.promptFeedback)throw new Ju(`Text not available. ${Ua(t)}`,t);return""},t.functionCall=()=>{if(t.candidates&&t.candidates.length>0){if(t.candidates.length>1&&console.warn(`This response had ${t.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),m0(t.candidates[0]))throw new Ju(`${Ua(t)}`,t);return console.warn("response.functionCall() is deprecated. Use response.functionCalls() instead."),uM(t)[0]}else if(t.promptFeedback)throw new Ju(`Function call not available. ${Ua(t)}`,t)},t.functionCalls=()=>{if(t.candidates&&t.candidates.length>0){if(t.candidates.length>1&&console.warn(`This response had ${t.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),m0(t.candidates[0]))throw new Ju(`${Ua(t)}`,t);return uM(t)}else if(t.promptFeedback)throw new Ju(`Function call not available. ${Ua(t)}`,t)},t}function wZ(t){var e,n,r,i;const s=[];if(!((n=(e=t.candidates)===null||e===void 0?void 0:e[0].content)===null||n===void 0)&&n.parts)for(const o of(i=(r=t.candidates)===null||r===void 0?void 0:r[0].content)===null||i===void 0?void 0:i.parts)o.text&&s.push(o.text),o.executableCode&&s.push("\n```"+o.executableCode.language+`
`+o.executableCode.code+"\n```\n"),o.codeExecutionResult&&s.push("\n```\n"+o.codeExecutionResult.output+"\n```\n");return s.length>0?s.join(""):""}function uM(t){var e,n,r,i;const s=[];if(!((n=(e=t.candidates)===null||e===void 0?void 0:e[0].content)===null||n===void 0)&&n.parts)for(const o of(i=(r=t.candidates)===null||r===void 0?void 0:r[0].content)===null||i===void 0?void 0:i.parts)o.functionCall&&s.push(o.functionCall);if(s.length>0)return s}const xZ=[mp.RECITATION,mp.SAFETY,mp.LANGUAGE];function m0(t){return!!t.finishReason&&xZ.includes(t.finishReason)}function Ua(t){var e,n,r;let i="";if((!t.candidates||t.candidates.length===0)&&t.promptFeedback)i+="Response was blocked",!((e=t.promptFeedback)===null||e===void 0)&&e.blockReason&&(i+=` due to ${t.promptFeedback.blockReason}`),!((n=t.promptFeedback)===null||n===void 0)&&n.blockReasonMessage&&(i+=`: ${t.promptFeedback.blockReasonMessage}`);else if(!((r=t.candidates)===null||r===void 0)&&r[0]){const s=t.candidates[0];m0(s)&&(i+=`Candidate was blocked due to ${s.finishReason}`,s.finishMessage&&(i+=`: ${s.finishMessage}`))}return i}function Lp(t){return this instanceof Lp?(this.v=t,this):new Lp(t)}function SZ(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(p){r[p]&&(i[p]=function(m){return new Promise(function(y,b){s.push([p,m,y,b])>1||a(p,m)})})}function a(p,m){try{c(r[p](m))}catch(y){f(s[0][3],y)}}function c(p){p.value instanceof Lp?Promise.resolve(p.value.v).then(d,h):f(s[0][2],p)}function d(p){a("next",p)}function h(p){a("throw",p)}function f(p,m){p(m),s.shift(),s.length&&a(s[0][0],s[0][1])}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dM=/^data\: (.*)(?:\n\n|\r\r|\r\n\r\n)/;function EZ(t){const e=t.body.pipeThrough(new TextDecoderStream("utf8",{fatal:!0})),n=AZ(e),[r,i]=n.tee();return{stream:_Z(r),response:CZ(i)}}async function CZ(t){const e=[],n=t.getReader();for(;;){const{done:r,value:i}=await n.read();if(r)return hA(kZ(e));e.push(i)}}function _Z(t){return SZ(this,arguments,function*(){const n=t.getReader();for(;;){const{value:r,done:i}=yield Lp(n.read());if(i)break;yield yield Lp(hA(r))}})}function AZ(t){const e=t.getReader();return new ReadableStream({start(r){let i="";return s();function s(){return e.read().then(({value:o,done:a})=>{if(a){if(i.trim()){r.error(new ir("Failed to parse stream"));return}r.close();return}i+=o;let c=i.match(dM),d;for(;c;){try{d=JSON.parse(c[1])}catch{r.error(new ir(`Error parsing JSON response: "${c[1]}"`));return}r.enqueue(d),i=i.substring(c[0].length),c=i.match(dM)}return s()}).catch(o=>{let a=o;throw a.stack=o.stack,a.name==="AbortError"?a=new a$("Request aborted when reading from the stream"):a=new ir("Error reading from the stream"),a})}}})}function kZ(t){const e=t[t.length-1],n={promptFeedback:e==null?void 0:e.promptFeedback};for(const r of t){if(r.candidates){let i=0;for(const s of r.candidates)if(n.candidates||(n.candidates=[]),n.candidates[i]||(n.candidates[i]={index:i}),n.candidates[i].citationMetadata=s.citationMetadata,n.candidates[i].groundingMetadata=s.groundingMetadata,n.candidates[i].finishReason=s.finishReason,n.candidates[i].finishMessage=s.finishMessage,n.candidates[i].safetyRatings=s.safetyRatings,s.content&&s.content.parts){n.candidates[i].content||(n.candidates[i].content={role:s.content.role||"user",parts:[]});const o={};for(const a of s.content.parts)a.text&&(o.text=a.text),a.functionCall&&(o.functionCall=a.functionCall),a.executableCode&&(o.executableCode=a.executableCode),a.codeExecutionResult&&(o.codeExecutionResult=a.codeExecutionResult),Object.keys(o).length===0&&(o.text=""),n.candidates[i].content.parts.push(o)}i++}r.usageMetadata&&(n.usageMetadata=r.usageMetadata)}return n}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function l$(t,e,n,r){const i=await Fm(e,ou.STREAM_GENERATE_CONTENT,t,!0,JSON.stringify(n),r);return EZ(i)}async function c$(t,e,n,r){const s=await(await Fm(e,ou.GENERATE_CONTENT,t,!1,JSON.stringify(n),r)).json();return{response:hA(s)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u$(t){if(t!=null){if(typeof t=="string")return{role:"system",parts:[{text:t}]};if(t.text)return{role:"system",parts:[t]};if(t.parts)return t.role?t:{role:"system",parts:t.parts}}}function Dp(t){let e=[];if(typeof t=="string")e=[{text:t}];else for(const n of t)typeof n=="string"?e.push({text:n}):e.push(n);return RZ(e)}function RZ(t){const e={role:"user",parts:[]},n={role:"function",parts:[]};let r=!1,i=!1;for(const s of t)"functionResponse"in s?(n.parts.push(s),i=!0):(e.parts.push(s),r=!0);if(r&&i)throw new ir("Within a single message, FunctionResponse cannot be mixed with other type of part in the request for sending chat message.");if(!r&&!i)throw new ir("No content is provided for sending chat message.");return r?e:n}function TZ(t,e){var n;let r={model:e==null?void 0:e.model,generationConfig:e==null?void 0:e.generationConfig,safetySettings:e==null?void 0:e.safetySettings,tools:e==null?void 0:e.tools,toolConfig:e==null?void 0:e.toolConfig,systemInstruction:e==null?void 0:e.systemInstruction,cachedContent:(n=e==null?void 0:e.cachedContent)===null||n===void 0?void 0:n.name,contents:[]};const i=t.generateContentRequest!=null;if(t.contents){if(i)throw new yl("CountTokensRequest must have one of contents or generateContentRequest, not both.");r.contents=t.contents}else if(i)r=Object.assign(Object.assign({},r),t.generateContentRequest);else{const s=Dp(t);r.contents=[s]}return{generateContentRequest:r}}function hM(t){let e;return t.contents?e=t:e={contents:[Dp(t)]},t.systemInstruction&&(e.systemInstruction=u$(t.systemInstruction)),e}function PZ(t){return typeof t=="string"||Array.isArray(t)?{content:Dp(t)}:t}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fM=["text","inlineData","functionCall","functionResponse","executableCode","codeExecutionResult"],IZ={user:["text","inlineData"],function:["functionResponse"],model:["text","functionCall","executableCode","codeExecutionResult"],system:["text"]};function NZ(t){let e=!1;for(const n of t){const{role:r,parts:i}=n;if(!e&&r!=="user")throw new ir(`First content should be with role 'user', got ${r}`);if(!nM.includes(r))throw new ir(`Each item should include role field. Got ${r} but valid roles are: ${JSON.stringify(nM)}`);if(!Array.isArray(i))throw new ir("Content should have 'parts' property with an array of Parts");if(i.length===0)throw new ir("Each Content should have at least one part");const s={text:0,inlineData:0,functionCall:0,functionResponse:0,fileData:0,executableCode:0,codeExecutionResult:0};for(const a of i)for(const c of fM)c in a&&(s[c]+=1);const o=IZ[r];for(const a of fM)if(!o.includes(a)&&s[a]>0)throw new ir(`Content with role '${r}' can't contain '${a}' part`);e=!0}}function pM(t){var e;if(t.candidates===void 0||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;if(n===void 0||n.parts===void 0||n.parts.length===0)return!1;for(const r of n.parts)if(r===void 0||Object.keys(r).length===0||r.text!==void 0&&r.text==="")return!1;return!0}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gM="SILENT_ERROR";class MZ{constructor(e,n,r,i={}){this.model=n,this.params=r,this._requestOptions=i,this._history=[],this._sendPromise=Promise.resolve(),this._apiKey=e,r!=null&&r.history&&(NZ(r.history),this._history=r.history)}async getHistory(){return await this._sendPromise,this._history}async sendMessage(e,n={}){var r,i,s,o,a,c;await this._sendPromise;const d=Dp(e),h={safetySettings:(r=this.params)===null||r===void 0?void 0:r.safetySettings,generationConfig:(i=this.params)===null||i===void 0?void 0:i.generationConfig,tools:(s=this.params)===null||s===void 0?void 0:s.tools,toolConfig:(o=this.params)===null||o===void 0?void 0:o.toolConfig,systemInstruction:(a=this.params)===null||a===void 0?void 0:a.systemInstruction,cachedContent:(c=this.params)===null||c===void 0?void 0:c.cachedContent,contents:[...this._history,d]},f=Object.assign(Object.assign({},this._requestOptions),n);let p;return this._sendPromise=this._sendPromise.then(()=>c$(this._apiKey,this.model,h,f)).then(m=>{var y;if(pM(m.response)){this._history.push(d);const b=Object.assign({parts:[],role:"model"},(y=m.response.candidates)===null||y===void 0?void 0:y[0].content);this._history.push(b)}else{const b=Ua(m.response);b&&console.warn(`sendMessage() was unsuccessful. ${b}. Inspect response object for details.`)}p=m}),await this._sendPromise,p}async sendMessageStream(e,n={}){var r,i,s,o,a,c;await this._sendPromise;const d=Dp(e),h={safetySettings:(r=this.params)===null||r===void 0?void 0:r.safetySettings,generationConfig:(i=this.params)===null||i===void 0?void 0:i.generationConfig,tools:(s=this.params)===null||s===void 0?void 0:s.tools,toolConfig:(o=this.params)===null||o===void 0?void 0:o.toolConfig,systemInstruction:(a=this.params)===null||a===void 0?void 0:a.systemInstruction,cachedContent:(c=this.params)===null||c===void 0?void 0:c.cachedContent,contents:[...this._history,d]},f=Object.assign(Object.assign({},this._requestOptions),n),p=l$(this._apiKey,this.model,h,f);return this._sendPromise=this._sendPromise.then(()=>p).catch(m=>{throw new Error(gM)}).then(m=>m.response).then(m=>{if(pM(m)){this._history.push(d);const y=Object.assign({},m.candidates[0].content);y.role||(y.role="model"),this._history.push(y)}else{const y=Ua(m);y&&console.warn(`sendMessageStream() was unsuccessful. ${y}. Inspect response object for details.`)}}).catch(m=>{m.message!==gM&&console.error(m)}),p}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OZ(t,e,n,r){return(await Fm(e,ou.COUNT_TOKENS,t,!1,JSON.stringify(n),r)).json()}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LZ(t,e,n,r){return(await Fm(e,ou.EMBED_CONTENT,t,!1,JSON.stringify(n),r)).json()}async function DZ(t,e,n,r){const i=n.requests.map(o=>Object.assign(Object.assign({},o),{model:e}));return(await Fm(e,ou.BATCH_EMBED_CONTENTS,t,!1,JSON.stringify({requests:i}),r)).json()}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mM{constructor(e,n,r={}){this.apiKey=e,this._requestOptions=r,n.model.includes("/")?this.model=n.model:this.model=`models/${n.model}`,this.generationConfig=n.generationConfig||{},this.safetySettings=n.safetySettings||[],this.tools=n.tools,this.toolConfig=n.toolConfig,this.systemInstruction=u$(n.systemInstruction),this.cachedContent=n.cachedContent}async generateContent(e,n={}){var r;const i=hM(e),s=Object.assign(Object.assign({},this._requestOptions),n);return c$(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(r=this.cachedContent)===null||r===void 0?void 0:r.name},i),s)}async generateContentStream(e,n={}){var r;const i=hM(e),s=Object.assign(Object.assign({},this._requestOptions),n);return l$(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(r=this.cachedContent)===null||r===void 0?void 0:r.name},i),s)}startChat(e){var n;return new MZ(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(n=this.cachedContent)===null||n===void 0?void 0:n.name},e),this._requestOptions)}async countTokens(e,n={}){const r=TZ(e,{model:this.model,generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:this.cachedContent}),i=Object.assign(Object.assign({},this._requestOptions),n);return OZ(this.apiKey,this.model,r,i)}async embedContent(e,n={}){const r=PZ(e),i=Object.assign(Object.assign({},this._requestOptions),n);return LZ(this.apiKey,this.model,r,i)}async batchEmbedContents(e,n={}){const r=Object.assign(Object.assign({},this._requestOptions),n);return DZ(this.apiKey,this.model,e,r)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FZ{constructor(e){this.apiKey=e}getGenerativeModel(e,n){if(!e.model)throw new ir("Must provide a model name. Example: genai.getGenerativeModel({ model: 'my-model-name' })");return new mM(this.apiKey,e,n)}getGenerativeModelFromCachedContent(e,n,r){if(!e.name)throw new yl("Cached content must contain a `name` field.");if(!e.model)throw new yl("Cached content must contain a `model` field.");const i=["model","systemInstruction"];for(const o of i)if(n!=null&&n[o]&&e[o]&&(n==null?void 0:n[o])!==e[o]){if(o==="model"){const a=n.model.startsWith("models/")?n.model.replace("models/",""):n.model,c=e.model.startsWith("models/")?e.model.replace("models/",""):e.model;if(a===c)continue}throw new yl(`Different value for "${o}" specified in modelParams (${n[o]}) and cachedContent (${e[o]})`)}const s=Object.assign(Object.assign({},n),{model:e.model,tools:e.tools,toolConfig:e.toolConfig,systemInstruction:e.systemInstruction,cachedContent:e});return new mM(this.apiKey,s,r)}}const $Z="AIzaSyD33qOpC9rpB2u-tcPMZVD7a3-nhZ6YpcQ",zZ=new FZ($Z);function jZ(){const t=I.useContext(ua);if(!t)throw new Error("PaperContext not found");const{nodes:e,updateNodeData:n,deleteHighlight:r,selectedHighlightId:i,setSelectedHighlightId:s,setOnSelectNode:o}=t,[a,c]=I.useState(""),[d,h]=I.useState(""),[f,p]=I.useState(""),[m,y]=I.useState(!1),[b,E]=I.useState(!1);I.useEffect(()=>{const _=e.find(k=>k.id===i);if(_){c(_.data.label);const k=_.data.content;h(_.data.summary),p(_.data.notes),y(!1),E(!1),_.data.summary||x(k)}},[i]);const x=async _=>{if(!_){h("No content to summarize.");return}try{const k=zZ.getGenerativeModel({model:"gemini-2.0-flash-lite"}),N=`Summarize this in three sentences or less or if it's a single word/phrase give the definition: "${_}"`,M=await(await k.generateContent(N)).response;h(M.text()||"No summary available.")}catch(k){console.error("Error fetching summary:",k),h("Failed to fetch summary.")}},C=()=>{n(i,{label:a,summary:d,notes:f}),s(null),o(!1)},S=()=>{E(!0),m||(s(null),o(!1))};return L.jsxs("div",{className:"wrapper",style:{overflowY:b?"hidden":"auto"},children:[m&&b&&L.jsxs("div",{className:"closing-popup",children:[L.jsx("div",{className:"closing-background",onClick:()=>E(!1)}),L.jsxs("div",{className:"closing-modal",children:[L.jsx("h3",{children:"Would you like to save your changes?"}),L.jsxs("div",{className:"closing-modal-buttons",children:[L.jsx(ts,{variant:"outlined",color:"success",onClick:()=>C(),children:"Save"}),L.jsx(ts,{variant:"outlined",color:"error",onClick:()=>E(!1),children:"Cancel"})]})]})]}),L.jsx(Np,{size:"small",sx:{position:"absolute",top:0,right:0,zIndex:1e3},onClick:()=>S(),children:L.jsx(tY,{})}),L.jsxs(Rt,{className:"field",children:[L.jsx("h3",{children:"Label"}),L.jsx(LE,{id:"label",variant:"outlined",sx:{width:"100%",textTransform:"none"},value:a,onChange:_=>{y(!0),c(_.target.value)},autoFocus:!0})]}),L.jsxs(Rt,{className:"field summary-container",children:[L.jsx("h3",{className:"summary-title",children:"Definition / Summary"}),L.jsxs("p",{className:"summary-generated",children:[L.jsx("span",{className:"summary-label",children:"(From Gemini)"})," ",d||"Generating summary..."]})]}),L.jsxs(Rt,{className:"field",children:[L.jsx("h3",{children:"Notes"}),L.jsx(LE,{id:"notes",variant:"outlined",sx:{width:"100%",textTransform:"none"},value:f,onChange:_=>{y(!0),p(_.target.value)},autoFocus:!0,multiline:!0,placeholder:"Write your notes here..."})]}),L.jsxs(Rt,{sx:{display:"flex",justifyContent:"center",alignItems:"center",gap:2},children:[L.jsx(ts,{variant:"outlined",color:"success",onClick:()=>C(),children:"Save"}),L.jsx(ts,{variant:"outlined",color:"error",onClick:()=>r(i),children:"Delete"})]})]})}const BZ={highlight:iZ,overview:sZ},HZ={temporal:oZ,relation:aZ};function WZ(t){const{nodes:e,edges:n,setNodes:r,setEdges:i,onNodesChange:s,onEdgesChange:o,onConnect:a,selectedHighlightId:c,setSelectedHighlightId:d,setOnSelectNode:h}=t,[f,p]=I.useState(!1),m=(S,_)=>{console.log("drag event",_.data)},y=(S,_)=>{f||!S||(c===_.id?(d(null),h(!1)):(d(_.id),h(!0)))},b=()=>{console.log("open Overview"),r(f?e.map(S=>({...S,type:"highlight"})):e.map(S=>({...S,type:"overview"}))),d(null),p(!f)},{fitView:E}=Pb(),x=(S,_,k)=>{const N=new ZN.graphlib.Graph().setDefaultEdgeLabel(()=>({}));return N.setGraph({rankdir:k.direction}),_.forEach(T=>N.setEdge(T.source,T.target)),S.forEach(T=>{var M,O;return N.setNode(T.id,{...T,width:((M=T.measured)==null?void 0:M.width)??0,height:((O=T.measured)==null?void 0:O.height)??0})}),ZN.layout(N),{nodes:S.map(T=>{var F,z;const M=N.node(T.id),O=M.x-(((F=T.measured)==null?void 0:F.width)??0)/2,R=M.y-(((z=T.measured)==null?void 0:z.height)??0)/2;return{...T,position:{x:O,y:R}}}),edges:_}},C=I.useCallback(S=>{console.log(e);const _=x(e,n,{direction:S});r([..._.nodes]),i([..._.edges]),window.requestAnimationFrame(()=>{E()})},[e,n]);return I.useEffect(()=>{if(c){console.log("viewport change");const S=e.find(_=>_.id===c);E({padding:3.5,nodes:[S]})}else E()},[e]),L.jsxs(gW,{nodes:e,edges:n,onNodesChange:s,onEdgesChange:o,onConnect:a,onNodeDrag:m,onNodeClick:y,nodeTypes:BZ,edgeTypes:HZ,fitView:!0,style:{width:"100%",height:"100%"},children:[L.jsx(EW,{}),L.jsx(PW,{onFitView:()=>C("TB"),style:{color:"black"}}),L.jsx(HW,{}),L.jsx(Em,{position:"top-right",children:L.jsx(Np,{onClick:b,children:f?L.jsx(nY,{}):L.jsx(iY,{})})})]})}function UZ(){const t=I.useContext(ua);if(!t)throw new Error("PaperContext not found");const{nodes:e,edges:n,setNodes:r,setEdges:i,onNodesChange:s,onEdgesChange:o,onConnect:a,selectedHighlightId:c,setSelectedHighlightId:d,setOnSelectNode:h}=t;return L.jsxs(Rt,{style:{width:"100%",height:"100%",position:"relative"},children:[L.jsx(zL,{children:L.jsx(WZ,{style:{height:"auto"},nodes:e,edges:n,setNodes:r,setEdges:i,onNodesChange:s,onEdgesChange:o,onConnect:a,selectedHighlightId:c,setSelectedHighlightId:d,setOnSelectNode:h})}),c&&L.jsx(Rt,{style:{position:"absolute",bottom:0,left:0,width:"100%",height:"40%",backgroundColor:"white",borderTop:"1px solid #ccc",zIndex:5},children:L.jsx(jZ,{})})]})}function d$(t){return e=>typeof e===t}var VZ=d$("function"),GZ=t=>t===null,yM=t=>Object.prototype.toString.call(t).slice(8,-1)==="RegExp",vM=t=>!qZ(t)&&!GZ(t)&&(VZ(t)||typeof t=="object"),qZ=d$("undefined");function YZ(t,e){const{length:n}=t;if(n!==e.length)return!1;for(let r=n;r--!==0;)if(!yr(t[r],e[r]))return!1;return!0}function XZ(t,e){if(t.byteLength!==e.byteLength)return!1;const n=new DataView(t.buffer),r=new DataView(e.buffer);let i=t.byteLength;for(;i--;)if(n.getUint8(i)!==r.getUint8(i))return!1;return!0}function KZ(t,e){if(t.size!==e.size)return!1;for(const n of t.entries())if(!e.has(n[0]))return!1;for(const n of t.entries())if(!yr(n[1],e.get(n[0])))return!1;return!0}function QZ(t,e){if(t.size!==e.size)return!1;for(const n of t.entries())if(!e.has(n[0]))return!1;return!0}function yr(t,e){if(t===e)return!0;if(t&&vM(t)&&e&&vM(e)){if(t.constructor!==e.constructor)return!1;if(Array.isArray(t)&&Array.isArray(e))return YZ(t,e);if(t instanceof Map&&e instanceof Map)return KZ(t,e);if(t instanceof Set&&e instanceof Set)return QZ(t,e);if(ArrayBuffer.isView(t)&&ArrayBuffer.isView(e))return XZ(t,e);if(yM(t)&&yM(e))return t.source===e.source&&t.flags===e.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===e.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===e.toString();const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(let i=n.length;i--!==0;)if(!Object.prototype.hasOwnProperty.call(e,n[i]))return!1;for(let i=n.length;i--!==0;){const s=n[i];if(!(s==="_owner"&&t.$$typeof)&&!yr(t[s],e[s]))return!1}return!0}return Number.isNaN(t)&&Number.isNaN(e)?!0:t===e}var ZZ=["Array","ArrayBuffer","AsyncFunction","AsyncGenerator","AsyncGeneratorFunction","Date","Error","Function","Generator","GeneratorFunction","HTMLElement","Map","Object","Promise","RegExp","Set","WeakMap","WeakSet"],JZ=["bigint","boolean","null","number","string","symbol","undefined"];function lw(t){const e=Object.prototype.toString.call(t).slice(8,-1);if(/HTML\w+Element/.test(e))return"HTMLElement";if(eJ(e))return e}function cs(t){return e=>lw(e)===t}function eJ(t){return ZZ.includes(t)}function Th(t){return e=>typeof e===t}function tJ(t){return JZ.includes(t)}var nJ=["innerHTML","ownerDocument","style","attributes","nodeValue"];function ke(t){if(t===null)return"null";switch(typeof t){case"bigint":return"bigint";case"boolean":return"boolean";case"number":return"number";case"string":return"string";case"symbol":return"symbol";case"undefined":return"undefined"}if(ke.array(t))return"Array";if(ke.plainFunction(t))return"Function";const e=lw(t);return e||"Object"}ke.array=Array.isArray;ke.arrayOf=(t,e)=>!ke.array(t)&&!ke.function(e)?!1:t.every(n=>e(n));ke.asyncGeneratorFunction=t=>lw(t)==="AsyncGeneratorFunction";ke.asyncFunction=cs("AsyncFunction");ke.bigint=Th("bigint");ke.boolean=t=>t===!0||t===!1;ke.date=cs("Date");ke.defined=t=>!ke.undefined(t);ke.domElement=t=>ke.object(t)&&!ke.plainObject(t)&&t.nodeType===1&&ke.string(t.nodeName)&&nJ.every(e=>e in t);ke.empty=t=>ke.string(t)&&t.length===0||ke.array(t)&&t.length===0||ke.object(t)&&!ke.map(t)&&!ke.set(t)&&Object.keys(t).length===0||ke.set(t)&&t.size===0||ke.map(t)&&t.size===0;ke.error=cs("Error");ke.function=Th("function");ke.generator=t=>ke.iterable(t)&&ke.function(t.next)&&ke.function(t.throw);ke.generatorFunction=cs("GeneratorFunction");ke.instanceOf=(t,e)=>!t||!e?!1:Object.getPrototypeOf(t)===e.prototype;ke.iterable=t=>!ke.nullOrUndefined(t)&&ke.function(t[Symbol.iterator]);ke.map=cs("Map");ke.nan=t=>Number.isNaN(t);ke.null=t=>t===null;ke.nullOrUndefined=t=>ke.null(t)||ke.undefined(t);ke.number=t=>Th("number")(t)&&!ke.nan(t);ke.numericString=t=>ke.string(t)&&t.length>0&&!Number.isNaN(Number(t));ke.object=t=>!ke.nullOrUndefined(t)&&(ke.function(t)||typeof t=="object");ke.oneOf=(t,e)=>ke.array(t)?t.indexOf(e)>-1:!1;ke.plainFunction=cs("Function");ke.plainObject=t=>{if(lw(t)!=="Object")return!1;const e=Object.getPrototypeOf(t);return e===null||e===Object.getPrototypeOf({})};ke.primitive=t=>ke.null(t)||tJ(typeof t);ke.promise=cs("Promise");ke.propertyOf=(t,e,n)=>{if(!ke.object(t)||!e)return!1;const r=t[e];return ke.function(n)?n(r):ke.defined(r)};ke.regexp=cs("RegExp");ke.set=cs("Set");ke.string=Th("string");ke.symbol=Th("symbol");ke.undefined=Th("undefined");ke.weakMap=cs("WeakMap");ke.weakSet=cs("WeakSet");var Ne=ke;function rJ(...t){return t.every(e=>Ne.string(e)||Ne.array(e)||Ne.plainObject(e))}function iJ(t,e,n){return h$(t,e)?[t,e].every(Ne.array)?!t.some(EM(n))&&e.some(EM(n)):[t,e].every(Ne.plainObject)?!Object.entries(t).some(SM(n))&&Object.entries(e).some(SM(n)):e===n:!1}function bM(t,e,n){const{actual:r,key:i,previous:s,type:o}=n,a=Vs(t,i),c=Vs(e,i);let d=[a,c].every(Ne.number)&&(o==="increased"?a<c:a>c);return Ne.undefined(r)||(d=d&&c===r),Ne.undefined(s)||(d=d&&a===s),d}function wM(t,e,n){const{key:r,type:i,value:s}=n,o=Vs(t,r),a=Vs(e,r),c=i==="added"?o:a,d=i==="added"?a:o;if(!Ne.nullOrUndefined(s)){if(Ne.defined(c)){if(Ne.array(c)||Ne.plainObject(c))return iJ(c,d,s)}else return yr(d,s);return!1}return[o,a].every(Ne.array)?!d.every(fA(c)):[o,a].every(Ne.plainObject)?sJ(Object.keys(c),Object.keys(d)):![o,a].every(h=>Ne.primitive(h)&&Ne.defined(h))&&(i==="added"?!Ne.defined(o)&&Ne.defined(a):Ne.defined(o)&&!Ne.defined(a))}function xM(t,e,{key:n}={}){let r=Vs(t,n),i=Vs(e,n);if(!h$(r,i))throw new TypeError("Inputs have different types");if(!rJ(r,i))throw new TypeError("Inputs don't have length");return[r,i].every(Ne.plainObject)&&(r=Object.keys(r),i=Object.keys(i)),[r,i]}function SM(t){return([e,n])=>Ne.array(t)?yr(t,n)||t.some(r=>yr(r,n)||Ne.array(n)&&fA(n)(r)):Ne.plainObject(t)&&t[e]?!!t[e]&&yr(t[e],n):yr(t,n)}function sJ(t,e){return e.some(n=>!t.includes(n))}function EM(t){return e=>Ne.array(t)?t.some(n=>yr(n,e)||Ne.array(e)&&fA(e)(n)):yr(t,e)}function Mf(t,e){return Ne.array(t)?t.some(n=>yr(n,e)):yr(t,e)}function fA(t){return e=>t.some(n=>yr(n,e))}function h$(...t){return t.every(Ne.array)||t.every(Ne.number)||t.every(Ne.plainObject)||t.every(Ne.string)}function Vs(t,e){return Ne.plainObject(t)||Ne.array(t)?Ne.string(e)?e.split(".").reduce((r,i)=>r&&r[i],t):Ne.number(e)?t[e]:t:t}function q0(t,e){if([t,e].some(Ne.nullOrUndefined))throw new Error("Missing required parameters");if(![t,e].every(h=>Ne.plainObject(h)||Ne.array(h)))throw new Error("Expected plain objects or array");return{added:(h,f)=>{try{return wM(t,e,{key:h,type:"added",value:f})}catch{return!1}},changed:(h,f,p)=>{try{const m=Vs(t,h),y=Vs(e,h),b=Ne.defined(f),E=Ne.defined(p);if(b||E){const x=E?Mf(p,m):!Mf(f,m),C=Mf(f,y);return x&&C}return[m,y].every(Ne.array)||[m,y].every(Ne.plainObject)?!yr(m,y):m!==y}catch{return!1}},changedFrom:(h,f,p)=>{if(!Ne.defined(h))return!1;try{const m=Vs(t,h),y=Vs(e,h),b=Ne.defined(p);return Mf(f,m)&&(b?Mf(p,y):!b)}catch{return!1}},decreased:(h,f,p)=>{if(!Ne.defined(h))return!1;try{return bM(t,e,{key:h,actual:f,previous:p,type:"decreased"})}catch{return!1}},emptied:h=>{try{const[f,p]=xM(t,e,{key:h});return!!f.length&&!p.length}catch{return!1}},filled:h=>{try{const[f,p]=xM(t,e,{key:h});return!f.length&&!!p.length}catch{return!1}},increased:(h,f,p)=>{if(!Ne.defined(h))return!1;try{return bM(t,e,{key:h,actual:f,previous:p,type:"increased"})}catch{return!1}},removed:(h,f)=>{try{return wM(t,e,{key:h,type:"removed",value:f})}catch{return!1}}}}var W1,CM;function oJ(){if(CM)return W1;CM=1;var t=new Error("Element already at target scroll position"),e=new Error("Scroll cancelled"),n=Math.min,r=Date.now;W1={left:i("scrollLeft"),top:i("scrollTop")};function i(a){return function(d,h,f,p){f=f||{},typeof f=="function"&&(p=f,f={}),typeof p!="function"&&(p=o);var m=r(),y=d[a],b=f.ease||s,E=isNaN(f.duration)?350:+f.duration,x=!1;return y===h?p(t,d[a]):requestAnimationFrame(S),C;function C(){x=!0}function S(_){if(x)return p(e,d[a]);var k=r(),N=n(1,(k-m)/E),T=b(N);d[a]=T*(h-y)+y,N<1?requestAnimationFrame(S):requestAnimationFrame(function(){p(null,d[a])})}}}function s(a){return .5*(1-Math.cos(Math.PI*a))}function o(){}return W1}var aJ=oJ();const lJ=as(aJ);var y0={exports:{}},cJ=y0.exports,_M;function uJ(){return _M||(_M=1,function(t){(function(e,n){t.exports?t.exports=n():e.Scrollparent=n()})(cJ,function(){function e(r){var i=getComputedStyle(r,null).getPropertyValue("overflow");return i.indexOf("scroll")>-1||i.indexOf("auto")>-1}function n(r){if(r instanceof HTMLElement||r instanceof SVGElement){for(var i=r.parentNode;i.parentNode;){if(e(i))return i;i=i.parentNode}return document.scrollingElement||document.documentElement}}return n})}(y0)),y0.exports}var dJ=uJ();const f$=as(dJ);var U1,AM;function hJ(){if(AM)return U1;AM=1;var t=function(r){return Object.prototype.hasOwnProperty.call(r,"props")},e=function(r,i){return r+n(i)},n=function(r){return r===null||typeof r=="boolean"||typeof r>"u"?"":typeof r=="number"?r.toString():typeof r=="string"?r:Array.isArray(r)?r.reduce(e,""):t(r)&&Object.prototype.hasOwnProperty.call(r.props,"children")?n(r.props.children):""};return n.default=n,U1=n,U1}var fJ=hJ();const kM=as(fJ);var V1,RM;function pJ(){if(RM)return V1;RM=1;var t=function(C){return e(C)&&!n(C)};function e(x){return!!x&&typeof x=="object"}function n(x){var C=Object.prototype.toString.call(x);return C==="[object RegExp]"||C==="[object Date]"||s(x)}var r=typeof Symbol=="function"&&Symbol.for,i=r?Symbol.for("react.element"):60103;function s(x){return x.$$typeof===i}function o(x){return Array.isArray(x)?[]:{}}function a(x,C){return C.clone!==!1&&C.isMergeableObject(x)?b(o(x),x,C):x}function c(x,C,S){return x.concat(C).map(function(_){return a(_,S)})}function d(x,C){if(!C.customMerge)return b;var S=C.customMerge(x);return typeof S=="function"?S:b}function h(x){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(x).filter(function(C){return Object.propertyIsEnumerable.call(x,C)}):[]}function f(x){return Object.keys(x).concat(h(x))}function p(x,C){try{return C in x}catch{return!1}}function m(x,C){return p(x,C)&&!(Object.hasOwnProperty.call(x,C)&&Object.propertyIsEnumerable.call(x,C))}function y(x,C,S){var _={};return S.isMergeableObject(x)&&f(x).forEach(function(k){_[k]=a(x[k],S)}),f(C).forEach(function(k){m(x,k)||(p(x,k)&&S.isMergeableObject(C[k])?_[k]=d(k,S)(x[k],C[k],S):_[k]=a(C[k],S))}),_}function b(x,C,S){S=S||{},S.arrayMerge=S.arrayMerge||c,S.isMergeableObject=S.isMergeableObject||t,S.cloneUnlessOtherwiseSpecified=a;var _=Array.isArray(C),k=Array.isArray(x),N=_===k;return N?_?S.arrayMerge(x,C,S):y(x,C,S):a(C,S)}b.all=function(C,S){if(!Array.isArray(C))throw new Error("first argument should be an array");return C.reduce(function(_,k){return b(_,k,S)},{})};var E=b;return V1=E,V1}var gJ=pJ();const ns=as(gJ);/**!
 * @fileOverview Kickass library to create and place poppers near their reference elements.
 * @version 1.16.1
 * @license
 * Copyright (c) 2016 Federico Zivolo and contributors
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 */var $m=typeof window<"u"&&typeof document<"u"&&typeof navigator<"u",mJ=function(){for(var t=["Edge","Trident","Firefox"],e=0;e<t.length;e+=1)if($m&&navigator.userAgent.indexOf(t[e])>=0)return 1;return 0}();function yJ(t){var e=!1;return function(){e||(e=!0,window.Promise.resolve().then(function(){e=!1,t()}))}}function vJ(t){var e=!1;return function(){e||(e=!0,setTimeout(function(){e=!1,t()},mJ))}}var bJ=$m&&window.Promise,wJ=bJ?yJ:vJ;function p$(t){var e={};return t&&e.toString.call(t)==="[object Function]"}function gu(t,e){if(t.nodeType!==1)return[];var n=t.ownerDocument.defaultView,r=n.getComputedStyle(t,null);return e?r[e]:r}function pA(t){return t.nodeName==="HTML"?t:t.parentNode||t.host}function zm(t){if(!t)return document.body;switch(t.nodeName){case"HTML":case"BODY":return t.ownerDocument.body;case"#document":return t.body}var e=gu(t),n=e.overflow,r=e.overflowX,i=e.overflowY;return/(auto|scroll|overlay)/.test(n+i+r)?t:zm(pA(t))}function g$(t){return t&&t.referenceNode?t.referenceNode:t}var TM=$m&&!!(window.MSInputMethodContext&&document.documentMode),PM=$m&&/MSIE 10/.test(navigator.userAgent);function Ph(t){return t===11?TM:t===10?PM:TM||PM}function Eh(t){if(!t)return document.documentElement;for(var e=Ph(10)?document.body:null,n=t.offsetParent||null;n===e&&t.nextElementSibling;)n=(t=t.nextElementSibling).offsetParent;var r=n&&n.nodeName;return!r||r==="BODY"||r==="HTML"?t?t.ownerDocument.documentElement:document.documentElement:["TH","TD","TABLE"].indexOf(n.nodeName)!==-1&&gu(n,"position")==="static"?Eh(n):n}function xJ(t){var e=t.nodeName;return e==="BODY"?!1:e==="HTML"||Eh(t.firstElementChild)===t}function e_(t){return t.parentNode!==null?e_(t.parentNode):t}function Y0(t,e){if(!t||!t.nodeType||!e||!e.nodeType)return document.documentElement;var n=t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_FOLLOWING,r=n?t:e,i=n?e:t,s=document.createRange();s.setStart(r,0),s.setEnd(i,0);var o=s.commonAncestorContainer;if(t!==o&&e!==o||r.contains(i))return xJ(o)?o:Eh(o);var a=e_(t);return a.host?Y0(a.host,e):Y0(t,e_(e).host)}function Ch(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"top",n=e==="top"?"scrollTop":"scrollLeft",r=t.nodeName;if(r==="BODY"||r==="HTML"){var i=t.ownerDocument.documentElement,s=t.ownerDocument.scrollingElement||i;return s[n]}return t[n]}function SJ(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,r=Ch(e,"top"),i=Ch(e,"left"),s=n?-1:1;return t.top+=r*s,t.bottom+=r*s,t.left+=i*s,t.right+=i*s,t}function IM(t,e){var n=e==="x"?"Left":"Top",r=n==="Left"?"Right":"Bottom";return parseFloat(t["border"+n+"Width"])+parseFloat(t["border"+r+"Width"])}function NM(t,e,n,r){return Math.max(e["offset"+t],e["scroll"+t],n["client"+t],n["offset"+t],n["scroll"+t],Ph(10)?parseInt(n["offset"+t])+parseInt(r["margin"+(t==="Height"?"Top":"Left")])+parseInt(r["margin"+(t==="Height"?"Bottom":"Right")]):0)}function m$(t){var e=t.body,n=t.documentElement,r=Ph(10)&&getComputedStyle(n);return{height:NM("Height",e,n,r),width:NM("Width",e,n,r)}}var EJ=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},CJ=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),_h=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t},Ti=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};function Sl(t){return Ti({},t,{right:t.left+t.width,bottom:t.top+t.height})}function t_(t){var e={};try{if(Ph(10)){e=t.getBoundingClientRect();var n=Ch(t,"top"),r=Ch(t,"left");e.top+=n,e.left+=r,e.bottom+=n,e.right+=r}else e=t.getBoundingClientRect()}catch{}var i={left:e.left,top:e.top,width:e.right-e.left,height:e.bottom-e.top},s=t.nodeName==="HTML"?m$(t.ownerDocument):{},o=s.width||t.clientWidth||i.width,a=s.height||t.clientHeight||i.height,c=t.offsetWidth-o,d=t.offsetHeight-a;if(c||d){var h=gu(t);c-=IM(h,"x"),d-=IM(h,"y"),i.width-=c,i.height-=d}return Sl(i)}function gA(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,r=Ph(10),i=e.nodeName==="HTML",s=t_(t),o=t_(e),a=zm(t),c=gu(e),d=parseFloat(c.borderTopWidth),h=parseFloat(c.borderLeftWidth);n&&i&&(o.top=Math.max(o.top,0),o.left=Math.max(o.left,0));var f=Sl({top:s.top-o.top-d,left:s.left-o.left-h,width:s.width,height:s.height});if(f.marginTop=0,f.marginLeft=0,!r&&i){var p=parseFloat(c.marginTop),m=parseFloat(c.marginLeft);f.top-=d-p,f.bottom-=d-p,f.left-=h-m,f.right-=h-m,f.marginTop=p,f.marginLeft=m}return(r&&!n?e.contains(a):e===a&&a.nodeName!=="BODY")&&(f=SJ(f,e)),f}function _J(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=t.ownerDocument.documentElement,r=gA(t,n),i=Math.max(n.clientWidth,window.innerWidth||0),s=Math.max(n.clientHeight,window.innerHeight||0),o=e?0:Ch(n),a=e?0:Ch(n,"left"),c={top:o-r.top+r.marginTop,left:a-r.left+r.marginLeft,width:i,height:s};return Sl(c)}function y$(t){var e=t.nodeName;if(e==="BODY"||e==="HTML")return!1;if(gu(t,"position")==="fixed")return!0;var n=pA(t);return n?y$(n):!1}function v$(t){if(!t||!t.parentElement||Ph())return document.documentElement;for(var e=t.parentElement;e&&gu(e,"transform")==="none";)e=e.parentElement;return e||document.documentElement}function mA(t,e,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1,s={top:0,left:0},o=i?v$(t):Y0(t,g$(e));if(r==="viewport")s=_J(o,i);else{var a=void 0;r==="scrollParent"?(a=zm(pA(e)),a.nodeName==="BODY"&&(a=t.ownerDocument.documentElement)):r==="window"?a=t.ownerDocument.documentElement:a=r;var c=gA(a,o,i);if(a.nodeName==="HTML"&&!y$(o)){var d=m$(t.ownerDocument),h=d.height,f=d.width;s.top+=c.top-c.marginTop,s.bottom=h+c.top,s.left+=c.left-c.marginLeft,s.right=f+c.left}else s=c}n=n||0;var p=typeof n=="number";return s.left+=p?n:n.left||0,s.top+=p?n:n.top||0,s.right-=p?n:n.right||0,s.bottom-=p?n:n.bottom||0,s}function AJ(t){var e=t.width,n=t.height;return e*n}function b$(t,e,n,r,i){var s=arguments.length>5&&arguments[5]!==void 0?arguments[5]:0;if(t.indexOf("auto")===-1)return t;var o=mA(n,r,s,i),a={top:{width:o.width,height:e.top-o.top},right:{width:o.right-e.right,height:o.height},bottom:{width:o.width,height:o.bottom-e.bottom},left:{width:e.left-o.left,height:o.height}},c=Object.keys(a).map(function(p){return Ti({key:p},a[p],{area:AJ(a[p])})}).sort(function(p,m){return m.area-p.area}),d=c.filter(function(p){var m=p.width,y=p.height;return m>=n.clientWidth&&y>=n.clientHeight}),h=d.length>0?d[0].key:c[0].key,f=t.split("-")[1];return h+(f?"-"+f:"")}function w$(t,e,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,i=r?v$(e):Y0(e,g$(n));return gA(n,i,r)}function x$(t){var e=t.ownerDocument.defaultView,n=e.getComputedStyle(t),r=parseFloat(n.marginTop||0)+parseFloat(n.marginBottom||0),i=parseFloat(n.marginLeft||0)+parseFloat(n.marginRight||0),s={width:t.offsetWidth+i,height:t.offsetHeight+r};return s}function X0(t){var e={left:"right",right:"left",bottom:"top",top:"bottom"};return t.replace(/left|right|bottom|top/g,function(n){return e[n]})}function S$(t,e,n){n=n.split("-")[0];var r=x$(t),i={width:r.width,height:r.height},s=["right","left"].indexOf(n)!==-1,o=s?"top":"left",a=s?"left":"top",c=s?"height":"width",d=s?"width":"height";return i[o]=e[o]+e[c]/2-r[c]/2,n===a?i[a]=e[a]-r[d]:i[a]=e[X0(a)],i}function jm(t,e){return Array.prototype.find?t.find(e):t.filter(e)[0]}function kJ(t,e,n){if(Array.prototype.findIndex)return t.findIndex(function(i){return i[e]===n});var r=jm(t,function(i){return i[e]===n});return t.indexOf(r)}function E$(t,e,n){var r=n===void 0?t:t.slice(0,kJ(t,"name",n));return r.forEach(function(i){i.function&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var s=i.function||i.fn;i.enabled&&p$(s)&&(e.offsets.popper=Sl(e.offsets.popper),e.offsets.reference=Sl(e.offsets.reference),e=s(e,i))}),e}function RJ(){if(!this.state.isDestroyed){var t={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};t.offsets.reference=w$(this.state,this.popper,this.reference,this.options.positionFixed),t.placement=b$(this.options.placement,t.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),t.originalPlacement=t.placement,t.positionFixed=this.options.positionFixed,t.offsets.popper=S$(this.popper,t.offsets.reference,t.placement),t.offsets.popper.position=this.options.positionFixed?"fixed":"absolute",t=E$(this.modifiers,t),this.state.isCreated?this.options.onUpdate(t):(this.state.isCreated=!0,this.options.onCreate(t))}}function C$(t,e){return t.some(function(n){var r=n.name,i=n.enabled;return i&&r===e})}function yA(t){for(var e=[!1,"ms","Webkit","Moz","O"],n=t.charAt(0).toUpperCase()+t.slice(1),r=0;r<e.length;r++){var i=e[r],s=i?""+i+n:t;if(typeof document.body.style[s]<"u")return s}return null}function TJ(){return this.state.isDestroyed=!0,C$(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.position="",this.popper.style.top="",this.popper.style.left="",this.popper.style.right="",this.popper.style.bottom="",this.popper.style.willChange="",this.popper.style[yA("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}function _$(t){var e=t.ownerDocument;return e?e.defaultView:window}function A$(t,e,n,r){var i=t.nodeName==="BODY",s=i?t.ownerDocument.defaultView:t;s.addEventListener(e,n,{passive:!0}),i||A$(zm(s.parentNode),e,n,r),r.push(s)}function PJ(t,e,n,r){n.updateBound=r,_$(t).addEventListener("resize",n.updateBound,{passive:!0});var i=zm(t);return A$(i,"scroll",n.updateBound,n.scrollParents),n.scrollElement=i,n.eventsEnabled=!0,n}function IJ(){this.state.eventsEnabled||(this.state=PJ(this.reference,this.options,this.state,this.scheduleUpdate))}function NJ(t,e){return _$(t).removeEventListener("resize",e.updateBound),e.scrollParents.forEach(function(n){n.removeEventListener("scroll",e.updateBound)}),e.updateBound=null,e.scrollParents=[],e.scrollElement=null,e.eventsEnabled=!1,e}function MJ(){this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=NJ(this.reference,this.state))}function vA(t){return t!==""&&!isNaN(parseFloat(t))&&isFinite(t)}function n_(t,e){Object.keys(e).forEach(function(n){var r="";["width","height","top","right","bottom","left"].indexOf(n)!==-1&&vA(e[n])&&(r="px"),t.style[n]=e[n]+r})}function OJ(t,e){Object.keys(e).forEach(function(n){var r=e[n];r!==!1?t.setAttribute(n,e[n]):t.removeAttribute(n)})}function LJ(t){return n_(t.instance.popper,t.styles),OJ(t.instance.popper,t.attributes),t.arrowElement&&Object.keys(t.arrowStyles).length&&n_(t.arrowElement,t.arrowStyles),t}function DJ(t,e,n,r,i){var s=w$(i,e,t,n.positionFixed),o=b$(n.placement,s,e,t,n.modifiers.flip.boundariesElement,n.modifiers.flip.padding);return e.setAttribute("x-placement",o),n_(e,{position:n.positionFixed?"fixed":"absolute"}),n}function FJ(t,e){var n=t.offsets,r=n.popper,i=n.reference,s=Math.round,o=Math.floor,a=function(x){return x},c=s(i.width),d=s(r.width),h=["left","right"].indexOf(t.placement)!==-1,f=t.placement.indexOf("-")!==-1,p=c%2===d%2,m=c%2===1&&d%2===1,y=e?h||f||p?s:o:a,b=e?s:a;return{left:y(m&&!f&&e?r.left-1:r.left),top:b(r.top),bottom:b(r.bottom),right:y(r.right)}}var $J=$m&&/Firefox/i.test(navigator.userAgent);function zJ(t,e){var n=e.x,r=e.y,i=t.offsets.popper,s=jm(t.instance.modifiers,function(S){return S.name==="applyStyle"}).gpuAcceleration;s!==void 0&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");var o=s!==void 0?s:e.gpuAcceleration,a=Eh(t.instance.popper),c=t_(a),d={position:i.position},h=FJ(t,window.devicePixelRatio<2||!$J),f=n==="bottom"?"top":"bottom",p=r==="right"?"left":"right",m=yA("transform"),y=void 0,b=void 0;if(f==="bottom"?a.nodeName==="HTML"?b=-a.clientHeight+h.bottom:b=-c.height+h.bottom:b=h.top,p==="right"?a.nodeName==="HTML"?y=-a.clientWidth+h.right:y=-c.width+h.right:y=h.left,o&&m)d[m]="translate3d("+y+"px, "+b+"px, 0)",d[f]=0,d[p]=0,d.willChange="transform";else{var E=f==="bottom"?-1:1,x=p==="right"?-1:1;d[f]=b*E,d[p]=y*x,d.willChange=f+", "+p}var C={"x-placement":t.placement};return t.attributes=Ti({},C,t.attributes),t.styles=Ti({},d,t.styles),t.arrowStyles=Ti({},t.offsets.arrow,t.arrowStyles),t}function k$(t,e,n){var r=jm(t,function(a){var c=a.name;return c===e}),i=!!r&&t.some(function(a){return a.name===n&&a.enabled&&a.order<r.order});if(!i){var s="`"+e+"`",o="`"+n+"`";console.warn(o+" modifier is required by "+s+" modifier in order to work, be sure to include it before "+s+"!")}return i}function jJ(t,e){var n;if(!k$(t.instance.modifiers,"arrow","keepTogether"))return t;var r=e.element;if(typeof r=="string"){if(r=t.instance.popper.querySelector(r),!r)return t}else if(!t.instance.popper.contains(r))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),t;var i=t.placement.split("-")[0],s=t.offsets,o=s.popper,a=s.reference,c=["left","right"].indexOf(i)!==-1,d=c?"height":"width",h=c?"Top":"Left",f=h.toLowerCase(),p=c?"left":"top",m=c?"bottom":"right",y=x$(r)[d];a[m]-y<o[f]&&(t.offsets.popper[f]-=o[f]-(a[m]-y)),a[f]+y>o[m]&&(t.offsets.popper[f]+=a[f]+y-o[m]),t.offsets.popper=Sl(t.offsets.popper);var b=a[f]+a[d]/2-y/2,E=gu(t.instance.popper),x=parseFloat(E["margin"+h]),C=parseFloat(E["border"+h+"Width"]),S=b-t.offsets.popper[f]-x-C;return S=Math.max(Math.min(o[d]-y,S),0),t.arrowElement=r,t.offsets.arrow=(n={},_h(n,f,Math.round(S)),_h(n,p,""),n),t}function BJ(t){return t==="end"?"start":t==="start"?"end":t}var R$=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],G1=R$.slice(3);function MM(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=G1.indexOf(t),r=G1.slice(n+1).concat(G1.slice(0,n));return e?r.reverse():r}var q1={FLIP:"flip",CLOCKWISE:"clockwise",COUNTERCLOCKWISE:"counterclockwise"};function HJ(t,e){if(C$(t.instance.modifiers,"inner")||t.flipped&&t.placement===t.originalPlacement)return t;var n=mA(t.instance.popper,t.instance.reference,e.padding,e.boundariesElement,t.positionFixed),r=t.placement.split("-")[0],i=X0(r),s=t.placement.split("-")[1]||"",o=[];switch(e.behavior){case q1.FLIP:o=[r,i];break;case q1.CLOCKWISE:o=MM(r);break;case q1.COUNTERCLOCKWISE:o=MM(r,!0);break;default:o=e.behavior}return o.forEach(function(a,c){if(r!==a||o.length===c+1)return t;r=t.placement.split("-")[0],i=X0(r);var d=t.offsets.popper,h=t.offsets.reference,f=Math.floor,p=r==="left"&&f(d.right)>f(h.left)||r==="right"&&f(d.left)<f(h.right)||r==="top"&&f(d.bottom)>f(h.top)||r==="bottom"&&f(d.top)<f(h.bottom),m=f(d.left)<f(n.left),y=f(d.right)>f(n.right),b=f(d.top)<f(n.top),E=f(d.bottom)>f(n.bottom),x=r==="left"&&m||r==="right"&&y||r==="top"&&b||r==="bottom"&&E,C=["top","bottom"].indexOf(r)!==-1,S=!!e.flipVariations&&(C&&s==="start"&&m||C&&s==="end"&&y||!C&&s==="start"&&b||!C&&s==="end"&&E),_=!!e.flipVariationsByContent&&(C&&s==="start"&&y||C&&s==="end"&&m||!C&&s==="start"&&E||!C&&s==="end"&&b),k=S||_;(p||x||k)&&(t.flipped=!0,(p||x)&&(r=o[c+1]),k&&(s=BJ(s)),t.placement=r+(s?"-"+s:""),t.offsets.popper=Ti({},t.offsets.popper,S$(t.instance.popper,t.offsets.reference,t.placement)),t=E$(t.instance.modifiers,t,"flip"))}),t}function WJ(t){var e=t.offsets,n=e.popper,r=e.reference,i=t.placement.split("-")[0],s=Math.floor,o=["top","bottom"].indexOf(i)!==-1,a=o?"right":"bottom",c=o?"left":"top",d=o?"width":"height";return n[a]<s(r[c])&&(t.offsets.popper[c]=s(r[c])-n[d]),n[c]>s(r[a])&&(t.offsets.popper[c]=s(r[a])),t}function UJ(t,e,n,r){var i=t.match(/((?:\-|\+)?\d*\.?\d*)(.*)/),s=+i[1],o=i[2];if(!s)return t;if(o.indexOf("%")===0){var a=void 0;switch(o){case"%p":a=n;break;case"%":case"%r":default:a=r}var c=Sl(a);return c[e]/100*s}else if(o==="vh"||o==="vw"){var d=void 0;return o==="vh"?d=Math.max(document.documentElement.clientHeight,window.innerHeight||0):d=Math.max(document.documentElement.clientWidth,window.innerWidth||0),d/100*s}else return s}function VJ(t,e,n,r){var i=[0,0],s=["right","left"].indexOf(r)!==-1,o=t.split(/(\+|\-)/).map(function(h){return h.trim()}),a=o.indexOf(jm(o,function(h){return h.search(/,|\s/)!==-1}));o[a]&&o[a].indexOf(",")===-1&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.");var c=/\s*,\s*|\s+/,d=a!==-1?[o.slice(0,a).concat([o[a].split(c)[0]]),[o[a].split(c)[1]].concat(o.slice(a+1))]:[o];return d=d.map(function(h,f){var p=(f===1?!s:s)?"height":"width",m=!1;return h.reduce(function(y,b){return y[y.length-1]===""&&["+","-"].indexOf(b)!==-1?(y[y.length-1]=b,m=!0,y):m?(y[y.length-1]+=b,m=!1,y):y.concat(b)},[]).map(function(y){return UJ(y,p,e,n)})}),d.forEach(function(h,f){h.forEach(function(p,m){vA(p)&&(i[f]+=p*(h[m-1]==="-"?-1:1))})}),i}function GJ(t,e){var n=e.offset,r=t.placement,i=t.offsets,s=i.popper,o=i.reference,a=r.split("-")[0],c=void 0;return vA(+n)?c=[+n,0]:c=VJ(n,s,o,a),a==="left"?(s.top+=c[0],s.left-=c[1]):a==="right"?(s.top+=c[0],s.left+=c[1]):a==="top"?(s.left+=c[0],s.top-=c[1]):a==="bottom"&&(s.left+=c[0],s.top+=c[1]),t.popper=s,t}function qJ(t,e){var n=e.boundariesElement||Eh(t.instance.popper);t.instance.reference===n&&(n=Eh(n));var r=yA("transform"),i=t.instance.popper.style,s=i.top,o=i.left,a=i[r];i.top="",i.left="",i[r]="";var c=mA(t.instance.popper,t.instance.reference,e.padding,n,t.positionFixed);i.top=s,i.left=o,i[r]=a,e.boundaries=c;var d=e.priority,h=t.offsets.popper,f={primary:function(m){var y=h[m];return h[m]<c[m]&&!e.escapeWithReference&&(y=Math.max(h[m],c[m])),_h({},m,y)},secondary:function(m){var y=m==="right"?"left":"top",b=h[y];return h[m]>c[m]&&!e.escapeWithReference&&(b=Math.min(h[y],c[m]-(m==="right"?h.width:h.height))),_h({},y,b)}};return d.forEach(function(p){var m=["left","top"].indexOf(p)!==-1?"primary":"secondary";h=Ti({},h,f[m](p))}),t.offsets.popper=h,t}function YJ(t){var e=t.placement,n=e.split("-")[0],r=e.split("-")[1];if(r){var i=t.offsets,s=i.reference,o=i.popper,a=["bottom","top"].indexOf(n)!==-1,c=a?"left":"top",d=a?"width":"height",h={start:_h({},c,s[c]),end:_h({},c,s[c]+s[d]-o[d])};t.offsets.popper=Ti({},o,h[r])}return t}function XJ(t){if(!k$(t.instance.modifiers,"hide","preventOverflow"))return t;var e=t.offsets.reference,n=jm(t.instance.modifiers,function(r){return r.name==="preventOverflow"}).boundaries;if(e.bottom<n.top||e.left>n.right||e.top>n.bottom||e.right<n.left){if(t.hide===!0)return t;t.hide=!0,t.attributes["x-out-of-boundaries"]=""}else{if(t.hide===!1)return t;t.hide=!1,t.attributes["x-out-of-boundaries"]=!1}return t}function KJ(t){var e=t.placement,n=e.split("-")[0],r=t.offsets,i=r.popper,s=r.reference,o=["left","right"].indexOf(n)!==-1,a=["top","left"].indexOf(n)===-1;return i[o?"left":"top"]=s[n]-(a?i[o?"width":"height"]:0),t.placement=X0(e),t.offsets.popper=Sl(i),t}var QJ={shift:{order:100,enabled:!0,fn:YJ},offset:{order:200,enabled:!0,fn:GJ,offset:0},preventOverflow:{order:300,enabled:!0,fn:qJ,priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:WJ},arrow:{order:500,enabled:!0,fn:jJ,element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:HJ,behavior:"flip",padding:5,boundariesElement:"viewport",flipVariations:!1,flipVariationsByContent:!1},inner:{order:700,enabled:!1,fn:KJ},hide:{order:800,enabled:!0,fn:XJ},computeStyle:{order:850,enabled:!0,fn:zJ,gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:LJ,onLoad:DJ,gpuAcceleration:void 0}},ZJ={placement:"bottom",positionFixed:!1,eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:QJ},Fp=function(){function t(e,n){var r=this,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};EJ(this,t),this.scheduleUpdate=function(){return requestAnimationFrame(r.update)},this.update=wJ(this.update.bind(this)),this.options=Ti({},t.Defaults,i),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=e&&e.jquery?e[0]:e,this.popper=n&&n.jquery?n[0]:n,this.options.modifiers={},Object.keys(Ti({},t.Defaults.modifiers,i.modifiers)).forEach(function(o){r.options.modifiers[o]=Ti({},t.Defaults.modifiers[o]||{},i.modifiers?i.modifiers[o]:{})}),this.modifiers=Object.keys(this.options.modifiers).map(function(o){return Ti({name:o},r.options.modifiers[o])}).sort(function(o,a){return o.order-a.order}),this.modifiers.forEach(function(o){o.enabled&&p$(o.onLoad)&&o.onLoad(r.reference,r.popper,r.options,o,r.state)}),this.update();var s=this.options.eventsEnabled;s&&this.enableEventListeners(),this.state.eventsEnabled=s}return CJ(t,[{key:"update",value:function(){return RJ.call(this)}},{key:"destroy",value:function(){return TJ.call(this)}},{key:"enableEventListeners",value:function(){return IJ.call(this)}},{key:"disableEventListeners",value:function(){return MJ.call(this)}}]),t}();Fp.Utils=(typeof window<"u"?window:global).PopperUtils;Fp.placements=R$;Fp.Defaults=ZJ;var JJ=["innerHTML","ownerDocument","style","attributes","nodeValue"],eee=["Array","ArrayBuffer","AsyncFunction","AsyncGenerator","AsyncGeneratorFunction","Date","Error","Function","Generator","GeneratorFunction","HTMLElement","Map","Object","Promise","RegExp","Set","WeakMap","WeakSet"],tee=["bigint","boolean","null","number","string","symbol","undefined"];function cw(t){var e=Object.prototype.toString.call(t).slice(8,-1);if(/HTML\w+Element/.test(e))return"HTMLElement";if(nee(e))return e}function us(t){return function(e){return cw(e)===t}}function nee(t){return eee.includes(t)}function Ih(t){return function(e){return typeof e===t}}function ree(t){return tee.includes(t)}function he(t){if(t===null)return"null";switch(typeof t){case"bigint":return"bigint";case"boolean":return"boolean";case"number":return"number";case"string":return"string";case"symbol":return"symbol";case"undefined":return"undefined"}if(he.array(t))return"Array";if(he.plainFunction(t))return"Function";var e=cw(t);return e||"Object"}he.array=Array.isArray;he.arrayOf=function(t,e){return!he.array(t)&&!he.function(e)?!1:t.every(function(n){return e(n)})};he.asyncGeneratorFunction=function(t){return cw(t)==="AsyncGeneratorFunction"};he.asyncFunction=us("AsyncFunction");he.bigint=Ih("bigint");he.boolean=function(t){return t===!0||t===!1};he.date=us("Date");he.defined=function(t){return!he.undefined(t)};he.domElement=function(t){return he.object(t)&&!he.plainObject(t)&&t.nodeType===1&&he.string(t.nodeName)&&JJ.every(function(e){return e in t})};he.empty=function(t){return he.string(t)&&t.length===0||he.array(t)&&t.length===0||he.object(t)&&!he.map(t)&&!he.set(t)&&Object.keys(t).length===0||he.set(t)&&t.size===0||he.map(t)&&t.size===0};he.error=us("Error");he.function=Ih("function");he.generator=function(t){return he.iterable(t)&&he.function(t.next)&&he.function(t.throw)};he.generatorFunction=us("GeneratorFunction");he.instanceOf=function(t,e){return!t||!e?!1:Object.getPrototypeOf(t)===e.prototype};he.iterable=function(t){return!he.nullOrUndefined(t)&&he.function(t[Symbol.iterator])};he.map=us("Map");he.nan=function(t){return Number.isNaN(t)};he.null=function(t){return t===null};he.nullOrUndefined=function(t){return he.null(t)||he.undefined(t)};he.number=function(t){return Ih("number")(t)&&!he.nan(t)};he.numericString=function(t){return he.string(t)&&t.length>0&&!Number.isNaN(Number(t))};he.object=function(t){return!he.nullOrUndefined(t)&&(he.function(t)||typeof t=="object")};he.oneOf=function(t,e){return he.array(t)?t.indexOf(e)>-1:!1};he.plainFunction=us("Function");he.plainObject=function(t){if(cw(t)!=="Object")return!1;var e=Object.getPrototypeOf(t);return e===null||e===Object.getPrototypeOf({})};he.primitive=function(t){return he.null(t)||ree(typeof t)};he.promise=us("Promise");he.propertyOf=function(t,e,n){if(!he.object(t)||!e)return!1;var r=t[e];return he.function(n)?n(r):he.defined(r)};he.regexp=us("RegExp");he.set=us("Set");he.string=Ih("string");he.symbol=Ih("symbol");he.undefined=Ih("undefined");he.weakMap=us("WeakMap");he.weakSet=us("WeakSet");function T$(t){return function(e){return typeof e===t}}var iee=T$("function"),see=function(t){return t===null},OM=function(t){return Object.prototype.toString.call(t).slice(8,-1)==="RegExp"},LM=function(t){return!oee(t)&&!see(t)&&(iee(t)||typeof t=="object")},oee=T$("undefined"),r_=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};function aee(t,e){var n=t.length;if(n!==e.length)return!1;for(var r=n;r--!==0;)if(!Lr(t[r],e[r]))return!1;return!0}function lee(t,e){if(t.byteLength!==e.byteLength)return!1;for(var n=new DataView(t.buffer),r=new DataView(e.buffer),i=t.byteLength;i--;)if(n.getUint8(i)!==r.getUint8(i))return!1;return!0}function cee(t,e){var n,r,i,s;if(t.size!==e.size)return!1;try{for(var o=r_(t.entries()),a=o.next();!a.done;a=o.next()){var c=a.value;if(!e.has(c[0]))return!1}}catch(f){n={error:f}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}try{for(var d=r_(t.entries()),h=d.next();!h.done;h=d.next()){var c=h.value;if(!Lr(c[1],e.get(c[0])))return!1}}catch(f){i={error:f}}finally{try{h&&!h.done&&(s=d.return)&&s.call(d)}finally{if(i)throw i.error}}return!0}function uee(t,e){var n,r;if(t.size!==e.size)return!1;try{for(var i=r_(t.entries()),s=i.next();!s.done;s=i.next()){var o=s.value;if(!e.has(o[0]))return!1}}catch(a){n={error:a}}finally{try{s&&!s.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}return!0}function Lr(t,e){if(t===e)return!0;if(t&&LM(t)&&e&&LM(e)){if(t.constructor!==e.constructor)return!1;if(Array.isArray(t)&&Array.isArray(e))return aee(t,e);if(t instanceof Map&&e instanceof Map)return cee(t,e);if(t instanceof Set&&e instanceof Set)return uee(t,e);if(ArrayBuffer.isView(t)&&ArrayBuffer.isView(e))return lee(t,e);if(OM(t)&&OM(e))return t.source===e.source&&t.flags===e.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===e.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===e.toString();var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(var i=n.length;i--!==0;)if(!Object.prototype.hasOwnProperty.call(e,n[i]))return!1;for(var i=n.length;i--!==0;){var s=n[i];if(!(s==="_owner"&&t.$$typeof)&&!Lr(t[s],e[s]))return!1}return!0}return Number.isNaN(t)&&Number.isNaN(e)?!0:t===e}function dee(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t.every(function(n){return he.string(n)||he.array(n)||he.plainObject(n)})}function hee(t,e,n){return P$(t,e)?[t,e].every(he.array)?!t.some(jM(n))&&e.some(jM(n)):[t,e].every(he.plainObject)?!Object.entries(t).some(zM(n))&&Object.entries(e).some(zM(n)):e===n:!1}function DM(t,e,n){var r=n.actual,i=n.key,s=n.previous,o=n.type,a=Gs(t,i),c=Gs(e,i),d=[a,c].every(he.number)&&(o==="increased"?a<c:a>c);return he.undefined(r)||(d=d&&c===r),he.undefined(s)||(d=d&&a===s),d}function FM(t,e,n){var r=n.key,i=n.type,s=n.value,o=Gs(t,r),a=Gs(e,r),c=i==="added"?o:a,d=i==="added"?a:o;if(!he.nullOrUndefined(s)){if(he.defined(c)){if(he.array(c)||he.plainObject(c))return hee(c,d,s)}else return Lr(d,s);return!1}return[o,a].every(he.array)?!d.every(bA(c)):[o,a].every(he.plainObject)?fee(Object.keys(c),Object.keys(d)):![o,a].every(function(h){return he.primitive(h)&&he.defined(h)})&&(i==="added"?!he.defined(o)&&he.defined(a):he.defined(o)&&!he.defined(a))}function $M(t,e,n){var r=n===void 0?{}:n,i=r.key,s=Gs(t,i),o=Gs(e,i);if(!P$(s,o))throw new TypeError("Inputs have different types");if(!dee(s,o))throw new TypeError("Inputs don't have length");return[s,o].every(he.plainObject)&&(s=Object.keys(s),o=Object.keys(o)),[s,o]}function zM(t){return function(e){var n=e[0],r=e[1];return he.array(t)?Lr(t,r)||t.some(function(i){return Lr(i,r)||he.array(r)&&bA(r)(i)}):he.plainObject(t)&&t[n]?!!t[n]&&Lr(t[n],r):Lr(t,r)}}function fee(t,e){return e.some(function(n){return!t.includes(n)})}function jM(t){return function(e){return he.array(t)?t.some(function(n){return Lr(n,e)||he.array(e)&&bA(e)(n)}):Lr(t,e)}}function Of(t,e){return he.array(t)?t.some(function(n){return Lr(n,e)}):Lr(t,e)}function bA(t){return function(e){return t.some(function(n){return Lr(n,e)})}}function P$(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t.every(he.array)||t.every(he.number)||t.every(he.plainObject)||t.every(he.string)}function Gs(t,e){if(he.plainObject(t)||he.array(t)){if(he.string(e)){var n=e.split(".");return n.reduce(function(r,i){return r&&r[i]},t)}return he.number(e)?t[e]:t}return t}function pee(t,e){if([t,e].some(he.nullOrUndefined))throw new Error("Missing required parameters");if(![t,e].every(function(f){return he.plainObject(f)||he.array(f)}))throw new Error("Expected plain objects or array");var n=function(f,p){try{return FM(t,e,{key:f,type:"added",value:p})}catch{return!1}},r=function(f,p,m){try{var y=Gs(t,f),b=Gs(e,f),E=he.defined(p),x=he.defined(m);if(E||x){var C=x?Of(m,y):!Of(p,y),S=Of(p,b);return C&&S}return[y,b].every(he.array)||[y,b].every(he.plainObject)?!Lr(y,b):y!==b}catch{return!1}},i=function(f,p,m){if(!he.defined(f))return!1;try{var y=Gs(t,f),b=Gs(e,f),E=he.defined(m);return Of(p,y)&&(E?Of(m,b):!E)}catch{return!1}},s=function(f,p){return he.defined(f)?r(f,p):!1},o=function(f,p,m){if(!he.defined(f))return!1;try{return DM(t,e,{key:f,actual:p,previous:m,type:"decreased"})}catch{return!1}},a=function(f){try{var p=$M(t,e,{key:f}),m=p[0],y=p[1];return!!m.length&&!y.length}catch{return!1}},c=function(f){try{var p=$M(t,e,{key:f}),m=p[0],y=p[1];return!m.length&&!!y.length}catch{return!1}},d=function(f,p,m){if(!he.defined(f))return!1;try{return DM(t,e,{key:f,actual:p,previous:m,type:"increased"})}catch{return!1}},h=function(f,p){try{return FM(t,e,{key:f,type:"removed",value:p})}catch{return!1}};return{added:n,changed:r,changedFrom:i,changedTo:s,decreased:o,emptied:a,filled:c,increased:d,removed:h}}function BM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ut(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?BM(Object(n),!0).forEach(function(r){nr(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):BM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Bm(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function gee(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,N$(r.key),r)}}function Hm(t,e,n){return e&&gee(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function nr(t,e,n){return e=N$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Wm(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&i_(t,e)}function K0(t){return K0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},K0(t)}function i_(t,e){return i_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},i_(t,e)}function mee(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function yee(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function I$(t,e){if(t==null)return{};var n=yee(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function vo(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function vee(t,e){if(e&&(typeof e=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vo(t)}function Um(t){var e=mee();return function(){var r=K0(t),i;if(e){var s=K0(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return vee(this,i)}}function bee(t,e){if(typeof t!="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function N$(t){var e=bee(t,"string");return typeof e=="symbol"?e:String(e)}var wee={flip:{padding:20},preventOverflow:{padding:10}},xee="The typeValidator argument must be a function with the signature function(props, propName, componentName).",See="The error message is optional, but must be a string if provided.";function Eee(t,e,n,r){return typeof t=="boolean"?t:typeof t=="function"?t(e,n,r):t?!!t:!1}function Cee(t,e){return Object.hasOwnProperty.call(t,e)}function _ee(t,e,n,r){return new Error("Required ".concat(t[e]," `").concat(e,"` was not specified in `").concat(n,"`."))}function Aee(t,e){if(typeof t!="function")throw new TypeError(xee);if(e)throw new TypeError(See)}function HM(t,e,n){return Aee(t,n),function(r,i,s){for(var o=arguments.length,a=new Array(o>3?o-3:0),c=3;c<o;c++)a[c-3]=arguments[c];return Eee(e,r,i,s)?Cee(r,i)?t.apply(void 0,[r,i,s].concat(a)):_ee(r,i,s):t.apply(void 0,[r,i,s].concat(a))}}var it={INIT:"init",IDLE:"idle",OPENING:"opening",OPEN:"open",CLOSING:"closing"},Lf=gl.createPortal!==void 0;function Bs(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}function Y1(){return"ontouchstart"in window&&/Mobi/.test(navigator.userAgent)}function Ov(t){var e=t.title,n=t.data,r=t.warn,i=r===void 0?!1:r,s=t.debug,o=s===void 0?!1:s,a=i?console.warn||console.error:console.log;o&&e&&n&&(console.groupCollapsed("%creact-floater: ".concat(e),"color: #9b00ff; font-weight: bold; font-size: 12px;"),Array.isArray(n)?n.forEach(function(c){he.plainObject(c)&&c.key?a.apply(console,[c.key,c.value]):a.apply(console,[c])}):a.apply(console,[n]),console.groupEnd())}function kee(t,e,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;t.addEventListener(e,n,r)}function Ree(t,e,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;t.removeEventListener(e,n,r)}function Tee(t,e,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,i;i=function(o){n(o),Ree(t,e,i)},kee(t,e,i,r)}function WM(){}var M$=function(t){Wm(n,t);var e=Um(n);function n(){return Bm(this,n),e.apply(this,arguments)}return Hm(n,[{key:"componentDidMount",value:function(){Bs()&&(this.node||this.appendNode(),Lf||this.renderPortal())}},{key:"componentDidUpdate",value:function(){Bs()&&(Lf||this.renderPortal())}},{key:"componentWillUnmount",value:function(){!Bs()||!this.node||(Lf||gl.unmountComponentAtNode(this.node),this.node&&this.node.parentNode===document.body&&(document.body.removeChild(this.node),this.node=void 0))}},{key:"appendNode",value:function(){var i=this.props,s=i.id,o=i.zIndex;this.node||(this.node=document.createElement("div"),s&&(this.node.id=s),o&&(this.node.style.zIndex=o),document.body.appendChild(this.node))}},{key:"renderPortal",value:function(){if(!Bs())return null;var i=this.props,s=i.children,o=i.setRef;if(this.node||this.appendNode(),Lf)return gl.createPortal(s,this.node);var a=gl.unstable_renderSubtreeIntoContainer(this,s.length>1?Ce.createElement("div",null,s):s[0],this.node);return o(a),null}},{key:"renderReact16",value:function(){var i=this.props,s=i.hasChildren,o=i.placement,a=i.target;return s?this.renderPortal():a||o==="center"?this.renderPortal():null}},{key:"render",value:function(){return Lf?this.renderReact16():null}}]),n}(Ce.Component);nr(M$,"propTypes",{children:we.oneOfType([we.element,we.array]),hasChildren:we.bool,id:we.oneOfType([we.string,we.number]),placement:we.string,setRef:we.func.isRequired,target:we.oneOfType([we.object,we.string]),zIndex:we.number});var O$=function(t){Wm(n,t);var e=Um(n);function n(){return Bm(this,n),e.apply(this,arguments)}return Hm(n,[{key:"parentStyle",get:function(){var i=this.props,s=i.placement,o=i.styles,a=o.arrow.length,c={pointerEvents:"none",position:"absolute",width:"100%"};return s.startsWith("top")?(c.bottom=0,c.left=0,c.right=0,c.height=a):s.startsWith("bottom")?(c.left=0,c.right=0,c.top=0,c.height=a):s.startsWith("left")?(c.right=0,c.top=0,c.bottom=0):s.startsWith("right")&&(c.left=0,c.top=0),c}},{key:"render",value:function(){var i=this.props,s=i.placement,o=i.setArrowRef,a=i.styles,c=a.arrow,d=c.color,h=c.display,f=c.length,p=c.margin,m=c.position,y=c.spread,b={display:h,position:m},E,x=y,C=f;return s.startsWith("top")?(E="0,0 ".concat(x/2,",").concat(C," ").concat(x,",0"),b.bottom=0,b.marginLeft=p,b.marginRight=p):s.startsWith("bottom")?(E="".concat(x,",").concat(C," ").concat(x/2,",0 0,").concat(C),b.top=0,b.marginLeft=p,b.marginRight=p):s.startsWith("left")?(C=y,x=f,E="0,0 ".concat(x,",").concat(C/2," 0,").concat(C),b.right=0,b.marginTop=p,b.marginBottom=p):s.startsWith("right")&&(C=y,x=f,E="".concat(x,",").concat(C," ").concat(x,",0 0,").concat(C/2),b.left=0,b.marginTop=p,b.marginBottom=p),Ce.createElement("div",{className:"__floater__arrow",style:this.parentStyle},Ce.createElement("span",{ref:o,style:b},Ce.createElement("svg",{width:x,height:C,version:"1.1",xmlns:"http://www.w3.org/2000/svg"},Ce.createElement("polygon",{points:E,fill:d}))))}}]),n}(Ce.Component);nr(O$,"propTypes",{placement:we.string.isRequired,setArrowRef:we.func.isRequired,styles:we.object.isRequired});var Pee=["color","height","width"];function L$(t){var e=t.handleClick,n=t.styles,r=n.color,i=n.height,s=n.width,o=I$(n,Pee);return Ce.createElement("button",{"aria-label":"close",onClick:e,style:o,type:"button"},Ce.createElement("svg",{width:"".concat(s,"px"),height:"".concat(i,"px"),viewBox:"0 0 18 18",version:"1.1",xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"xMidYMid"},Ce.createElement("g",null,Ce.createElement("path",{d:"M8.13911129,9.00268191 L0.171521827,17.0258467 C-0.0498027049,17.248715 -0.0498027049,17.6098394 0.171521827,17.8327545 C0.28204354,17.9443526 0.427188206,17.9998706 0.572051765,17.9998706 C0.71714958,17.9998706 0.862013139,17.9443526 0.972581703,17.8327545 L9.0000937,9.74924618 L17.0276057,17.8327545 C17.1384085,17.9443526 17.2832721,17.9998706 17.4281356,17.9998706 C17.5729992,17.9998706 17.718097,17.9443526 17.8286656,17.8327545 C18.0499901,17.6098862 18.0499901,17.2487618 17.8286656,17.0258467 L9.86135722,9.00268191 L17.8340066,0.973848225 C18.0553311,0.750979934 18.0553311,0.389855532 17.8340066,0.16694039 C17.6126821,-0.0556467968 17.254037,-0.0556467968 17.0329467,0.16694039 L9.00042166,8.25611765 L0.967006424,0.167268345 C0.745681892,-0.0553188426 0.387317931,-0.0553188426 0.165993399,0.167268345 C-0.0553311331,0.390136635 -0.0553311331,0.751261038 0.165993399,0.974176179 L8.13920499,9.00268191 L8.13911129,9.00268191 Z",fill:r}))))}L$.propTypes={handleClick:we.func.isRequired,styles:we.object.isRequired};function D$(t){var e=t.content,n=t.footer,r=t.handleClick,i=t.open,s=t.positionWrapper,o=t.showCloseButton,a=t.title,c=t.styles,d={content:Ce.isValidElement(e)?e:Ce.createElement("div",{className:"__floater__content",style:c.content},e)};return a&&(d.title=Ce.isValidElement(a)?a:Ce.createElement("div",{className:"__floater__title",style:c.title},a)),n&&(d.footer=Ce.isValidElement(n)?n:Ce.createElement("div",{className:"__floater__footer",style:c.footer},n)),(o||s)&&!he.boolean(i)&&(d.close=Ce.createElement(L$,{styles:c.close,handleClick:r})),Ce.createElement("div",{className:"__floater__container",style:c.container},d.close,d.title,d.content,d.footer)}D$.propTypes={content:we.node.isRequired,footer:we.node,handleClick:we.func.isRequired,open:we.bool,positionWrapper:we.bool.isRequired,showCloseButton:we.bool.isRequired,styles:we.object.isRequired,title:we.node};var F$=function(t){Wm(n,t);var e=Um(n);function n(){return Bm(this,n),e.apply(this,arguments)}return Hm(n,[{key:"style",get:function(){var i=this.props,s=i.disableAnimation,o=i.component,a=i.placement,c=i.hideArrow,d=i.status,h=i.styles,f=h.arrow.length,p=h.floater,m=h.floaterCentered,y=h.floaterClosing,b=h.floaterOpening,E=h.floaterWithAnimation,x=h.floaterWithComponent,C={};return c||(a.startsWith("top")?C.padding="0 0 ".concat(f,"px"):a.startsWith("bottom")?C.padding="".concat(f,"px 0 0"):a.startsWith("left")?C.padding="0 ".concat(f,"px 0 0"):a.startsWith("right")&&(C.padding="0 0 0 ".concat(f,"px"))),[it.OPENING,it.OPEN].indexOf(d)!==-1&&(C=Ut(Ut({},C),b)),d===it.CLOSING&&(C=Ut(Ut({},C),y)),d===it.OPEN&&!s&&(C=Ut(Ut({},C),E)),a==="center"&&(C=Ut(Ut({},C),m)),o&&(C=Ut(Ut({},C),x)),Ut(Ut({},p),C)}},{key:"render",value:function(){var i=this.props,s=i.component,o=i.handleClick,a=i.hideArrow,c=i.setFloaterRef,d=i.status,h={},f=["__floater"];return s?Ce.isValidElement(s)?h.content=Ce.cloneElement(s,{closeFn:o}):h.content=s({closeFn:o}):h.content=Ce.createElement(D$,this.props),d===it.OPEN&&f.push("__floater__open"),a||(h.arrow=Ce.createElement(O$,this.props)),Ce.createElement("div",{ref:c,className:f.join(" "),style:this.style},Ce.createElement("div",{className:"__floater__body"},h.content,h.arrow))}}]),n}(Ce.Component);nr(F$,"propTypes",{component:we.oneOfType([we.func,we.element]),content:we.node,disableAnimation:we.bool.isRequired,footer:we.node,handleClick:we.func.isRequired,hideArrow:we.bool.isRequired,open:we.bool,placement:we.string.isRequired,positionWrapper:we.bool.isRequired,setArrowRef:we.func.isRequired,setFloaterRef:we.func.isRequired,showCloseButton:we.bool,status:we.string.isRequired,styles:we.object.isRequired,title:we.node});var $$=function(t){Wm(n,t);var e=Um(n);function n(){return Bm(this,n),e.apply(this,arguments)}return Hm(n,[{key:"render",value:function(){var i=this.props,s=i.children,o=i.handleClick,a=i.handleMouseEnter,c=i.handleMouseLeave,d=i.setChildRef,h=i.setWrapperRef,f=i.style,p=i.styles,m;if(s)if(Ce.Children.count(s)===1)if(!Ce.isValidElement(s))m=Ce.createElement("span",null,s);else{var y=he.function(s.type)?"innerRef":"ref";m=Ce.cloneElement(Ce.Children.only(s),nr({},y,d))}else m=s;return m?Ce.createElement("span",{ref:h,style:Ut(Ut({},p),f),onClick:o,onMouseEnter:a,onMouseLeave:c},m):null}}]),n}(Ce.Component);nr($$,"propTypes",{children:we.node,handleClick:we.func.isRequired,handleMouseEnter:we.func.isRequired,handleMouseLeave:we.func.isRequired,setChildRef:we.func.isRequired,setWrapperRef:we.func.isRequired,style:we.object,styles:we.object.isRequired});var Iee={zIndex:100};function Nee(t){var e=ns(Iee,t.options||{});return{wrapper:{cursor:"help",display:"inline-flex",flexDirection:"column",zIndex:e.zIndex},wrapperPosition:{left:-1e3,position:"absolute",top:-1e3,visibility:"hidden"},floater:{display:"inline-block",filter:"drop-shadow(0 0 3px rgba(0, 0, 0, 0.3))",maxWidth:300,opacity:0,position:"relative",transition:"opacity 0.3s",visibility:"hidden",zIndex:e.zIndex},floaterOpening:{opacity:1,visibility:"visible"},floaterWithAnimation:{opacity:1,transition:"opacity 0.3s, transform 0.2s",visibility:"visible"},floaterWithComponent:{maxWidth:"100%"},floaterClosing:{opacity:0,visibility:"visible"},floaterCentered:{left:"50%",position:"fixed",top:"50%",transform:"translate(-50%, -50%)"},container:{backgroundColor:"#fff",color:"#666",minHeight:60,minWidth:200,padding:20,position:"relative",zIndex:10},title:{borderBottom:"1px solid #555",color:"#555",fontSize:18,marginBottom:5,paddingBottom:6,paddingRight:18},content:{fontSize:15},close:{backgroundColor:"transparent",border:0,borderRadius:0,color:"#555",fontSize:0,height:15,outline:"none",padding:10,position:"absolute",right:0,top:0,width:15,WebkitAppearance:"none"},footer:{borderTop:"1px solid #ccc",fontSize:13,marginTop:10,paddingTop:5},arrow:{color:"#fff",display:"inline-flex",length:16,margin:8,position:"absolute",spread:32},options:e}}var Mee=["arrow","flip","offset"],Oee=["position","top","right","bottom","left"],wA=function(t){Wm(n,t);var e=Um(n);function n(r){var i;return Bm(this,n),i=e.call(this,r),nr(vo(i),"setArrowRef",function(s){i.arrowRef=s}),nr(vo(i),"setChildRef",function(s){i.childRef=s}),nr(vo(i),"setFloaterRef",function(s){i.floaterRef=s}),nr(vo(i),"setWrapperRef",function(s){i.wrapperRef=s}),nr(vo(i),"handleTransitionEnd",function(){var s=i.state.status,o=i.props.callback;i.wrapperPopper&&i.wrapperPopper.instance.update(),i.setState({status:s===it.OPENING?it.OPEN:it.IDLE},function(){var a=i.state.status;o(a===it.OPEN?"open":"close",i.props)})}),nr(vo(i),"handleClick",function(){var s=i.props,o=s.event,a=s.open;if(!he.boolean(a)){var c=i.state,d=c.positionWrapper,h=c.status;(i.event==="click"||i.event==="hover"&&d)&&(Ov({title:"click",data:[{event:o,status:h===it.OPEN?"closing":"opening"}],debug:i.debug}),i.toggle())}}),nr(vo(i),"handleMouseEnter",function(){var s=i.props,o=s.event,a=s.open;if(!(he.boolean(a)||Y1())){var c=i.state.status;i.event==="hover"&&c===it.IDLE&&(Ov({title:"mouseEnter",data:[{key:"originalEvent",value:o}],debug:i.debug}),clearTimeout(i.eventDelayTimeout),i.toggle())}}),nr(vo(i),"handleMouseLeave",function(){var s=i.props,o=s.event,a=s.eventDelay,c=s.open;if(!(he.boolean(c)||Y1())){var d=i.state,h=d.status,f=d.positionWrapper;i.event==="hover"&&(Ov({title:"mouseLeave",data:[{key:"originalEvent",value:o}],debug:i.debug}),a?[it.OPENING,it.OPEN].indexOf(h)!==-1&&!f&&!i.eventDelayTimeout&&(i.eventDelayTimeout=setTimeout(function(){delete i.eventDelayTimeout,i.toggle()},a*1e3)):i.toggle(it.IDLE))}}),i.state={currentPlacement:r.placement,needsUpdate:!1,positionWrapper:r.wrapperOptions.position&&!!r.target,status:it.INIT,statusWrapper:it.INIT},i._isMounted=!1,i.hasMounted=!1,Bs()&&window.addEventListener("load",function(){i.popper&&i.popper.instance.update(),i.wrapperPopper&&i.wrapperPopper.instance.update()}),i}return Hm(n,[{key:"componentDidMount",value:function(){if(Bs()){var i=this.state.positionWrapper,s=this.props,o=s.children,a=s.open,c=s.target;this._isMounted=!0,Ov({title:"init",data:{hasChildren:!!o,hasTarget:!!c,isControlled:he.boolean(a),positionWrapper:i,target:this.target,floater:this.floaterRef},debug:this.debug}),this.hasMounted||(this.initPopper(),this.hasMounted=!0),!o&&c&&he.boolean(a)}}},{key:"componentDidUpdate",value:function(i,s){if(Bs()){var o=this.props,a=o.autoOpen,c=o.open,d=o.target,h=o.wrapperOptions,f=pee(s,this.state),p=f.changedFrom,m=f.changed;if(i.open!==c){var y;he.boolean(c)&&(y=c?it.OPENING:it.CLOSING),this.toggle(y)}(i.wrapperOptions.position!==h.position||i.target!==d)&&this.changeWrapperPosition(this.props),m("status",it.IDLE)&&c?this.toggle(it.OPEN):p("status",it.INIT,it.IDLE)&&a&&this.toggle(it.OPEN),this.popper&&m("status",it.OPENING)&&this.popper.instance.update(),this.floaterRef&&(m("status",it.OPENING)||m("status",it.CLOSING))&&Tee(this.floaterRef,"transitionend",this.handleTransitionEnd),m("needsUpdate",!0)&&this.rebuildPopper()}}},{key:"componentWillUnmount",value:function(){Bs()&&(this._isMounted=!1,this.popper&&this.popper.instance.destroy(),this.wrapperPopper&&this.wrapperPopper.instance.destroy())}},{key:"initPopper",value:function(){var i=this,s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.target,o=this.state.positionWrapper,a=this.props,c=a.disableFlip,d=a.getPopper,h=a.hideArrow,f=a.offset,p=a.placement,m=a.wrapperOptions,y=p==="top"||p==="bottom"?"flip":["right","bottom-end","top-end","left","top-start","bottom-start"];if(p==="center")this.setState({status:it.IDLE});else if(s&&this.floaterRef){var b=this.options,E=b.arrow,x=b.flip,C=b.offset,S=I$(b,Mee);new Fp(s,this.floaterRef,{placement:p,modifiers:Ut({arrow:Ut({enabled:!h,element:this.arrowRef},E),flip:Ut({enabled:!c,behavior:y},x),offset:Ut({offset:"0, ".concat(f,"px")},C)},S),onCreate:function(N){var T;if(i.popper=N,!((T=i.floaterRef)!==null&&T!==void 0&&T.isConnected)){i.setState({needsUpdate:!0});return}d(N,"floater"),i._isMounted&&i.setState({currentPlacement:N.placement,status:it.IDLE}),p!==N.placement&&setTimeout(function(){N.instance.update()},1)},onUpdate:function(N){i.popper=N;var T=i.state.currentPlacement;i._isMounted&&N.placement!==T&&i.setState({currentPlacement:N.placement})}})}if(o){var _=he.undefined(m.offset)?0:m.offset;new Fp(this.target,this.wrapperRef,{placement:m.placement||p,modifiers:{arrow:{enabled:!1},offset:{offset:"0, ".concat(_,"px")},flip:{enabled:!1}},onCreate:function(N){i.wrapperPopper=N,i._isMounted&&i.setState({statusWrapper:it.IDLE}),d(N,"wrapper"),p!==N.placement&&setTimeout(function(){N.instance.update()},1)}})}}},{key:"rebuildPopper",value:function(){var i=this;this.floaterRefInterval=setInterval(function(){var s;(s=i.floaterRef)!==null&&s!==void 0&&s.isConnected&&(clearInterval(i.floaterRefInterval),i.setState({needsUpdate:!1}),i.initPopper())},50)}},{key:"changeWrapperPosition",value:function(i){var s=i.target,o=i.wrapperOptions;this.setState({positionWrapper:o.position&&!!s})}},{key:"toggle",value:function(i){var s=this.state.status,o=s===it.OPEN?it.CLOSING:it.OPENING;he.undefined(i)||(o=i),this.setState({status:o})}},{key:"debug",get:function(){var i=this.props.debug;return i||Bs()&&"ReactFloaterDebug"in window&&!!window.ReactFloaterDebug}},{key:"event",get:function(){var i=this.props,s=i.disableHoverToClick,o=i.event;return o==="hover"&&Y1()&&!s?"click":o}},{key:"options",get:function(){var i=this.props.options;return ns(wee,i||{})}},{key:"styles",get:function(){var i=this,s=this.state,o=s.status,a=s.positionWrapper,c=s.statusWrapper,d=this.props.styles,h=ns(Nee(d),d);if(a){var f;[it.IDLE].indexOf(o)===-1||[it.IDLE].indexOf(c)===-1?f=h.wrapperPosition:f=this.wrapperPopper.styles,h.wrapper=Ut(Ut({},h.wrapper),f)}if(this.target){var p=window.getComputedStyle(this.target);this.wrapperStyles?h.wrapper=Ut(Ut({},h.wrapper),this.wrapperStyles):["relative","static"].indexOf(p.position)===-1&&(this.wrapperStyles={},a||(Oee.forEach(function(m){i.wrapperStyles[m]=p[m]}),h.wrapper=Ut(Ut({},h.wrapper),this.wrapperStyles),this.target.style.position="relative",this.target.style.top="auto",this.target.style.right="auto",this.target.style.bottom="auto",this.target.style.left="auto"))}return h}},{key:"target",get:function(){if(!Bs())return null;var i=this.props.target;return i?he.domElement(i)?i:document.querySelector(i):this.childRef||this.wrapperRef}},{key:"render",value:function(){var i=this.state,s=i.currentPlacement,o=i.positionWrapper,a=i.status,c=this.props,d=c.children,h=c.component,f=c.content,p=c.disableAnimation,m=c.footer,y=c.hideArrow,b=c.id,E=c.open,x=c.showCloseButton,C=c.style,S=c.target,_=c.title,k=Ce.createElement($$,{handleClick:this.handleClick,handleMouseEnter:this.handleMouseEnter,handleMouseLeave:this.handleMouseLeave,setChildRef:this.setChildRef,setWrapperRef:this.setWrapperRef,style:C,styles:this.styles.wrapper},d),N={};return o?N.wrapperInPortal=k:N.wrapperAsChildren=k,Ce.createElement("span",null,Ce.createElement(M$,{hasChildren:!!d,id:b,placement:s,setRef:this.setFloaterRef,target:S,zIndex:this.styles.options.zIndex},Ce.createElement(F$,{component:h,content:f,disableAnimation:p,footer:m,handleClick:this.handleClick,hideArrow:y||s==="center",open:E,placement:s,positionWrapper:o,setArrowRef:this.setArrowRef,setFloaterRef:this.setFloaterRef,showCloseButton:x,status:a,styles:this.styles,title:_}),N.wrapperInPortal),N.wrapperAsChildren)}}]),n}(Ce.Component);nr(wA,"propTypes",{autoOpen:we.bool,callback:we.func,children:we.node,component:HM(we.oneOfType([we.func,we.element]),function(t){return!t.content}),content:HM(we.node,function(t){return!t.component}),debug:we.bool,disableAnimation:we.bool,disableFlip:we.bool,disableHoverToClick:we.bool,event:we.oneOf(["hover","click"]),eventDelay:we.number,footer:we.node,getPopper:we.func,hideArrow:we.bool,id:we.oneOfType([we.string,we.number]),offset:we.number,open:we.bool,options:we.object,placement:we.oneOf(["top","top-start","top-end","bottom","bottom-start","bottom-end","left","left-start","left-end","right","right-start","right-end","auto","center"]),showCloseButton:we.bool,style:we.object,styles:we.object,target:we.oneOfType([we.object,we.string]),title:we.node,wrapperOptions:we.shape({offset:we.number,placement:we.oneOf(["top","top-start","top-end","bottom","bottom-start","bottom-end","left","left-start","left-end","right","right-start","right-end","auto"]),position:we.bool})});nr(wA,"defaultProps",{autoOpen:!1,callback:WM,debug:!1,disableAnimation:!1,disableFlip:!1,disableHoverToClick:!1,event:"click",eventDelay:.4,getPopper:WM,hideArrow:!1,offset:15,placement:"bottom",showCloseButton:!1,styles:{},target:null,wrapperOptions:{position:!1}});var Lee=Object.defineProperty,Dee=(t,e,n)=>e in t?Lee(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Me=(t,e,n)=>Dee(t,typeof e!="symbol"?e+"":e,n),bt={INIT:"init",START:"start",STOP:"stop",RESET:"reset",PREV:"prev",NEXT:"next",GO:"go",CLOSE:"close",SKIP:"skip",UPDATE:"update"},ii={TOUR_START:"tour:start",STEP_BEFORE:"step:before",BEACON:"beacon",TOOLTIP:"tooltip",STEP_AFTER:"step:after",TOUR_END:"tour:end",TOUR_STATUS:"tour:status",TARGET_NOT_FOUND:"error:target_not_found"},Ke={INIT:"init",READY:"ready",BEACON:"beacon",TOOLTIP:"tooltip",COMPLETE:"complete",ERROR:"error"},Ze={IDLE:"idle",READY:"ready",WAITING:"waiting",RUNNING:"running",PAUSED:"paused",SKIPPED:"skipped",FINISHED:"finished"};function qa(){var t;return!!(typeof window<"u"&&((t=window.document)!=null&&t.createElement))}function z$(t){return t?t.getBoundingClientRect():null}function Fee(t=!1){const{body:e,documentElement:n}=document;if(!e||!n)return 0;if(t){const r=[e.scrollHeight,e.offsetHeight,n.clientHeight,n.scrollHeight,n.offsetHeight].sort((s,o)=>s-o),i=Math.floor(r.length/2);return r.length%2===0?(r[i-1]+r[i])/2:r[i]}return Math.max(e.scrollHeight,e.offsetHeight,n.clientHeight,n.scrollHeight,n.offsetHeight)}function Yo(t){if(typeof t=="string")try{return document.querySelector(t)}catch{return null}return t}function $ee(t){return!t||t.nodeType!==1?null:getComputedStyle(t)}function $p(t,e,n){if(!t)return nc();const r=f$(t);if(r){if(r.isSameNode(nc()))return n?document:nc();if(!(r.scrollHeight>r.offsetHeight)&&!e)return r.style.overflow="initial",nc()}return r}function uw(t,e){if(!t)return!1;const n=$p(t,e);return n?!n.isSameNode(nc()):!1}function zee(t){return t.offsetParent!==document.body}function Ah(t,e="fixed"){if(!t||!(t instanceof HTMLElement))return!1;const{nodeName:n}=t,r=$ee(t);return n==="BODY"||n==="HTML"?!1:r&&r.position===e?!0:t.parentNode?Ah(t.parentNode,e):!1}function jee(t){var e;if(!t)return!1;let n=t;for(;n&&n!==document.body;){if(n instanceof HTMLElement){const{display:r,visibility:i}=getComputedStyle(n);if(r==="none"||i==="hidden")return!1}n=(e=n.parentElement)!=null?e:null}return!0}function Bee(t,e,n){var r,i,s;const o=z$(t),a=$p(t,n),c=uw(t,n),d=Ah(t);let h=0,f=(r=o==null?void 0:o.top)!=null?r:0;if(c&&d){const p=(i=t==null?void 0:t.offsetTop)!=null?i:0,m=(s=a==null?void 0:a.scrollTop)!=null?s:0;f=p-m}else a instanceof HTMLElement&&(h=a.scrollTop,!c&&!Ah(t)&&(f+=h),a.isSameNode(nc())||(f+=nc().scrollTop));return Math.floor(f-e)}function Hee(t,e,n){var r;if(!t)return 0;const{offsetTop:i=0,scrollTop:s=0}=(r=f$(t))!=null?r:{};let o=t.getBoundingClientRect().top+s;i&&(uw(t,n)||zee(t))&&(o-=i);const a=Math.floor(o-e);return a<0?0:a}function nc(){var t;return(t=document.scrollingElement)!=null?t:document.documentElement}function Wee(t,e){const{duration:n,element:r}=e;return new Promise((i,s)=>{const{scrollTop:o}=r,a=t>o?t-o:o-t;lJ.top(r,t,{duration:a<100?50:n},c=>c&&c.message!=="Element already at target scroll position"?s(c):i())})}var Df=Ko.createPortal!==void 0;function j$(t=navigator.userAgent){let e=t;return typeof window>"u"?e="node":document.documentMode?e="ie":/Edge/.test(t)?e="edge":window.opera||t.includes(" OPR/")?e="opera":typeof window.InstallTrigger<"u"?e="firefox":window.chrome?e="chrome":/(Version\/([\d._]+).*Safari|CriOS|FxiOS| Mobile\/)/.test(t)&&(e="safari"),e}function v0(t){return Object.prototype.toString.call(t).slice(8,-1).toLowerCase()}function Hs(t,e={}){const{defaultValue:n,step:r,steps:i}=e;let s=kM(t);if(s)(s.includes("{step}")||s.includes("{steps}"))&&r&&i&&(s=s.replace("{step}",r.toString()).replace("{steps}",i.toString()));else if(I.isValidElement(t)&&!Object.values(t.props).length&&v0(t.type)==="function"){const o=t.type({});s=Hs(o,e)}else s=kM(n);return s}function Uee(t,e){return!Ne.plainObject(t)||!Ne.array(e)?!1:Object.keys(t).every(n=>e.includes(n))}function Vee(t){const e=/^#?([\da-f])([\da-f])([\da-f])$/i,n=t.replace(e,(i,s,o,a)=>s+s+o+o+a+a),r=/^#?([\da-f]{2})([\da-f]{2})([\da-f]{2})$/i.exec(n);return r?[parseInt(r[1],16),parseInt(r[2],16),parseInt(r[3],16)]:[]}function UM(t){return t.disableBeacon||t.placement==="center"}function VM(){return!["chrome","safari","firefox","opera"].includes(j$())}function au({data:t,debug:e=!1,title:n,warn:r=!1}){const i=r?console.warn||console.error:console.log;e&&(n&&t?(console.groupCollapsed(`%creact-joyride: ${n}`,"color: #ff0044; font-weight: bold; font-size: 12px;"),Array.isArray(t)?t.forEach(s=>{Ne.plainObject(s)&&s.key?i.apply(console,[s.key,s.value]):i.apply(console,[s])}):i.apply(console,[t]),console.groupEnd()):console.error("Missing title or data props"))}function Gee(t){return Object.keys(t)}function B$(t,...e){if(!Ne.plainObject(t))throw new TypeError("Expected an object");const n={};for(const r in t)({}).hasOwnProperty.call(t,r)&&(e.includes(r)||(n[r]=t[r]));return n}function qee(t,...e){if(!Ne.plainObject(t))throw new TypeError("Expected an object");if(!e.length)return t;const n={};for(const r in t)({}).hasOwnProperty.call(t,r)&&e.includes(r)&&(n[r]=t[r]);return n}function s_(t,e,n){const r=s=>s.replace("{step}",String(e)).replace("{steps}",String(n));if(v0(t)==="string")return r(t);if(!I.isValidElement(t))return t;const{children:i}=t.props;if(v0(i)==="string"&&i.includes("{step}"))return I.cloneElement(t,{children:r(i)});if(Array.isArray(i))return I.cloneElement(t,{children:i.map(s=>typeof s=="string"?r(s):s_(s,e,n))});if(v0(t.type)==="function"&&!Object.values(t.props).length){const s=t.type({});return s_(s,e,n)}return t}function Yee(t){const{isFirstStep:e,lifecycle:n,previousLifecycle:r,scrollToFirstStep:i,step:s,target:o}=t;return!s.disableScrolling&&(!e||i||n===Ke.TOOLTIP)&&s.placement!=="center"&&(!s.isFixed||!Ah(o))&&r!==n&&[Ke.BEACON,Ke.TOOLTIP].includes(n)}var Xee={options:{preventOverflow:{boundariesElement:"scrollParent"}},wrapperOptions:{offset:-18,position:!0}},H$={back:"Back",close:"Close",last:"Last",next:"Next",nextLabelWithProgress:"Next (Step {step} of {steps})",open:"Open the dialog",skip:"Skip"},Kee={event:"click",placement:"bottom",offset:10,disableBeacon:!1,disableCloseOnEsc:!1,disableOverlay:!1,disableOverlayClose:!1,disableScrollParentFix:!1,disableScrolling:!1,hideBackButton:!1,hideCloseButton:!1,hideFooter:!1,isFixed:!1,locale:H$,showProgress:!1,showSkipButton:!1,spotlightClicks:!1,spotlightPadding:10},Qee={continuous:!1,debug:!1,disableCloseOnEsc:!1,disableOverlay:!1,disableOverlayClose:!1,disableScrolling:!1,disableScrollParentFix:!1,getHelpers:void 0,hideBackButton:!1,run:!0,scrollOffset:20,scrollDuration:300,scrollToFirstStep:!1,showSkipButton:!1,showProgress:!1,spotlightClicks:!1,spotlightPadding:10,steps:[]},Zee={arrowColor:"#fff",backgroundColor:"#fff",beaconSize:36,overlayColor:"rgba(0, 0, 0, 0.5)",primaryColor:"#f04",spotlightShadow:"0 0 15px rgba(0, 0, 0, 0.5)",textColor:"#333",width:380,zIndex:100},Ff={backgroundColor:"transparent",border:0,borderRadius:0,color:"#555",cursor:"pointer",fontSize:16,lineHeight:1,padding:8,WebkitAppearance:"none"},GM={borderRadius:4,position:"absolute"};function Jee(t,e){var n,r,i,s,o;const{floaterProps:a,styles:c}=t,d=ns((n=e.floaterProps)!=null?n:{},a??{}),h=ns(c??{},(r=e.styles)!=null?r:{}),f=ns(Zee,h.options||{}),p=e.placement==="center"||e.disableBeacon;let{width:m}=f;window.innerWidth>480&&(m=380),"width"in f&&(m=typeof f.width=="number"&&window.innerWidth<f.width?window.innerWidth-30:f.width);const y={bottom:0,left:0,overflow:"hidden",position:"absolute",right:0,top:0,zIndex:f.zIndex},b={beacon:{...Ff,display:p?"none":"inline-block",height:f.beaconSize,position:"relative",width:f.beaconSize,zIndex:f.zIndex},beaconInner:{animation:"joyride-beacon-inner 1.2s infinite ease-in-out",backgroundColor:f.primaryColor,borderRadius:"50%",display:"block",height:"50%",left:"50%",opacity:.7,position:"absolute",top:"50%",transform:"translate(-50%, -50%)",width:"50%"},beaconOuter:{animation:"joyride-beacon-outer 1.2s infinite ease-in-out",backgroundColor:`rgba(${Vee(f.primaryColor).join(",")}, 0.2)`,border:`2px solid ${f.primaryColor}`,borderRadius:"50%",boxSizing:"border-box",display:"block",height:"100%",left:0,opacity:.9,position:"absolute",top:0,transformOrigin:"center",width:"100%"},tooltip:{backgroundColor:f.backgroundColor,borderRadius:5,boxSizing:"border-box",color:f.textColor,fontSize:16,maxWidth:"100%",padding:15,position:"relative",width:m},tooltipContainer:{lineHeight:1.4,textAlign:"center"},tooltipTitle:{fontSize:18,margin:0},tooltipContent:{padding:"20px 10px"},tooltipFooter:{alignItems:"center",display:"flex",justifyContent:"flex-end",marginTop:15},tooltipFooterSpacer:{flex:1},buttonNext:{...Ff,backgroundColor:f.primaryColor,borderRadius:4,color:"#fff"},buttonBack:{...Ff,color:f.primaryColor,marginLeft:"auto",marginRight:5},buttonClose:{...Ff,color:f.textColor,height:14,padding:15,position:"absolute",right:0,top:0,width:14},buttonSkip:{...Ff,color:f.textColor,fontSize:14},overlay:{...y,backgroundColor:f.overlayColor,mixBlendMode:"hard-light"},overlayLegacy:{...y},overlayLegacyCenter:{...y,backgroundColor:f.overlayColor},spotlight:{...GM,backgroundColor:"gray"},spotlightLegacy:{...GM,boxShadow:`0 0 0 9999px ${f.overlayColor}, ${f.spotlightShadow}`},floaterStyles:{arrow:{color:(o=(s=(i=d==null?void 0:d.styles)==null?void 0:i.arrow)==null?void 0:s.color)!=null?o:f.arrowColor},options:{zIndex:f.zIndex+100}},options:f};return ns(b,h)}function ete(t){return qee(t,"beaconComponent","disableCloseOnEsc","disableOverlay","disableOverlayClose","disableScrolling","disableScrollParentFix","floaterProps","hideBackButton","hideCloseButton","locale","showProgress","showSkipButton","spotlightClicks","spotlightPadding","styles","tooltipComponent")}function ed(t,e){var n,r,i,s,o,a;const c=e??{},d=ns.all([Kee,ete(t),c],{isMergeableObject:Ne.plainObject}),h=Jee(t,d),f=uw(Yo(d.target),d.disableScrollParentFix),p=ns.all([Xee,(n=t.floaterProps)!=null?n:{},(r=d.floaterProps)!=null?r:{}]);return p.offset=d.offset,p.styles=ns((i=p.styles)!=null?i:{},h.floaterStyles),p.offset+=(o=(s=t.spotlightPadding)!=null?s:d.spotlightPadding)!=null?o:0,d.placementBeacon&&p.wrapperOptions&&(p.wrapperOptions.placement=d.placementBeacon),f&&p.options.preventOverflow&&(p.options.preventOverflow.boundariesElement="window"),{...d,locale:ns.all([H$,(a=t.locale)!=null?a:{},d.locale||{}]),floaterProps:p,styles:B$(h,"floaterStyles")}}function W$(t,e=!1){return Ne.plainObject(t)?t.target?!0:(au({title:"validateStep",data:"target is missing from the step",warn:!0,debug:e}),!1):(au({title:"validateStep",data:"step must be an object",warn:!0,debug:e}),!1)}function qM(t,e=!1){return Ne.array(t)?t.every(n=>W$(n,e)):(au({title:"validateSteps",data:"steps must be an array",warn:!0,debug:e}),!1)}var U$={action:"init",controlled:!1,index:0,lifecycle:Ke.INIT,origin:null,size:0,status:Ze.IDLE},YM=Gee(B$(U$,"controlled","size")),tte=class{constructor(t){Me(this,"beaconPopper"),Me(this,"tooltipPopper"),Me(this,"data",new Map),Me(this,"listener"),Me(this,"store",new Map),Me(this,"addListener",i=>{this.listener=i}),Me(this,"setSteps",i=>{const{size:s,status:o}=this.getState(),a={size:i.length,status:o};this.data.set("steps",i),o===Ze.WAITING&&!s&&i.length&&(a.status=Ze.RUNNING),this.setState(a)}),Me(this,"getPopper",i=>i==="beacon"?this.beaconPopper:this.tooltipPopper),Me(this,"setPopper",(i,s)=>{i==="beacon"?this.beaconPopper=s:this.tooltipPopper=s}),Me(this,"cleanupPoppers",()=>{this.beaconPopper=null,this.tooltipPopper=null}),Me(this,"close",(i=null)=>{const{index:s,status:o}=this.getState();o===Ze.RUNNING&&this.setState({...this.getNextState({action:bt.CLOSE,index:s+1,origin:i})})}),Me(this,"go",i=>{const{controlled:s,status:o}=this.getState();if(s||o!==Ze.RUNNING)return;const a=this.getSteps()[i];this.setState({...this.getNextState({action:bt.GO,index:i}),status:a?o:Ze.FINISHED})}),Me(this,"info",()=>this.getState()),Me(this,"next",()=>{const{index:i,status:s}=this.getState();s===Ze.RUNNING&&this.setState(this.getNextState({action:bt.NEXT,index:i+1}))}),Me(this,"open",()=>{const{status:i}=this.getState();i===Ze.RUNNING&&this.setState({...this.getNextState({action:bt.UPDATE,lifecycle:Ke.TOOLTIP})})}),Me(this,"prev",()=>{const{index:i,status:s}=this.getState();s===Ze.RUNNING&&this.setState({...this.getNextState({action:bt.PREV,index:i-1})})}),Me(this,"reset",(i=!1)=>{const{controlled:s}=this.getState();s||this.setState({...this.getNextState({action:bt.RESET,index:0}),status:i?Ze.RUNNING:Ze.READY})}),Me(this,"skip",()=>{const{status:i}=this.getState();i===Ze.RUNNING&&this.setState({action:bt.SKIP,lifecycle:Ke.INIT,status:Ze.SKIPPED})}),Me(this,"start",i=>{const{index:s,size:o}=this.getState();this.setState({...this.getNextState({action:bt.START,index:Ne.number(i)?i:s},!0),status:o?Ze.RUNNING:Ze.WAITING})}),Me(this,"stop",(i=!1)=>{const{index:s,status:o}=this.getState();[Ze.FINISHED,Ze.SKIPPED].includes(o)||this.setState({...this.getNextState({action:bt.STOP,index:s+(i?1:0)}),status:Ze.PAUSED})}),Me(this,"update",i=>{var s,o;if(!Uee(i,YM))throw new Error(`State is not valid. Valid keys: ${YM.join(", ")}`);this.setState({...this.getNextState({...this.getState(),...i,action:(s=i.action)!=null?s:bt.UPDATE,origin:(o=i.origin)!=null?o:null},!0)})});const{continuous:e=!1,stepIndex:n,steps:r=[]}=t??{};this.setState({action:bt.INIT,controlled:Ne.number(n),continuous:e,index:Ne.number(n)?n:0,lifecycle:Ke.INIT,origin:null,status:r.length?Ze.READY:Ze.IDLE},!0),this.beaconPopper=null,this.tooltipPopper=null,this.listener=null,this.setSteps(r)}getState(){return this.store.size?{action:this.store.get("action")||"",controlled:this.store.get("controlled")||!1,index:parseInt(this.store.get("index"),10),lifecycle:this.store.get("lifecycle")||"",origin:this.store.get("origin")||null,size:this.store.get("size")||0,status:this.store.get("status")||""}:{...U$}}getNextState(t,e=!1){var n,r,i,s,o;const{action:a,controlled:c,index:d,size:h,status:f}=this.getState(),p=Ne.number(t.index)?t.index:d,m=c&&!e?d:Math.min(Math.max(p,0),h);return{action:(n=t.action)!=null?n:a,controlled:c,index:m,lifecycle:(r=t.lifecycle)!=null?r:Ke.INIT,origin:(i=t.origin)!=null?i:null,size:(s=t.size)!=null?s:h,status:m===h?Ze.FINISHED:(o=t.status)!=null?o:f}}getSteps(){const t=this.data.get("steps");return Array.isArray(t)?t:[]}hasUpdatedState(t){const e=JSON.stringify(t),n=JSON.stringify(this.getState());return e!==n}setState(t,e=!1){const n=this.getState(),{action:r,index:i,lifecycle:s,origin:o=null,size:a,status:c}={...n,...t};this.store.set("action",r),this.store.set("index",i),this.store.set("lifecycle",s),this.store.set("origin",o),this.store.set("size",a),this.store.set("status",c),e&&(this.store.set("controlled",t.controlled),this.store.set("continuous",t.continuous)),this.listener&&this.hasUpdatedState(n)&&this.listener(this.getState())}getHelpers(){return{close:this.close,go:this.go,info:this.info,next:this.next,open:this.open,prev:this.prev,reset:this.reset,skip:this.skip}}};function nte(t){return new tte(t)}function rte({styles:t}){return I.createElement("div",{key:"JoyrideSpotlight",className:"react-joyride__spotlight","data-test-id":"spotlight",style:t})}var ite=rte,ste=class extends I.Component{constructor(){super(...arguments),Me(this,"isActive",!1),Me(this,"resizeTimeout"),Me(this,"scrollTimeout"),Me(this,"scrollParent"),Me(this,"state",{isScrolling:!1,mouseOverSpotlight:!1,showSpotlight:!0}),Me(this,"hideSpotlight",()=>{const{continuous:t,disableOverlay:e,lifecycle:n}=this.props,r=[Ke.INIT,Ke.BEACON,Ke.COMPLETE,Ke.ERROR];return e||(t?r.includes(n):n!==Ke.TOOLTIP)}),Me(this,"handleMouseMove",t=>{const{mouseOverSpotlight:e}=this.state,{height:n,left:r,position:i,top:s,width:o}=this.spotlightStyles,a=i==="fixed"?t.clientY:t.pageY,c=i==="fixed"?t.clientX:t.pageX,d=a>=s&&a<=s+n,f=c>=r&&c<=r+o&&d;f!==e&&this.updateState({mouseOverSpotlight:f})}),Me(this,"handleScroll",()=>{const{target:t}=this.props,e=Yo(t);if(this.scrollParent!==document){const{isScrolling:n}=this.state;n||this.updateState({isScrolling:!0,showSpotlight:!1}),clearTimeout(this.scrollTimeout),this.scrollTimeout=window.setTimeout(()=>{this.updateState({isScrolling:!1,showSpotlight:!0})},50)}else Ah(e,"sticky")&&this.updateState({})}),Me(this,"handleResize",()=>{clearTimeout(this.resizeTimeout),this.resizeTimeout=window.setTimeout(()=>{this.isActive&&this.forceUpdate()},100)})}componentDidMount(){const{debug:t,disableScrolling:e,disableScrollParentFix:n=!1,target:r}=this.props,i=Yo(r);this.scrollParent=$p(i??document.body,n,!0),this.isActive=!0,window.addEventListener("resize",this.handleResize)}componentDidUpdate(t){var e;const{disableScrollParentFix:n,lifecycle:r,spotlightClicks:i,target:s}=this.props,{changed:o}=q0(t,this.props);if(o("target")||o("disableScrollParentFix")){const a=Yo(s);this.scrollParent=$p(a??document.body,n,!0)}o("lifecycle",Ke.TOOLTIP)&&((e=this.scrollParent)==null||e.addEventListener("scroll",this.handleScroll,{passive:!0}),setTimeout(()=>{const{isScrolling:a}=this.state;a||this.updateState({showSpotlight:!0})},100)),(o("spotlightClicks")||o("disableOverlay")||o("lifecycle"))&&(i&&r===Ke.TOOLTIP?window.addEventListener("mousemove",this.handleMouseMove,!1):r!==Ke.TOOLTIP&&window.removeEventListener("mousemove",this.handleMouseMove))}componentWillUnmount(){var t;this.isActive=!1,window.removeEventListener("mousemove",this.handleMouseMove),window.removeEventListener("resize",this.handleResize),clearTimeout(this.resizeTimeout),clearTimeout(this.scrollTimeout),(t=this.scrollParent)==null||t.removeEventListener("scroll",this.handleScroll)}get overlayStyles(){const{mouseOverSpotlight:t}=this.state,{disableOverlayClose:e,placement:n,styles:r}=this.props;let i=r.overlay;return VM()&&(i=n==="center"?r.overlayLegacyCenter:r.overlayLegacy),{cursor:e?"default":"pointer",height:Fee(),pointerEvents:t?"none":"auto",...i}}get spotlightStyles(){var t,e,n;const{showSpotlight:r}=this.state,{disableScrollParentFix:i=!1,spotlightClicks:s,spotlightPadding:o=0,styles:a,target:c}=this.props,d=Yo(c),h=z$(d),f=Ah(d),p=Bee(d,o,i);return{...VM()?a.spotlightLegacy:a.spotlight,height:Math.round(((t=h==null?void 0:h.height)!=null?t:0)+o*2),left:Math.round(((e=h==null?void 0:h.left)!=null?e:0)-o),opacity:r?1:0,pointerEvents:s?"none":"auto",position:f?"fixed":"absolute",top:p,transition:"opacity 0.2s",width:Math.round(((n=h==null?void 0:h.width)!=null?n:0)+o*2)}}updateState(t){this.isActive&&this.setState(e=>({...e,...t}))}render(){const{showSpotlight:t}=this.state,{onClickOverlay:e,placement:n}=this.props,{hideSpotlight:r,overlayStyles:i,spotlightStyles:s}=this;if(r())return null;let o=n!=="center"&&t&&I.createElement(ite,{styles:s});if(j$()==="safari"){const{mixBlendMode:a,zIndex:c,...d}=i;o=I.createElement("div",{style:{...d}},o),delete i.backgroundColor}return I.createElement("div",{className:"react-joyride__overlay","data-test-id":"overlay",onClick:e,role:"presentation",style:i},o)}},ote=class extends I.Component{constructor(){super(...arguments),Me(this,"node",null)}componentDidMount(){const{id:t}=this.props;qa()&&(this.node=document.createElement("div"),this.node.id=t,document.body.appendChild(this.node),Df||this.renderReact15())}componentDidUpdate(){qa()&&(Df||this.renderReact15())}componentWillUnmount(){!qa()||!this.node||(Df||Ko.unmountComponentAtNode(this.node),this.node.parentNode===document.body&&(document.body.removeChild(this.node),this.node=null))}renderReact15(){if(!qa())return;const{children:t}=this.props;this.node&&Ko.unstable_renderSubtreeIntoContainer(this,t,this.node)}renderReact16(){if(!qa()||!Df)return null;const{children:t}=this.props;return this.node?Ko.createPortal(t,this.node):null}render(){return Df?this.renderReact16():null}},ate=class{constructor(t,e){if(Me(this,"element"),Me(this,"options"),Me(this,"canBeTabbed",n=>{const{tabIndex:r}=n;return r===null||r<0?!1:this.canHaveFocus(n)}),Me(this,"canHaveFocus",n=>{const r=/input|select|textarea|button|object/,i=n.nodeName.toLowerCase();return(r.test(i)&&!n.getAttribute("disabled")||i==="a"&&!!n.getAttribute("href"))&&this.isVisible(n)}),Me(this,"findValidTabElements",()=>[].slice.call(this.element.querySelectorAll("*"),0).filter(this.canBeTabbed)),Me(this,"handleKeyDown",n=>{const{code:r="Tab"}=this.options;n.code===r&&this.interceptTab(n)}),Me(this,"interceptTab",n=>{n.preventDefault();const r=this.findValidTabElements(),{shiftKey:i}=n;if(!r.length)return;let s=document.activeElement?r.indexOf(document.activeElement):0;s===-1||!i&&s+1===r.length?s=0:i&&s===0?s=r.length-1:s+=i?-1:1,r[s].focus()}),Me(this,"isHidden",n=>{const r=n.offsetWidth<=0&&n.offsetHeight<=0,i=window.getComputedStyle(n);return r&&!n.innerHTML?!0:r&&i.getPropertyValue("overflow")!=="visible"||i.getPropertyValue("display")==="none"}),Me(this,"isVisible",n=>{let r=n;for(;r;)if(r instanceof HTMLElement){if(r===document.body)break;if(this.isHidden(r))return!1;r=r.parentNode}return!0}),Me(this,"removeScope",()=>{window.removeEventListener("keydown",this.handleKeyDown)}),Me(this,"checkFocus",n=>{document.activeElement!==n&&(n.focus(),window.requestAnimationFrame(()=>this.checkFocus(n)))}),Me(this,"setFocus",()=>{const{selector:n}=this.options;if(!n)return;const r=this.element.querySelector(n);r&&window.requestAnimationFrame(()=>this.checkFocus(r))}),!(t instanceof HTMLElement))throw new TypeError("Invalid parameter: element must be an HTMLElement");this.element=t,this.options=e,window.addEventListener("keydown",this.handleKeyDown,!1),this.setFocus()}},lte=class extends I.Component{constructor(t){if(super(t),Me(this,"beacon",null),Me(this,"setBeaconRef",i=>{this.beacon=i}),t.beaconComponent)return;const e=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.id="joyride-beacon-animation",t.nonce&&n.setAttribute("nonce",t.nonce),n.appendChild(document.createTextNode(`
        @keyframes joyride-beacon-inner {
          20% {
            opacity: 0.9;
          }
        
          90% {
            opacity: 0.7;
          }
        }
        
        @keyframes joyride-beacon-outer {
          0% {
            transform: scale(1);
          }
        
          45% {
            opacity: 0.7;
            transform: scale(0.75);
          }
        
          100% {
            opacity: 0.9;
            transform: scale(1);
          }
        }
      `)),e.appendChild(n)}componentDidMount(){const{shouldFocus:t}=this.props;setTimeout(()=>{Ne.domElement(this.beacon)&&t&&this.beacon.focus()},0)}componentWillUnmount(){const t=document.getElementById("joyride-beacon-animation");t!=null&&t.parentNode&&t.parentNode.removeChild(t)}render(){const{beaconComponent:t,continuous:e,index:n,isLastStep:r,locale:i,onClickOrHover:s,size:o,step:a,styles:c}=this.props,d=Hs(i.open),h={"aria-label":d,onClick:s,onMouseEnter:s,ref:this.setBeaconRef,title:d};let f;if(t){const p=t;f=I.createElement(p,{continuous:e,index:n,isLastStep:r,size:o,step:a,...h})}else f=I.createElement("button",{key:"JoyrideBeacon",className:"react-joyride__beacon","data-test-id":"button-beacon",style:c.beacon,type:"button",...h},I.createElement("span",{style:c.beaconInner}),I.createElement("span",{style:c.beaconOuter}));return f}};function cte({styles:t,...e}){const{color:n,height:r,width:i,...s}=t;return Ce.createElement("button",{style:s,type:"button",...e},Ce.createElement("svg",{height:typeof r=="number"?`${r}px`:r,preserveAspectRatio:"xMidYMid",version:"1.1",viewBox:"0 0 18 18",width:typeof i=="number"?`${i}px`:i,xmlns:"http://www.w3.org/2000/svg"},Ce.createElement("g",null,Ce.createElement("path",{d:"M8.13911129,9.00268191 L0.171521827,17.0258467 C-0.0498027049,17.248715 -0.0498027049,17.6098394 0.171521827,17.8327545 C0.28204354,17.9443526 0.427188206,17.9998706 0.572051765,17.9998706 C0.71714958,17.9998706 0.862013139,17.9443526 0.972581703,17.8327545 L9.0000937,9.74924618 L17.0276057,17.8327545 C17.1384085,17.9443526 17.2832721,17.9998706 17.4281356,17.9998706 C17.5729992,17.9998706 17.718097,17.9443526 17.8286656,17.8327545 C18.0499901,17.6098862 18.0499901,17.2487618 17.8286656,17.0258467 L9.86135722,9.00268191 L17.8340066,0.973848225 C18.0553311,0.750979934 18.0553311,0.389855532 17.8340066,0.16694039 C17.6126821,-0.0556467968 17.254037,-0.0556467968 17.0329467,0.16694039 L9.00042166,8.25611765 L0.967006424,0.167268345 C0.745681892,-0.0553188426 0.387317931,-0.0553188426 0.165993399,0.167268345 C-0.0553311331,0.390136635 -0.0553311331,0.751261038 0.165993399,0.974176179 L8.13920499,9.00268191 L8.13911129,9.00268191 Z",fill:n}))))}var ute=cte;function dte(t){const{backProps:e,closeProps:n,index:r,isLastStep:i,primaryProps:s,skipProps:o,step:a,tooltipProps:c}=t,{content:d,hideBackButton:h,hideCloseButton:f,hideFooter:p,showSkipButton:m,styles:y,title:b}=a,E={};return E.primary=I.createElement("button",{"data-test-id":"button-primary",style:y.buttonNext,type:"button",...s}),m&&!i&&(E.skip=I.createElement("button",{"aria-live":"off","data-test-id":"button-skip",style:y.buttonSkip,type:"button",...o})),!h&&r>0&&(E.back=I.createElement("button",{"data-test-id":"button-back",style:y.buttonBack,type:"button",...e})),E.close=!f&&I.createElement(ute,{"data-test-id":"button-close",styles:y.buttonClose,...n}),I.createElement("div",{key:"JoyrideTooltip","aria-label":Hs(b??d),className:"react-joyride__tooltip",style:y.tooltip,...c},I.createElement("div",{style:y.tooltipContainer},b&&I.createElement("h1",{"aria-label":Hs(b),style:y.tooltipTitle},b),I.createElement("div",{style:y.tooltipContent},d)),!p&&I.createElement("div",{style:y.tooltipFooter},I.createElement("div",{style:y.tooltipFooterSpacer},E.skip),E.back,E.primary),E.close)}var hte=dte,fte=class extends I.Component{constructor(){super(...arguments),Me(this,"handleClickBack",t=>{t.preventDefault();const{helpers:e}=this.props;e.prev()}),Me(this,"handleClickClose",t=>{t.preventDefault();const{helpers:e}=this.props;e.close("button_close")}),Me(this,"handleClickPrimary",t=>{t.preventDefault();const{continuous:e,helpers:n}=this.props;if(!e){n.close("button_primary");return}n.next()}),Me(this,"handleClickSkip",t=>{t.preventDefault();const{helpers:e}=this.props;e.skip()}),Me(this,"getElementsProps",()=>{const{continuous:t,index:e,isLastStep:n,setTooltipRef:r,size:i,step:s}=this.props,{back:o,close:a,last:c,next:d,nextLabelWithProgress:h,skip:f}=s.locale,p=Hs(o),m=Hs(a),y=Hs(c),b=Hs(d),E=Hs(f);let x=a,C=m;if(t){if(x=d,C=b,s.showProgress&&!n){const S=Hs(h,{step:e+1,steps:i});x=s_(h,e+1,i),C=S}n&&(x=c,C=y)}return{backProps:{"aria-label":p,children:o,"data-action":"back",onClick:this.handleClickBack,role:"button",title:p},closeProps:{"aria-label":m,children:a,"data-action":"close",onClick:this.handleClickClose,role:"button",title:m},primaryProps:{"aria-label":C,children:x,"data-action":"primary",onClick:this.handleClickPrimary,role:"button",title:C},skipProps:{"aria-label":E,children:f,"data-action":"skip",onClick:this.handleClickSkip,role:"button",title:E},tooltipProps:{"aria-modal":!0,ref:r,role:"alertdialog"}}})}render(){const{continuous:t,index:e,isLastStep:n,setTooltipRef:r,size:i,step:s}=this.props,{beaconComponent:o,tooltipComponent:a,...c}=s;let d;if(a){const h={...this.getElementsProps(),continuous:t,index:e,isLastStep:n,size:i,step:c,setTooltipRef:r},f=a;d=I.createElement(f,{...h})}else d=I.createElement(hte,{...this.getElementsProps(),continuous:t,index:e,isLastStep:n,size:i,step:s});return d}},pte=class extends I.Component{constructor(){super(...arguments),Me(this,"scope",null),Me(this,"tooltip",null),Me(this,"handleClickHoverBeacon",t=>{const{step:e,store:n}=this.props;t.type==="mouseenter"&&e.event!=="hover"||n.update({lifecycle:Ke.TOOLTIP})}),Me(this,"setTooltipRef",t=>{this.tooltip=t}),Me(this,"setPopper",(t,e)=>{var n;const{action:r,lifecycle:i,step:s,store:o}=this.props;e==="wrapper"?o.setPopper("beacon",t):o.setPopper("tooltip",t),o.getPopper("beacon")&&(o.getPopper("tooltip")||s.placement==="center")&&i===Ke.INIT&&o.update({action:r,lifecycle:Ke.READY}),(n=s.floaterProps)!=null&&n.getPopper&&s.floaterProps.getPopper(t,e)}),Me(this,"renderTooltip",t=>{const{continuous:e,helpers:n,index:r,size:i,step:s}=this.props;return I.createElement(fte,{continuous:e,helpers:n,index:r,isLastStep:r+1===i,setTooltipRef:this.setTooltipRef,size:i,step:s,...t})})}componentDidMount(){const{debug:t,index:e}=this.props;au({title:`step:${e}`,data:[{key:"props",value:this.props}],debug:t})}componentDidUpdate(t){var e;const{action:n,callback:r,continuous:i,controlled:s,debug:o,helpers:a,index:c,lifecycle:d,shouldScroll:h,status:f,step:p,store:m}=this.props,{changed:y,changedFrom:b}=q0(t,this.props),E=a.info(),x=i&&n!==bt.CLOSE&&(c>0||n===bt.PREV),C=y("action")||y("index")||y("lifecycle")||y("status"),S=b("lifecycle",[Ke.TOOLTIP,Ke.INIT],Ke.INIT),_=y("action",[bt.NEXT,bt.PREV,bt.SKIP,bt.CLOSE]),k=s&&c===t.index;if(_&&(S||k)&&r({...E,index:t.index,lifecycle:Ke.COMPLETE,step:t.step,type:ii.STEP_AFTER}),p.placement==="center"&&f===Ze.RUNNING&&y("index")&&n!==bt.START&&d===Ke.INIT&&m.update({lifecycle:Ke.READY}),C){const N=Yo(p.target),T=!!N;T&&jee(N)?(b("status",Ze.READY,Ze.RUNNING)||b("lifecycle",Ke.INIT,Ke.READY))&&r({...E,step:p,type:ii.STEP_BEFORE}):(console.warn(T?"Target not visible":"Target not mounted",p),r({...E,type:ii.TARGET_NOT_FOUND,step:p}),s||m.update({index:c+(n===bt.PREV?-1:1)}))}b("lifecycle",Ke.INIT,Ke.READY)&&m.update({lifecycle:UM(p)||x?Ke.TOOLTIP:Ke.BEACON}),y("index")&&au({title:`step:${d}`,data:[{key:"props",value:this.props}],debug:o}),y("lifecycle",Ke.BEACON)&&r({...E,step:p,type:ii.BEACON}),y("lifecycle",Ke.TOOLTIP)&&(r({...E,step:p,type:ii.TOOLTIP}),h&&this.tooltip&&(this.scope=new ate(this.tooltip,{selector:"[data-action=primary]"}),this.scope.setFocus())),b("lifecycle",[Ke.TOOLTIP,Ke.INIT],Ke.INIT)&&((e=this.scope)==null||e.removeScope(),m.cleanupPoppers())}componentWillUnmount(){var t;(t=this.scope)==null||t.removeScope()}get open(){const{lifecycle:t,step:e}=this.props;return UM(e)||t===Ke.TOOLTIP}render(){const{continuous:t,debug:e,index:n,nonce:r,shouldScroll:i,size:s,step:o}=this.props,a=Yo(o.target);return!W$(o)||!Ne.domElement(a)?null:I.createElement("div",{key:`JoyrideStep-${n}`,className:"react-joyride__step"},I.createElement(wA,{...o.floaterProps,component:this.renderTooltip,debug:e,getPopper:this.setPopper,id:`react-joyride-step-${n}`,open:this.open,placement:o.placement,target:o.target},I.createElement(lte,{beaconComponent:o.beaconComponent,continuous:t,index:n,isLastStep:n+1===s,locale:o.locale,nonce:r,onClickOrHover:this.handleClickHoverBeacon,shouldFocus:i,size:s,step:o,styles:o.styles})))}},V$=class extends I.Component{constructor(t){super(t),Me(this,"helpers"),Me(this,"store"),Me(this,"callback",o=>{const{callback:a}=this.props;Ne.function(a)&&a(o)}),Me(this,"handleKeyboard",o=>{const{index:a,lifecycle:c}=this.state,{steps:d}=this.props,h=d[a];c===Ke.TOOLTIP&&o.code==="Escape"&&h&&!h.disableCloseOnEsc&&this.store.close("keyboard")}),Me(this,"handleClickOverlay",()=>{const{index:o}=this.state,{steps:a}=this.props;ed(this.props,a[o]).disableOverlayClose||this.helpers.close("overlay")}),Me(this,"syncState",o=>{this.setState(o)});const{debug:e,getHelpers:n,run:r=!0,stepIndex:i}=t;this.store=nte({...t,controlled:r&&Ne.number(i)}),this.helpers=this.store.getHelpers();const{addListener:s}=this.store;au({title:"init",data:[{key:"props",value:this.props},{key:"state",value:this.state}],debug:e}),s(this.syncState),n&&n(this.helpers),this.state=this.store.getState()}componentDidMount(){if(!qa())return;const{debug:t,disableCloseOnEsc:e,run:n,steps:r}=this.props,{start:i}=this.store;qM(r,t)&&n&&i(),e||document.body.addEventListener("keydown",this.handleKeyboard,{passive:!0})}componentDidUpdate(t,e){if(!qa())return;const{action:n,controlled:r,index:i,status:s}=this.state,{debug:o,run:a,stepIndex:c,steps:d}=this.props,{stepIndex:h,steps:f}=t,{reset:p,setSteps:m,start:y,stop:b,update:E}=this.store,{changed:x}=q0(t,this.props),{changed:C,changedFrom:S}=q0(e,this.state),_=ed(this.props,d[i]),k=!yr(f,d),N=Ne.number(c)&&x("stepIndex"),T=Yo(_.target);if(k&&(qM(d,o)?m(d):console.warn("Steps are not valid",d)),x("run")&&(a?y(c):b()),N){let R=Ne.number(h)&&h<c?bt.NEXT:bt.PREV;n===bt.STOP&&(R=bt.START),[Ze.FINISHED,Ze.SKIPPED].includes(s)||E({action:n===bt.CLOSE?bt.CLOSE:R,index:c,lifecycle:Ke.INIT})}!r&&s===Ze.RUNNING&&i===0&&!T&&(this.store.update({index:i+1}),this.callback({...this.state,type:ii.TARGET_NOT_FOUND,step:_}));const M={...this.state,index:i,step:_};if(C("action",[bt.NEXT,bt.PREV,bt.SKIP,bt.CLOSE])&&C("status",Ze.PAUSED)){const R=ed(this.props,d[e.index]);this.callback({...M,index:e.index,lifecycle:Ke.COMPLETE,step:R,type:ii.STEP_AFTER})}if(C("status",[Ze.FINISHED,Ze.SKIPPED])){const R=ed(this.props,d[e.index]);r||this.callback({...M,index:e.index,lifecycle:Ke.COMPLETE,step:R,type:ii.STEP_AFTER}),this.callback({...M,type:ii.TOUR_END,step:R,index:e.index}),p()}else S("status",[Ze.IDLE,Ze.READY],Ze.RUNNING)?this.callback({...M,type:ii.TOUR_START}):(C("status")||C("action",bt.RESET))&&this.callback({...M,type:ii.TOUR_STATUS});this.scrollToStep(e)}componentWillUnmount(){const{disableCloseOnEsc:t}=this.props;t||document.body.removeEventListener("keydown",this.handleKeyboard)}scrollToStep(t){const{index:e,lifecycle:n,status:r}=this.state,{debug:i,disableScrollParentFix:s=!1,scrollDuration:o,scrollOffset:a=20,scrollToFirstStep:c=!1,steps:d}=this.props,h=ed(this.props,d[e]),f=Yo(h.target),p=Yee({isFirstStep:e===0,lifecycle:n,previousLifecycle:t.lifecycle,scrollToFirstStep:c,step:h,target:f});if(r===Ze.RUNNING&&p){const m=uw(f,s),y=$p(f,s);let b=Math.floor(Hee(f,a,s))||0;au({title:"scrollToStep",data:[{key:"index",value:e},{key:"lifecycle",value:n},{key:"status",value:r}],debug:i});const E=this.store.getPopper("beacon"),x=this.store.getPopper("tooltip");if(n===Ke.BEACON&&E){const{offsets:C,placement:S}=E;!["bottom"].includes(S)&&!m&&(b=Math.floor(C.popper.top-a))}else if(n===Ke.TOOLTIP&&x){const{flipped:C,offsets:S,placement:_}=x;["top","right","left"].includes(_)&&!C&&!m?b=Math.floor(S.popper.top-a):b-=h.spotlightPadding}b=b>=0?b:0,r===Ze.RUNNING&&Wee(b,{element:y,duration:o}).then(()=>{setTimeout(()=>{var C;(C=this.store.getPopper("tooltip"))==null||C.instance.update()},10)})}}render(){if(!qa())return null;const{index:t,lifecycle:e,status:n}=this.state,{continuous:r=!1,debug:i=!1,nonce:s,scrollToFirstStep:o=!1,steps:a}=this.props,c=n===Ze.RUNNING,d={};if(c&&a[t]){const h=ed(this.props,a[t]);d.step=I.createElement(pte,{...this.state,callback:this.callback,continuous:r,debug:i,helpers:this.helpers,nonce:s,shouldScroll:!h.disableScrolling&&(t!==0||o),step:h,store:this.store}),d.overlay=I.createElement(ote,{id:"react-joyride-portal"},I.createElement(ste,{...h,continuous:r,debug:i,lifecycle:e,onClickOverlay:this.handleClickOverlay}))}return I.createElement("div",{className:"react-joyride"},d.step,d.overlay)}};Me(V$,"defaultProps",Qee);var gte=V$;const mte=()=>{const t=I.useContext(ua);if(!t)throw new Error("PaperContext not found");const{isAddingNewRead:e,setIsAddingNewRead:n,createRead:r}=t,i=I.useContext(Cm);if(!i)throw new Error("TourContext not found");const{setRunTour:s,runTour:o,steps:a,stepIndex:c,setStepIndex:d}=i,[h,f]=I.useState(""),[p,m]=I.useState(null),y=()=>{if(!h){alert("Please enter a title");return}if(!p){alert("Please select a color");return}r(h,p),b()},b=()=>{f(""),m(null),n(!1)},E=C=>{var M;const{action:S,index:_,status:k,type:N,step:T}=C;[ii.STEP_AFTER,ii.TARGET_NOT_FOUND].includes(N)?(d(_+(S===bt.PREV?-1:1)),(M=T.data)!=null&&M.pause&&s(!1)):[Ze.FINISHED,Ze.SKIPPED].includes(k)&&(d(0),s(!1))},x=["#FFADAD","#FFD6A5","#FDFFB6","#CAFFBF","#9BF6FF","#A0C4FF","#BDB2FF","#FFC6FF"];return L.jsxs(Rt,{sx:{display:"flex",flexDirection:"column",width:"100vw",height:"100vh"},children:[L.jsx("div",{style:{display:"none"},children:L.jsx(gte,{continuous:!0,steps:a,run:o,callback:E,hideCloseButton:!0,disableOverlayClose:!0,stepIndex:c})}),L.jsx(Rt,{sx:{height:"8%",width:"100%",display:"flex"},children:L.jsx(oY,{})}),L.jsxs(Rt,{sx:{display:"flex",flexDirection:"row",width:"100%",height:"92%"},children:[L.jsx(Rt,{className:"panel paper-panel",children:L.jsx(bQ,{})}),L.jsx(Rt,{className:"panel graph-panel",children:L.jsx(UZ,{})})]}),L.jsxs(m7,{open:e,children:[L.jsx(T7,{children:"Create New Read"}),L.jsxs(A7,{sx:{p:3,display:"flex",flexDirection:"column",alignItems:"center"},children:[L.jsx(LE,{label:"Title",value:h,onChange:C=>f(C.target.value),style:{padding:4}}),L.jsx(Rt,{sx:{my:2,display:"flex",flexDirection:"row",alignItems:"center"},children:x.map(C=>L.jsx(Rt,{sx:{width:20,height:20,backgroundColor:C,borderRadius:4,margin:1,border:C===p?"2px solid black":"none"},onClick:()=>m(C)},C))})]}),L.jsxs(w7,{children:[L.jsx(ts,{variant:"text",color:"error",onClick:b,children:"Cancel"}),L.jsx(ts,{variant:"text",onClick:y,children:"Create"})]})]})]})};var $f={},XM;function yte(){if(XM)return $f;XM=1,Object.defineProperty($f,"__esModule",{value:!0}),$f.parse=o,$f.serialize=d;const t=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,i=Object.prototype.toString,s=(()=>{const p=function(){};return p.prototype=Object.create(null),p})();function o(p,m){const y=new s,b=p.length;if(b<2)return y;const E=(m==null?void 0:m.decode)||h;let x=0;do{const C=p.indexOf("=",x);if(C===-1)break;const S=p.indexOf(";",x),_=S===-1?b:S;if(C>_){x=p.lastIndexOf(";",C-1)+1;continue}const k=a(p,x,C),N=c(p,C,k),T=p.slice(k,N);if(y[T]===void 0){let M=a(p,C+1,_),O=c(p,_,M);const R=E(p.slice(M,O));y[T]=R}x=_+1}while(x<b);return y}function a(p,m,y){do{const b=p.charCodeAt(m);if(b!==32&&b!==9)return m}while(++m<y);return y}function c(p,m,y){for(;m>y;){const b=p.charCodeAt(--m);if(b!==32&&b!==9)return m+1}return y}function d(p,m,y){const b=(y==null?void 0:y.encode)||encodeURIComponent;if(!t.test(p))throw new TypeError(`argument name is invalid: ${p}`);const E=b(m);if(!e.test(E))throw new TypeError(`argument val is invalid: ${m}`);let x=p+"="+E;if(!y)return x;if(y.maxAge!==void 0){if(!Number.isInteger(y.maxAge))throw new TypeError(`option maxAge is invalid: ${y.maxAge}`);x+="; Max-Age="+y.maxAge}if(y.domain){if(!n.test(y.domain))throw new TypeError(`option domain is invalid: ${y.domain}`);x+="; Domain="+y.domain}if(y.path){if(!r.test(y.path))throw new TypeError(`option path is invalid: ${y.path}`);x+="; Path="+y.path}if(y.expires){if(!f(y.expires)||!Number.isFinite(y.expires.valueOf()))throw new TypeError(`option expires is invalid: ${y.expires}`);x+="; Expires="+y.expires.toUTCString()}if(y.httpOnly&&(x+="; HttpOnly"),y.secure&&(x+="; Secure"),y.partitioned&&(x+="; Partitioned"),y.priority)switch(typeof y.priority=="string"?y.priority.toLowerCase():void 0){case"low":x+="; Priority=Low";break;case"medium":x+="; Priority=Medium";break;case"high":x+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${y.priority}`)}if(y.sameSite)switch(typeof y.sameSite=="string"?y.sameSite.toLowerCase():y.sameSite){case!0:case"strict":x+="; SameSite=Strict";break;case"lax":x+="; SameSite=Lax";break;case"none":x+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${y.sameSite}`)}return x}function h(p){if(p.indexOf("%")===-1)return p;try{return decodeURIComponent(p)}catch{return p}}function f(p){return i.call(p)==="[object Date]"}return $f}yte();/**
 * react-router v7.4.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var KM="popstate";function vte(t={}){function e(i,s){let{pathname:o="/",search:a="",hash:c=""}=mu(i.location.hash.substring(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),o_("",{pathname:o,search:a,hash:c},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(i,s){let o=i.document.querySelector("base"),a="";if(o&&o.getAttribute("href")){let c=i.location.href,d=c.indexOf("#");a=d===-1?c:c.slice(0,d)}return a+"#"+(typeof s=="string"?s:zp(s))}function r(i,s){os(i.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(s)})`)}return wte(e,n,r,t)}function en(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function os(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function bte(){return Math.random().toString(36).substring(2,10)}function QM(t,e){return{usr:t.state,key:t.key,idx:e}}function o_(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?mu(e):e,state:n,key:e&&e.key||r||bte()}}function zp({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function mu(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function wte(t,e,n,r={}){let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a="POP",c=null,d=h();d==null&&(d=0,o.replaceState({...o.state,idx:d},""));function h(){return(o.state||{idx:null}).idx}function f(){a="POP";let E=h(),x=E==null?null:E-d;d=E,c&&c({action:a,location:b.location,delta:x})}function p(E,x){a="PUSH";let C=o_(b.location,E,x);n&&n(C,E),d=h()+1;let S=QM(C,d),_=b.createHref(C);try{o.pushState(S,"",_)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;i.location.assign(_)}s&&c&&c({action:a,location:b.location,delta:1})}function m(E,x){a="REPLACE";let C=o_(b.location,E,x);n&&n(C,E),d=h();let S=QM(C,d),_=b.createHref(C);o.replaceState(S,"",_),s&&c&&c({action:a,location:b.location,delta:0})}function y(E){let x=i.location.origin!=="null"?i.location.origin:i.location.href,C=typeof E=="string"?E:zp(E);return C=C.replace(/ $/,"%20"),en(x,`No window.location.(origin|href) available to create URL for href: ${C}`),new URL(C,x)}let b={get action(){return a},get location(){return t(i,o)},listen(E){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(KM,f),c=E,()=>{i.removeEventListener(KM,f),c=null}},createHref(E){return e(i,E)},createURL:y,encodeLocation(E){let x=y(E);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:p,replace:m,go(E){return o.go(E)}};return b}function G$(t,e,n="/"){return xte(t,e,n,!1)}function xte(t,e,n,r){let i=typeof e=="string"?mu(e):e,s=oa(i.pathname||"/",n);if(s==null)return null;let o=q$(t);Ste(o);let a=null;for(let c=0;a==null&&c<o.length;++c){let d=Mte(s);a=Ite(o[c],d,r)}return a}function q$(t,e=[],n=[],r=""){let i=(s,o,a)=>{let c={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};c.relativePath.startsWith("/")&&(en(c.relativePath.startsWith(r),`Absolute route path "${c.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),c.relativePath=c.relativePath.slice(r.length));let d=Jo([r,c.relativePath]),h=n.concat(c);s.children&&s.children.length>0&&(en(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${d}".`),q$(s.children,e,h,d)),!(s.path==null&&!s.index)&&e.push({path:d,score:Tte(d,s.index),routesMeta:h})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let c of Y$(s.path))i(s,o,c)}),e}function Y$(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=Y$(r.join("/")),a=[];return a.push(...o.map(c=>c===""?s:[s,c].join("/"))),i&&a.push(...o),a.map(c=>t.startsWith("/")&&c===""?"/":c)}function Ste(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:Pte(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var Ete=/^:[\w-]+$/,Cte=3,_te=2,Ate=1,kte=10,Rte=-2,ZM=t=>t==="*";function Tte(t,e){let n=t.split("/"),r=n.length;return n.some(ZM)&&(r+=Rte),e&&(r+=_te),n.filter(i=>!ZM(i)).reduce((i,s)=>i+(Ete.test(s)?Cte:s===""?Ate:kte),r)}function Pte(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function Ite(t,e,n=!1){let{routesMeta:r}=t,i={},s="/",o=[];for(let a=0;a<r.length;++a){let c=r[a],d=a===r.length-1,h=s==="/"?e:e.slice(s.length)||"/",f=Q0({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},h),p=c.route;if(!f&&d&&n&&!r[r.length-1].route.index&&(f=Q0({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},h)),!f)return null;Object.assign(i,f.params),o.push({params:i,pathname:Jo([s,f.pathname]),pathnameBase:Fte(Jo([s,f.pathnameBase])),route:p}),f.pathnameBase!=="/"&&(s=Jo([s,f.pathnameBase]))}return o}function Q0(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=Nte(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((d,{paramName:h,isOptional:f},p)=>{if(h==="*"){let y=a[p]||"";o=s.slice(0,s.length-y.length).replace(/(.)\/+$/,"$1")}const m=a[p];return f&&!m?d[h]=void 0:d[h]=(m||"").replace(/%2F/g,"/"),d},{}),pathname:s,pathnameBase:o,pattern:t}}function Nte(t,e=!1,n=!0){os(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,c)=>(r.push({paramName:a,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function Mte(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return os(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function oa(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function Ote(t,e="/"){let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?mu(t):t;return{pathname:n?n.startsWith("/")?n:Lte(n,e):e,search:$te(r),hash:zte(i)}}function Lte(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function X1(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Dte(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function X$(t){let e=Dte(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function K$(t,e,n,r=!1){let i;typeof t=="string"?i=mu(t):(i={...t},en(!i.pathname||!i.pathname.includes("?"),X1("?","pathname","search",i)),en(!i.pathname||!i.pathname.includes("#"),X1("#","pathname","hash",i)),en(!i.search||!i.search.includes("#"),X1("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let f=e.length-1;if(!r&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),f-=1;i.pathname=p.join("/")}a=f>=0?e[f]:"/"}let c=Ote(i,a),d=o&&o!=="/"&&o.endsWith("/"),h=(s||o===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(d||h)&&(c.pathname+="/"),c}var Jo=t=>t.join("/").replace(/\/\/+/g,"/"),Fte=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),$te=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,zte=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function jte(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var Q$=["POST","PUT","PATCH","DELETE"];new Set(Q$);var Bte=["GET",...Q$];new Set(Bte);var Nh=I.createContext(null);Nh.displayName="DataRouter";var dw=I.createContext(null);dw.displayName="DataRouterState";var Z$=I.createContext({isTransitioning:!1});Z$.displayName="ViewTransition";var Hte=I.createContext(new Map);Hte.displayName="Fetchers";var Wte=I.createContext(null);Wte.displayName="Await";var to=I.createContext(null);to.displayName="Navigation";var Vm=I.createContext(null);Vm.displayName="Location";var da=I.createContext({outlet:null,matches:[],isDataRoute:!1});da.displayName="Route";var xA=I.createContext(null);xA.displayName="RouteError";function Ute(t,{relative:e}={}){en(Gm(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=I.useContext(to),{hash:i,pathname:s,search:o}=qm(t,{relative:e}),a=s;return n!=="/"&&(a=s==="/"?n:Jo([n,s])),r.createHref({pathname:a,search:o,hash:i})}function Gm(){return I.useContext(Vm)!=null}function yu(){return en(Gm(),"useLocation() may be used only in the context of a <Router> component."),I.useContext(Vm).location}var J$="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function e5(t){I.useContext(to).static||I.useLayoutEffect(t)}function Vte(){let{isDataRoute:t}=I.useContext(da);return t?ine():Gte()}function Gte(){en(Gm(),"useNavigate() may be used only in the context of a <Router> component.");let t=I.useContext(Nh),{basename:e,navigator:n}=I.useContext(to),{matches:r}=I.useContext(da),{pathname:i}=yu(),s=JSON.stringify(X$(r)),o=I.useRef(!1);return e5(()=>{o.current=!0}),I.useCallback((c,d={})=>{if(os(o.current,J$),!o.current)return;if(typeof c=="number"){n.go(c);return}let h=K$(c,JSON.parse(s),i,d.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:Jo([e,h.pathname])),(d.replace?n.replace:n.push)(h,d.state,d)},[e,n,s,i,t])}I.createContext(null);function qm(t,{relative:e}={}){let{matches:n}=I.useContext(da),{pathname:r}=yu(),i=JSON.stringify(X$(n));return I.useMemo(()=>K$(t,JSON.parse(i),r,e==="path"),[t,i,r,e])}function qte(t,e){return t5(t,e)}function t5(t,e,n,r){var C;en(Gm(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i,static:s}=I.useContext(to),{matches:o}=I.useContext(da),a=o[o.length-1],c=a?a.params:{},d=a?a.pathname:"/",h=a?a.pathnameBase:"/",f=a&&a.route;{let S=f&&f.path||"";n5(d,!f||S.endsWith("*")||S.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${S}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${S}"> to <Route path="${S==="/"?"*":`${S}/*`}">.`)}let p=yu(),m;if(e){let S=typeof e=="string"?mu(e):e;en(h==="/"||((C=S.pathname)==null?void 0:C.startsWith(h)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${h}" but pathname "${S.pathname}" was given in the \`location\` prop.`),m=S}else m=p;let y=m.pathname||"/",b=y;if(h!=="/"){let S=h.replace(/^\//,"").split("/");b="/"+y.replace(/^\//,"").split("/").slice(S.length).join("/")}let E=!s&&n&&n.matches&&n.matches.length>0?n.matches:G$(t,{pathname:b});os(f||E!=null,`No routes matched location "${m.pathname}${m.search}${m.hash}" `),os(E==null||E[E.length-1].route.element!==void 0||E[E.length-1].route.Component!==void 0||E[E.length-1].route.lazy!==void 0,`Matched leaf route at location "${m.pathname}${m.search}${m.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let x=Zte(E&&E.map(S=>Object.assign({},S,{params:Object.assign({},c,S.params),pathname:Jo([h,i.encodeLocation?i.encodeLocation(S.pathname).pathname:S.pathname]),pathnameBase:S.pathnameBase==="/"?h:Jo([h,i.encodeLocation?i.encodeLocation(S.pathnameBase).pathname:S.pathnameBase])})),o,n,r);return e&&x?I.createElement(Vm.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...m},navigationType:"POP"}},x):x}function Yte(){let t=rne(),e=jte(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},s={padding:"2px 4px",backgroundColor:r},o=null;return console.error("Error handled by React Router default ErrorBoundary:",t),o=I.createElement(I.Fragment,null,I.createElement("p",null," Hey developer "),I.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",I.createElement("code",{style:s},"ErrorBoundary")," or"," ",I.createElement("code",{style:s},"errorElement")," prop on your route.")),I.createElement(I.Fragment,null,I.createElement("h2",null,"Unexpected Application Error!"),I.createElement("h3",{style:{fontStyle:"italic"}},e),n?I.createElement("pre",{style:i},n):null,o)}var Xte=I.createElement(Yte,null),Kte=class extends I.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?I.createElement(da.Provider,{value:this.props.routeContext},I.createElement(xA.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Qte({routeContext:t,match:e,children:n}){let r=I.useContext(Nh);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),I.createElement(da.Provider,{value:t},n)}function Zte(t,e=[],n=null,r=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let i=t,s=n==null?void 0:n.errors;if(s!=null){let c=i.findIndex(d=>d.route.id&&(s==null?void 0:s[d.route.id])!==void 0);en(c>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),i=i.slice(0,Math.min(i.length,c+1))}let o=!1,a=-1;if(n)for(let c=0;c<i.length;c++){let d=i[c];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(a=c),d.route.id){let{loaderData:h,errors:f}=n,p=d.route.loader&&!h.hasOwnProperty(d.route.id)&&(!f||f[d.route.id]===void 0);if(d.route.lazy||p){o=!0,a>=0?i=i.slice(0,a+1):i=[i[0]];break}}}return i.reduceRight((c,d,h)=>{let f,p=!1,m=null,y=null;n&&(f=s&&d.route.id?s[d.route.id]:void 0,m=d.route.errorElement||Xte,o&&(a<0&&h===0?(n5("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),p=!0,y=null):a===h&&(p=!0,y=d.route.hydrateFallbackElement||null)));let b=e.concat(i.slice(0,h+1)),E=()=>{let x;return f?x=m:p?x=y:d.route.Component?x=I.createElement(d.route.Component,null):d.route.element?x=d.route.element:x=c,I.createElement(Qte,{match:d,routeContext:{outlet:c,matches:b,isDataRoute:n!=null},children:x})};return n&&(d.route.ErrorBoundary||d.route.errorElement||h===0)?I.createElement(Kte,{location:n.location,revalidation:n.revalidation,component:m,error:f,children:E(),routeContext:{outlet:null,matches:b,isDataRoute:!0}}):E()},null)}function SA(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Jte(t){let e=I.useContext(Nh);return en(e,SA(t)),e}function ene(t){let e=I.useContext(dw);return en(e,SA(t)),e}function tne(t){let e=I.useContext(da);return en(e,SA(t)),e}function EA(t){let e=tne(t),n=e.matches[e.matches.length-1];return en(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function nne(){return EA("useRouteId")}function rne(){var r;let t=I.useContext(xA),e=ene("useRouteError"),n=EA("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function ine(){let{router:t}=Jte("useNavigate"),e=EA("useNavigate"),n=I.useRef(!1);return e5(()=>{n.current=!0}),I.useCallback(async(i,s={})=>{os(n.current,J$),n.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:e,...s}))},[t,e])}var JM={};function n5(t,e,n){!e&&!JM[t]&&(JM[t]=!0,os(!1,n))}I.memo(sne);function sne({routes:t,future:e,state:n}){return t5(t,void 0,n,e)}function a_(t){en(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function one({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:i,static:s=!1}){en(!Gm(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=t.replace(/^\/*/,"/"),a=I.useMemo(()=>({basename:o,navigator:i,static:s,future:{}}),[o,i,s]);typeof n=="string"&&(n=mu(n));let{pathname:c="/",search:d="",hash:h="",state:f=null,key:p="default"}=n,m=I.useMemo(()=>{let y=oa(c,o);return y==null?null:{location:{pathname:y,search:d,hash:h,state:f,key:p},navigationType:r}},[o,c,d,h,f,p,r]);return os(m!=null,`<Router basename="${o}"> is not able to match the URL "${c}${d}${h}" because it does not start with the basename, so the <Router> won't render anything.`),m==null?null:I.createElement(to.Provider,{value:a},I.createElement(Vm.Provider,{children:e,value:m}))}function ane({children:t,location:e}){return qte(l_(t),e)}function l_(t,e=[]){let n=[];return I.Children.forEach(t,(r,i)=>{if(!I.isValidElement(r))return;let s=[...e,i];if(r.type===I.Fragment){n.push.apply(n,l_(r.props.children,s));return}en(r.type===a_,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),en(!r.props.index||!r.props.children,"An index route cannot have child routes.");let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=l_(r.props.children,s)),n.push(o)}),n}var b0="get",w0="application/x-www-form-urlencoded";function hw(t){return t!=null&&typeof t.tagName=="string"}function lne(t){return hw(t)&&t.tagName.toLowerCase()==="button"}function cne(t){return hw(t)&&t.tagName.toLowerCase()==="form"}function une(t){return hw(t)&&t.tagName.toLowerCase()==="input"}function dne(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function hne(t,e){return t.button===0&&(!e||e==="_self")&&!dne(t)}var Lv=null;function fne(){if(Lv===null)try{new FormData(document.createElement("form"),0),Lv=!1}catch{Lv=!0}return Lv}var pne=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function K1(t){return t!=null&&!pne.has(t)?(os(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${w0}"`),null):t}function gne(t,e){let n,r,i,s,o;if(cne(t)){let a=t.getAttribute("action");r=a?oa(a,e):null,n=t.getAttribute("method")||b0,i=K1(t.getAttribute("enctype"))||w0,s=new FormData(t)}else if(lne(t)||une(t)&&(t.type==="submit"||t.type==="image")){let a=t.form;if(a==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=t.getAttribute("formaction")||a.getAttribute("action");if(r=c?oa(c,e):null,n=t.getAttribute("formmethod")||a.getAttribute("method")||b0,i=K1(t.getAttribute("formenctype"))||K1(a.getAttribute("enctype"))||w0,s=new FormData(a,t),!fne()){let{name:d,type:h,value:f}=t;if(h==="image"){let p=d?`${d}.`:"";s.append(`${p}x`,"0"),s.append(`${p}y`,"0")}else d&&s.append(d,f)}}else{if(hw(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=b0,r=null,i=w0,o=t}return s&&i==="text/plain"&&(o=s,s=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:s,body:o}}function CA(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function mne(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function yne(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function vne(t,e,n){let r=await Promise.all(t.map(async i=>{let s=e.routes[i.route.id];if(s){let o=await mne(s,n);return o.links?o.links():[]}return[]}));return Sne(r.flat(1).filter(yne).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function eO(t,e,n,r,i,s){let o=(c,d)=>n[d]?c.route.id!==n[d].route.id:!0,a=(c,d)=>{var h;return n[d].pathname!==c.pathname||((h=n[d].route.path)==null?void 0:h.endsWith("*"))&&n[d].params["*"]!==c.params["*"]};return s==="assets"?e.filter((c,d)=>o(c,d)||a(c,d)):s==="data"?e.filter((c,d)=>{var f;let h=r.routes[c.route.id];if(!h||!h.hasLoader)return!1;if(o(c,d)||a(c,d))return!0;if(c.route.shouldRevalidate){let p=c.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((f=n[0])==null?void 0:f.params)||{},nextUrl:new URL(t,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof p=="boolean")return p}return!0}):[]}function bne(t,e,{includeHydrateFallback:n}={}){return wne(t.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let s=[i.module];return i.clientActionModule&&(s=s.concat(i.clientActionModule)),i.clientLoaderModule&&(s=s.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(s=s.concat(i.hydrateFallbackModule)),i.imports&&(s=s.concat(i.imports)),s}).flat(1))}function wne(t){return[...new Set(t)]}function xne(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function Sne(t,e){let n=new Set;return new Set(e),t.reduce((r,i)=>{let s=JSON.stringify(xne(i));return n.has(s)||(n.add(s),r.push({key:s,link:i})),r},[])}function Ene(t,e){let n=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n.pathname==="/"?n.pathname="_root.data":e&&oa(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function r5(){let t=I.useContext(Nh);return CA(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function Cne(){let t=I.useContext(dw);return CA(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var _A=I.createContext(void 0);_A.displayName="FrameworkContext";function i5(){let t=I.useContext(_A);return CA(t,"You must render this element inside a <HydratedRouter> element"),t}function _ne(t,e){let n=I.useContext(_A),[r,i]=I.useState(!1),[s,o]=I.useState(!1),{onFocus:a,onBlur:c,onMouseEnter:d,onMouseLeave:h,onTouchStart:f}=e,p=I.useRef(null);I.useEffect(()=>{if(t==="render"&&o(!0),t==="viewport"){let b=x=>{x.forEach(C=>{o(C.isIntersecting)})},E=new IntersectionObserver(b,{threshold:.5});return p.current&&E.observe(p.current),()=>{E.disconnect()}}},[t]),I.useEffect(()=>{if(r){let b=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(b)}}},[r]);let m=()=>{i(!0)},y=()=>{i(!1),o(!1)};return n?t!=="intent"?[s,p,{}]:[s,p,{onFocus:zf(a,m),onBlur:zf(c,y),onMouseEnter:zf(d,m),onMouseLeave:zf(h,y),onTouchStart:zf(f,m)}]:[!1,p,{}]}function zf(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function Ane({page:t,...e}){let{router:n}=r5(),r=I.useMemo(()=>G$(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?I.createElement(Rne,{page:t,matches:r,...e}):null}function kne(t){let{manifest:e,routeModules:n}=i5(),[r,i]=I.useState([]);return I.useEffect(()=>{let s=!1;return vne(t,e,n).then(o=>{s||i(o)}),()=>{s=!0}},[t,e,n]),r}function Rne({page:t,matches:e,...n}){let r=yu(),{manifest:i,routeModules:s}=i5(),{basename:o}=r5(),{loaderData:a,matches:c}=Cne(),d=I.useMemo(()=>eO(t,e,c,i,r,"data"),[t,e,c,i,r]),h=I.useMemo(()=>eO(t,e,c,i,r,"assets"),[t,e,c,i,r]),f=I.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let y=new Set,b=!1;if(e.forEach(x=>{var S;let C=i.routes[x.route.id];!C||!C.hasLoader||(!d.some(_=>_.route.id===x.route.id)&&x.route.id in a&&((S=s[x.route.id])!=null&&S.shouldRevalidate)||C.hasClientLoader?b=!0:y.add(x.route.id))}),y.size===0)return[];let E=Ene(t,o);return b&&y.size>0&&E.searchParams.set("_routes",e.filter(x=>y.has(x.route.id)).map(x=>x.route.id).join(",")),[E.pathname+E.search]},[o,a,r,i,d,e,t,s]),p=I.useMemo(()=>bne(h,i),[h,i]),m=kne(h);return I.createElement(I.Fragment,null,f.map(y=>I.createElement("link",{key:y,rel:"prefetch",as:"fetch",href:y,...n})),p.map(y=>I.createElement("link",{key:y,rel:"modulepreload",href:y,...n})),m.map(({key:y,link:b})=>I.createElement("link",{key:y,...b})))}function Tne(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var s5=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{s5&&(window.__reactRouterVersion="7.4.0")}catch{}function Pne({basename:t,children:e,window:n}){let r=I.useRef();r.current==null&&(r.current=vte({window:n,v5Compat:!0}));let i=r.current,[s,o]=I.useState({action:i.action,location:i.location}),a=I.useCallback(c=>{I.startTransition(()=>o(c))},[o]);return I.useLayoutEffect(()=>i.listen(a),[i,a]),I.createElement(one,{basename:t,children:e,location:s.location,navigationType:s.action,navigator:i})}var o5=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,a5=I.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:i,reloadDocument:s,replace:o,state:a,target:c,to:d,preventScrollReset:h,viewTransition:f,...p},m){let{basename:y}=I.useContext(to),b=typeof d=="string"&&o5.test(d),E,x=!1;if(typeof d=="string"&&b&&(E=d,s5))try{let O=new URL(window.location.href),R=d.startsWith("//")?new URL(O.protocol+d):new URL(d),F=oa(R.pathname,y);R.origin===O.origin&&F!=null?d=F+R.search+R.hash:x=!0}catch{os(!1,`<Link to="${d}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let C=Ute(d,{relative:i}),[S,_,k]=_ne(r,p),N=One(d,{replace:o,state:a,target:c,preventScrollReset:h,relative:i,viewTransition:f});function T(O){e&&e(O),O.defaultPrevented||N(O)}let M=I.createElement("a",{...p,...k,href:E||C,onClick:x||s?e:T,ref:Tne(m,_),target:c,"data-discover":!b&&n==="render"?"true":void 0});return S&&!b?I.createElement(I.Fragment,null,M,I.createElement(Ane,{page:C})):M});a5.displayName="Link";var Ine=I.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:i=!1,style:s,to:o,viewTransition:a,children:c,...d},h){let f=qm(o,{relative:d.relative}),p=yu(),m=I.useContext(dw),{navigator:y,basename:b}=I.useContext(to),E=m!=null&&zne(f)&&a===!0,x=y.encodeLocation?y.encodeLocation(f).pathname:f.pathname,C=p.pathname,S=m&&m.navigation&&m.navigation.location?m.navigation.location.pathname:null;n||(C=C.toLowerCase(),S=S?S.toLowerCase():null,x=x.toLowerCase()),S&&b&&(S=oa(S,b)||S);const _=x!=="/"&&x.endsWith("/")?x.length-1:x.length;let k=C===x||!i&&C.startsWith(x)&&C.charAt(_)==="/",N=S!=null&&(S===x||!i&&S.startsWith(x)&&S.charAt(x.length)==="/"),T={isActive:k,isPending:N,isTransitioning:E},M=k?e:void 0,O;typeof r=="function"?O=r(T):O=[r,k?"active":null,N?"pending":null,E?"transitioning":null].filter(Boolean).join(" ");let R=typeof s=="function"?s(T):s;return I.createElement(a5,{...d,"aria-current":M,className:O,ref:h,style:R,to:o,viewTransition:a},typeof c=="function"?c(T):c)});Ine.displayName="NavLink";var Nne=I.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:i,state:s,method:o=b0,action:a,onSubmit:c,relative:d,preventScrollReset:h,viewTransition:f,...p},m)=>{let y=Fne(),b=$ne(a,{relative:d}),E=o.toLowerCase()==="get"?"get":"post",x=typeof a=="string"&&o5.test(a),C=S=>{if(c&&c(S),S.defaultPrevented)return;S.preventDefault();let _=S.nativeEvent.submitter,k=(_==null?void 0:_.getAttribute("formmethod"))||o;y(_||S.currentTarget,{fetcherKey:e,method:k,navigate:n,replace:i,state:s,relative:d,preventScrollReset:h,viewTransition:f})};return I.createElement("form",{ref:m,method:E,action:b,onSubmit:r?c:C,...p,"data-discover":!x&&t==="render"?"true":void 0})});Nne.displayName="Form";function Mne(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function l5(t){let e=I.useContext(Nh);return en(e,Mne(t)),e}function One(t,{target:e,replace:n,state:r,preventScrollReset:i,relative:s,viewTransition:o}={}){let a=Vte(),c=yu(),d=qm(t,{relative:s});return I.useCallback(h=>{if(hne(h,e)){h.preventDefault();let f=n!==void 0?n:zp(c)===zp(d);a(t,{replace:f,state:r,preventScrollReset:i,relative:s,viewTransition:o})}},[c,a,d,n,r,e,t,i,s,o])}var Lne=0,Dne=()=>`__${String(++Lne)}__`;function Fne(){let{router:t}=l5("useSubmit"),{basename:e}=I.useContext(to),n=nne();return I.useCallback(async(r,i={})=>{let{action:s,method:o,encType:a,formData:c,body:d}=gne(r,e);if(i.navigate===!1){let h=i.fetcherKey||Dne();await t.fetch(h,n,i.action||s,{preventScrollReset:i.preventScrollReset,formData:c,body:d,formMethod:i.method||o,formEncType:i.encType||a,flushSync:i.flushSync})}else await t.navigate(i.action||s,{preventScrollReset:i.preventScrollReset,formData:c,body:d,formMethod:i.method||o,formEncType:i.encType||a,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,e,n])}function $ne(t,{relative:e}={}){let{basename:n}=I.useContext(to),r=I.useContext(da);en(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),s={...qm(t||".",{relative:e})},o=yu();if(t==null){s.search=o.search;let a=new URLSearchParams(s.search),c=a.getAll("index");if(c.some(h=>h==="")){a.delete("index"),c.filter(f=>f).forEach(f=>a.append("index",f));let h=a.toString();s.search=h?`?${h}`:""}}return(!t||t===".")&&i.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(s.pathname=s.pathname==="/"?n:Jo([n,s.pathname])),zp(s)}function zne(t,e={}){let n=I.useContext(Z$);en(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=l5("useViewTransitionState"),i=qm(t,{relative:e.relative});if(!n.isTransitioning)return!1;let s=oa(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=oa(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Q0(i.pathname,o)!=null||Q0(i.pathname,s)!=null}new TextEncoder;const jne="/re-ad/re-ad-icon.svg",Bne="/re-ad/poster.png",Hne=()=>{const t="Bridging Knowledge Gaps Between Cognitive Goals Across Multiple Readings Of Academic Papers",e=[{name:"Brian Roysar",email:"brianroysar@ucla.edu",affiliation:"University of California, Los Angeles"},{name:"Michael Shi",email:"michaelshi@g.ucla.edu",affiliation:"University of California, Los Angeles"},{name:"Ollie Pai",email:"o.pai@ucla.edu",affiliation:"University of California, Los Angeles"},{name:"Yuwei Xiao",email:"yuweix@ucla.edu",affiliation:"University of California, Los Angeles"}],n="Reading academic papers is a fundamental yet challenging task for students and researchers.    Beyond text, papers are dense with data, figures, and statistical analyses, requiring readers to extract key insights, synthesize information, and assess evidence across multiple formats.    Researchers must also navigate shifting cognitive goals, switching between different reading strategies based on their evolving needs.    Moreover, retaining and organizing insights over time remains a persistent challenge, often leading to redundant work and lost understanding upon revisiting papers.    While various reading strategies and digital tools exist, they often fail to comprehensively support researchers in managing their reading process and structuring their acquired knowledge.    To address these gaps, we propose re:ad, an interactive reading system designed to help researchers track their reading process, manage cognitive goals, and systematically organize insights.    By providing a structured and dynamic approach to reading, re:ad aims to reduce cognitive overload and enhance the efficiency of engaging with academic literature.",r=[{name:"GitHub",url:"https://github.com/olliepai/re-ad"},{name:"Blog",url:"https://medium.com/@xshaw2002/user-research-blog-augment-data-intensive-reading-d3fd5546ad55"},{name:"Try re:ad",url:"./#/paper-reader"}];return L.jsxs(Rt,{className:"home",children:[L.jsxs(Rt,{className:"title-block",sx:{p:2,gap:3},children:[L.jsx("img",{src:U2,alt:"logo",style:{width:"300px"}}),L.jsx(gr,{variant:"h3",sx:{textAlign:"center",fontWeight:"bold"},children:t})]}),L.jsx(Rt,{className:"authors-block",children:e.map(i=>L.jsxs(Rt,{className:"author-box",children:[L.jsxs(gr,{variant:"h6",children:[i.name,L.jsx("sup",{children:"*"})]}),L.jsx(gr,{variant:"body1",children:i.email})]},i.name))}),L.jsxs(Rt,{className:"information-block",children:[L.jsx(gr,{variant:"h6",children:Array.from(new Set(e.map(i=>i.affiliation))).join(", ")}),L.jsxs(gr,{variant:"body2",children:[L.jsx("sup",{children:"*"}),"Indicates Equal Contribution"]}),L.jsx(gr,{variant:"body1"})]}),L.jsxs(Rt,{className:"links-block",sx:{my:2},children:[L.jsx(ts,{className:"link-button",variant:"contained",onClick:()=>window.open(r[0].url,"_blank"),startIcon:L.jsx(rY,{}),children:"Code"}),L.jsx(ts,{className:"link-button",variant:"contained",onClick:()=>window.open(r[1].url,"_blank"),startIcon:L.jsx(eY,{}),children:"Blog"}),L.jsx(ts,{className:"link-button",variant:"contained",onClick:()=>window.open(r[2].url,"_blank"),startIcon:L.jsx("img",{src:jne,style:{width:"20px",height:"20px"}}),children:"Try re:ad"})]}),L.jsxs(Rt,{className:"description-block",sx:{my:2},children:[L.jsx(gr,{variant:"h4",children:"Abstract"}),L.jsx(gr,{variant:"body1",children:n})]}),L.jsxs(Rt,{className:"poster-block",sx:{my:2},children:[L.jsx(gr,{variant:"h4",children:"Poster"}),L.jsx("img",{className:"poster-image",src:Bne,alt:"poster"})]})]})};function Wne(){return I.useEffect(()=>{window.sessionStorage.clear()},[]),L.jsx(VW,{children:L.jsx(GW,{children:L.jsx(Pne,{children:L.jsxs(ane,{children:[L.jsx(a_,{path:"/",element:L.jsx(Hne,{})}),L.jsx(a_,{path:"/paper-reader",element:L.jsx(mte,{})})]})})})})}nO.createRoot(document.getElementById("root")).render(L.jsx(I.StrictMode,{children:L.jsx(Wne,{})}));
